var YA=Object.defineProperty;var r=(e,t)=>YA(e,"name",{value:t,configurable:!0});function kA(e,t){for(var s=0;s<t.length;s++){const h=t[s];if(typeof h!="string"&&!Array.isArray(h)){for(const S in h)if(S!=="default"&&!(S in e)){const E=Object.getOwnPropertyDescriptor(h,S);E&&Object.defineProperty(e,S,E.get?E:{enumerable:!0,get:r(()=>h[S],"get")})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}r(kA,"_mergeNamespaces");r(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const S of document.querySelectorAll('link[rel="modulepreload"]'))h(S);new MutationObserver(S=>{for(const E of S)if(E.type==="childList")for(const n of E.addedNodes)n.tagName==="LINK"&&n.rel==="modulepreload"&&h(n)}).observe(document,{childList:!0,subtree:!0});function s(S){const E={};return S.integrity&&(E.integrity=S.integrity),S.referrerPolicy&&(E.referrerPolicy=S.referrerPolicy),S.crossOrigin==="use-credentials"?E.credentials="include":S.crossOrigin==="anonymous"?E.credentials="omit":E.credentials="same-origin",E}r(s,"getFetchOpts");function h(S){if(S.ep)return;S.ep=!0;const E=s(S);fetch(S.href,E)}r(h,"processPreload")},"polyfill")();const HA="modulepreload",XA=r(function(e){return"/"+e},"assetsURL"),$y={},Ky=r(function(t,s,h){let S=Promise.resolve();if(s&&s.length>0){document.getElementsByTagName("link");const E=document.querySelector("meta[property=csp-nonce]"),n=(E==null?void 0:E.nonce)||(E==null?void 0:E.getAttribute("nonce"));S=Promise.all(s.map(T=>{if(T=XA(T),T in $y)return;$y[T]=!0;const i=T.endsWith(".css"),f=i?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${T}"]${f}`))return;const y=document.createElement("link");if(y.rel=i?"stylesheet":HA,i||(y.as="script",y.crossOrigin=""),y.href=T,n&&y.setAttribute("nonce",n),document.head.appendChild(y),i)return new Promise((c,o)=>{y.addEventListener("load",c),y.addEventListener("error",()=>o(new Error(`Unable to preload CSS for ${T}`)))})}))}return S.then(()=>t()).catch(E=>{const n=new Event("vite:preloadError",{cancelable:!0});if(n.payload=E,window.dispatchEvent(n),!n.defaultPrevented)throw E})},"preload");var bi=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Od(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}r(Od,"getDefaultExportFromCjs");function NZ(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var s=r(function h(){return this instanceof h?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)},"a");s.prototype=t.prototype}else s={};return Object.defineProperty(s,"__esModule",{value:!0}),Object.keys(e).forEach(function(h){var S=Object.getOwnPropertyDescriptor(e,h);Object.defineProperty(s,h,S.get?S:{enumerable:!0,get:r(function(){return e[h]},"get")})}),s}r(NZ,"getAugmentedNamespace");var vE={exports:{}};(function(e,t){r(function(h,S){e.exports=S()},"webpackUniversalModuleDefinition")(bi,()=>(()=>{var s={50792:n=>{var T=Object.prototype.hasOwnProperty,i="~";function f(){}r(f,"Events"),Object.create&&(f.prototype=Object.create(null),new f().__proto__||(i=!1));function y(a,u,v){this.fn=a,this.context=u,this.once=v||!1}r(y,"EE");function c(a,u,v,d,p){if(typeof v!="function")throw new TypeError("The listener must be a function");var g=new y(v,d||a,p),m=i?i+u:u;return a._events[m]?a._events[m].fn?a._events[m]=[a._events[m],g]:a._events[m].push(g):(a._events[m]=g,a._eventsCount++),a}r(c,"addListener");function o(a,u){--a._eventsCount===0?a._events=new f:delete a._events[u]}r(o,"clearEvent");function l(){this._events=new f,this._eventsCount=0}r(l,"EventEmitter"),l.prototype.eventNames=r(function(){var u=[],v,d;if(this._eventsCount===0)return u;for(d in v=this._events)T.call(v,d)&&u.push(i?d.slice(1):d);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(v)):u},"eventNames"),l.prototype.listeners=r(function(u){var v=i?i+u:u,d=this._events[v];if(!d)return[];if(d.fn)return[d.fn];for(var p=0,g=d.length,m=new Array(g);p<g;p++)m[p]=d[p].fn;return m},"listeners"),l.prototype.listenerCount=r(function(u){var v=i?i+u:u,d=this._events[v];return d?d.fn?1:d.length:0},"listenerCount"),l.prototype.emit=r(function(u,v,d,p,g,m){var x=i?i+u:u;if(!this._events[x])return!1;var C=this._events[x],P=arguments.length,A,R;if(C.fn){switch(C.once&&this.removeListener(u,C.fn,void 0,!0),P){case 1:return C.fn.call(C.context),!0;case 2:return C.fn.call(C.context,v),!0;case 3:return C.fn.call(C.context,v,d),!0;case 4:return C.fn.call(C.context,v,d,p),!0;case 5:return C.fn.call(C.context,v,d,p,g),!0;case 6:return C.fn.call(C.context,v,d,p,g,m),!0}for(R=1,A=new Array(P-1);R<P;R++)A[R-1]=arguments[R];C.fn.apply(C.context,A)}else{var L=C.length,O;for(R=0;R<L;R++)switch(C[R].once&&this.removeListener(u,C[R].fn,void 0,!0),P){case 1:C[R].fn.call(C[R].context);break;case 2:C[R].fn.call(C[R].context,v);break;case 3:C[R].fn.call(C[R].context,v,d);break;case 4:C[R].fn.call(C[R].context,v,d,p);break;default:if(!A)for(O=1,A=new Array(P-1);O<P;O++)A[O-1]=arguments[O];C[R].fn.apply(C[R].context,A)}}return!0},"emit"),l.prototype.on=r(function(u,v,d){return c(this,u,v,d,!1)},"on"),l.prototype.once=r(function(u,v,d){return c(this,u,v,d,!0)},"once"),l.prototype.removeListener=r(function(u,v,d,p){var g=i?i+u:u;if(!this._events[g])return this;if(!v)return o(this,g),this;var m=this._events[g];if(m.fn)m.fn===v&&(!p||m.once)&&(!d||m.context===d)&&o(this,g);else{for(var x=0,C=[],P=m.length;x<P;x++)(m[x].fn!==v||p&&!m[x].once||d&&m[x].context!==d)&&C.push(m[x]);C.length?this._events[g]=C.length===1?C[0]:C:o(this,g)}return this},"removeListener"),l.prototype.removeAllListeners=r(function(u){var v;return u?(v=i?i+u:u,this._events[v]&&o(this,v)):(this._events=new f,this._eventsCount=0),this},"removeAllListeners"),l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=i,l.EventEmitter=l,n.exports=l},11517:(n,T,i)=>{/**
 * @author       samme
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(38829),y=r(function(c,o,l,a){for(var u=c[0],v=1;v<c.length;v++){var d=c[v];f(d,u,o,l,a),u=d}return c},"AlignTo");n.exports=y},80318:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(66979),y=r(function(c,o,l,a,u){return f(c,"angle",o,l,a,u)},"Angle");n.exports=y},60757:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i,f,y){for(var c=0;c<i.length;c++){var o=i[c];f.call(y,o)}return i},"Call");n.exports=T},69927:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i,f,y){y===void 0&&(y=0);for(var c=y;c<i.length;c++){var o=i[c],l=!0;for(var a in f)o[a]!==f[a]&&(l=!1);if(l)return o}return null},"GetFirst");n.exports=T},32265:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i,f,y){y===void 0&&(y=0);for(var c=i.length-1;c>=y;c--){var o=i[c],l=!0;for(var a in f)o[a]!==f[a]&&(l=!1);if(l)return o}return null},"GetLast");n.exports=T},94420:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(11879),y=i(60461),c=i(95540),o=i(29747),l=i(41481),a=new l({sys:{queueDepthSort:o,events:{once:o}}},0,0,1,1).setOrigin(0,0),u=r(function(v,d){d===void 0&&(d={});var p=d.hasOwnProperty("width"),g=d.hasOwnProperty("height"),m=c(d,"width",-1),x=c(d,"height",-1),C=c(d,"cellWidth",1),P=c(d,"cellHeight",C),A=c(d,"position",y.TOP_LEFT),R=c(d,"x",0),L=c(d,"y",0),O=0,w=0,b=m*C,F=x*P;a.setPosition(R,L),a.setSize(C,P);for(var M=0;M<v.length;M++)if(f(v[M],a,A),p&&m===-1)a.x+=C;else if(g&&x===-1)a.y+=P;else if(g&&!p){if(w+=P,a.y+=P,w===F&&(w=0,O+=C,a.y=L,a.x+=C,O===b))break}else if(O+=C,a.x+=C,O===b&&(O=0,w+=P,a.x=R,a.y+=P,w===F))break;return v},"GridAlign");n.exports=u},41721:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(66979),y=r(function(c,o,l,a,u){return f(c,"alpha",o,l,a,u)},"IncAlpha");n.exports=y},67285:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(66979),y=r(function(c,o,l,a,u){return f(c,"x",o,l,a,u)},"IncX");n.exports=y},9074:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(66979),y=r(function(c,o,l,a,u,v,d){return l==null&&(l=o),f(c,"x",o,a,v,d),f(c,"y",l,u,v,d)},"IncXY");n.exports=y},75222:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(66979),y=r(function(c,o,l,a,u){return f(c,"y",o,l,a,u)},"IncY");n.exports=y},22983:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i,f,y,c){y===void 0&&(y=0),c===void 0&&(c=6.28);for(var o=y,l=(c-y)/i.length,a=f.x,u=f.y,v=f.radius,d=0;d<i.length;d++)i[d].x=a+v*Math.cos(o),i[d].y=u+v*Math.sin(o),o+=l;return i},"PlaceOnCircle");n.exports=T},95253:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i,f,y,c){y===void 0&&(y=0),c===void 0&&(c=6.28);for(var o=y,l=(c-y)/i.length,a=f.width/2,u=f.height/2,v=0;v<i.length;v++)i[v].x=f.x+a*Math.cos(o),i[v].y=f.y+u*Math.sin(o),o+=l;return i},"PlaceOnEllipse");n.exports=T},88505:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(15258),y=i(26708),c=r(function(o,l,a){var u;a?u=y(l,a,o.length):u=f(l,o.length);for(var v=0;v<o.length;v++){var d=o[v],p=u[v];d.x=p.x,d.y=p.y}return o},"PlaceOnLine");n.exports=c},41346:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(14649),y=i(86003),c=i(49498),o=r(function(l,a,u){u===void 0&&(u=0);var v=f(a,!1,l.length);u>0?y(v,u):u<0&&c(v,Math.abs(u));for(var d=0;d<l.length;d++)l[d].x=v[d].x,l[d].y=v[d].y;return l},"PlaceOnRectangle");n.exports=o},11575:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(84993),y=r(function(c,o,l){var a=f({x1:o.x1,y1:o.y1,x2:o.x2,y2:o.y2},l),u=f({x1:o.x2,y1:o.y2,x2:o.x3,y2:o.y3},l),v=f({x1:o.x3,y1:o.y3,x2:o.x1,y2:o.y1},l);a.pop(),u.pop(),v.pop(),a=a.concat(u,v);for(var d=a.length/c.length,p=0,g=0;g<c.length;g++){var m=c[g],x=a[Math.floor(p)];m.x=x.x,m.y=x.y,p+=d}return c},"PlaceOnTriangle");n.exports=y},29953:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i,f,y){for(var c=0;c<i.length;c++){var o=i[c];o.anims&&o.anims.play(f,y)}return i},"PlayAnimation");n.exports=T},66979:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i,f,y,c,o,l){c===void 0&&(c=0),o===void 0&&(o=0),l===void 0&&(l=1);var a,u=0,v=i.length;if(l===1)for(a=o;a<v;a++)i[a][f]+=y+u*c,u++;else for(a=o;a>=0;a--)i[a][f]+=y+u*c,u++;return i},"PropertyValueInc");n.exports=T},43967:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i,f,y,c,o,l){c===void 0&&(c=0),o===void 0&&(o=0),l===void 0&&(l=1);var a,u=0,v=i.length;if(l===1)for(a=o;a<v;a++)i[a][f]=y+u*c,u++;else for(a=o;a>=0;a--)i[a][f]=y+u*c,u++;return i},"PropertyValueSet");n.exports=T},88926:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(28176),y=r(function(c,o){for(var l=0;l<c.length;l++)f(o,c[l]);return c},"RandomCircle");n.exports=y},33286:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(24820),y=r(function(c,o){for(var l=0;l<c.length;l++)f(o,c[l]);return c},"RandomEllipse");n.exports=y},96e3:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(65822),y=r(function(c,o){for(var l=0;l<c.length;l++)f(o,c[l]);return c},"RandomLine");n.exports=y},28789:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(26597),y=r(function(c,o){for(var l=0;l<c.length;l++)f(o,c[l]);return c},"RandomRectangle");n.exports=y},97154:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(90260),y=r(function(c,o){for(var l=0;l<c.length;l++)f(o,c[l]);return c},"RandomTriangle");n.exports=y},20510:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(66979),y=r(function(c,o,l,a,u){return f(c,"rotation",o,l,a,u)},"Rotate");n.exports=y},91051:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(1163),y=i(20339),c=r(function(o,l,a){for(var u=l.x,v=l.y,d=0;d<o.length;d++){var p=o[d];f(p,u,v,a,Math.max(1,y(p.x,p.y,u,v)))}return o},"RotateAround");n.exports=c},76332:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(1163),y=r(function(c,o,l,a){var u=o.x,v=o.y;if(a===0)return c;for(var d=0;d<c.length;d++)f(c[d],u,v,l,a);return c},"RotateAroundDistance");n.exports=y},61619:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(66979),y=r(function(c,o,l,a,u){return f(c,"scaleX",o,l,a,u)},"ScaleX");n.exports=y},94868:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(66979),y=r(function(c,o,l,a,u,v,d){return l==null&&(l=o),f(c,"scaleX",o,a,v,d),f(c,"scaleY",l,u,v,d)},"ScaleXY");n.exports=y},95532:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(66979),y=r(function(c,o,l,a,u){return f(c,"scaleY",o,l,a,u)},"ScaleY");n.exports=y},8689:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(43967),y=r(function(c,o,l,a,u){return f(c,"alpha",o,l,a,u)},"SetAlpha");n.exports=y},2645:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(43967),y=r(function(c,o,l,a){return f(c,"blendMode",o,0,l,a)},"SetBlendMode");n.exports=y},32372:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(43967),y=r(function(c,o,l,a,u){return f(c,"depth",o,l,a,u)},"SetDepth");n.exports=y},85373:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i,f,y){for(var c=0;c<i.length;c++)i[c].setInteractive(f,y);return i},"SetHitArea");n.exports=T},81583:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(43967),y=r(function(c,o,l,a,u,v,d){return l==null&&(l=o),f(c,"originX",o,a,v,d),f(c,"originY",l,u,v,d),c.forEach(function(p){p.updateDisplayOrigin()}),c},"SetOrigin");n.exports=y},79939:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(43967),y=r(function(c,o,l,a,u){return f(c,"rotation",o,l,a,u)},"SetRotation");n.exports=y},2699:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(43967),y=r(function(c,o,l,a,u,v,d){return l==null&&(l=o),f(c,"scaleX",o,a,v,d),f(c,"scaleY",l,u,v,d)},"SetScale");n.exports=y},98739:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(43967),y=r(function(c,o,l,a,u){return f(c,"scaleX",o,l,a,u)},"SetScaleX");n.exports=y},98476:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(43967),y=r(function(c,o,l,a,u){return f(c,"scaleY",o,l,a,u)},"SetScaleY");n.exports=y},6207:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(43967),y=r(function(c,o,l,a,u,v,d){return l==null&&(l=o),f(c,"scrollFactorX",o,a,v,d),f(c,"scrollFactorY",l,u,v,d)},"SetScrollFactor");n.exports=y},6607:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(43967),y=r(function(c,o,l,a,u){return f(c,"scrollFactorX",o,l,a,u)},"SetScrollFactorX");n.exports=y},72248:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(43967),y=r(function(c,o,l,a,u){return f(c,"scrollFactorY",o,l,a,u)},"SetScrollFactorY");n.exports=y},14036:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i,f,y,c,o){for(var l=0;l<i.length;l++)i[l].setTint(f,y,c,o);return i},"SetTint");n.exports=T},50159:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(43967),y=r(function(c,o,l,a){return f(c,"visible",o,0,l,a)},"SetVisible");n.exports=y},77597:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(43967),y=r(function(c,o,l,a,u){return f(c,"x",o,l,a,u)},"SetX");n.exports=y},83194:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(43967),y=r(function(c,o,l,a,u,v,d){return l==null&&(l=o),f(c,"x",o,a,v,d),f(c,"y",l,u,v,d)},"SetXY");n.exports=y},67678:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(43967),y=r(function(c,o,l,a,u){return f(c,"y",o,l,a,u)},"SetY");n.exports=y},35850:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(26099),y=r(function(c,o,l,a,u){a===void 0&&(a=0),u===void 0&&(u=new f);var v,d,p=c.length;if(p===1)v=c[0].x,d=c[0].y,c[0].x=o,c[0].y=l;else{var g=1,m=0;a===0&&(m=p-1,g=p-2),v=c[m].x,d=c[m].y,c[m].x=o,c[m].y=l;for(var x=0;x<p;x++)if(!(g>=p||g===-1)){var C=c[g],P=C.x,A=C.y;C.x=v,C.y=d,v=P,d=A,a===0?g--:g++}}return u.x=v,u.y=d,u},"ShiftPosition");n.exports=y},8628:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(33680),y=r(function(c){return f(c)},"Shuffle");n.exports=y},21837:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(7602),y=r(function(c,o,l,a,u){u===void 0&&(u=!1);var v=Math.abs(a-l)/c.length,d;if(u)for(d=0;d<c.length;d++)c[d][o]+=f(d*v,l,a);else for(d=0;d<c.length;d++)c[d][o]=f(d*v,l,a);return c},"SmoothStep");n.exports=y},21910:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(54261),y=r(function(c,o,l,a,u){u===void 0&&(u=!1);var v=Math.abs(a-l)/c.length,d;if(u)for(d=0;d<c.length;d++)c[d][o]+=f(d*v,l,a);else for(d=0;d<c.length;d++)c[d][o]=f(d*v,l,a);return c},"SmootherStep");n.exports=y},62054:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i,f,y,c,o){if(o===void 0&&(o=!1),i.length===0)return i;if(i.length===1)return o?i[0][f]+=(c+y)/2:i[0][f]=(c+y)/2,i;var l=Math.abs(c-y)/(i.length-1),a;if(o)for(a=0;a<i.length;a++)i[a][f]+=a*l+y;else for(a=0;a<i.length;a++)i[a][f]=a*l+y;return i},"Spread");n.exports=T},79815:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i){for(var f=0;f<i.length;f++)i[f].visible=!i[f].visible;return i},"ToggleVisible");n.exports=T},39665:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       samme <samme.npm@gmail.com>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(15994),y=r(function(c,o,l){l===void 0&&(l=0);for(var a=0;a<c.length;a++){var u=c[a];u.x=f(u.x,o.left-l,o.right+l),u.y=f(u.y,o.top-l,o.bottom+l)}return c},"WrapInRectangle");n.exports=y},61061:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={AlignTo:i(11517),Angle:i(80318),Call:i(60757),GetFirst:i(69927),GetLast:i(32265),GridAlign:i(94420),IncAlpha:i(41721),IncX:i(67285),IncXY:i(9074),IncY:i(75222),PlaceOnCircle:i(22983),PlaceOnEllipse:i(95253),PlaceOnLine:i(88505),PlaceOnRectangle:i(41346),PlaceOnTriangle:i(11575),PlayAnimation:i(29953),PropertyValueInc:i(66979),PropertyValueSet:i(43967),RandomCircle:i(88926),RandomEllipse:i(33286),RandomLine:i(96e3),RandomRectangle:i(28789),RandomTriangle:i(97154),Rotate:i(20510),RotateAround:i(91051),RotateAroundDistance:i(76332),ScaleX:i(61619),ScaleXY:i(94868),ScaleY:i(95532),SetAlpha:i(8689),SetBlendMode:i(2645),SetDepth:i(32372),SetHitArea:i(85373),SetOrigin:i(81583),SetRotation:i(79939),SetScale:i(2699),SetScaleX:i(98739),SetScaleY:i(98476),SetScrollFactor:i(6207),SetScrollFactorX:i(6607),SetScrollFactorY:i(72248),SetTint:i(14036),SetVisible:i(50159),SetX:i(77597),SetXY:i(83194),SetY:i(67678),ShiftPosition:i(35850),Shuffle:i(8628),SmootherStep:i(21910),SmoothStep:i(21837),Spread:i(62054),ToggleVisible:i(79815),WrapInRectangle:i(39665)}},42099:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(45319),y=i(83419),c=i(74943),o=i(81957),l=i(41138),a=i(35154),u=i(90126),v=new y({initialize:r(function(p,g,m){this.manager=p,this.key=g,this.type="frame",this.frames=this.getFrames(p.textureManager,a(m,"frames",[]),a(m,"defaultTextureKey",null),a(m,"sortFrames",!0)),this.frameRate=a(m,"frameRate",null),this.duration=a(m,"duration",null),this.msPerFrame,this.skipMissedFrames=a(m,"skipMissedFrames",!0),this.delay=a(m,"delay",0),this.repeat=a(m,"repeat",0),this.repeatDelay=a(m,"repeatDelay",0),this.yoyo=a(m,"yoyo",!1),this.showBeforeDelay=a(m,"showBeforeDelay",!1),this.showOnStart=a(m,"showOnStart",!1),this.hideOnComplete=a(m,"hideOnComplete",!1),this.randomFrame=a(m,"randomFrame",!1),this.paused=!1,this.calculateDuration(this,this.getTotalFrames(),this.duration,this.frameRate),this.manager.on&&(this.manager.on(c.PAUSE_ALL,this.pause,this),this.manager.on(c.RESUME_ALL,this.resume,this))},"Animation"),getTotalFrames:r(function(){return this.frames.length},"getTotalFrames"),calculateDuration:r(function(d,p,g,m){g===null&&m===null?(d.frameRate=24,d.duration=24/p*1e3):g&&m===null?(d.duration=g,d.frameRate=p/(g/1e3)):(d.frameRate=m,d.duration=p/m*1e3),d.msPerFrame=1e3/d.frameRate},"calculateDuration"),addFrame:r(function(d){return this.addFrameAt(this.frames.length,d)},"addFrame"),addFrameAt:r(function(d,p){var g=this.getFrames(this.manager.textureManager,p);if(g.length>0){if(d===0)this.frames=g.concat(this.frames);else if(d===this.frames.length)this.frames=this.frames.concat(g);else{var m=this.frames.slice(0,d),x=this.frames.slice(d);this.frames=m.concat(g,x)}this.updateFrameSequence()}return this},"addFrameAt"),checkFrame:r(function(d){return d>=0&&d<this.frames.length},"checkFrame"),getFirstTick:r(function(d){d.accumulator=0,d.nextTick=d.currentFrame.duration?d.currentFrame.duration:d.msPerFrame},"getFirstTick"),getFrameAt:r(function(d){return this.frames[d]},"getFrameAt"),getFrames:r(function(d,p,g,m){m===void 0&&(m=!0);var x=[],C,P,A=1,R,L;if(typeof p=="string"){if(L=p,!d.exists(L))return console.warn('Texture "%s" not found',L),x;var O=d.get(L),w=O.getFrameNames();m&&u(w),p=[],w.forEach(function(G){p.push({key:L,frame:G})})}if(!Array.isArray(p)||p.length===0)return x;for(R=0;R<p.length;R++){var b=p[R],F=a(b,"key",g);if(F){var M=a(b,"frame",0),I=d.getFrame(F,M);if(!I){console.warn('Texture "%s" not found',F);continue}P=new l(F,M,A,I),P.duration=a(b,"duration",0),P.isFirst=!C,C&&(C.nextFrame=P,P.prevFrame=C),x.push(P),C=P,A++}}if(x.length>0){P.isLast=!0,P.nextFrame=x[0],x[0].prevFrame=P;var B=1/(x.length-1);for(R=0;R<x.length;R++)x[R].progress=R*B}return x},"getFrames"),getNextTick:r(function(d){d.accumulator-=d.nextTick,d.nextTick=d.currentFrame.duration?d.currentFrame.duration:d.msPerFrame},"getNextTick"),getFrameByProgress:r(function(d){return d=f(d,0,1),o(d,this.frames,"progress")},"getFrameByProgress"),nextFrame:r(function(d){var p=d.currentFrame;p.isLast?d.yoyo?this.handleYoyoFrame(d,!1):d.repeatCounter>0?d.inReverse&&d.forward?d.forward=!1:this.repeatAnimation(d):d.complete():this.updateAndGetNextTick(d,p.nextFrame)},"nextFrame"),handleYoyoFrame:r(function(d,p){if(p||(p=!1),d.inReverse===!p&&d.repeatCounter>0){(d.repeatDelay===0||d.pendingRepeat)&&(d.forward=p),this.repeatAnimation(d);return}if(d.inReverse!==p&&d.repeatCounter===0){d.complete();return}d.forward=p;var g=p?d.currentFrame.nextFrame:d.currentFrame.prevFrame;this.updateAndGetNextTick(d,g)},"handleYoyoFrame"),getLastFrame:r(function(){return this.frames[this.frames.length-1]},"getLastFrame"),previousFrame:r(function(d){var p=d.currentFrame;p.isFirst?d.yoyo?this.handleYoyoFrame(d,!0):d.repeatCounter>0?d.inReverse&&!d.forward?this.repeatAnimation(d):(d.forward=!0,this.repeatAnimation(d)):d.complete():this.updateAndGetNextTick(d,p.prevFrame)},"previousFrame"),updateAndGetNextTick:r(function(d,p){d.setCurrentFrame(p),this.getNextTick(d)},"updateAndGetNextTick"),removeFrame:r(function(d){var p=this.frames.indexOf(d);return p!==-1&&this.removeFrameAt(p),this},"removeFrame"),removeFrameAt:r(function(d){return this.frames.splice(d,1),this.updateFrameSequence(),this},"removeFrameAt"),repeatAnimation:r(function(d){if(d._pendingStop===2){if(d._pendingStopValue===0)return d.stop();d._pendingStopValue--}d.repeatDelay>0&&!d.pendingRepeat?(d.pendingRepeat=!0,d.accumulator-=d.nextTick,d.nextTick+=d.repeatDelay):(d.repeatCounter--,d.forward?d.setCurrentFrame(d.currentFrame.nextFrame):d.setCurrentFrame(d.currentFrame.prevFrame),d.isPlaying&&(this.getNextTick(d),d.handleRepeat()))},"repeatAnimation"),toJSON:r(function(){var d={key:this.key,type:this.type,frames:[],frameRate:this.frameRate,duration:this.duration,skipMissedFrames:this.skipMissedFrames,delay:this.delay,repeat:this.repeat,repeatDelay:this.repeatDelay,yoyo:this.yoyo,showBeforeDelay:this.showBeforeDelay,showOnStart:this.showOnStart,randomFrame:this.randomFrame,hideOnComplete:this.hideOnComplete};return this.frames.forEach(function(p){d.frames.push(p.toJSON())}),d},"toJSON"),updateFrameSequence:r(function(){for(var d=this.frames.length,p=1/(d-1),g,m=0;m<d;m++)g=this.frames[m],g.index=m+1,g.isFirst=!1,g.isLast=!1,g.progress=m*p,m===0?(g.isFirst=!0,d===1?(g.isLast=!0,g.nextFrame=g,g.prevFrame=g):(g.isLast=!1,g.prevFrame=this.frames[d-1],g.nextFrame=this.frames[m+1])):m===d-1&&d>1?(g.isLast=!0,g.prevFrame=this.frames[d-2],g.nextFrame=this.frames[0]):d>1&&(g.prevFrame=this.frames[m-1],g.nextFrame=this.frames[m+1]);return this},"updateFrameSequence"),pause:r(function(){return this.paused=!0,this},"pause"),resume:r(function(){return this.paused=!1,this},"resume"),destroy:r(function(){this.manager.off&&(this.manager.off(c.PAUSE_ALL,this.pause,this),this.manager.off(c.RESUME_ALL,this.resume,this)),this.manager.remove(this.key);for(var d=0;d<this.frames.length;d++)this.frames[d].destroy();this.frames=[],this.manager=null},"destroy")});n.exports=v},41138:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(83419),y=new f({initialize:r(function(o,l,a,u,v){v===void 0&&(v=!1),this.textureKey=o,this.textureFrame=l,this.index=a,this.frame=u,this.isFirst=!1,this.isLast=!1,this.prevFrame=null,this.nextFrame=null,this.duration=0,this.progress=0,this.isKeyFrame=v},"AnimationFrame"),toJSON:r(function(){return{key:this.textureKey,frame:this.textureFrame,duration:this.duration,keyframe:this.isKeyFrame}},"toJSON"),destroy:r(function(){this.frame=void 0},"destroy")});n.exports=y},60848:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(42099),y=i(83419),c=i(90330),o=i(50792),l=i(74943),a=i(8443),u=i(95540),v=i(35154),d=i(36383),p=i(20283),g=i(41836),m=new y({Extends:o,initialize:r(function(C){o.call(this),this.game=C,this.textureManager=null,this.globalTimeScale=1,this.anims=new c,this.mixes=new c,this.paused=!1,this.name="AnimationManager",C.events.once(a.BOOT,this.boot,this)},"AnimationManager"),boot:r(function(){this.textureManager=this.game.textures,this.game.events.once(a.DESTROY,this.destroy,this)},"boot"),addMix:r(function(x,C,P){var A=this.anims,R=this.mixes,L=typeof x=="string"?x:x.key,O=typeof C=="string"?C:C.key;if(A.has(L)&&A.has(O)){var w=R.get(L);w||(w={}),w[O]=P,R.set(L,w)}return this},"addMix"),removeMix:r(function(x,C){var P=this.mixes,A=typeof x=="string"?x:x.key,R=P.get(A);if(R)if(C){var L=typeof C=="string"?C:C.key;R.hasOwnProperty(L)&&delete R[L]}else C||P.delete(A);return this},"removeMix"),getMix:r(function(x,C){var P=this.mixes,A=typeof x=="string"?x:x.key,R=typeof C=="string"?C:C.key,L=P.get(A);return L&&L.hasOwnProperty(R)?L[R]:0},"getMix"),add:r(function(x,C){return this.anims.has(x)?(console.warn("Animation key exists: "+x),this):(C.key=x,this.anims.set(x,C),this.emit(l.ADD_ANIMATION,x,C),this)},"add"),exists:r(function(x){return this.anims.has(x)},"exists"),createFromAseprite:r(function(x,C,P){var A=[],R=this.game.cache.json.get(x);if(!R)return console.warn("No Aseprite data found for: "+x),A;var L=this,O=v(R,"meta",null),w=v(R,"frames",null);if(O&&w){var b=v(O,"frameTags",[]);b.forEach(function(F){var M=[],I=u(F,"name",null),B=u(F,"from",0),G=u(F,"to",0),N=u(F,"direction","forward");if(I&&(!C||C&&C.indexOf(I)>-1)){for(var z=0,H=B;H<=G;H++){var $=H.toString(),V=w[$];if(V){var Y=u(V,"duration",d.MAX_SAFE_INTEGER);M.push({key:x,frame:$,duration:Y}),z+=Y}}N==="reverse"&&(M=M.reverse());var D={key:I,frames:M,duration:z,yoyo:N==="pingpong"},U;P?P.anims&&(U=P.anims.create(D)):U=L.create(D),U&&A.push(U)}})}return A},"createFromAseprite"),create:r(function(x){var C=x.key,P=!1;return C&&(P=this.get(C),P?console.warn("AnimationManager key already exists: "+C):(P=new f(this,C,x),this.anims.set(C,P),this.emit(l.ADD_ANIMATION,C,P))),P},"create"),fromJSON:r(function(x,C){C===void 0&&(C=!1),C&&this.anims.clear(),typeof x=="string"&&(x=JSON.parse(x));var P=[];if(x.hasOwnProperty("anims")&&Array.isArray(x.anims)){for(var A=0;A<x.anims.length;A++)P.push(this.create(x.anims[A]));x.hasOwnProperty("globalTimeScale")&&(this.globalTimeScale=x.globalTimeScale)}else x.hasOwnProperty("key")&&x.type==="frame"&&P.push(this.create(x));return P},"fromJSON"),generateFrameNames:r(function(x,C){var P=v(C,"prefix",""),A=v(C,"start",0),R=v(C,"end",0),L=v(C,"suffix",""),O=v(C,"zeroPad",0),w=v(C,"outputArray",[]),b=v(C,"frames",!1);if(!this.textureManager.exists(x))return console.warn('Texture "%s" not found',x),w;var F=this.textureManager.get(x);if(!F)return w;var M;if(C)for(b||(b=p(A,R)),M=0;M<b.length;M++){var I=P+g(b[M],O,"0",1)+L;F.has(I)?w.push({key:x,frame:I}):console.warn('Frame "%s" not found in texture "%s"',I,x)}else for(b=F.getFrameNames(),M=0;M<b.length;M++)w.push({key:x,frame:b[M]});return w},"generateFrameNames"),generateFrameNumbers:r(function(x,C){var P=v(C,"start",0),A=v(C,"end",-1),R=v(C,"first",!1),L=v(C,"outputArray",[]),O=v(C,"frames",!1);if(!this.textureManager.exists(x))return console.warn('Texture "%s" not found',x),L;var w=this.textureManager.get(x);if(!w)return L;R&&w.has(R)&&L.push({key:x,frame:R}),O||(A===-1&&(A=w.frameTotal-2),O=p(P,A));for(var b=0;b<O.length;b++){var F=O[b];w.has(F)?L.push({key:x,frame:F}):console.warn('Frame "%s" not found in texture "%s"',F,x)}return L},"generateFrameNumbers"),get:r(function(x){return this.anims.get(x)},"get"),getAnimsFromTexture:r(function(x){for(var C=this.textureManager.get(x),P=C.key,A=this.anims.getArray(),R=[],L=0;L<A.length;L++)for(var O=A[L],w=O.frames,b=0;b<w.length;b++)if(w[b].textureKey===P){R.push(O.key);break}return R},"getAnimsFromTexture"),pauseAll:r(function(){return this.paused||(this.paused=!0,this.emit(l.PAUSE_ALL)),this},"pauseAll"),play:r(function(x,C){Array.isArray(C)||(C=[C]);for(var P=0;P<C.length;P++)C[P].anims.play(x);return this},"play"),staggerPlay:r(function(x,C,P,A){P===void 0&&(P=0),A===void 0&&(A=!0),Array.isArray(C)||(C=[C]);var R=C.length;A||R--;for(var L=0;L<C.length;L++){var O=P<0?Math.abs(P)*(R-L):P*L;C[L].anims.playAfterDelay(x,O)}return this},"staggerPlay"),remove:r(function(x){var C=this.get(x);return C&&(this.emit(l.REMOVE_ANIMATION,x,C),this.anims.delete(x),this.removeMix(x)),C},"remove"),resumeAll:r(function(){return this.paused&&(this.paused=!1,this.emit(l.RESUME_ALL)),this},"resumeAll"),toJSON:r(function(x){var C={anims:[],globalTimeScale:this.globalTimeScale};return x!==void 0&&x!==""?C.anims.push(this.anims.get(x).toJSON()):this.anims.each(function(P,A){C.anims.push(A.toJSON())}),C},"toJSON"),destroy:r(function(){this.anims.clear(),this.mixes.clear(),this.textureManager=null,this.game=null},"destroy")});n.exports=m},9674:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(42099),y=i(30976),c=i(83419),o=i(90330),l=i(74943),a=i(95540),u=new c({initialize:r(function(d){this.parent=d,this.animationManager=d.scene.sys.anims,this.animationManager.on(l.REMOVE_ANIMATION,this.globalRemove,this),this.textureManager=this.animationManager.textureManager,this.anims=null,this.isPlaying=!1,this.hasStarted=!1,this.currentAnim=null,this.currentFrame=null,this.nextAnim=null,this.nextAnimsQueue=[],this.timeScale=1,this.frameRate=0,this.duration=0,this.msPerFrame=0,this.skipMissedFrames=!0,this.randomFrame=!1,this.delay=0,this.repeat=0,this.repeatDelay=0,this.yoyo=!1,this.showBeforeDelay=!1,this.showOnStart=!1,this.hideOnComplete=!1,this.forward=!0,this.inReverse=!1,this.accumulator=0,this.nextTick=0,this.delayCounter=0,this.repeatCounter=0,this.pendingRepeat=!1,this._paused=!1,this._wasPlaying=!1,this._pendingStop=0,this._pendingStopValue},"AnimationState"),chain:r(function(v){var d=this.parent;if(v===void 0)return this.nextAnimsQueue.length=0,this.nextAnim=null,d;Array.isArray(v)||(v=[v]);for(var p=0;p<v.length;p++){var g=v[p];this.nextAnim?this.nextAnimsQueue.push(g):this.nextAnim=g}return this.parent},"chain"),getName:r(function(){return this.currentAnim?this.currentAnim.key:""},"getName"),getFrameName:r(function(){return this.currentFrame?this.currentFrame.textureFrame:""},"getFrameName"),load:r(function(v){this.isPlaying&&this.stop();var d=this.animationManager,p=typeof v=="string"?v:a(v,"key",null),g=this.exists(p)?this.get(p):d.get(p);if(!g)console.warn("Missing animation: "+p);else{this.currentAnim=g;var m=g.getTotalFrames(),x=a(v,"frameRate",g.frameRate),C=a(v,"duration",g.duration);g.calculateDuration(this,m,C,x),this.delay=a(v,"delay",g.delay),this.repeat=a(v,"repeat",g.repeat),this.repeatDelay=a(v,"repeatDelay",g.repeatDelay),this.yoyo=a(v,"yoyo",g.yoyo),this.showBeforeDelay=a(v,"showBeforeDelay",g.showBeforeDelay),this.showOnStart=a(v,"showOnStart",g.showOnStart),this.hideOnComplete=a(v,"hideOnComplete",g.hideOnComplete),this.skipMissedFrames=a(v,"skipMissedFrames",g.skipMissedFrames),this.randomFrame=a(v,"randomFrame",g.randomFrame),this.timeScale=a(v,"timeScale",this.timeScale);var P=a(v,"startFrame",0);P>m&&(P=0),this.randomFrame&&(P=y(0,m-1));var A=g.frames[P];P===0&&!this.forward&&(A=g.getLastFrame()),this.currentFrame=A}return this.parent},"load"),pause:r(function(v){return this._paused||(this._paused=!0,this._wasPlaying=this.isPlaying,this.isPlaying=!1),v!==void 0&&this.setCurrentFrame(v),this.parent},"pause"),resume:r(function(v){return this._paused&&(this._paused=!1,this.isPlaying=this._wasPlaying),v!==void 0&&this.setCurrentFrame(v),this.parent},"resume"),playAfterDelay:r(function(v,d){if(!this.isPlaying)this.delayCounter=d,this.play(v,!0);else{var p=this.nextAnim,g=this.nextAnimsQueue;p&&g.unshift(p),this.nextAnim=v,this._pendingStop=1,this._pendingStopValue=d}return this.parent},"playAfterDelay"),playAfterRepeat:r(function(v,d){if(d===void 0&&(d=1),!this.isPlaying)this.play(v);else{var p=this.nextAnim,g=this.nextAnimsQueue;p&&g.unshift(p),this.repeatCounter!==-1&&d>this.repeatCounter&&(d=this.repeatCounter),this.nextAnim=v,this._pendingStop=2,this._pendingStopValue=d}return this.parent},"playAfterRepeat"),play:r(function(v,d){d===void 0&&(d=!1);var p=this.currentAnim,g=this.parent,m=typeof v=="string"?v:v.key;if(d&&this.isPlaying&&p.key===m)return g;if(p&&this.isPlaying){var x=this.animationManager.getMix(p.key,v);if(x>0)return this.playAfterDelay(v,x)}return this.forward=!0,this.inReverse=!1,this._paused=!1,this._wasPlaying=!0,this.startAnimation(v)},"play"),playReverse:r(function(v,d){d===void 0&&(d=!1);var p=typeof v=="string"?v:v.key;return d&&this.isPlaying&&this.currentAnim.key===p?this.parent:(this.forward=!1,this.inReverse=!0,this._paused=!1,this._wasPlaying=!0,this.startAnimation(v))},"playReverse"),startAnimation:r(function(v){this.load(v);var d=this.currentAnim,p=this.parent;return d&&(this.repeatCounter=this.repeat===-1?Number.MAX_VALUE:this.repeat,d.getFirstTick(this),this.isPlaying=!0,this.pendingRepeat=!1,this.hasStarted=!1,this._pendingStop=0,this._pendingStopValue=0,this._paused=!1,this.delayCounter+=this.delay,this.delayCounter===0?this.handleStart():this.showBeforeDelay&&this.setCurrentFrame(this.currentFrame)),p},"startAnimation"),handleStart:r(function(){this.showOnStart&&this.parent.setVisible(!0),this.setCurrentFrame(this.currentFrame),this.hasStarted=!0,this.emitEvents(l.ANIMATION_START)},"handleStart"),handleRepeat:r(function(){this.pendingRepeat=!1,this.emitEvents(l.ANIMATION_REPEAT)},"handleRepeat"),handleStop:r(function(){this._pendingStop=0,this.isPlaying=!1,this.emitEvents(l.ANIMATION_STOP)},"handleStop"),handleComplete:r(function(){this._pendingStop=0,this.isPlaying=!1,this.hideOnComplete&&this.parent.setVisible(!1),this.emitEvents(l.ANIMATION_COMPLETE,l.ANIMATION_COMPLETE_KEY)},"handleComplete"),emitEvents:r(function(v,d){var p=this.currentAnim;if(p){var g=this.currentFrame,m=this.parent,x=g.textureFrame;m.emit(v,p,g,m,x),d&&m.emit(d+p.key,p,g,m,x)}},"emitEvents"),reverse:r(function(){return this.isPlaying&&(this.inReverse=!this.inReverse,this.forward=!this.forward),this.parent},"reverse"),getProgress:r(function(){var v=this.currentFrame;if(!v)return 0;var d=v.progress;return this.inReverse&&(d*=-1),d},"getProgress"),setProgress:r(function(v){return this.forward||(v=1-v),this.setCurrentFrame(this.currentAnim.getFrameByProgress(v)),this.parent},"setProgress"),setRepeat:r(function(v){return this.repeatCounter=v===-1?Number.MAX_VALUE:v,this.parent},"setRepeat"),globalRemove:r(function(v,d){d===void 0&&(d=this.currentAnim),this.isPlaying&&d.key===this.currentAnim.key&&(this.stop(),this.setCurrentFrame(this.currentAnim.frames[0]))},"globalRemove"),restart:r(function(v,d){v===void 0&&(v=!1),d===void 0&&(d=!1);var p=this.currentAnim,g=this.parent;return p?(d&&(this.repeatCounter=this.repeat===-1?Number.MAX_VALUE:this.repeat),p.getFirstTick(this),this.emitEvents(l.ANIMATION_RESTART),this.isPlaying=!0,this.pendingRepeat=!1,this.hasStarted=!v,this._pendingStop=0,this._pendingStopValue=0,this._paused=!1,this.setCurrentFrame(p.frames[0]),this.parent):g},"restart"),complete:r(function(){if(this._pendingStop=0,this.isPlaying=!1,this.currentAnim&&this.handleComplete(),this.nextAnim){var v=this.nextAnim;this.nextAnim=this.nextAnimsQueue.length>0?this.nextAnimsQueue.shift():null,this.play(v)}return this.parent},"complete"),stop:r(function(){if(this._pendingStop=0,this.isPlaying=!1,this.delayCounter=0,this.currentAnim&&this.handleStop(),this.nextAnim){var v=this.nextAnim;this.nextAnim=this.nextAnimsQueue.shift(),this.play(v)}return this.parent},"stop"),stopAfterDelay:r(function(v){return this._pendingStop=1,this._pendingStopValue=v,this.parent},"stopAfterDelay"),stopAfterRepeat:r(function(v){return v===void 0&&(v=1),this.repeatCounter!==-1&&v>this.repeatCounter&&(v=this.repeatCounter),this._pendingStop=2,this._pendingStopValue=v,this.parent},"stopAfterRepeat"),stopOnFrame:r(function(v){return this._pendingStop=3,this._pendingStopValue=v,this.parent},"stopOnFrame"),getTotalFrames:r(function(){return this.currentAnim?this.currentAnim.getTotalFrames():0},"getTotalFrames"),update:r(function(v,d){var p=this.currentAnim;if(!(!this.isPlaying||!p||p.paused)){if(this.accumulator+=d*this.timeScale*this.animationManager.globalTimeScale,this._pendingStop===1&&(this._pendingStopValue-=d,this._pendingStopValue<=0))return this.stop();if(!this.hasStarted)this.accumulator>=this.delayCounter&&(this.accumulator-=this.delayCounter,this.handleStart());else if(this.accumulator>=this.nextTick&&(this.forward?p.nextFrame(this):p.previousFrame(this),this.isPlaying&&this._pendingStop===0&&this.skipMissedFrames&&this.accumulator>this.nextTick)){var g=0;do this.forward?p.nextFrame(this):p.previousFrame(this),g++;while(this.isPlaying&&this.accumulator>this.nextTick&&g<60)}}},"update"),setCurrentFrame:r(function(v){var d=this.parent;return this.currentFrame=v,d.texture=v.frame.texture,d.frame=v.frame,d.isCropped&&d.frame.updateCropUVs(d._crop,d.flipX,d.flipY),v.setAlpha&&(d.alpha=v.alpha),d.setSizeToFrame(),d._originComponent&&(v.frame.customPivot?d.setOrigin(v.frame.pivotX,v.frame.pivotY):d.updateDisplayOrigin()),this.isPlaying&&this.hasStarted&&(this.emitEvents(l.ANIMATION_UPDATE),this._pendingStop===3&&this._pendingStopValue===v&&this.stop()),d},"setCurrentFrame"),nextFrame:r(function(){return this.currentAnim&&this.currentAnim.nextFrame(this),this.parent},"nextFrame"),previousFrame:r(function(){return this.currentAnim&&this.currentAnim.previousFrame(this),this.parent},"previousFrame"),get:r(function(v){return this.anims?this.anims.get(v):null},"get"),exists:r(function(v){return this.anims?this.anims.has(v):!1},"exists"),create:r(function(v){var d=v.key,p=!1;return d&&(p=this.get(d),p?console.warn("Animation key already exists: "+d):(p=new f(this,d,v),this.anims||(this.anims=new o),this.anims.set(d,p))),p},"create"),createFromAseprite:r(function(v,d){return this.animationManager.createFromAseprite(v,d,this.parent)},"createFromAseprite"),generateFrameNames:r(function(v,d){return this.animationManager.generateFrameNames(v,d)},"generateFrameNames"),generateFrameNumbers:r(function(v,d){return this.animationManager.generateFrameNumbers(v,d)},"generateFrameNumbers"),remove:r(function(v){var d=this.get(v);return d&&(this.currentAnim===d&&this.stop(),this.anims.delete(v)),d},"remove"),destroy:r(function(){this.animationManager.off(l.REMOVE_ANIMATION,this.globalRemove,this),this.anims&&this.anims.clear(),this.animationManager=null,this.parent=null,this.nextAnim=null,this.nextAnimsQueue.length=0,this.currentAnim=null,this.currentFrame=null},"destroy"),isPaused:{get:r(function(){return this._paused},"get")}});n.exports=u},57090:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="add"},25312:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="animationcomplete"},89580:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="animationcomplete-"},52860:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="animationrepeat"},63850:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="animationrestart"},99085:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="animationstart"},28087:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="animationstop"},1794:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="animationupdate"},52562:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="pauseall"},57953:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="remove"},68339:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="resumeall"},74943:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={ADD_ANIMATION:i(57090),ANIMATION_COMPLETE:i(25312),ANIMATION_COMPLETE_KEY:i(89580),ANIMATION_REPEAT:i(52860),ANIMATION_RESTART:i(63850),ANIMATION_START:i(99085),ANIMATION_STOP:i(28087),ANIMATION_UPDATE:i(1794),PAUSE_ALL:i(52562),REMOVE_ANIMATION:i(57953),RESUME_ALL:i(68339)}},60421:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={Animation:i(42099),AnimationFrame:i(41138),AnimationManager:i(60848),AnimationState:i(9674),Events:i(74943)}},2161:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(83419),y=i(90330),c=i(50792),o=i(24736),l=new f({initialize:r(function(){this.entries=new y,this.events=new c},"BaseCache"),add:r(function(a,u){return this.entries.set(a,u),this.events.emit(o.ADD,this,a,u),this},"add"),has:r(function(a){return this.entries.has(a)},"has"),exists:r(function(a){return this.entries.has(a)},"exists"),get:r(function(a){return this.entries.get(a)},"get"),remove:r(function(a){var u=this.get(a);return u&&(this.entries.delete(a),this.events.emit(o.REMOVE,this,a,u.data)),this},"remove"),getKeys:r(function(){return this.entries.keys()},"getKeys"),destroy:r(function(){this.entries.clear(),this.events.removeAllListeners(),this.entries=null,this.events=null},"destroy")});n.exports=l},24047:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(2161),y=i(83419),c=i(8443),o=new y({initialize:r(function(a){this.game=a,this.binary=new f,this.bitmapFont=new f,this.json=new f,this.physics=new f,this.shader=new f,this.audio=new f,this.video=new f,this.text=new f,this.html=new f,this.obj=new f,this.tilemap=new f,this.xml=new f,this.custom={},this.game.events.once(c.DESTROY,this.destroy,this)},"CacheManager"),addCustom:r(function(l){return this.custom.hasOwnProperty(l)||(this.custom[l]=new f),this.custom[l]},"addCustom"),destroy:r(function(){for(var l=["binary","bitmapFont","json","physics","shader","audio","video","text","html","obj","tilemap","xml"],a=0;a<l.length;a++)this[l[a]].destroy(),this[l[a]]=null;for(var u in this.custom)this.custom[u].destroy();this.custom=null,this.game=null},"destroy")});n.exports=o},51464:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="add"},59261:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="remove"},24736:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={ADD:i(51464),REMOVE:i(59261)}},83388:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={BaseCache:i(2161),CacheManager:i(24047),Events:i(24736)}},71911:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(83419),y=i(31401),c=i(39506),o=i(50792),l=i(19715),a=i(87841),u=i(61340),v=i(80333),d=i(26099),p=new f({Extends:o,Mixins:[y.AlphaSingle,y.Visible],initialize:r(function(m,x,C,P){m===void 0&&(m=0),x===void 0&&(x=0),C===void 0&&(C=0),P===void 0&&(P=0),o.call(this),this.scene,this.sceneManager,this.scaleManager,this.cameraManager,this.id=0,this.name="",this.roundPixels=!1,this.useBounds=!1,this.worldView=new a,this.dirty=!0,this._x=m,this._y=x,this._width=C,this._height=P,this._bounds=new a,this._scrollX=0,this._scrollY=0,this._zoomX=1,this._zoomY=1,this._rotation=0,this.matrix=new u,this.transparent=!0,this.backgroundColor=v("rgba(0,0,0,0)"),this.disableCull=!1,this.culledObjects=[],this.midPoint=new d(C/2,P/2),this.originX=.5,this.originY=.5,this._customViewport=!1,this.mask=null,this._maskCamera=null,this.renderList=[],this.isSceneCamera=!0},"BaseCamera"),addToRenderList:r(function(g){this.renderList.push(g)},"addToRenderList"),setOrigin:r(function(g,m){return g===void 0&&(g=.5),m===void 0&&(m=g),this.originX=g,this.originY=m,this},"setOrigin"),getScroll:r(function(g,m,x){x===void 0&&(x=new d);var C=this.width*.5,P=this.height*.5;return x.x=g-C,x.y=m-P,this.useBounds&&(x.x=this.clampX(x.x),x.y=this.clampY(x.y)),x},"getScroll"),centerOnX:r(function(g){var m=this.width*.5;return this.midPoint.x=g,this.scrollX=g-m,this.useBounds&&(this.scrollX=this.clampX(this.scrollX)),this},"centerOnX"),centerOnY:r(function(g){var m=this.height*.5;return this.midPoint.y=g,this.scrollY=g-m,this.useBounds&&(this.scrollY=this.clampY(this.scrollY)),this},"centerOnY"),centerOn:r(function(g,m){return this.centerOnX(g),this.centerOnY(m),this},"centerOn"),centerToBounds:r(function(){if(this.useBounds){var g=this._bounds,m=this.width*.5,x=this.height*.5;this.midPoint.set(g.centerX,g.centerY),this.scrollX=g.centerX-m,this.scrollY=g.centerY-x}return this},"centerToBounds"),centerToSize:r(function(){return this.scrollX=this.width*.5,this.scrollY=this.height*.5,this},"centerToSize"),cull:r(function(g){if(this.disableCull)return g;var m=this.matrix.matrix,x=m[0],C=m[1],P=m[2],A=m[3],R=x*A-C*P;if(!R)return g;var L=m[4],O=m[5],w=this.scrollX,b=this.scrollY,F=this.width,M=this.height,I=this.y,B=I+M,G=this.x,N=G+F,z=this.culledObjects,H=g.length;R=1/R,z.length=0;for(var $=0;$<H;++$){var V=g[$];if(!V.hasOwnProperty("width")||V.parentContainer){z.push(V);continue}var Y=V.width,D=V.height,U=V.x-w*V.scrollFactorX-Y*V.originX,W=V.y-b*V.scrollFactorY-D*V.originY,k=U*x+W*P+L,X=U*C+W*A+O,K=(U+Y)*x+(W+D)*P+L,Z=(U+Y)*C+(W+D)*A+O;K>G&&k<N&&Z>I&&X<B&&z.push(V)}return z},"cull"),getWorldPoint:r(function(g,m,x){x===void 0&&(x=new d);var C=this.matrix.matrix,P=C[0],A=C[1],R=C[2],L=C[3],O=C[4],w=C[5],b=P*L-A*R;if(!b)return x.x=g,x.y=m,x;b=1/b;var F=L*b,M=-A*b,I=-R*b,B=P*b,G=(R*w-L*O)*b,N=(A*O-P*w)*b,z=Math.cos(this.rotation),H=Math.sin(this.rotation),$=this.zoomX,V=this.zoomY,Y=this.scrollX,D=this.scrollY,U=g+(Y*z-D*H)*$,W=m+(Y*H+D*z)*V;return x.x=U*F+W*I+G,x.y=U*M+W*B+N,x},"getWorldPoint"),ignore:r(function(g){var m=this.id;Array.isArray(g)||(g=[g]);for(var x=0;x<g.length;x++){var C=g[x];Array.isArray(C)?this.ignore(C):C.isParent?this.ignore(C.getChildren()):C.cameraFilter|=m}return this},"ignore"),preRender:r(function(){this.renderList.length=0;var g=this.width,m=this.height,x=g*.5,C=m*.5,P=this.zoomX,A=this.zoomY,R=this.matrix,L=g*this.originX,O=m*this.originY,w=this.scrollX,b=this.scrollY;this.useBounds&&(w=this.clampX(w),b=this.clampY(b)),this.scrollX=w,this.scrollY=b;var F=w+x,M=b+C;this.midPoint.set(F,M);var I=g/P,B=m/A;this.worldView.setTo(F-I/2,M-B/2,I,B),R.applyITRS(this.x+L,this.y+O,this.rotation,P,A),R.translate(-L,-O)},"preRender"),clampX:r(function(g){var m=this._bounds,x=this.displayWidth,C=m.x+(x-this.width)/2,P=Math.max(C,C+m.width-x);return g<C?g=C:g>P&&(g=P),g},"clampX"),clampY:r(function(g){var m=this._bounds,x=this.displayHeight,C=m.y+(x-this.height)/2,P=Math.max(C,C+m.height-x);return g<C?g=C:g>P&&(g=P),g},"clampY"),removeBounds:r(function(){return this.useBounds=!1,this.dirty=!0,this._bounds.setEmpty(),this},"removeBounds"),setAngle:r(function(g){return g===void 0&&(g=0),this.rotation=c(g),this},"setAngle"),setBackgroundColor:r(function(g){return g===void 0&&(g="rgba(0,0,0,0)"),this.backgroundColor=v(g),this.transparent=this.backgroundColor.alpha===0,this},"setBackgroundColor"),setBounds:r(function(g,m,x,C,P){return P===void 0&&(P=!1),this._bounds.setTo(g,m,x,C),this.dirty=!0,this.useBounds=!0,P?this.centerToBounds():(this.scrollX=this.clampX(this.scrollX),this.scrollY=this.clampY(this.scrollY)),this},"setBounds"),getBounds:r(function(g){g===void 0&&(g=new a);var m=this._bounds;return g.setTo(m.x,m.y,m.width,m.height),g},"getBounds"),setName:r(function(g){return g===void 0&&(g=""),this.name=g,this},"setName"),setPosition:r(function(g,m){return m===void 0&&(m=g),this.x=g,this.y=m,this},"setPosition"),setRotation:r(function(g){return g===void 0&&(g=0),this.rotation=g,this},"setRotation"),setRoundPixels:r(function(g){return this.roundPixels=g,this},"setRoundPixels"),setScene:r(function(g,m){m===void 0&&(m=!0),this.scene&&this._customViewport&&this.sceneManager.customViewports--,this.scene=g,this.isSceneCamera=m;var x=g.sys;return this.sceneManager=x.game.scene,this.scaleManager=x.scale,this.cameraManager=x.cameras,this.updateSystem(),this},"setScene"),setScroll:r(function(g,m){return m===void 0&&(m=g),this.scrollX=g,this.scrollY=m,this},"setScroll"),setSize:r(function(g,m){return m===void 0&&(m=g),this.width=g,this.height=m,this},"setSize"),setViewport:r(function(g,m,x,C){return this.x=g,this.y=m,this.width=x,this.height=C,this},"setViewport"),setZoom:r(function(g,m){return g===void 0&&(g=1),m===void 0&&(m=g),g===0&&(g=.001),m===0&&(m=.001),this.zoomX=g,this.zoomY=m,this},"setZoom"),setMask:r(function(g,m){return m===void 0&&(m=!0),this.mask=g,this._maskCamera=m?this.cameraManager.default:this,this},"setMask"),clearMask:r(function(g){return g===void 0&&(g=!1),g&&this.mask&&this.mask.destroy(),this.mask=null,this},"clearMask"),toJSON:r(function(){var g={name:this.name,x:this.x,y:this.y,width:this.width,height:this.height,zoom:this.zoom,rotation:this.rotation,roundPixels:this.roundPixels,scrollX:this.scrollX,scrollY:this.scrollY,backgroundColor:this.backgroundColor.rgba};return this.useBounds&&(g.bounds={x:this._bounds.x,y:this._bounds.y,width:this._bounds.width,height:this._bounds.height}),g},"toJSON"),update:r(function(){},"update"),setIsSceneCamera:r(function(g){return this.isSceneCamera=g,this},"setIsSceneCamera"),updateSystem:r(function(){if(!(!this.scaleManager||!this.isSceneCamera)){var g=this._x!==0||this._y!==0||this.scaleManager.width!==this._width||this.scaleManager.height!==this._height,m=this.sceneManager;g&&!this._customViewport?m.customViewports++:!g&&this._customViewport&&m.customViewports--,this.dirty=!0,this._customViewport=g}},"updateSystem"),destroy:r(function(){this.emit(l.DESTROY,this),this.removeAllListeners(),this.matrix.destroy(),this.culledObjects=[],this._customViewport&&this.sceneManager.customViewports--,this.renderList=[],this._bounds=null,this.scene=null,this.scaleManager=null,this.sceneManager=null,this.cameraManager=null},"destroy"),x:{get:r(function(){return this._x},"get"),set:r(function(g){this._x=g,this.updateSystem()},"set")},y:{get:r(function(){return this._y},"get"),set:r(function(g){this._y=g,this.updateSystem()},"set")},width:{get:r(function(){return this._width},"get"),set:r(function(g){this._width=g,this.updateSystem()},"set")},height:{get:r(function(){return this._height},"get"),set:r(function(g){this._height=g,this.updateSystem()},"set")},scrollX:{get:r(function(){return this._scrollX},"get"),set:r(function(g){g!==this._scrollX&&(this._scrollX=g,this.dirty=!0)},"set")},scrollY:{get:r(function(){return this._scrollY},"get"),set:r(function(g){g!==this._scrollY&&(this._scrollY=g,this.dirty=!0)},"set")},zoom:{get:r(function(){return(this._zoomX+this._zoomY)/2},"get"),set:r(function(g){this._zoomX=g,this._zoomY=g,this.dirty=!0},"set")},zoomX:{get:r(function(){return this._zoomX},"get"),set:r(function(g){this._zoomX=g,this.dirty=!0},"set")},zoomY:{get:r(function(){return this._zoomY},"get"),set:r(function(g){this._zoomY=g,this.dirty=!0},"set")},rotation:{get:r(function(){return this._rotation},"get"),set:r(function(g){this._rotation=g,this.dirty=!0},"set")},centerX:{get:r(function(){return this.x+.5*this.width},"get")},centerY:{get:r(function(){return this.y+.5*this.height},"get")},displayWidth:{get:r(function(){return this.width/this.zoomX},"get")},displayHeight:{get:r(function(){return this.height/this.zoomY},"get")}});n.exports=p},38058:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(71911),y=i(67502),c=i(45319),o=i(83419),l=i(31401),a=i(20052),u=i(19715),v=i(28915),d=i(87841),p=i(26099),g=new o({Extends:f,Mixins:[l.PostPipeline],initialize:r(function(x,C,P,A){f.call(this,x,C,P,A),this.initPostPipeline(),this.inputEnabled=!0,this.fadeEffect=new a.Fade(this),this.flashEffect=new a.Flash(this),this.shakeEffect=new a.Shake(this),this.panEffect=new a.Pan(this),this.rotateToEffect=new a.RotateTo(this),this.zoomEffect=new a.Zoom(this),this.lerp=new p(1,1),this.followOffset=new p,this.deadzone=null,this._follow=null},"Camera"),setDeadzone:r(function(m,x){if(m===void 0)this.deadzone=null;else{if(this.deadzone?(this.deadzone.width=m,this.deadzone.height=x):this.deadzone=new d(0,0,m,x),this._follow){var C=this.width/2,P=this.height/2,A=this._follow.x-this.followOffset.x,R=this._follow.y-this.followOffset.y;this.midPoint.set(A,R),this.scrollX=A-C,this.scrollY=R-P}y(this.deadzone,this.midPoint.x,this.midPoint.y)}return this},"setDeadzone"),fadeIn:r(function(m,x,C,P,A,R){return this.fadeEffect.start(!1,m,x,C,P,!0,A,R)},"fadeIn"),fadeOut:r(function(m,x,C,P,A,R){return this.fadeEffect.start(!0,m,x,C,P,!0,A,R)},"fadeOut"),fadeFrom:r(function(m,x,C,P,A,R,L){return this.fadeEffect.start(!1,m,x,C,P,A,R,L)},"fadeFrom"),fade:r(function(m,x,C,P,A,R,L){return this.fadeEffect.start(!0,m,x,C,P,A,R,L)},"fade"),flash:r(function(m,x,C,P,A,R,L){return this.flashEffect.start(m,x,C,P,A,R,L)},"flash"),shake:r(function(m,x,C,P,A){return this.shakeEffect.start(m,x,C,P,A)},"shake"),pan:r(function(m,x,C,P,A,R,L){return this.panEffect.start(m,x,C,P,A,R,L)},"pan"),rotateTo:r(function(m,x,C,P,A,R,L){return this.rotateToEffect.start(m,x,C,P,A,R,L)},"rotateTo"),zoomTo:r(function(m,x,C,P,A,R){return this.zoomEffect.start(m,x,C,P,A,R)},"zoomTo"),preRender:r(function(){this.renderList.length=0;var m=this.width,x=this.height,C=m*.5,P=x*.5,A=this.zoom,R=this.matrix,L=m*this.originX,O=x*this.originY,w=this._follow,b=this.deadzone,F=this.scrollX,M=this.scrollY;b&&y(b,this.midPoint.x,this.midPoint.y);var I=!1;if(w&&!this.panEffect.isRunning){var B=this.lerp,G=w.x-this.followOffset.x,N=w.y-this.followOffset.y;b?(G<b.x?F=v(F,F-(b.x-G),B.x):G>b.right&&(F=v(F,F+(G-b.right),B.x)),N<b.y?M=v(M,M-(b.y-N),B.y):N>b.bottom&&(M=v(M,M+(N-b.bottom),B.y))):(F=v(F,G-L,B.x),M=v(M,N-O,B.y)),I=!0}this.useBounds&&(F=this.clampX(F),M=this.clampY(M)),this.scrollX=F,this.scrollY=M;var z=F+C,H=M+P;this.midPoint.set(z,H);var $=m/A,V=x/A,Y=Math.floor(z-$/2),D=Math.floor(H-V/2);this.worldView.setTo(Y,D,$,V),R.applyITRS(Math.floor(this.x+L),Math.floor(this.y+O),this.rotation,A,A),R.translate(-L,-O),this.shakeEffect.preRender(),I&&this.emit(u.FOLLOW_UPDATE,this,w)},"preRender"),setLerp:r(function(m,x){return m===void 0&&(m=1),x===void 0&&(x=m),this.lerp.set(m,x),this},"setLerp"),setFollowOffset:r(function(m,x){return m===void 0&&(m=0),x===void 0&&(x=0),this.followOffset.set(m,x),this},"setFollowOffset"),startFollow:r(function(m,x,C,P,A,R){x===void 0&&(x=!1),C===void 0&&(C=1),P===void 0&&(P=C),A===void 0&&(A=0),R===void 0&&(R=A),this._follow=m,this.roundPixels=x,C=c(C,0,1),P=c(P,0,1),this.lerp.set(C,P),this.followOffset.set(A,R);var L=this.width/2,O=this.height/2,w=m.x-A,b=m.y-R;return this.midPoint.set(w,b),this.scrollX=w-L,this.scrollY=b-O,this.useBounds&&(this.scrollX=this.clampX(this.scrollX),this.scrollY=this.clampY(this.scrollY)),this},"startFollow"),stopFollow:r(function(){return this._follow=null,this},"stopFollow"),resetFX:r(function(){return this.rotateToEffect.reset(),this.panEffect.reset(),this.shakeEffect.reset(),this.flashEffect.reset(),this.fadeEffect.reset(),this},"resetFX"),update:r(function(m,x){this.visible&&(this.rotateToEffect.update(m,x),this.panEffect.update(m,x),this.zoomEffect.update(m,x),this.shakeEffect.update(m,x),this.flashEffect.update(m,x),this.fadeEffect.update(m,x))},"update"),destroy:r(function(){this.resetFX(),f.prototype.destroy.call(this),this._follow=null,this.deadzone=null},"destroy")});n.exports=g},32743:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(38058),y=i(83419),c=i(95540),o=i(37277),l=i(37303),a=i(97480),u=i(44594),v=new y({initialize:r(function(p){this.scene=p,this.systems=p.sys,this.roundPixels=p.sys.game.config.roundPixels,this.cameras=[],this.main,this.default,p.sys.events.once(u.BOOT,this.boot,this),p.sys.events.on(u.START,this.start,this)},"CameraManager"),boot:r(function(){var d=this.systems;d.settings.cameras?this.fromJSON(d.settings.cameras):this.add(),this.main=this.cameras[0],this.default=new f(0,0,d.scale.width,d.scale.height).setScene(this.scene),d.game.scale.on(a.RESIZE,this.onResize,this),this.systems.events.once(u.DESTROY,this.destroy,this)},"boot"),start:r(function(){if(!this.main){var d=this.systems;d.settings.cameras?this.fromJSON(d.settings.cameras):this.add(),this.main=this.cameras[0]}var p=this.systems.events;p.on(u.UPDATE,this.update,this),p.once(u.SHUTDOWN,this.shutdown,this)},"start"),add:r(function(d,p,g,m,x,C){d===void 0&&(d=0),p===void 0&&(p=0),g===void 0&&(g=this.scene.sys.scale.width),m===void 0&&(m=this.scene.sys.scale.height),x===void 0&&(x=!1),C===void 0&&(C="");var P=new f(d,p,g,m);return P.setName(C),P.setScene(this.scene),P.setRoundPixels(this.roundPixels),P.id=this.getNextID(),this.cameras.push(P),x&&(this.main=P),P},"add"),addExisting:r(function(d,p){p===void 0&&(p=!1);var g=this.cameras.indexOf(d);return g===-1?(d.id=this.getNextID(),d.setRoundPixels(this.roundPixels),this.cameras.push(d),p&&(this.main=d),d):null},"addExisting"),getNextID:r(function(){for(var d=this.cameras,p=1,g=0;g<32;g++){for(var m=!1,x=0;x<d.length;x++){var C=d[x];if(C&&C.id===p){m=!0;continue}}if(m)p=p<<1;else return p}return 0},"getNextID"),getTotal:r(function(d){d===void 0&&(d=!1);for(var p=0,g=this.cameras,m=0;m<g.length;m++){var x=g[m];(!d||d&&x.visible)&&p++}return p},"getTotal"),fromJSON:r(function(d){Array.isArray(d)||(d=[d]);for(var p=this.scene.sys.scale.width,g=this.scene.sys.scale.height,m=0;m<d.length;m++){var x=d[m],C=c(x,"x",0),P=c(x,"y",0),A=c(x,"width",p),R=c(x,"height",g),L=this.add(C,P,A,R);L.name=c(x,"name",""),L.zoom=c(x,"zoom",1),L.rotation=c(x,"rotation",0),L.scrollX=c(x,"scrollX",0),L.scrollY=c(x,"scrollY",0),L.roundPixels=c(x,"roundPixels",!1),L.visible=c(x,"visible",!0);var O=c(x,"backgroundColor",!1);O&&L.setBackgroundColor(O);var w=c(x,"bounds",null);if(w){var b=c(w,"x",0),F=c(w,"y",0),M=c(w,"width",p),I=c(w,"height",g);L.setBounds(b,F,M,I)}}return this},"fromJSON"),getCamera:r(function(d){for(var p=this.cameras,g=0;g<p.length;g++)if(p[g].name===d)return p[g];return null},"getCamera"),getCamerasBelowPointer:r(function(d){for(var p=this.cameras,g=d.x,m=d.y,x=[],C=0;C<p.length;C++){var P=p[C];P.visible&&P.inputEnabled&&l(P,g,m)&&x.unshift(P)}return x},"getCamerasBelowPointer"),remove:r(function(d,p){p===void 0&&(p=!0),Array.isArray(d)||(d=[d]);for(var g=0,m=this.cameras,x=0;x<d.length;x++){var C=m.indexOf(d[x]);C!==-1&&(p?m[C].destroy():m[C].renderList=[],m.splice(C,1),g++)}return!this.main&&m[0]&&(this.main=m[0]),g},"remove"),render:r(function(d,p){for(var g=this.scene,m=this.cameras,x=0;x<m.length;x++){var C=m[x];if(C.visible&&C.alpha>0){C.preRender();var P=this.getVisibleChildren(p.getChildren(),C);d.render(g,P,C)}}},"render"),getVisibleChildren:r(function(d,p){return d.filter(function(g){return g.willRender(p)})},"getVisibleChildren"),resetAll:r(function(){for(var d=0;d<this.cameras.length;d++)this.cameras[d].destroy();return this.cameras=[],this.main=this.add(),this.main},"resetAll"),update:r(function(d,p){for(var g=0;g<this.cameras.length;g++)this.cameras[g].update(d,p)},"update"),onResize:r(function(d,p,g,m,x){for(var C=0;C<this.cameras.length;C++){var P=this.cameras[C];P._x===0&&P._y===0&&P._width===m&&P._height===x&&P.setSize(p.width,p.height)}},"onResize"),resize:r(function(d,p){for(var g=0;g<this.cameras.length;g++)this.cameras[g].setSize(d,p)},"resize"),shutdown:r(function(){this.main=void 0;for(var d=0;d<this.cameras.length;d++)this.cameras[d].destroy();this.cameras=[];var p=this.systems.events;p.off(u.UPDATE,this.update,this),p.off(u.SHUTDOWN,this.shutdown,this)},"shutdown"),destroy:r(function(){this.shutdown(),this.default.destroy(),this.systems.events.off(u.START,this.start,this),this.systems.events.off(u.DESTROY,this.destroy,this),this.systems.game.scale.off(a.RESIZE,this.onResize,this),this.scene=null,this.systems=null},"destroy")});o.register("CameraManager",v,"cameras"),n.exports=v},5020:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(45319),y=i(83419),c=i(19715),o=new y({initialize:r(function(a){this.camera=a,this.isRunning=!1,this.isComplete=!1,this.direction=!0,this.duration=0,this.red=0,this.green=0,this.blue=0,this.alpha=0,this.progress=0,this._elapsed=0,this._onUpdate,this._onUpdateScope},"Fade"),start:r(function(l,a,u,v,d,p,g,m){if(l===void 0&&(l=!0),a===void 0&&(a=1e3),u===void 0&&(u=0),v===void 0&&(v=0),d===void 0&&(d=0),p===void 0&&(p=!1),g===void 0&&(g=null),m===void 0&&(m=this.camera.scene),!p&&this.isRunning)return this.camera;this.isRunning=!0,this.isComplete=!1,this.duration=a,this.direction=l,this.progress=0,this.red=u,this.green=v,this.blue=d,this.alpha=l?Number.MIN_VALUE:1,this._elapsed=0,this._onUpdate=g,this._onUpdateScope=m;var x=l?c.FADE_OUT_START:c.FADE_IN_START;return this.camera.emit(x,this.camera,this,a,u,v,d),this.camera},"start"),update:r(function(l,a){this.isRunning&&(this._elapsed+=a,this.progress=f(this._elapsed/this.duration,0,1),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress),this._elapsed<this.duration?this.alpha=this.direction?this.progress:1-this.progress:(this.alpha=this.direction?1:0,this.effectComplete()))},"update"),postRenderCanvas:r(function(l){if(!this.isRunning&&!this.isComplete)return!1;var a=this.camera;return l.fillStyle="rgba("+this.red+","+this.green+","+this.blue+","+this.alpha+")",l.fillRect(a.x,a.y,a.width,a.height),!0},"postRenderCanvas"),postRenderWebGL:r(function(l,a){if(!this.isRunning&&!this.isComplete)return!1;var u=this.camera,v=this.red/255,d=this.green/255,p=this.blue/255;return l.drawFillRect(u.x,u.y,u.width,u.height,a(p,d,v,1),this.alpha),!0},"postRenderWebGL"),effectComplete:r(function(){this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.isComplete=!0;var l=this.direction?c.FADE_OUT_COMPLETE:c.FADE_IN_COMPLETE;this.camera.emit(l,this.camera,this)},"effectComplete"),reset:r(function(){this.isRunning=!1,this.isComplete=!1,this._onUpdate=null,this._onUpdateScope=null},"reset"),destroy:r(function(){this.reset(),this.camera=null},"destroy")});n.exports=o},10662:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(45319),y=i(83419),c=i(19715),o=new y({initialize:r(function(a){this.camera=a,this.isRunning=!1,this.duration=0,this.red=0,this.green=0,this.blue=0,this.alpha=1,this.progress=0,this._elapsed=0,this._alpha,this._onUpdate,this._onUpdateScope},"Flash"),start:r(function(l,a,u,v,d,p,g){return l===void 0&&(l=250),a===void 0&&(a=255),u===void 0&&(u=255),v===void 0&&(v=255),d===void 0&&(d=!1),p===void 0&&(p=null),g===void 0&&(g=this.camera.scene),!d&&this.isRunning?this.camera:(this.isRunning=!0,this.duration=l,this.progress=0,this.red=a,this.green=u,this.blue=v,this._alpha=this.alpha,this._elapsed=0,this._onUpdate=p,this._onUpdateScope=g,this.camera.emit(c.FLASH_START,this.camera,this,l,a,u,v),this.camera)},"start"),update:r(function(l,a){this.isRunning&&(this._elapsed+=a,this.progress=f(this._elapsed/this.duration,0,1),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress),this._elapsed<this.duration?this.alpha=this._alpha*(1-this.progress):this.effectComplete())},"update"),postRenderCanvas:r(function(l){if(!this.isRunning)return!1;var a=this.camera;return l.fillStyle="rgba("+this.red+","+this.green+","+this.blue+","+this.alpha+")",l.fillRect(a.x,a.y,a.width,a.height),!0},"postRenderCanvas"),postRenderWebGL:r(function(l,a){if(!this.isRunning)return!1;var u=this.camera,v=this.red/255,d=this.green/255,p=this.blue/255;return l.drawFillRect(u.x,u.y,u.width,u.height,a(p,d,v,1),this.alpha),!0},"postRenderWebGL"),effectComplete:r(function(){this.alpha=this._alpha,this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(c.FLASH_COMPLETE,this.camera,this)},"effectComplete"),reset:r(function(){this.isRunning=!1,this._onUpdate=null,this._onUpdateScope=null},"reset"),destroy:r(function(){this.reset(),this.camera=null},"destroy")});n.exports=o},20359:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(45319),y=i(83419),c=i(62640),o=i(19715),l=i(26099),a=new y({initialize:r(function(v){this.camera=v,this.isRunning=!1,this.duration=0,this.source=new l,this.current=new l,this.destination=new l,this.ease,this.progress=0,this._elapsed=0,this._onUpdate,this._onUpdateScope},"Pan"),start:r(function(u,v,d,p,g,m,x){d===void 0&&(d=1e3),p===void 0&&(p=c.Linear),g===void 0&&(g=!1),m===void 0&&(m=null),x===void 0&&(x=this.camera.scene);var C=this.camera;return!g&&this.isRunning||(this.isRunning=!0,this.duration=d,this.progress=0,this.source.set(C.scrollX,C.scrollY),this.destination.set(u,v),C.getScroll(u,v,this.current),typeof p=="string"&&c.hasOwnProperty(p)?this.ease=c[p]:typeof p=="function"&&(this.ease=p),this._elapsed=0,this._onUpdate=m,this._onUpdateScope=x,this.camera.emit(o.PAN_START,this.camera,this,d,u,v)),C},"start"),update:r(function(u,v){if(this.isRunning){this._elapsed+=v;var d=f(this._elapsed/this.duration,0,1);this.progress=d;var p=this.camera;if(this._elapsed<this.duration){var g=this.ease(d);p.getScroll(this.destination.x,this.destination.y,this.current);var m=this.source.x+(this.current.x-this.source.x)*g,x=this.source.y+(this.current.y-this.source.y)*g;p.setScroll(m,x),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,p,d,m,x)}else p.centerOn(this.destination.x,this.destination.y),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,p,d,p.scrollX,p.scrollY),this.effectComplete()}},"update"),effectComplete:r(function(){this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(o.PAN_COMPLETE,this.camera,this)},"effectComplete"),reset:r(function(){this.isRunning=!1,this._onUpdate=null,this._onUpdateScope=null},"reset"),destroy:r(function(){this.reset(),this.camera=null,this.source=null,this.destination=null},"destroy")});n.exports=a},34208:(n,T,i)=>{/**
 * @author       Jason Nicholls <nicholls.jason@gmail.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var f=i(45319),y=i(83419),c=i(19715),o=i(62640),l=new y({initialize:r(function(u){this.camera=u,this.isRunning=!1,this.duration=0,this.source=0,this.current=0,this.destination=0,this.ease,this.progress=0,this._elapsed=0,this._onUpdate,this._onUpdateScope,this.clockwise=!0,this.shortestPath=!1},"RotateTo"),start:r(function(a,u,v,d,p,g,m){v===void 0&&(v=1e3),d===void 0&&(d=o.Linear),p===void 0&&(p=!1),g===void 0&&(g=null),m===void 0&&(m=this.camera.scene),u===void 0&&(u=!1),this.shortestPath=u;var x=a;a<0?(x=-1*a,this.clockwise=!1):this.clockwise=!0;var C=360*Math.PI/180;x=x-Math.floor(x/C)*C;var P=this.camera;if(!p&&this.isRunning)return P;if(this.isRunning=!0,this.duration=v,this.progress=0,this.source=P.rotation,this.destination=x,typeof d=="string"&&o.hasOwnProperty(d)?this.ease=o[d]:typeof d=="function"&&(this.ease=d),this._elapsed=0,this._onUpdate=g,this._onUpdateScope=m,this.shortestPath){var A=0,R=0;this.destination>this.source?A=Math.abs(this.destination-this.source):A=Math.abs(this.destination+C)-this.source,this.source>this.destination?R=Math.abs(this.source-this.destination):R=Math.abs(this.source+C)-this.destination,A<R?this.clockwise=!0:A>R&&(this.clockwise=!1)}return this.camera.emit(c.ROTATE_START,this.camera,this,v,x),P},"start"),update:r(function(a,u){if(this.isRunning){this._elapsed+=u;var v=f(this._elapsed/this.duration,0,1);this.progress=v;var d=this.camera;if(this._elapsed<this.duration){var p=this.ease(v);this.current=d.rotation;var g=0,m=360*Math.PI/180,x=this.destination,C=this.current;this.clockwise===!1&&(x=this.current,C=this.destination),x>=C?g=Math.abs(x-C):g=Math.abs(x+m)-C;var P=0;this.clockwise?P=d.rotation+g*p:P=d.rotation-g*p,d.rotation=P,this._onUpdate&&this._onUpdate.call(this._onUpdateScope,d,v,P)}else d.rotation=this.destination,this._onUpdate&&this._onUpdate.call(this._onUpdateScope,d,v,this.destination),this.effectComplete()}},"update"),effectComplete:r(function(){this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(c.ROTATE_COMPLETE,this.camera,this)},"effectComplete"),reset:r(function(){this.isRunning=!1,this._onUpdate=null,this._onUpdateScope=null},"reset"),destroy:r(function(){this.reset(),this.camera=null,this.source=null,this.destination=null},"destroy")});n.exports=l},30330:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(45319),y=i(83419),c=i(19715),o=i(26099),l=new y({initialize:r(function(u){this.camera=u,this.isRunning=!1,this.duration=0,this.intensity=new o,this.progress=0,this._elapsed=0,this._offsetX=0,this._offsetY=0,this._onUpdate,this._onUpdateScope},"Shake"),start:r(function(a,u,v,d,p){return a===void 0&&(a=100),u===void 0&&(u=.05),v===void 0&&(v=!1),d===void 0&&(d=null),p===void 0&&(p=this.camera.scene),!v&&this.isRunning?this.camera:(this.isRunning=!0,this.duration=a,this.progress=0,typeof u=="number"?this.intensity.set(u):this.intensity.set(u.x,u.y),this._elapsed=0,this._offsetX=0,this._offsetY=0,this._onUpdate=d,this._onUpdateScope=p,this.camera.emit(c.SHAKE_START,this.camera,this,a,u),this.camera)},"start"),preRender:r(function(){this.isRunning&&this.camera.matrix.translate(this._offsetX,this._offsetY)},"preRender"),update:r(function(a,u){if(this.isRunning)if(this._elapsed+=u,this.progress=f(this._elapsed/this.duration,0,1),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress),this._elapsed<this.duration){var v=this.intensity,d=this.camera.width,p=this.camera.height,g=this.camera.zoom;this._offsetX=(Math.random()*v.x*d*2-v.x*d)*g,this._offsetY=(Math.random()*v.y*p*2-v.y*p)*g,this.camera.roundPixels&&(this._offsetX=Math.round(this._offsetX),this._offsetY=Math.round(this._offsetY))}else this.effectComplete()},"update"),effectComplete:r(function(){this._offsetX=0,this._offsetY=0,this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(c.SHAKE_COMPLETE,this.camera,this)},"effectComplete"),reset:r(function(){this.isRunning=!1,this._offsetX=0,this._offsetY=0,this._onUpdate=null,this._onUpdateScope=null},"reset"),destroy:r(function(){this.reset(),this.camera=null,this.intensity=null},"destroy")});n.exports=l},45641:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(45319),y=i(83419),c=i(62640),o=i(19715),l=new y({initialize:r(function(u){this.camera=u,this.isRunning=!1,this.duration=0,this.source=1,this.destination=1,this.ease,this.progress=0,this._elapsed=0,this._onUpdate,this._onUpdateScope},"Zoom"),start:r(function(a,u,v,d,p,g){u===void 0&&(u=1e3),v===void 0&&(v=c.Linear),d===void 0&&(d=!1),p===void 0&&(p=null),g===void 0&&(g=this.camera.scene);var m=this.camera;return!d&&this.isRunning||(this.isRunning=!0,this.duration=u,this.progress=0,this.source=m.zoom,this.destination=a,typeof v=="string"&&c.hasOwnProperty(v)?this.ease=c[v]:typeof v=="function"&&(this.ease=v),this._elapsed=0,this._onUpdate=p,this._onUpdateScope=g,this.camera.emit(o.ZOOM_START,this.camera,this,u,a)),m},"start"),update:r(function(a,u){this.isRunning&&(this._elapsed+=u,this.progress=f(this._elapsed/this.duration,0,1),this._elapsed<this.duration?(this.camera.zoom=this.source+(this.destination-this.source)*this.ease(this.progress),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress,this.camera.zoom)):(this.camera.zoom=this.destination,this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress,this.destination),this.effectComplete()))},"update"),effectComplete:r(function(){this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(o.ZOOM_COMPLETE,this.camera,this)},"effectComplete"),reset:r(function(){this.isRunning=!1,this._onUpdate=null,this._onUpdateScope=null},"reset"),destroy:r(function(){this.reset(),this.camera=null},"destroy")});n.exports=l},20052:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={Fade:i(5020),Flash:i(10662),Pan:i(20359),Shake:i(30330),RotateTo:i(34208),Zoom:i(45641)}},16438:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="cameradestroy"},32726:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="camerafadeincomplete"},87807:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="camerafadeinstart"},45917:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="camerafadeoutcomplete"},95666:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="camerafadeoutstart"},47056:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="cameraflashcomplete"},91261:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="cameraflashstart"},45047:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="followupdate"},81927:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="camerapancomplete"},74264:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="camerapanstart"},54419:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="postrender"},79330:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="prerender"},93183:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="camerarotatecomplete"},80112:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="camerarotatestart"},62252:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="camerashakecomplete"},86017:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="camerashakestart"},539:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="camerazoomcomplete"},51892:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="camerazoomstart"},19715:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={DESTROY:i(16438),FADE_IN_COMPLETE:i(32726),FADE_IN_START:i(87807),FADE_OUT_COMPLETE:i(45917),FADE_OUT_START:i(95666),FLASH_COMPLETE:i(47056),FLASH_START:i(91261),FOLLOW_UPDATE:i(45047),PAN_COMPLETE:i(81927),PAN_START:i(74264),POST_RENDER:i(54419),PRE_RENDER:i(79330),ROTATE_COMPLETE:i(93183),ROTATE_START:i(80112),SHAKE_COMPLETE:i(62252),SHAKE_START:i(86017),ZOOM_COMPLETE:i(539),ZOOM_START:i(51892)}},87969:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={Camera:i(38058),BaseCamera:i(71911),CameraManager:i(32743),Effects:i(20052),Events:i(19715)}},63091:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(83419),y=i(35154),c=new f({initialize:r(function(l){this.camera=y(l,"camera",null),this.left=y(l,"left",null),this.right=y(l,"right",null),this.up=y(l,"up",null),this.down=y(l,"down",null),this.zoomIn=y(l,"zoomIn",null),this.zoomOut=y(l,"zoomOut",null),this.zoomSpeed=y(l,"zoomSpeed",.01),this.minZoom=y(l,"minZoom",.001),this.maxZoom=y(l,"maxZoom",1e3),this.speedX=0,this.speedY=0;var a=y(l,"speed",null);typeof a=="number"?(this.speedX=a,this.speedY=a):(this.speedX=y(l,"speed.x",0),this.speedY=y(l,"speed.y",0)),this._zoom=0,this.active=this.camera!==null},"FixedKeyControl"),start:r(function(){return this.active=this.camera!==null,this},"start"),stop:r(function(){return this.active=!1,this},"stop"),setCamera:r(function(o){return this.camera=o,this},"setCamera"),update:r(function(o){if(this.active){o===void 0&&(o=1);var l=this.camera;this.up&&this.up.isDown?l.scrollY-=this.speedY*o|0:this.down&&this.down.isDown&&(l.scrollY+=this.speedY*o|0),this.left&&this.left.isDown?l.scrollX-=this.speedX*o|0:this.right&&this.right.isDown&&(l.scrollX+=this.speedX*o|0),this.zoomIn&&this.zoomIn.isDown?(l.zoom-=this.zoomSpeed,l.zoom<this.minZoom&&(l.zoom=this.minZoom)):this.zoomOut&&this.zoomOut.isDown&&(l.zoom+=this.zoomSpeed,l.zoom>this.maxZoom&&(l.zoom=this.maxZoom))}},"update"),destroy:r(function(){this.camera=null,this.left=null,this.right=null,this.up=null,this.down=null,this.zoomIn=null,this.zoomOut=null},"destroy")});n.exports=c},58818:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(83419),y=i(35154),c=new f({initialize:r(function(l){this.camera=y(l,"camera",null),this.left=y(l,"left",null),this.right=y(l,"right",null),this.up=y(l,"up",null),this.down=y(l,"down",null),this.zoomIn=y(l,"zoomIn",null),this.zoomOut=y(l,"zoomOut",null),this.zoomSpeed=y(l,"zoomSpeed",.01),this.minZoom=y(l,"minZoom",.001),this.maxZoom=y(l,"maxZoom",1e3),this.accelX=0,this.accelY=0;var a=y(l,"acceleration",null);typeof a=="number"?(this.accelX=a,this.accelY=a):(this.accelX=y(l,"acceleration.x",0),this.accelY=y(l,"acceleration.y",0)),this.dragX=0,this.dragY=0;var u=y(l,"drag",null);typeof u=="number"?(this.dragX=u,this.dragY=u):(this.dragX=y(l,"drag.x",0),this.dragY=y(l,"drag.y",0)),this.maxSpeedX=0,this.maxSpeedY=0;var v=y(l,"maxSpeed",null);typeof v=="number"?(this.maxSpeedX=v,this.maxSpeedY=v):(this.maxSpeedX=y(l,"maxSpeed.x",0),this.maxSpeedY=y(l,"maxSpeed.y",0)),this._speedX=0,this._speedY=0,this._zoom=0,this.active=this.camera!==null},"SmoothedKeyControl"),start:r(function(){return this.active=this.camera!==null,this},"start"),stop:r(function(){return this.active=!1,this},"stop"),setCamera:r(function(o){return this.camera=o,this},"setCamera"),update:r(function(o){if(this.active){o===void 0&&(o=1);var l=this.camera;this._speedX>0?(this._speedX-=this.dragX*o,this._speedX<0&&(this._speedX=0)):this._speedX<0&&(this._speedX+=this.dragX*o,this._speedX>0&&(this._speedX=0)),this._speedY>0?(this._speedY-=this.dragY*o,this._speedY<0&&(this._speedY=0)):this._speedY<0&&(this._speedY+=this.dragY*o,this._speedY>0&&(this._speedY=0)),this.up&&this.up.isDown?(this._speedY+=this.accelY,this._speedY>this.maxSpeedY&&(this._speedY=this.maxSpeedY)):this.down&&this.down.isDown&&(this._speedY-=this.accelY,this._speedY<-this.maxSpeedY&&(this._speedY=-this.maxSpeedY)),this.left&&this.left.isDown?(this._speedX+=this.accelX,this._speedX>this.maxSpeedX&&(this._speedX=this.maxSpeedX)):this.right&&this.right.isDown&&(this._speedX-=this.accelX,this._speedX<-this.maxSpeedX&&(this._speedX=-this.maxSpeedX)),this.zoomIn&&this.zoomIn.isDown?this._zoom=-this.zoomSpeed:this.zoomOut&&this.zoomOut.isDown?this._zoom=this.zoomSpeed:this._zoom=0,this._speedX!==0&&(l.scrollX-=this._speedX*o|0),this._speedY!==0&&(l.scrollY-=this._speedY*o|0),this._zoom!==0&&(l.zoom+=this._zoom,l.zoom<this.minZoom?l.zoom=this.minZoom:l.zoom>this.maxZoom&&(l.zoom=this.maxZoom))}},"update"),destroy:r(function(){this.camera=null,this.left=null,this.right=null,this.up=null,this.down=null,this.zoomIn=null,this.zoomOut=null},"destroy")});n.exports=c},38865:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={FixedKeyControl:i(63091),SmoothedKeyControl:i(58818)}},26638:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={Controls:i(38865),Scene2D:i(87969)}},8054:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f={VERSION:"3.80.1",BlendModes:i(10312),ScaleModes:i(29795),AUTO:0,CANVAS:1,WEBGL:2,HEADLESS:3,FOREVER:-1,NONE:4,UP:5,DOWN:6,LEFT:7,RIGHT:8};n.exports=f},69547:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(83419),y=i(8054),c=i(42363),o=i(82264),l=i(95540),a=i(35154),u=i(41212),v=i(29747),d=i(75508),p=i(36060),g=i(80333),m=new f({initialize:r(function(C){C===void 0&&(C={});var P=["#ff0000","#ffff00","#00ff00","#00ffff","#000000"],A="#ffffff",R=a(C,"scale",null);this.width=a(R,"width",1024,C),this.height=a(R,"height",768,C),this.zoom=a(R,"zoom",1,C),this.parent=a(R,"parent",void 0,C),this.scaleMode=a(R,R?"mode":"scaleMode",0,C),this.expandParent=a(R,"expandParent",!0,C),this.autoRound=a(R,"autoRound",!1,C),this.autoCenter=a(R,"autoCenter",0,C),this.resizeInterval=a(R,"resizeInterval",500,C),this.fullscreenTarget=a(R,"fullscreenTarget",null,C),this.minWidth=a(R,"min.width",0,C),this.maxWidth=a(R,"max.width",0,C),this.minHeight=a(R,"min.height",0,C),this.maxHeight=a(R,"max.height",0,C),this.snapWidth=a(R,"snap.width",0,C),this.snapHeight=a(R,"snap.height",0,C),this.renderType=a(C,"type",y.AUTO),this.canvas=a(C,"canvas",null),this.context=a(C,"context",null),this.canvasStyle=a(C,"canvasStyle",null),this.customEnvironment=a(C,"customEnvironment",!1),this.sceneConfig=a(C,"scene",null),this.seed=a(C,"seed",[(Date.now()*Math.random()).toString()]),d.RND=new d.RandomDataGenerator(this.seed),this.gameTitle=a(C,"title",""),this.gameURL=a(C,"url","https://phaser.io"),this.gameVersion=a(C,"version",""),this.autoFocus=a(C,"autoFocus",!0),this.stableSort=a(C,"stableSort",-1),this.stableSort===-1&&(this.stableSort=o.browser.es2019?1:0),o.features.stableSort=this.stableSort,this.domCreateContainer=a(C,"dom.createContainer",!1),this.domPointerEvents=a(C,"dom.pointerEvents","none"),this.inputKeyboard=a(C,"input.keyboard",!0),this.inputKeyboardEventTarget=a(C,"input.keyboard.target",window),this.inputKeyboardCapture=a(C,"input.keyboard.capture",[]),this.inputMouse=a(C,"input.mouse",!0),this.inputMouseEventTarget=a(C,"input.mouse.target",null),this.inputMousePreventDefaultDown=a(C,"input.mouse.preventDefaultDown",!0),this.inputMousePreventDefaultUp=a(C,"input.mouse.preventDefaultUp",!0),this.inputMousePreventDefaultMove=a(C,"input.mouse.preventDefaultMove",!0),this.inputMousePreventDefaultWheel=a(C,"input.mouse.preventDefaultWheel",!0),this.inputTouch=a(C,"input.touch",o.input.touch),this.inputTouchEventTarget=a(C,"input.touch.target",null),this.inputTouchCapture=a(C,"input.touch.capture",!0),this.inputActivePointers=a(C,"input.activePointers",1),this.inputSmoothFactor=a(C,"input.smoothFactor",0),this.inputWindowEvents=a(C,"input.windowEvents",!0),this.inputGamepad=a(C,"input.gamepad",!1),this.inputGamepadEventTarget=a(C,"input.gamepad.target",window),this.disableContextMenu=a(C,"disableContextMenu",!1),this.audio=a(C,"audio",{}),this.hideBanner=a(C,"banner",null)===!1,this.hidePhaser=a(C,"banner.hidePhaser",!1),this.bannerTextColor=a(C,"banner.text",A),this.bannerBackgroundColor=a(C,"banner.background",P),this.gameTitle===""&&this.hidePhaser&&(this.hideBanner=!0),this.fps=a(C,"fps",null),this.disablePreFX=a(C,"disablePreFX",!1),this.disablePostFX=a(C,"disablePostFX",!1);var L=a(C,"render",null);this.pipeline=a(L,"pipeline",null,C),this.autoMobilePipeline=a(L,"autoMobilePipeline",!0,C),this.defaultPipeline=a(L,"defaultPipeline",p.MULTI_PIPELINE,C),this.antialias=a(L,"antialias",!0,C),this.antialiasGL=a(L,"antialiasGL",!0,C),this.mipmapFilter=a(L,"mipmapFilter","",C),this.desynchronized=a(L,"desynchronized",!1,C),this.roundPixels=a(L,"roundPixels",!0,C),this.pixelArt=a(L,"pixelArt",this.zoom!==1,C),this.pixelArt&&(this.antialias=!1,this.antialiasGL=!1,this.roundPixels=!0),this.transparent=a(L,"transparent",!1,C),this.clearBeforeRender=a(L,"clearBeforeRender",!0,C),this.preserveDrawingBuffer=a(L,"preserveDrawingBuffer",!1,C),this.premultipliedAlpha=a(L,"premultipliedAlpha",!0,C),this.failIfMajorPerformanceCaveat=a(L,"failIfMajorPerformanceCaveat",!1,C),this.powerPreference=a(L,"powerPreference","default",C),this.batchSize=a(L,"batchSize",4096,C),this.maxTextures=a(L,"maxTextures",-1,C),this.maxLights=a(L,"maxLights",10,C);var O=a(C,"backgroundColor",0);this.backgroundColor=g(O),this.transparent&&(this.backgroundColor=g(0),this.backgroundColor.alpha=0),this.preBoot=a(C,"callbacks.preBoot",v),this.postBoot=a(C,"callbacks.postBoot",v),this.physics=a(C,"physics",{}),this.defaultPhysicsSystem=a(this.physics,"default",!1),this.loaderBaseURL=a(C,"loader.baseURL",""),this.loaderPath=a(C,"loader.path",""),this.loaderMaxParallelDownloads=a(C,"loader.maxParallelDownloads",o.os.android?6:32),this.loaderCrossOrigin=a(C,"loader.crossOrigin",void 0),this.loaderResponseType=a(C,"loader.responseType",""),this.loaderAsync=a(C,"loader.async",!0),this.loaderUser=a(C,"loader.user",""),this.loaderPassword=a(C,"loader.password",""),this.loaderTimeout=a(C,"loader.timeout",0),this.loaderWithCredentials=a(C,"loader.withCredentials",!1),this.loaderImageLoadType=a(C,"loader.imageLoadType","XHR"),this.loaderLocalScheme=a(C,"loader.localScheme",["file://","capacitor://"]),this.glowFXQuality=a(C,"fx.glow.quality",.1),this.glowFXDistance=a(C,"fx.glow.distance",10),this.installGlobalPlugins=[],this.installScenePlugins=[];var w=a(C,"plugins",null),b=c.DefaultScene;w&&(Array.isArray(w)?this.defaultPlugins=w:u(w)&&(this.installGlobalPlugins=l(w,"global",[]),this.installScenePlugins=l(w,"scene",[]),Array.isArray(w.default)?b=w.default:Array.isArray(w.defaultMerge)&&(b=b.concat(w.defaultMerge)))),this.defaultPlugins=b;var F="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAg";this.defaultImage=a(C,"images.default",F+"AQMAAABJtOi3AAAAA1BMVEX///+nxBvIAAAAAXRSTlMAQObYZgAAABVJREFUeF7NwIEAAAAAgKD9qdeocAMAoAABm3DkcAAAAABJRU5ErkJggg=="),this.missingImage=a(C,"images.missing",F+"CAIAAAD8GO2jAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJ9JREFUeNq01ssOwyAMRFG46v//Mt1ESmgh+DFmE2GPOBARKb2NVjo+17PXLD8a1+pl5+A+wSgFygymWYHBb0FtsKhJDdZlncG2IzJ4ayoMDv20wTmSMzClEgbWYNTAkQ0Z+OJ+A/eWnAaR9+oxCF4Os0H8htsMUp+pwcgBBiMNnAwF8GqIgL2hAzaGFFgZauDPKABmowZ4GL369/0rwACp2yA/ttmvsQAAAABJRU5ErkJggg=="),this.whiteImage=a(C,"images.white","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAAECAIAAAAmkwkpAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAABdJREFUeNpi/P//PwMMMDEgAdwcgAADAJZuAwXJYZOzAAAAAElFTkSuQmCC"),window&&(window.FORCE_WEBGL?this.renderType=y.WEBGL:window.FORCE_CANVAS&&(this.renderType=y.CANVAS))},"Config")});n.exports=m},86054:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(20623),y=i(27919),c=i(8054),o=i(89357),l=r(function(a){var u=a.config;if((u.customEnvironment||u.canvas)&&u.renderType===c.AUTO)throw new Error("Must set explicit renderType in custom environment");if(!u.customEnvironment&&!u.canvas&&u.renderType!==c.HEADLESS)if(u.renderType===c.AUTO&&(u.renderType=o.webGL?c.WEBGL:c.CANVAS),u.renderType===c.WEBGL){if(!o.webGL)throw new Error("Cannot create WebGL context, aborting.")}else if(u.renderType===c.CANVAS){if(!o.canvas)throw new Error("Cannot create Canvas context, aborting.")}else throw new Error("Unknown value for renderer type: "+u.renderType);u.antialias||y.disableSmoothing();var v=a.scale.baseSize,d=v.width,p=v.height;if(u.canvas?(a.canvas=u.canvas,a.canvas.width=d,a.canvas.height=p):a.canvas=y.create(a,d,p,u.renderType),u.canvasStyle&&(a.canvas.style=u.canvasStyle),u.antialias||f.setCrisp(a.canvas),u.renderType!==c.HEADLESS){var g,m;g=i(68627),m=i(74797),u.renderType===c.WEBGL?a.renderer=new m(a):(a.renderer=new g(a),a.context=a.renderer.gameContext)}},"CreateRenderer");n.exports=l},96391:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(8054),y=r(function(c){var o=c.config;if(!o.hideBanner){var l="WebGL";o.renderType===f.CANVAS?l="Canvas":o.renderType===f.HEADLESS&&(l="Headless");var a=o.audio,u=c.device.audio,v;if(u.webAudio&&!a.disableWebAudio?v="Web Audio":a.noAudio||!u.webAudio&&!u.audioData?v="No Audio":v="HTML5 Audio",c.device.browser.ie)window.console&&console.log("Phaser v"+f.VERSION+" / https://phaser.io");else{var d="",p=[d];if(Array.isArray(o.bannerBackgroundColor)){var g;o.bannerBackgroundColor.forEach(function(x){d=d.concat("%c "),p.push("background: "+x),g=x}),p[p.length-1]="color: "+o.bannerTextColor+"; background: "+g}else d=d.concat("%c "),p.push("color: "+o.bannerTextColor+"; background: "+o.bannerBackgroundColor);p.push("background: transparent"),o.gameTitle&&(d=d.concat(o.gameTitle),o.gameVersion&&(d=d.concat(" v"+o.gameVersion)),o.hidePhaser||(d=d.concat(" / ")));var m="";o.hidePhaser||(d=d.concat("Phaser v"+f.VERSION+m+" ("+l+" | "+v+")")),d=d.concat(" %c "+o.gameURL),p[0]=d,console.log.apply(console,p)}}},"DebugHeader");n.exports=y},50127:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(40366),y=i(60848),c=i(24047),o=i(27919),l=i(83419),a=i(69547),u=i(83719),v=i(86054),d=i(45893),p=i(96391),g=i(82264),m=i(57264),x=i(50792),C=i(8443),P=i(7003),A=i(37277),R=i(77332),L=i(76531),O=i(60903),w=i(69442),b=i(17130),F=i(65898),M=i(51085),I=i(14747),B=new l({initialize:r(function(N){this.config=new a(N),this.renderer=null,this.domContainer=null,this.canvas=null,this.context=null,this.isBooted=!1,this.isRunning=!1,this.events=new x,this.anims=new y(this),this.textures=new b(this),this.cache=new c(this),this.registry=new d(this,new x),this.input=new P(this,this.config),this.scene=new O(this,this.config.sceneConfig),this.device=g,this.scale=new L(this,this.config),this.sound=null,this.sound=I.create(this),this.loop=new F(this,this.config.fps),this.plugins=new R(this,this.config),this.pendingDestroy=!1,this.removeCanvas=!1,this.noReturn=!1,this.hasFocus=!1,this.isPaused=!1,m(this.boot.bind(this))},"Game"),boot:r(function(){if(!A.hasCore("EventEmitter")){console.warn("Aborting. Core Plugins missing.");return}this.isBooted=!0,this.config.preBoot(this),this.scale.preBoot(),v(this),u(this),p(this),f(this.canvas,this.config.parent),this.textures.once(w.READY,this.texturesReady,this),this.events.emit(C.BOOT)},"boot"),texturesReady:r(function(){this.events.emit(C.READY),this.start()},"texturesReady"),start:r(function(){this.isRunning=!0,this.config.postBoot(this),this.renderer?this.loop.start(this.step.bind(this)):this.loop.start(this.headlessStep.bind(this)),M(this);var G=this.events;G.on(C.HIDDEN,this.onHidden,this),G.on(C.VISIBLE,this.onVisible,this),G.on(C.BLUR,this.onBlur,this),G.on(C.FOCUS,this.onFocus,this)},"start"),step:r(function(G,N){if(this.pendingDestroy)return this.runDestroy();if(!this.isPaused){var z=this.events;z.emit(C.PRE_STEP,G,N),z.emit(C.STEP,G,N),this.scene.update(G,N),z.emit(C.POST_STEP,G,N);var H=this.renderer;H.preRender(),z.emit(C.PRE_RENDER,H,G,N),this.scene.render(H),H.postRender(),z.emit(C.POST_RENDER,H,G,N)}},"step"),headlessStep:r(function(G,N){if(this.pendingDestroy)return this.runDestroy();if(!this.isPaused){var z=this.events;z.emit(C.PRE_STEP,G,N),z.emit(C.STEP,G,N),this.scene.update(G,N),z.emit(C.POST_STEP,G,N),this.scene.isProcessing=!1,z.emit(C.PRE_RENDER,null,G,N),z.emit(C.POST_RENDER,null,G,N)}},"headlessStep"),onHidden:r(function(){this.loop.pause(),this.events.emit(C.PAUSE)},"onHidden"),pause:r(function(){var G=this.isPaused;this.isPaused=!0,G||this.events.emit(C.PAUSE)},"pause"),onVisible:r(function(){this.loop.resume(),this.events.emit(C.RESUME)},"onVisible"),resume:r(function(){var G=this.isPaused;this.isPaused=!1,G&&this.events.emit(C.RESUME)},"resume"),onBlur:r(function(){this.hasFocus=!1,this.loop.blur()},"onBlur"),onFocus:r(function(){this.hasFocus=!0,this.loop.focus()},"onFocus"),getFrame:r(function(){return this.loop.frame},"getFrame"),getTime:r(function(){return this.loop.now},"getTime"),destroy:r(function(G,N){N===void 0&&(N=!1),this.pendingDestroy=!0,this.removeCanvas=G,this.noReturn=N},"destroy"),runDestroy:r(function(){this.scene.destroy(),this.events.emit(C.DESTROY),this.events.removeAllListeners(),this.renderer&&this.renderer.destroy(),this.removeCanvas&&this.canvas&&(o.remove(this.canvas),this.canvas.parentNode&&this.canvas.parentNode.removeChild(this.canvas)),this.domContainer&&this.domContainer.parentNode&&this.domContainer.parentNode.removeChild(this.domContainer),this.loop.destroy(),this.pendingDestroy=!1},"runDestroy")});n.exports=B},65898:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(83419),y=i(35154),c=i(29747),o=i(43092),l=new f({initialize:r(function(u,v){this.game=u,this.raf=new o,this.started=!1,this.running=!1,this.minFps=y(v,"min",5),this.targetFps=y(v,"target",60),this.fpsLimit=y(v,"limit",0),this.hasFpsLimit=this.fpsLimit>0,this._limitRate=this.hasFpsLimit?1e3/this.fpsLimit:0,this._min=1e3/this.minFps,this._target=1e3/this.targetFps,this.actualFps=this.targetFps,this.nextFpsUpdate=0,this.framesThisSecond=0,this.callback=c,this.forceSetTimeOut=y(v,"forceSetTimeOut",!1),this.time=0,this.startTime=0,this.lastTime=0,this.frame=0,this.inFocus=!0,this._pauseTime=0,this._coolDown=0,this.delta=0,this.deltaIndex=0,this.deltaHistory=[],this.deltaSmoothingMax=y(v,"deltaHistory",10),this.panicMax=y(v,"panicMax",120),this.rawDelta=0,this.now=0,this.smoothStep=y(v,"smoothStep",!0)},"TimeStep"),blur:r(function(){this.inFocus=!1},"blur"),focus:r(function(){this.inFocus=!0,this.resetDelta()},"focus"),pause:r(function(){this._pauseTime=window.performance.now()},"pause"),resume:r(function(){this.resetDelta(),this.startTime+=this.time-this._pauseTime},"resume"),resetDelta:r(function(){var a=window.performance.now();this.time=a,this.lastTime=a,this.nextFpsUpdate=a+1e3,this.framesThisSecond=0;for(var u=0;u<this.deltaSmoothingMax;u++)this.deltaHistory[u]=Math.min(this._target,this.deltaHistory[u]);this.delta=0,this.deltaIndex=0,this._coolDown=this.panicMax},"resetDelta"),start:r(function(a){if(this.started)return this;this.started=!0,this.running=!0;for(var u=0;u<this.deltaSmoothingMax;u++)this.deltaHistory[u]=this._target;this.resetDelta(),this.startTime=window.performance.now(),this.callback=a;var v=this.hasFpsLimit?this.stepLimitFPS.bind(this):this.step.bind(this);this.raf.start(v,this.forceSetTimeOut,this._target)},"start"),smoothDelta:r(function(a){var u=this.deltaIndex,v=this.deltaHistory,d=this.deltaSmoothingMax;(this._coolDown>0||!this.inFocus)&&(this._coolDown--,a=Math.min(a,this._target)),a>this._min&&(a=v[u],a=Math.min(a,this._min)),v[u]=a,this.deltaIndex++,this.deltaIndex>=d&&(this.deltaIndex=0);for(var p=0,g=0;g<d;g++)p+=v[g];return p/=d,p},"smoothDelta"),updateFPS:r(function(a){this.actualFps=.25*this.framesThisSecond+.75*this.actualFps,this.nextFpsUpdate=a+1e3,this.framesThisSecond=0},"updateFPS"),stepLimitFPS:r(function(a){this.now=a;var u=Math.max(0,a-this.lastTime);this.rawDelta=u,this.time+=this.rawDelta,this.smoothStep&&(u=this.smoothDelta(u)),this.delta+=u,a>=this.nextFpsUpdate&&this.updateFPS(a),this.framesThisSecond++,this.delta>=this._limitRate&&(this.callback(a,this.delta),this.delta=0),this.lastTime=a,this.frame++},"stepLimitFPS"),step:r(function(a){this.now=a;var u=Math.max(0,a-this.lastTime);this.rawDelta=u,this.time+=this.rawDelta,this.smoothStep&&(u=this.smoothDelta(u)),this.delta=u,a>=this.nextFpsUpdate&&this.updateFPS(a),this.framesThisSecond++,this.callback(a,u),this.lastTime=a,this.frame++},"step"),tick:r(function(){var a=window.performance.now();this.hasFpsLimit?this.stepLimitFPS(a):this.step(a)},"tick"),sleep:r(function(){this.running&&(this.raf.stop(),this.running=!1)},"sleep"),wake:r(function(a){a===void 0&&(a=!1);var u=window.performance.now();if(!this.running){a&&(this.startTime+=-this.lastTime+(this.lastTime+u));var v=this.hasFpsLimit?this.stepLimitFPS.bind(this):this.step.bind(this);this.raf.start(v,this.forceSetTimeOut,this._target),this.running=!0,this.nextFpsUpdate=u+1e3,this.framesThisSecond=0,this.fpsLimitTriggered=!1,this.tick()}},"wake"),getDuration:r(function(){return Math.round(this.lastTime-this.startTime)/1e3},"getDuration"),getDurationMS:r(function(){return Math.round(this.lastTime-this.startTime)},"getDurationMS"),stop:r(function(){return this.running=!1,this.started=!1,this.raf.stop(),this},"stop"),destroy:r(function(){this.stop(),this.raf.destroy(),this.raf=null,this.game=null,this.callback=null},"destroy")});n.exports=l},51085:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(8443),y=r(function(c){var o,l=c.events;if(document.hidden!==void 0)o="visibilitychange";else{var a=["webkit","moz","ms"];a.forEach(function(v){document[v+"Hidden"]!==void 0&&(document.hidden=function(){return document[v+"Hidden"]},o=v+"visibilitychange")})}var u=r(function(v){document.hidden||v.type==="pause"?l.emit(f.HIDDEN):l.emit(f.VISIBLE)},"onChange");o&&document.addEventListener(o,u,!1),window.onblur=function(){l.emit(f.BLUR)},window.onfocus=function(){l.emit(f.FOCUS)},window.focus&&c.config.autoFocus&&window.focus()},"VisibilityHandler");n.exports=y},97217:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="blur"},47548:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="boot"},19814:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="contextlost"},68446:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="destroy"},41700:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="focus"},25432:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="hidden"},65942:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="pause"},59211:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="postrender"},47789:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="poststep"},39066:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="prerender"},460:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="prestep"},16175:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="ready"},42331:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="resume"},11966:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="step"},32969:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="systemready"},94830:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="visible"},8443:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={BLUR:i(97217),BOOT:i(47548),CONTEXT_LOST:i(19814),DESTROY:i(68446),FOCUS:i(41700),HIDDEN:i(25432),PAUSE:i(65942),POST_RENDER:i(59211),POST_STEP:i(47789),PRE_RENDER:i(39066),PRE_STEP:i(460),READY:i(16175),RESUME:i(42331),STEP:i(11966),SYSTEM_READY:i(32969),VISIBLE:i(94830)}},42857:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={Config:i(69547),CreateRenderer:i(86054),DebugHeader:i(96391),Events:i(8443),TimeStep:i(65898),VisibilityHandler:i(51085)}},99584:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(5290),y=i(27919),c=i(35154),o=r(function(l){var a=c(l,"data",[]),u=c(l,"canvas",null),v=c(l,"palette",f),d=c(l,"pixelWidth",1),p=c(l,"pixelHeight",d),g=c(l,"resizeCanvas",!0),m=c(l,"clearCanvas",!0),x=c(l,"preRender",null),C=c(l,"postRender",null),P=Math.floor(Math.abs(a[0].length*d)),A=Math.floor(Math.abs(a.length*p));u||(u=y.create2D(this,P,A),g=!1,m=!1),g&&(u.width=P,u.height=A);var R=u.getContext("2d",{willReadFrequently:!0});m&&R.clearRect(0,0,P,A),x&&x(u,R);for(var L=0;L<a.length;L++)for(var O=a[L],w=0;w<O.length;w++){var b=O[w];b!=="."&&b!==" "&&(R.fillStyle=v[b],R.fillRect(w*d,L*p,d,p))}return C&&C(u,R),u},"GenerateTexture");n.exports=o},15822:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={GenerateTexture:i(99584),Palettes:i(57763)}},5290:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={0:"#000",1:"#9D9D9D",2:"#FFF",3:"#BE2633",4:"#E06F8B",5:"#493C2B",6:"#A46422",7:"#EB8931",8:"#F7E26B",9:"#2F484E",A:"#44891A",B:"#A3CE27",C:"#1B2632",D:"#005784",E:"#31A2F2",F:"#B2DCEF"}},23816:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={0:"#000",1:"#fff",2:"#8b4131",3:"#7bbdc5",4:"#8b41ac",5:"#6aac41",6:"#3931a4",7:"#d5de73",8:"#945a20",9:"#5a4100",A:"#bd736a",B:"#525252",C:"#838383",D:"#acee8b",E:"#7b73de",F:"#acacac"}},9866:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={0:"#000",1:"#2234d1",2:"#0c7e45",3:"#44aacc",4:"#8a3622",5:"#5c2e78",6:"#aa5c3d",7:"#b5b5b5",8:"#5e606e",9:"#4c81fb",A:"#6cd947",B:"#7be2f9",C:"#eb8a60",D:"#e23d69",E:"#ffd93f",F:"#fff"}},77552:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={0:"#000",1:"#191028",2:"#46af45",3:"#a1d685",4:"#453e78",5:"#7664fe",6:"#833129",7:"#9ec2e8",8:"#dc534b",9:"#e18d79",A:"#d6b97b",B:"#e9d8a1",C:"#216c4b",D:"#d365c8",E:"#afaab9",F:"#f5f4eb"}},92259:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={0:"#000",1:"#191028",2:"#46af45",3:"#a1d685",4:"#453e78",5:"#7664fe",6:"#833129",7:"#9ec2e8",8:"#dc534b",9:"#e18d79",A:"#d6b97b",B:"#e9d8a1",C:"#216c4b",D:"#d365c8",E:"#afaab9",F:"#fff"}},57763:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={ARNE16:i(5290),C64:i(23816),CGA:i(9866),JMP:i(77552),MSX:i(92259)}},46728:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(83419),y=i(36316),c=i(80021),o=i(26099),l=new f({Extends:c,initialize:r(function(u,v,d,p){c.call(this,"CubicBezierCurve"),Array.isArray(u)&&(p=new o(u[6],u[7]),d=new o(u[4],u[5]),v=new o(u[2],u[3]),u=new o(u[0],u[1])),this.p0=u,this.p1=v,this.p2=d,this.p3=p},"CubicBezierCurve"),getStartPoint:r(function(a){return a===void 0&&(a=new o),a.copy(this.p0)},"getStartPoint"),getResolution:r(function(a){return a},"getResolution"),getPoint:r(function(a,u){u===void 0&&(u=new o);var v=this.p0,d=this.p1,p=this.p2,g=this.p3;return u.set(y(a,v.x,d.x,p.x,g.x),y(a,v.y,d.y,p.y,g.y))},"getPoint"),draw:r(function(a,u){u===void 0&&(u=32);var v=this.getPoints(u);a.beginPath(),a.moveTo(this.p0.x,this.p0.y);for(var d=1;d<v.length;d++)a.lineTo(v[d].x,v[d].y);return a.strokePath(),a},"draw"),toJSON:r(function(){return{type:this.type,points:[this.p0.x,this.p0.y,this.p1.x,this.p1.y,this.p2.x,this.p2.y,this.p3.x,this.p3.y]}},"toJSON")});l.fromJSON=function(a){var u=a.points,v=new o(u[0],u[1]),d=new o(u[2],u[3]),p=new o(u[4],u[5]),g=new o(u[6],u[7]);return new l(v,d,p,g)},n.exports=l},80021:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(83419),y=i(19217),c=i(87841),o=i(26099),l=new f({initialize:r(function(u){this.type=u,this.defaultDivisions=5,this.arcLengthDivisions=100,this.cacheArcLengths=[],this.needsUpdate=!0,this.active=!0,this._tmpVec2A=new o,this._tmpVec2B=new o},"Curve"),draw:r(function(a,u){return u===void 0&&(u=32),a.strokePoints(this.getPoints(u))},"draw"),getBounds:r(function(a,u){a||(a=new c),u===void 0&&(u=16);var v=this.getLength();u>v&&(u=v/2);var d=Math.max(1,Math.round(v/u));return y(this.getSpacedPoints(d),a)},"getBounds"),getDistancePoints:r(function(a){var u=this.getLength(),v=Math.max(1,u/a);return this.getSpacedPoints(v)},"getDistancePoints"),getEndPoint:r(function(a){return a===void 0&&(a=new o),this.getPointAt(1,a)},"getEndPoint"),getLength:r(function(){var a=this.getLengths();return a[a.length-1]},"getLength"),getLengths:r(function(a){if(a===void 0&&(a=this.arcLengthDivisions),this.cacheArcLengths.length===a+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;var u=[],v,d=this.getPoint(0,this._tmpVec2A),p=0;u.push(0);for(var g=1;g<=a;g++)v=this.getPoint(g/a,this._tmpVec2B),p+=v.distance(d),u.push(p),d.copy(v);return this.cacheArcLengths=u,u},"getLengths"),getPointAt:r(function(a,u){var v=this.getUtoTmapping(a);return this.getPoint(v,u)},"getPointAt"),getPoints:r(function(a,u,v){v===void 0&&(v=[]),a||(u?a=this.getLength()/u:a=this.defaultDivisions);for(var d=0;d<=a;d++)v.push(this.getPoint(d/a));return v},"getPoints"),getRandomPoint:r(function(a){return a===void 0&&(a=new o),this.getPoint(Math.random(),a)},"getRandomPoint"),getSpacedPoints:r(function(a,u,v){v===void 0&&(v=[]),a||(u?a=this.getLength()/u:a=this.defaultDivisions);for(var d=0;d<=a;d++){var p=this.getUtoTmapping(d/a,null,a);v.push(this.getPoint(p))}return v},"getSpacedPoints"),getStartPoint:r(function(a){return a===void 0&&(a=new o),this.getPointAt(0,a)},"getStartPoint"),getTangent:r(function(a,u){u===void 0&&(u=new o);var v=1e-4,d=a-v,p=a+v;return d<0&&(d=0),p>1&&(p=1),this.getPoint(d,this._tmpVec2A),this.getPoint(p,u),u.subtract(this._tmpVec2A).normalize()},"getTangent"),getTangentAt:r(function(a,u){var v=this.getUtoTmapping(a);return this.getTangent(v,u)},"getTangentAt"),getTFromDistance:r(function(a,u){return a<=0?0:this.getUtoTmapping(0,a,u)},"getTFromDistance"),getUtoTmapping:r(function(a,u,v){var d=this.getLengths(v),p=0,g=d.length,m;u?m=Math.min(u,d[g-1]):m=a*d[g-1];for(var x=0,C=g-1,P;x<=C;)if(p=Math.floor(x+(C-x)/2),P=d[p]-m,P<0)x=p+1;else if(P>0)C=p-1;else{C=p;break}if(p=C,d[p]===m)return p/(g-1);var A=d[p],R=d[p+1],L=R-A,O=(m-A)/L;return(p+O)/(g-1)},"getUtoTmapping"),updateArcLengths:r(function(){this.needsUpdate=!0,this.getLengths()},"updateArcLengths")});n.exports=l},73825:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(83419),y=i(80021),c=i(39506),o=i(35154),l=i(43396),a=i(26099),u=new f({Extends:y,initialize:r(function(d,p,g,m,x,C,P,A){if(typeof d=="object"){var R=d;d=o(R,"x",0),p=o(R,"y",0),g=o(R,"xRadius",0),m=o(R,"yRadius",g),x=o(R,"startAngle",0),C=o(R,"endAngle",360),P=o(R,"clockwise",!1),A=o(R,"rotation",0)}else m===void 0&&(m=g),x===void 0&&(x=0),C===void 0&&(C=360),P===void 0&&(P=!1),A===void 0&&(A=0);y.call(this,"EllipseCurve"),this.p0=new a(d,p),this._xRadius=g,this._yRadius=m,this._startAngle=c(x),this._endAngle=c(C),this._clockwise=P,this._rotation=c(A)},"EllipseCurve"),getStartPoint:r(function(v){return v===void 0&&(v=new a),this.getPoint(0,v)},"getStartPoint"),getResolution:r(function(v){return v*2},"getResolution"),getPoint:r(function(v,d){d===void 0&&(d=new a);for(var p=Math.PI*2,g=this._endAngle-this._startAngle,m=Math.abs(g)<Number.EPSILON;g<0;)g+=p;for(;g>p;)g-=p;g<Number.EPSILON&&(m?g=0:g=p),this._clockwise&&!m&&(g===p?g=-p:g=g-p);var x=this._startAngle+v*g,C=this.p0.x+this._xRadius*Math.cos(x),P=this.p0.y+this._yRadius*Math.sin(x);if(this._rotation!==0){var A=Math.cos(this._rotation),R=Math.sin(this._rotation),L=C-this.p0.x,O=P-this.p0.y;C=L*A-O*R+this.p0.x,P=L*R+O*A+this.p0.y}return d.set(C,P)},"getPoint"),setXRadius:r(function(v){return this.xRadius=v,this},"setXRadius"),setYRadius:r(function(v){return this.yRadius=v,this},"setYRadius"),setWidth:r(function(v){return this.xRadius=v/2,this},"setWidth"),setHeight:r(function(v){return this.yRadius=v/2,this},"setHeight"),setStartAngle:r(function(v){return this.startAngle=v,this},"setStartAngle"),setEndAngle:r(function(v){return this.endAngle=v,this},"setEndAngle"),setClockwise:r(function(v){return this.clockwise=v,this},"setClockwise"),setRotation:r(function(v){return this.rotation=v,this},"setRotation"),x:{get:r(function(){return this.p0.x},"get"),set:r(function(v){this.p0.x=v},"set")},y:{get:r(function(){return this.p0.y},"get"),set:r(function(v){this.p0.y=v},"set")},xRadius:{get:r(function(){return this._xRadius},"get"),set:r(function(v){this._xRadius=v},"set")},yRadius:{get:r(function(){return this._yRadius},"get"),set:r(function(v){this._yRadius=v},"set")},startAngle:{get:r(function(){return l(this._startAngle)},"get"),set:r(function(v){this._startAngle=c(v)},"set")},endAngle:{get:r(function(){return l(this._endAngle)},"get"),set:r(function(v){this._endAngle=c(v)},"set")},clockwise:{get:r(function(){return this._clockwise},"get"),set:r(function(v){this._clockwise=v},"set")},angle:{get:r(function(){return l(this._rotation)},"get"),set:r(function(v){this._rotation=c(v)},"set")},rotation:{get:r(function(){return this._rotation},"get"),set:r(function(v){this._rotation=v},"set")},toJSON:r(function(){return{type:this.type,x:this.p0.x,y:this.p0.y,xRadius:this._xRadius,yRadius:this._yRadius,startAngle:l(this._startAngle),endAngle:l(this._endAngle),clockwise:this._clockwise,rotation:l(this._rotation)}},"toJSON")});u.fromJSON=function(v){return new u(v)},n.exports=u},33951:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(83419),y=i(80021),c=i(19217),o=i(87841),l=i(26099),a=new f({Extends:y,initialize:r(function(v,d){y.call(this,"LineCurve"),Array.isArray(v)&&(d=new l(v[2],v[3]),v=new l(v[0],v[1])),this.p0=v,this.p1=d,this.arcLengthDivisions=1},"LineCurve"),getBounds:r(function(u){return u===void 0&&(u=new o),c([this.p0,this.p1],u)},"getBounds"),getStartPoint:r(function(u){return u===void 0&&(u=new l),u.copy(this.p0)},"getStartPoint"),getResolution:r(function(u){return u===void 0&&(u=1),u},"getResolution"),getPoint:r(function(u,v){return v===void 0&&(v=new l),u===1?v.copy(this.p1):(v.copy(this.p1).subtract(this.p0).scale(u).add(this.p0),v)},"getPoint"),getPointAt:r(function(u,v){return this.getPoint(u,v)},"getPointAt"),getTangent:r(function(u,v){return v===void 0&&(v=new l),v.copy(this.p1).subtract(this.p0).normalize(),v},"getTangent"),getUtoTmapping:r(function(u,v,d){var p;if(v){var g=this.getLengths(d),m=g[g.length-1],x=Math.min(v,m);p=x/m}else p=u;return p},"getUtoTmapping"),draw:r(function(u){return u.lineBetween(this.p0.x,this.p0.y,this.p1.x,this.p1.y),u},"draw"),toJSON:r(function(){return{type:this.type,points:[this.p0.x,this.p0.y,this.p1.x,this.p1.y]}},"toJSON")});a.fromJSON=function(u){var v=u.points,d=new l(v[0],v[1]),p=new l(v[2],v[3]);return new a(d,p)},n.exports=a},14744:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(83419),y=i(80021),c=i(32112),o=i(26099),l=new f({Extends:y,initialize:r(function(u,v,d){y.call(this,"QuadraticBezierCurve"),Array.isArray(u)&&(d=new o(u[4],u[5]),v=new o(u[2],u[3]),u=new o(u[0],u[1])),this.p0=u,this.p1=v,this.p2=d},"QuadraticBezier"),getStartPoint:r(function(a){return a===void 0&&(a=new o),a.copy(this.p0)},"getStartPoint"),getResolution:r(function(a){return a},"getResolution"),getPoint:r(function(a,u){u===void 0&&(u=new o);var v=this.p0,d=this.p1,p=this.p2;return u.set(c(a,v.x,d.x,p.x),c(a,v.y,d.y,p.y))},"getPoint"),draw:r(function(a,u){u===void 0&&(u=32);var v=this.getPoints(u);a.beginPath(),a.moveTo(this.p0.x,this.p0.y);for(var d=1;d<v.length;d++)a.lineTo(v[d].x,v[d].y);return a.strokePath(),a},"draw"),toJSON:r(function(){return{type:this.type,points:[this.p0.x,this.p0.y,this.p1.x,this.p1.y,this.p2.x,this.p2.y]}},"toJSON")});l.fromJSON=function(a){var u=a.points,v=new o(u[0],u[1]),d=new o(u[2],u[3]),p=new o(u[4],u[5]);return new l(v,d,p)},n.exports=l},42534:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(87842),y=i(83419),c=i(80021),o=i(26099),l=new y({Extends:c,initialize:r(function(u){u===void 0&&(u=[]),c.call(this,"SplineCurve"),this.points=[],this.addPoints(u)},"SplineCurve"),addPoints:r(function(a){for(var u=0;u<a.length;u++){var v=new o;typeof a[u]=="number"?(v.x=a[u],v.y=a[u+1],u++):Array.isArray(a[u])?(v.x=a[u][0],v.y=a[u][1]):(v.x=a[u].x,v.y=a[u].y),this.points.push(v)}return this},"addPoints"),addPoint:r(function(a,u){var v=new o(a,u);return this.points.push(v),v},"addPoint"),getStartPoint:r(function(a){return a===void 0&&(a=new o),a.copy(this.points[0])},"getStartPoint"),getResolution:r(function(a){return a*this.points.length},"getResolution"),getPoint:r(function(a,u){u===void 0&&(u=new o);var v=this.points,d=(v.length-1)*a,p=Math.floor(d),g=d-p,m=v[p===0?p:p-1],x=v[p],C=v[p>v.length-2?v.length-1:p+1],P=v[p>v.length-3?v.length-1:p+2];return u.set(f(g,m.x,x.x,C.x,P.x),f(g,m.y,x.y,C.y,P.y))},"getPoint"),toJSON:r(function(){for(var a=[],u=0;u<this.points.length;u++)a.push(this.points[u].x),a.push(this.points[u].y);return{type:this.type,points:a}},"toJSON")});l.fromJSON=function(a){return new l(a.points)},n.exports=l},25410:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={Path:i(46669),MoveTo:i(68618),CubicBezier:i(46728),Curve:i(80021),Ellipse:i(73825),Line:i(33951),QuadraticBezier:i(14744),Spline:i(42534)}},68618:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(83419),y=i(26099),c=new f({initialize:r(function(l,a){this.active=!1,this.p0=new y(l,a)},"MoveTo"),getPoint:r(function(o,l){return l===void 0&&(l=new y),l.copy(this.p0)},"getPoint"),getPointAt:r(function(o,l){return this.getPoint(o,l)},"getPointAt"),getResolution:r(function(){return 1},"getResolution"),getLength:r(function(){return 0},"getLength"),toJSON:r(function(){return{type:"MoveTo",points:[this.p0.x,this.p0.y]}},"toJSON")});n.exports=c},46669:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(83419),y=i(46728),c=i(73825),o=i(39429),l=i(33951),a=i(68618),u=i(14744),v=i(87841),d=i(42534),p=i(26099),g=i(36383),m=new f({initialize:r(function(C,P){C===void 0&&(C=0),P===void 0&&(P=0),this.name="",this.defaultDivisions=12,this.curves=[],this.cacheLengths=[],this.autoClose=!1,this.startPoint=new p,this._tmpVec2A=new p,this._tmpVec2B=new p,typeof C=="object"?this.fromJSON(C):this.startPoint.set(C,P)},"Path"),add:r(function(x){return this.curves.push(x),this},"add"),circleTo:r(function(x,C,P){return C===void 0&&(C=!1),this.ellipseTo(x,x,0,360,C,P)},"circleTo"),closePath:r(function(){var x=this.curves[0].getPoint(0),C=this.curves[this.curves.length-1].getPoint(1);return x.equals(C)||this.curves.push(new l(C,x)),this},"closePath"),cubicBezierTo:r(function(x,C,P,A,R,L){var O=this.getEndPoint(),w,b,F;return x instanceof p?(w=x,b=C,F=P):(w=new p(P,A),b=new p(R,L),F=new p(x,C)),this.add(new y(O,w,b,F))},"cubicBezierTo"),quadraticBezierTo:r(function(x,C,P,A){var R=this.getEndPoint(),L,O;return x instanceof p?(L=x,O=C):(L=new p(P,A),O=new p(x,C)),this.add(new u(R,L,O))},"quadraticBezierTo"),draw:r(function(x,C){for(var P=0;P<this.curves.length;P++){var A=this.curves[P];A.active&&A.draw(x,C)}return x},"draw"),ellipseTo:r(function(x,C,P,A,R,L){var O=new c(0,0,x,C,P,A,R,L),w=this.getEndPoint(this._tmpVec2A),b=O.getStartPoint(this._tmpVec2B);return w.subtract(b),O.x=w.x,O.y=w.y,this.add(O)},"ellipseTo"),fromJSON:r(function(x){this.curves=[],this.cacheLengths=[],this.startPoint.set(x.x,x.y),this.autoClose=x.autoClose;for(var C=0;C<x.curves.length;C++){var P=x.curves[C];switch(P.type){case"LineCurve":this.add(l.fromJSON(P));break;case"EllipseCurve":this.add(c.fromJSON(P));break;case"SplineCurve":this.add(d.fromJSON(P));break;case"CubicBezierCurve":this.add(y.fromJSON(P));break;case"QuadraticBezierCurve":this.add(u.fromJSON(P));break}}return this},"fromJSON"),getBounds:r(function(x,C){x===void 0&&(x=new v),C===void 0&&(C=16),x.x=Number.MAX_VALUE,x.y=Number.MAX_VALUE;for(var P=new v,A=g.MIN_SAFE_INTEGER,R=g.MIN_SAFE_INTEGER,L=0;L<this.curves.length;L++){var O=this.curves[L];O.active&&(O.getBounds(P,C),x.x=Math.min(x.x,P.x),x.y=Math.min(x.y,P.y),A=Math.max(A,P.right),R=Math.max(R,P.bottom))}return x.right=A,x.bottom=R,x},"getBounds"),getCurveLengths:r(function(){if(this.cacheLengths.length===this.curves.length)return this.cacheLengths;for(var x=[],C=0,P=0;P<this.curves.length;P++)C+=this.curves[P].getLength(),x.push(C);return this.cacheLengths=x,x},"getCurveLengths"),getCurveAt:r(function(x){for(var C=x*this.getLength(),P=this.getCurveLengths(),A=0;A<P.length;){if(P[A]>=C)return this.curves[A];A++}return null},"getCurveAt"),getEndPoint:r(function(x){return x===void 0&&(x=new p),this.curves.length>0?this.curves[this.curves.length-1].getPoint(1,x):x.copy(this.startPoint),x},"getEndPoint"),getLength:r(function(){var x=this.getCurveLengths();return x[x.length-1]},"getLength"),getPoint:r(function(x,C){C===void 0&&(C=new p);for(var P=x*this.getLength(),A=this.getCurveLengths(),R=0;R<A.length;){if(A[R]>=P){var L=A[R]-P,O=this.curves[R],w=O.getLength(),b=w===0?0:1-L/w;return O.getPointAt(b,C)}R++}return null},"getPoint"),getPoints:r(function(x,C){!x&&!C&&(x=this.defaultDivisions);for(var P=[],A,R=0;R<this.curves.length;R++){var L=this.curves[R];if(L.active)for(var O=L.getResolution(x),w=L.getPoints(O,C),b=0;b<w.length;b++){var F=w[b];A&&A.equals(F)||(P.push(F),A=F)}}return this.autoClose&&P.length>1&&!P[P.length-1].equals(P[0])&&P.push(P[0]),P},"getPoints"),getRandomPoint:r(function(x){return x===void 0&&(x=new p),this.getPoint(Math.random(),x)},"getRandomPoint"),getSpacedPoints:r(function(x){x===void 0&&(x=40);for(var C=[],P=0;P<=x;P++)C.push(this.getPoint(P/x));return this.autoClose&&C.push(C[0]),C},"getSpacedPoints"),getStartPoint:r(function(x){return x===void 0&&(x=new p),x.copy(this.startPoint)},"getStartPoint"),getTangent:r(function(x,C){C===void 0&&(C=new p);for(var P=x*this.getLength(),A=this.getCurveLengths(),R=0;R<A.length;){if(A[R]>=P){var L=A[R]-P,O=this.curves[R],w=O.getLength(),b=w===0?0:1-L/w;return O.getTangentAt(b,C)}R++}return null},"getTangent"),lineTo:r(function(x,C){x instanceof p?this._tmpVec2B.copy(x):typeof x=="object"?this._tmpVec2B.setFromObject(x):this._tmpVec2B.set(x,C);var P=this.getEndPoint(this._tmpVec2A);return this.add(new l([P.x,P.y,this._tmpVec2B.x,this._tmpVec2B.y]))},"lineTo"),splineTo:r(function(x){return x.unshift(this.getEndPoint()),this.add(new d(x))},"splineTo"),moveTo:r(function(x,C){return x instanceof p?this.add(new a(x.x,x.y)):this.add(new a(x,C))},"moveTo"),toJSON:r(function(){for(var x=[],C=0;C<this.curves.length;C++)x.push(this.curves[C].toJSON());return{type:"Path",x:this.startPoint.x,y:this.startPoint.y,autoClose:this.autoClose,curves:x}},"toJSON"),updateArcLengths:r(function(){this.cacheLengths=[],this.getCurveLengths()},"updateArcLengths"),destroy:r(function(){this.curves.length=0,this.cacheLengths.length=0,this.startPoint=void 0},"destroy")});o.register("path",function(x,C){return new m(x,C)}),n.exports=m},45893:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(83419),y=i(24882),c=new f({initialize:r(function(l,a){this.parent=l,this.events=a,a||(this.events=l.events?l.events:l),this.list={},this.values={},this._frozen=!1,!l.hasOwnProperty("sys")&&this.events&&this.events.once(y.DESTROY,this.destroy,this)},"DataManager"),get:r(function(o){var l=this.list;if(Array.isArray(o)){for(var a=[],u=0;u<o.length;u++)a.push(l[o[u]]);return a}else return l[o]},"get"),getAll:r(function(){var o={};for(var l in this.list)this.list.hasOwnProperty(l)&&(o[l]=this.list[l]);return o},"getAll"),query:r(function(o){var l={};for(var a in this.list)this.list.hasOwnProperty(a)&&a.match(o)&&(l[a]=this.list[a]);return l},"query"),set:r(function(o,l){if(this._frozen)return this;if(typeof o=="string")return this.setValue(o,l);for(var a in o)this.setValue(a,o[a]);return this},"set"),inc:r(function(o,l){if(this._frozen)return this;l===void 0&&(l=1);var a=this.get(o);return a===void 0&&(a=0),this.set(o,a+l),this},"inc"),toggle:r(function(o){return this._frozen?this:(this.set(o,!this.get(o)),this)},"toggle"),setValue:r(function(o,l){if(this._frozen)return this;if(this.has(o))this.values[o]=l;else{var a=this,u=this.list,v=this.events,d=this.parent;Object.defineProperty(this.values,o,{enumerable:!0,configurable:!0,get:r(function(){return u[o]},"get"),set:r(function(p){if(!a._frozen){var g=u[o];u[o]=p,v.emit(y.CHANGE_DATA,d,o,p,g),v.emit(y.CHANGE_DATA_KEY+o,d,p,g)}},"set")}),u[o]=l,v.emit(y.SET_DATA,d,o,l)}return this},"setValue"),each:r(function(o,l){for(var a=[this.parent,null,void 0],u=1;u<arguments.length;u++)a.push(arguments[u]);for(var v in this.list)a[1]=v,a[2]=this.list[v],o.apply(l,a);return this},"each"),merge:r(function(o,l){l===void 0&&(l=!0);for(var a in o)o.hasOwnProperty(a)&&(l||!l&&!this.has(a))&&this.setValue(a,o[a]);return this},"merge"),remove:r(function(o){if(this._frozen)return this;if(Array.isArray(o))for(var l=0;l<o.length;l++)this.removeValue(o[l]);else return this.removeValue(o);return this},"remove"),removeValue:r(function(o){if(this.has(o)){var l=this.list[o];delete this.list[o],delete this.values[o],this.events.emit(y.REMOVE_DATA,this.parent,o,l)}return this},"removeValue"),pop:r(function(o){var l=void 0;return!this._frozen&&this.has(o)&&(l=this.list[o],delete this.list[o],delete this.values[o],this.events.emit(y.REMOVE_DATA,this.parent,o,l)),l},"pop"),has:r(function(o){return this.list.hasOwnProperty(o)},"has"),setFreeze:r(function(o){return this._frozen=o,this},"setFreeze"),reset:r(function(){for(var o in this.list)delete this.list[o],delete this.values[o];return this._frozen=!1,this},"reset"),destroy:r(function(){this.reset(),this.events.off(y.CHANGE_DATA),this.events.off(y.SET_DATA),this.events.off(y.REMOVE_DATA),this.parent=null},"destroy"),freeze:{get:r(function(){return this._frozen},"get"),set:r(function(o){this._frozen=!!o},"set")},count:{get:r(function(){var o=0;for(var l in this.list)this.list[l]!==void 0&&o++;return o},"get")}});n.exports=c},63646:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(83419),y=i(45893),c=i(37277),o=i(44594),l=new f({Extends:y,initialize:r(function(u){y.call(this,u,u.sys.events),this.scene=u,this.systems=u.sys,u.sys.events.once(o.BOOT,this.boot,this),u.sys.events.on(o.START,this.start,this)},"DataManagerPlugin"),boot:r(function(){this.events=this.systems.events,this.events.once(o.DESTROY,this.destroy,this)},"boot"),start:r(function(){this.events.once(o.SHUTDOWN,this.shutdown,this)},"start"),shutdown:r(function(){this.systems.events.off(o.SHUTDOWN,this.shutdown,this)},"shutdown"),destroy:r(function(){y.prototype.destroy.call(this),this.events.off(o.START,this.start,this),this.scene=null,this.systems=null},"destroy")});c.register("DataManagerPlugin",l,"data"),n.exports=l},10700:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="changedata"},93608:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="changedata-"},60883:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="destroy"},69780:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="removedata"},22166:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="setdata"},24882:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={CHANGE_DATA:i(10700),CHANGE_DATA_KEY:i(93608),DESTROY:i(60883),REMOVE_DATA:i(69780),SET_DATA:i(22166)}},44965:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={DataManager:i(45893),DataManagerPlugin:i(63646),Events:i(24882)}},7098:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(84148),y={flac:!1,aac:!1,audioData:!1,dolby:!1,m4a:!1,mp3:!1,ogg:!1,opus:!1,wav:!1,webAudio:!1,webm:!1};function c(){if(typeof importScripts=="function")return y;y.audioData=!!window.Audio,y.webAudio=!!(window.AudioContext||window.webkitAudioContext);var o=document.createElement("audio"),l=!!o.canPlayType;try{if(l){var a=r(function(d,p){var g=o.canPlayType("audio/"+d).replace(/^no$/,"");return p?!!(g||o.canPlayType("audio/"+p).replace(/^no$/,"")):!!g},"CanPlay");if(y.ogg=a('ogg; codecs="vorbis"'),y.opus=a('ogg; codecs="opus"',"opus"),y.mp3=a("mpeg"),y.wav=a("wav"),y.m4a=a("x-m4a"),y.aac=a("aac"),y.flac=a("flac","x-flac"),y.webm=a('webm; codecs="vorbis"'),o.canPlayType('audio/mp4; codecs="ec-3"')!==""){if(f.edge)y.dolby=!0;else if(f.safari&&f.safariVersion>=9&&/Mac OS X (\d+)_(\d+)/.test(navigator.userAgent)){var u=parseInt(RegExp.$1,10),v=parseInt(RegExp.$2,10);(u===10&&v>=11||u>10)&&(y.dolby=!0)}}}}catch{}return y}r(c,"init"),n.exports=c()},84148:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(25892),y={chrome:!1,chromeVersion:0,edge:!1,firefox:!1,firefoxVersion:0,ie:!1,ieVersion:0,mobileSafari:!1,opera:!1,safari:!1,safariVersion:0,silk:!1,trident:!1,tridentVersion:0,es2019:!1};function c(){var o=navigator.userAgent;return/Edg\/\d+/.test(o)?(y.edge=!0,y.es2019=!0):/OPR/.test(o)?(y.opera=!0,y.es2019=!0):/Chrome\/(\d+)/.test(o)&&!f.windowsPhone?(y.chrome=!0,y.chromeVersion=parseInt(RegExp.$1,10),y.es2019=y.chromeVersion>69):/Firefox\D+(\d+)/.test(o)?(y.firefox=!0,y.firefoxVersion=parseInt(RegExp.$1,10),y.es2019=y.firefoxVersion>10):/AppleWebKit\/(?!.*CriOS)/.test(o)&&f.iOS?(y.mobileSafari=!0,y.es2019=!0):/MSIE (\d+\.\d+);/.test(o)?(y.ie=!0,y.ieVersion=parseInt(RegExp.$1,10)):/Version\/(\d+\.\d+(\.\d+)?) Safari/.test(o)&&!f.windowsPhone?(y.safari=!0,y.safariVersion=parseInt(RegExp.$1,10),y.es2019=y.safariVersion>10):/Trident\/(\d+\.\d+)(.*)rv:(\d+\.\d+)/.test(o)&&(y.ie=!0,y.trident=!0,y.tridentVersion=parseInt(RegExp.$1,10),y.ieVersion=parseInt(RegExp.$3,10)),/Silk/.test(o)&&(y.silk=!0),y}r(c,"init"),n.exports=c()},89289:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(27919),y={supportInverseAlpha:!1,supportNewBlendModes:!1};function c(){var a="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAABAQMAAADD8p2OAAAAA1BMVEX/",u="AAAACklEQVQI12NgAAAAAgAB4iG8MwAAAABJRU5ErkJggg==",v=new Image;return v.onload=function(){var d=new Image;d.onload=function(){var p=f.create2D(d,6),g=p.getContext("2d",{willReadFrequently:!0});if(g.globalCompositeOperation="multiply",g.drawImage(v,0,0),g.drawImage(d,2,0),!g.getImageData(2,0,1,1))return!1;var m=g.getImageData(2,0,1,1).data;f.remove(d),y.supportNewBlendModes=m[0]===255&&m[1]===0&&m[2]===0},d.src=a+"/wCKxvRF"+u},v.src=a+"AP804Oa6"+u,!1}r(c,"checkBlendMode");function o(){var a=f.create2D(this,2),u=a.getContext("2d",{willReadFrequently:!0});u.fillStyle="rgba(10, 20, 30, 0.5)",u.fillRect(0,0,1,1);var v=u.getImageData(0,0,1,1);if(v===null)return!1;u.putImageData(v,1,0);var d=u.getImageData(1,0,1,1),p=d.data[0]===v.data[0]&&d.data[1]===v.data[1]&&d.data[2]===v.data[2]&&d.data[3]===v.data[3];return f.remove(this),p}r(o,"checkInverseAlpha");function l(){return typeof importScripts!="function"&&document!==void 0&&(y.supportNewBlendModes=c(),y.supportInverseAlpha=o()),y}r(l,"init"),n.exports=l()},89357:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(25892),y=i(84148),c=i(27919),o={canvas:!1,canvasBitBltShift:null,file:!1,fileSystem:!1,getUserMedia:!0,littleEndian:!1,localStorage:!1,pointerLock:!1,stableSort:!1,support32bit:!1,vibration:!1,webGL:!1,worker:!1};function l(){var u=new ArrayBuffer(4),v=new Uint8Array(u),d=new Uint32Array(u);return v[0]=161,v[1]=178,v[2]=195,v[3]=212,d[0]===3569595041?!0:d[0]===2712847316?!1:null}r(l,"checkIsLittleEndian");function a(){if(typeof importScripts=="function")return o;o.canvas=!!window.CanvasRenderingContext2D;try{o.localStorage=!!localStorage.getItem}catch{o.localStorage=!1}o.file=!!window.File&&!!window.FileReader&&!!window.FileList&&!!window.Blob,o.fileSystem=!!window.requestFileSystem;var u=!1,v=r(function(){if(window.WebGLRenderingContext)try{var d=c.createWebGL(this),p=d.getContext("webgl")||d.getContext("experimental-webgl"),g=c.create2D(this),m=g.getContext("2d",{willReadFrequently:!0}),x=m.createImageData(1,1);return u=x.data instanceof Uint8ClampedArray,c.remove(d),c.remove(g),!!p}catch{return!1}return!1},"testWebGL");return o.webGL=v(),o.worker=!!window.Worker,o.pointerLock="pointerLockElement"in document||"mozPointerLockElement"in document||"webkitPointerLockElement"in document,navigator.getUserMedia=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia||navigator.oGetUserMedia,window.URL=window.URL||window.webkitURL||window.mozURL||window.msURL,o.getUserMedia=o.getUserMedia&&!!navigator.getUserMedia&&!!window.URL,y.firefox&&y.firefoxVersion<21&&(o.getUserMedia=!1),!f.iOS&&(y.ie||y.firefox||y.chrome)&&(o.canvasBitBltShift=!0),(y.safari||y.mobileSafari)&&(o.canvasBitBltShift=!1),navigator.vibrate=navigator.vibrate||navigator.webkitVibrate||navigator.mozVibrate||navigator.msVibrate,navigator.vibrate&&(o.vibration=!0),typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint32Array<"u"&&(o.littleEndian=l()),o.support32bit=typeof ArrayBuffer<"u"&&typeof Uint8ClampedArray<"u"&&typeof Int32Array<"u"&&o.littleEndian!==null&&u,o}r(a,"init"),n.exports=a()},91639:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={available:!1,cancel:"",keyboard:!1,request:""};function i(){if(typeof importScripts=="function")return T;var f,y="Fullscreen",c="FullScreen",o=["request"+y,"request"+c,"webkitRequest"+y,"webkitRequest"+c,"msRequest"+y,"msRequest"+c,"mozRequest"+c,"mozRequest"+y];for(f=0;f<o.length;f++)if(document.documentElement[o[f]]){T.available=!0,T.request=o[f];break}var l=["cancel"+c,"exit"+y,"webkitCancel"+c,"webkitExit"+y,"msCancel"+c,"msExit"+y,"mozCancel"+c,"mozExit"+y];if(T.available){for(f=0;f<l.length;f++)if(document[l[f]]){T.cancel=l[f];break}}return window.Element&&Element.ALLOW_KEYBOARD_INPUT&&!/ Version\/5\.1(?:\.\d+)? Safari\//.test(navigator.userAgent)&&(T.keyboard=!0),Object.defineProperty(T,"active",{get:r(function(){return!!(document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement)},"get")}),T}r(i,"init"),n.exports=i()},31784:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(84148),y={gamepads:!1,mspointer:!1,touch:!1,wheelEvent:null};function c(){return typeof importScripts=="function"||(("ontouchstart"in document.documentElement||navigator.maxTouchPoints&&navigator.maxTouchPoints>=1)&&(y.touch=!0),(navigator.msPointerEnabled||navigator.pointerEnabled)&&(y.mspointer=!0),navigator.getGamepads&&(y.gamepads=!0),"onwheel"in window||f.ie&&"WheelEvent"in window?y.wheelEvent="wheel":"onmousewheel"in window?y.wheelEvent="mousewheel":f.firefox&&"MouseScrollEvent"in window&&(y.wheelEvent="DOMMouseScroll")),y}r(c,"init"),n.exports=c()},25892:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={android:!1,chromeOS:!1,cordova:!1,crosswalk:!1,desktop:!1,ejecta:!1,electron:!1,iOS:!1,iOSVersion:0,iPad:!1,iPhone:!1,kindle:!1,linux:!1,macOS:!1,node:!1,nodeWebkit:!1,pixelRatio:1,webApp:!1,windows:!1,windowsPhone:!1};function i(){if(typeof importScripts=="function")return T;var f=navigator.userAgent;/Windows/.test(f)?T.windows=!0:/Mac OS/.test(f)&&!/like Mac OS/.test(f)?navigator.maxTouchPoints&&navigator.maxTouchPoints>2?(T.iOS=!0,T.iPad=!0,navigator.appVersion.match(/Version\/(\d+)/),T.iOSVersion=parseInt(RegExp.$1,10)):T.macOS=!0:/Android/.test(f)?T.android=!0:/Linux/.test(f)?T.linux=!0:/iP[ao]d|iPhone/i.test(f)?(T.iOS=!0,navigator.appVersion.match(/OS (\d+)/),T.iOSVersion=parseInt(RegExp.$1,10),T.iPhone=f.toLowerCase().indexOf("iphone")!==-1,T.iPad=f.toLowerCase().indexOf("ipad")!==-1):/Kindle/.test(f)||/\bKF[A-Z][A-Z]+/.test(f)||/Silk.*Mobile Safari/.test(f)?T.kindle=!0:/CrOS/.test(f)&&(T.chromeOS=!0),(/Windows Phone/i.test(f)||/IEMobile/i.test(f))&&(T.android=!1,T.iOS=!1,T.macOS=!1,T.windows=!0,T.windowsPhone=!0);var y=/Silk/.test(f);return(T.windows||T.macOS||T.linux&&!y||T.chromeOS)&&(T.desktop=!0),(T.windowsPhone||/Windows NT/i.test(f)&&/Touch/i.test(f))&&(T.desktop=!1),navigator.standalone&&(T.webApp=!0),typeof importScripts!="function"&&(window.cordova!==void 0&&(T.cordova=!0),window.ejecta!==void 0&&(T.ejecta=!0)),typeof process<"u"&&process.versions&&process.versions.node&&(T.node=!0),T.node&&typeof process.versions=="object"&&(T.nodeWebkit=!!process.versions["node-webkit"],T.electron=!!process.versions.electron),/Crosswalk/.test(f)&&(T.crosswalk=!0),T.pixelRatio=window.devicePixelRatio||1,T}r(i,"init"),n.exports=i()},43267:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(95540),y={h264:!1,hls:!1,mp4:!1,m4v:!1,ogg:!1,vp9:!1,webm:!1,hasRequestVideoFrame:!1};function c(){if(typeof importScripts=="function")return y;var o=document.createElement("video"),l=!!o.canPlayType,a=/^no$/;try{l&&(o.canPlayType('video/ogg; codecs="theora"').replace(a,"")&&(y.ogg=!0),o.canPlayType('video/mp4; codecs="avc1.42E01E"').replace(a,"")&&(y.h264=!0,y.mp4=!0),o.canPlayType("video/x-m4v").replace(a,"")&&(y.m4v=!0),o.canPlayType('video/webm; codecs="vp8, vorbis"').replace(a,"")&&(y.webm=!0),o.canPlayType('video/webm; codecs="vp9"').replace(a,"")&&(y.vp9=!0),o.canPlayType('application/x-mpegURL; codecs="avc1.42E01E"').replace(a,"")&&(y.hls=!0))}catch{}return o.parentNode&&o.parentNode.removeChild(o),y.getVideoURL=function(u){Array.isArray(u)||(u=[u]);for(var v=0;v<u.length;v++){var d=f(u[v],"url",u[v]);if(d.indexOf("blob:")===0)return{url:d,type:""};var p;if(d.indexOf("data:")===0?p=d.split(",")[0].match(/\/(.*?);/):p=d.match(/\.([a-zA-Z0-9]+)($|\?)/),p=f(u[v],"type",p?p[1]:"").toLowerCase(),y[p])return{url:d,type:p}}return null},y}r(c,"init"),n.exports=c()},82264:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={os:i(25892),browser:i(84148),features:i(89357),input:i(31784),audio:i(7098),video:i(43267),fullscreen:i(91639),canvasFeatures:i(89289)}},89422:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(83419),y=new Float32Array(20),c=new f({initialize:r(function(){this._matrix=new Float32Array(20),this.alpha=1,this._dirty=!0,this._data=new Float32Array(20),this.reset()},"ColorMatrix"),set:r(function(o){return this._matrix.set(o),this._dirty=!0,this},"set"),reset:r(function(){var o=this._matrix;return o.fill(0),o[0]=1,o[6]=1,o[12]=1,o[18]=1,this.alpha=1,this._dirty=!0,this},"reset"),getData:r(function(){var o=this._data;return this._dirty&&(o.set(this._matrix),o[4]/=255,o[9]/=255,o[14]/=255,o[19]/=255,this._dirty=!1),o},"getData"),brightness:r(function(o,l){o===void 0&&(o=0),l===void 0&&(l=!1);var a=o;return this.multiply([a,0,0,0,0,0,a,0,0,0,0,0,a,0,0,0,0,0,1,0],l)},"brightness"),saturate:r(function(o,l){o===void 0&&(o=0),l===void 0&&(l=!1);var a=o*2/3+1,u=(a-1)*-.5;return this.multiply([a,u,u,0,0,u,a,u,0,0,u,u,a,0,0,0,0,0,1,0],l)},"saturate"),desaturate:r(function(o){return o===void 0&&(o=!1),this.saturate(-1,o)},"desaturate"),hue:r(function(o,l){o===void 0&&(o=0),l===void 0&&(l=!1),o=o/180*Math.PI;var a=Math.cos(o),u=Math.sin(o),v=.213,d=.715,p=.072;return this.multiply([v+a*(1-v)+u*-v,d+a*-d+u*-d,p+a*-p+u*(1-p),0,0,v+a*-v+u*.143,d+a*(1-d)+u*.14,p+a*-p+u*-.283,0,0,v+a*-v+u*-(1-v),d+a*-d+u*d,p+a*(1-p)+u*p,0,0,0,0,0,1,0],l)},"hue"),grayscale:r(function(o,l){return o===void 0&&(o=1),l===void 0&&(l=!1),this.saturate(-o,l)},"grayscale"),blackWhite:r(function(o){return o===void 0&&(o=!1),this.multiply(c.BLACK_WHITE,o)},"blackWhite"),contrast:r(function(o,l){o===void 0&&(o=0),l===void 0&&(l=!1);var a=o+1,u=-.5*(a-1);return this.multiply([a,0,0,0,u,0,a,0,0,u,0,0,a,0,u,0,0,0,1,0],l)},"contrast"),negative:r(function(o){return o===void 0&&(o=!1),this.multiply(c.NEGATIVE,o)},"negative"),desaturateLuminance:r(function(o){return o===void 0&&(o=!1),this.multiply(c.DESATURATE_LUMINANCE,o)},"desaturateLuminance"),sepia:r(function(o){return o===void 0&&(o=!1),this.multiply(c.SEPIA,o)},"sepia"),night:r(function(o,l){return o===void 0&&(o=.1),l===void 0&&(l=!1),this.multiply([o*-2,-o,0,0,0,-o,0,o,0,0,0,o,o*2,0,0,0,0,0,1,0],l)},"night"),lsd:r(function(o){return o===void 0&&(o=!1),this.multiply(c.LSD,o)},"lsd"),brown:r(function(o){return o===void 0&&(o=!1),this.multiply(c.BROWN,o)},"brown"),vintagePinhole:r(function(o){return o===void 0&&(o=!1),this.multiply(c.VINTAGE,o)},"vintagePinhole"),kodachrome:r(function(o){return o===void 0&&(o=!1),this.multiply(c.KODACHROME,o)},"kodachrome"),technicolor:r(function(o){return o===void 0&&(o=!1),this.multiply(c.TECHNICOLOR,o)},"technicolor"),polaroid:r(function(o){return o===void 0&&(o=!1),this.multiply(c.POLAROID,o)},"polaroid"),shiftToBGR:r(function(o){return o===void 0&&(o=!1),this.multiply(c.SHIFT_BGR,o)},"shiftToBGR"),multiply:r(function(o,l){l===void 0&&(l=!1),l||this.reset();var a=this._matrix,u=y;return u.set(a),a.set([u[0]*o[0]+u[1]*o[5]+u[2]*o[10]+u[3]*o[15],u[0]*o[1]+u[1]*o[6]+u[2]*o[11]+u[3]*o[16],u[0]*o[2]+u[1]*o[7]+u[2]*o[12]+u[3]*o[17],u[0]*o[3]+u[1]*o[8]+u[2]*o[13]+u[3]*o[18],u[0]*o[4]+u[1]*o[9]+u[2]*o[14]+u[3]*o[19]+u[4],u[5]*o[0]+u[6]*o[5]+u[7]*o[10]+u[8]*o[15],u[5]*o[1]+u[6]*o[6]+u[7]*o[11]+u[8]*o[16],u[5]*o[2]+u[6]*o[7]+u[7]*o[12]+u[8]*o[17],u[5]*o[3]+u[6]*o[8]+u[7]*o[13]+u[8]*o[18],u[5]*o[4]+u[6]*o[9]+u[7]*o[14]+u[8]*o[19]+u[9],u[10]*o[0]+u[11]*o[5]+u[12]*o[10]+u[13]*o[15],u[10]*o[1]+u[11]*o[6]+u[12]*o[11]+u[13]*o[16],u[10]*o[2]+u[11]*o[7]+u[12]*o[12]+u[13]*o[17],u[10]*o[3]+u[11]*o[8]+u[12]*o[13]+u[13]*o[18],u[10]*o[4]+u[11]*o[9]+u[12]*o[14]+u[13]*o[19]+u[14],u[15]*o[0]+u[16]*o[5]+u[17]*o[10]+u[18]*o[15],u[15]*o[1]+u[16]*o[6]+u[17]*o[11]+u[18]*o[16],u[15]*o[2]+u[16]*o[7]+u[17]*o[12]+u[18]*o[17],u[15]*o[3]+u[16]*o[8]+u[17]*o[13]+u[18]*o[18],u[15]*o[4]+u[16]*o[9]+u[17]*o[14]+u[18]*o[19]+u[19]]),this._dirty=!0,this},"multiply")});c.BLACK_WHITE=[.3,.6,.1,0,0,.3,.6,.1,0,0,.3,.6,.1,0,0,0,0,0,1,0],c.NEGATIVE=[-1,0,0,1,0,0,-1,0,1,0,0,0,-1,1,0,0,0,0,1,0],c.DESATURATE_LUMINANCE=[.2764723,.929708,.0938197,0,-37.1,.2764723,.929708,.0938197,0,-37.1,.2764723,.929708,.0938197,0,-37.1,0,0,0,1,0],c.SEPIA=[.393,.7689999,.18899999,0,0,.349,.6859999,.16799999,0,0,.272,.5339999,.13099999,0,0,0,0,0,1,0],c.LSD=[2,-.4,.5,0,0,-.5,2,-.4,0,0,-.4,-.5,3,0,0,0,0,0,1,0],c.BROWN=[.5997023498159715,.34553243048391263,-.2708298674538042,0,47.43192855600873,-.037703249837783157,.8609577587992641,.15059552388459913,0,-36.96841498319127,.24113635128153335,-.07441037908422492,.44972182064877153,0,-7.562075277591283,0,0,0,1,0],c.VINTAGE=[.6279345635605994,.3202183420819367,-.03965408211312453,0,9.651285835294123,.02578397704808868,.6441188644374771,.03259127616149294,0,7.462829176470591,.0466055556782719,-.0851232987247891,.5241648018700465,0,5.159190588235296,0,0,0,1,0],c.KODACHROME=[1.1285582396593525,-.3967382283601348,-.03992559172921793,0,63.72958762196502,-.16404339962244616,1.0835251566291304,-.05498805115633132,0,24.732407896706203,-.16786010706155763,-.5603416277695248,1.6014850761964943,0,35.62982807460946,0,0,0,1,0],c.TECHNICOLOR=[1.9125277891456083,-.8545344976951645,-.09155508482755585,0,11.793603434377337,-.3087833385928097,1.7658908555458428,-.10601743074722245,0,-70.35205161461398,-.231103377548616,-.7501899197440212,1.847597816108189,0,30.950940869491138,0,0,0,1,0],c.POLAROID=[1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0],c.SHIFT_BGR=[0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0],n.exports=c},51767:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(83419),y=i(29747),c=new f({initialize:r(function(l,a,u){this._rgb=[0,0,0],this.onChangeCallback=y,this.dirty=!1,this.set(l,a,u)},"RGB"),set:r(function(o,l,a){return o===void 0&&(o=0),l===void 0&&(l=0),a===void 0&&(a=0),this._rgb=[o,l,a],this.onChange(),this},"set"),equals:r(function(o,l,a){var u=this._rgb;return u[0]===o&&u[1]===l&&u[2]===a},"equals"),onChange:r(function(){this.dirty=!0;var o=this._rgb;this.onChangeCallback.call(this,o[0],o[1],o[2])},"onChange"),r:{get:r(function(){return this._rgb[0]},"get"),set:r(function(o){this._rgb[0]=o,this.onChange()},"set")},g:{get:r(function(){return this._rgb[1]},"get"),set:r(function(o){this._rgb[1]=o,this.onChange()},"set")},b:{get:r(function(){return this._rgb[2]},"get"),set:r(function(o){this._rgb[2]=o,this.onChange()},"set")},destroy:r(function(){this.onChangeCallback=null},"destroy")});n.exports=c},60461:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={TOP_LEFT:0,TOP_CENTER:1,TOP_RIGHT:2,LEFT_TOP:3,LEFT_CENTER:4,LEFT_BOTTOM:5,CENTER:6,RIGHT_TOP:7,RIGHT_CENTER:8,RIGHT_BOTTOM:9,BOTTOM_LEFT:10,BOTTOM_CENTER:11,BOTTOM_RIGHT:12};n.exports=T},54312:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(62235),y=i(35893),c=i(86327),o=i(88417),l=r(function(a,u,v,d){return v===void 0&&(v=0),d===void 0&&(d=0),o(a,y(u)+v),c(a,f(u)+d),a},"BottomCenter");n.exports=l},46768:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(62235),y=i(26541),c=i(86327),o=i(385),l=r(function(a,u,v,d){return v===void 0&&(v=0),d===void 0&&(d=0),o(a,y(u)-v),c(a,f(u)+d),a},"BottomLeft");n.exports=l},35827:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(62235),y=i(54380),c=i(86327),o=i(40136),l=r(function(a,u,v,d){return v===void 0&&(v=0),d===void 0&&(d=0),o(a,y(u)+v),c(a,f(u)+d),a},"BottomRight");n.exports=l},46871:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(66786),y=i(35893),c=i(7702),o=r(function(l,a,u,v){return u===void 0&&(u=0),v===void 0&&(v=0),f(l,y(a)+u,c(a)+v),l},"Center");n.exports=o},5198:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(7702),y=i(26541),c=i(20786),o=i(385),l=r(function(a,u,v,d){return v===void 0&&(v=0),d===void 0&&(d=0),o(a,y(u)-v),c(a,f(u)+d),a},"LeftCenter");n.exports=l},11879:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(60461),y=[];y[f.BOTTOM_CENTER]=i(54312),y[f.BOTTOM_LEFT]=i(46768),y[f.BOTTOM_RIGHT]=i(35827),y[f.CENTER]=i(46871),y[f.LEFT_CENTER]=i(5198),y[f.RIGHT_CENTER]=i(80503),y[f.TOP_CENTER]=i(89698),y[f.TOP_LEFT]=i(922),y[f.TOP_RIGHT]=i(21373),y[f.LEFT_BOTTOM]=y[f.BOTTOM_LEFT],y[f.LEFT_TOP]=y[f.TOP_LEFT],y[f.RIGHT_BOTTOM]=y[f.BOTTOM_RIGHT],y[f.RIGHT_TOP]=y[f.TOP_RIGHT];var c=r(function(o,l,a,u,v){return y[a](o,l,u,v)},"QuickSet");n.exports=c},80503:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(7702),y=i(54380),c=i(20786),o=i(40136),l=r(function(a,u,v,d){return v===void 0&&(v=0),d===void 0&&(d=0),o(a,y(u)+v),c(a,f(u)+d),a},"RightCenter");n.exports=l},89698:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(35893),y=i(17717),c=i(88417),o=i(66737),l=r(function(a,u,v,d){return v===void 0&&(v=0),d===void 0&&(d=0),c(a,f(u)+v),o(a,y(u)-d),a},"TopCenter");n.exports=l},922:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(26541),y=i(17717),c=i(385),o=i(66737),l=r(function(a,u,v,d){return v===void 0&&(v=0),d===void 0&&(d=0),c(a,f(u)-v),o(a,y(u)-d),a},"TopLeft");n.exports=l},21373:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(54380),y=i(17717),c=i(40136),o=i(66737),l=r(function(a,u,v,d){return v===void 0&&(v=0),d===void 0&&(d=0),c(a,f(u)+v),o(a,y(u)-d),a},"TopRight");n.exports=l},91660:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={BottomCenter:i(54312),BottomLeft:i(46768),BottomRight:i(35827),Center:i(46871),LeftCenter:i(5198),QuickSet:i(11879),RightCenter:i(80503),TopCenter:i(89698),TopLeft:i(922),TopRight:i(21373)}},71926:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(60461),y=i(79291),c={In:i(91660),To:i(16694)};c=y(!1,c,f),n.exports=c},21578:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(62235),y=i(35893),c=i(88417),o=i(66737),l=r(function(a,u,v,d){return v===void 0&&(v=0),d===void 0&&(d=0),c(a,y(u)+v),o(a,f(u)+d),a},"BottomCenter");n.exports=l},10210:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(62235),y=i(26541),c=i(385),o=i(66737),l=r(function(a,u,v,d){return v===void 0&&(v=0),d===void 0&&(d=0),c(a,y(u)-v),o(a,f(u)+d),a},"BottomLeft");n.exports=l},82341:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(62235),y=i(54380),c=i(40136),o=i(66737),l=r(function(a,u,v,d){return v===void 0&&(v=0),d===void 0&&(d=0),c(a,y(u)+v),o(a,f(u)+d),a},"BottomRight");n.exports=l},87958:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(62235),y=i(26541),c=i(86327),o=i(40136),l=r(function(a,u,v,d){return v===void 0&&(v=0),d===void 0&&(d=0),o(a,y(u)-v),c(a,f(u)+d),a},"LeftBottom");n.exports=l},40080:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(7702),y=i(26541),c=i(20786),o=i(40136),l=r(function(a,u,v,d){return v===void 0&&(v=0),d===void 0&&(d=0),o(a,y(u)-v),c(a,f(u)+d),a},"LeftCenter");n.exports=l},88466:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(26541),y=i(17717),c=i(40136),o=i(66737),l=r(function(a,u,v,d){return v===void 0&&(v=0),d===void 0&&(d=0),c(a,f(u)-v),o(a,y(u)-d),a},"LeftTop");n.exports=l},38829:(n,T,i)=>{/**
 * @author       samme
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(60461),y=[];y[f.BOTTOM_CENTER]=i(21578),y[f.BOTTOM_LEFT]=i(10210),y[f.BOTTOM_RIGHT]=i(82341),y[f.LEFT_BOTTOM]=i(87958),y[f.LEFT_CENTER]=i(40080),y[f.LEFT_TOP]=i(88466),y[f.RIGHT_BOTTOM]=i(19211),y[f.RIGHT_CENTER]=i(34609),y[f.RIGHT_TOP]=i(48741),y[f.TOP_CENTER]=i(49440),y[f.TOP_LEFT]=i(81288),y[f.TOP_RIGHT]=i(61323);var c=r(function(o,l,a,u,v){return y[a](o,l,u,v)},"QuickSet");n.exports=c},19211:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(62235),y=i(54380),c=i(86327),o=i(385),l=r(function(a,u,v,d){return v===void 0&&(v=0),d===void 0&&(d=0),o(a,y(u)+v),c(a,f(u)+d),a},"RightBottom");n.exports=l},34609:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(7702),y=i(54380),c=i(20786),o=i(385),l=r(function(a,u,v,d){return v===void 0&&(v=0),d===void 0&&(d=0),o(a,y(u)+v),c(a,f(u)+d),a},"RightCenter");n.exports=l},48741:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(54380),y=i(17717),c=i(385),o=i(66737),l=r(function(a,u,v,d){return v===void 0&&(v=0),d===void 0&&(d=0),c(a,f(u)+v),o(a,y(u)-d),a},"RightTop");n.exports=l},49440:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(35893),y=i(17717),c=i(86327),o=i(88417),l=r(function(a,u,v,d){return v===void 0&&(v=0),d===void 0&&(d=0),o(a,f(u)+v),c(a,y(u)-d),a},"TopCenter");n.exports=l},81288:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(26541),y=i(17717),c=i(86327),o=i(385),l=r(function(a,u,v,d){return v===void 0&&(v=0),d===void 0&&(d=0),o(a,f(u)-v),c(a,y(u)-d),a},"TopLeft");n.exports=l},61323:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(54380),y=i(17717),c=i(86327),o=i(40136),l=r(function(a,u,v,d){return v===void 0&&(v=0),d===void 0&&(d=0),o(a,f(u)+v),c(a,y(u)-d),a},"TopRight");n.exports=l},16694:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={BottomCenter:i(21578),BottomLeft:i(10210),BottomRight:i(82341),LeftBottom:i(87958),LeftCenter:i(40080),LeftTop:i(88466),QuickSet:i(38829),RightBottom:i(19211),RightCenter:i(34609),RightTop:i(48741),TopCenter:i(49440),TopLeft:i(81288),TopRight:i(61323)}},66786:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(88417),y=i(20786),c=r(function(o,l,a){return f(o,l),y(o,a)},"CenterOn");n.exports=c},62235:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i){return i.y+i.height-i.height*i.originY},"GetBottom");n.exports=T},72873:(n,T,i)=>{/**
 * @author       samme
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(62235),y=i(26541),c=i(54380),o=i(17717),l=i(87841),a=r(function(u,v){v===void 0&&(v=new l);var d=y(u),p=o(u);return v.x=d,v.y=p,v.width=c(u)-d,v.height=f(u)-p,v},"GetBounds");n.exports=a},35893:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i){return i.x-i.width*i.originX+i.width*.5},"GetCenterX");n.exports=T},7702:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i){return i.y-i.height*i.originY+i.height*.5},"GetCenterY");n.exports=T},26541:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i){return i.x-i.width*i.originX},"GetLeft");n.exports=T},87431:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i){return i.width*i.originX},"GetOffsetX");n.exports=T},46928:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i){return i.height*i.originY},"GetOffsetY");n.exports=T},54380:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i){return i.x+i.width-i.width*i.originX},"GetRight");n.exports=T},17717:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i){return i.y-i.height*i.originY},"GetTop");n.exports=T},86327:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i,f){return i.y=f-i.height+i.height*i.originY,i},"SetBottom");n.exports=T},88417:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i,f){var y=i.width*i.originX;return i.x=f+y-i.width*.5,i},"SetCenterX");n.exports=T},20786:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i,f){var y=i.height*i.originY;return i.y=f+y-i.height*.5,i},"SetCenterY");n.exports=T},385:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i,f){return i.x=f+i.width*i.originX,i},"SetLeft");n.exports=T},40136:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i,f){return i.x=f-i.width+i.width*i.originX,i},"SetRight");n.exports=T},66737:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i,f){return i.y=f+i.height*i.originY,i},"SetTop");n.exports=T},58724:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={CenterOn:i(66786),GetBottom:i(62235),GetBounds:i(72873),GetCenterX:i(35893),GetCenterY:i(7702),GetLeft:i(26541),GetOffsetX:i(87431),GetOffsetY:i(46928),GetRight:i(54380),GetTop:i(17717),SetBottom:i(86327),SetCenterX:i(88417),SetCenterY:i(20786),SetLeft:i(385),SetRight:i(40136),SetTop:i(66737)}},20623:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={setCrisp:r(function(i){var f=["optimizeSpeed","-moz-crisp-edges","-o-crisp-edges","-webkit-optimize-contrast","optimize-contrast","crisp-edges","pixelated"];return f.forEach(function(y){i.style["image-rendering"]=y}),i.style.msInterpolationMode="nearest-neighbor",i},"setCrisp"),setBicubic:r(function(i){return i.style["image-rendering"]="auto",i.style.msInterpolationMode="bicubic",i},"setBicubic")};n.exports=T},27919:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(8054),y=i(68703),c=[],o=!1,l=r(function(){var a=r(function(P,A,R,L,O){A===void 0&&(A=1),R===void 0&&(R=1),L===void 0&&(L=f.CANVAS),O===void 0&&(O=!1);var w,b=d(L);return b===null?(b={parent:P,canvas:document.createElement("canvas"),type:L},L===f.CANVAS&&c.push(b),w=b.canvas):(b.parent=P,w=b.canvas),O&&(b.parent=w),w.width=A,w.height=R,o&&L===f.CANVAS&&y.disable(w.getContext("2d",{willReadFrequently:!1})),w},"create"),u=r(function(P,A,R){return a(P,A,R,f.CANVAS)},"create2D"),v=r(function(P,A,R){return a(P,A,R,f.WEBGL)},"createWebGL"),d=r(function(P){if(P===void 0&&(P=f.CANVAS),P===f.WEBGL)return null;for(var A=0;A<c.length;A++){var R=c[A];if(!R.parent&&R.type===P)return R}return null},"first"),p=r(function(P){var A=P instanceof HTMLCanvasElement;c.forEach(function(R){(A&&R.canvas===P||!A&&R.parent===P)&&(R.parent=null,R.canvas.width=1,R.canvas.height=1)})},"remove"),g=r(function(){var P=0;return c.forEach(function(A){A.parent&&P++}),P},"total"),m=r(function(){return c.length-g()},"free"),x=r(function(){o=!0},"disableSmoothing"),C=r(function(){o=!1},"enableSmoothing");return{create2D:u,create:a,createWebGL:v,disableSmoothing:x,enableSmoothing:C,first:d,free:m,pool:c,remove:p,total:g}},"CanvasPool");n.exports=l()},68703:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T="",i=r(function(){var f=r(function(l){for(var a=["i","webkitI","msI","mozI","oI"],u=0;u<a.length;u++){var v=a[u]+"mageSmoothingEnabled";if(v in l)return v}return null},"getPrefix"),y=r(function(l){return T===""&&(T=f(l)),T&&(l[T]=!0),l},"enable"),c=r(function(l){return T===""&&(T=f(l)),T&&(l[T]=!1),l},"disable"),o=r(function(l){return T!==null?l[T]:null},"isEnabled");return{disable:c,enable:y,getPrefix:f,isEnabled:o}},"Smoothing");n.exports=i()},65208:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i,f){return f===void 0&&(f="none"),i.style.msTouchAction=f,i.style["ms-touch-action"]=f,i.style["touch-action"]=f,i},"TouchAction");n.exports=T},91610:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i,f){f===void 0&&(f="none");var y=["-webkit-","-khtml-","-moz-","-ms-",""];return y.forEach(function(c){i.style[c+"user-select"]=f}),i.style["-webkit-touch-callout"]=f,i.style["-webkit-tap-highlight-color"]="rgba(0, 0, 0, 0)",i},"UserSelect");n.exports=T},26253:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={CanvasInterpolation:i(20623),CanvasPool:i(27919),Smoothing:i(68703),TouchAction:i(65208),UserSelect:i(91610)}},40987:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(83419),y=i(37589),c=i(1e3),o=i(7537),l=i(87837),a=new f({initialize:r(function(v,d,p,g){v===void 0&&(v=0),d===void 0&&(d=0),p===void 0&&(p=0),g===void 0&&(g=255),this.r=0,this.g=0,this.b=0,this.a=255,this._h=0,this._s=0,this._v=0,this._locked=!1,this.gl=[0,0,0,1],this._color=0,this._color32=0,this._rgba="",this.setTo(v,d,p,g)},"Color"),transparent:r(function(){return this._locked=!0,this.red=0,this.green=0,this.blue=0,this.alpha=0,this._locked=!1,this.update(!0)},"transparent"),setTo:r(function(u,v,d,p,g){return p===void 0&&(p=255),g===void 0&&(g=!0),this._locked=!0,this.red=u,this.green=v,this.blue=d,this.alpha=p,this._locked=!1,this.update(g)},"setTo"),setGLTo:r(function(u,v,d,p){return p===void 0&&(p=1),this._locked=!0,this.redGL=u,this.greenGL=v,this.blueGL=d,this.alphaGL=p,this._locked=!1,this.update(!0)},"setGLTo"),setFromRGB:r(function(u){return this._locked=!0,this.red=u.r,this.green=u.g,this.blue=u.b,u.hasOwnProperty("a")&&(this.alpha=u.a),this._locked=!1,this.update(!0)},"setFromRGB"),setFromHSV:r(function(u,v,d){return o(u,v,d,this)},"setFromHSV"),update:r(function(u){if(u===void 0&&(u=!1),this._locked)return this;var v=this.r,d=this.g,p=this.b,g=this.a;return this._color=y(v,d,p),this._color32=c(v,d,p,g),this._rgba="rgba("+v+","+d+","+p+","+g/255+")",u&&l(v,d,p,this),this},"update"),updateHSV:r(function(){var u=this.r,v=this.g,d=this.b;return l(u,v,d,this),this},"updateHSV"),clone:r(function(){return new a(this.r,this.g,this.b,this.a)},"clone"),gray:r(function(u){return this.setTo(u,u,u)},"gray"),random:r(function(u,v){u===void 0&&(u=0),v===void 0&&(v=255);var d=Math.floor(u+Math.random()*(v-u)),p=Math.floor(u+Math.random()*(v-u)),g=Math.floor(u+Math.random()*(v-u));return this.setTo(d,p,g)},"random"),randomGray:r(function(u,v){u===void 0&&(u=0),v===void 0&&(v=255);var d=Math.floor(u+Math.random()*(v-u));return this.setTo(d,d,d)},"randomGray"),saturate:r(function(u){return this.s+=u/100,this},"saturate"),desaturate:r(function(u){return this.s-=u/100,this},"desaturate"),lighten:r(function(u){return this.v+=u/100,this},"lighten"),darken:r(function(u){return this.v-=u/100,this},"darken"),brighten:r(function(u){var v=this.r,d=this.g,p=this.b;return v=Math.max(0,Math.min(255,v-Math.round(255*-(u/100)))),d=Math.max(0,Math.min(255,d-Math.round(255*-(u/100)))),p=Math.max(0,Math.min(255,p-Math.round(255*-(u/100)))),this.setTo(v,d,p)},"brighten"),color:{get:r(function(){return this._color},"get")},color32:{get:r(function(){return this._color32},"get")},rgba:{get:r(function(){return this._rgba},"get")},redGL:{get:r(function(){return this.gl[0]},"get"),set:r(function(u){this.gl[0]=Math.min(Math.abs(u),1),this.r=Math.floor(this.gl[0]*255),this.update(!0)},"set")},greenGL:{get:r(function(){return this.gl[1]},"get"),set:r(function(u){this.gl[1]=Math.min(Math.abs(u),1),this.g=Math.floor(this.gl[1]*255),this.update(!0)},"set")},blueGL:{get:r(function(){return this.gl[2]},"get"),set:r(function(u){this.gl[2]=Math.min(Math.abs(u),1),this.b=Math.floor(this.gl[2]*255),this.update(!0)},"set")},alphaGL:{get:r(function(){return this.gl[3]},"get"),set:r(function(u){this.gl[3]=Math.min(Math.abs(u),1),this.a=Math.floor(this.gl[3]*255),this.update()},"set")},red:{get:r(function(){return this.r},"get"),set:r(function(u){u=Math.floor(Math.abs(u)),this.r=Math.min(u,255),this.gl[0]=u/255,this.update(!0)},"set")},green:{get:r(function(){return this.g},"get"),set:r(function(u){u=Math.floor(Math.abs(u)),this.g=Math.min(u,255),this.gl[1]=u/255,this.update(!0)},"set")},blue:{get:r(function(){return this.b},"get"),set:r(function(u){u=Math.floor(Math.abs(u)),this.b=Math.min(u,255),this.gl[2]=u/255,this.update(!0)},"set")},alpha:{get:r(function(){return this.a},"get"),set:r(function(u){u=Math.floor(Math.abs(u)),this.a=Math.min(u,255),this.gl[3]=u/255,this.update()},"set")},h:{get:r(function(){return this._h},"get"),set:r(function(u){this._h=u,o(u,this._s,this._v,this)},"set")},s:{get:r(function(){return this._s},"get"),set:r(function(u){this._s=u,o(this._h,u,this._v,this)},"set")},v:{get:r(function(){return this._v},"get"),set:r(function(u){this._v=u,o(this._h,this._s,u,this)},"set")}});n.exports=a},92728:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(37589),y=r(function(c){c===void 0&&(c=1024);var o=[],l=255,a,u=255,v=0,d=0;for(a=0;a<=l;a++)o.push({r:u,g:a,b:d,color:f(u,a,d)});for(v=255,a=l;a>=0;a--)o.push({r:a,g:v,b:d,color:f(a,v,d)});for(u=0,a=0;a<=l;a++,v--)o.push({r:u,g:v,b:a,color:f(u,v,a)});for(v=0,d=255,a=0;a<=l;a++,d--,u++)o.push({r:u,g:v,b:d,color:f(u,v,d)});if(c===1024)return o;var p=[],g=0,m=1024/c;for(a=0;a<c;a++)p.push(o[Math.floor(g)]),g+=m;return p},"ColorSpectrum");n.exports=y},91588:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i){var f={r:i>>16&255,g:i>>8&255,b:i&255,a:255};return i>16777215&&(f.a=i>>>24),f},"ColorToRGBA");n.exports=T},62957:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i){var f=i.toString(16);return f.length===1?"0"+f:f},"ComponentToHex");n.exports=T},37589:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i,f,y){return i<<16|f<<8|y},"GetColor");n.exports=T},1e3:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i,f,y,c){return c<<24|i<<16|f<<8|y},"GetColor32");n.exports=T},62183:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(40987),y=i(89528),c=r(function(o,l,a){var u=a,v=a,d=a;if(l!==0){var p=a<.5?a*(1+l):a+l-a*l,g=2*a-p;u=y(g,p,o+1/3),v=y(g,p,o),d=y(g,p,o-1/3)}var m=new f;return m.setGLTo(u,v,d,1)},"HSLToColor");n.exports=c},27939:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(7537),y=r(function(c,o){c===void 0&&(c=1),o===void 0&&(o=1);for(var l=[],a=0;a<=359;a++)l.push(f(a/359,c,o));return l},"HSVColorWheel");n.exports=y},7537:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(37589);function y(o,l,a,u){var v=(o+l*6)%6,d=Math.min(v,4-v,1);return Math.round(255*(u-u*a*Math.max(0,d)))}r(y,"ConvertValue");var c=r(function(o,l,a,u){l===void 0&&(l=1),a===void 0&&(a=1);var v=y(5,o,l,a),d=y(3,o,l,a),p=y(1,o,l,a);return u?u.setTo?u.setTo(v,d,p,u.alpha,!0):(u.r=v,u.g=d,u.b=p,u.color=f(v,d,p),u):{r:v,g:d,b:p,color:f(v,d,p)}},"HSVToRGB");n.exports=c},70238:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(40987),y=r(function(c){var o=new f;c=c.replace(/^(?:#|0x)?([a-f\d])([a-f\d])([a-f\d])$/i,function(d,p,g,m){return p+p+g+g+m+m});var l=/^(?:#|0x)?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(c);if(l){var a=parseInt(l[1],16),u=parseInt(l[2],16),v=parseInt(l[3],16);o.setTo(a,u,v)}return o},"HexStringToColor");n.exports=y},89528:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i,f,y){return y<0&&(y+=1),y>1&&(y-=1),y<.16666666666666666?i+(f-i)*6*y:y<.5?f:y<.6666666666666666?i+(f-i)*(.6666666666666666-y)*6:i},"HueToComponent");n.exports=T},30100:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(40987),y=i(90664),c=r(function(o){var l=y(o);return new f(l.r,l.g,l.b,l.a)},"IntegerToColor");n.exports=c},90664:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i){return i>16777215?{a:i>>>24,r:i>>16&255,g:i>>8&255,b:i&255}:{a:255,r:i>>16&255,g:i>>8&255,b:i&255}},"IntegerToRGB");n.exports=T},13699:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(28915),y=r(function(l,a,u,v,d,p,g,m){g===void 0&&(g=100),m===void 0&&(m=0);var x=m/g;return{r:f(l,v,x),g:f(a,d,x),b:f(u,p,x)}},"RGBWithRGB"),c=r(function(l,a,u,v){return u===void 0&&(u=100),v===void 0&&(v=0),y(l.r,l.g,l.b,a.r,a.g,a.b,u,v)},"ColorWithColor"),o=r(function(l,a,u,v,d,p){return d===void 0&&(d=100),p===void 0&&(p=0),y(l.r,l.g,l.b,a,u,v,d,p)},"ColorWithRGB");n.exports={RGBWithRGB:y,ColorWithRGB:o,ColorWithColor:c}},68957:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(40987),y=r(function(c){return new f(c.r,c.g,c.b,c.a)},"ObjectToColor");n.exports=y},87388:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(40987),y=r(function(c){var o=new f,l=/^rgba?\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d+(?:\.\d+)?))?\s*\)$/.exec(c.toLowerCase());if(l){var a=parseInt(l[1],10),u=parseInt(l[2],10),v=parseInt(l[3],10),d=l[4]!==void 0?parseFloat(l[4]):1;o.setTo(a,u,v,d*255)}return o},"RGBStringToColor");n.exports=y},87837:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i,f,y,c){c===void 0&&(c={h:0,s:0,v:0}),i/=255,f/=255,y/=255;var o=Math.min(i,f,y),l=Math.max(i,f,y),a=l-o,u=0,v=l===0?0:a/l,d=l;return l!==o&&(l===i?u=(f-y)/a+(f<y?6:0):l===f?u=(y-i)/a+2:l===y&&(u=(i-f)/a+4),u/=6),c.hasOwnProperty("_h")?(c._h=u,c._s=v,c._v=d):(c.h=u,c.s=v,c.v=d),c},"RGBToHSV");n.exports=T},75723:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(62957),y=r(function(c,o,l,a,u){return a===void 0&&(a=255),u===void 0&&(u="#"),u==="#"?"#"+((1<<24)+(c<<16)+(o<<8)+l).toString(16).slice(1,7):"0x"+f(a)+f(c)+f(o)+f(l)},"RGBToString");n.exports=y},85386:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(30976),y=i(40987),c=r(function(o,l){return o===void 0&&(o=0),l===void 0&&(l=255),new y(f(o,l),f(o,l),f(o,l))},"RandomRGB");n.exports=c},80333:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(70238),y=i(30100),c=i(68957),o=i(87388),l=r(function(a){var u=typeof a;switch(u){case"string":return a.substr(0,3).toLowerCase()==="rgb"?o(a):f(a);case"number":return y(a);case"object":return c(a)}},"ValueToColor");n.exports=l},3956:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(40987);f.ColorSpectrum=i(92728),f.ColorToRGBA=i(91588),f.ComponentToHex=i(62957),f.GetColor=i(37589),f.GetColor32=i(1e3),f.HexStringToColor=i(70238),f.HSLToColor=i(62183),f.HSVColorWheel=i(27939),f.HSVToRGB=i(7537),f.HueToComponent=i(89528),f.IntegerToColor=i(30100),f.IntegerToRGB=i(90664),f.Interpolate=i(13699),f.ObjectToColor=i(68957),f.RandomRGB=i(85386),f.RGBStringToColor=i(87388),f.RGBToHSV=i(87837),f.RGBToString=i(75723),f.ValueToColor=i(80333),n.exports=f},27460:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={Align:i(71926),BaseShader:i(73894),Bounds:i(58724),Canvas:i(26253),Color:i(3956),ColorMatrix:i(89422),Masks:i(69781),RGB:i(51767)}},6858:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(83419),y=i(39429),c=new f({initialize:r(function(l,a,u,v,d,p){a||(a=l.sys.make.image({x:u,y:v,key:d,frame:p,add:!1})),this.bitmapMask=a,this.invertAlpha=!1,this.isStencil=!1},"BitmapMask"),setBitmap:r(function(o){this.bitmapMask=o},"setBitmap"),preRenderWebGL:r(function(o,l,a){o.pipelines.BITMAPMASK_PIPELINE.beginMask(this,l,a)},"preRenderWebGL"),postRenderWebGL:r(function(o,l,a){o.pipelines.BITMAPMASK_PIPELINE.endMask(this,l,a)},"postRenderWebGL"),preRenderCanvas:r(function(){},"preRenderCanvas"),postRenderCanvas:r(function(){},"postRenderCanvas"),destroy:r(function(){this.bitmapMask=null},"destroy")});y.register("bitmapMask",function(o,l,a,u,v){return new c(this.scene,o,l,a,u,v)}),n.exports=c},80661:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(83419),y=new f({initialize:r(function(o,l){this.geometryMask=l,this.invertAlpha=!1,this.isStencil=!0,this.level=0},"GeometryMask"),setShape:r(function(c){return this.geometryMask=c,this},"setShape"),setInvertAlpha:r(function(c){return c===void 0&&(c=!0),this.invertAlpha=c,this},"setInvertAlpha"),preRenderWebGL:r(function(c,o,l){var a=c.gl;c.flush(),c.maskStack.length===0&&(a.enable(a.STENCIL_TEST),a.clear(a.STENCIL_BUFFER_BIT),c.maskCount=0),c.currentCameraMask.mask!==this&&(c.currentMask.mask=this),c.maskStack.push({mask:this,camera:l}),this.applyStencil(c,l,!0),c.maskCount++},"preRenderWebGL"),applyStencil:r(function(c,o,l){var a=c.gl,u=this.geometryMask,v=c.maskCount,d=255;a.colorMask(!1,!1,!1,!1),l?(a.stencilFunc(a.EQUAL,v,d),a.stencilOp(a.KEEP,a.KEEP,a.INCR),v++):(a.stencilFunc(a.EQUAL,v+1,d),a.stencilOp(a.KEEP,a.KEEP,a.DECR)),this.level=v,u.renderWebGL(c,u,o),c.flush(),a.colorMask(!0,!0,!0,!0),a.stencilOp(a.KEEP,a.KEEP,a.KEEP),this.invertAlpha?a.stencilFunc(a.NOTEQUAL,v,d):a.stencilFunc(a.EQUAL,v,d)},"applyStencil"),postRenderWebGL:r(function(c){var o=c.gl;c.maskStack.pop(),c.maskCount--,c.flush();var l=c.currentMask;if(c.maskStack.length===0)l.mask=null,o.disable(o.STENCIL_TEST);else{var a=c.maskStack[c.maskStack.length-1];a.mask.applyStencil(c,a.camera,!1),c.currentCameraMask.mask!==a.mask?(l.mask=a.mask,l.camera=a.camera):l.mask=null}},"postRenderWebGL"),preRenderCanvas:r(function(c,o,l){var a=this.geometryMask;c.currentContext.save(),a.renderCanvas(c,a,l,null,null,!0),c.currentContext.clip()},"preRenderCanvas"),postRenderCanvas:r(function(c){c.currentContext.restore()},"postRenderCanvas"),destroy:r(function(){this.geometryMask=null},"destroy")});n.exports=y},69781:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={BitmapMask:i(6858),GeometryMask:i(80661)}},73894:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(83419),y=new f({initialize:r(function(o,l,a,u){(!l||l==="")&&(l=["precision mediump float;","uniform vec2 resolution;","varying vec2 fragCoord;","void main () {","    vec2 uv = fragCoord / resolution.xy;","    gl_FragColor = vec4(uv.xyx, 1.0);","}"].join(`
`)),(!a||a==="")&&(a=["precision mediump float;","uniform mat4 uProjectionMatrix;","uniform mat4 uViewMatrix;","uniform vec2 uResolution;","attribute vec2 inPosition;","varying vec2 fragCoord;","varying vec2 outTexCoord;","void main () {","   gl_Position = uProjectionMatrix * uViewMatrix * vec4(inPosition, 1.0, 1.0);","   fragCoord = vec2(inPosition.x, uResolution.y - inPosition.y);","   outTexCoord = vec2(inPosition.x / uResolution.x, fragCoord.y / uResolution.y);","}"].join(`
`)),u===void 0&&(u=null),this.key=o,this.fragmentSrc=l,this.vertexSrc=a,this.uniforms=u},"BaseShader")});n.exports=y},40366:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i,f){var y;if(f)typeof f=="string"?y=document.getElementById(f):typeof f=="object"&&f.nodeType===1&&(y=f);else if(i.parentElement||f===null)return i;return y||(y=document.body),y.appendChild(i),i},"AddToDOM");n.exports=T},83719:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(40366),y=r(function(c){var o=c.config;if(!(!o.parent||!o.domCreateContainer)){var l=document.createElement("div");l.style.cssText=["display: block;","width: "+c.scale.width+"px;","height: "+c.scale.height+"px;","padding: 0; margin: 0;","position: absolute;","overflow: hidden;","pointer-events: "+o.domPointerEvents+";","transform: scale(1);","transform-origin: left top;"].join(" "),c.domContainer=l,f(l,o.parent)}},"CreateDOMContainer");n.exports=y},57264:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(25892),y=r(function(c){if(document.readyState==="complete"||document.readyState==="interactive"){c();return}var o=r(function(){document.removeEventListener("deviceready",o,!0),document.removeEventListener("DOMContentLoaded",o,!0),window.removeEventListener("load",o,!0),c()},"check");document.body?f.cordova?document.addEventListener("deviceready",o,!1):(document.addEventListener("DOMContentLoaded",o,!0),window.addEventListener("load",o,!0)):window.setTimeout(o,20)},"DOMContentLoaded");n.exports=y},57811:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i){if(!i)return window.innerHeight;var f=Math.abs(window.orientation),y={w:0,h:0},c=document.createElement("div");return c.setAttribute("style","position: fixed; height: 100vh; width: 0; top: 0"),document.documentElement.appendChild(c),y.w=f===90?c.offsetHeight:window.innerWidth,y.h=f===90?window.innerWidth:c.offsetHeight,document.documentElement.removeChild(c),c=null,Math.abs(window.orientation)!==90?y.h:y.w},"GetInnerHeight");n.exports=T},45818:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(13560),y=r(function(c,o){var l=window.screen,a=l?l.orientation||l.mozOrientation||l.msOrientation:!1;if(a&&typeof a.type=="string")return a.type;if(typeof a=="string")return a;if(typeof window.orientation=="number")return window.orientation===0||window.orientation===180?f.ORIENTATION.PORTRAIT:f.ORIENTATION.LANDSCAPE;if(window.matchMedia){if(window.matchMedia("(orientation: portrait)").matches)return f.ORIENTATION.PORTRAIT;if(window.matchMedia("(orientation: landscape)").matches)return f.ORIENTATION.LANDSCAPE}else return o>c?f.ORIENTATION.PORTRAIT:f.ORIENTATION.LANDSCAPE},"GetScreenOrientation");n.exports=y},74403:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i){var f;return i!==""&&(typeof i=="string"?f=document.getElementById(i):i&&i.nodeType===1&&(f=i)),f||(f=document.body),f},"GetTarget");n.exports=T},56836:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i){var f="";try{if(window.DOMParser){var y=new DOMParser;f=y.parseFromString(i,"text/xml")}else f=new ActiveXObject("Microsoft.XMLDOM"),f.loadXML(i)}catch{f=null}return!f||!f.documentElement||f.getElementsByTagName("parsererror").length?null:f},"ParseXML");n.exports=T},35846:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i){i.parentNode&&i.parentNode.removeChild(i)},"RemoveFromDOM");n.exports=T},43092:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(83419),y=i(29747),c=new f({initialize:r(function(){this.isRunning=!1,this.callback=y,this.isSetTimeOut=!1,this.timeOutID=null,this.delay=0;var l=this;this.step=r(function a(u){l.callback(u),l.isRunning&&(l.timeOutID=window.requestAnimationFrame(a))},"step"),this.stepTimeout=r(function a(){l.isRunning&&(l.timeOutID=window.setTimeout(a,l.delay)),l.callback(window.performance.now())},"stepTimeout")},"RequestAnimationFrame"),start:r(function(o,l,a){this.isRunning||(this.callback=o,this.isSetTimeOut=l,this.delay=a,this.isRunning=!0,this.timeOutID=l?window.setTimeout(this.stepTimeout,0):window.requestAnimationFrame(this.step))},"start"),stop:r(function(){this.isRunning=!1,this.isSetTimeOut?clearTimeout(this.timeOutID):window.cancelAnimationFrame(this.timeOutID)},"stop"),destroy:r(function(){this.stop(),this.callback=y},"destroy")});n.exports=c},84902:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f={AddToDOM:i(40366),DOMContentLoaded:i(57264),GetInnerHeight:i(57811),GetScreenOrientation:i(45818),GetTarget:i(74403),ParseXML:i(56836),RemoveFromDOM:i(35846),RequestAnimationFrame:i(43092)};n.exports=f},47565:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(83419),y=i(50792),c=i(37277),o=new f({Extends:y,initialize:r(function(){y.call(this)},"EventEmitter"),shutdown:r(function(){this.removeAllListeners()},"shutdown"),destroy:r(function(){this.removeAllListeners()},"destroy")});c.register("EventEmitter",o,"events"),n.exports=o},93055:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={EventEmitter:i(47565)}},20122:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(83419),y=i(72898),c=i(14811),o=new f({Extends:y,initialize:r(function(a,u){u===void 0&&(u=1),y.call(this,c.BARREL,a),this.amount=u},"Barrel")});n.exports=o},32251:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(83419),y=i(72898),c=i(14811),o=new f({Extends:y,initialize:r(function(a,u,v,d,p,g,m){v===void 0&&(v=1),d===void 0&&(d=1),p===void 0&&(p=1),g===void 0&&(g=1),m===void 0&&(m=4),y.call(this,c.BLOOM,a),this.steps=m,this.offsetX=v,this.offsetY=d,this.blurStrength=p,this.strength=g,this.glcolor=[1,1,1],u!=null&&(this.color=u)},"Bloom"),color:{get:r(function(){var l=this.glcolor;return(l[0]*255<<16)+(l[1]*255<<8)+(l[2]*255|0)},"get"),set:r(function(l){var a=this.glcolor;a[0]=(l>>16&255)/255,a[1]=(l>>8&255)/255,a[2]=(l&255)/255},"set")}});n.exports=o},9047:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(83419),y=i(72898),c=i(14811),o=new f({Extends:y,initialize:r(function(a,u,v,d,p,g,m){u===void 0&&(u=0),v===void 0&&(v=2),d===void 0&&(d=2),p===void 0&&(p=1),m===void 0&&(m=4),y.call(this,c.BLUR,a),this.quality=u,this.x=v,this.y=d,this.steps=m,this.strength=p,this.glcolor=[1,1,1],g!=null&&(this.color=g)},"Blur"),color:{get:r(function(){var l=this.glcolor;return(l[0]*255<<16)+(l[1]*255<<8)+(l[2]*255|0)},"get"),set:r(function(l){var a=this.glcolor;a[0]=(l>>16&255)/255,a[1]=(l>>8&255)/255,a[2]=(l&255)/255},"set")}});n.exports=o},27885:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(83419),y=i(72898),c=i(14811),o=new f({Extends:y,initialize:r(function(a,u,v,d,p,g,m,x){u===void 0&&(u=.5),v===void 0&&(v=1),d===void 0&&(d=.2),p===void 0&&(p=!1),g===void 0&&(g=1),m===void 0&&(m=1),x===void 0&&(x=1),y.call(this,c.BOKEH,a),this.radius=u,this.amount=v,this.contrast=d,this.isTiltShift=p,this.strength=x,this.blurX=g,this.blurY=m},"Bokeh")});n.exports=o},12578:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(83419),y=i(72898),c=i(14811),o=new f({Extends:y,initialize:r(function(a,u,v,d,p,g){u===void 0&&(u=8),p===void 0&&(p=1),g===void 0&&(g=.005),y.call(this,c.CIRCLE,a),this.scale=p,this.feather=g,this.thickness=u,this.glcolor=[1,.2,.7],this.glcolor2=[1,0,0,.4],v!=null&&(this.color=v),d!=null&&(this.backgroundColor=d)},"Circle"),color:{get:r(function(){var l=this.glcolor;return(l[0]*255<<16)+(l[1]*255<<8)+(l[2]*255|0)},"get"),set:r(function(l){var a=this.glcolor;a[0]=(l>>16&255)/255,a[1]=(l>>8&255)/255,a[2]=(l&255)/255},"set")},backgroundColor:{get:r(function(){var l=this.glcolor2;return(l[0]*255<<16)+(l[1]*255<<8)+(l[2]*255|0)},"get"),set:r(function(l){var a=this.glcolor2;a[0]=(l>>16&255)/255,a[1]=(l>>8&255)/255,a[2]=(l&255)/255},"set")},backgroundAlpha:{get:r(function(){return this.glcolor2[3]},"get"),set:r(function(l){this.glcolor2[3]=l},"set")}});n.exports=o},15802:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(83419),y=i(89422),c=i(14811),o=new f({Extends:y,initialize:r(function(a){y.call(this),this.type=c.COLOR_MATRIX,this.gameObject=a,this.active=!0},"ColorMatrix"),destroy:r(function(){this.gameObject=null,this._matrix=null,this._data=null},"destroy")});n.exports=o},72898:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(83419),y=new f({initialize:r(function(o,l){this.type=o,this.gameObject=l,this.active=!0},"Controller"),setActive:r(function(c){return this.active=c,this},"setActive"),destroy:r(function(){this.gameObject=null,this.active=!1},"destroy")});n.exports=y},44553:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(83419),y=i(72898),c=i(14811),o=new f({Extends:y,initialize:r(function(a,u,v,d){u===void 0&&(u="__WHITE"),v===void 0&&(v=.005),d===void 0&&(d=.005),y.call(this,c.DISPLACEMENT,a),this.x=v,this.y=d,this.glTexture,this.setTexture(u)},"Displacement"),setTexture:r(function(l){var a=this.gameObject.scene.sys.textures.getFrame(l);return a&&(this.glTexture=a.glTexture),this},"setTexture")});n.exports=o},68531:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(83419),y=i(72898),c=i(14811),o=new f({Extends:y,initialize:r(function(a,u,v,d,p){v===void 0&&(v=4),d===void 0&&(d=0),p===void 0&&(p=!1),y.call(this,c.GLOW,a),this.outerStrength=v,this.innerStrength=d,this.knockout=p,this.glcolor=[1,1,1,1],u!==void 0&&(this.color=u)},"Glow"),color:{get:r(function(){var l=this.glcolor;return(l[0]*255<<16)+(l[1]*255<<8)+(l[2]*255|0)},"get"),set:r(function(l){var a=this.glcolor;a[0]=(l>>16&255)/255,a[1]=(l>>8&255)/255,a[2]=(l&255)/255},"set")}});n.exports=o},37102:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(83419),y=i(72898),c=i(14811),o=new f({Extends:y,initialize:r(function(a,u,v,d,p,g,m,x,C){d===void 0&&(d=.2),p===void 0&&(p=0),g===void 0&&(g=0),m===void 0&&(m=0),x===void 0&&(x=1),C===void 0&&(C=0),y.call(this,c.GRADIENT,a),this.alpha=d,this.size=C,this.fromX=p,this.fromY=g,this.toX=m,this.toY=x,this.glcolor1=[255,0,0],this.glcolor2=[0,255,0],u!=null&&(this.color1=u),v!=null&&(this.color2=v)},"Gradient"),color1:{get:r(function(){var l=this.glcolor1;return(l[0]<<16)+(l[1]<<8)+(l[2]|0)},"get"),set:r(function(l){var a=this.glcolor1;a[0]=l>>16&255,a[1]=l>>8&255,a[2]=l&255},"set")},color2:{get:r(function(){var l=this.glcolor2;return(l[0]<<16)+(l[1]<<8)+(l[2]|0)},"get"),set:r(function(l){var a=this.glcolor2;a[0]=l>>16&255,a[1]=l>>8&255,a[2]=l&255},"set")}});n.exports=o},86886:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(83419),y=i(72898),c=i(14811),o=new f({Extends:y,initialize:r(function(a,u){u===void 0&&(u=1),y.call(this,c.PIXELATE,a),this.amount=u},"Pixelate")});n.exports=o},92322:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(83419),y=i(72898),c=i(14811),o=new f({Extends:y,initialize:r(function(a,u,v,d,p,g,m,x){u===void 0&&(u=0),v===void 0&&(v=0),d===void 0&&(d=.1),p===void 0&&(p=1),m===void 0&&(m=6),x===void 0&&(x=1),y.call(this,c.SHADOW,a),this.x=u,this.y=v,this.decay=d,this.power=p,this.glcolor=[0,0,0,1],this.samples=m,this.intensity=x,g!==void 0&&(this.color=g)},"Shadow"),color:{get:r(function(){var l=this.glcolor;return(l[0]*255<<16)+(l[1]*255<<8)+(l[2]*255|0)},"get"),set:r(function(l){var a=this.glcolor;a[0]=(l>>16&255)/255,a[1]=(l>>8&255)/255,a[2]=(l&255)/255},"set")}});n.exports=o},39563:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(83419),y=i(72898),c=i(14811),o=new f({Extends:y,initialize:r(function(a,u,v,d,p){u===void 0&&(u=.5),v===void 0&&(v=.5),d===void 0&&(d=3),p===void 0&&(p=!1),y.call(this,c.SHINE,a),this.speed=u,this.lineWidth=v,this.gradient=d,this.reveal=p},"Shine")});n.exports=o},56448:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(83419),y=i(72898),c=i(14811),o=new f({Extends:y,initialize:r(function(a,u,v,d,p){u===void 0&&(u=.5),v===void 0&&(v=.5),d===void 0&&(d=.5),p===void 0&&(p=.5),y.call(this,c.VIGNETTE,a),this.x=u,this.y=v,this.radius=d,this.strength=p},"Vignette")});n.exports=o},38433:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(83419),y=i(72898),c=i(14811),o=new f({Extends:y,initialize:r(function(a,u,v,d,p){u===void 0&&(u=.1),v===void 0&&(v=0),d===void 0&&(d=0),p===void 0&&(p=!1),y.call(this,c.WIPE,a),this.progress=0,this.wipeWidth=u,this.direction=v,this.axis=d,this.reveal=p},"Wipe")});n.exports=o},14811:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={GLOW:4,SHADOW:5,PIXELATE:6,VIGNETTE:7,SHINE:8,BLUR:9,GRADIENT:12,BLOOM:13,COLOR_MATRIX:14,CIRCLE:15,BARREL:16,DISPLACEMENT:17,WIPE:18,BOKEH:19};n.exports=T},66064:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(79291),y=i(14811),c={Barrel:i(20122),Controller:i(72898),Bloom:i(32251),Blur:i(9047),Bokeh:i(27885),Circle:i(12578),ColorMatrix:i(15802),Displacement:i(44553),Glow:i(68531),Gradient:i(37102),Pixelate:i(86886),Shadow:i(92322),Shine:i(39563),Vignette:i(56448),Wipe:i(38433)};c=f(!1,c,y),n.exports=c},25305:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(10312),y=i(23568),c=r(function(o,l,a){l.x=y(a,"x",0),l.y=y(a,"y",0),l.depth=y(a,"depth",0),l.flipX=y(a,"flipX",!1),l.flipY=y(a,"flipY",!1);var u=y(a,"scale",null);typeof u=="number"?l.setScale(u):u!==null&&(l.scaleX=y(u,"x",1),l.scaleY=y(u,"y",1));var v=y(a,"scrollFactor",null);typeof v=="number"?l.setScrollFactor(v):v!==null&&(l.scrollFactorX=y(v,"x",1),l.scrollFactorY=y(v,"y",1)),l.rotation=y(a,"rotation",0);var d=y(a,"angle",null);d!==null&&(l.angle=d),l.alpha=y(a,"alpha",1);var p=y(a,"origin",null);if(typeof p=="number")l.setOrigin(p);else if(p!==null){var g=y(p,"x",.5),m=y(p,"y",.5);l.setOrigin(g,m)}l.blendMode=y(a,"blendMode",f.NORMAL),l.visible=y(a,"visible",!0);var x=y(a,"add",!0);return x&&o.sys.displayList.add(l),l.preUpdate&&o.sys.updateList.add(l),l},"BuildGameObject");n.exports=c},13059:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(23568),y=r(function(c,o){var l=f(o,"anims",null);if(l===null)return c;if(typeof l=="string")c.anims.play(l);else if(typeof l=="object"){var a=c.anims,u=f(l,"key",void 0);if(u){var v=f(l,"startFrame",void 0),d=f(l,"delay",0),p=f(l,"repeat",0),g=f(l,"repeatDelay",0),m=f(l,"yoyo",!1),x=f(l,"play",!1),C=f(l,"delayedPlay",0),P={key:u,delay:d,repeat:p,repeatDelay:g,yoyo:m,startFrame:v};x?a.play(P):C>0?a.playAfterDelay(P,C):a.load(P)}}return c},"BuildGameObjectAnimation");n.exports=y},8050:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(83419),y=i(73162),c=i(37277),o=i(51708),l=i(44594),a=i(19186),u=new f({Extends:y,initialize:r(function(d){y.call(this,d),this.sortChildrenFlag=!1,this.scene=d,this.systems=d.sys,this.events=d.sys.events,this.addCallback=this.addChildCallback,this.removeCallback=this.removeChildCallback,this.events.once(l.BOOT,this.boot,this),this.events.on(l.START,this.start,this)},"DisplayList"),boot:r(function(){this.events.once(l.DESTROY,this.destroy,this)},"boot"),addChildCallback:r(function(v){v.displayList&&v.displayList!==this&&v.removeFromDisplayList(),v.parentContainer&&v.parentContainer.remove(v),v.displayList||(this.queueDepthSort(),v.displayList=this,v.emit(o.ADDED_TO_SCENE,v,this.scene),this.events.emit(l.ADDED_TO_SCENE,v,this.scene))},"addChildCallback"),removeChildCallback:r(function(v){this.queueDepthSort(),v.displayList=null,v.emit(o.REMOVED_FROM_SCENE,v,this.scene),this.events.emit(l.REMOVED_FROM_SCENE,v,this.scene)},"removeChildCallback"),start:r(function(){this.events.once(l.SHUTDOWN,this.shutdown,this)},"start"),queueDepthSort:r(function(){this.sortChildrenFlag=!0},"queueDepthSort"),depthSort:r(function(){this.sortChildrenFlag&&(a(this.list,this.sortByDepth),this.sortChildrenFlag=!1)},"depthSort"),sortByDepth:r(function(v,d){return v._depth-d._depth},"sortByDepth"),getChildren:r(function(){return this.list},"getChildren"),shutdown:r(function(){for(var v=this.list;v.length;)v[0].destroy(!0);this.events.off(l.SHUTDOWN,this.shutdown,this)},"shutdown"),destroy:r(function(){this.shutdown(),this.events.off(l.START,this.start,this),this.scene=null,this.systems=null,this.events=null},"destroy")});c.register("DisplayList",u,"displayList"),n.exports=u},95643:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(83419),y=i(53774),c=i(45893),o=i(50792),l=i(51708),a=i(44594),u=new f({Extends:o,initialize:r(function(d,p){o.call(this),this.scene=d,this.displayList=null,this.type=p,this.state=0,this.parentContainer=null,this.name="",this.active=!0,this.tabIndex=-1,this.data=null,this.renderFlags=15,this.cameraFilter=0,this.input=null,this.body=null,this.ignoreDestroy=!1,this.on(l.ADDED_TO_SCENE,this.addedToScene,this),this.on(l.REMOVED_FROM_SCENE,this.removedFromScene,this),d.sys.queueDepthSort()},"GameObject"),setActive:r(function(v){return this.active=v,this},"setActive"),setName:r(function(v){return this.name=v,this},"setName"),setState:r(function(v){return this.state=v,this},"setState"),setDataEnabled:r(function(){return this.data||(this.data=new c(this)),this},"setDataEnabled"),setData:r(function(v,d){return this.data||(this.data=new c(this)),this.data.set(v,d),this},"setData"),incData:r(function(v,d){return this.data||(this.data=new c(this)),this.data.inc(v,d),this},"incData"),toggleData:r(function(v){return this.data||(this.data=new c(this)),this.data.toggle(v),this},"toggleData"),getData:r(function(v){return this.data||(this.data=new c(this)),this.data.get(v)},"getData"),setInteractive:r(function(v,d,p){return this.scene.sys.input.enable(this,v,d,p),this},"setInteractive"),disableInteractive:r(function(){return this.scene.sys.input.disable(this),this},"disableInteractive"),removeInteractive:r(function(){return this.scene.sys.input.clear(this),this.input=void 0,this},"removeInteractive"),addedToScene:r(function(){},"addedToScene"),removedFromScene:r(function(){},"removedFromScene"),update:r(function(){},"update"),toJSON:r(function(){return y(this)},"toJSON"),willRender:r(function(v){var d=this.displayList&&this.displayList.active?this.displayList.willRender(v):!0;return!(!d||u.RENDER_MASK!==this.renderFlags||this.cameraFilter!==0&&this.cameraFilter&v.id)},"willRender"),getIndexList:r(function(){for(var v=this,d=this.parentContainer,p=[];d&&(p.unshift(d.getIndex(v)),v=d,d.parentContainer);)d=d.parentContainer;return this.displayList?p.unshift(this.displayList.getIndex(v)):p.unshift(this.scene.sys.displayList.getIndex(v)),p},"getIndexList"),addToDisplayList:r(function(v){return v===void 0&&(v=this.scene.sys.displayList),this.displayList&&this.displayList!==v&&this.removeFromDisplayList(),v.exists(this)||(this.displayList=v,v.add(this,!0),v.queueDepthSort(),this.emit(l.ADDED_TO_SCENE,this,this.scene),v.events.emit(a.ADDED_TO_SCENE,this,this.scene)),this},"addToDisplayList"),addToUpdateList:r(function(){return this.scene&&this.preUpdate&&this.scene.sys.updateList.add(this),this},"addToUpdateList"),removeFromDisplayList:r(function(){var v=this.displayList||this.scene.sys.displayList;return v&&v.exists(this)&&(v.remove(this,!0),v.queueDepthSort(),this.displayList=null,this.emit(l.REMOVED_FROM_SCENE,this,this.scene),v.events.emit(a.REMOVED_FROM_SCENE,this,this.scene)),this},"removeFromDisplayList"),removeFromUpdateList:r(function(){return this.scene&&this.preUpdate&&this.scene.sys.updateList.remove(this),this},"removeFromUpdateList"),destroy:r(function(v){!this.scene||this.ignoreDestroy||(v===void 0&&(v=!1),this.preDestroy&&this.preDestroy.call(this),this.emit(l.DESTROY,this,v),this.removeAllListeners(),this.postPipelines&&this.resetPostPipeline(!0),this.removeFromDisplayList(),this.removeFromUpdateList(),this.input&&(this.scene.sys.input.clear(this),this.input=void 0),this.data&&(this.data.destroy(),this.data=void 0),this.body&&(this.body.destroy(),this.body=void 0),this.preFX&&(this.preFX.destroy(),this.preFX=void 0),this.postFX&&(this.postFX.destroy(),this.postFX=void 0),this.active=!1,this.visible=!1,this.scene=void 0,this.parentContainer=void 0)},"destroy")});u.RENDER_MASK=15,n.exports=u},44603:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(83419),y=i(37277),c=i(44594),o=new f({initialize:r(function(a){this.scene=a,this.systems=a.sys,this.events=a.sys.events,this.displayList,this.updateList,this.events.once(c.BOOT,this.boot,this),this.events.on(c.START,this.start,this)},"GameObjectCreator"),boot:r(function(){this.displayList=this.systems.displayList,this.updateList=this.systems.updateList,this.events.once(c.DESTROY,this.destroy,this)},"boot"),start:r(function(){this.events.once(c.SHUTDOWN,this.shutdown,this)},"start"),shutdown:r(function(){this.events.off(c.SHUTDOWN,this.shutdown,this)},"shutdown"),destroy:r(function(){this.shutdown(),this.events.off(c.START,this.start,this),this.scene=null,this.systems=null,this.events=null,this.displayList=null,this.updateList=null},"destroy")});o.register=function(l,a){o.prototype.hasOwnProperty(l)||(o.prototype[l]=a)},o.remove=function(l){o.prototype.hasOwnProperty(l)&&delete o.prototype[l]},y.register("GameObjectCreator",o,"make"),n.exports=o},39429:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(83419),y=i(37277),c=i(44594),o=new f({initialize:r(function(a){this.scene=a,this.systems=a.sys,this.events=a.sys.events,this.displayList,this.updateList,this.events.once(c.BOOT,this.boot,this),this.events.on(c.START,this.start,this)},"GameObjectFactory"),boot:r(function(){this.displayList=this.systems.displayList,this.updateList=this.systems.updateList,this.events.once(c.DESTROY,this.destroy,this)},"boot"),start:r(function(){this.events.once(c.SHUTDOWN,this.shutdown,this)},"start"),existing:r(function(l){return(l.renderCanvas||l.renderWebGL)&&this.displayList.add(l),l.preUpdate&&this.updateList.add(l),l},"existing"),shutdown:r(function(){this.events.off(c.SHUTDOWN,this.shutdown,this)},"shutdown"),destroy:r(function(){this.shutdown(),this.events.off(c.START,this.start,this),this.scene=null,this.systems=null,this.events=null,this.displayList=null,this.updateList=null},"destroy")});o.register=function(l,a){o.prototype.hasOwnProperty(l)||(o.prototype[l]=a)},o.remove=function(l){o.prototype.hasOwnProperty(l)&&delete o.prototype[l]},y.register("GameObjectFactory",o,"add"),n.exports=o},91296:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(61340),y=new f,c=new f,o=new f,l={camera:y,sprite:c,calc:o},a=r(function(u,v,d){var p=y,g=c,m=o;return g.applyITRS(u.x,u.y,u.rotation,u.scaleX,u.scaleY),p.copyFrom(v.matrix),d?(p.multiplyWithOffset(d,-v.scrollX*u.scrollFactorX,-v.scrollY*u.scrollFactorY),g.e=u.x,g.f=u.y):(g.e-=v.scrollX*u.scrollFactorX,g.f-=v.scrollY*u.scrollFactorY),p.multiply(g,m),l},"GetCalcMatrix");n.exports=a},45027:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(83419),y=i(25774),c=i(37277),o=i(44594),l=new f({Extends:y,initialize:r(function(u){y.call(this),this.checkQueue=!0,this.scene=u,this.systems=u.sys,u.sys.events.once(o.BOOT,this.boot,this),u.sys.events.on(o.START,this.start,this)},"UpdateList"),boot:r(function(){this.systems.events.once(o.DESTROY,this.destroy,this)},"boot"),start:r(function(){var a=this.systems.events;a.on(o.PRE_UPDATE,this.update,this),a.on(o.UPDATE,this.sceneUpdate,this),a.once(o.SHUTDOWN,this.shutdown,this)},"start"),sceneUpdate:r(function(a,u){for(var v=this._active,d=v.length,p=0;p<d;p++){var g=v[p];g.active&&g.preUpdate.call(g,a,u)}},"sceneUpdate"),shutdown:r(function(){for(var a=this._active.length;a--;)this._active[a].destroy(!0);for(a=this._pending.length;a--;)this._pending[a].destroy(!0);for(a=this._destroy.length;a--;)this._destroy[a].destroy(!0);this._toProcess=0,this._pending=[],this._active=[],this._destroy=[],this.removeAllListeners();var u=this.systems.events;u.off(o.PRE_UPDATE,this.update,this),u.off(o.UPDATE,this.sceneUpdate,this),u.off(o.SHUTDOWN,this.shutdown,this)},"shutdown"),destroy:r(function(){this.shutdown(),this.systems.events.off(o.START,this.start,this),this.scene=null,this.systems=null},"destroy")});c.register("UpdateList",l,"updateList"),n.exports=l},3217:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i,f,y,c,o,l,a,u,v,d,p,g,m,x,C){var P=y.x-f.displayOriginX+o,A=y.y-f.displayOriginY+l,R=P+y.w,L=A+y.h,O=a.getXRound(P,A,u),w=a.getYRound(P,A,u),b=a.getXRound(P,L,u),F=a.getYRound(P,L,u),M=a.getXRound(R,L,u),I=a.getYRound(R,L,u),B=a.getXRound(R,A,u),G=a.getYRound(R,A,u);i.batchQuad(f,O,w,b,F,M,I,B,G,c.u0,c.v0,c.u1,c.v1,v,d,p,g,m,x,C)},"BatchChar");n.exports=T},53048:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i,f,y,c){if(y===void 0&&(y=!1),c===void 0)return c={local:{x:0,y:0,width:0,height:0},global:{x:0,y:0,width:0,height:0},lines:{shortest:0,longest:0,lengths:null,height:0},wrappedText:"",words:[],characters:[],scaleX:0,scaleY:0},c;var o=i.text,l=o.length,a=i.maxWidth,u=i.wordWrapCharCode,v=Number.MAX_VALUE,d=Number.MAX_VALUE,p=0,g=0,m=i.fontData.chars,x=i.fontData.lineHeight,C=i.letterSpacing,P=i.lineSpacing,A=0,R=0,L=0,O=null,w=i._align,b=0,F=0,M=i.fontSize/i.fontData.size,I=M*i.scaleX,B=M*i.scaleY,G=null,N=0,z=[],H=Number.MAX_VALUE,$=0,V=0,Y=0,D,U=[],W=[],k=null;if(a>0){for(D=0;D<l;D++){if(L=o.charCodeAt(D),L===10){k!==null&&(U.push({word:k.word,i:k.i,x:k.x*I,y:k.y*B,w:k.w*I,h:k.h*B,cr:!0}),k=null),A=0,R+=x+P,G=null;continue}if(O=m[L],!!O){if(G!==null)var X=O.kerning[N];L===u?k!==null&&(U.push({word:k.word,i:k.i,x:k.x*I,y:k.y*B,w:k.w*I,h:k.h*B,cr:!1}),k=null):(k===null&&(k={word:"",i:D,x:A,y:R,w:0,h:x,cr:!1}),k.word=k.word.concat(o[D]),k.w+=O.xOffset+O.xAdvance+(X!==void 0?X:0)),A+=O.xAdvance+C,G=O,N=L}}k!==null&&U.push({word:k.word,i:k.i,x:k.x*I,y:k.y*B,w:k.w*I,h:k.h*B,cr:!1}),A=0,R=0,G=null,N=0;var K,Z=0,J=[];for(D=0;D<U.length;D++){var Q=U[D],j=Q.x,q=Q.x+Q.w;if(K){var tt=j-(K.x+K.w);Z=j-(tt+K.w),K=null}var _=j-Z,rt=q-Z;_>a||rt>a?(J.push(Q.i-1),Q.cr?(J.push(Q.i+Q.word.length),Z=0,K=null):K=Q):Q.cr&&(J.push(Q.i+Q.word.length),Z=0,K=null)}var ht=r(function(bt,ie,le){return bt.substr(0,ie)+le+bt.substr(ie+1)},"stringInsert");for(D=J.length-1;D>=0;D--)o=ht(o,J[D],`
`);c.wrappedText=o,l=o.length,U=[],k=null}var lt=0;for(D=0;D<l;D++){if(L=o.charCodeAt(D),L===10){k!==null&&(U.push({word:k.word,i:k.i,x:k.x*I,y:k.y*B,w:k.w*I,h:k.h*B}),k=null),A=0,R+=x+P,G=null,z[V]=Y,Y>$&&($=Y),Y<H&&(H=Y),V++,Y=0;continue}if(O=m[L],!!O){if(b=A,F=R,G!==null){var ot=O.kerning[N];b+=ot!==void 0?ot:0}v>b&&(v=b),d>F&&(d=F);var et=b+O.xAdvance,at=F+x;p<et&&(p=et),g<at&&(g=at);var nt=O.xOffset+O.xAdvance+(ot!==void 0?ot:0);L===u?k!==null&&(U.push({word:k.word,i:k.i,x:k.x*I,y:k.y*B,w:k.w*I,h:k.h*B}),k=null):(k===null&&(k={word:"",i:lt,x:A,y:R,w:0,h:x}),k.word=k.word.concat(o[D]),k.w+=nt),W.push({i:lt,idx:D,char:o[D],code:L,x:(O.xOffset+b)*M,y:(O.yOffset+R)*M,w:O.width*M,h:O.height*M,t:R*M,r:et*M,b:x*M,line:V,glyph:O}),A+=O.xAdvance+C+(ot!==void 0?ot:0),G=O,N=L,Y=et*M,lt++}}if(k!==null&&U.push({word:k.word,i:k.i,x:k.x*I,y:k.y*B,w:k.w*I,h:k.h*B}),z[V]=Y,Y>$&&($=Y),Y<H&&(H=Y),w>0)for(var vt=0;vt<W.length;vt++){var mt=W[vt];if(w===1){var Nt=($-z[mt.line])/2;mt.x+=Nt,mt.r+=Nt}else if(w===2){var Ft=$-z[mt.line];mt.x+=Ft,mt.r+=Ft}}var Et=c.local,St=c.global,Xt=c.lines;return Et.x=v*M,Et.y=d*M,Et.width=p*M,Et.height=g*M,St.x=i.x-i._displayOriginX+v*I,St.y=i.y-i._displayOriginY+d*B,St.width=p*I,St.height=g*B,Xt.shortest=H,Xt.longest=$,Xt.lengths=z,f&&(Et.x=Math.ceil(Et.x),Et.y=Math.ceil(Et.y),Et.width=Math.ceil(Et.width),Et.height=Math.ceil(Et.height),St.x=Math.ceil(St.x),St.y=Math.ceil(St.y),St.width=Math.ceil(St.width),St.height=Math.ceil(St.height),Xt.shortest=Math.ceil(H),Xt.longest=Math.ceil($)),y&&(i._displayOriginX=i.originX*Et.width,i._displayOriginY=i.originY*Et.height,St.x=i.x-i._displayOriginX*i.scaleX,St.y=i.y-i._displayOriginY*i.scaleY,f&&(St.x=Math.ceil(St.x),St.y=Math.ceil(St.y))),c.words=U,c.characters=W,c.lines.height=x,c.scale=M,c.scaleX=i.scaleX,c.scaleY=i.scaleY,c},"GetBitmapTextSize");n.exports=T},61327:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(21859),y=r(function(c,o,l,a,u,v,d){var p=c.sys.textures.get(l),g=p.get(a),m=c.sys.cache.xml.get(u);if(g&&m){var x=f(m,g,v,d,p);return c.sys.cache.bitmapFont.add(o,{data:x,texture:l,frame:a,fromAtlas:!0}),!0}else return!1},"ParseFromAtlas");n.exports=y},6925:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(35154),y=r(function(c,o){var l=o.width,a=o.height,u=Math.floor(l/2),v=Math.floor(a/2),d=f(o,"chars","");if(d!==""){var p=f(o,"image",""),g=c.sys.textures.getFrame(p),m=g.cutX,x=g.cutY,C=g.source.width,P=g.source.height,A=f(o,"offset.x",0),R=f(o,"offset.y",0),L=f(o,"spacing.x",0),O=f(o,"spacing.y",0),w=f(o,"lineSpacing",0),b=f(o,"charsPerRow",null);b===null&&(b=C/l,b>d.length&&(b=d.length));for(var F=A,M=R,I={retroFont:!0,font:p,size:l,lineHeight:a+w,chars:{}},B=0,G=0;G<d.length;G++){var N=d.charCodeAt(G),z=(m+F)/C,H=(x+M)/P,$=(m+F+l)/C,V=(x+M+a)/P;I.chars[N]={x:F,y:M,width:l,height:a,centerX:u,centerY:v,xOffset:0,yOffset:0,xAdvance:l,data:{},kerning:{},u0:z,v0:H,u1:$,v1:V},B++,B===b?(B=0,F=A,M+=a+O):F+=l+L}var Y={data:I,frame:null,texture:p};return Y}},"ParseRetroFont");n.exports=y},21859:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function T(f,y){return parseInt(f.getAttribute(y),10)}r(T,"getValue");var i=r(function(f,y,c,o,l){c===void 0&&(c=0),o===void 0&&(o=0);var a=y.cutX,u=y.cutY,v=y.source.width,d=y.source.height,p=y.sourceIndex,g={},m=f.getElementsByTagName("info")[0],x=f.getElementsByTagName("common")[0];g.font=m.getAttribute("face"),g.size=T(m,"size"),g.lineHeight=T(x,"lineHeight")+o,g.chars={};var C=f.getElementsByTagName("char"),P=y!==void 0&&y.trimmed;if(P)var A=y.height,R=y.width;for(var L=0;L<C.length;L++){var O=C[L],w=T(O,"id"),b=String.fromCharCode(w),F=T(O,"x"),M=T(O,"y"),I=T(O,"width"),B=T(O,"height");P&&(F<R&&(R=F),M<A&&(A=M)),P&&A!==0&&R!==0&&(F-=y.x,M-=y.y);var G=(a+F)/v,N=(u+M)/d,z=(a+F+I)/v,H=(u+M+B)/d;if(g.chars[w]={x:F,y:M,width:I,height:B,centerX:Math.floor(I/2),centerY:Math.floor(B/2),xOffset:T(O,"xoffset"),yOffset:T(O,"yoffset"),xAdvance:T(O,"xadvance")+c,data:{},kerning:{},u0:G,v0:N,u1:z,v1:H},l&&I!==0&&B!==0){var $=l.add(b,p,F,M,I,B);$&&$.setUVs(I,B,G,N,z,H)}}var V=f.getElementsByTagName("kerning");for(L=0;L<V.length;L++){var Y=V[L],D=T(Y,"first"),U=T(Y,"second"),W=T(Y,"amount");g.chars[U].kerning[D]=W}return g},"ParseXMLBitmapFont");n.exports=i},196:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(87662),y=i(79291),c={Parse:i(6925)};c=y(!1,c,f),n.exports=c},87662:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={TEXT_SET1:" !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~",TEXT_SET2:` !"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ`,TEXT_SET3:"ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789 ",TEXT_SET4:"ABCDEFGHIJKLMNOPQRSTUVWXYZ 0123456789",TEXT_SET5:"ABCDEFGHIJKLMNOPQRSTUVWXYZ.,/() '!?-*:0123456789",TEXT_SET6:`ABCDEFGHIJKLMNOPQRSTUVWXYZ!?:;0123456789"(),-.' `,TEXT_SET7:`AGMSY+:4BHNTZ!;5CIOU.?06DJPV,(17EKQW")28FLRX-'39`,TEXT_SET8:"0123456789 .ABCDEFGHIJKLMNOPQRSTUVWXYZ",TEXT_SET9:`ABCDEFGHIJKLMNOPQRSTUVWXYZ()-0123456789.:,'"?!`,TEXT_SET10:"ABCDEFGHIJKLMNOPQRSTUVWXYZ",TEXT_SET11:`ABCDEFGHIJKLMNOPQRSTUVWXYZ.,"-+!?()':;0123456789`};n.exports=T},2638:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(22186),y=i(83419),c=i(12310),o=new y({Extends:f,Mixins:[c],initialize:r(function(a,u,v,d,p,g,m){f.call(this,a,u,v,d,p,g,m),this.type="DynamicBitmapText",this.scrollX=0,this.scrollY=0,this.cropWidth=0,this.cropHeight=0,this.displayCallback,this.callbackData={parent:this,color:0,tint:{topLeft:0,topRight:0,bottomLeft:0,bottomRight:0},index:0,charCode:0,x:0,y:0,scale:0,rotation:0,data:0}},"DynamicBitmapText"),setSize:r(function(l,a){return this.cropWidth=l,this.cropHeight=a,this},"setSize"),setDisplayCallback:r(function(l){return this.displayCallback=l,this},"setDisplayCallback"),setScrollX:r(function(l){return this.scrollX=l,this},"setScrollX"),setScrollY:r(function(l){return this.scrollY=l,this},"setScrollY")});n.exports=o},86741:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(20926),y=r(function(c,o,l,a){var u=o._text,v=u.length,d=c.currentContext;if(!(v===0||!f(c,d,o,l,a))){l.addToRenderList(o);var p=o.fromAtlas?o.frame:o.texture.frames.__BASE,g=o.displayCallback,m=o.callbackData,x=o.fontData.chars,C=o.fontData.lineHeight,P=o._letterSpacing,A=0,R=0,L=0,O=null,w=0,b=0,F=0,M=0,I=0,B=0,G=null,N=0,z=o.frame.source.image,H=p.cutX,$=p.cutY,V=0,Y=0,D=o._fontSize/o.fontData.size,U=o._align,W=0,k=0;o.getTextBounds(!1);var X=o._bounds.lines;U===1?k=(X.longest-X.lengths[0])/2:U===2&&(k=X.longest-X.lengths[0]),d.translate(-o.displayOriginX,-o.displayOriginY);var K=l.roundPixels;o.cropWidth>0&&o.cropHeight>0&&(d.beginPath(),d.rect(0,0,o.cropWidth,o.cropHeight),d.clip());for(var Z=0;Z<v;Z++){if(Y=D,V=0,L=u.charCodeAt(Z),L===10){W++,U===1?k=(X.longest-X.lengths[W])/2:U===2&&(k=X.longest-X.lengths[W]),A=0,R+=C,G=null;continue}if(O=x[L],!!O){if(w=H+O.x,b=$+O.y,F=O.width,M=O.height,I=O.xOffset+A-o.scrollX,B=O.yOffset+R-o.scrollY,G!==null){var J=O.kerning[N];I+=J!==void 0?J:0}if(g){m.index=Z,m.charCode=L,m.x=I,m.y=B,m.scale=Y,m.rotation=V,m.data=O.data;var Q=g(m);I=Q.x,B=Q.y,Y=Q.scale,V=Q.rotation}I*=Y,B*=Y,I+=k,A+=O.xAdvance+P+(J!==void 0?J:0),G=O,N=L,!(F===0||M===0||L===32)&&(K&&(I=Math.round(I),B=Math.round(B)),d.save(),d.translate(I,B),d.rotate(V),d.scale(Y,Y),d.drawImage(z,w,b,F,M,0,0,F,M),d.restore())}}d.restore()}},"DynamicBitmapTextCanvasRenderer");n.exports=y},11164:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(2638),y=i(25305),c=i(44603),o=i(23568);c.register("dynamicBitmapText",function(l,a){l===void 0&&(l={});var u=o(l,"font",""),v=o(l,"text",""),d=o(l,"size",!1),p=new f(this.scene,0,0,u,v,d);return a!==void 0&&(l.add=a),y(this.scene,p,l),p})},72566:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(2638),y=i(39429);y.register("dynamicBitmapText",function(c,o,l,a,u){return this.displayList.add(new f(this.scene,c,o,l,a,u))})},12310:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(29747),y=f,c=f;y=i(73482),c=i(86741),n.exports={renderWebGL:y,renderCanvas:c}},73482:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(91296),y=i(61340),c=i(70554),o=new y,l=r(function(a,u,v,d){var p=u.text,g=p.length;if(g!==0){v.addToRenderList(u);var m=a.pipelines.set(u.pipeline,u),x=f(u,v,d);a.pipelines.preBatch(u);var C=x.sprite,P=x.calc,A=o,R=u.cropWidth>0||u.cropHeight>0;R&&(m.flush(),a.pushScissor(P.tx,P.ty,u.cropWidth*P.scaleX,u.cropHeight*P.scaleY));var L=u.frame,O=L.glTexture,w=u.tintFill,b=c.getTintAppendFloatAlpha(u.tintTopLeft,v.alpha*u._alphaTL),F=c.getTintAppendFloatAlpha(u.tintTopRight,v.alpha*u._alphaTR),M=c.getTintAppendFloatAlpha(u.tintBottomLeft,v.alpha*u._alphaBL),I=c.getTintAppendFloatAlpha(u.tintBottomRight,v.alpha*u._alphaBR),B=m.setGameObject(u),G=0,N=0,z=0,H=0,$=u.letterSpacing,V,Y=0,D=0,U,W=u.scrollX,k=u.scrollY,X=u.fontData,K=X.chars,Z=X.lineHeight,J=u.fontSize/X.size,Q=0,j=u._align,q=0,tt=0,_=u.getTextBounds(!1);u.maxWidth>0&&(p=_.wrappedText,g=p.length);var rt=u._bounds.lines;j===1?tt=(rt.longest-rt.lengths[0])/2:j===2&&(tt=rt.longest-rt.lengths[0]);for(var ht=v.roundPixels,lt=u.displayCallback,ot=u.callbackData,et=0;et<g;et++){if(z=p.charCodeAt(et),z===10){q++,j===1?tt=(rt.longest-rt.lengths[q])/2:j===2&&(tt=rt.longest-rt.lengths[q]),G=0,N+=Z,U=null;continue}if(V=K[z],!!V){Y=V.width,D=V.height;var at=V.xOffset+G-W,nt=V.yOffset+N-k;if(U!==null){var vt=V.kerning[H];at+=vt!==void 0?vt:0}if(G+=V.xAdvance+$,U=V,H=z,!(Y===0||D===0||z===32)){if(J=u.fontSize/u.fontData.size,Q=0,lt){ot.color=0,ot.tint.topLeft=b,ot.tint.topRight=F,ot.tint.bottomLeft=M,ot.tint.bottomRight=I,ot.index=et,ot.charCode=z,ot.x=at,ot.y=nt,ot.scale=J,ot.rotation=Q,ot.data=V.data;var mt=lt(ot);at=mt.x,nt=mt.y,J=mt.scale,Q=mt.rotation,mt.color?(b=mt.color,F=mt.color,M=mt.color,I=mt.color):(b=mt.tint.topLeft,F=mt.tint.topRight,M=mt.tint.bottomLeft,I=mt.tint.bottomRight),b=c.getTintAppendFloatAlpha(b,v.alpha*u._alphaTL),F=c.getTintAppendFloatAlpha(F,v.alpha*u._alphaTR),M=c.getTintAppendFloatAlpha(M,v.alpha*u._alphaBL),I=c.getTintAppendFloatAlpha(I,v.alpha*u._alphaBR)}at*=J,nt*=J,at-=u.displayOriginX,nt-=u.displayOriginY,at+=tt,A.applyITRS(at,nt,Q,J,J),P.multiply(A,C);var Nt=V.u0,Ft=V.v0,Et=V.u1,St=V.v1,Xt=Y,bt=D,ie=C.e,le=C.f,Ue=bt*C.c+C.e,zs=bt*C.d+C.f,Ys=Xt*C.a+bt*C.c+C.e,ks=Xt*C.b+bt*C.d+C.f,Hs=Xt*C.a+C.e,Xs=Xt*C.b+C.f;ht&&(ie=Math.round(ie),le=Math.round(le),Ue=Math.round(Ue),zs=Math.round(zs),Ys=Math.round(Ys),ks=Math.round(ks),Hs=Math.round(Hs),Xs=Math.round(Xs)),m.shouldFlush(6)&&(m.flush(),B=m.setGameObject(u)),m.batchQuad(u,ie,le,Ue,zs,Ys,ks,Hs,Xs,Nt,Ft,Et,St,b,F,M,I,w,O,B)}}}R&&(m.flush(),a.popScissor()),a.pipelines.postBatch(u)}},"DynamicBitmapTextWebGLRenderer");n.exports=l},22186:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(83419),y=i(45319),c=i(31401),o=i(95643),l=i(53048),a=i(61327),u=i(21859),v=i(87841),d=i(18658),p=new f({Extends:o,Mixins:[c.Alpha,c.BlendMode,c.Depth,c.GetBounds,c.Mask,c.Origin,c.Pipeline,c.PostPipeline,c.ScrollFactor,c.Texture,c.Tint,c.Transform,c.Visible,d],initialize:r(function(m,x,C,P,A,R,L){A===void 0&&(A=""),L===void 0&&(L=0),o.call(this,m,"BitmapText"),this.font=P;var O=this.scene.sys.cache.bitmapFont.get(P);O||console.warn("Invalid BitmapText key: "+P),this.fontData=O.data,this._text="",this._fontSize=R||this.fontData.size,this._letterSpacing=0,this._lineSpacing=0,this._align=L,this._bounds=l(),this._dirty=!0,this._maxWidth=0,this.wordWrapCharCode=32,this.charColors=[],this.dropShadowX=0,this.dropShadowY=0,this.dropShadowColor=0,this.dropShadowAlpha=.5,this.fromAtlas=O.fromAtlas,this.setTexture(O.texture,O.frame),this.setPosition(x,C),this.setOrigin(0,0),this.initPipeline(),this.initPostPipeline(),this.setText(A)},"BitmapText"),setLeftAlign:r(function(){return this._align=p.ALIGN_LEFT,this._dirty=!0,this},"setLeftAlign"),setCenterAlign:r(function(){return this._align=p.ALIGN_CENTER,this._dirty=!0,this},"setCenterAlign"),setRightAlign:r(function(){return this._align=p.ALIGN_RIGHT,this._dirty=!0,this},"setRightAlign"),setFontSize:r(function(g){return this._fontSize=g,this._dirty=!0,this},"setFontSize"),setLetterSpacing:r(function(g){return g===void 0&&(g=0),this._letterSpacing=g,this._dirty=!0,this},"setLetterSpacing"),setLineSpacing:r(function(g){return g===void 0&&(g=0),this.lineSpacing=g,this},"setLineSpacing"),setText:r(function(g){return!g&&g!==0&&(g=""),Array.isArray(g)&&(g=g.join(`
`)),g!==this.text&&(this._text=g.toString(),this._dirty=!0,this.updateDisplayOrigin()),this},"setText"),setDropShadow:r(function(g,m,x,C){return g===void 0&&(g=0),m===void 0&&(m=0),x===void 0&&(x=0),C===void 0&&(C=.5),this.dropShadowX=g,this.dropShadowY=m,this.dropShadowColor=x,this.dropShadowAlpha=C,this},"setDropShadow"),setCharacterTint:r(function(g,m,x,C,P,A,R){g===void 0&&(g=0),m===void 0&&(m=1),x===void 0&&(x=!1),C===void 0&&(C=-1),P===void 0&&(P=C,A=C,R=C);var L=this.text.length;m===-1&&(m=L),g<0&&(g=L+g),g=y(g,0,L-1);for(var O=y(g+m,g,L),w=this.charColors,b=g;b<O;b++){var F=w[b];if(C===-1)w[b]=null;else{var M=x?1:0;F?(F.tintEffect=M,F.tintTL=C,F.tintTR=P,F.tintBL=A,F.tintBR=R):w[b]={tintEffect:M,tintTL:C,tintTR:P,tintBL:A,tintBR:R}}}return this},"setCharacterTint"),setWordTint:r(function(g,m,x,C,P,A,R){m===void 0&&(m=1);for(var L=this.getTextBounds(),O=L.words,w=typeof g=="number",b=0,F=0;F<O.length;F++){var M=O[F];if((w&&F===g||!w&&M.word===g)&&(this.setCharacterTint(M.i,M.word.length,x,C,P,A,R),b++,b===m))return this}return this},"setWordTint"),getTextBounds:r(function(g){var m=this._bounds;return(this._dirty||g||this.scaleX!==m.scaleX||this.scaleY!==m.scaleY)&&(l(this,g,!0,m),this._dirty=!1),m},"getTextBounds"),getCharacterAt:r(function(g,m,x){for(var C=this.getLocalPoint(g,m,null,x),P=this.getTextBounds(),A=P.characters,R=new v,L=0;L<A.length;L++){var O=A[L];if(R.setTo(O.x,O.t,O.r-O.x,O.b),R.contains(C.x,C.y))return O}return null},"getCharacterAt"),updateDisplayOrigin:r(function(){return this._dirty=!0,this.getTextBounds(!1),this},"updateDisplayOrigin"),setFont:r(function(g,m,x){m===void 0&&(m=this._fontSize),x===void 0&&(x=this._align);var C=this.scene.sys.cache.bitmapFont.get(g);return C&&(this.font=g,this.fontData=C.data,this._fontSize=m,this._align=x,this.fromAtlas=C.fromAtlas===!0,this.setTexture(C.texture,C.frame),l(this,!1,!0,this._bounds)),this},"setFont"),setMaxWidth:r(function(g,m){return this._maxWidth=g,this._dirty=!0,m!==void 0&&(this.wordWrapCharCode=m),this},"setMaxWidth"),align:{set:r(function(g){this._align=g,this._dirty=!0},"set"),get:r(function(){return this._align},"get")},text:{set:r(function(g){this.setText(g)},"set"),get:r(function(){return this._text},"get")},fontSize:{set:r(function(g){this._fontSize=g,this._dirty=!0},"set"),get:r(function(){return this._fontSize},"get")},letterSpacing:{set:r(function(g){this._letterSpacing=g,this._dirty=!0},"set"),get:r(function(){return this._letterSpacing},"get")},lineSpacing:{set:r(function(g){this._lineSpacing=g,this._dirty=!0},"set"),get:r(function(){return this._lineSpacing},"get")},maxWidth:{set:r(function(g){this._maxWidth=g,this._dirty=!0},"set"),get:r(function(){return this._maxWidth},"get")},width:{get:r(function(){return this.getTextBounds(!1),this._bounds.global.width},"get")},height:{get:r(function(){return this.getTextBounds(!1),this._bounds.global.height},"get")},displayWidth:{get:r(function(){return this.width},"get")},displayHeight:{get:r(function(){return this.height},"get")},toJSON:r(function(){var g=c.ToJSON(this),m={font:this.font,text:this.text,fontSize:this.fontSize,letterSpacing:this.letterSpacing,lineSpacing:this.lineSpacing,align:this.align};return g.data=m,g},"toJSON"),preDestroy:r(function(){this.charColors.length=0,this._bounds=null,this.fontData=null},"preDestroy")});p.ALIGN_LEFT=0,p.ALIGN_CENTER=1,p.ALIGN_RIGHT=2,p.ParseFromAtlas=a,p.ParseXMLBitmapFont=u,n.exports=p},37289:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(20926),y=r(function(c,o,l,a){var u=o._text,v=u.length,d=c.currentContext;if(!(v===0||!f(c,d,o,l,a))){l.addToRenderList(o);var p=o.fromAtlas?o.frame:o.texture.frames.__BASE,g=o.fontData.chars,m=o.fontData.lineHeight,x=o._letterSpacing,C=o._lineSpacing,P=0,A=0,R=0,L=null,O=0,w=0,b=0,F=0,M=0,I=0,B=null,G=0,N=p.source.image,z=p.cutX,H=p.cutY,$=o._fontSize/o.fontData.size,V=o._align,Y=0,D=0,U=o.getTextBounds(!1);o.maxWidth>0&&(u=U.wrappedText,v=u.length);var W=o._bounds.lines;V===1?D=(W.longest-W.lengths[0])/2:V===2&&(D=W.longest-W.lengths[0]),d.translate(-o.displayOriginX,-o.displayOriginY);for(var k=l.roundPixels,X=0;X<v;X++){if(R=u.charCodeAt(X),R===10){Y++,V===1?D=(W.longest-W.lengths[Y])/2:V===2&&(D=W.longest-W.lengths[Y]),P=0,A+=m+C,B=null;continue}if(L=g[R],!!L){if(O=z+L.x,w=H+L.y,b=L.width,F=L.height,M=L.xOffset+P,I=L.yOffset+A,B!==null){var K=L.kerning[G];M+=K!==void 0?K:0}M*=$,I*=$,M+=D,P+=L.xAdvance+x+(K!==void 0?K:0),B=L,G=R,!(b===0||F===0||R===32)&&(k&&(M=Math.round(M),I=Math.round(I)),d.save(),d.translate(M,I),d.scale($,$),d.drawImage(N,O,w,b,F,0,0,b,F),d.restore())}}d.restore()}},"BitmapTextCanvasRenderer");n.exports=y},57336:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(22186),y=i(25305),c=i(44603),o=i(23568),l=i(35154);c.register("bitmapText",function(a,u){a===void 0&&(a={});var v=l(a,"font",""),d=o(a,"text",""),p=o(a,"size",!1),g=l(a,"align",0),m=new f(this.scene,0,0,v,d,p,g);return u!==void 0&&(a.add=u),y(this.scene,m,a),m})},34914:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(22186),y=i(39429);y.register("bitmapText",function(c,o,l,a,u,v){return this.displayList.add(new f(this.scene,c,o,l,a,u,v))})},18658:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(29747),y=f,c=f;y=i(33590),c=i(37289),n.exports={renderWebGL:y,renderCanvas:c}},33590:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(3217),y=i(91296),c=i(70554),o=r(function(l,a,u,v){var d=a._text,p=d.length;if(p!==0){u.addToRenderList(a);var g=l.pipelines.set(a.pipeline,a),m=y(a,u,v).calc;l.pipelines.preBatch(a);var x=u.roundPixels,C=u.alpha,P=a.charColors,A=a.tintFill,R=c.getTintAppendFloatAlpha,L=R(a.tintTopLeft,C*a._alphaTL),O=R(a.tintTopRight,C*a._alphaTR),w=R(a.tintBottomLeft,C*a._alphaBL),b=R(a.tintBottomRight,C*a._alphaBR),F=a.frame.glTexture,M=g.setGameObject(a),I=a.getTextBounds(!1),B,G,N,z=I.characters,H=a.dropShadowX,$=a.dropShadowY,V=H!==0||$!==0;if(V){var Y=a.dropShadowColor,D=a.dropShadowAlpha,U=R(Y,C*D*a._alphaTL),W=R(Y,C*D*a._alphaTR),k=R(Y,C*D*a._alphaBL),X=R(Y,C*D*a._alphaBR);for(B=0;B<z.length;B++)G=z[B],N=G.glyph,!(G.code===32||N.width===0||N.height===0)&&f(g,a,G,N,H,$,m,x,U,W,k,X,1,F,M)}for(B=0;B<z.length;B++)if(G=z[B],N=G.glyph,!(G.code===32||N.width===0||N.height===0))if(g.shouldFlush(6)&&(g.flush(),M=g.setGameObject(a)),P[G.i]){var K=P[G.i],Z=K.tintEffect,J=R(K.tintTL,C*a._alphaTL),Q=R(K.tintTR,C*a._alphaTR),j=R(K.tintBL,C*a._alphaBL),q=R(K.tintBR,C*a._alphaBR);f(g,a,G,N,0,0,m,x,J,Q,j,q,Z,F,M)}else f(g,a,G,N,0,0,m,x,L,O,w,b,A,F,M);l.pipelines.postBatch(a)}},"BitmapTextWebGLRenderer");n.exports=o},6107:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(48011),y=i(46590),c=i(83419),o=i(31401),l=i(4327),a=i(95643),u=i(73162),v=new c({Extends:a,Mixins:[o.Alpha,o.BlendMode,o.Depth,o.Mask,o.Pipeline,o.PostPipeline,o.ScrollFactor,o.Size,o.Texture,o.Transform,o.Visible,f],initialize:r(function(p,g,m,x,C){a.call(this,p,"Blitter"),this.setTexture(x,C),this.setPosition(g,m),this.initPipeline(),this.initPostPipeline(),this.children=new u,this.renderList=[],this.dirty=!1},"Blitter"),create:r(function(d,p,g,m,x){m===void 0&&(m=!0),x===void 0&&(x=this.children.length),g===void 0?g=this.frame:g instanceof l||(g=this.texture.get(g));var C=new y(this,d,p,g,m);return this.children.addAt(C,x,!1),this.dirty=!0,C},"create"),createFromCallback:r(function(d,p,g,m){for(var x=this.createMultiple(p,g,m),C=0;C<x.length;C++){var P=x[C];d.call(this,P,C)}return x},"createFromCallback"),createMultiple:r(function(d,p,g){p===void 0&&(p=this.frame.name),g===void 0&&(g=!0),Array.isArray(p)||(p=[p]);var m=[],x=this;return p.forEach(function(C){for(var P=0;P<d;P++)m.push(x.create(0,0,C,g))}),m},"createMultiple"),childCanRender:r(function(d){return d.visible&&d.alpha>0},"childCanRender"),getRenderList:r(function(){return this.dirty&&(this.renderList=this.children.list.filter(this.childCanRender,this),this.dirty=!1),this.renderList},"getRenderList"),clear:r(function(){this.children.removeAll(),this.dirty=!0},"clear"),preDestroy:r(function(){this.children.destroy(),this.renderList=[]},"preDestroy")});n.exports=v},72396:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i,f,y,c){var o=f.getRenderList();if(o.length!==0){var l=i.currentContext,a=y.alpha*f.alpha;if(a!==0){y.addToRenderList(f),l.globalCompositeOperation=i.blendModes[f.blendMode],l.imageSmoothingEnabled=!f.frame.source.scaleMode;var u=f.x-y.scrollX*f.scrollFactorX,v=f.y-y.scrollY*f.scrollFactorY;l.save(),c&&c.copyToContext(l);for(var d=y.roundPixels,p=0;p<o.length;p++){var g=o[p],m=g.flipX||g.flipY,x=g.frame,C=x.canvasData,P=x.x,A=x.y,R=1,L=1,O=g.alpha*a;O!==0&&(l.globalAlpha=O,m?(g.flipX&&(R=-1,P-=C.width),g.flipY&&(L=-1,A-=C.height),C.width>0&&C.height>0&&(l.save(),l.translate(g.x+u,g.y+v),l.scale(R,L),l.drawImage(x.source.image,C.x,C.y,C.width,C.height,P,A,C.width,C.height),l.restore())):(d&&(P=Math.round(P),A=Math.round(A)),C.width>0&&C.height>0&&l.drawImage(x.source.image,C.x,C.y,C.width,C.height,P+g.x+u,A+g.y+v,C.width,C.height)))}l.restore()}}},"BlitterCanvasRenderer");n.exports=T},9403:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(6107),y=i(25305),c=i(44603),o=i(23568);c.register("blitter",function(l,a){l===void 0&&(l={});var u=o(l,"key",null),v=o(l,"frame",null),d=new f(this.scene,0,0,u,v);return a!==void 0&&(l.add=a),y(this.scene,d,l),d})},12709:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(6107),y=i(39429);y.register("blitter",function(c,o,l,a){return this.displayList.add(new f(this.scene,c,o,l,a))})},48011:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(29747),y=f,c=f;y=i(99485),c=i(72396),n.exports={renderWebGL:y,renderCanvas:c}},99485:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(61340),y=i(70554),c=new f,o=r(function(l,a,u,v){var d=a.getRenderList(),p=u.alpha*a.alpha;if(!(d.length===0||p===0)){u.addToRenderList(a);var g=l.pipelines.set(this.pipeline,a),m=u.scrollX*a.scrollFactorX,x=u.scrollY*a.scrollFactorY,C=c.copyFrom(u.matrix);v&&(C.multiplyWithOffset(v,-m,-x),m=0,x=0);var P=a.x-m,A=a.y-x,R=-1,L=!1;l.pipelines.preBatch(a);for(var O=0;O<d.length;O++){var w=d[O],b=w.frame,F=w.alpha*p;if(F!==0){var M=b.width,I=b.height,B=P+w.x+b.x,G=A+w.y+b.y;w.flipX&&(M*=-1,B+=b.width),w.flipY&&(I*=-1,G+=b.height);var N=C.setQuad(B,G,B+M,G+I),z=y.getTintAppendFloatAlpha(w.tint,F);if(b.sourceIndex!==R){var H=g.setGameObject(a,b);R=b.sourceIndex}g.batchQuad(a,N[0],N[1],N[2],N[3],N[4],N[5],N[6],N[7],b.u0,b.v0,b.u1,b.v1,z,z,z,z,L,b.glTexture,H)&&(R=-1)}}l.pipelines.postBatch(a)}},"BlitterWebGLRenderer");n.exports=o},46590:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(83419),y=i(4327),c=new f({initialize:r(function(l,a,u,v,d){this.parent=l,this.x=a,this.y=u,this.frame=v,this.data={},this.tint=16777215,this._visible=d,this._alpha=1,this.flipX=!1,this.flipY=!1,this.hasTransformComponent=!0},"Bob"),setFrame:r(function(o){return o===void 0?this.frame=this.parent.frame:o instanceof y&&o.texture===this.parent.texture?this.frame=o:this.frame=this.parent.texture.get(o),this},"setFrame"),resetFlip:r(function(){return this.flipX=!1,this.flipY=!1,this},"resetFlip"),reset:r(function(o,l,a){return this.x=o,this.y=l,this.flipX=!1,this.flipY=!1,this._alpha=1,this._visible=!0,this.parent.dirty=!0,a&&this.setFrame(a),this},"reset"),setPosition:r(function(o,l){return this.x=o,this.y=l,this},"setPosition"),setFlipX:r(function(o){return this.flipX=o,this},"setFlipX"),setFlipY:r(function(o){return this.flipY=o,this},"setFlipY"),setFlip:r(function(o,l){return this.flipX=o,this.flipY=l,this},"setFlip"),setVisible:r(function(o){return this.visible=o,this},"setVisible"),setAlpha:r(function(o){return this.alpha=o,this},"setAlpha"),setTint:r(function(o){return this.tint=o,this},"setTint"),destroy:r(function(){this.parent.dirty=!0,this.parent.children.remove(this),this.parent=void 0,this.frame=void 0,this.data=void 0},"destroy"),visible:{get:r(function(){return this._visible},"get"),set:r(function(o){this.parent.dirty|=this._visible!==o,this._visible=o},"set")},alpha:{get:r(function(){return this._alpha},"get"),set:r(function(o){this.parent.dirty|=this._alpha>0!=o>0,this._alpha=o},"set")}});n.exports=c},16005:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(45319),y=2,c={_alpha:1,_alphaTL:1,_alphaTR:1,_alphaBL:1,_alphaBR:1,clearAlpha:r(function(){return this.setAlpha(1)},"clearAlpha"),setAlpha:r(function(o,l,a,u){return o===void 0&&(o=1),l===void 0?this.alpha=o:(this._alphaTL=f(o,0,1),this._alphaTR=f(l,0,1),this._alphaBL=f(a,0,1),this._alphaBR=f(u,0,1)),this},"setAlpha"),alpha:{get:r(function(){return this._alpha},"get"),set:r(function(o){var l=f(o,0,1);this._alpha=l,this._alphaTL=l,this._alphaTR=l,this._alphaBL=l,this._alphaBR=l,l===0?this.renderFlags&=~y:this.renderFlags|=y},"set")},alphaTopLeft:{get:r(function(){return this._alphaTL},"get"),set:r(function(o){var l=f(o,0,1);this._alphaTL=l,l!==0&&(this.renderFlags|=y)},"set")},alphaTopRight:{get:r(function(){return this._alphaTR},"get"),set:r(function(o){var l=f(o,0,1);this._alphaTR=l,l!==0&&(this.renderFlags|=y)},"set")},alphaBottomLeft:{get:r(function(){return this._alphaBL},"get"),set:r(function(o){var l=f(o,0,1);this._alphaBL=l,l!==0&&(this.renderFlags|=y)},"set")},alphaBottomRight:{get:r(function(){return this._alphaBR},"get"),set:r(function(o){var l=f(o,0,1);this._alphaBR=l,l!==0&&(this.renderFlags|=y)},"set")}};n.exports=c},88509:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(45319),y=2,c={_alpha:1,clearAlpha:r(function(){return this.setAlpha(1)},"clearAlpha"),setAlpha:r(function(o){return o===void 0&&(o=1),this.alpha=o,this},"setAlpha"),alpha:{get:r(function(){return this._alpha},"get"),set:r(function(o){var l=f(o,0,1);this._alpha=l,l===0?this.renderFlags&=~y:this.renderFlags|=y},"set")}};n.exports=c},90065:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(10312),y={_blendMode:f.NORMAL,blendMode:{get:r(function(){return this._blendMode},"get"),set:r(function(c){typeof c=="string"&&(c=f[c]),c|=0,c>=-1&&(this._blendMode=c)},"set")},setBlendMode:r(function(c){return this.blendMode=c,this},"setBlendMode")};n.exports=y},94215:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={width:0,height:0,displayWidth:{get:r(function(){return this.scaleX*this.width},"get"),set:r(function(i){this.scaleX=i/this.width},"set")},displayHeight:{get:r(function(){return this.scaleY*this.height},"get"),set:r(function(i){this.scaleY=i/this.height},"set")},setSize:r(function(i,f){return this.width=i,this.height=f,this},"setSize"),setDisplaySize:r(function(i,f){return this.displayWidth=i,this.displayHeight=f,this},"setDisplaySize")};n.exports=T},61683:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={texture:null,frame:null,isCropped:!1,setCrop:r(function(i,f,y,c){if(i===void 0)this.isCropped=!1;else if(this.frame){if(typeof i=="number")this.frame.setCropUVs(this._crop,i,f,y,c,this.flipX,this.flipY);else{var o=i;this.frame.setCropUVs(this._crop,o.x,o.y,o.width,o.height,this.flipX,this.flipY)}this.isCropped=!0}return this},"setCrop"),resetCropObject:r(function(){return{u0:0,v0:0,u1:0,v1:0,width:0,height:0,x:0,y:0,flipX:!1,flipY:!1,cx:0,cy:0,cw:0,ch:0}},"resetCropObject")};n.exports=T},89272:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={_depth:0,depth:{get:r(function(){return this._depth},"get"),set:r(function(i){this.displayList&&this.displayList.queueDepthSort(),this._depth=i},"set")},setDepth:r(function(i){return i===void 0&&(i=0),this.depth=i,this},"setDepth")};n.exports=T},47059:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(83419),y=i(66064),c=i(19133),o=new f({initialize:r(function(a,u){this.gameObject=a,this.isPost=u,this.enabled=!1,this.list=[],this.padding=0},"FX"),setPadding:r(function(l){return l===void 0&&(l=0),this.padding=l,this.gameObject},"setPadding"),onFXCopy:r(function(){},"onFXCopy"),onFX:r(function(){},"onFX"),enable:r(function(l){if(!this.isPost){var a=this.gameObject.scene.sys.renderer;a&&a.pipelines?(this.gameObject.pipeline=a.pipelines.FX_PIPELINE,l!==void 0&&(this.padding=l),this.enabled=!0):this.enabled=!1}},"enable"),clear:r(function(){if(this.isPost)this.gameObject.resetPostPipeline(!0);else{for(var l=this.list,a=0;a<l.length;a++)l[a].destroy();this.list=[]}return this.enabled=!1,this.gameObject},"clear"),remove:r(function(l){var a;if(this.isPost){var u=this.gameObject.getPostPipeline(String(l.type));for(Array.isArray(u)||(u=[u]),a=0;a<u.length;a++){var v=u[a];if(v.controller===l){this.gameObject.removePostPipeline(v),l.destroy();break}}}else{var d=this.list;for(a=0;a<d.length;a++)d[a]===l&&(c(d,a),l.destroy())}return this.gameObject},"remove"),disable:r(function(l){return l===void 0&&(l=!1),this.isPost||this.gameObject.resetPipeline(),this.enabled=!1,l&&this.clear(),this.gameObject},"disable"),add:r(function(l,a){if(this.isPost){var u=String(l.type);this.gameObject.setPostPipeline(u,a);var v=this.gameObject.getPostPipeline(u);if(v)return Array.isArray(v)&&(v=v.pop()),v.controller=l,l}else return this.enabled||this.enable(),this.list.push(l),l},"add"),addGlow:r(function(l,a,u,v,d,p){return this.add(new y.Glow(this.gameObject,l,a,u,v),{quality:d,distance:p})},"addGlow"),addShadow:r(function(l,a,u,v,d,p,g){return this.add(new y.Shadow(this.gameObject,l,a,u,v,d,p,g))},"addShadow"),addPixelate:r(function(l){return this.add(new y.Pixelate(this.gameObject,l))},"addPixelate"),addVignette:r(function(l,a,u,v){return this.add(new y.Vignette(this.gameObject,l,a,u,v))},"addVignette"),addShine:r(function(l,a,u,v){return this.add(new y.Shine(this.gameObject,l,a,u,v))},"addShine"),addBlur:r(function(l,a,u,v,d,p){return this.add(new y.Blur(this.gameObject,l,a,u,v,d,p))},"addBlur"),addGradient:r(function(l,a,u,v,d,p,g,m){return this.add(new y.Gradient(this.gameObject,l,a,u,v,d,p,g,m))},"addGradient"),addBloom:r(function(l,a,u,v,d,p){return this.add(new y.Bloom(this.gameObject,l,a,u,v,d,p))},"addBloom"),addColorMatrix:r(function(){return this.add(new y.ColorMatrix(this.gameObject))},"addColorMatrix"),addCircle:r(function(l,a,u,v,d){return this.add(new y.Circle(this.gameObject,l,a,u,v,d))},"addCircle"),addBarrel:r(function(l){return this.add(new y.Barrel(this.gameObject,l))},"addBarrel"),addDisplacement:r(function(l,a,u){return this.add(new y.Displacement(this.gameObject,l,a,u))},"addDisplacement"),addWipe:r(function(l,a,u){return this.add(new y.Wipe(this.gameObject,l,a,u))},"addWipe"),addReveal:r(function(l,a,u){return this.add(new y.Wipe(this.gameObject,l,a,u,!0))},"addReveal"),addBokeh:r(function(l,a,u){return this.add(new y.Bokeh(this.gameObject,l,a,u))},"addBokeh"),addTiltShift:r(function(l,a,u,v,d,p){return this.add(new y.Bokeh(this.gameObject,l,a,u,!0,v,d,p))},"addTiltShift"),destroy:r(function(){this.clear(),this.gameObject=null},"destroy")});n.exports=o},54434:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={flipX:!1,flipY:!1,toggleFlipX:r(function(){return this.flipX=!this.flipX,this},"toggleFlipX"),toggleFlipY:r(function(){return this.flipY=!this.flipY,this},"toggleFlipY"),setFlipX:r(function(i){return this.flipX=i,this},"setFlipX"),setFlipY:r(function(i){return this.flipY=i,this},"setFlipY"),setFlip:r(function(i,f){return this.flipX=i,this.flipY=f,this},"setFlip"),resetFlip:r(function(){return this.flipX=!1,this.flipY=!1,this},"resetFlip")};n.exports=T},8004:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(87841),y=i(11520),c=i(26099),o={prepareBoundsOutput:r(function(l,a){if(a===void 0&&(a=!1),this.rotation!==0&&y(l,this.x,this.y,this.rotation),a&&this.parentContainer){var u=this.parentContainer.getBoundsTransformMatrix();u.transformPoint(l.x,l.y,l)}return l},"prepareBoundsOutput"),getCenter:r(function(l,a){return l===void 0&&(l=new c),l.x=this.x-this.displayWidth*this.originX+this.displayWidth/2,l.y=this.y-this.displayHeight*this.originY+this.displayHeight/2,this.prepareBoundsOutput(l,a)},"getCenter"),getTopLeft:r(function(l,a){return l||(l=new c),l.x=this.x-this.displayWidth*this.originX,l.y=this.y-this.displayHeight*this.originY,this.prepareBoundsOutput(l,a)},"getTopLeft"),getTopCenter:r(function(l,a){return l||(l=new c),l.x=this.x-this.displayWidth*this.originX+this.displayWidth/2,l.y=this.y-this.displayHeight*this.originY,this.prepareBoundsOutput(l,a)},"getTopCenter"),getTopRight:r(function(l,a){return l||(l=new c),l.x=this.x-this.displayWidth*this.originX+this.displayWidth,l.y=this.y-this.displayHeight*this.originY,this.prepareBoundsOutput(l,a)},"getTopRight"),getLeftCenter:r(function(l,a){return l||(l=new c),l.x=this.x-this.displayWidth*this.originX,l.y=this.y-this.displayHeight*this.originY+this.displayHeight/2,this.prepareBoundsOutput(l,a)},"getLeftCenter"),getRightCenter:r(function(l,a){return l||(l=new c),l.x=this.x-this.displayWidth*this.originX+this.displayWidth,l.y=this.y-this.displayHeight*this.originY+this.displayHeight/2,this.prepareBoundsOutput(l,a)},"getRightCenter"),getBottomLeft:r(function(l,a){return l||(l=new c),l.x=this.x-this.displayWidth*this.originX,l.y=this.y-this.displayHeight*this.originY+this.displayHeight,this.prepareBoundsOutput(l,a)},"getBottomLeft"),getBottomCenter:r(function(l,a){return l||(l=new c),l.x=this.x-this.displayWidth*this.originX+this.displayWidth/2,l.y=this.y-this.displayHeight*this.originY+this.displayHeight,this.prepareBoundsOutput(l,a)},"getBottomCenter"),getBottomRight:r(function(l,a){return l||(l=new c),l.x=this.x-this.displayWidth*this.originX+this.displayWidth,l.y=this.y-this.displayHeight*this.originY+this.displayHeight,this.prepareBoundsOutput(l,a)},"getBottomRight"),getBounds:r(function(l){l===void 0&&(l=new f);var a,u,v,d,p,g,m,x;if(this.parentContainer){var C=this.parentContainer.getBoundsTransformMatrix();this.getTopLeft(l),C.transformPoint(l.x,l.y,l),a=l.x,u=l.y,this.getTopRight(l),C.transformPoint(l.x,l.y,l),v=l.x,d=l.y,this.getBottomLeft(l),C.transformPoint(l.x,l.y,l),p=l.x,g=l.y,this.getBottomRight(l),C.transformPoint(l.x,l.y,l),m=l.x,x=l.y}else this.getTopLeft(l),a=l.x,u=l.y,this.getTopRight(l),v=l.x,d=l.y,this.getBottomLeft(l),p=l.x,g=l.y,this.getBottomRight(l),m=l.x,x=l.y;return l.x=Math.min(a,v,p,m),l.y=Math.min(u,d,g,x),l.width=Math.max(a,v,p,m)-l.x,l.height=Math.max(u,d,g,x)-l.y,l},"getBounds")};n.exports=o},8573:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(6858),y=i(80661),c={mask:null,setMask:r(function(o){return this.mask=o,this},"setMask"),clearMask:r(function(o){return o===void 0&&(o=!1),o&&this.mask&&this.mask.destroy(),this.mask=null,this},"clearMask"),createBitmapMask:r(function(o,l,a,u,v){return o===void 0&&(this.texture||this.shader||this.geom)&&(o=this),new f(this.scene,o,l,a,u,v)},"createBitmapMask"),createGeometryMask:r(function(o){return o===void 0&&(this.type==="Graphics"||this.geom)&&(o=this),new y(this.scene,o)},"createGeometryMask")};n.exports=c},27387:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={_originComponent:!0,originX:.5,originY:.5,_displayOriginX:0,_displayOriginY:0,displayOriginX:{get:r(function(){return this._displayOriginX},"get"),set:r(function(i){this._displayOriginX=i,this.originX=i/this.width},"set")},displayOriginY:{get:r(function(){return this._displayOriginY},"get"),set:r(function(i){this._displayOriginY=i,this.originY=i/this.height},"set")},setOrigin:r(function(i,f){return i===void 0&&(i=.5),f===void 0&&(f=i),this.originX=i,this.originY=f,this.updateDisplayOrigin()},"setOrigin"),setOriginFromFrame:r(function(){return!this.frame||!this.frame.customPivot?this.setOrigin():(this.originX=this.frame.pivotX,this.originY=this.frame.pivotY,this.updateDisplayOrigin())},"setOriginFromFrame"),setDisplayOrigin:r(function(i,f){return i===void 0&&(i=0),f===void 0&&(f=i),this.displayOriginX=i,this.displayOriginY=f,this},"setDisplayOrigin"),updateDisplayOrigin:r(function(){return this._displayOriginX=this.originX*this.width,this._displayOriginY=this.originY*this.height,this},"updateDisplayOrigin")};n.exports=T},37640:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(39506),y=i(57355),c=i(35154),o=i(86353),l=i(26099),a={path:null,rotateToPath:!1,pathRotationOffset:0,pathOffset:null,pathVector:null,pathDelta:null,pathTween:null,pathConfig:null,_prevDirection:o.PLAYING_FORWARD,setPath:r(function(u,v){v===void 0&&(v=this.pathConfig);var d=this.pathTween;return d&&d.isPlaying()&&d.stop(),this.path=u,v&&this.startFollow(v),this},"setPath"),setRotateToPath:r(function(u,v){return v===void 0&&(v=0),this.rotateToPath=u,this.pathRotationOffset=v,this},"setRotateToPath"),isFollowing:r(function(){var u=this.pathTween;return u&&u.isPlaying()},"isFollowing"),startFollow:r(function(u,v){u===void 0&&(u={}),v===void 0&&(v=0);var d=this.pathTween;d&&d.isPlaying()&&d.stop(),typeof u=="number"&&(u={duration:u}),u.from=c(u,"from",0),u.to=c(u,"to",1);var p=y(u,"positionOnPath",!1);this.rotateToPath=y(u,"rotateToPath",!1),this.pathRotationOffset=c(u,"rotationOffset",0);var g=c(u,"startAt",v);if(g&&(u.onStart=function(x){var C=x.data[0];C.progress=g,C.elapsed=C.duration*g;var P=C.ease(C.progress);C.current=C.start+(C.end-C.start)*P,C.setTargetValue()}),this.pathOffset||(this.pathOffset=new l(this.x,this.y)),this.pathVector||(this.pathVector=new l),this.pathDelta||(this.pathDelta=new l),this.pathDelta.reset(),u.persist=!0,this.pathTween=this.scene.sys.tweens.addCounter(u),this.path.getStartPoint(this.pathOffset),p&&(this.x=this.pathOffset.x,this.y=this.pathOffset.y),this.pathOffset.x=this.x-this.pathOffset.x,this.pathOffset.y=this.y-this.pathOffset.y,this._prevDirection=o.PLAYING_FORWARD,this.rotateToPath){var m=this.path.getPoint(.1);this.rotation=Math.atan2(m.y-this.y,m.x-this.x)+f(this.pathRotationOffset)}return this.pathConfig=u,this},"startFollow"),pauseFollow:r(function(){var u=this.pathTween;return u&&u.isPlaying()&&u.pause(),this},"pauseFollow"),resumeFollow:r(function(){var u=this.pathTween;return u&&u.isPaused()&&u.resume(),this},"resumeFollow"),stopFollow:r(function(){var u=this.pathTween;return u&&u.isPlaying()&&u.stop(),this},"stopFollow"),pathUpdate:r(function(){var u=this.pathTween;if(u&&u.data){var v=u.data[0],d=this.pathDelta,p=this.pathVector;if(d.copy(p).negate(),v.state===o.COMPLETE){this.path.getPoint(v.end,p),d.add(p),p.add(this.pathOffset),this.setPosition(p.x,p.y);return}else if(v.state!==o.PLAYING_FORWARD&&v.state!==o.PLAYING_BACKWARD)return;this.path.getPoint(u.getValue(),p),d.add(p),p.add(this.pathOffset);var g=this.x,m=this.y;this.setPosition(p.x,p.y);var x=this.x-g,C=this.y-m;if(x===0&&C===0)return;if(v.state!==this._prevDirection){this._prevDirection=v.state;return}this.rotateToPath&&(this.rotation=Math.atan2(C,x)+f(this.pathRotationOffset))}},"pathUpdate")};n.exports=a},72699:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(62644),y={defaultPipeline:null,pipeline:null,pipelineData:null,initPipeline:r(function(c){this.pipelineData={};var o=this.scene.sys.renderer;if(!o)return!1;var l=o.pipelines;if(l){c===void 0&&(c=l.default);var a=l.get(c);if(a)return this.defaultPipeline=a,this.pipeline=a,!0}return!1},"initPipeline"),setPipeline:r(function(c,o,l){var a=this.scene.sys.renderer;if(!a)return this;var u=a.pipelines;if(u){var v=u.get(c);v&&(this.pipeline=v),o&&(this.pipelineData=l?f(o):o)}return this},"setPipeline"),setPipelineData:r(function(c,o){var l=this.pipelineData;return o===void 0?delete l[c]:l[c]=o,this},"setPipelineData"),resetPipeline:r(function(c){return c===void 0&&(c=!1),this.pipeline=this.defaultPipeline,c&&(this.pipelineData={}),this.pipeline!==null},"resetPipeline"),getPipelineName:r(function(){return this.pipeline.name},"getPipelineName")};n.exports=y},17581:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(62644),y=i(47059),c=i(19133),o={hasPostPipeline:!1,postPipelines:null,postPipelineData:null,preFX:null,postFX:null,initPostPipeline:r(function(l){this.postPipelines=[],this.postPipelineData={},this.postFX=new y(this,!0),l&&(this.preFX=new y(this,!1))},"initPostPipeline"),setPostPipeline:r(function(l,a,u){var v=this.scene.sys.renderer;if(!v)return this;var d=v.pipelines;if(d){Array.isArray(l)||(l=[l]);for(var p=0;p<l.length;p++){var g=d.getPostPipeline(l[p],this,a);g&&this.postPipelines.push(g)}a&&(this.postPipelineData=u?f(a):a)}return this.hasPostPipeline=this.postPipelines.length>0,this},"setPostPipeline"),setPostPipelineData:r(function(l,a){var u=this.postPipelineData;return a===void 0?delete u[l]:u[l]=a,this},"setPostPipelineData"),getPostPipeline:r(function(l){for(var a=typeof l=="string",u=this.postPipelines,v=[],d=0;d<u.length;d++){var p=u[d];(a&&p.name===l||!a&&p instanceof l)&&v.push(p)}return v.length===1?v[0]:v},"getPostPipeline"),resetPostPipeline:r(function(l){l===void 0&&(l=!1);for(var a=this.postPipelines,u=0;u<a.length;u++)a[u].destroy();this.postPipelines=[],this.hasPostPipeline=!1,l&&(this.postPipelineData={})},"resetPostPipeline"),removePostPipeline:r(function(l){for(var a=typeof l=="string",u=this.postPipelines,v=u.length-1;v>=0;v--){var d=u[v];(a&&d.name===l||!a&&d===l)&&(d.destroy(),c(u,v))}return this.hasPostPipeline=this.postPipelines.length>0,this},"removePostPipeline"),clearFX:r(function(){return this.preFX&&this.preFX.clear(),this.postFX&&this.postFX.clear(),this},"clearFX")};n.exports=o},80227:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={scrollFactorX:1,scrollFactorY:1,setScrollFactor:r(function(i,f){return f===void 0&&(f=i),this.scrollFactorX=i,this.scrollFactorY=f,this},"setScrollFactor")};n.exports=T},16736:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={_sizeComponent:!0,width:0,height:0,displayWidth:{get:r(function(){return Math.abs(this.scaleX*this.frame.realWidth)},"get"),set:r(function(i){this.scaleX=i/this.frame.realWidth},"set")},displayHeight:{get:r(function(){return Math.abs(this.scaleY*this.frame.realHeight)},"get"),set:r(function(i){this.scaleY=i/this.frame.realHeight},"set")},setSizeToFrame:r(function(i){i||(i=this.frame),this.width=i.realWidth,this.height=i.realHeight;var f=this.input;return f&&!f.customHitArea&&(f.hitArea.width=this.width,f.hitArea.height=this.height),this},"setSizeToFrame"),setSize:r(function(i,f){return this.width=i,this.height=f,this},"setSize"),setDisplaySize:r(function(i,f){return this.displayWidth=i,this.displayHeight=f,this},"setDisplaySize")};n.exports=T},37726:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(4327),y=8,c={texture:null,frame:null,isCropped:!1,setTexture:r(function(o,l,a,u){return this.texture=this.scene.sys.textures.get(o),this.setFrame(l,a,u)},"setTexture"),setFrame:r(function(o,l,a){return l===void 0&&(l=!0),a===void 0&&(a=!0),o instanceof f?(this.texture=this.scene.sys.textures.get(o.texture.key),this.frame=o):this.frame=this.texture.get(o),!this.frame.cutWidth||!this.frame.cutHeight?this.renderFlags&=~y:this.renderFlags|=y,this._sizeComponent&&l&&this.setSizeToFrame(),this._originComponent&&a&&(this.frame.customPivot?this.setOrigin(this.frame.pivotX,this.frame.pivotY):this.updateDisplayOrigin()),this},"setFrame")};n.exports=c},79812:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(4327),y=8,c={texture:null,frame:null,isCropped:!1,setCrop:r(function(o,l,a,u){if(o===void 0)this.isCropped=!1;else if(this.frame){if(typeof o=="number")this.frame.setCropUVs(this._crop,o,l,a,u,this.flipX,this.flipY);else{var v=o;this.frame.setCropUVs(this._crop,v.x,v.y,v.width,v.height,this.flipX,this.flipY)}this.isCropped=!0}return this},"setCrop"),setTexture:r(function(o,l){return this.texture=this.scene.sys.textures.get(o),this.setFrame(l)},"setTexture"),setFrame:r(function(o,l,a){return l===void 0&&(l=!0),a===void 0&&(a=!0),o instanceof f?(this.texture=this.scene.sys.textures.get(o.texture.key),this.frame=o):this.frame=this.texture.get(o),!this.frame.cutWidth||!this.frame.cutHeight?this.renderFlags&=~y:this.renderFlags|=y,this._sizeComponent&&l&&this.setSizeToFrame(),this._originComponent&&a&&(this.frame.customPivot?this.setOrigin(this.frame.pivotX,this.frame.pivotY):this.updateDisplayOrigin()),this.isCropped&&this.frame.updateCropUVs(this._crop,this.flipX,this.flipY),this},"setFrame"),resetCropObject:r(function(){return{u0:0,v0:0,u1:0,v1:0,width:0,height:0,x:0,y:0,flipX:!1,flipY:!1,cx:0,cy:0,cw:0,ch:0}},"resetCropObject")};n.exports=c},27472:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={tintTopLeft:16777215,tintTopRight:16777215,tintBottomLeft:16777215,tintBottomRight:16777215,tintFill:!1,clearTint:r(function(){return this.setTint(16777215),this},"clearTint"),setTint:r(function(i,f,y,c){return i===void 0&&(i=16777215),f===void 0&&(f=i,y=i,c=i),this.tintTopLeft=i,this.tintTopRight=f,this.tintBottomLeft=y,this.tintBottomRight=c,this.tintFill=!1,this},"setTint"),setTintFill:r(function(i,f,y,c){return this.setTint(i,f,y,c),this.tintFill=!0,this},"setTintFill"),tint:{get:r(function(){return this.tintTopLeft},"get"),set:r(function(i){this.setTint(i,i,i,i)},"set")},isTinted:{get:r(function(){var i=16777215;return this.tintFill||this.tintTopLeft!==i||this.tintTopRight!==i||this.tintBottomLeft!==i||this.tintBottomRight!==i},"get")}};n.exports=T},53774:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i){var f={name:i.name,type:i.type,x:i.x,y:i.y,depth:i.depth,scale:{x:i.scaleX,y:i.scaleY},origin:{x:i.originX,y:i.originY},flipX:i.flipX,flipY:i.flipY,rotation:i.rotation,alpha:i.alpha,visible:i.visible,blendMode:i.blendMode,textureKey:"",frameKey:"",data:{}};return i.texture&&(f.textureKey=i.texture.key,f.frameKey=i.frame.name),f},"ToJSON");n.exports=T},16901:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(36383),y=i(61340),c=i(85955),o=i(86554),l=i(30954),a=i(26099),u=4,v={hasTransformComponent:!0,_scaleX:1,_scaleY:1,_rotation:0,x:0,y:0,z:0,w:0,scale:{get:r(function(){return(this._scaleX+this._scaleY)/2},"get"),set:r(function(d){this._scaleX=d,this._scaleY=d,d===0?this.renderFlags&=~u:this.renderFlags|=u},"set")},scaleX:{get:r(function(){return this._scaleX},"get"),set:r(function(d){this._scaleX=d,d===0?this.renderFlags&=~u:this._scaleY!==0&&(this.renderFlags|=u)},"set")},scaleY:{get:r(function(){return this._scaleY},"get"),set:r(function(d){this._scaleY=d,d===0?this.renderFlags&=~u:this._scaleX!==0&&(this.renderFlags|=u)},"set")},angle:{get:r(function(){return l(this._rotation*f.RAD_TO_DEG)},"get"),set:r(function(d){this.rotation=l(d)*f.DEG_TO_RAD},"set")},rotation:{get:r(function(){return this._rotation},"get"),set:r(function(d){this._rotation=o(d)},"set")},setPosition:r(function(d,p,g,m){return d===void 0&&(d=0),p===void 0&&(p=d),g===void 0&&(g=0),m===void 0&&(m=0),this.x=d,this.y=p,this.z=g,this.w=m,this},"setPosition"),copyPosition:r(function(d){return d.x!==void 0&&(this.x=d.x),d.y!==void 0&&(this.y=d.y),d.z!==void 0&&(this.z=d.z),d.w!==void 0&&(this.w=d.w),this},"copyPosition"),setRandomPosition:r(function(d,p,g,m){return d===void 0&&(d=0),p===void 0&&(p=0),g===void 0&&(g=this.scene.sys.scale.width),m===void 0&&(m=this.scene.sys.scale.height),this.x=d+Math.random()*g,this.y=p+Math.random()*m,this},"setRandomPosition"),setRotation:r(function(d){return d===void 0&&(d=0),this.rotation=d,this},"setRotation"),setAngle:r(function(d){return d===void 0&&(d=0),this.angle=d,this},"setAngle"),setScale:r(function(d,p){return d===void 0&&(d=1),p===void 0&&(p=d),this.scaleX=d,this.scaleY=p,this},"setScale"),setX:r(function(d){return d===void 0&&(d=0),this.x=d,this},"setX"),setY:r(function(d){return d===void 0&&(d=0),this.y=d,this},"setY"),setZ:r(function(d){return d===void 0&&(d=0),this.z=d,this},"setZ"),setW:r(function(d){return d===void 0&&(d=0),this.w=d,this},"setW"),getLocalTransformMatrix:r(function(d){return d===void 0&&(d=new y),d.applyITRS(this.x,this.y,this._rotation,this._scaleX,this._scaleY)},"getLocalTransformMatrix"),getWorldTransformMatrix:r(function(d,p){d===void 0&&(d=new y);var g=this.parentContainer;if(!g)return this.getLocalTransformMatrix(d);for(p||(p=new y),d.applyITRS(this.x,this.y,this._rotation,this._scaleX,this._scaleY);g;)p.applyITRS(g.x,g.y,g._rotation,g._scaleX,g._scaleY),p.multiply(d,d),g=g.parentContainer;return d},"getWorldTransformMatrix"),getLocalPoint:r(function(d,p,g,m){g||(g=new a),m||(m=this.scene.sys.cameras.main);var x=m.scrollX,C=m.scrollY,P=d+x*this.scrollFactorX-x,A=p+C*this.scrollFactorY-C;return this.parentContainer?this.getWorldTransformMatrix().applyInverse(P,A,g):c(P,A,this.x,this.y,this.rotation,this.scaleX,this.scaleY,g),this._originComponent&&(g.x+=this._displayOriginX,g.y+=this._displayOriginY),g},"getLocalPoint"),getParentRotation:r(function(){for(var d=0,p=this.parentContainer;p;)d+=p.rotation,p=p.parentContainer;return d},"getParentRotation")};n.exports=v},61340:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(83419),y=i(36383),c=i(26099),o=new f({initialize:r(function(a,u,v,d,p,g){a===void 0&&(a=1),u===void 0&&(u=0),v===void 0&&(v=0),d===void 0&&(d=1),p===void 0&&(p=0),g===void 0&&(g=0),this.matrix=new Float32Array([a,u,v,d,p,g,0,0,1]),this.decomposedMatrix={translateX:0,translateY:0,scaleX:1,scaleY:1,rotation:0},this.quad=new Float32Array(8)},"TransformMatrix"),a:{get:r(function(){return this.matrix[0]},"get"),set:r(function(l){this.matrix[0]=l},"set")},b:{get:r(function(){return this.matrix[1]},"get"),set:r(function(l){this.matrix[1]=l},"set")},c:{get:r(function(){return this.matrix[2]},"get"),set:r(function(l){this.matrix[2]=l},"set")},d:{get:r(function(){return this.matrix[3]},"get"),set:r(function(l){this.matrix[3]=l},"set")},e:{get:r(function(){return this.matrix[4]},"get"),set:r(function(l){this.matrix[4]=l},"set")},f:{get:r(function(){return this.matrix[5]},"get"),set:r(function(l){this.matrix[5]=l},"set")},tx:{get:r(function(){return this.matrix[4]},"get"),set:r(function(l){this.matrix[4]=l},"set")},ty:{get:r(function(){return this.matrix[5]},"get"),set:r(function(l){this.matrix[5]=l},"set")},rotation:{get:r(function(){return Math.acos(this.a/this.scaleX)*(Math.atan(-this.c/this.a)<0?-1:1)},"get")},rotationNormalized:{get:r(function(){var l=this.matrix,a=l[0],u=l[1],v=l[2],d=l[3];return a||u?u>0?Math.acos(a/this.scaleX):-Math.acos(a/this.scaleX):v||d?y.TAU-(d>0?Math.acos(-v/this.scaleY):-Math.acos(v/this.scaleY)):0},"get")},scaleX:{get:r(function(){return Math.sqrt(this.a*this.a+this.b*this.b)},"get")},scaleY:{get:r(function(){return Math.sqrt(this.c*this.c+this.d*this.d)},"get")},loadIdentity:r(function(){var l=this.matrix;return l[0]=1,l[1]=0,l[2]=0,l[3]=1,l[4]=0,l[5]=0,this},"loadIdentity"),translate:r(function(l,a){var u=this.matrix;return u[4]=u[0]*l+u[2]*a+u[4],u[5]=u[1]*l+u[3]*a+u[5],this},"translate"),scale:r(function(l,a){var u=this.matrix;return u[0]*=l,u[1]*=l,u[2]*=a,u[3]*=a,this},"scale"),rotate:r(function(l){var a=Math.sin(l),u=Math.cos(l),v=this.matrix,d=v[0],p=v[1],g=v[2],m=v[3];return v[0]=d*u+g*a,v[1]=p*u+m*a,v[2]=d*-a+g*u,v[3]=p*-a+m*u,this},"rotate"),multiply:r(function(l,a){var u=this.matrix,v=l.matrix,d=u[0],p=u[1],g=u[2],m=u[3],x=u[4],C=u[5],P=v[0],A=v[1],R=v[2],L=v[3],O=v[4],w=v[5],b=a===void 0?u:a.matrix;return b[0]=P*d+A*g,b[1]=P*p+A*m,b[2]=R*d+L*g,b[3]=R*p+L*m,b[4]=O*d+w*g+x,b[5]=O*p+w*m+C,b},"multiply"),multiplyWithOffset:r(function(l,a,u){var v=this.matrix,d=l.matrix,p=v[0],g=v[1],m=v[2],x=v[3],C=v[4],P=v[5],A=a*p+u*m+C,R=a*g+u*x+P,L=d[0],O=d[1],w=d[2],b=d[3],F=d[4],M=d[5];return v[0]=L*p+O*m,v[1]=L*g+O*x,v[2]=w*p+b*m,v[3]=w*g+b*x,v[4]=F*p+M*m+A,v[5]=F*g+M*x+R,this},"multiplyWithOffset"),transform:r(function(l,a,u,v,d,p){var g=this.matrix,m=g[0],x=g[1],C=g[2],P=g[3],A=g[4],R=g[5];return g[0]=l*m+a*C,g[1]=l*x+a*P,g[2]=u*m+v*C,g[3]=u*x+v*P,g[4]=d*m+p*C+A,g[5]=d*x+p*P+R,this},"transform"),transformPoint:r(function(l,a,u){u===void 0&&(u={x:0,y:0});var v=this.matrix,d=v[0],p=v[1],g=v[2],m=v[3],x=v[4],C=v[5];return u.x=l*d+a*g+x,u.y=l*p+a*m+C,u},"transformPoint"),invert:r(function(){var l=this.matrix,a=l[0],u=l[1],v=l[2],d=l[3],p=l[4],g=l[5],m=a*d-u*v;return l[0]=d/m,l[1]=-u/m,l[2]=-v/m,l[3]=a/m,l[4]=(v*g-d*p)/m,l[5]=-(a*g-u*p)/m,this},"invert"),copyFrom:r(function(l){var a=this.matrix;return a[0]=l.a,a[1]=l.b,a[2]=l.c,a[3]=l.d,a[4]=l.e,a[5]=l.f,this},"copyFrom"),copyFromArray:r(function(l){var a=this.matrix;return a[0]=l[0],a[1]=l[1],a[2]=l[2],a[3]=l[3],a[4]=l[4],a[5]=l[5],this},"copyFromArray"),copyToContext:r(function(l){var a=this.matrix;return l.transform(a[0],a[1],a[2],a[3],a[4],a[5]),l},"copyToContext"),setToContext:r(function(l){return l.setTransform(this),l},"setToContext"),copyToArray:r(function(l){var a=this.matrix;return l===void 0?l=[a[0],a[1],a[2],a[3],a[4],a[5]]:(l[0]=a[0],l[1]=a[1],l[2]=a[2],l[3]=a[3],l[4]=a[4],l[5]=a[5]),l},"copyToArray"),setTransform:r(function(l,a,u,v,d,p){var g=this.matrix;return g[0]=l,g[1]=a,g[2]=u,g[3]=v,g[4]=d,g[5]=p,this},"setTransform"),decomposeMatrix:r(function(){var l=this.decomposedMatrix,a=this.matrix,u=a[0],v=a[1],d=a[2],p=a[3],g=u*p-v*d;if(l.translateX=a[4],l.translateY=a[5],u||v){var m=Math.sqrt(u*u+v*v);l.rotation=v>0?Math.acos(u/m):-Math.acos(u/m),l.scaleX=m,l.scaleY=g/m}else if(d||p){var x=Math.sqrt(d*d+p*p);l.rotation=Math.PI*.5-(p>0?Math.acos(-d/x):-Math.acos(d/x)),l.scaleX=g/x,l.scaleY=x}else l.rotation=0,l.scaleX=0,l.scaleY=0;return l},"decomposeMatrix"),applyITRS:r(function(l,a,u,v,d){var p=this.matrix,g=Math.sin(u),m=Math.cos(u);return p[4]=l,p[5]=a,p[0]=m*v,p[1]=g*v,p[2]=-g*d,p[3]=m*d,this},"applyITRS"),applyInverse:r(function(l,a,u){u===void 0&&(u=new c);var v=this.matrix,d=v[0],p=v[1],g=v[2],m=v[3],x=v[4],C=v[5],P=1/(d*m+g*-p);return u.x=m*P*l+-g*P*a+(C*g-x*m)*P,u.y=d*P*a+-p*P*l+(-C*d+x*p)*P,u},"applyInverse"),setQuad:r(function(l,a,u,v,d,p){d===void 0&&(d=!1),p===void 0&&(p=this.quad);var g=this.matrix,m=g[0],x=g[1],C=g[2],P=g[3],A=g[4],R=g[5];return d?(p[0]=Math.round(l*m+a*C+A),p[1]=Math.round(l*x+a*P+R),p[2]=Math.round(l*m+v*C+A),p[3]=Math.round(l*x+v*P+R),p[4]=Math.round(u*m+v*C+A),p[5]=Math.round(u*x+v*P+R),p[6]=Math.round(u*m+a*C+A),p[7]=Math.round(u*x+a*P+R)):(p[0]=l*m+a*C+A,p[1]=l*x+a*P+R,p[2]=l*m+v*C+A,p[3]=l*x+v*P+R,p[4]=u*m+v*C+A,p[5]=u*x+v*P+R,p[6]=u*m+a*C+A,p[7]=u*x+a*P+R),p},"setQuad"),getX:r(function(l,a){return l*this.a+a*this.c+this.e},"getX"),getY:r(function(l,a){return l*this.b+a*this.d+this.f},"getY"),getXRound:r(function(l,a,u){var v=this.getX(l,a);return u&&(v=Math.round(v)),v},"getXRound"),getYRound:r(function(l,a,u){var v=this.getY(l,a);return u&&(v=Math.round(v)),v},"getYRound"),getCSSMatrix:r(function(){var l=this.matrix;return"matrix("+l[0]+","+l[1]+","+l[2]+","+l[3]+","+l[4]+","+l[5]+")"},"getCSSMatrix"),destroy:r(function(){this.matrix=null,this.quad=null,this.decomposedMatrix=null},"destroy")});n.exports=o},59715:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=1,i={_visible:!0,visible:{get:r(function(){return this._visible},"get"),set:r(function(f){f?(this._visible=!0,this.renderFlags|=T):(this._visible=!1,this.renderFlags&=~T)},"set")},setVisible:r(function(f){return this.visible=f,this},"setVisible")};n.exports=i},31401:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={Alpha:i(16005),AlphaSingle:i(88509),BlendMode:i(90065),ComputedSize:i(94215),Crop:i(61683),Depth:i(89272),Flip:i(54434),FX:i(47059),GetBounds:i(8004),Mask:i(8573),Origin:i(27387),PathFollower:i(37640),Pipeline:i(72699),PostPipeline:i(17581),ScrollFactor:i(80227),Size:i(16736),Texture:i(37726),TextureCrop:i(79812),Tint:i(27472),ToJSON:i(53774),Transform:i(16901),TransformMatrix:i(61340),Visible:i(59715)}},31559:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(37105),y=i(10312),c=i(83419),o=i(31401),l=i(51708),a=i(95643),u=i(87841),v=i(29959),d=i(36899),p=i(26099),g=new c({Extends:a,Mixins:[o.AlphaSingle,o.BlendMode,o.ComputedSize,o.Depth,o.Mask,o.PostPipeline,o.Transform,o.Visible,v],initialize:r(function(x,C,P,A){a.call(this,x,"Container"),this.list=[],this.exclusive=!0,this.maxSize=-1,this.position=0,this.localTransform=new o.TransformMatrix,this.tempTransformMatrix=new o.TransformMatrix,this._sortKey="",this._sysEvents=x.sys.events,this.scrollFactorX=1,this.scrollFactorY=1,this.initPostPipeline(),this.setPosition(C,P),this.setBlendMode(y.SKIP_CHECK),A&&this.add(A)},"Container"),originX:{get:r(function(){return .5},"get")},originY:{get:r(function(){return .5},"get")},displayOriginX:{get:r(function(){return this.width*.5},"get")},displayOriginY:{get:r(function(){return this.height*.5},"get")},setExclusive:r(function(m){return m===void 0&&(m=!0),this.exclusive=m,this},"setExclusive"),getBounds:r(function(m){if(m===void 0&&(m=new u),m.setTo(this.x,this.y,0,0),this.parentContainer){var x=this.parentContainer.getBoundsTransformMatrix(),C=x.transformPoint(this.x,this.y);m.setTo(C.x,C.y,0,0)}if(this.list.length>0){var P=this.list,A=new u,R=!1;m.setEmpty();for(var L=0;L<P.length;L++){var O=P[L];O.getBounds&&(O.getBounds(A),R?d(A,m,m):(m.setTo(A.x,A.y,A.width,A.height),R=!0))}}return m},"getBounds"),addHandler:r(function(m){m.once(l.DESTROY,this.onChildDestroyed,this),this.exclusive&&(m.parentContainer&&m.parentContainer.remove(m),m.parentContainer=this,m.removeFromDisplayList(),m.addedToScene())},"addHandler"),removeHandler:r(function(m){m.off(l.DESTROY,this.remove,this),this.exclusive&&(m.parentContainer=null,m.removedFromScene(),m.addToDisplayList())},"removeHandler"),pointToContainer:r(function(m,x){x===void 0&&(x=new p),this.parentContainer?this.parentContainer.pointToContainer(m,x):(x.x=m.x,x.y=m.y);var C=this.tempTransformMatrix;return C.applyITRS(this.x,this.y,this.rotation,this.scaleX,this.scaleY),C.invert(),C.transformPoint(m.x,m.y,x),x},"pointToContainer"),getBoundsTransformMatrix:r(function(){return this.getWorldTransformMatrix(this.tempTransformMatrix,this.localTransform)},"getBoundsTransformMatrix"),add:r(function(m){return f.Add(this.list,m,this.maxSize,this.addHandler,this),this},"add"),addAt:r(function(m,x){return f.AddAt(this.list,m,x,this.maxSize,this.addHandler,this),this},"addAt"),getAt:r(function(m){return this.list[m]},"getAt"),getIndex:r(function(m){return this.list.indexOf(m)},"getIndex"),sort:r(function(m,x){return m?(x===void 0&&(x=r(function(C,P){return C[m]-P[m]},"handler")),f.StableSort(this.list,x),this):this},"sort"),getByName:r(function(m){return f.GetFirst(this.list,"name",m)},"getByName"),getRandom:r(function(m,x){return f.GetRandom(this.list,m,x)},"getRandom"),getFirst:r(function(m,x,C,P){return f.GetFirst(this.list,m,x,C,P)},"getFirst"),getAll:r(function(m,x,C,P){return f.GetAll(this.list,m,x,C,P)},"getAll"),count:r(function(m,x,C,P){return f.CountAllMatching(this.list,m,x,C,P)},"count"),swap:r(function(m,x){return f.Swap(this.list,m,x),this},"swap"),moveTo:r(function(m,x){return f.MoveTo(this.list,m,x),this},"moveTo"),moveAbove:r(function(m,x){return f.MoveAbove(this.list,m,x),this},"moveAbove"),moveBelow:r(function(m,x){return f.MoveBelow(this.list,m,x),this},"moveBelow"),remove:r(function(m,x){var C=f.Remove(this.list,m,this.removeHandler,this);if(x&&C){Array.isArray(C)||(C=[C]);for(var P=0;P<C.length;P++)C[P].destroy()}return this},"remove"),removeAt:r(function(m,x){var C=f.RemoveAt(this.list,m,this.removeHandler,this);return x&&C&&C.destroy(),this},"removeAt"),removeBetween:r(function(m,x,C){var P=f.RemoveBetween(this.list,m,x,this.removeHandler,this);if(C)for(var A=0;A<P.length;A++)P[A].destroy();return this},"removeBetween"),removeAll:r(function(m){var x=this.list;if(m){for(var C=0;C<x.length;C++)x[C]&&x[C].scene&&(x[C].off(l.DESTROY,this.onChildDestroyed,this),x[C].destroy());this.list=[]}else f.RemoveBetween(x,0,x.length,this.removeHandler,this);return this},"removeAll"),bringToTop:r(function(m){return f.BringToTop(this.list,m),this},"bringToTop"),sendToBack:r(function(m){return f.SendToBack(this.list,m),this},"sendToBack"),moveUp:r(function(m){return f.MoveUp(this.list,m),this},"moveUp"),moveDown:r(function(m){return f.MoveDown(this.list,m),this},"moveDown"),reverse:r(function(){return this.list.reverse(),this},"reverse"),shuffle:r(function(){return f.Shuffle(this.list),this},"shuffle"),replace:r(function(m,x,C){var P=f.Replace(this.list,m,x);return P&&(this.addHandler(x),this.removeHandler(m),C&&m.destroy()),this},"replace"),exists:r(function(m){return this.list.indexOf(m)>-1},"exists"),setAll:r(function(m,x,C,P){return f.SetAll(this.list,m,x,C,P),this},"setAll"),each:r(function(m,x){var C=[null],P,A=this.list.slice(),R=A.length;for(P=2;P<arguments.length;P++)C.push(arguments[P]);for(P=0;P<R;P++)C[0]=A[P],m.apply(x,C);return this},"each"),iterate:r(function(m,x){var C=[null],P;for(P=2;P<arguments.length;P++)C.push(arguments[P]);for(P=0;P<this.list.length;P++)C[0]=this.list[P],m.apply(x,C);return this},"iterate"),setScrollFactor:r(function(m,x,C){return x===void 0&&(x=m),C===void 0&&(C=!1),this.scrollFactorX=m,this.scrollFactorY=x,C&&(f.SetAll(this.list,"scrollFactorX",m),f.SetAll(this.list,"scrollFactorY",x)),this},"setScrollFactor"),length:{get:r(function(){return this.list.length},"get")},first:{get:r(function(){return this.position=0,this.list.length>0?this.list[0]:null},"get")},last:{get:r(function(){return this.list.length>0?(this.position=this.list.length-1,this.list[this.position]):null},"get")},next:{get:r(function(){return this.position<this.list.length?(this.position++,this.list[this.position]):null},"get")},previous:{get:r(function(){return this.position>0?(this.position--,this.list[this.position]):null},"get")},preDestroy:r(function(){this.removeAll(!!this.exclusive),this.localTransform.destroy(),this.tempTransformMatrix.destroy(),this.list=[]},"preDestroy"),onChildDestroyed:r(function(m){f.Remove(this.list,m),this.exclusive&&(m.parentContainer=null,m.removedFromScene())},"onChildDestroyed")});n.exports=g},53584:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i,f,y,c){y.addToRenderList(f);var o=f.list;if(o.length!==0){var l=f.localTransform;c?(l.loadIdentity(),l.multiply(c),l.translate(f.x,f.y),l.rotate(f.rotation),l.scale(f.scaleX,f.scaleY)):l.applyITRS(f.x,f.y,f.rotation,f.scaleX,f.scaleY);var a=f.blendMode!==-1;a||i.setBlendMode(0);var u=f._alpha,v=f.scrollFactorX,d=f.scrollFactorY;f.mask&&f.mask.preRenderCanvas(i,null,y);for(var p=0;p<o.length;p++){var g=o[p];if(g.willRender(y)){var m=g.alpha,x=g.scrollFactorX,C=g.scrollFactorY;!a&&g.blendMode!==i.currentBlendMode&&i.setBlendMode(g.blendMode),g.setScrollFactor(x*v,C*d),g.setAlpha(m*u),g.renderCanvas(i,g,y,l),g.setAlpha(m),g.setScrollFactor(x,C)}}f.mask&&f.mask.postRenderCanvas(i)}},"ContainerCanvasRenderer");n.exports=T},77143:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(25305),y=i(31559),c=i(44603),o=i(23568),l=i(95540);c.register("container",function(a,u){a===void 0&&(a={});var v=o(a,"x",0),d=o(a,"y",0),p=l(a,"children",null),g=new y(this.scene,v,d,p);return u!==void 0&&(a.add=u),f(this.scene,g,a),g})},24961:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(31559),y=i(39429);y.register("container",function(c,o,l){return this.displayList.add(new f(this.scene,c,o,l))})},29959:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(29747),y=f,c=f;y=i(72249),c=i(53584),n.exports={renderWebGL:y,renderCanvas:c}},72249:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i,f,y,c){y.addToRenderList(f);var o=f.list,l=o.length;if(l!==0){var a=f.localTransform;c?(a.loadIdentity(),a.multiply(c),a.translate(f.x,f.y),a.rotate(f.rotation),a.scale(f.scaleX,f.scaleY)):a.applyITRS(f.x,f.y,f.rotation,f.scaleX,f.scaleY),i.pipelines.preBatch(f);var u=f.blendMode!==-1;u||i.setBlendMode(0);for(var v=f.alpha,d=f.scrollFactorX,p=f.scrollFactorY,g=0;g<l;g++){var m=o[g];if(m.willRender(y)){var x,C,P,A;if(m.alphaTopLeft!==void 0)x=m.alphaTopLeft,C=m.alphaTopRight,P=m.alphaBottomLeft,A=m.alphaBottomRight;else{var R=m.alpha;x=R,C=R,P=R,A=R}var L=m.scrollFactorX,O=m.scrollFactorY;!u&&m.blendMode!==i.currentBlendMode&&i.setBlendMode(m.blendMode);var w=m.mask;w&&w.preRenderWebGL(i,m,y);var b=m.type;b!==i.currentType&&(i.newType=!0,i.currentType=b),i.nextTypeMatch=g<l-1?o[g+1].type===i.currentType:!1,m.setScrollFactor(L*d,O*p),m.setAlpha(x*v,C*v,P*v,A*v),m.renderWebGL(i,m,y,a,f),m.setAlpha(x,C,P,A),m.setScrollFactor(L,O),w&&w.postRenderWebGL(i,y),i.newType=!1}}i.pipelines.postBatch(f)}},"ContainerWebGLRenderer");n.exports=T},47407:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports=["normal","multiply","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"]},3069:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(83419),y=i(31401),c=i(441),o=i(95643),l=i(41212),a=i(35846),u=i(44594),v=i(61369),d=new f({Extends:o,Mixins:[y.AlphaSingle,y.BlendMode,y.Depth,y.Origin,y.ScrollFactor,y.Transform,y.Visible,c],initialize:r(function(g,m,x,C,P,A){o.call(this,g,"DOMElement"),this.parent=g.sys.game.domContainer,this.cache=g.sys.cache.html,this.node,this.transformOnly=!1,this.skewX=0,this.skewY=0,this.rotate3d=new v,this.rotate3dAngle="deg",this.pointerEvents="auto",this.width=0,this.height=0,this.displayWidth=0,this.displayHeight=0,this.handler=this.dispatchNativeEvent.bind(this),this.setPosition(m,x),typeof C=="string"?C[0]==="#"?this.setElement(C.substr(1),P,A):this.createElement(C,P,A):C&&this.setElement(C,P,A),g.sys.events.on(u.SLEEP,this.handleSceneEvent,this),g.sys.events.on(u.WAKE,this.handleSceneEvent,this),g.sys.events.on(u.PRE_RENDER,this.preRender,this)},"DOMElement"),handleSceneEvent:r(function(p){var g=this.node,m=g.style;g&&(m.display=p.settings.visible?"block":"none")},"handleSceneEvent"),setSkew:r(function(p,g){return p===void 0&&(p=0),g===void 0&&(g=p),this.skewX=p,this.skewY=g,this},"setSkew"),setPerspective:r(function(p){return this.parent.style.perspective=p+"px",this},"setPerspective"),perspective:{get:r(function(){return parseFloat(this.parent.style.perspective)},"get"),set:r(function(p){this.parent.style.perspective=p+"px"},"set")},addListener:r(function(p){if(this.node){p=p.split(" ");for(var g=0;g<p.length;g++)this.node.addEventListener(p[g],this.handler,!1)}return this},"addListener"),removeListener:r(function(p){if(this.node){p=p.split(" ");for(var g=0;g<p.length;g++)this.node.removeEventListener(p[g],this.handler)}return this},"removeListener"),dispatchNativeEvent:r(function(p){this.emit(p.type,p)},"dispatchNativeEvent"),createElement:r(function(p,g,m){return this.setElement(document.createElement(p),g,m)},"createElement"),setElement:r(function(p,g,m){this.removeElement();var x;if(typeof p=="string"?(p[0]==="#"&&(p=p.substr(1)),x=document.getElementById(p)):typeof p=="object"&&p.nodeType===1&&(x=p),!x)return this;if(this.node=x,g&&l(g))for(var C in g)x.style[C]=g[C];else typeof g=="string"&&(x.style=g);return x.style.zIndex="0",x.style.display="inline",x.style.position="absolute",x.phaser=this,this.parent&&this.parent.appendChild(x),m&&(x.innerText=m),this.updateSize()},"setElement"),createFromCache:r(function(p,g){var m=this.cache.get(p);return m&&this.createFromHTML(m,g),this},"createFromCache"),createFromHTML:r(function(p,g){g===void 0&&(g="div"),this.removeElement();var m=document.createElement(g);return this.node=m,m.style.zIndex="0",m.style.display="inline",m.style.position="absolute",m.phaser=this,this.parent&&this.parent.appendChild(m),m.innerHTML=p,this.updateSize()},"createFromHTML"),removeElement:r(function(){return this.node&&(a(this.node),this.node=null),this},"removeElement"),updateSize:r(function(){var p=this.node,g=p.getBoundingClientRect();return this.width=p.clientWidth,this.height=p.clientHeight,this.displayWidth=g.width||0,this.displayHeight=g.height||0,this},"updateSize"),getChildByProperty:r(function(p,g){if(this.node){for(var m=this.node.querySelectorAll("*"),x=0;x<m.length;x++)if(m[x][p]===g)return m[x]}return null},"getChildByProperty"),getChildByID:r(function(p){return this.getChildByProperty("id",p)},"getChildByID"),getChildByName:r(function(p){return this.getChildByProperty("name",p)},"getChildByName"),setClassName:r(function(p){return this.node&&(this.node.className=p,this.updateSize()),this},"setClassName"),setText:r(function(p){return this.node&&(this.node.innerText=p,this.updateSize()),this},"setText"),setHTML:r(function(p){return this.node&&(this.node.innerHTML=p,this.updateSize()),this},"setHTML"),preRender:r(function(){var p=this.parentContainer,g=this.node;g&&p&&!p.willRender()&&(g.style.display="none")},"preRender"),willRender:r(function(){return!0},"willRender"),preDestroy:r(function(){this.removeElement(),this.scene.sys.events.off(u.SLEEP,this.handleSceneEvent,this),this.scene.sys.events.off(u.WAKE,this.handleSceneEvent,this),this.scene.sys.events.off(u.PRE_RENDER,this.preRender,this)},"preDestroy")});n.exports=d},49381:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(47407),y=i(95643),c=i(61340),o=new c,l=new c,a=new c,u=r(function(v,d,p,g){if(d.node){var m=d.node.style,x=d.scene.sys.settings;if(!m||!x.visible||y.RENDER_MASK!==d.renderFlags||d.cameraFilter!==0&&d.cameraFilter&p.id||d.parentContainer&&!d.parentContainer.willRender()){m.display="none";return}var C=d.parentContainer,P=p.alpha*d.alpha;C&&(P*=C.alpha);var A=o,R=l,L=a,O=0,w=0,b="0%",F="0%";g?(O=d.width*d.scaleX*d.originX,w=d.height*d.scaleY*d.originY,R.applyITRS(d.x-O,d.y-w,d.rotation,d.scaleX,d.scaleY),A.copyFrom(p.matrix),A.multiplyWithOffset(g,-p.scrollX*d.scrollFactorX,-p.scrollY*d.scrollFactorY),R.e=d.x-O,R.f=d.y-w,A.multiply(R,L)):(O=d.width*d.originX,w=d.height*d.originY,R.applyITRS(d.x-O,d.y-w,d.rotation,d.scaleX,d.scaleY),A.copyFrom(p.matrix),b=100*d.originX+"%",F=100*d.originY+"%",R.e-=p.scrollX*d.scrollFactorX,R.f-=p.scrollY*d.scrollFactorY,A.multiply(R,L)),d.transformOnly||(m.display="block",m.opacity=P,m.zIndex=d._depth,m.pointerEvents=d.pointerEvents,m.mixBlendMode=f[d._blendMode]),m.transform=L.getCSSMatrix()+" skew("+d.skewX+"rad, "+d.skewY+"rad) rotate3d("+d.rotate3d.x+","+d.rotate3d.y+","+d.rotate3d.z+","+d.rotate3d.w+d.rotate3dAngle+")",m.transformOrigin=b+" "+F}},"DOMElementCSSRenderer");n.exports=u},2611:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(3069),y=i(39429);y.register("dom",function(c,o,l,a,u){var v=new f(this.scene,c,o,l,a,u);return this.displayList.add(v),v})},441:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(29747),y=f,c=f;y=i(49381),c=i(49381),n.exports={renderWebGL:y,renderCanvas:c}},62980:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="addedtoscene"},41337:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="destroy"},44947:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="removedfromscene"},49358:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="complete"},35163:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="created"},97249:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="error"},19483:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="locked"},56059:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="loop"},26772:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="metadata"},64437:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="playing"},83411:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="play"},75780:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="seeked"},67799:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="seeking"},63500:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="stalled"},55541:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="stop"},53208:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="textureready"},4992:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="unlocked"},12:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="unsupported"},51708:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={ADDED_TO_SCENE:i(62980),DESTROY:i(41337),REMOVED_FROM_SCENE:i(44947),VIDEO_COMPLETE:i(49358),VIDEO_CREATED:i(35163),VIDEO_ERROR:i(97249),VIDEO_LOCKED:i(19483),VIDEO_LOOP:i(56059),VIDEO_METADATA:i(26772),VIDEO_PLAY:i(83411),VIDEO_PLAYING:i(64437),VIDEO_SEEKED:i(75780),VIDEO_SEEKING:i(67799),VIDEO_STALLED:i(63500),VIDEO_STOP:i(55541),VIDEO_TEXTURE:i(53208),VIDEO_UNLOCKED:i(4992),VIDEO_UNSUPPORTED:i(12)}},42421:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(83419),y=i(31401),c=i(95643),o=i(64993),l=new f({Extends:c,Mixins:[y.Alpha,y.BlendMode,y.Depth,y.Flip,y.Origin,y.ScrollFactor,y.Size,y.Texture,y.Tint,y.Transform,y.Visible,o],initialize:r(function(u){c.call(this,u,"Extern")},"Extern"),addedToScene:r(function(){this.scene.sys.updateList.add(this)},"addedToScene"),removedFromScene:r(function(){this.scene.sys.updateList.remove(this)},"removedFromScene"),preUpdate:r(function(){},"preUpdate"),render:r(function(){},"render")});n.exports=l},70217:()=>{},56315:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(42421),y=i(39429);y.register("extern",function(){var c=new f(this.scene);return this.displayList.add(c),c})},64993:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(29747),y=f,c=f;y=i(80287),c=i(70217),n.exports={renderWebGL:y,renderCanvas:c}},80287:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(91296),y=r(function(c,o,l,a){c.pipelines.clear();var u=f(o,l,a).calc;o.render.call(o,c,l,u),c.pipelines.rebind()},"ExternWebGLRenderer");n.exports=y},85592:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={ARC:0,BEGIN_PATH:1,CLOSE_PATH:2,FILL_RECT:3,LINE_TO:4,MOVE_TO:5,LINE_STYLE:6,FILL_STYLE:7,FILL_PATH:8,STROKE_PATH:9,FILL_TRIANGLE:10,STROKE_TRIANGLE:11,SAVE:14,RESTORE:15,TRANSLATE:16,SCALE:17,ROTATE:18,GRADIENT_FILL_STYLE:21,GRADIENT_LINE_STYLE:22}},43831:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(71911),y=i(83419),c=i(85592),o=i(31401),l=i(8497),a=i(95643),u=i(95540),v=i(35154),d=i(36383),p=i(84503),g=new y({Extends:a,Mixins:[o.AlphaSingle,o.BlendMode,o.Depth,o.Mask,o.Pipeline,o.PostPipeline,o.Transform,o.Visible,o.ScrollFactor,p],initialize:r(function(x,C){var P=v(C,"x",0),A=v(C,"y",0);a.call(this,x,"Graphics"),this.setPosition(P,A),this.initPipeline(),this.initPostPipeline(),this.displayOriginX=0,this.displayOriginY=0,this.commandBuffer=[],this.defaultFillColor=-1,this.defaultFillAlpha=1,this.defaultStrokeWidth=1,this.defaultStrokeColor=-1,this.defaultStrokeAlpha=1,this._lineWidth=1,this.lineStyle(1,0,0),this.fillStyle(0,0),this.setDefaultStyles(C)},"Graphics"),setDefaultStyles:r(function(m){return v(m,"lineStyle",null)&&(this.defaultStrokeWidth=v(m,"lineStyle.width",1),this.defaultStrokeColor=v(m,"lineStyle.color",16777215),this.defaultStrokeAlpha=v(m,"lineStyle.alpha",1),this.lineStyle(this.defaultStrokeWidth,this.defaultStrokeColor,this.defaultStrokeAlpha)),v(m,"fillStyle",null)&&(this.defaultFillColor=v(m,"fillStyle.color",16777215),this.defaultFillAlpha=v(m,"fillStyle.alpha",1),this.fillStyle(this.defaultFillColor,this.defaultFillAlpha)),this},"setDefaultStyles"),lineStyle:r(function(m,x,C){return C===void 0&&(C=1),this.commandBuffer.push(c.LINE_STYLE,m,x,C),this._lineWidth=m,this},"lineStyle"),fillStyle:r(function(m,x){return x===void 0&&(x=1),this.commandBuffer.push(c.FILL_STYLE,m,x),this},"fillStyle"),fillGradientStyle:r(function(m,x,C,P,A,R,L,O){return A===void 0&&(A=1),R===void 0&&(R=A),L===void 0&&(L=A),O===void 0&&(O=A),this.commandBuffer.push(c.GRADIENT_FILL_STYLE,A,R,L,O,m,x,C,P),this},"fillGradientStyle"),lineGradientStyle:r(function(m,x,C,P,A,R){return R===void 0&&(R=1),this.commandBuffer.push(c.GRADIENT_LINE_STYLE,m,R,x,C,P,A),this},"lineGradientStyle"),beginPath:r(function(){return this.commandBuffer.push(c.BEGIN_PATH),this},"beginPath"),closePath:r(function(){return this.commandBuffer.push(c.CLOSE_PATH),this},"closePath"),fillPath:r(function(){return this.commandBuffer.push(c.FILL_PATH),this},"fillPath"),fill:r(function(){return this.commandBuffer.push(c.FILL_PATH),this},"fill"),strokePath:r(function(){return this.commandBuffer.push(c.STROKE_PATH),this},"strokePath"),stroke:r(function(){return this.commandBuffer.push(c.STROKE_PATH),this},"stroke"),fillCircleShape:r(function(m){return this.fillCircle(m.x,m.y,m.radius)},"fillCircleShape"),strokeCircleShape:r(function(m){return this.strokeCircle(m.x,m.y,m.radius)},"strokeCircleShape"),fillCircle:r(function(m,x,C){return this.beginPath(),this.arc(m,x,C,0,d.PI2),this.fillPath(),this},"fillCircle"),strokeCircle:r(function(m,x,C){return this.beginPath(),this.arc(m,x,C,0,d.PI2),this.strokePath(),this},"strokeCircle"),fillRectShape:r(function(m){return this.fillRect(m.x,m.y,m.width,m.height)},"fillRectShape"),strokeRectShape:r(function(m){return this.strokeRect(m.x,m.y,m.width,m.height)},"strokeRectShape"),fillRect:r(function(m,x,C,P){return this.commandBuffer.push(c.FILL_RECT,m,x,C,P),this},"fillRect"),strokeRect:r(function(m,x,C,P){var A=this._lineWidth/2,R=m-A,L=m+A;return this.beginPath(),this.moveTo(m,x),this.lineTo(m,x+P),this.strokePath(),this.beginPath(),this.moveTo(m+C,x),this.lineTo(m+C,x+P),this.strokePath(),this.beginPath(),this.moveTo(R,x),this.lineTo(L+C,x),this.strokePath(),this.beginPath(),this.moveTo(R,x+P),this.lineTo(L+C,x+P),this.strokePath(),this},"strokeRect"),fillRoundedRect:r(function(m,x,C,P,A){A===void 0&&(A=20);var R=A,L=A,O=A,w=A;typeof A!="number"&&(R=u(A,"tl",20),L=u(A,"tr",20),O=u(A,"bl",20),w=u(A,"br",20));var b=R>=0,F=L>=0,M=O>=0,I=w>=0;return R=Math.abs(R),L=Math.abs(L),O=Math.abs(O),w=Math.abs(w),this.beginPath(),this.moveTo(m+R,x),this.lineTo(m+C-L,x),F?this.arc(m+C-L,x+L,L,-d.TAU,0):this.arc(m+C,x,L,Math.PI,d.TAU,!0),this.lineTo(m+C,x+P-w),I?this.arc(m+C-w,x+P-w,w,0,d.TAU):this.arc(m+C,x+P,w,-d.TAU,Math.PI,!0),this.lineTo(m+O,x+P),M?this.arc(m+O,x+P-O,O,d.TAU,Math.PI):this.arc(m,x+P,O,0,-d.TAU,!0),this.lineTo(m,x+R),b?this.arc(m+R,x+R,R,-Math.PI,-d.TAU):this.arc(m,x,R,d.TAU,0,!0),this.fillPath(),this},"fillRoundedRect"),strokeRoundedRect:r(function(m,x,C,P,A){A===void 0&&(A=20);var R=A,L=A,O=A,w=A,b=Math.min(C,P)/2;typeof A!="number"&&(R=u(A,"tl",20),L=u(A,"tr",20),O=u(A,"bl",20),w=u(A,"br",20));var F=R>=0,M=L>=0,I=O>=0,B=w>=0;return R=Math.min(Math.abs(R),b),L=Math.min(Math.abs(L),b),O=Math.min(Math.abs(O),b),w=Math.min(Math.abs(w),b),this.beginPath(),this.moveTo(m+R,x),this.lineTo(m+C-L,x),this.moveTo(m+C-L,x),M?this.arc(m+C-L,x+L,L,-d.TAU,0):this.arc(m+C,x,L,Math.PI,d.TAU,!0),this.lineTo(m+C,x+P-w),this.moveTo(m+C,x+P-w),B?this.arc(m+C-w,x+P-w,w,0,d.TAU):this.arc(m+C,x+P,w,-d.TAU,Math.PI,!0),this.lineTo(m+O,x+P),this.moveTo(m+O,x+P),I?this.arc(m+O,x+P-O,O,d.TAU,Math.PI):this.arc(m,x+P,O,0,-d.TAU,!0),this.lineTo(m,x+R),this.moveTo(m,x+R),F?this.arc(m+R,x+R,R,-Math.PI,-d.TAU):this.arc(m,x,R,d.TAU,0,!0),this.strokePath(),this},"strokeRoundedRect"),fillPointShape:r(function(m,x){return this.fillPoint(m.x,m.y,x)},"fillPointShape"),fillPoint:r(function(m,x,C){return!C||C<1?C=1:(m-=C/2,x-=C/2),this.commandBuffer.push(c.FILL_RECT,m,x,C,C),this},"fillPoint"),fillTriangleShape:r(function(m){return this.fillTriangle(m.x1,m.y1,m.x2,m.y2,m.x3,m.y3)},"fillTriangleShape"),strokeTriangleShape:r(function(m){return this.strokeTriangle(m.x1,m.y1,m.x2,m.y2,m.x3,m.y3)},"strokeTriangleShape"),fillTriangle:r(function(m,x,C,P,A,R){return this.commandBuffer.push(c.FILL_TRIANGLE,m,x,C,P,A,R),this},"fillTriangle"),strokeTriangle:r(function(m,x,C,P,A,R){return this.commandBuffer.push(c.STROKE_TRIANGLE,m,x,C,P,A,R),this},"strokeTriangle"),strokeLineShape:r(function(m){return this.lineBetween(m.x1,m.y1,m.x2,m.y2)},"strokeLineShape"),lineBetween:r(function(m,x,C,P){return this.beginPath(),this.moveTo(m,x),this.lineTo(C,P),this.strokePath(),this},"lineBetween"),lineTo:r(function(m,x){return this.commandBuffer.push(c.LINE_TO,m,x),this},"lineTo"),moveTo:r(function(m,x){return this.commandBuffer.push(c.MOVE_TO,m,x),this},"moveTo"),strokePoints:r(function(m,x,C,P){x===void 0&&(x=!1),C===void 0&&(C=!1),P===void 0&&(P=m.length),this.beginPath(),this.moveTo(m[0].x,m[0].y);for(var A=1;A<P;A++)this.lineTo(m[A].x,m[A].y);return x&&this.lineTo(m[0].x,m[0].y),C&&this.closePath(),this.strokePath(),this},"strokePoints"),fillPoints:r(function(m,x,C,P){x===void 0&&(x=!1),C===void 0&&(C=!1),P===void 0&&(P=m.length),this.beginPath(),this.moveTo(m[0].x,m[0].y);for(var A=1;A<P;A++)this.lineTo(m[A].x,m[A].y);return x&&this.lineTo(m[0].x,m[0].y),C&&this.closePath(),this.fillPath(),this},"fillPoints"),strokeEllipseShape:r(function(m,x){x===void 0&&(x=32);var C=m.getPoints(x);return this.strokePoints(C,!0)},"strokeEllipseShape"),strokeEllipse:r(function(m,x,C,P,A){A===void 0&&(A=32);var R=new l(m,x,C,P),L=R.getPoints(A);return this.strokePoints(L,!0)},"strokeEllipse"),fillEllipseShape:r(function(m,x){x===void 0&&(x=32);var C=m.getPoints(x);return this.fillPoints(C,!0)},"fillEllipseShape"),fillEllipse:r(function(m,x,C,P,A){A===void 0&&(A=32);var R=new l(m,x,C,P),L=R.getPoints(A);return this.fillPoints(L,!0)},"fillEllipse"),arc:r(function(m,x,C,P,A,R,L){return R===void 0&&(R=!1),L===void 0&&(L=0),this.commandBuffer.push(c.ARC,m,x,C,P,A,R,L),this},"arc"),slice:r(function(m,x,C,P,A,R,L){return R===void 0&&(R=!1),L===void 0&&(L=0),this.commandBuffer.push(c.BEGIN_PATH),this.commandBuffer.push(c.MOVE_TO,m,x),this.commandBuffer.push(c.ARC,m,x,C,P,A,R,L),this.commandBuffer.push(c.CLOSE_PATH),this},"slice"),save:r(function(){return this.commandBuffer.push(c.SAVE),this},"save"),restore:r(function(){return this.commandBuffer.push(c.RESTORE),this},"restore"),translateCanvas:r(function(m,x){return this.commandBuffer.push(c.TRANSLATE,m,x),this},"translateCanvas"),scaleCanvas:r(function(m,x){return this.commandBuffer.push(c.SCALE,m,x),this},"scaleCanvas"),rotateCanvas:r(function(m){return this.commandBuffer.push(c.ROTATE,m),this},"rotateCanvas"),clear:r(function(){return this.commandBuffer.length=0,this.defaultFillColor>-1&&this.fillStyle(this.defaultFillColor,this.defaultFillAlpha),this.defaultStrokeColor>-1&&this.lineStyle(this.defaultStrokeWidth,this.defaultStrokeColor,this.defaultStrokeAlpha),this},"clear"),generateTexture:r(function(m,x,C){var P=this.scene.sys,A=P.game.renderer;x===void 0&&(x=P.scale.width),C===void 0&&(C=P.scale.height),g.TargetCamera.setScene(this.scene),g.TargetCamera.setViewport(0,0,x,C),g.TargetCamera.scrollX=this.x,g.TargetCamera.scrollY=this.y;var R,L,O={willReadFrequently:!0};if(typeof m=="string")if(P.textures.exists(m)){R=P.textures.get(m);var w=R.getSourceImage();w instanceof HTMLCanvasElement&&(L=w.getContext("2d",O))}else R=P.textures.createCanvas(m,x,C),L=R.getSourceImage().getContext("2d",O);else m instanceof HTMLCanvasElement&&(L=m.getContext("2d",O));return L&&(this.renderCanvas(A,this,g.TargetCamera,null,L,!1),R&&R.refresh()),this},"generateTexture"),preDestroy:r(function(){this.commandBuffer=[]},"preDestroy")});g.TargetCamera=new f,n.exports=g},32768:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(85592),y=i(20926),c=r(function(o,l,a,u,v,d){var p=l.commandBuffer,g=p.length,m=v||o.currentContext;if(!(g===0||!y(o,m,l,a,u))){a.addToRenderList(l);var x=1,C=1,P=0,A=0,R=1,L=0,O=0,w=0;m.beginPath();for(var b=0;b<g;++b){var F=p[b];switch(F){case f.ARC:m.arc(p[b+1],p[b+2],p[b+3],p[b+4],p[b+5],p[b+6]),b+=7;break;case f.LINE_STYLE:R=p[b+1],P=p[b+2],x=p[b+3],L=(P&16711680)>>>16,O=(P&65280)>>>8,w=P&255,m.strokeStyle="rgba("+L+","+O+","+w+","+x+")",m.lineWidth=R,b+=3;break;case f.FILL_STYLE:A=p[b+1],C=p[b+2],L=(A&16711680)>>>16,O=(A&65280)>>>8,w=A&255,m.fillStyle="rgba("+L+","+O+","+w+","+C+")",b+=2;break;case f.BEGIN_PATH:m.beginPath();break;case f.CLOSE_PATH:m.closePath();break;case f.FILL_PATH:d||m.fill();break;case f.STROKE_PATH:d||m.stroke();break;case f.FILL_RECT:d?m.rect(p[b+1],p[b+2],p[b+3],p[b+4]):m.fillRect(p[b+1],p[b+2],p[b+3],p[b+4]),b+=4;break;case f.FILL_TRIANGLE:m.beginPath(),m.moveTo(p[b+1],p[b+2]),m.lineTo(p[b+3],p[b+4]),m.lineTo(p[b+5],p[b+6]),m.closePath(),d||m.fill(),b+=6;break;case f.STROKE_TRIANGLE:m.beginPath(),m.moveTo(p[b+1],p[b+2]),m.lineTo(p[b+3],p[b+4]),m.lineTo(p[b+5],p[b+6]),m.closePath(),d||m.stroke(),b+=6;break;case f.LINE_TO:m.lineTo(p[b+1],p[b+2]),b+=2;break;case f.MOVE_TO:m.moveTo(p[b+1],p[b+2]),b+=2;break;case f.LINE_FX_TO:m.lineTo(p[b+1],p[b+2]),b+=5;break;case f.MOVE_FX_TO:m.moveTo(p[b+1],p[b+2]),b+=5;break;case f.SAVE:m.save();break;case f.RESTORE:m.restore();break;case f.TRANSLATE:m.translate(p[b+1],p[b+2]),b+=2;break;case f.SCALE:m.scale(p[b+1],p[b+2]),b+=2;break;case f.ROTATE:m.rotate(p[b+1]),b+=1;break;case f.GRADIENT_FILL_STYLE:b+=5;break;case f.GRADIENT_LINE_STYLE:b+=6;break}}m.restore()}},"GraphicsCanvasRenderer");n.exports=c},87079:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(44603),y=i(43831);f.register("graphics",function(c,o){c===void 0&&(c={}),o!==void 0&&(c.add=o);var l=new y(this.scene,c);return c.add&&this.scene.sys.displayList.add(l),l})},1201:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(43831),y=i(39429);y.register("graphics",function(c){return this.displayList.add(new f(this.scene,c))})},84503:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(29747),y=f,c=f;y=i(77545),c=i(32768),c=i(32768),n.exports={renderWebGL:y,renderCanvas:c}},77545:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(85592),y=i(91296),c=i(61340),o=i(70554),l=r(function(p,g,m){this.x=p,this.y=g,this.width=m},"Point"),a=r(function(p,g,m){this.points=[],this.pointsLength=1,this.points[0]=new l(p,g,m)},"Path"),u=[],v=new c,d=r(function(p,g,m,x){if(g.commandBuffer.length!==0){m.addToRenderList(g);var C=p.pipelines.set(g.pipeline,g);p.pipelines.preBatch(g);for(var P=y(g,m,x).calc,A=v.loadIdentity(),R=g.commandBuffer,L=m.alpha*g.alpha,O=1,w=C.fillTint,b=C.strokeTint,F=0,M=0,I=0,B=.01,G=Math.PI*2,N,z=[],H=0,$=!0,V=null,Y=o.getTintAppendFloatAlpha,D=0;D<R.length;D++)switch(N=R[D],N){case f.BEGIN_PATH:{z.length=0,V=null,$=!0;break}case f.CLOSE_PATH:{$=!1,V&&V.points.length&&V.points.push(V.points[0]);break}case f.FILL_PATH:{for(H=0;H<z.length;H++)C.batchFillPath(z[H].points,A,P);break}case f.STROKE_PATH:{for(H=0;H<z.length;H++)C.batchStrokePath(z[H].points,O,$,A,P);break}case f.LINE_STYLE:{O=R[++D];var U=R[++D],W=R[++D]*L,k=Y(U,W);b.TL=k,b.TR=k,b.BL=k,b.BR=k;break}case f.FILL_STYLE:{var X=R[++D],K=R[++D]*L,Z=Y(X,K);w.TL=Z,w.TR=Z,w.BL=Z,w.BR=Z;break}case f.GRADIENT_FILL_STYLE:{var J=R[++D]*L,Q=R[++D]*L,j=R[++D]*L,q=R[++D]*L;w.TL=Y(R[++D],J),w.TR=Y(R[++D],Q),w.BL=Y(R[++D],j),w.BR=Y(R[++D],q);break}case f.GRADIENT_LINE_STYLE:{O=R[++D];var tt=R[++D]*L;b.TL=Y(R[++D],tt),b.TR=Y(R[++D],tt),b.BL=Y(R[++D],tt),b.BR=Y(R[++D],tt);break}case f.ARC:{var _=0,rt=R[++D],ht=R[++D],lt=R[++D],ot=R[++D],et=R[++D],at=R[++D],nt=R[++D];for(et-=ot,at?et<-G?et=-G:et>0&&(et=-G+et%G):et>G?et=G:et<0&&(et=G+et%G),V===null&&(V=new a(rt+Math.cos(ot)*lt,ht+Math.sin(ot)*lt,O),z.push(V),_+=B);_<1+nt;)I=et*_+ot,F=rt+Math.cos(I)*lt,M=ht+Math.sin(I)*lt,V.points.push(new l(F,M,O)),_+=B;I=et+ot,F=rt+Math.cos(I)*lt,M=ht+Math.sin(I)*lt,V.points.push(new l(F,M,O));break}case f.FILL_RECT:{C.batchFillRect(R[++D],R[++D],R[++D],R[++D],A,P);break}case f.FILL_TRIANGLE:{C.batchFillTriangle(R[++D],R[++D],R[++D],R[++D],R[++D],R[++D],A,P);break}case f.STROKE_TRIANGLE:{C.batchStrokeTriangle(R[++D],R[++D],R[++D],R[++D],R[++D],R[++D],O,A,P);break}case f.LINE_TO:{V!==null?V.points.push(new l(R[++D],R[++D],O)):(V=new a(R[++D],R[++D],O),z.push(V));break}case f.MOVE_TO:{V=new a(R[++D],R[++D],O),z.push(V);break}case f.SAVE:{u.push(A.copyToArray());break}case f.RESTORE:{A.copyFromArray(u.pop());break}case f.TRANSLATE:{rt=R[++D],ht=R[++D],A.translate(rt,ht);break}case f.SCALE:{rt=R[++D],ht=R[++D],A.scale(rt,ht);break}case f.ROTATE:{A.rotate(R[++D]);break}}p.pipelines.postBatch(g)}},"GraphicsWebGLRenderer");n.exports=d},26479:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(61061),y=i(83419),c=i(51708),o=i(50792),l=i(46710),a=i(95540),u=i(35154),v=i(97022),d=i(41212),p=i(88492),g=i(35072),m=i(68287),x=new y({Extends:o,initialize:r(function(P,A,R){o.call(this),R?A&&!Array.isArray(A)&&(A=[A]):Array.isArray(A)?d(A[0])&&(R=A,A=null):d(A)&&(R=A,A=null),this.scene=P,this.children=new g,this.isParent=!0,this.type="Group",this.classType=a(R,"classType",m),this.name=a(R,"name",""),this.active=a(R,"active",!0),this.maxSize=a(R,"maxSize",-1),this.defaultKey=a(R,"defaultKey",null),this.defaultFrame=a(R,"defaultFrame",null),this.runChildUpdate=a(R,"runChildUpdate",!1),this.createCallback=a(R,"createCallback",null),this.removeCallback=a(R,"removeCallback",null),this.createMultipleCallback=a(R,"createMultipleCallback",null),this.internalCreateCallback=a(R,"internalCreateCallback",null),this.internalRemoveCallback=a(R,"internalRemoveCallback",null),A&&this.addMultiple(A),R&&this.createMultiple(R),this.on(c.ADDED_TO_SCENE,this.addedToScene,this),this.on(c.REMOVED_FROM_SCENE,this.removedFromScene,this)},"Group"),addedToScene:r(function(){this.scene.sys.updateList.add(this)},"addedToScene"),removedFromScene:r(function(){this.scene.sys.updateList.remove(this)},"removedFromScene"),create:r(function(C,P,A,R,L,O){if(C===void 0&&(C=0),P===void 0&&(P=0),A===void 0&&(A=this.defaultKey),R===void 0&&(R=this.defaultFrame),L===void 0&&(L=!0),O===void 0&&(O=!0),this.isFull())return null;var w=new this.classType(this.scene,C,P,A,R);return w.addToDisplayList(this.scene.sys.displayList),w.addToUpdateList(),w.visible=L,w.setActive(O),this.add(w),w},"create"),createMultiple:r(function(C){if(this.isFull())return[];Array.isArray(C)||(C=[C]);var P=[];if(C[0].key)for(var A=0;A<C.length;A++){var R=this.createFromConfig(C[A]);P=P.concat(R)}return P},"createMultiple"),createFromConfig:r(function(C){if(this.isFull())return[];this.classType=a(C,"classType",this.classType);var P=a(C,"key",void 0),A=a(C,"frame",null),R=a(C,"visible",!0),L=a(C,"active",!0),O=[];if(P===void 0)return O;Array.isArray(P)||(P=[P]),Array.isArray(A)||(A=[A]);var w=a(C,"repeat",0),b=a(C,"randomKey",!1),F=a(C,"randomFrame",!1),M=a(C,"yoyo",!1),I=a(C,"quantity",!1),B=a(C,"frameQuantity",1),G=a(C,"max",0),N=p(P,A,{max:G,qty:I||B,random:b,randomB:F,repeat:w,yoyo:M});C.createCallback&&(this.createCallback=C.createCallback),C.removeCallback&&(this.removeCallback=C.removeCallback),C.internalCreateCallback&&(this.internalCreateCallback=C.internalCreateCallback),C.internalRemoveCallback&&(this.internalRemoveCallback=C.internalRemoveCallback);for(var z=0;z<N.length;z++){var H=this.create(0,0,N[z].a,N[z].b,R,L);if(!H)break;O.push(H)}if(v(C,"setXY")){var $=u(C,"setXY.x",0),V=u(C,"setXY.y",0),Y=u(C,"setXY.stepX",0),D=u(C,"setXY.stepY",0);f.SetXY(O,$,V,Y,D)}if(v(C,"setRotation")){var U=u(C,"setRotation.value",0),W=u(C,"setRotation.step",0);f.SetRotation(O,U,W)}if(v(C,"setScale")){var k=u(C,"setScale.x",1),X=u(C,"setScale.y",k),K=u(C,"setScale.stepX",0),Z=u(C,"setScale.stepY",0);f.SetScale(O,k,X,K,Z)}if(v(C,"setOrigin")){var J=u(C,"setOrigin.x",.5),Q=u(C,"setOrigin.y",J),j=u(C,"setOrigin.stepX",0),q=u(C,"setOrigin.stepY",0);f.SetOrigin(O,J,Q,j,q)}if(v(C,"setAlpha")){var tt=u(C,"setAlpha.value",1),_=u(C,"setAlpha.step",0);f.SetAlpha(O,tt,_)}if(v(C,"setDepth")){var rt=u(C,"setDepth.value",0),ht=u(C,"setDepth.step",0);f.SetDepth(O,rt,ht)}if(v(C,"setScrollFactor")){var lt=u(C,"setScrollFactor.x",1),ot=u(C,"setScrollFactor.y",lt),et=u(C,"setScrollFactor.stepX",0),at=u(C,"setScrollFactor.stepY",0);f.SetScrollFactor(O,lt,ot,et,at)}var nt=a(C,"hitArea",null),vt=a(C,"hitAreaCallback",null);nt&&f.SetHitArea(O,nt,vt);var mt=a(C,"gridAlign",!1);return mt&&f.GridAlign(O,mt),this.createMultipleCallback&&this.createMultipleCallback.call(this,O),O},"createFromConfig"),preUpdate:r(function(C,P){if(!(!this.runChildUpdate||this.children.size===0))for(var A=this.children.entries.slice(),R=0;R<A.length;R++){var L=A[R];L.active&&L.update(C,P)}},"preUpdate"),add:r(function(C,P){return P===void 0&&(P=!1),this.isFull()?this:(this.children.set(C),this.internalCreateCallback&&this.internalCreateCallback.call(this,C),this.createCallback&&this.createCallback.call(this,C),P&&(C.addToDisplayList(this.scene.sys.displayList),C.addToUpdateList()),C.on(c.DESTROY,this.remove,this),this)},"add"),addMultiple:r(function(C,P){if(P===void 0&&(P=!1),Array.isArray(C))for(var A=0;A<C.length;A++)this.add(C[A],P);return this},"addMultiple"),remove:r(function(C,P,A){return P===void 0&&(P=!1),A===void 0&&(A=!1),this.children.contains(C)?(this.children.delete(C),this.internalRemoveCallback&&this.internalRemoveCallback.call(this,C),this.removeCallback&&this.removeCallback.call(this,C),C.off(c.DESTROY,this.remove,this),A?C.destroy():P&&(C.removeFromDisplayList(),C.removeFromUpdateList()),this):this},"remove"),clear:r(function(C,P){C===void 0&&(C=!1),P===void 0&&(P=!1);for(var A=this.children,R=0;R<A.size;R++){var L=A.entries[R];L.off(c.DESTROY,this.remove,this),P?L.destroy():C&&(L.removeFromDisplayList(),L.removeFromUpdateList())}return this.children.clear(),this},"clear"),contains:r(function(C){return this.children.contains(C)},"contains"),getChildren:r(function(){return this.children.entries},"getChildren"),getLength:r(function(){return this.children.size},"getLength"),getMatching:r(function(C,P,A,R){return l(this.children.entries,C,P,A,R)},"getMatching"),getFirst:r(function(C,P,A,R,L,O,w){return this.getHandler(!0,1,C,P,A,R,L,O,w)},"getFirst"),getFirstNth:r(function(C,P,A,R,L,O,w,b){return this.getHandler(!0,C,P,A,R,L,O,w,b)},"getFirstNth"),getLast:r(function(C,P,A,R,L,O,w){return this.getHandler(!1,1,C,P,A,R,L,O,w)},"getLast"),getLastNth:r(function(C,P,A,R,L,O,w,b){return this.getHandler(!1,C,P,A,R,L,O,w,b)},"getLastNth"),getHandler:r(function(C,P,A,R,L,O,w,b,F){A===void 0&&(A=!1),R===void 0&&(R=!1);var M,I,B=0,G=this.children.entries;if(C)for(I=0;I<G.length;I++)if(M=G[I],M.active===A){if(B++,B===P)break}else M=null;else for(I=G.length-1;I>=0;I--)if(M=G[I],M.active===A){if(B++,B===P)break}else M=null;return M?(typeof L=="number"&&(M.x=L),typeof O=="number"&&(M.y=O),M):R?this.create(L,O,w,b,F):null},"getHandler"),get:r(function(C,P,A,R,L){return this.getFirst(!1,!0,C,P,A,R,L)},"get"),getFirstAlive:r(function(C,P,A,R,L,O){return this.getFirst(!0,C,P,A,R,L,O)},"getFirstAlive"),getFirstDead:r(function(C,P,A,R,L,O){return this.getFirst(!1,C,P,A,R,L,O)},"getFirstDead"),playAnimation:r(function(C,P){return f.PlayAnimation(this.children.entries,C,P),this},"playAnimation"),isFull:r(function(){return this.maxSize===-1?!1:this.children.size>=this.maxSize},"isFull"),countActive:r(function(C){C===void 0&&(C=!0);for(var P=0,A=0;A<this.children.size;A++)this.children.entries[A].active===C&&P++;return P},"countActive"),getTotalUsed:r(function(){return this.countActive()},"getTotalUsed"),getTotalFree:r(function(){var C=this.getTotalUsed(),P=this.maxSize===-1?999999999999:this.maxSize;return P-C},"getTotalFree"),setActive:r(function(C){return this.active=C,this},"setActive"),setName:r(function(C){return this.name=C,this},"setName"),propertyValueSet:r(function(C,P,A,R,L){return f.PropertyValueSet(this.children.entries,C,P,A,R,L),this},"propertyValueSet"),propertyValueInc:r(function(C,P,A,R,L){return f.PropertyValueInc(this.children.entries,C,P,A,R,L),this},"propertyValueInc"),setX:r(function(C,P){return f.SetX(this.children.entries,C,P),this},"setX"),setY:r(function(C,P){return f.SetY(this.children.entries,C,P),this},"setY"),setXY:r(function(C,P,A,R){return f.SetXY(this.children.entries,C,P,A,R),this},"setXY"),incX:r(function(C,P){return f.IncX(this.children.entries,C,P),this},"incX"),incY:r(function(C,P){return f.IncY(this.children.entries,C,P),this},"incY"),incXY:r(function(C,P,A,R){return f.IncXY(this.children.entries,C,P,A,R),this},"incXY"),shiftPosition:r(function(C,P,A){return f.ShiftPosition(this.children.entries,C,P,A),this},"shiftPosition"),angle:r(function(C,P){return f.Angle(this.children.entries,C,P),this},"angle"),rotate:r(function(C,P){return f.Rotate(this.children.entries,C,P),this},"rotate"),rotateAround:r(function(C,P){return f.RotateAround(this.children.entries,C,P),this},"rotateAround"),rotateAroundDistance:r(function(C,P,A){return f.RotateAroundDistance(this.children.entries,C,P,A),this},"rotateAroundDistance"),setAlpha:r(function(C,P){return f.SetAlpha(this.children.entries,C,P),this},"setAlpha"),setTint:r(function(C,P,A,R){return f.SetTint(this.children.entries,C,P,A,R),this},"setTint"),setOrigin:r(function(C,P,A,R){return f.SetOrigin(this.children.entries,C,P,A,R),this},"setOrigin"),scaleX:r(function(C,P){return f.ScaleX(this.children.entries,C,P),this},"scaleX"),scaleY:r(function(C,P){return f.ScaleY(this.children.entries,C,P),this},"scaleY"),scaleXY:r(function(C,P,A,R){return f.ScaleXY(this.children.entries,C,P,A,R),this},"scaleXY"),setDepth:r(function(C,P){return f.SetDepth(this.children.entries,C,P),this},"setDepth"),setBlendMode:r(function(C){return f.SetBlendMode(this.children.entries,C),this},"setBlendMode"),setHitArea:r(function(C,P){return f.SetHitArea(this.children.entries,C,P),this},"setHitArea"),shuffle:r(function(){return f.Shuffle(this.children.entries),this},"shuffle"),kill:r(function(C){this.children.contains(C)&&C.setActive(!1)},"kill"),killAndHide:r(function(C){this.children.contains(C)&&(C.setActive(!1),C.setVisible(!1))},"killAndHide"),setVisible:r(function(C,P,A){return f.SetVisible(this.children.entries,C,P,A),this},"setVisible"),toggleVisible:r(function(){return f.ToggleVisible(this.children.entries),this},"toggleVisible"),destroy:r(function(C,P){C===void 0&&(C=!1),P===void 0&&(P=!1),!(!this.scene||this.ignoreDestroy)&&(this.emit(c.DESTROY,this),this.removeAllListeners(),this.scene.sys.updateList.remove(this),this.clear(P,C),this.scene=void 0,this.children=void 0)},"destroy")});n.exports=x},94975:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(44603),y=i(26479);f.register("group",function(c){return new y(this.scene,null,c)})},3385:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(26479),y=i(39429);y.register("group",function(c,o){return this.updateList.add(new f(this.scene,c,o))})},88571:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(83419),y=i(31401),c=i(95643),o=i(59819),l=new f({Extends:c,Mixins:[y.Alpha,y.BlendMode,y.Depth,y.Flip,y.GetBounds,y.Mask,y.Origin,y.Pipeline,y.PostPipeline,y.ScrollFactor,y.Size,y.TextureCrop,y.Tint,y.Transform,y.Visible,o],initialize:r(function(u,v,d,p,g){c.call(this,u,"Image"),this._crop=this.resetCropObject(),this.setTexture(p,g),this.setPosition(v,d),this.setSizeToFrame(),this.setOriginFromFrame(),this.initPipeline(),this.initPostPipeline(!0)},"Image")});n.exports=l},40652:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i,f,y,c){y.addToRenderList(f),i.batchSprite(f,f.frame,y,c)},"ImageCanvasRenderer");n.exports=T},82459:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(25305),y=i(44603),c=i(23568),o=i(88571);y.register("image",function(l,a){l===void 0&&(l={});var u=c(l,"key",null),v=c(l,"frame",null),d=new o(this.scene,0,0,u,v);return a!==void 0&&(l.add=a),f(this.scene,d,l),d})},2117:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(88571),y=i(39429);y.register("image",function(c,o,l,a){return this.displayList.add(new f(this.scene,c,o,l,a))})},59819:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(29747),y=f,c=f;y=i(99517),c=i(40652),n.exports={renderWebGL:y,renderCanvas:c}},99517:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i,f,y,c){y.addToRenderList(f),this.pipeline.batchSprite(f,y,c)},"ImageWebGLRenderer");n.exports=T},77856:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f={Events:i(51708),DisplayList:i(8050),GameObjectCreator:i(44603),GameObjectFactory:i(39429),UpdateList:i(45027),Components:i(31401),GetCalcMatrix:i(91296),BuildGameObject:i(25305),BuildGameObjectAnimation:i(13059),GameObject:i(95643),BitmapText:i(22186),Blitter:i(6107),Bob:i(46590),Container:i(31559),DOMElement:i(3069),DynamicBitmapText:i(2638),Extern:i(42421),Graphics:i(43831),Group:i(26479),Image:i(88571),Layer:i(93595),Particles:i(18404),PathFollower:i(1159),RenderTexture:i(591),RetroFont:i(196),Rope:i(77757),Sprite:i(68287),Text:i(50171),GetTextSize:i(14220),MeasureText:i(79557),TextStyle:i(35762),TileSprite:i(20839),Zone:i(41481),Video:i(18471),Shape:i(17803),Arc:i(23629),Curve:i(89),Ellipse:i(19921),Grid:i(30479),IsoBox:i(61475),IsoTriangle:i(16933),Line:i(57847),Polygon:i(24949),Rectangle:i(74561),Star:i(55911),Triangle:i(36931),Factories:{Blitter:i(12709),Container:i(24961),DOMElement:i(2611),DynamicBitmapText:i(72566),Extern:i(56315),Graphics:i(1201),Group:i(3385),Image:i(2117),Layer:i(20005),Particles:i(676),PathFollower:i(90145),RenderTexture:i(60505),Rope:i(96819),Sprite:i(46409),StaticBitmapText:i(34914),Text:i(68005),TileSprite:i(91681),Zone:i(84175),Video:i(89025),Arc:i(42563),Curve:i(40511),Ellipse:i(1543),Grid:i(34137),IsoBox:i(3933),IsoTriangle:i(49803),Line:i(2481),Polygon:i(64827),Rectangle:i(87959),Star:i(93697),Triangle:i(45245)},Creators:{Blitter:i(9403),Container:i(77143),DynamicBitmapText:i(11164),Graphics:i(87079),Group:i(94975),Image:i(82459),Layer:i(25179),Particles:i(92730),RenderTexture:i(34495),Rope:i(26209),Sprite:i(15567),StaticBitmapText:i(57336),Text:i(71259),TileSprite:i(14167),Zone:i(95261),Video:i(11511)}};f.Shader=i(20071),f.Mesh=i(4703),f.NineSlice=i(28103),f.PointLight=i(80321),f.Plane=i(33663),f.Factories.Shader=i(74177),f.Factories.Mesh=i(9225),f.Factories.NineSlice=i(47521),f.Factories.PointLight=i(71255),f.Factories.Plane=i(30985),f.Creators.Shader=i(54935),f.Creators.Mesh=i(20527),f.Creators.NineSlice=i(28279),f.Creators.PointLight=i(39829),f.Creators.Plane=i(56015),f.Light=i(41432),f.LightsManager=i(61356),f.LightsPlugin=i(88992),n.exports=f},93595:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(10312),y=i(83419),c=i(31401),o=i(53774),l=i(45893),a=i(50792),u=i(51708),v=i(73162),d=i(33963),p=i(44594),g=i(19186),m=new y({Extends:v,Mixins:[c.AlphaSingle,c.BlendMode,c.Depth,c.Mask,c.PostPipeline,c.Visible,a,d],initialize:r(function(C,P){v.call(this,C),a.call(this),this.scene=C,this.displayList=null,this.type="Layer",this.state=0,this.parentContainer=null,this.name="",this.active=!0,this.tabIndex=-1,this.data=null,this.renderFlags=15,this.cameraFilter=0,this.input=null,this.body=null,this.ignoreDestroy=!1,this.systems=C.sys,this.events=C.sys.events,this.sortChildrenFlag=!1,this.addCallback=this.addChildCallback,this.removeCallback=this.removeChildCallback,this.initPostPipeline(),this.clearAlpha(),this.setBlendMode(f.SKIP_CHECK),P&&this.add(P),C.sys.queueDepthSort()},"Layer"),setActive:r(function(x){return this.active=x,this},"setActive"),setName:r(function(x){return this.name=x,this},"setName"),setState:r(function(x){return this.state=x,this},"setState"),setDataEnabled:r(function(){return this.data||(this.data=new l(this)),this},"setDataEnabled"),setData:r(function(x,C){return this.data||(this.data=new l(this)),this.data.set(x,C),this},"setData"),incData:r(function(x,C){return this.data||(this.data=new l(this)),this.data.inc(x,C),this},"incData"),toggleData:r(function(x){return this.data||(this.data=new l(this)),this.data.toggle(x),this},"toggleData"),getData:r(function(x){return this.data||(this.data=new l(this)),this.data.get(x)},"getData"),setInteractive:r(function(){return this},"setInteractive"),disableInteractive:r(function(){return this},"disableInteractive"),removeInteractive:r(function(){return this},"removeInteractive"),addedToScene:r(function(){},"addedToScene"),removedFromScene:r(function(){},"removedFromScene"),update:r(function(){},"update"),toJSON:r(function(){return o(this)},"toJSON"),willRender:r(function(x){return!(this.renderFlags!==15||this.list.length===0||this.cameraFilter!==0&&this.cameraFilter&x.id)},"willRender"),getIndexList:r(function(){for(var x=this,C=this.parentContainer,P=[];C&&(P.unshift(C.getIndex(x)),x=C,C.parentContainer);)C=C.parentContainer;return P.unshift(this.displayList.getIndex(x)),P},"getIndexList"),addChildCallback:r(function(x){var C=x.displayList;C&&C!==this&&x.removeFromDisplayList(),x.displayList||(this.queueDepthSort(),x.displayList=this,x.emit(u.ADDED_TO_SCENE,x,this.scene),this.events.emit(p.ADDED_TO_SCENE,x,this.scene))},"addChildCallback"),removeChildCallback:r(function(x){this.queueDepthSort(),x.displayList=null,x.emit(u.REMOVED_FROM_SCENE,x,this.scene),this.events.emit(p.REMOVED_FROM_SCENE,x,this.scene)},"removeChildCallback"),queueDepthSort:r(function(){this.sortChildrenFlag=!0},"queueDepthSort"),depthSort:r(function(){this.sortChildrenFlag&&(g(this.list,this.sortByDepth),this.sortChildrenFlag=!1)},"depthSort"),sortByDepth:r(function(x,C){return x._depth-C._depth},"sortByDepth"),getChildren:r(function(){return this.list},"getChildren"),addToDisplayList:r(function(x){return x===void 0&&(x=this.scene.sys.displayList),this.displayList&&this.displayList!==x&&this.removeFromDisplayList(),x.exists(this)||(this.displayList=x,x.add(this,!0),x.queueDepthSort(),this.emit(u.ADDED_TO_SCENE,this,this.scene),x.events.emit(p.ADDED_TO_SCENE,this,this.scene)),this},"addToDisplayList"),removeFromDisplayList:r(function(){var x=this.displayList||this.scene.sys.displayList;return x.exists(this)&&(x.remove(this,!0),x.queueDepthSort(),this.displayList=null,this.emit(u.REMOVED_FROM_SCENE,this,this.scene),x.events.emit(p.REMOVED_FROM_SCENE,this,this.scene)),this},"removeFromDisplayList"),destroy:r(function(x){if(!(!this.scene||this.ignoreDestroy)){this.emit(u.DESTROY,this);for(var C=this.list;C.length;)C[0].destroy(x);this.removeAllListeners(),this.resetPostPipeline(!0),this.displayList&&(this.displayList.remove(this,!0,!1),this.displayList.queueDepthSort()),this.data&&(this.data.destroy(),this.data=void 0),this.active=!1,this.visible=!1,this.list=void 0,this.scene=void 0,this.displayList=void 0,this.systems=void 0,this.events=void 0}},"destroy")});n.exports=m},2956:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i,f,y){var c=f.list;if(c.length!==0){f.depthSort();var o=f.blendMode!==-1;o||i.setBlendMode(0);var l=f._alpha;f.mask&&f.mask.preRenderCanvas(i,null,y);for(var a=0;a<c.length;a++){var u=c[a];if(u.willRender(y)){var v=u.alpha;!o&&u.blendMode!==i.currentBlendMode&&i.setBlendMode(u.blendMode),u.setAlpha(v*l),u.renderCanvas(i,u,y),u.setAlpha(v)}}f.mask&&f.mask.postRenderCanvas(i)}},"LayerCanvasRenderer");n.exports=T},25179:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(25305),y=i(93595),c=i(44603),o=i(23568);c.register("layer",function(l,a){l===void 0&&(l={});var u=o(l,"children",null),v=new y(this.scene,u);return a!==void 0&&(l.add=a),f(this.scene,v,l),v})},20005:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(93595),y=i(39429);y.register("layer",function(c){return this.displayList.add(new f(this.scene,c))})},33963:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(29747),y=f,c=f;y=i(15869),c=i(2956),n.exports={renderWebGL:y,renderCanvas:c}},15869:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i,f,y){var c=f.list,o=c.length;if(o!==0){f.depthSort(),i.pipelines.preBatch(f);var l=f.blendMode!==-1;l||i.setBlendMode(0);for(var a=f.alpha,u=0;u<o;u++){var v=c[u];if(v.willRender(y)){var d,p,g,m;if(v.alphaTopLeft!==void 0)d=v.alphaTopLeft,p=v.alphaTopRight,g=v.alphaBottomLeft,m=v.alphaBottomRight;else{var x=v.alpha;d=x,p=x,g=x,m=x}!l&&v.blendMode!==i.currentBlendMode&&i.setBlendMode(v.blendMode);var C=v.mask;C&&C.preRenderWebGL(i,v,y);var P=v.type;P!==i.currentType&&(i.newType=!0,i.currentType=P),i.nextTypeMatch=u<o-1?c[u+1].type===i.currentType:!1,v.setAlpha(d*a,p*a,g*a,m*a),v.renderWebGL(i,v,y),v.setAlpha(d,p,g,m),C&&C.postRenderWebGL(i,y),i.newType=!1}}i.pipelines.postBatch(f)}},"LayerWebGLRenderer");n.exports=T},41432:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(96503),y=i(83419),c=i(31401),o=i(51767),l=i(70554),a=new y({Extends:f,Mixins:[c.Origin,c.ScrollFactor,c.Visible],initialize:r(function(v,d,p,g,m,x,C){f.call(this,v,d,p),this.color=new o(g,m,x),this.intensity=C,this.renderFlags=15,this.cameraFilter=0,this.setScrollFactor(1,1),this.setOrigin(),this.setDisplayOrigin(p)},"Light"),displayWidth:{get:r(function(){return this.diameter},"get"),set:r(function(u){this.diameter=u},"set")},displayHeight:{get:r(function(){return this.diameter},"get"),set:r(function(u){this.diameter=u},"set")},width:{get:r(function(){return this.diameter},"get"),set:r(function(u){this.diameter=u},"set")},height:{get:r(function(){return this.diameter},"get"),set:r(function(u){this.diameter=u},"set")},willRender:r(function(u){return!(a.RENDER_MASK!==this.renderFlags||this.cameraFilter!==0&&this.cameraFilter&u.id)},"willRender"),setColor:r(function(u){var v=l.getFloatsFromUintRGB(u);return this.color.set(v[0],v[1],v[2]),this},"setColor"),setIntensity:r(function(u){return this.intensity=u,this},"setIntensity"),setRadius:r(function(u){return this.radius=u,this},"setRadius")});a.RENDER_MASK=15,n.exports=a},61356:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(81491),y=i(83419),c=i(20339),o=i(41432),l=i(80321),a=i(51767),u=i(19133),v=i(19186),d=i(70554),p=new y({initialize:r(function(){this.lights=[],this.ambientColor=new a(.1,.1,.1),this.active=!1,this.maxLights=-1,this.visibleLights=0},"LightsManager"),addPointLight:r(function(g,m,x,C,P,A){return this.systems.displayList.add(new l(this.scene,g,m,x,C,P,A))},"addPointLight"),enable:r(function(){return this.maxLights===-1&&(this.maxLights=this.systems.renderer.config.maxLights),this.active=!0,this},"enable"),disable:r(function(){return this.active=!1,this},"disable"),getLights:r(function(g){for(var m=this.lights,x=g.worldView,C=[],P=0;P<m.length;P++){var A=m[P];A.willRender(g)&&f(A,x)&&C.push({light:A,distance:c(A.x,A.y,x.centerX,x.centerY)})}return C.length>this.maxLights&&(v(C,this.sortByDistance),C=C.slice(0,this.maxLights)),this.visibleLights=C.length,C},"getLights"),sortByDistance:r(function(g,m){return g.distance>=m.distance},"sortByDistance"),setAmbientColor:r(function(g){var m=d.getFloatsFromUintRGB(g);return this.ambientColor.set(m[0],m[1],m[2]),this},"setAmbientColor"),getMaxVisibleLights:r(function(){return this.maxLights},"getMaxVisibleLights"),getLightCount:r(function(){return this.lights.length},"getLightCount"),addLight:r(function(g,m,x,C,P){g===void 0&&(g=0),m===void 0&&(m=0),x===void 0&&(x=128),C===void 0&&(C=16777215),P===void 0&&(P=1);var A=d.getFloatsFromUintRGB(C),R=new o(g,m,x,A[0],A[1],A[2],P);return this.lights.push(R),R},"addLight"),removeLight:r(function(g){var m=this.lights.indexOf(g);return m>=0&&u(this.lights,m),this},"removeLight"),shutdown:r(function(){this.lights.length=0},"shutdown"),destroy:r(function(){this.shutdown()},"destroy")});n.exports=p},88992:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(83419),y=i(61356),c=i(37277),o=i(44594),l=new f({Extends:y,initialize:r(function(u){this.scene=u,this.systems=u.sys,u.sys.settings.isBooted||u.sys.events.once(o.BOOT,this.boot,this),y.call(this)},"LightsPlugin"),boot:r(function(){var a=this.systems.events;a.on(o.SHUTDOWN,this.shutdown,this),a.on(o.DESTROY,this.destroy,this)},"boot"),destroy:r(function(){this.shutdown(),this.scene=void 0,this.systems=void 0},"destroy")});c.register("LightsPlugin",l,"lights"),n.exports=l},4703:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(83419),y=i(31401),c=i(39506),o=i(83997),l=i(95643),a=i(34684),u=i(92515),v=i(91296),d=i(37867),p=i(29807),g=i(43396),m=i(19186),x=i(25836),C=i(39318),P=new f({Extends:l,Mixins:[y.AlphaSingle,y.BlendMode,y.Depth,y.Mask,y.Pipeline,y.PostPipeline,y.ScrollFactor,y.Size,y.Texture,y.Transform,y.Visible,p],initialize:r(function(R,L,O,w,b,F,M,I,B,G,N,z){L===void 0&&(L=0),O===void 0&&(O=0),w===void 0&&(w="__WHITE"),l.call(this,R,"Mesh"),this.faces=[],this.vertices=[],this.tintFill=!1,this.debugCallback=null,this.debugGraphic=null,this.hideCCW=!0,this.modelPosition=new x,this.modelScale=new x(1,1,1),this.modelRotation=new x,this.dirtyCache=[0,0,0,0,0,0,0,0,0,0,0,0],this.transformMatrix=new d,this.viewPosition=new x,this.viewMatrix=new d,this.projectionMatrix=new d,this.totalRendered=0,this.totalFrame=0,this.ignoreDirtyCache=!1,this.fov,this.displayOriginX=0,this.displayOriginY=0;var H=R.sys.renderer;this.setPosition(L,O),this.setTexture(w,b),this.setSize(H.width,H.height),this.initPipeline(),this.initPostPipeline(),this.setPerspective(H.width,H.height),F&&this.addVertices(F,M,I,B,G,N,z)},"Mesh"),addedToScene:r(function(){this.scene.sys.updateList.add(this)},"addedToScene"),removedFromScene:r(function(){this.scene.sys.updateList.remove(this)},"removedFromScene"),panX:r(function(A){return this.viewPosition.addScale(x.LEFT,A),this.dirtyCache[10]=1,this},"panX"),panY:r(function(A){return this.viewPosition.y+=x.DOWN.y*A,this.dirtyCache[10]=1,this},"panY"),panZ:r(function(A){return this.viewPosition.z+=A,this.dirtyCache[10]=1,this},"panZ"),setPerspective:r(function(A,R,L,O,w){return L===void 0&&(L=45),O===void 0&&(O=.01),w===void 0&&(w=1e3),this.fov=L,this.projectionMatrix.perspective(c(L),A/R,O,w),this.dirtyCache[10]=1,this.dirtyCache[11]=0,this},"setPerspective"),setOrtho:r(function(A,R,L,O){return A===void 0&&(A=this.scene.sys.renderer.getAspectRatio()),R===void 0&&(R=1),L===void 0&&(L=-1e3),O===void 0&&(O=1e3),this.fov=0,this.projectionMatrix.ortho(-A,A,-R,R,L,O),this.dirtyCache[10]=1,this.dirtyCache[11]=1,this},"setOrtho"),clear:r(function(){return this.faces.forEach(function(A){A.destroy()}),this.faces=[],this.vertices=[],this},"clear"),addVerticesFromObj:r(function(A,R,L,O,w,b,F,M,I){var B=this.scene.sys.cache.obj.get(A),G;return B&&(G=a(B,this,R,L,O,w,b,F,M,I)),(!G||G.verts.length===0)&&console.warn("Mesh.addVerticesFromObj data empty:",A),this},"addVerticesFromObj"),sortByDepth:r(function(A,R){return A.depth-R.depth},"sortByDepth"),depthSort:r(function(){return m(this.faces,this.sortByDepth),this},"depthSort"),addVertex:r(function(A,R,L,O,w,b,F){var M=new C(A,R,L,O,w,b,F);return this.vertices.push(M),M},"addVertex"),addFace:r(function(A,R,L){var O=new o(A,R,L);return this.faces.push(O),this.dirtyCache[9]=-1,O},"addFace"),addVertices:r(function(A,R,L,O,w,b,F){var M=u(A,R,L,O,w,b,F);return M?(this.faces=this.faces.concat(M.faces),this.vertices=this.vertices.concat(M.vertices)):console.warn("Mesh.addVertices data empty or invalid"),this.dirtyCache[9]=-1,this},"addVertices"),getFaceCount:r(function(){return this.faces.length},"getFaceCount"),getVertexCount:r(function(){return this.vertices.length},"getVertexCount"),getFace:r(function(A){return this.faces[A]},"getFace"),hasFaceAt:r(function(A,R,L){L===void 0&&(L=this.scene.sys.cameras.main);for(var O=v(this,L).calc,w=this.faces,b=0;b<w.length;b++){var F=w[b];if(F.contains(A,R,O))return!0}return!1},"hasFaceAt"),getFaceAt:r(function(A,R,L){L===void 0&&(L=this.scene.sys.cameras.main);for(var O=v(this,L).calc,w=this.faces,b=[],F=0;F<w.length;F++){var M=w[F];M.contains(A,R,O)&&b.push(M)}return m(b,this.sortByDepth)},"getFaceAt"),setDebug:r(function(A,R){return this.debugGraphic=A,!A&&!R?this.debugCallback=null:R?this.debugCallback=R:this.debugCallback=this.renderDebug,this},"setDebug"),isDirty:r(function(){var A=this.modelPosition,R=this.modelRotation,L=this.modelScale,O=this.dirtyCache,w=A.x,b=A.y,F=A.z,M=R.x,I=R.y,B=R.z,G=L.x,N=L.y,z=L.z,H=this.getFaceCount(),$=O[0],V=O[1],Y=O[2],D=O[3],U=O[4],W=O[5],k=O[6],X=O[7],K=O[8],Z=O[9];return O[0]=w,O[1]=b,O[2]=F,O[3]=M,O[4]=I,O[5]=B,O[6]=G,O[7]=N,O[8]=z,O[9]=H,$!==w||V!==b||Y!==F||D!==M||U!==I||W!==B||k!==G||X!==N||K!==z||Z!==H},"isDirty"),preUpdate:r(function(){this.totalRendered=this.totalFrame,this.totalFrame=0;var A=this.dirtyCache;if(!(!this.ignoreDirtyCache&&!A[10]&&!this.isDirty())){var R=this.width,L=this.height,O=this.viewMatrix,w=this.viewPosition;A[10]&&(O.identity(),O.translate(w),O.invert(),A[10]=0);var b=this.transformMatrix;b.setWorldMatrix(this.modelRotation,this.modelPosition,this.modelScale,this.viewMatrix,this.projectionMatrix);for(var F=w.z,M=this.faces,I=0;I<M.length;I++)M[I].transformCoordinatesLocal(b,R,L,F);this.depthSort()}},"preUpdate"),renderDebug:r(function(A,R){for(var L=A.debugGraphic,O=0;O<R.length;O++){var w=R[O],b=w.vertex1.tx,F=w.vertex1.ty,M=w.vertex2.tx,I=w.vertex2.ty,B=w.vertex3.tx,G=w.vertex3.ty;L.strokeTriangle(b,F,M,I,B,G)}},"renderDebug"),preDestroy:r(function(){this.clear(),this.debugCallback=null,this.debugGraphic=null},"preDestroy"),clearTint:r(function(){return this.setTint()},"clearTint"),setInteractive:r(function(A){A===void 0&&(A={});var R=(function(L,O,w){for(var b=this.faces,F=0;F<b.length;F++){var M=b[F];if(M.contains(O,w))return!0}return!1}).bind(this);return this.scene.sys.input.enable(this,A,R),this},"setInteractive"),setTint:r(function(A){A===void 0&&(A=16777215);for(var R=this.vertices,L=0;L<R.length;L++)R[L].color=A;return this},"setTint"),uvScroll:r(function(A,R){for(var L=this.faces,O=0;O<L.length;O++)L[O].scrollUV(A,R);return this},"uvScroll"),uvScale:r(function(A,R){for(var L=this.faces,O=0;O<L.length;O++)L[O].scaleUV(A,R);return this},"uvScale"),tint:{set:r(function(A){this.setTint(A)},"set")},rotateX:{get:r(function(){return g(this.modelRotation.x)},"get"),set:r(function(A){this.modelRotation.x=c(A)},"set")},rotateY:{get:r(function(){return g(this.modelRotation.y)},"get"),set:r(function(A){this.modelRotation.y=c(A)},"set")},rotateZ:{get:r(function(){return g(this.modelRotation.z)},"get"),set:r(function(A){this.modelRotation.z=c(A)},"set")}});n.exports=P},36488:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(){},"MeshCanvasRenderer");n.exports=T},20527:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(25305),y=i(44603),c=i(23568),o=i(35154),l=i(4703);y.register("mesh",function(a,u){a===void 0&&(a={});var v=c(a,"key",null),d=c(a,"frame",null),p=o(a,"vertices",[]),g=o(a,"uvs",[]),m=o(a,"indicies",[]),x=o(a,"containsZ",!1),C=o(a,"normals",[]),P=o(a,"colors",16777215),A=o(a,"alphas",1),R=new l(this.scene,0,0,v,d,p,g,m,x,C,P,A);return u!==void 0&&(a.add=u),f(this.scene,R,a),R})},9225:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(4703),y=i(39429);y.register("mesh",function(c,o,l,a,u,v,d,p,g,m,x){return this.displayList.add(new f(this.scene,c,o,l,a,u,v,d,p,g,m,x))})},29807:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(29747),y=f,c=f;y=i(48833),c=i(36488),n.exports={renderWebGL:y,renderCanvas:c}},48833:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(91296),y=r(function(c,o,l,a){var u=o.faces,v=u.length;if(v!==0){l.addToRenderList(o);var d=c.pipelines.set(o.pipeline,o),p=f(o,l,a).calc;c.pipelines.preBatch(o);for(var g=d.setGameObject(o),m=d.vertexViewF32,x=d.vertexViewU32,C=d.vertexCount*d.currentShader.vertexComponentCount-1,P=o.tintFill,A=[],R=o.debugCallback,L=p.a,O=p.b,w=p.c,b=p.d,F=p.e,M=p.f,I=o.viewPosition.z,B=o.hideCCW,G=l.roundPixels,N=l.alpha*o.alpha,z=0,H=0;H<v;H++){var $=u[H];$.isInView(l,B,I,N,L,O,w,b,F,M,G)&&(d.shouldFlush(3)&&(d.flush(),g=d.setGameObject(o),C=0),C=$.load(m,x,C,g,P),z++,d.vertexCount+=3,d.currentBatch.count=d.vertexCount-d.currentBatch.start,R&&A.push($))}o.totalFrame+=z,R&&R.call(o,o,A),c.pipelines.postBatch(o)}},"MeshWebGLRenderer");n.exports=y},28103:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(83419),y=i(31401),c=i(95643),o=i(78023),l=i(39318),a=new f({Extends:c,Mixins:[y.AlphaSingle,y.BlendMode,y.Depth,y.GetBounds,y.Mask,y.Origin,y.Pipeline,y.PostPipeline,y.ScrollFactor,y.Texture,y.Transform,y.Visible,o],initialize:r(function(v,d,p,g,m,x,C,P,A,R,L){c.call(this,v,"NineSlice"),this._width,this._height,this._originX=.5,this._originY=.5,this._sizeComponent=!0,this.vertices=[],this.leftWidth,this.rightWidth,this.topHeight,this.bottomHeight,this.tint=16777215,this.tintFill=!1;var O=v.textures.getFrame(g,m);this.is3Slice=!R&&!L,O.scale9&&(this.is3Slice=O.is3Slice);for(var w=this.is3Slice?18:54,b=0;b<w;b++)this.vertices.push(new l);this.setPosition(d,p),this.setTexture(g,m),this.setSlices(x,C,P,A,R,L,!1),this.updateDisplayOrigin(),this.initPipeline(),this.initPostPipeline()},"NineSlice"),setSlices:r(function(u,v,d,p,g,m,x){d===void 0&&(d=10),p===void 0&&(p=10),g===void 0&&(g=0),m===void 0&&(m=0),x===void 0&&(x=!1);var C=this.frame,P=!1;if(this.is3Slice&&x&&g!==0&&m!==0&&(P=!0),P)console.warn("Cannot change 9 slice to 3 slice");else{if(C.scale9&&!x){var A=C.data.scale9Borders,R=A.x,L=A.y;d=R,p=C.width-A.w-R,g=L,m=C.height-A.h-L,u===void 0&&(u=C.width),v===void 0&&(v=C.height)}else u===void 0&&(u=256),v===void 0&&(v=256);this._width=u,this._height=v,this.leftWidth=d,this.rightWidth=p,this.topHeight=g,this.bottomHeight=m,this.is3Slice&&(v=C.height,this._height=v,this.topHeight=v,this.bottomHeight=0),this.updateVertices(),this.updateUVs()}return this},"setSlices"),updateUVs:r(function(){var u=this.leftWidth,v=this.rightWidth,d=this.topHeight,p=this.bottomHeight,g=this.frame.width,m=this.frame.height;this.updateQuadUVs(0,0,0,u/g,d/m),this.updateQuadUVs(6,u/g,0,1-v/g,d/m),this.updateQuadUVs(12,1-v/g,0,1,d/m),this.is3Slice||(this.updateQuadUVs(18,0,d/m,u/g,1-p/m),this.updateQuadUVs(24,u/g,d/m,1-v/g,1-p/m),this.updateQuadUVs(30,1-v/g,d/m,1,1-p/m),this.updateQuadUVs(36,0,1-p/m,u/g,1),this.updateQuadUVs(42,u/g,1-p/m,1-v/g,1),this.updateQuadUVs(48,1-v/g,1-p/m,1,1))},"updateUVs"),updateVertices:r(function(){var u=this.leftWidth,v=this.rightWidth,d=this.topHeight,p=this.bottomHeight,g=this.width,m=this.height;this.updateQuad(0,-.5,.5,-.5+u/g,.5-d/m),this.updateQuad(6,-.5+u/g,.5,.5-v/g,.5-d/m),this.updateQuad(12,.5-v/g,.5,.5,.5-d/m),this.is3Slice||(this.updateQuad(18,-.5,.5-d/m,-.5+u/g,-.5+p/m),this.updateQuad(24,-.5+u/g,.5-d/m,.5-v/g,-.5+p/m),this.updateQuad(30,.5-v/g,.5-d/m,.5,-.5+p/m),this.updateQuad(36,-.5,-.5+p/m,-.5+u/g,-.5),this.updateQuad(42,-.5+u/g,-.5+p/m,.5-v/g,-.5),this.updateQuad(48,.5-v/g,-.5+p/m,.5,-.5))},"updateVertices"),updateQuad:r(function(u,v,d,p,g){var m=this.width,x=this.height,C=this.originX,P=this.originY,A=this.vertices;A[u+0].resize(v,d,m,x,C,P),A[u+1].resize(v,g,m,x,C,P),A[u+2].resize(p,d,m,x,C,P),A[u+3].resize(v,g,m,x,C,P),A[u+4].resize(p,g,m,x,C,P),A[u+5].resize(p,d,m,x,C,P)},"updateQuad"),updateQuadUVs:r(function(u,v,d,p,g){var m=this.vertices,x=this.frame,C=x.u0,P=x.v0,A=x.u1,R=x.v1;if(C!==0||A!==1){var L=A-C;v=C+v*L,p=C+p*L}if(P!==0||R!==1){var O=R-P;d=P+d*O,g=P+g*O}m[u+0].setUVs(v,d),m[u+1].setUVs(v,g),m[u+2].setUVs(p,d),m[u+3].setUVs(v,g),m[u+4].setUVs(p,g),m[u+5].setUVs(p,d)},"updateQuadUVs"),clearTint:r(function(){return this.setTint(16777215),this},"clearTint"),setTint:r(function(u){return u===void 0&&(u=16777215),this.tint=u,this.tintFill=!1,this},"setTint"),setTintFill:r(function(u){return this.setTint(u),this.tintFill=!0,this},"setTintFill"),isTinted:{get:r(function(){return this.tint!==16777215},"get")},width:{get:r(function(){return this._width},"get"),set:r(function(u){this._width=Math.max(u,this.leftWidth+this.rightWidth),this.updateVertices()},"set")},height:{get:r(function(){return this._height},"get"),set:r(function(u){this.is3Slice||(this._height=Math.max(u,this.topHeight+this.bottomHeight),this.updateVertices())},"set")},displayWidth:{get:r(function(){return this.scaleX*this.width},"get"),set:r(function(u){this.scaleX=u/this.width},"set")},displayHeight:{get:r(function(){return this.scaleY*this.height},"get"),set:r(function(u){this.scaleY=u/this.height},"set")},setSize:r(function(u,v){this.width=u,this.height=v,this.updateDisplayOrigin();var d=this.input;return d&&!d.customHitArea&&(d.hitArea.width=this.width,d.hitArea.height=this.height),this},"setSize"),setDisplaySize:r(function(u,v){return this.displayWidth=u,this.displayHeight=v,this},"setDisplaySize"),originX:{get:r(function(){return this._originX},"get"),set:r(function(u){this._originX=u,this.updateVertices()},"set")},originY:{get:r(function(){return this._originY},"get"),set:r(function(u){this._originY=u,this.updateVertices()},"set")},setOrigin:r(function(u,v){return u===void 0&&(u=.5),v===void 0&&(v=u),this._originX=u,this._originY=v,this.updateVertices(),this.updateDisplayOrigin()},"setOrigin"),setSizeToFrame:r(function(){if(this.is3Slice){var u=this.frame.height;this._height=u,this.topHeight=u,this.bottomHeight=0}return this.updateUVs(),this},"setSizeToFrame"),preDestroy:r(function(){this.vertices=[]},"preDestroy")});n.exports=a},28279:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(25305),y=i(44603),c=i(23568),o=i(35154),l=i(28103);y.register("nineslice",function(a,u){a===void 0&&(a={});var v=c(a,"key",null),d=c(a,"frame",null),p=o(a,"width",256),g=o(a,"height",256),m=o(a,"leftWidth",10),x=o(a,"rightWidth",10),C=o(a,"topHeight",0),P=o(a,"bottomHeight",0),A=new l(this.scene,0,0,v,d,p,g,m,x,C,P);return u!==void 0&&(a.add=u),f(this.scene,A,a),A})},47521:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(28103),y=i(39429);y.register("nineslice",function(c,o,l,a,u,v,d,p,g,m){return this.displayList.add(new f(this.scene,c,o,l,a,u,v,d,p,g,m))})},78023:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(29747),y=f,c=f;y=i(52230),n.exports={renderWebGL:y,renderCanvas:c}},52230:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(91296),y=i(70554),c=r(function(o,l,a,u){var v=l.vertices,d=v.length;if(d!==0){a.addToRenderList(l);var p=o.pipelines.set(l.pipeline,l),g=f(l,a,u,!1).calc;o.pipelines.preBatch(l);var m=p.setGameObject(l),x=p.vertexViewF32,C=p.vertexViewU32,P=p.vertexCount*p.currentShader.vertexComponentCount-1,A=a.roundPixels,R=l.tintFill,L=a.alpha*l.alpha,O=y.getTintAppendFloatAlpha(l.tint,L),w=p.vertexAvailable(),b=-1;w<d&&(b=w);for(var F=0;F<d;F++){var M=v[F];F===b&&(p.flush(),m=p.setGameObject(l),P=0),x[++P]=g.getXRound(M.vx,M.vy,A),x[++P]=g.getYRound(M.vx,M.vy,A),x[++P]=M.u,x[++P]=M.v,x[++P]=m,x[++P]=R,C[++P]=O,p.vertexCount++,p.currentBatch.count=p.vertexCount-p.currentBatch.start}o.pipelines.postBatch(l)}},"NineSliceWebGLRenderer");n.exports=c},76472:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(83419),y=i(44777),c=i(37589),o=i(6113),l=i(91389),a=i(90664),u=new f({Extends:y,initialize:r(function(d){y.call(this,d,null,!1),this.active=!1,this.easeName="Linear",this.r=[],this.g=[],this.b=[]},"EmitterColorOp"),getMethod:r(function(){return this.propertyValue===null?0:9},"getMethod"),setMethods:r(function(){var v=this.propertyValue,d=v,p=this.defaultEmit,g=this.defaultUpdate;if(this.method===9){this.start=v[0],this.ease=o("Linear"),this.interpolation=l("linear"),p=this.easedValueEmit,g=this.easeValueUpdate,d=v[0],this.active=!0;for(var m=0;m<v.length;m++){var x=a(v[m]);this.r.push(x.r),this.g.push(x.g),this.b.push(x.b)}}return this.onEmit=p,this.onUpdate=g,this.current=d,this},"setMethods"),setEase:r(function(v){this.easeName=v,this.ease=o(v)},"setEase"),easedValueEmit:r(function(){return this.current=this.start,this.start},"easedValueEmit"),easeValueUpdate:r(function(v,d,p){var g=this.ease(p),m=this.interpolation(this.r,g),x=this.interpolation(this.g,g),C=this.interpolation(this.b,g),P=c(m,x,C);return this.current=P,P},"easeValueUpdate")});n.exports=u},44777:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(30976),y=i(45319),c=i(83419),o=i(99472),l=i(6113),a=i(95540),u=i(91389),v=i(77720),d=i(15994),p=new c({initialize:r(function(m,x,C){C===void 0&&(C=!1),this.propertyKey=m,this.propertyValue=x,this.defaultValue=x,this.steps=0,this.counter=0,this.yoyo=!1,this.direction=0,this.start=0,this.current=0,this.end=0,this.ease=null,this.interpolation=null,this.emitOnly=C,this.onEmit=this.defaultEmit,this.onUpdate=this.defaultUpdate,this.active=!0,this.method=0,this._onEmit,this._onUpdate},"EmitterOp"),loadConfig:r(function(g,m){g===void 0&&(g={}),m&&(this.propertyKey=m),this.propertyValue=a(g,this.propertyKey,this.defaultValue),this.method=this.getMethod(),this.setMethods(),this.emitOnly&&(this.onUpdate=this.defaultUpdate)},"loadConfig"),toJSON:r(function(){return JSON.stringify(this.propertyValue)},"toJSON"),onChange:r(function(g){var m;switch(this.method){case 1:case 3:case 8:m=g;break;case 2:this.propertyValue.indexOf(g)>=0&&(m=g);break;case 4:var x=(this.end-this.start)/this.steps;m=v(g,x),this.counter=m;break;case 5:case 6:case 7:m=y(g,this.start,this.end);break;case 9:m=this.start[0];break}return this.current=m,this},"onChange"),getMethod:r(function(){var g=this.propertyValue;if(g===null)return 0;var m=typeof g;if(m==="number")return 1;if(Array.isArray(g))return 2;if(m==="function")return 3;if(m==="object"){if(this.hasBoth(g,"start","end"))return this.has(g,"steps")?4:5;if(this.hasBoth(g,"min","max"))return 6;if(this.has(g,"random"))return 7;if(this.hasEither(g,"onEmit","onUpdate"))return 8;if(this.hasEither(g,"values","interpolation"))return 9}return 0},"getMethod"),setMethods:r(function(){var g=this.propertyValue,m=g,x=this.defaultEmit,C=this.defaultUpdate;switch(this.method){case 1:x=this.staticValueEmit;break;case 2:x=this.randomStaticValueEmit,m=g[0];break;case 3:this._onEmit=g,x=this.proxyEmit;break;case 4:this.start=g.start,this.end=g.end,this.steps=g.steps,this.counter=this.start,this.yoyo=this.has(g,"yoyo")?g.yoyo:!1,this.direction=0,x=this.steppedEmit,m=this.start;break;case 5:this.start=g.start,this.end=g.end;var P=this.has(g,"ease")?g.ease:"Linear";this.ease=l(P,g.easeParams),x=this.has(g,"random")&&g.random?this.randomRangedValueEmit:this.easedValueEmit,C=this.easeValueUpdate,m=this.start;break;case 6:this.start=g.min,this.end=g.max,x=this.has(g,"int")&&g.int?this.randomRangedIntEmit:this.randomRangedValueEmit,m=this.start;break;case 7:var A=g.random;Array.isArray(A)&&(this.start=A[0],this.end=A[1]),x=this.randomRangedIntEmit,m=this.start;break;case 8:this._onEmit=this.has(g,"onEmit")?g.onEmit:this.defaultEmit,this._onUpdate=this.has(g,"onUpdate")?g.onUpdate:this.defaultUpdate,x=this.proxyEmit,C=this.proxyUpdate;break;case 9:this.start=g.values;var R=this.has(g,"ease")?g.ease:"Linear";this.ease=l(R,g.easeParams),this.interpolation=u(g.interpolation),x=this.easedValueEmit,C=this.easeValueUpdate,m=this.start[0];break}return this.onEmit=x,this.onUpdate=C,this.current=m,this},"setMethods"),has:r(function(g,m){return g.hasOwnProperty(m)},"has"),hasBoth:r(function(g,m,x){return g.hasOwnProperty(m)&&g.hasOwnProperty(x)},"hasBoth"),hasEither:r(function(g,m,x){return g.hasOwnProperty(m)||g.hasOwnProperty(x)},"hasEither"),defaultEmit:r(function(g,m,x){return x},"defaultEmit"),defaultUpdate:r(function(g,m,x,C){return C},"defaultUpdate"),proxyEmit:r(function(g,m,x){var C=this._onEmit(g,m,x);return this.current=C,C},"proxyEmit"),proxyUpdate:r(function(g,m,x,C){var P=this._onUpdate(g,m,x,C);return this.current=P,P},"proxyUpdate"),staticValueEmit:r(function(){return this.current},"staticValueEmit"),staticValueUpdate:r(function(){return this.current},"staticValueUpdate"),randomStaticValueEmit:r(function(){var g=Math.floor(Math.random()*this.propertyValue.length);return this.current=this.propertyValue[g],this.current},"randomStaticValueEmit"),randomRangedValueEmit:r(function(g,m){var x=o(this.start,this.end);return g&&g.data[m]&&(g.data[m].min=x,g.data[m].max=this.end),this.current=x,x},"randomRangedValueEmit"),randomRangedIntEmit:r(function(g,m){var x=f(this.start,this.end);return g&&g.data[m]&&(g.data[m].min=x,g.data[m].max=this.end),this.current=x,x},"randomRangedIntEmit"),steppedEmit:r(function(){var g=this.counter,m=g,x=(this.end-this.start)/this.steps;if(this.yoyo){var C;this.direction===0?(m+=x,m>=this.end&&(C=m-this.end,m=this.end-C,this.direction=1)):(m-=x,m<=this.start&&(C=this.start-m,m=this.start+C,this.direction=0)),this.counter=m}else this.counter=d(m+x,this.start,this.end);return this.current=g,g},"steppedEmit"),easedValueEmit:r(function(g,m){if(g&&g.data[m]){var x=g.data[m];x.min=this.start,x.max=this.end}return this.current=this.start,this.start},"easedValueEmit"),easeValueUpdate:r(function(g,m,x){var C=g.data[m],P,A=this.ease(x);return this.interpolation?P=this.interpolation(this.start,A):P=(C.max-C.min)*A+C.min,this.current=P,P},"easeValueUpdate"),destroy:r(function(){this.propertyValue=null,this.defaultValue=null,this.ease=null,this.interpolation=null,this._onEmit=null,this._onUpdate=null},"destroy")});n.exports=p},24502:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(83419),y=i(95540),c=i(20286),o=new f({Extends:c,initialize:r(function(a,u,v,d,p){if(typeof a=="object"){var g=a;a=y(g,"x",0),u=y(g,"y",0),v=y(g,"power",0),d=y(g,"epsilon",100),p=y(g,"gravity",50)}else a===void 0&&(a=0),u===void 0&&(u=0),v===void 0&&(v=0),d===void 0&&(d=100),p===void 0&&(p=50);c.call(this,a,u,!0),this._gravity=p,this._power=v*p,this._epsilon=d*d},"GravityWell"),update:r(function(l,a){var u=this.x-l.x,v=this.y-l.y,d=u*u+v*v;if(d!==0){var p=Math.sqrt(d);d<this._epsilon&&(d=this._epsilon);var g=this._power*a/(d*p)*100;l.velocityX+=u*g,l.velocityY+=v*g}},"update"),epsilon:{get:r(function(){return Math.sqrt(this._epsilon)},"get"),set:r(function(l){this._epsilon=l*l},"set")},power:{get:r(function(){return this._power/this._gravity},"get"),set:r(function(l){this._power=l*this._gravity},"set")},gravity:{get:r(function(){return this._gravity},"get"),set:r(function(l){var a=this.power;this._gravity=l,this.power=a},"set")}});n.exports=o},56480:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(9674),y=i(45319),c=i(83419),o=i(39506),l=i(87841),a=i(11520),u=i(26099),v=new c({initialize:r(function(p){this.emitter=p,this.texture=null,this.frame=null,this.x=0,this.y=0,this.worldPosition=new u,this.velocityX=0,this.velocityY=0,this.accelerationX=0,this.accelerationY=0,this.maxVelocityX=1e4,this.maxVelocityY=1e4,this.bounce=0,this.scaleX=1,this.scaleY=1,this.alpha=1,this.angle=0,this.rotation=0,this.tint=16777215,this.life=1e3,this.lifeCurrent=1e3,this.delayCurrent=0,this.holdCurrent=0,this.lifeT=0,this.data={tint:{min:16777215,max:16777215},alpha:{min:1,max:1},rotate:{min:0,max:0},scaleX:{min:1,max:1},scaleY:{min:1,max:1},x:{min:0,max:0},y:{min:0,max:0},accelerationX:{min:0,max:0},accelerationY:{min:0,max:0},maxVelocityX:{min:0,max:0},maxVelocityY:{min:0,max:0},moveToX:{min:0,max:0},moveToY:{min:0,max:0},bounce:{min:0,max:0}},this.isCropped=!1,this.scene=p.scene,this.anims=new f(this),this.bounds=new l},"Particle"),emit:r(function(d,p,g,m,x,C){return this.emitter.emit(d,p,g,m,x,C)},"emit"),isAlive:r(function(){return this.lifeCurrent>0},"isAlive"),kill:r(function(){this.lifeCurrent=0},"kill"),setPosition:r(function(d,p){d===void 0&&(d=0),p===void 0&&(p=0),this.x=d,this.y=p},"setPosition"),fire:r(function(d,p){var g=this.emitter,m=g.ops,x=g.getAnim();if(x?this.anims.play(x):(this.frame=g.getFrame(),this.texture=this.frame.texture),!this.frame)throw new Error("Particle has no texture frame");if(g.getEmitZone(this),d===void 0?this.x+=m.x.onEmit(this,"x"):m.x.steps>0?this.x+=d+m.x.onEmit(this,"x"):this.x+=d,p===void 0?this.y+=m.y.onEmit(this,"y"):m.y.steps>0?this.y+=p+m.y.onEmit(this,"y"):this.y+=p,this.life=m.lifespan.onEmit(this,"lifespan"),this.lifeCurrent=this.life,this.lifeT=0,this.delayCurrent=m.delay.onEmit(this,"delay"),this.holdCurrent=m.hold.onEmit(this,"hold"),this.scaleX=m.scaleX.onEmit(this,"scaleX"),this.scaleY=m.scaleY.active?m.scaleY.onEmit(this,"scaleY"):this.scaleX,this.angle=m.rotate.onEmit(this,"rotate"),this.rotation=o(this.angle),g.worldMatrix.transformPoint(this.x,this.y,this.worldPosition),this.delayCurrent===0&&g.getDeathZone(this))return this.lifeCurrent=0,!1;var C=m.speedX.onEmit(this,"speedX"),P=m.speedY.active?m.speedY.onEmit(this,"speedY"):C;if(g.radial){var A=o(m.angle.onEmit(this,"angle"));this.velocityX=Math.cos(A)*Math.abs(C),this.velocityY=Math.sin(A)*Math.abs(P)}else if(g.moveTo){var R=m.moveToX.onEmit(this,"moveToX"),L=m.moveToY.onEmit(this,"moveToY"),O=this.life/1e3;this.velocityX=(R-this.x)/O,this.velocityY=(L-this.y)/O}else this.velocityX=C,this.velocityY=P;return g.acceleration&&(this.accelerationX=m.accelerationX.onEmit(this,"accelerationX"),this.accelerationY=m.accelerationY.onEmit(this,"accelerationY")),this.maxVelocityX=m.maxVelocityX.onEmit(this,"maxVelocityX"),this.maxVelocityY=m.maxVelocityY.onEmit(this,"maxVelocityY"),this.bounce=m.bounce.onEmit(this,"bounce"),this.alpha=m.alpha.onEmit(this,"alpha"),m.color.active?this.tint=m.color.onEmit(this,"tint"):this.tint=m.tint.onEmit(this,"tint"),!0},"fire"),update:r(function(d,p,g){if(this.lifeCurrent<=0)return this.holdCurrent>0?(this.holdCurrent-=d,this.holdCurrent<=0):!0;if(this.delayCurrent>0)return this.delayCurrent-=d,!1;this.anims.update(0,d);var m=this.emitter,x=m.ops,C=1-this.lifeCurrent/this.life;if(this.lifeT=C,this.x=x.x.onUpdate(this,"x",C,this.x),this.y=x.y.onUpdate(this,"y",C,this.y),m.moveTo){var P=x.moveToX.onUpdate(this,"moveToX",C,m.moveToX),A=x.moveToY.onUpdate(this,"moveToY",C,m.moveToY),R=this.lifeCurrent/1e3;this.velocityX=(P-this.x)/R,this.velocityY=(A-this.y)/R}return this.computeVelocity(m,d,p,g,C),this.scaleX=x.scaleX.onUpdate(this,"scaleX",C,this.scaleX),x.scaleY.active?this.scaleY=x.scaleY.onUpdate(this,"scaleY",C,this.scaleY):this.scaleY=this.scaleX,this.angle=x.rotate.onUpdate(this,"rotate",C,this.angle),this.rotation=o(this.angle),m.getDeathZone(this)?(this.lifeCurrent=0,!0):(this.alpha=y(x.alpha.onUpdate(this,"alpha",C,this.alpha),0,1),x.color.active?this.tint=x.color.onUpdate(this,"color",C,this.tint):this.tint=x.tint.onUpdate(this,"tint",C,this.tint),this.lifeCurrent-=d,this.lifeCurrent<=0&&this.holdCurrent<=0)},"update"),computeVelocity:r(function(d,p,g,m,x){var C=d.ops,P=this.velocityX,A=this.velocityY,R=C.accelerationX.onUpdate(this,"accelerationX",x,this.accelerationX),L=C.accelerationY.onUpdate(this,"accelerationY",x,this.accelerationY),O=C.maxVelocityX.onUpdate(this,"maxVelocityX",x,this.maxVelocityX),w=C.maxVelocityY.onUpdate(this,"maxVelocityY",x,this.maxVelocityY);this.bounce=C.bounce.onUpdate(this,"bounce",x,this.bounce),P+=d.gravityX*g+R*g,A+=d.gravityY*g+L*g,P=y(P,-O,O),A=y(A,-w,w),this.velocityX=P,this.velocityY=A,this.x+=P*g,this.y+=A*g,d.worldMatrix.transformPoint(this.x,this.y,this.worldPosition);for(var b=0;b<m.length;b++){var F=m[b];F.active&&F.update(this,p,g,x)}},"computeVelocity"),setSizeToFrame:r(function(){},"setSizeToFrame"),getBounds:r(function(d){d===void 0&&(d=this.emitter.getWorldTransformMatrix());var p=Math.abs(d.scaleX)*this.scaleX,g=Math.abs(d.scaleY)*this.scaleY,m=this.x,x=this.y,C=this.rotation,P=this.frame.width*p/2,A=this.frame.height*g/2,R=this.bounds,L=new u(m-P,x-A),O=new u(m+P,x-A),w=new u(m-P,x+A),b=new u(m+P,x+A);return C!==0&&(a(L,m,x,C),a(O,m,x,C),a(w,m,x,C),a(b,m,x,C)),d.transformPoint(L.x,L.y,L),d.transformPoint(O.x,O.y,O),d.transformPoint(w.x,w.y,w),d.transformPoint(b.x,b.y,b),R.x=Math.min(L.x,O.x,w.x,b.x),R.y=Math.min(L.y,O.y,w.y,b.y),R.width=Math.max(L.x,O.x,w.x,b.x)-R.x,R.height=Math.max(L.y,O.y,w.y,b.y)-R.y,R},"getBounds"),destroy:r(function(){this.anims.destroy(),this.anims=null,this.emitter=null,this.texture=null,this.frame=null,this.scene=null},"destroy")});n.exports=v},69601:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(83419),y=i(20286),c=i(87841),o=new f({Extends:y,initialize:r(function(a,u,v,d,p,g,m,x){p===void 0&&(p=!0),g===void 0&&(g=!0),m===void 0&&(m=!0),x===void 0&&(x=!0),y.call(this,a,u,!0),this.bounds=new c(a,u,v,d),this.collideLeft=p,this.collideRight=g,this.collideTop=m,this.collideBottom=x},"ParticleBounds"),update:r(function(l){var a=this.bounds,u=-l.bounce,v=l.worldPosition;v.x<a.x&&this.collideLeft?(l.x+=a.x-v.x,l.velocityX*=u):v.x>a.right&&this.collideRight&&(l.x-=v.x-a.right,l.velocityX*=u),v.y<a.y&&this.collideTop?(l.y+=a.y-v.y,l.velocityY*=u):v.y>a.bottom&&this.collideBottom&&(l.y-=v.y-a.bottom,l.velocityY*=u)},"update")});n.exports=o},31600:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(83419),y=i(31401),c=i(53774),o=i(43459),l=i(26388),a=i(19909),u=i(76472),v=i(44777),d=i(20696),p=i(95643),g=i(95540),m=i(26546),x=i(24502),C=i(1985),P=i(97022),A=i(86091),R=i(73162),L=i(20074),O=i(56480),w=i(68875),b=i(87841),F=i(59996),M=i(72905),I=i(90668),B=i(19186),G=i(61340),N=i(26099),z=i(15994),H=i(69601),$=["active","advance","blendMode","colorEase","deathCallback","deathCallbackScope","duration","emitCallback","emitCallbackScope","follow","frequency","gravityX","gravityY","maxAliveParticles","maxParticles","name","emitting","particleBringToTop","particleClass","radial","sortCallback","sortOrderAsc","sortProperty","stopAfter","tintFill","timeScale","trackVisible","visible"],V=["accelerationX","accelerationY","alpha","angle","bounce","color","delay","hold","lifespan","maxVelocityX","maxVelocityY","moveToX","moveToY","quantity","rotate","scaleX","scaleY","speedX","speedY","tint","x","y"],Y=new f({Extends:p,Mixins:[y.AlphaSingle,y.BlendMode,y.Depth,y.Mask,y.Pipeline,y.PostPipeline,y.ScrollFactor,y.Texture,y.Transform,y.Visible,I],initialize:r(function(U,W,k,X,K){p.call(this,U,"ParticleEmitter"),this.particleClass=O,this.ops={accelerationX:new v("accelerationX",0),accelerationY:new v("accelerationY",0),alpha:new v("alpha",1),angle:new v("angle",{min:0,max:360},!0),bounce:new v("bounce",0),color:new u("color"),delay:new v("delay",0,!0),hold:new v("hold",0,!0),lifespan:new v("lifespan",1e3,!0),maxVelocityX:new v("maxVelocityX",1e4),maxVelocityY:new v("maxVelocityY",1e4),moveToX:new v("moveToX",0),moveToY:new v("moveToY",0),quantity:new v("quantity",1,!0),rotate:new v("rotate",0),scaleX:new v("scaleX",1),scaleY:new v("scaleY",1),speedX:new v("speedX",0,!0),speedY:new v("speedY",0,!0),tint:new v("tint",16777215),x:new v("x",0),y:new v("y",0)},this.radial=!0,this.gravityX=0,this.gravityY=0,this.acceleration=!1,this.moveTo=!1,this.emitCallback=null,this.emitCallbackScope=null,this.deathCallback=null,this.deathCallbackScope=null,this.maxParticles=0,this.maxAliveParticles=0,this.stopAfter=0,this.duration=0,this.frequency=0,this.emitting=!0,this.particleBringToTop=!0,this.timeScale=1,this.emitZones=[],this.deathZones=[],this.viewBounds=null,this.follow=null,this.followOffset=new N,this.trackVisible=!1,this.frames=[],this.randomFrame=!0,this.frameQuantity=1,this.anims=[],this.randomAnim=!0,this.animQuantity=1,this.dead=[],this.alive=[],this.counters=new Float32Array(10),this.skipping=!1,this.worldMatrix=new G,this.sortProperty="",this.sortOrderAsc=!0,this.sortCallback=this.depthSortCallback,this.processors=new R(this),this.tintFill=!1,this.initPipeline(),this.initPostPipeline(),this.setPosition(W,k),this.setTexture(X),K&&this.setConfig(K)},"ParticleEmitter"),addedToScene:r(function(){this.scene.sys.updateList.add(this)},"addedToScene"),removedFromScene:r(function(){this.scene.sys.updateList.remove(this)},"removedFromScene"),setConfig:r(function(D){if(!D)return this;var U=0,W="",k=this.ops;for(U=0;U<V.length;U++)W=V[U],k[W].loadConfig(D);for(U=0;U<$.length;U++)W=$[U],P(D,W)&&(this[W]=g(D,W));if(this.acceleration=this.accelerationX!==0||this.accelerationY!==0,this.moveTo=this.moveToX!==0&&this.moveToY!==0,P(D,"speed")&&(k.speedX.loadConfig(D,"speed"),k.speedY.active=!1),(C(D,["speedX","speedY"])||this.moveTo)&&(this.radial=!1),P(D,"scale")&&(k.scaleX.loadConfig(D,"scale"),k.scaleY.active=!1),P(D,"callbackScope")){var X=g(D,"callbackScope",null);this.emitCallbackScope=X,this.deathCallbackScope=X}if(P(D,"emitZone")&&this.addEmitZone(D.emitZone),P(D,"deathZone")&&this.addDeathZone(D.deathZone),P(D,"bounds")){var K=this.addParticleBounds(D.bounds);K.collideLeft=g(D,"collideLeft",!0),K.collideRight=g(D,"collideRight",!0),K.collideTop=g(D,"collideTop",!0),K.collideBottom=g(D,"collideBottom",!0)}return P(D,"followOffset")&&this.followOffset.setFromObject(g(D,"followOffset",0)),P(D,"texture")&&this.setTexture(D.texture),P(D,"frame")?this.setEmitterFrame(D.frame):P(D,"anim")&&this.setAnim(D.anim),P(D,"reserve")&&this.reserve(D.reserve),P(D,"advance")&&this.fastForward(D.advance),this.resetCounters(this.frequency,this.emitting),this.emitting&&this.emit(d.START,this),this},"setConfig"),toJSON:r(function(){var D=c(this),U=0,W="";for(U=0;U<$.length;U++)W=$[U],D[W]=this[W];var k=this.ops;for(U=0;U<V.length;U++)W=V[U],k[W]&&(D[W]=k[W].toJSON());return k.speedY.active||(delete D.speedX,D.speed=k.speedX.toJSON()),this.scaleX===this.scaleY&&(delete D.scaleX,delete D.scaleY,D.scale=k.scaleX.toJSON()),D},"toJSON"),resetCounters:r(function(D,U){var W=this.counters;W.fill(0),W[0]=D,U&&(W[5]=1)},"resetCounters"),startFollow:r(function(D,U,W,k){return U===void 0&&(U=0),W===void 0&&(W=0),k===void 0&&(k=!1),this.follow=D,this.followOffset.set(U,W),this.trackVisible=k,this},"startFollow"),stopFollow:r(function(){return this.follow=null,this.followOffset.set(0,0),this.trackVisible=!1,this},"stopFollow"),getFrame:r(function(){var D=this.frames,U=D.length,W;return U===1?W=D[0]:this.randomFrame?W=m(D):(W=D[this.currentFrame],this.frameCounter++,this.frameCounter===this.frameQuantity&&(this.frameCounter=0,this.currentFrame++,this.currentFrame===U&&(this.currentFrame=0))),this.texture.get(W)},"getFrame"),setEmitterFrame:r(function(D,U,W){U===void 0&&(U=!0),W===void 0&&(W=1),this.randomFrame=U,this.frameQuantity=W,this.currentFrame=0;var k=typeof D;if(this.frames.length=0,Array.isArray(D))this.frames=this.frames.concat(D);else if(k==="string"||k==="number")this.frames.push(D);else if(k==="object"){var X=D;D=g(X,"frames",null),D&&(this.frames=this.frames.concat(D));var K=g(X,"cycle",!1);this.randomFrame=!K,this.frameQuantity=g(X,"quantity",W)}return this.frames.length===1&&(this.frameQuantity=1,this.randomFrame=!1),this},"setEmitterFrame"),getAnim:r(function(){var D=this.anims,U=D.length;if(U===0)return null;if(U===1)return D[0];if(this.randomAnim)return m(D);var W=D[this.currentAnim];return this.animCounter++,this.animCounter>=this.animQuantity&&(this.animCounter=0,this.currentAnim=z(this.currentAnim+1,0,U)),W},"getAnim"),setAnim:r(function(D,U,W){U===void 0&&(U=!0),W===void 0&&(W=1),this.randomAnim=U,this.animQuantity=W,this.currentAnim=0;var k=typeof D;if(this.anims.length=0,Array.isArray(D))this.anims=this.anims.concat(D);else if(k==="string")this.anims.push(D);else if(k==="object"){var X=D;D=g(X,"anims",null),D&&(this.anims=this.anims.concat(D));var K=g(X,"cycle",!1);this.randomAnim=!K,this.animQuantity=g(X,"quantity",W)}return this.anims.length===1&&(this.animQuantity=1,this.randomAnim=!1),this},"setAnim"),setRadial:r(function(D){return D===void 0&&(D=!0),this.radial=D,this},"setRadial"),addParticleBounds:r(function(D,U,W,k,X,K,Z,J){if(typeof D=="object"){var Q=D;D=Q.x,U=Q.y,W=P(Q,"w")?Q.w:Q.width,k=P(Q,"h")?Q.h:Q.height}return this.addParticleProcessor(new H(D,U,W,k,X,K,Z,J))},"addParticleBounds"),setParticleSpeed:r(function(D,U){return U===void 0&&(U=D),this.ops.speedX.onChange(D),D===U?this.ops.speedY.active=!1:this.ops.speedY.onChange(U),this.radial=!0,this},"setParticleSpeed"),setParticleScale:r(function(D,U){return D===void 0&&(D=1),U===void 0&&(U=D),this.ops.scaleX.onChange(D),this.ops.scaleY.onChange(U),this},"setParticleScale"),setParticleGravity:r(function(D,U){return this.gravityX=D,this.gravityY=U,this},"setParticleGravity"),setParticleAlpha:r(function(D){return this.ops.alpha.onChange(D),this},"setParticleAlpha"),setParticleTint:r(function(D){return this.ops.tint.onChange(D),this},"setParticleTint"),setEmitterAngle:r(function(D){return this.ops.angle.onChange(D),this},"setEmitterAngle"),setParticleLifespan:r(function(D){return this.ops.lifespan.onChange(D),this},"setParticleLifespan"),setQuantity:r(function(D){return this.quantity=D,this},"setQuantity"),setFrequency:r(function(D,U){return this.frequency=D,this.flowCounter=D>0?D:0,U&&(this.quantity=U),this},"setFrequency"),addDeathZone:r(function(D){Array.isArray(D)||(D=[D]);for(var U,W=[],k=0;k<D.length;k++)if(U=D[k],U instanceof l)W.push(U);else if(typeof U.contains=="function")U=new l(U,!0),W.push(U);else{var X=g(U,"type","onEnter"),K=g(U,"source",null);if(K&&typeof K.contains=="function"){var Z=X==="onEnter";U=new l(K,Z),W.push(U)}}return this.deathZones=this.deathZones.concat(W),W},"addDeathZone"),removeDeathZone:r(function(D){return M(this.deathZones,D),this},"removeDeathZone"),clearDeathZones:r(function(){return this.deathZones.length=0,this},"clearDeathZones"),addEmitZone:r(function(D){Array.isArray(D)||(D=[D]);for(var U,W=[],k=0;k<D.length;k++)if(U=D[k],U instanceof w||U instanceof a)W.push(U);else{var X=g(U,"source",null);if(X){var K=g(U,"type","random");if(K==="random"&&typeof X.getRandomPoint=="function")U=new w(X),W.push(U);else if(K==="edge"&&typeof X.getPoints=="function"){var Z=g(U,"quantity",1),J=g(U,"stepRate",0),Q=g(U,"yoyo",!1),j=g(U,"seamless",!0),q=g(U,"total",-1);U=new a(X,Z,J,Q,j,q),W.push(U)}}}return this.emitZones=this.emitZones.concat(W),W},"addEmitZone"),removeEmitZone:r(function(D){return M(this.emitZones,D),this.zoneIndex=0,this},"removeEmitZone"),clearEmitZones:r(function(){return this.emitZones.length=0,this.zoneIndex=0,this},"clearEmitZones"),getEmitZone:r(function(D){var U=this.emitZones,W=U.length;if(W!==0){var k=U[this.zoneIndex];k.getPoint(D),k.total>-1&&(this.zoneTotal++,this.zoneTotal===k.total&&(this.zoneTotal=0,this.zoneIndex++,this.zoneIndex===W&&(this.zoneIndex=0)))}},"getEmitZone"),getDeathZone:r(function(D){for(var U=this.deathZones,W=0;W<U.length;W++){var k=U[W];if(k.willKill(D))return this.emit(d.DEATH_ZONE,this,D,k),!0}return!1},"getDeathZone"),setEmitZone:r(function(D){var U;return isFinite(D)?U=D:U=this.emitZones.indexOf(D),U>=0&&(this.zoneIndex=U),this},"setEmitZone"),addParticleProcessor:r(function(D){return this.processors.exists(D)||(D.emitter&&D.emitter.removeParticleProcessor(D),this.processors.add(D),D.emitter=this),D},"addParticleProcessor"),removeParticleProcessor:r(function(D){return this.processors.exists(D)&&(this.processors.remove(D,!0),D.emitter=null),D},"removeParticleProcessor"),getProcessors:r(function(){return this.processors.getAll("active",!0)},"getProcessors"),createGravityWell:r(function(D){return this.addParticleProcessor(new x(D))},"createGravityWell"),reserve:r(function(D){var U=this.dead;if(this.maxParticles>0){var W=this.getParticleCount();W+D>this.maxParticles&&(D=this.maxParticles-(W+D))}for(var k=0;k<D;k++)U.push(new this.particleClass(this));return this},"reserve"),getAliveParticleCount:r(function(){return this.alive.length},"getAliveParticleCount"),getDeadParticleCount:r(function(){return this.dead.length},"getDeadParticleCount"),getParticleCount:r(function(){return this.getAliveParticleCount()+this.getDeadParticleCount()},"getParticleCount"),atLimit:r(function(){return this.maxParticles>0&&this.getParticleCount()>=this.maxParticles?!0:this.maxAliveParticles>0&&this.getAliveParticleCount()>=this.maxAliveParticles},"atLimit"),onParticleEmit:r(function(D,U){return D===void 0?(this.emitCallback=null,this.emitCallbackScope=null):typeof D=="function"&&(this.emitCallback=D,U&&(this.emitCallbackScope=U)),this},"onParticleEmit"),onParticleDeath:r(function(D,U){return D===void 0?(this.deathCallback=null,this.deathCallbackScope=null):typeof D=="function"&&(this.deathCallback=D,U&&(this.deathCallbackScope=U)),this},"onParticleDeath"),killAll:r(function(){for(var D=this.dead,U=this.alive;U.length>0;)D.push(U.pop());return this},"killAll"),forEachAlive:r(function(D,U){for(var W=this.alive,k=W.length,X=0;X<k;X++)D.call(U,W[X],this);return this},"forEachAlive"),forEachDead:r(function(D,U){for(var W=this.dead,k=W.length,X=0;X<k;X++)D.call(U,W[X],this);return this},"forEachDead"),start:r(function(D,U){return D===void 0&&(D=0),this.emitting||(D>0&&this.fastForward(D),this.emitting=!0,this.resetCounters(this.frequency,!0),U!==void 0&&(this.duration=Math.abs(U)),this.emit(d.START,this)),this},"start"),stop:r(function(D){return D===void 0&&(D=!1),this.emitting&&(this.emitting=!1,D&&this.killAll(),this.emit(d.STOP,this)),this},"stop"),pause:r(function(){return this.active=!1,this},"pause"),resume:r(function(){return this.active=!0,this},"resume"),setSortProperty:r(function(D,U){return D===void 0&&(D=""),U===void 0&&(U=this.true),this.sortProperty=D,this.sortOrderAsc=U,this.sortCallback=this.depthSortCallback,this},"setSortProperty"),setSortCallback:r(function(D){return this.sortProperty!==""?D=this.depthSortCallback:D=null,this.sortCallback=D,this},"setSortCallback"),depthSort:r(function(){return B(this.alive,this.sortCallback.bind(this)),this},"depthSort"),depthSortCallback:r(function(D,U){var W=this.sortProperty;return this.sortOrderAsc?D[W]-U[W]:U[W]-D[W]},"depthSortCallback"),flow:r(function(D,U,W){return U===void 0&&(U=1),this.emitting=!1,this.frequency=D,this.quantity=U,W!==void 0&&(this.stopAfter=W),this.start()},"flow"),explode:r(function(D,U,W){this.frequency=-1,this.resetCounters(-1,!0);var k=this.emitParticle(D,U,W);return this.emit(d.EXPLODE,this,k),k},"explode"),emitParticleAt:r(function(D,U,W){return this.emitParticle(W,D,U)},"emitParticleAt"),emitParticle:r(function(D,U,W){if(!this.atLimit()){D===void 0&&(D=this.ops.quantity.onEmit());for(var k=this.dead,X=this.stopAfter,K=this.follow?this.follow.x+this.followOffset.x:U,Z=this.follow?this.follow.y+this.followOffset.y:W,J=0;J<D;J++){var Q=k.pop();if(Q||(Q=new this.particleClass(this)),Q.fire(K,Z)?(this.particleBringToTop?this.alive.push(Q):this.alive.unshift(Q),this.emitCallback&&this.emitCallback.call(this.emitCallbackScope,Q,this)):this.dead.push(Q),X>0&&(this.stopCounter++,this.stopCounter>=X)||this.atLimit())break}return Q}},"emitParticle"),fastForward:r(function(D,U){U===void 0&&(U=1e3/60);var W=0;for(this.skipping=!0;W<Math.abs(D);)this.preUpdate(0,U),W+=U;return this.skipping=!1,this},"fastForward"),preUpdate:r(function(D,U){U*=this.timeScale;var W=U/1e3;this.trackVisible&&(this.visible=this.follow.visible),this.getWorldTransformMatrix(this.worldMatrix);var k=this.getProcessors(),X=this.alive,K=this.dead,Z=0,J=[],Q=X.length;for(Z=0;Z<Q;Z++){var j=X[Z];j.update(U,W,k)&&J.push({index:Z,particle:j})}if(Q=J.length,Q>0){var q=this.deathCallback,tt=this.deathCallbackScope;for(Z=Q-1;Z>=0;Z--){var _=J[Z];X.splice(_.index,1),K.push(_.particle),q&&q.call(tt,_.particle),_.particle.setPosition()}}if(!this.emitting&&!this.skipping){this.completeFlag===1&&X.length===0&&(this.completeFlag=0,this.emit(d.COMPLETE,this));return}if(this.frequency===0)this.emitParticle();else if(this.frequency>0)for(this.flowCounter-=U;this.flowCounter<=0;)this.emitParticle(),this.flowCounter+=this.frequency;this.skipping||(this.duration>0&&(this.elapsed+=U,this.elapsed>=this.duration&&this.stop()),this.stopAfter>0&&this.stopCounter>=this.stopAfter&&this.stop())},"preUpdate"),overlap:r(function(D){for(var U=this.getWorldTransformMatrix(),W=this.alive,k=W.length,X=[],K=0;K<k;K++){var Z=W[K];F(D,Z.getBounds(U))&&X.push(Z)}return X},"overlap"),getBounds:r(function(D,U,W,k){D===void 0&&(D=0),U===void 0&&(U=0),W===void 0&&(W=1e3/60),k===void 0&&(k=new b);var X=this.getWorldTransformMatrix(),K,Z,J=this.alive,Q=!1;if(k.setTo(0,0,0,0),U>0){var j=0;for(this.skipping=!0;j<Math.abs(U);){for(this.preUpdate(0,W),K=0;K<J.length;K++)Z=J[K].getBounds(X),Q?L(k,Z):(Q=!0,o(Z,k));j+=W}this.skipping=!1}else for(K=0;K<J.length;K++)Z=J[K].getBounds(X),Q?L(k,Z):(Q=!0,o(Z,k));return D>0&&A(k,D,D),k},"getBounds"),createEmitter:r(function(){throw new Error("createEmitter removed. See ParticleEmitter docs for info")},"createEmitter"),particleX:{get:r(function(){return this.ops.x.current},"get"),set:r(function(D){this.ops.x.onChange(D)},"set")},particleY:{get:r(function(){return this.ops.y.current},"get"),set:r(function(D){this.ops.y.onChange(D)},"set")},accelerationX:{get:r(function(){return this.ops.accelerationX.current},"get"),set:r(function(D){this.ops.accelerationX.onChange(D)},"set")},accelerationY:{get:r(function(){return this.ops.accelerationY.current},"get"),set:r(function(D){this.ops.accelerationY.onChange(D)},"set")},maxVelocityX:{get:r(function(){return this.ops.maxVelocityX.current},"get"),set:r(function(D){this.ops.maxVelocityX.onChange(D)},"set")},maxVelocityY:{get:r(function(){return this.ops.maxVelocityY.current},"get"),set:r(function(D){this.ops.maxVelocityY.onChange(D)},"set")},speed:{get:r(function(){return this.ops.speedX.current},"get"),set:r(function(D){this.ops.speedX.onChange(D),this.ops.speedY.onChange(D)},"set")},speedX:{get:r(function(){return this.ops.speedX.current},"get"),set:r(function(D){this.ops.speedX.onChange(D)},"set")},speedY:{get:r(function(){return this.ops.speedY.current},"get"),set:r(function(D){this.ops.speedY.onChange(D)},"set")},moveToX:{get:r(function(){return this.ops.moveToX.current},"get"),set:r(function(D){this.ops.moveToX.onChange(D)},"set")},moveToY:{get:r(function(){return this.ops.moveToY.current},"get"),set:r(function(D){this.ops.moveToY.onChange(D)},"set")},bounce:{get:r(function(){return this.ops.bounce.current},"get"),set:r(function(D){this.ops.bounce.onChange(D)},"set")},particleScaleX:{get:r(function(){return this.ops.scaleX.current},"get"),set:r(function(D){this.ops.scaleX.onChange(D)},"set")},particleScaleY:{get:r(function(){return this.ops.scaleY.current},"get"),set:r(function(D){this.ops.scaleY.onChange(D)},"set")},particleColor:{get:r(function(){return this.ops.color.current},"get"),set:r(function(D){this.ops.color.onChange(D)},"set")},colorEase:{get:r(function(){return this.ops.color.easeName},"get"),set:r(function(D){this.ops.color.setEase(D)},"set")},particleTint:{get:r(function(){return this.ops.tint.current},"get"),set:r(function(D){this.ops.tint.onChange(D)},"set")},particleAlpha:{get:r(function(){return this.ops.alpha.current},"get"),set:r(function(D){this.ops.alpha.onChange(D)},"set")},lifespan:{get:r(function(){return this.ops.lifespan.current},"get"),set:r(function(D){this.ops.lifespan.onChange(D)},"set")},particleAngle:{get:r(function(){return this.ops.angle.current},"get"),set:r(function(D){this.ops.angle.onChange(D)},"set")},particleRotate:{get:r(function(){return this.ops.rotate.current},"get"),set:r(function(D){this.ops.rotate.onChange(D)},"set")},quantity:{get:r(function(){return this.ops.quantity.current},"get"),set:r(function(D){this.ops.quantity.onChange(D)},"set")},delay:{get:r(function(){return this.ops.delay.current},"get"),set:r(function(D){this.ops.delay.onChange(D)},"set")},hold:{get:r(function(){return this.ops.hold.current},"get"),set:r(function(D){this.ops.hold.onChange(D)},"set")},flowCounter:{get:r(function(){return this.counters[0]},"get"),set:r(function(D){this.counters[0]=D},"set")},frameCounter:{get:r(function(){return this.counters[1]},"get"),set:r(function(D){this.counters[1]=D},"set")},animCounter:{get:r(function(){return this.counters[2]},"get"),set:r(function(D){this.counters[2]=D},"set")},elapsed:{get:r(function(){return this.counters[3]},"get"),set:r(function(D){this.counters[3]=D},"set")},stopCounter:{get:r(function(){return this.counters[4]},"get"),set:r(function(D){this.counters[4]=D},"set")},completeFlag:{get:r(function(){return this.counters[5]},"get"),set:r(function(D){this.counters[5]=D},"set")},zoneIndex:{get:r(function(){return this.counters[6]},"get"),set:r(function(D){this.counters[6]=D},"set")},zoneTotal:{get:r(function(){return this.counters[7]},"get"),set:r(function(D){this.counters[7]=D},"set")},currentFrame:{get:r(function(){return this.counters[8]},"get"),set:r(function(D){this.counters[8]=D},"set")},currentAnim:{get:r(function(){return this.counters[9]},"get"),set:r(function(D){this.counters[9]=D},"set")},preDestroy:r(function(){this.texture=null,this.frames=null,this.anims=null,this.emitCallback=null,this.emitCallbackScope=null,this.deathCallback=null,this.deathCallbackScope=null,this.emitZones=null,this.deathZones=null,this.bounds=null,this.follow=null,this.counters=null;var D,U=this.ops;for(D=0;D<V.length;D++){var W=V[D];U[W].destroy()}for(D=0;D<this.alive.length;D++)this.alive[D].destroy();for(D=0;D<this.dead.length;D++)this.dead[D].destroy();this.ops=null,this.alive=[],this.dead=[],this.worldMatrix.destroy()},"preDestroy")});n.exports=Y},9871:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(59996),y=i(61340),c=new y,o=new y,l=new y,a=new y,u=r(function(v,d,p,g){var m=c,x=o,C=l,P=a;g?(P.loadIdentity(),P.multiply(g),P.translate(d.x,d.y),P.rotate(d.rotation),P.scale(d.scaleX,d.scaleY)):P.applyITRS(d.x,d.y,d.rotation,d.scaleX,d.scaleY);var A=v.currentContext,R=p.roundPixels,L=p.alpha,O=d.alpha,w=d.alive,b=w.length,F=d.viewBounds;if(!(!d.visible||b===0||F&&!f(F,p.worldView))){d.sortCallback&&d.depthSort(),p.addToRenderList(d);var M=d.scrollFactorX,I=d.scrollFactorY;A.save(),A.globalCompositeOperation=v.blendModes[d.blendMode];for(var B=0;B<b;B++){var G=w[B],N=G.alpha*O*L;if(!(N<=0||G.scaleX===0||G.scaleY===0)){C.applyITRS(G.x,G.y,G.rotation,G.scaleX,G.scaleY),m.copyFrom(p.matrix),m.multiplyWithOffset(P,-p.scrollX*M,-p.scrollY*I),C.e=G.x,C.f=G.y,m.multiply(C,x);var z=G.frame,H=z.canvasData;if(H.width>0&&H.height>0){var $=-z.halfWidth,V=-z.halfHeight;A.globalAlpha=N,A.save(),x.setToContext(A),R&&($=Math.round($),V=Math.round(V)),A.imageSmoothingEnabled=!z.source.scaleMode,A.drawImage(z.source.image,H.x,H.y,H.width,H.height,$,V,H.width,H.height),A.restore()}}}A.restore()}},"ParticleEmitterCanvasRenderer");n.exports=u},92730:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(25305),y=i(44603),c=i(23568),o=i(95540),l=i(31600);y.register("particles",function(a,u){a===void 0&&(a={});var v=c(a,"key",null),d=o(a,"config",null),p=new l(this.scene,0,0,v);return u!==void 0&&(a.add=u),f(this.scene,p,a),d&&p.setConfig(d),p})},676:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(39429),y=i(31600);f.register("particles",function(c,o,l,a){return c!==void 0&&typeof c=="string"&&console.warn("ParticleEmitterManager was removed in Phaser 3.60. See documentation for details"),this.displayList.add(new y(this.scene,c,o,l,a))})},90668:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(29747),y=f,c=f;y=i(21188),c=i(9871),n.exports={renderWebGL:y,renderCanvas:c}},21188:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(59996),y=i(61340),c=i(70554),o=new y,l=new y,a=new y,u=new y,v=r(function(d,p,g,m){var x=d.pipelines.set(p.pipeline),C=o,P=l,A=a,R=u;m?(R.loadIdentity(),R.multiply(m),R.translate(p.x,p.y),R.rotate(p.rotation),R.scale(p.scaleX,p.scaleY)):R.applyITRS(p.x,p.y,p.rotation,p.scaleX,p.scaleY);var L=c.getTintAppendFloatAlpha,O=g.alpha,w=p.alpha;d.pipelines.preBatch(p);var b=p.alive,F=b.length,M=p.viewBounds;if(!(F===0||M&&!f(M,g.worldView))){p.sortCallback&&p.depthSort(),g.addToRenderList(p),C.copyFrom(g.matrix),C.multiplyWithOffset(R,-g.scrollX*p.scrollFactorX,-g.scrollY*p.scrollFactorY),d.setBlendMode(p.blendMode),p.mask&&(p.mask.preRenderWebGL(d,p,g),d.pipelines.set(p.pipeline));for(var I=p.tintFill,B,G,N=0;N<F;N++){var z=b[N],H=z.alpha*w*O;if(!(H<=0||z.scaleX===0||z.scaleY===0)){A.applyITRS(z.x,z.y,z.rotation,z.scaleX,z.scaleY),A.e=z.x,A.f=z.y,C.multiply(A,P);var $=z.frame;$.glTexture!==G&&(G=$.glTexture,B=x.setGameObject(p,$));var V=-$.halfWidth,Y=-$.halfHeight,D=P.setQuad(V,Y,V+$.width,Y+$.height),U=L(z.tint,H);x.shouldFlush(6)&&(x.flush(),B=x.setGameObject(p,$)),x.batchQuad(p,D[0],D[1],D[2],D[3],D[4],D[5],D[6],D[7],$.u0,$.v0,$.u1,$.v1,U,U,U,U,I,G,B)}}p.mask&&p.mask.postRenderWebGL(d,g),d.pipelines.postBatch(p)}},"ParticleEmitterWebGLRenderer");n.exports=v},20286:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(83419),y=new f({initialize:r(function(o,l,a){o===void 0&&(o=0),l===void 0&&(l=0),a===void 0&&(a=!0),this.emitter,this.x=o,this.y=l,this.active=a},"ParticleProcessor"),update:r(function(){},"update"),destroy:r(function(){this.emitter=null},"destroy")});n.exports=y},9774:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="complete"},812:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="deathzone"},30522:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="explode"},96695:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="start"},18677:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="stop"},20696:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={COMPLETE:i(9774),DEATH_ZONE:i(812),EXPLODE:i(30522),START:i(96695),STOP:i(18677)}},18404:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={EmitterColorOp:i(76472),EmitterOp:i(44777),Events:i(20696),GravityWell:i(24502),Particle:i(56480),ParticleBounds:i(69601),ParticleEmitter:i(31600),ParticleProcessor:i(20286),Zones:i(21024)}},26388:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(83419),y=new f({initialize:r(function(o,l){this.source=o,this.killOnEnter=l},"DeathZone"),willKill:r(function(c){var o=c.worldPosition,l=this.source.contains(o.x,o.y);return l&&this.killOnEnter||!l&&!this.killOnEnter},"willKill")});n.exports=y},19909:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(83419),y=new f({initialize:r(function(o,l,a,u,v,d){u===void 0&&(u=!1),v===void 0&&(v=!0),d===void 0&&(d=-1),this.source=o,this.points=[],this.quantity=l,this.stepRate=a,this.yoyo=u,this.counter=-1,this.seamless=v,this._length=0,this._direction=0,this.total=d,this.updateSource()},"EdgeZone"),updateSource:r(function(){if(this.points=this.source.getPoints(this.quantity,this.stepRate),this.seamless){var c=this.points[0],o=this.points[this.points.length-1];c.x===o.x&&c.y===o.y&&this.points.pop()}var l=this._length;return this._length=this.points.length,this._length<l&&this.counter>this._length&&(this.counter=this._length-1),this},"updateSource"),changeSource:r(function(c){return this.source=c,this.updateSource()},"changeSource"),getPoint:r(function(c){this._direction===0?(this.counter++,this.counter>=this._length&&(this.yoyo?(this._direction=1,this.counter=this._length-1):this.counter=0)):(this.counter--,this.counter===-1&&(this.yoyo?(this._direction=0,this.counter=0):this.counter=this._length-1));var o=this.points[this.counter];o&&(c.x=o.x,c.y=o.y)},"getPoint")});n.exports=y},68875:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(83419),y=i(26099),c=new f({initialize:r(function(l){this.source=l,this._tempVec=new y,this.total=-1},"RandomZone"),getPoint:r(function(o){var l=this._tempVec;this.source.getRandomPoint(l),o.x=l.x,o.y=l.y},"getPoint")});n.exports=c},21024:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={DeathZone:i(26388),EdgeZone:i(19909),RandomZone:i(68875)}},1159:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(83419),y=i(31401),c=i(68287),o=new f({Extends:c,Mixins:[y.PathFollower],initialize:r(function(a,u,v,d,p,g){c.call(this,a,v,d,p,g),this.path=u},"PathFollower"),preUpdate:r(function(l,a){this.anims.update(l,a),this.pathUpdate(l)},"preUpdate")});n.exports=o},90145:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(39429),y=i(1159);f.register("follower",function(c,o,l,a,u){var v=new y(this.scene,c,o,l,a,u);return this.displayList.add(v),this.updateList.add(v),v})},33663:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(9674),y=i(83419),c=i(48803),o=i(90664),l=i(4703),a=i(45650),u=new y({Extends:l,initialize:r(function(d,p,g,m,x,C,P,A){m||(m="__DEFAULT"),l.call(this,d,p,g,m,x),this.type="Plane",this.anims=new f(this),this.gridWidth,this.gridHeight,this.isTiled,this._checkerboard=null,this.hideCCW=!1,this.setGridSize(C,P,A),this.setSizeToFrame(!1),this.setViewHeight()},"Plane"),originX:{get:r(function(){return .5},"get")},originY:{get:r(function(){return .5},"get")},setGridSize:r(function(v,d,p){v===void 0&&(v=8),d===void 0&&(d=8),p===void 0&&(p=!1);var g=!1;return p&&(g=!0),this.gridWidth=v,this.gridHeight=d,this.isTiled=p,this.clear(),c({mesh:this,widthSegments:v,heightSegments:d,isOrtho:!1,tile:p,flipY:g}),this},"setGridSize"),setSizeToFrame:r(function(v){v===void 0&&(v=!0);var d=this.frame;if(this.setPerspective(this.width/d.width,this.height/d.height),this._checkerboard&&this._checkerboard!==this.texture&&this.removeCheckerboard(),!v)return this;var p=this.gridWidth,g=this.gridHeight,m=this.vertices,x=d.u0,C=d.u1,P=d.v0,A=d.v1,R,L,O=0;if(this.isTiled)for(P=d.v1,A=d.v0,L=0;L<g;L++)for(R=0;R<p;R++)m[O++].setUVs(x,A),m[O++].setUVs(x,P),m[O++].setUVs(C,A),m[O++].setUVs(x,P),m[O++].setUVs(C,P),m[O++].setUVs(C,A);else{var w=p+1,b=g+1,F=C-x,M=A-P,I=[];for(L=0;L<b;L++)for(R=0;R<w;R++){var B=x+F*(R/p),G=P+M*(L/g);I.push(B,G)}for(L=0;L<g;L++)for(R=0;R<p;R++){var N=(R+w*L)*2,z=(R+w*(L+1))*2,H=(R+1+w*(L+1))*2,$=(R+1+w*L)*2;m[O++].setUVs(I[N],I[N+1]),m[O++].setUVs(I[z],I[z+1]),m[O++].setUVs(I[$],I[$+1]),m[O++].setUVs(I[z],I[z+1]),m[O++].setUVs(I[H],I[H+1]),m[O++].setUVs(I[$],I[$+1])}}return this},"setSizeToFrame"),setViewHeight:r(function(v){v===void 0&&(v=this.frame.height);var d=this.fov*(Math.PI/180);this.viewPosition.z=this.height/v/Math.tan(d/2),this.dirtyCache[10]=1},"setViewHeight"),createCheckerboard:r(function(v,d,p,g,m){v===void 0&&(v=16777215),d===void 0&&(d=255),p===void 0&&(p=255),g===void 0&&(g=255),m===void 0&&(m=128);for(var x=o(v),C=o(d),P=[],A=0;A<16;A++)for(var R=0;R<16;R++)A<8&&R<8||A>7&&R>7?P.push(x.r,x.g,x.b,p):P.push(C.r,C.g,C.b,g);var L=this.scene.sys.textures.addUint8Array(a(),new Uint8Array(P),16,16);return this.removeCheckerboard(),this.setTexture(L),this.setSizeToFrame(),this.setViewHeight(m),this},"createCheckerboard"),removeCheckerboard:r(function(){this._checkerboard&&(this._checkerboard.destroy(),this._checkerboard=null)},"removeCheckerboard"),play:r(function(v,d){return this.anims.play(v,d)},"play"),playReverse:r(function(v,d){return this.anims.playReverse(v,d)},"playReverse"),playAfterDelay:r(function(v,d){return this.anims.playAfterDelay(v,d)},"playAfterDelay"),playAfterRepeat:r(function(v,d){return this.anims.playAfterRepeat(v,d)},"playAfterRepeat"),stop:r(function(){return this.anims.stop()},"stop"),stopAfterDelay:r(function(v){return this.anims.stopAfterDelay(v)},"stopAfterDelay"),stopAfterRepeat:r(function(v){return this.anims.stopAfterRepeat(v)},"stopAfterRepeat"),stopOnFrame:r(function(v){return this.anims.stopOnFrame(v)},"stopOnFrame"),preUpdate:r(function(v,d){l.prototype.preUpdate.call(this,v,d),this.anims.update(v,d)},"preUpdate"),preDestroy:r(function(){this.clear(),this.removeCheckerboard(),this.anims.destroy(),this.anims=void 0,this.debugCallback=null,this.debugGraphic=null},"preDestroy")});n.exports=u},56015:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(25305),y=i(13059),c=i(44603),o=i(23568),l=i(35154),a=i(33663);c.register("plane",function(u,v){u===void 0&&(u={});var d=o(u,"key",null),p=o(u,"frame",null),g=l(u,"width",8),m=l(u,"height",8),x=l(u,"tile",!1),C=new a(this.scene,0,0,d,p,g,m,x);v!==void 0&&(u.add=v);var P=l(u,"checkerboard",null);if(P){var A=l(P,"color1",16777215),R=l(P,"color2",255),L=l(P,"alpha1",255),O=l(P,"alpha2",255),w=l(P,"height",128);C.createCheckerboard(A,R,L,O,w)}return f(this.scene,C,u),y(C,u),C})},30985:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(33663),y=i(39429);y.register("plane",function(c,o,l,a,u,v,d){return this.displayList.add(new f(this.scene,c,o,l,a,u,v,d))})},80321:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(83419),y=i(31401),c=i(95643),o=i(30100),l=i(36060),a=i(67277),u=new f({Extends:c,Mixins:[y.AlphaSingle,y.BlendMode,y.Depth,y.Mask,y.Pipeline,y.PostPipeline,y.ScrollFactor,y.Transform,y.Visible,a],initialize:r(function(d,p,g,m,x,C,P){m===void 0&&(m=16777215),x===void 0&&(x=128),C===void 0&&(C=1),P===void 0&&(P=.1),c.call(this,d,"PointLight"),this.initPipeline(l.POINTLIGHT_PIPELINE),this.initPostPipeline(),this.setPosition(p,g),this.color=o(m),this.intensity=C,this.attenuation=P,this.width=x*2,this.height=x*2,this._radius=x},"PointLight"),radius:{get:r(function(){return this._radius},"get"),set:r(function(v){this._radius=v,this.width=v*2,this.height=v*2},"set")},originX:{get:r(function(){return .5},"get")},originY:{get:r(function(){return .5},"get")},displayOriginX:{get:r(function(){return this._radius},"get")},displayOriginY:{get:r(function(){return this._radius},"get")}});n.exports=u},39829:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(25305),y=i(44603),c=i(23568),o=i(80321);y.register("pointlight",function(l,a){l===void 0&&(l={});var u=c(l,"color",16777215),v=c(l,"radius",128),d=c(l,"intensity",1),p=c(l,"attenuation",.1),g=new o(this.scene,0,0,u,v,d,p);return a!==void 0&&(l.add=a),f(this.scene,g,l),g})},71255:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(39429),y=i(80321);f.register("pointlight",function(c,o,l,a,u,v){return this.displayList.add(new y(this.scene,c,o,l,a,u,v))})},67277:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(29747),y=f,c=f;y=i(57787),n.exports={renderWebGL:y,renderCanvas:c}},57787:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(91296),y=r(function(c,o,l,a){l.addToRenderList(o);var u=c.pipelines.set(o.pipeline),v=f(o,l,a).calc,d=o.width,p=o.height,g=-o._radius,m=-o._radius,x=g+d,C=m+p,P=v.getX(0,0),A=v.getY(0,0),R=v.getX(g,m),L=v.getY(g,m),O=v.getX(g,C),w=v.getY(g,C),b=v.getX(x,C),F=v.getY(x,C),M=v.getX(x,m),I=v.getY(x,m);c.pipelines.preBatch(o),u.batchPointLight(o,l,R,L,O,w,b,F,M,I,P,A),c.pipelines.postBatch(o)},"PointLightWebGLRenderer");n.exports=y},591:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(83419),y=i(81320),c=i(88571),o=new f({Extends:c,initialize:r(function(a,u,v,d,p){u===void 0&&(u=0),v===void 0&&(v=0),d===void 0&&(d=32),p===void 0&&(p=32);var g=new y(a.sys.textures,"",d,p);c.call(this,a,u,v,g),this.type="RenderTexture",this.camera=this.texture.camera,this._saved=!1},"RenderTexture"),setSize:r(function(l,a){this.width=l,this.height=a,this.texture.setSize(l,a),this.updateDisplayOrigin();var u=this.input;return u&&!u.customHitArea&&(u.hitArea.width=l,u.hitArea.height=a),this},"setSize"),resize:r(function(l,a){return this.setSize(l,a),this},"resize"),saveTexture:r(function(l){var a=this.texture;return a.key=l,a.manager.addDynamicTexture(a)&&(this._saved=!0),a},"saveTexture"),fill:r(function(l,a,u,v,d,p){return this.texture.fill(l,a,u,v,d,p),this},"fill"),clear:r(function(){return this.texture.clear(),this},"clear"),stamp:r(function(l,a,u,v,d){return this.texture.stamp(l,a,u,v,d),this},"stamp"),erase:r(function(l,a,u){return this.texture.erase(l,a,u),this},"erase"),draw:r(function(l,a,u,v,d){return this.texture.draw(l,a,u,v,d),this},"draw"),drawFrame:r(function(l,a,u,v,d,p){return this.texture.drawFrame(l,a,u,v,d,p),this},"drawFrame"),repeat:r(function(l,a,u,v,d,p,g,m,x){return this.texture.repeat(l,a,u,v,d,p,g,m,x),this},"repeat"),beginDraw:r(function(){return this.texture.beginDraw(),this},"beginDraw"),batchDraw:r(function(l,a,u,v,d){return this.texture.batchDraw(l,a,u,v,d),this},"batchDraw"),batchDrawFrame:r(function(l,a,u,v,d,p){return this.texture.batchDrawFrame(l,a,u,v,d,p),this},"batchDrawFrame"),endDraw:r(function(l){return this.texture.endDraw(l),this},"endDraw"),snapshotArea:r(function(l,a,u,v,d,p,g){return this.texture.snapshotArea(l,a,u,v,d,p,g),this},"snapshotArea"),snapshot:r(function(l,a,u){return this.snapshotArea(0,0,this.width,this.height,l,a,u)},"snapshot"),snapshotPixel:r(function(l,a,u){return this.snapshotArea(l,a,1,1,u,"pixel")},"snapshotPixel"),preDestroy:r(function(){this.camera=null,this._saved||this.texture.destroy()},"preDestroy")});n.exports=o},34495:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(25305),y=i(44603),c=i(23568),o=i(591);y.register("renderTexture",function(l,a){l===void 0&&(l={});var u=c(l,"x",0),v=c(l,"y",0),d=c(l,"width",32),p=c(l,"height",32),g=new o(this.scene,u,v,d,p);return a!==void 0&&(l.add=a),f(this.scene,g,l),g})},60505:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(39429),y=i(591);f.register("renderTexture",function(c,o,l,a){return this.displayList.add(new y(this.scene,c,o,l,a))})},77757:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(9674),y=i(83419),c=i(31401),o=i(95643),l=i(36060),a=i(38745),u=i(26099),v=new y({Extends:o,Mixins:[c.AlphaSingle,c.BlendMode,c.Depth,c.Flip,c.Mask,c.Pipeline,c.PostPipeline,c.Size,c.Texture,c.Transform,c.Visible,c.ScrollFactor,a],initialize:r(function(p,g,m,x,C,P,A,R,L){x===void 0&&(x="__DEFAULT"),P===void 0&&(P=2),A===void 0&&(A=!0),o.call(this,p,"Rope"),this.anims=new f(this),this.points=P,this.vertices,this.uv,this.colors,this.alphas,this.tintFill=x==="__DEFAULT",this.dirty=!1,this.horizontal=A,this._flipX=!1,this._flipY=!1,this._perp=new u,this.debugCallback=null,this.debugGraphic=null,this.setTexture(x,C),this.setPosition(g,m),this.setSizeToFrame(),this.initPipeline(l.ROPE_PIPELINE),this.initPostPipeline(),Array.isArray(P)&&this.resizeArrays(P.length),this.setPoints(P,R,L),this.updateVertices()},"Rope"),addedToScene:r(function(){this.scene.sys.updateList.add(this)},"addedToScene"),removedFromScene:r(function(){this.scene.sys.updateList.remove(this)},"removedFromScene"),preUpdate:r(function(d,p){var g=this.anims.currentFrame;this.anims.update(d,p),this.anims.currentFrame!==g&&(this.updateUVs(),this.updateVertices())},"preUpdate"),play:r(function(d,p,g){return this.anims.play(d,p,g),this},"play"),setDirty:r(function(){return this.dirty=!0,this},"setDirty"),setHorizontal:r(function(d,p,g){return d===void 0&&(d=this.points.length),this.horizontal?this:(this.horizontal=!0,this.setPoints(d,p,g))},"setHorizontal"),setVertical:r(function(d,p,g){return d===void 0&&(d=this.points.length),this.horizontal?(this.horizontal=!1,this.setPoints(d,p,g)):this},"setVertical"),setTintFill:r(function(d){return d===void 0&&(d=!1),this.tintFill=d,this},"setTintFill"),setAlphas:r(function(d,p){var g=this.points.length;if(g<1)return this;var m=this.alphas;d===void 0?d=[1]:!Array.isArray(d)&&p===void 0&&(d=[d]);var x,C=0;if(p!==void 0)for(x=0;x<g;x++)C=x*2,m[C]=d,m[C+1]=p;else if(d.length===g)for(x=0;x<g;x++)C=x*2,m[C]=d[x],m[C+1]=d[x];else{var P=d[0];for(x=0;x<g;x++)C=x*2,d.length>C&&(P=d[C]),m[C]=P,d.length>C+1&&(P=d[C+1]),m[C+1]=P}return this},"setAlphas"),setColors:r(function(d){var p=this.points.length;if(p<1)return this;var g=this.colors;d===void 0?d=[16777215]:Array.isArray(d)||(d=[d]);var m,x=0;if(d.length===p)for(m=0;m<p;m++)x=m*2,g[x]=d[m],g[x+1]=d[m];else{var C=d[0];for(m=0;m<p;m++)x=m*2,d.length>x&&(C=d[x]),g[x]=C,d.length>x+1&&(C=d[x+1]),g[x+1]=C}return this},"setColors"),setPoints:r(function(d,p,g){if(d===void 0&&(d=2),typeof d=="number"){var m=d;m<2&&(m=2),d=[];var x,C,P;if(this.horizontal)for(P=-this.frame.halfWidth,C=this.frame.width/(m-1),x=0;x<m;x++)d.push({x:P+x*C,y:0});else for(P=-this.frame.halfHeight,C=this.frame.height/(m-1),x=0;x<m;x++)d.push({x:0,y:P+x*C})}var A=d.length,R=this.points.length;return A<1?(console.warn("Rope: Not enough points given"),this):(A===1&&(d.unshift({x:0,y:0}),A++),R!==A&&this.resizeArrays(A),this.dirty=!0,this.points=d,this.updateUVs(),p!=null&&this.setColors(p),g!=null&&this.setAlphas(g),this)},"setPoints"),updateUVs:r(function(){for(var d=this.uv,p=this.points.length,g=this.frame.u0,m=this.frame.v0,x=this.frame.u1,C=this.frame.v1,P=(x-g)/(p-1),A=(C-m)/(p-1),R=0;R<p;R++){var L=R*4,O,w,b,F;this.horizontal?(this._flipX?(O=x-R*P,b=x-R*P):(O=g+R*P,b=g+R*P),this._flipY?(w=C,F=m):(w=m,F=C)):(this._flipX?(O=g,b=x):(O=x,b=g),this._flipY?(w=C-R*A,F=C-R*A):(w=m+R*A,F=m+R*A)),d[L+0]=O,d[L+1]=w,d[L+2]=b,d[L+3]=F}return this},"updateUVs"),resizeArrays:r(function(d){var p=this.colors,g=this.alphas;this.vertices=new Float32Array(d*4),this.uv=new Float32Array(d*4),p=new Uint32Array(d*2),g=new Float32Array(d*2);for(var m=0;m<d*2;m++)p[m]=16777215,g[m]=1;return this.colors=p,this.alphas=g,this.dirty=!0,this},"resizeArrays"),updateVertices:r(function(){var d=this._perp,p=this.points,g=this.vertices,m=p.length;if(this.dirty=!1,!(m<1)){for(var x,C=p[0],P=this.horizontal?this.frame.halfHeight:this.frame.halfWidth,A=0;A<m;A++){var R=p[A],L=A*4;A<m-1?x=p[A+1]:x=R,d.x=x.y-C.y,d.y=-(x.x-C.x);var O=d.length();d.x/=O,d.y/=O,d.x*=P,d.y*=P,g[L]=R.x+d.x,g[L+1]=R.y+d.y,g[L+2]=R.x-d.x,g[L+3]=R.y-d.y,C=R}return this}},"updateVertices"),setDebug:r(function(d,p){return this.debugGraphic=d,!d&&!p?this.debugCallback=null:p?this.debugCallback=p:this.debugCallback=this.renderDebugVerts,this},"setDebug"),renderDebugVerts:r(function(d,p,g){var m=d.debugGraphic,x=g[0],C=g[1],P=g[2],A=g[3];m.lineBetween(x,C,P,A);for(var R=4;R<p;R+=4){var L=g[R+0],O=g[R+1],w=g[R+2],b=g[R+3];m.lineBetween(x,C,L,O),m.lineBetween(P,A,w,b),m.lineBetween(P,A,L,O),m.lineBetween(L,O,w,b),x=L,C=O,P=w,A=b}},"renderDebugVerts"),preDestroy:r(function(){this.anims.destroy(),this.anims=void 0,this.points=null,this.vertices=null,this.uv=null,this.colors=null,this.alphas=null,this.debugCallback=null,this.debugGraphic=null},"preDestroy"),flipX:{get:r(function(){return this._flipX},"get"),set:r(function(d){return this._flipX=d,this.updateUVs()},"set")},flipY:{get:r(function(){return this._flipY},"get"),set:r(function(d){return this._flipY=d,this.updateUVs()},"set")}});n.exports=v},95262:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(){},"RopeCanvasRenderer");n.exports=T},26209:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(25305),y=i(44603),c=i(23568),o=i(35154),l=i(77757);y.register("rope",function(a,u){a===void 0&&(a={});var v=c(a,"key",null),d=c(a,"frame",null),p=c(a,"horizontal",!0),g=o(a,"points",void 0),m=o(a,"colors",void 0),x=o(a,"alphas",void 0),C=new l(this.scene,0,0,v,d,g,p,m,x);return u!==void 0&&(a.add=u),f(this.scene,C,a),C})},96819:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(77757),y=i(39429);y.register("rope",function(c,o,l,a,u,v,d,p){return this.displayList.add(new f(this.scene,c,o,l,a,u,v,d,p))})},38745:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(29747),y=f,c=f;y=i(20439),c=i(95262),n.exports={renderWebGL:y,renderCanvas:c}},20439:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(91296),y=i(70554),c=r(function(o,l,a,u){a.addToRenderList(l);var v=o.pipelines.set(l.pipeline,l),d=f(l,a,u).calc,p=l.vertices,g=l.uv,m=l.colors,x=l.alphas,C=l.alpha,P=y.getTintAppendFloatAlpha,A=a.roundPixels,R=p.length,L=Math.floor(R*.5);v.flush(),o.pipelines.preBatch(l);var O=v.setGameObject(l),w=v.vertexViewF32,b=v.vertexViewU32,F=v.vertexCount*v.currentShader.vertexComponentCount-1,M=0,I=l.tintFill;l.dirty&&l.updateVertices();for(var B=l.debugCallback,G=[],N=0;N<R;N+=2){var z=p[N+0],H=p[N+1],$=z*d.a+H*d.c+d.e,V=z*d.b+H*d.d+d.f;A&&($=Math.round($),V=Math.round(V)),w[++F]=$,w[++F]=V,w[++F]=g[N+0],w[++F]=g[N+1],w[++F]=O,w[++F]=I,b[++F]=P(m[M],a.alpha*(x[M]*C)),M++,B&&(G[N+0]=$,G[N+1]=V)}B&&B.call(l,l,R,G),v.vertexCount+=L,v.currentBatch.count=v.vertexCount-v.currentBatch.start,o.pipelines.postBatch(l)},"RopeWebGLRenderer");n.exports=c},20071:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(83419),y=i(31401),c=i(95643),o=i(95540),l=i(79291),a=i(61622),u=i(25479),v=i(61340),d=i(95428),p=i(92503),g=new f({Extends:c,Mixins:[y.ComputedSize,y.Depth,y.GetBounds,y.Mask,y.Origin,y.ScrollFactor,y.Transform,y.Visible,u],initialize:r(function(x,C,P,A,R,L,O,w){P===void 0&&(P=0),A===void 0&&(A=0),R===void 0&&(R=128),L===void 0&&(L=128),c.call(this,x,"Shader"),this.blendMode=-1,this.shader;var b=x.sys.renderer;this.renderer=b,this.gl=b.gl,this.vertexData=new ArrayBuffer(6*(Float32Array.BYTES_PER_ELEMENT*2)),this.vertexBuffer=b.createVertexBuffer(this.vertexData.byteLength,this.gl.STREAM_DRAW),this._deferSetShader=null,this._deferProjOrtho=null,this.program=null,this.bytes=new Uint8Array(this.vertexData),this.vertexViewF32=new Float32Array(this.vertexData),this._tempMatrix1=new v,this._tempMatrix2=new v,this._tempMatrix3=new v,this.viewMatrix=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),this.projectionMatrix=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),this.uniforms={},this.pointer=null,this._rendererWidth=b.width,this._rendererHeight=b.height,this._textureCount=0,this.framebuffer=null,this.glTexture=null,this.renderToTexture=!1,this.texture=null,this.setPosition(P,A),this.setSize(R,L),this.setOrigin(.5,.5),this.setShader(C,O,w),this.renderer.on(p.RESTORE_WEBGL,this.onContextRestored,this)},"Shader"),willRender:r(function(m){return this.renderToTexture?!0:!(c.RENDER_MASK!==this.renderFlags||this.cameraFilter!==0&&this.cameraFilter&m.id)},"willRender"),setRenderToTexture:r(function(m,x){if(!this.renderToTexture){var C=this.width,P=this.height,A=this.renderer;this.glTexture=A.createTextureFromSource(null,C,P,0),this.framebuffer=A.createFramebuffer(C,P,this.glTexture,!1),this._rendererWidth=C,this._rendererHeight=P,this.renderToTexture=!0,this.projOrtho(0,this.width,this.height,0),m&&(this.texture=this.scene.sys.textures.addGLTexture(m,this.glTexture))}return this.shader&&(A.pipelines.clear(),this.load(),this.flush(),A.pipelines.rebind()),this},"setRenderToTexture"),setShader:r(function(m,x,C){if(this.renderer.contextLost)return this._deferSetShader={key:m,textures:x,textureData:C},this;if(x===void 0&&(x=[]),typeof m=="string"){var P=this.scene.sys.cache.shader;if(!P.has(m))return console.warn("Shader missing: "+m),this;this.shader=P.get(m)}else this.shader=m;var A=this.gl,R=this.renderer;this.program&&R.deleteProgram(this.program);var L=R.createProgram(this.shader.vertexSrc,this.shader.fragmentSrc);A.uniformMatrix4fv(A.getUniformLocation(L.webGLProgram,"uViewMatrix"),!1,this.viewMatrix),A.uniformMatrix4fv(A.getUniformLocation(L.webGLProgram,"uProjectionMatrix"),!1,this.projectionMatrix),A.uniform2f(A.getUniformLocation(L.webGLProgram,"uResolution"),this.width,this.height),this.program=L;var O=new Date,w={resolution:{type:"2f",value:{x:this.width,y:this.height}},time:{type:"1f",value:0},mouse:{type:"2f",value:{x:this.width/2,y:this.height/2}},date:{type:"4fv",value:[O.getFullYear(),O.getMonth(),O.getDate(),O.getHours()*60*60+O.getMinutes()*60+O.getSeconds()]},sampleRate:{type:"1f",value:44100},iChannel0:{type:"sampler2D",value:null,textureData:{repeat:!0}},iChannel1:{type:"sampler2D",value:null,textureData:{repeat:!0}},iChannel2:{type:"sampler2D",value:null,textureData:{repeat:!0}},iChannel3:{type:"sampler2D",value:null,textureData:{repeat:!0}}};this.shader.uniforms?this.uniforms=l(!0,{},this.shader.uniforms,w):this.uniforms=w;for(var b=0;b<4;b++)x[b]&&this.setSampler2D("iChannel"+b,x[b],b,C);return this.initUniforms(),this.projOrtho(0,this._rendererWidth,this._rendererHeight,0),this},"setShader"),setPointer:r(function(m){return this.pointer=m,this},"setPointer"),projOrtho:r(function(m,x,C,P){if(this.renderer.contextLost){this._deferProjOrtho={left:m,right:x,bottom:C,top:P};return}var A=-1e3,R=1e3,L=1/(m-x),O=1/(C-P),w=1/(A-R),b=this.projectionMatrix;b[0]=-2*L,b[5]=-2*O,b[10]=2*w,b[12]=(m+x)*L,b[13]=(P+C)*O,b[14]=(R+A)*w;var F=this.program,M=this.gl,I=this.renderer;I.setProgram(F),M.uniformMatrix4fv(M.getUniformLocation(F.webGLProgram,"uProjectionMatrix"),!1,this.projectionMatrix),this._rendererWidth=x,this._rendererHeight=C},"projOrtho"),initUniforms:r(function(){var m=this.renderer.glFuncMap,x=this.program;this._textureCount=0;for(var C in this.uniforms){var P=this.uniforms[C],A=P.type,R=m[A];P.uniformLocation=this.renderer.createUniformLocation(x,C),A!=="sampler2D"&&(P.glMatrix=R.matrix,P.glValueLength=R.length,P.glFunc=R.func)}},"initUniforms"),setSampler2DBuffer:r(function(m,x,C,P,A,R){A===void 0&&(A=0),R===void 0&&(R={});var L=this.uniforms[m];return L.value=x,R.width=C,R.height=P,L.textureData=R,this._textureCount=A,this.initSampler2D(L),this},"setSampler2DBuffer"),setSampler2D:r(function(m,x,C,P){C===void 0&&(C=0);var A=this.scene.sys.textures;if(A.exists(x)){var R=A.getFrame(x);if(R.glTexture&&R.glTexture.isRenderTexture)return this.setSampler2DBuffer(m,R.glTexture,R.width,R.height,C,P);var L=this.uniforms[m],O=R.source;L.textureKey=x,L.source=O.image,L.value=R.glTexture,O.isGLTexture&&(P||(P={}),P.width=O.width,P.height=O.height),P&&(L.textureData=P),this._textureCount=C,this.initSampler2D(L)}return this},"setSampler2D"),setUniform:r(function(m,x){return a(this.uniforms,m,x),this},"setUniform"),getUniform:r(function(m){return o(this.uniforms,m,null)},"getUniform"),setChannel0:r(function(m,x){return this.setSampler2D("iChannel0",m,0,x)},"setChannel0"),setChannel1:r(function(m,x){return this.setSampler2D("iChannel1",m,1,x)},"setChannel1"),setChannel2:r(function(m,x){return this.setSampler2D("iChannel2",m,2,x)},"setChannel2"),setChannel3:r(function(m,x){return this.setSampler2D("iChannel3",m,3,x)},"setChannel3"),initSampler2D:r(function(m){if(m.value){var x=m.textureData;if(x&&!m.value.isRenderTexture){var C=this.gl,P=m.value,A=C[o(x,"magFilter","linear").toUpperCase()],R=C[o(x,"minFilter","linear").toUpperCase()],L=C[o(x,"wrapS","repeat").toUpperCase()],O=C[o(x,"wrapT","repeat").toUpperCase()],w=C[o(x,"format","rgba").toUpperCase()],b=o(x,"flipY",!1),F=o(x,"width",P.width),M=o(x,"height",P.height),I=o(x,"source",P.pixels);x.repeat&&(L=C.REPEAT,O=C.REPEAT),x.width&&(I=null),P.update(I,F,M,b,L,O,R,A,w)}this.renderer.setProgram(this.program),this._textureCount++}},"initSampler2D"),syncUniforms:r(function(){var m=this.gl,x=this.uniforms,C,P,A,R,L,O=0;for(var w in x)C=x[w],A=C.glFunc,P=C.glValueLength,R=C.uniformLocation,L=C.value,L!==null&&(P===1?C.glMatrix?A.call(m,R.webGLUniformLocation,C.transpose,L):A.call(m,R.webGLUniformLocation,L):P===2?A.call(m,R.webGLUniformLocation,L.x,L.y):P===3?A.call(m,R.webGLUniformLocation,L.x,L.y,L.z):P===4?A.call(m,R.webGLUniformLocation,L.x,L.y,L.z,L.w):C.type==="sampler2D"&&(m.activeTexture(m.TEXTURE0+O),m.bindTexture(m.TEXTURE_2D,L.webGLTexture),m.uniform1i(R.webGLUniformLocation,O),O++))},"syncUniforms"),load:r(function(m){var x=this.gl,C=this.width,P=this.height,A=this.renderer,R=this.program,L=this.viewMatrix;if(!this.renderToTexture){var O=-this._displayOriginX,w=-this._displayOriginY;L[0]=m[0],L[1]=m[1],L[4]=m[2],L[5]=m[3],L[8]=m[4],L[9]=m[5],L[12]=L[0]*O+L[4]*w,L[13]=L[1]*O+L[5]*w}x.useProgram(R.webGLProgram),x.uniformMatrix4fv(x.getUniformLocation(R.webGLProgram,"uViewMatrix"),!1,L),x.uniformMatrix4fv(x.getUniformLocation(R.webGLProgram,"uProjectionMatrix"),!1,this.projectionMatrix),x.uniform2f(x.getUniformLocation(R.webGLProgram,"uResolution"),this.width,this.height);var b=this.uniforms,F=b.resolution;F.value.x=C,F.value.y=P,b.time.value=A.game.loop.getDuration();var M=this.pointer;if(M){var I=b.mouse,B=M.x/C,G=1-M.y/P;I.value.x=B.toFixed(2),I.value.y=G.toFixed(2)}this.syncUniforms()},"load"),flush:r(function(){var m=this.width,x=this.height,C=this.program,P=this.gl,A=this.vertexBuffer,R=this.renderer,L=Float32Array.BYTES_PER_ELEMENT*2;this.renderToTexture&&(R.setFramebuffer(this.framebuffer),P.clearColor(0,0,0,0),P.clear(P.COLOR_BUFFER_BIT)),P.bindBuffer(P.ARRAY_BUFFER,A.webGLBuffer);var O=P.getAttribLocation(C.webGLProgram,"inPosition");O!==-1&&(P.enableVertexAttribArray(O),P.vertexAttribPointer(O,2,P.FLOAT,!1,L,0));var w=this.vertexViewF32;w[3]=x,w[4]=m,w[5]=x,w[8]=m,w[9]=x,w[10]=m;var b=6;P.bufferSubData(P.ARRAY_BUFFER,0,this.bytes.subarray(0,b*L)),P.drawArrays(P.TRIANGLES,0,b),this.renderToTexture&&R.setFramebuffer(null,!1)},"flush"),setAlpha:r(function(){},"setAlpha"),setBlendMode:r(function(){},"setBlendMode"),onContextRestored:r(function(){if(this._deferSetShader!==null){var m=this._deferSetShader.key,x=this._deferSetShader.textures,C=this._deferSetShader.textureData;this._deferSetShader=null,this.setShader(m,x,C)}if(this._deferProjOrtho!==null){var P=this._deferProjOrtho.left,A=this._deferProjOrtho.right,R=this._deferProjOrtho.bottom,L=this._deferProjOrtho.top;this._deferProjOrtho=null,this.projOrtho(P,A,R,L)}},"onContextRestored"),preDestroy:r(function(){var m=this.renderer;m.off(p.RESTORE_WEBGL,this.onContextRestored,this),m.deleteProgram(this.program),m.deleteBuffer(this.vertexBuffer),this.renderToTexture&&(m.deleteFramebuffer(this.framebuffer),this.texture.destroy(),this.framebuffer=null,this.glTexture=null,this.texture=null),d(this.uniforms,function(x){m.deleteUniformLocation(x.uniformLocation),x.uniformLocation=null})},"preDestroy")});n.exports=g},80464:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(){},"ShaderCanvasRenderer");n.exports=T},54935:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(25305),y=i(44603),c=i(23568),o=i(20071);y.register("shader",function(l,a){l===void 0&&(l={});var u=c(l,"key",null),v=c(l,"x",0),d=c(l,"y",0),p=c(l,"width",128),g=c(l,"height",128),m=new o(this.scene,u,v,d,p,g);return a!==void 0&&(l.add=a),f(this.scene,m,l),m})},74177:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(20071),y=i(39429);y.register("shader",function(c,o,l,a,u,v,d){return this.displayList.add(new f(this.scene,c,o,l,a,u,v,d))})},25479:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(29747),y=f,c=f;y=i(19257),c=i(80464),n.exports={renderWebGL:y,renderCanvas:c}},19257:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(91296),y=r(function(c,o,l,a){if(o.shader){if(l.addToRenderList(o),c.pipelines.clear(),o.renderToTexture)o.load(),o.flush();else{var u=f(o,l,a).calc;(c.width!==o._rendererWidth||c.height!==o._rendererHeight)&&o.projOrtho(0,c.width,c.height,0),o.load(u.matrix),o.flush()}c.pipelines.rebind()}},"ShaderWebGLRenderer");n.exports=y},10441:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(70554),y=r(function(c,o,l,a,u,v){for(var d=f.getTintAppendFloatAlpha(l.fillColor,l.fillAlpha*a),p=l.pathData,g=l.pathIndexes,m=0;m<g.length;m+=3){var x=g[m]*2,C=g[m+1]*2,P=g[m+2]*2,A=p[x+0]-u,R=p[x+1]-v,L=p[C+0]-u,O=p[C+1]-v,w=p[P+0]-u,b=p[P+1]-v,F=o.getX(A,R),M=o.getY(A,R),I=o.getX(L,O),B=o.getY(L,O),G=o.getX(w,b),N=o.getY(w,b);c.batchTri(l,F,M,I,B,G,N,0,0,1,1,d,d,d,2)}},"FillPathWebGL");n.exports=y},65960:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i,f,y,c){var o=y||f.fillColor,l=c||f.fillAlpha,a=(o&16711680)>>>16,u=(o&65280)>>>8,v=o&255;i.fillStyle="rgba("+a+","+u+","+v+","+l+")"},"FillStyleCanvas");n.exports=T},75177:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i,f,y,c){var o=y||f.strokeColor,l=c||f.strokeAlpha,a=(o&16711680)>>>16,u=(o&65280)>>>8,v=o&255;i.strokeStyle="rgba("+a+","+u+","+v+","+l+")",i.lineWidth=f.lineWidth},"LineStyleCanvas");n.exports=T},17803:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(83419),y=i(31401),c=i(95643),o=i(23031),l=new f({Extends:c,Mixins:[y.AlphaSingle,y.BlendMode,y.Depth,y.GetBounds,y.Mask,y.Origin,y.Pipeline,y.PostPipeline,y.ScrollFactor,y.Transform,y.Visible],initialize:r(function(u,v,d){v===void 0&&(v="Shape"),c.call(this,u,v),this.geom=d,this.pathData=[],this.pathIndexes=[],this.fillColor=16777215,this.fillAlpha=1,this.strokeColor=16777215,this.strokeAlpha=1,this.lineWidth=1,this.isFilled=!1,this.isStroked=!1,this.closePath=!0,this._tempLine=new o,this.width=0,this.height=0,this.initPipeline(),this.initPostPipeline()},"Shape"),setFillStyle:r(function(a,u){return u===void 0&&(u=1),a===void 0?this.isFilled=!1:(this.fillColor=a,this.fillAlpha=u,this.isFilled=!0),this},"setFillStyle"),setStrokeStyle:r(function(a,u,v){return v===void 0&&(v=1),a===void 0?this.isStroked=!1:(this.lineWidth=a,this.strokeColor=u,this.strokeAlpha=v,this.isStroked=!0),this},"setStrokeStyle"),setClosePath:r(function(a){return this.closePath=a,this},"setClosePath"),setSize:r(function(a,u){return this.width=a,this.height=u,this},"setSize"),setDisplaySize:r(function(a,u){return this.displayWidth=a,this.displayHeight=u,this},"setDisplaySize"),preDestroy:r(function(){this.geom=null,this._tempLine=null,this.pathData=[],this.pathIndexes=[]},"preDestroy"),displayWidth:{get:r(function(){return this.scaleX*this.width},"get"),set:r(function(a){this.scaleX=a/this.width},"set")},displayHeight:{get:r(function(){return this.scaleY*this.height},"get"),set:r(function(a){this.scaleY=a/this.height},"set")}});n.exports=l},34682:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(70554),y=r(function(c,o,l,a,u){var v=c.strokeTint,d=f.getTintAppendFloatAlpha(o.strokeColor,o.strokeAlpha*l);v.TL=d,v.TR=d,v.BL=d,v.BR=d;var p=o.pathData,g=p.length-1,m=o.lineWidth,x=m/2,C=p[0]-a,P=p[1]-u;o.closePath||(g-=2);for(var A=2;A<g;A+=2){var R=p[A]-a,L=p[A+1]-u;c.batchLine(C,P,R,L,x,x,m,A-2,o.closePath?A===g-1:!1),C=R,P=L}},"StrokePathWebGL");n.exports=y},23629:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(13609),y=i(83419),c=i(39506),o=i(94811),l=i(96503),a=i(36383),u=i(17803),v=new y({Extends:u,Mixins:[f],initialize:r(function(p,g,m,x,C,P,A,R,L){g===void 0&&(g=0),m===void 0&&(m=0),x===void 0&&(x=128),C===void 0&&(C=0),P===void 0&&(P=360),A===void 0&&(A=!1),u.call(this,p,"Arc",new l(0,0,x)),this._startAngle=C,this._endAngle=P,this._anticlockwise=A,this._iterations=.01,this.setPosition(g,m);var O=this.geom.radius*2;this.setSize(O,O),R!==void 0&&this.setFillStyle(R,L),this.updateDisplayOrigin(),this.updateData()},"Arc"),iterations:{get:r(function(){return this._iterations},"get"),set:r(function(d){this._iterations=d,this.updateData()},"set")},radius:{get:r(function(){return this.geom.radius},"get"),set:r(function(d){this.geom.radius=d;var p=d*2;this.setSize(p,p),this.updateDisplayOrigin(),this.updateData()},"set")},startAngle:{get:r(function(){return this._startAngle},"get"),set:r(function(d){this._startAngle=d,this.updateData()},"set")},endAngle:{get:r(function(){return this._endAngle},"get"),set:r(function(d){this._endAngle=d,this.updateData()},"set")},anticlockwise:{get:r(function(){return this._anticlockwise},"get"),set:r(function(d){this._anticlockwise=d,this.updateData()},"set")},setRadius:r(function(d){return this.radius=d,this},"setRadius"),setIterations:r(function(d){return d===void 0&&(d=.01),this.iterations=d,this},"setIterations"),setStartAngle:r(function(d,p){return this._startAngle=d,p!==void 0&&(this._anticlockwise=p),this.updateData()},"setStartAngle"),setEndAngle:r(function(d,p){return this._endAngle=d,p!==void 0&&(this._anticlockwise=p),this.updateData()},"setEndAngle"),updateData:r(function(){var d=this._iterations,p=d,g=this.geom.radius,m=c(this._startAngle),x=c(this._endAngle),C=this._anticlockwise,P=g,A=g;x-=m,C?x<-a.PI2?x=-a.PI2:x>0&&(x=-a.PI2+x%a.PI2):x>a.PI2?x=a.PI2:x<0&&(x=a.PI2+x%a.PI2);for(var R=[P+Math.cos(m)*g,A+Math.sin(m)*g],L;p<1;)L=x*p+m,R.push(P+Math.cos(L)*g,A+Math.sin(L)*g),p+=d;return L=x+m,R.push(P+Math.cos(L)*g,A+Math.sin(L)*g),R.push(P+Math.cos(m)*g,A+Math.sin(m)*g),this.pathIndexes=o(R),this.pathData=R,this},"updateData")});n.exports=v},42542:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(39506),y=i(65960),c=i(75177),o=i(20926),l=r(function(a,u,v,d){v.addToRenderList(u);var p=a.currentContext;if(o(a,p,u,v,d)){var g=u.radius;p.beginPath(),p.arc(g-u.originX*(g*2),g-u.originY*(g*2),g,f(u._startAngle),f(u._endAngle),u.anticlockwise),u.closePath&&p.closePath(),u.isFilled&&(y(p,u),p.fill()),u.isStroked&&(c(p,u),p.stroke()),p.restore()}},"ArcCanvasRenderer");n.exports=l},42563:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(23629),y=i(39429);y.register("arc",function(c,o,l,a,u,v,d,p){return this.displayList.add(new f(this.scene,c,o,l,a,u,v,d,p))}),y.register("circle",function(c,o,l,a,u){return this.displayList.add(new f(this.scene,c,o,l,0,360,!1,a,u))})},13609:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(29747),y=f,c=f;y=i(41447),c=i(42542),n.exports={renderWebGL:y,renderCanvas:c}},41447:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(91296),y=i(10441),c=i(34682),o=r(function(l,a,u,v){u.addToRenderList(a);var d=l.pipelines.set(a.pipeline),p=f(a,u,v),g=d.calcMatrix.copyFrom(p.calc),m=a._displayOriginX,x=a._displayOriginY,C=u.alpha*a.alpha;l.pipelines.preBatch(a),a.isFilled&&y(d,g,a,C,m,x),a.isStroked&&c(d,a,C,m,x),l.pipelines.postBatch(a)},"ArcWebGLRenderer");n.exports=o},89:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(83419),y=i(33141),c=i(94811),o=i(87841),l=i(17803),a=new f({Extends:l,Mixins:[y],initialize:r(function(v,d,p,g,m,x){d===void 0&&(d=0),p===void 0&&(p=0),l.call(this,v,"Curve",g),this._smoothness=32,this._curveBounds=new o,this.closePath=!1,this.setPosition(d,p),m!==void 0&&this.setFillStyle(m,x),this.updateData()},"Curve"),smoothness:{get:r(function(){return this._smoothness},"get"),set:r(function(u){this._smoothness=u,this.updateData()},"set")},setSmoothness:r(function(u){return this._smoothness=u,this.updateData()},"setSmoothness"),updateData:r(function(){var u=this._curveBounds,v=this._smoothness;this.geom.getBounds(u,v),this.setSize(u.width,u.height),this.updateDisplayOrigin();for(var d=[],p=this.geom.getPoints(v),g=0;g<p.length;g++)d.push(p[g].x,p[g].y);return d.push(p[0].x,p[0].y),this.pathIndexes=c(d),this.pathData=d,this},"updateData")});n.exports=a},3170:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(65960),y=i(75177),c=i(20926),o=r(function(l,a,u,v){u.addToRenderList(a);var d=l.currentContext;if(c(l,d,a,u,v)){var p=a._displayOriginX+a._curveBounds.x,g=a._displayOriginY+a._curveBounds.y,m=a.pathData,x=m.length-1,C=m[0]-p,P=m[1]-g;d.beginPath(),d.moveTo(C,P),a.closePath||(x-=2);for(var A=2;A<x;A+=2){var R=m[A]-p,L=m[A+1]-g;d.lineTo(R,L)}a.closePath&&d.closePath(),a.isFilled&&(f(d,a),d.fill()),a.isStroked&&(y(d,a),d.stroke()),d.restore()}},"CurveCanvasRenderer");n.exports=o},40511:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(39429),y=i(89);f.register("curve",function(c,o,l,a,u){return this.displayList.add(new y(this.scene,c,o,l,a,u))})},33141:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(29747),y=f,c=f;y=i(53987),c=i(3170),n.exports={renderWebGL:y,renderCanvas:c}},53987:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(10441),y=i(91296),c=i(34682),o=r(function(l,a,u,v){u.addToRenderList(a);var d=l.pipelines.set(a.pipeline),p=y(a,u,v),g=d.calcMatrix.copyFrom(p.calc),m=a._displayOriginX+a._curveBounds.x,x=a._displayOriginY+a._curveBounds.y,C=u.alpha*a.alpha;l.pipelines.preBatch(a),a.isFilled&&f(d,g,a,C,m,x),a.isStroked&&c(d,a,C,m,x),l.pipelines.postBatch(a)},"CurveWebGLRenderer");n.exports=o},19921:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(83419),y=i(94811),c=i(54205),o=i(8497),l=i(17803),a=new f({Extends:l,Mixins:[c],initialize:r(function(v,d,p,g,m,x,C){d===void 0&&(d=0),p===void 0&&(p=0),g===void 0&&(g=128),m===void 0&&(m=128),l.call(this,v,"Ellipse",new o(g/2,m/2,g,m)),this._smoothness=64,this.setPosition(d,p),this.width=g,this.height=m,x!==void 0&&this.setFillStyle(x,C),this.updateDisplayOrigin(),this.updateData()},"Ellipse"),smoothness:{get:r(function(){return this._smoothness},"get"),set:r(function(u){this._smoothness=u,this.updateData()},"set")},setSize:r(function(u,v){return this.width=u,this.height=v,this.geom.setPosition(u/2,v/2),this.geom.setSize(u,v),this.updateData()},"setSize"),setSmoothness:r(function(u){return this._smoothness=u,this.updateData()},"setSmoothness"),updateData:r(function(){for(var u=[],v=this.geom.getPoints(this._smoothness),d=0;d<v.length;d++)u.push(v[d].x,v[d].y);return u.push(v[0].x,v[0].y),this.pathIndexes=y(u),this.pathData=u,this},"updateData")});n.exports=a},7930:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(65960),y=i(75177),c=i(20926),o=r(function(l,a,u,v){u.addToRenderList(a);var d=l.currentContext;if(c(l,d,a,u,v)){var p=a._displayOriginX,g=a._displayOriginY,m=a.pathData,x=m.length-1,C=m[0]-p,P=m[1]-g;d.beginPath(),d.moveTo(C,P),a.closePath||(x-=2);for(var A=2;A<x;A+=2){var R=m[A]-p,L=m[A+1]-g;d.lineTo(R,L)}d.closePath(),a.isFilled&&(f(d,a),d.fill()),a.isStroked&&(y(d,a),d.stroke()),d.restore()}},"EllipseCanvasRenderer");n.exports=o},1543:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(19921),y=i(39429);y.register("ellipse",function(c,o,l,a,u,v){return this.displayList.add(new f(this.scene,c,o,l,a,u,v))})},54205:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(29747),y=f,c=f;y=i(19467),c=i(7930),n.exports={renderWebGL:y,renderCanvas:c}},19467:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(10441),y=i(91296),c=i(34682),o=r(function(l,a,u,v){u.addToRenderList(a);var d=l.pipelines.set(a.pipeline),p=y(a,u,v),g=d.calcMatrix.copyFrom(p.calc),m=a._displayOriginX,x=a._displayOriginY,C=u.alpha*a.alpha;l.pipelines.preBatch(a),a.isFilled&&f(d,g,a,C,m,x),a.isStroked&&c(d,a,C,m,x),l.pipelines.postBatch(a)},"EllipseWebGLRenderer");n.exports=o},30479:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(83419),y=i(17803),c=i(26015),o=new f({Extends:y,Mixins:[c],initialize:r(function(a,u,v,d,p,g,m,x,C,P,A){u===void 0&&(u=0),v===void 0&&(v=0),d===void 0&&(d=128),p===void 0&&(p=128),g===void 0&&(g=32),m===void 0&&(m=32),y.call(this,a,"Grid",null),this.cellWidth=g,this.cellHeight=m,this.showCells=!0,this.outlineFillColor=0,this.outlineFillAlpha=0,this.showOutline=!0,this.showAltCells=!1,this.altFillColor,this.altFillAlpha,this.setPosition(u,v),this.setSize(d,p),this.setFillStyle(x,C),P!==void 0&&this.setOutlineStyle(P,A),this.updateDisplayOrigin()},"Grid"),setFillStyle:r(function(l,a){return a===void 0&&(a=1),l===void 0?this.showCells=!1:(this.fillColor=l,this.fillAlpha=a,this.showCells=!0),this},"setFillStyle"),setAltFillStyle:r(function(l,a){return a===void 0&&(a=1),l===void 0?this.showAltCells=!1:(this.altFillColor=l,this.altFillAlpha=a,this.showAltCells=!0),this},"setAltFillStyle"),setOutlineStyle:r(function(l,a){return a===void 0&&(a=1),l===void 0?this.showOutline=!1:(this.outlineFillColor=l,this.outlineFillAlpha=a,this.showOutline=!0),this},"setOutlineStyle")});n.exports=o},49912:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(65960),y=i(75177),c=i(20926),o=r(function(l,a,u,v){u.addToRenderList(a);var d=l.currentContext;if(c(l,d,a,u,v)){var p=-a._displayOriginX,g=-a._displayOriginY,m=u.alpha*a.alpha,x=a.width,C=a.height,P=a.cellWidth,A=a.cellHeight,R=Math.ceil(x/P),L=Math.ceil(C/A),O=P,w=A,b=P-(R*P-x),F=A-(L*A-C),M=a.showCells,I=a.showAltCells,B=a.showOutline,G=0,N=0,z=0,H=0,$=0;if(B&&(O--,w--,b===P&&b--,F===A&&F--),M&&a.fillAlpha>0)for(f(d,a),N=0;N<L;N++)for(I&&(z=N%2),G=0;G<R;G++){if(I&&z){z=0;continue}z++,H=G<R-1?O:b,$=N<L-1?w:F,d.fillRect(p+G*P,g+N*A,H,$)}if(I&&a.altFillAlpha>0)for(f(d,a,a.altFillColor,a.altFillAlpha*m),N=0;N<L;N++)for(I&&(z=N%2),G=0;G<R;G++){if(I&&!z){z=1;continue}z=0,H=G<R-1?O:b,$=N<L-1?w:F,d.fillRect(p+G*P,g+N*A,H,$)}if(B&&a.outlineFillAlpha>0){for(y(d,a,a.outlineFillColor,a.outlineFillAlpha*m),G=1;G<R;G++){var V=G*P;d.beginPath(),d.moveTo(V+p,g),d.lineTo(V+p,C+g),d.stroke()}for(N=1;N<L;N++){var Y=N*A;d.beginPath(),d.moveTo(p,Y+g),d.lineTo(p+x,Y+g),d.stroke()}}d.restore()}},"GridCanvasRenderer");n.exports=o},34137:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(39429),y=i(30479);f.register("grid",function(c,o,l,a,u,v,d,p,g,m){return this.displayList.add(new y(this.scene,c,o,l,a,u,v,d,p,g,m))})},26015:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(29747),y=f,c=f;y=i(46161),c=i(49912),n.exports={renderWebGL:y,renderCanvas:c}},46161:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(91296),y=i(70554),c=r(function(o,l,a,u){a.addToRenderList(l);var v=o.pipelines.set(l.pipeline),d=f(l,a,u),p=v.calcMatrix.copyFrom(d.calc);p.translate(-l._displayOriginX,-l._displayOriginY);var g=a.alpha*l.alpha,m=l.width,x=l.height,C=l.cellWidth,P=l.cellHeight,A=Math.ceil(m/C),R=Math.ceil(x/P),L=C,O=P,w=C-(A*C-m),b=P-(R*P-x),F,M,I=l.showCells,B=l.showAltCells,G=l.showOutline,N=0,z=0,H=0,$=0,V=0;if(G&&(L--,O--,w===C&&w--,b===P&&b--),o.pipelines.preBatch(l),I&&l.fillAlpha>0)for(F=v.fillTint,M=y.getTintAppendFloatAlpha(l.fillColor,l.fillAlpha*g),F.TL=M,F.TR=M,F.BL=M,F.BR=M,z=0;z<R;z++)for(B&&(H=z%2),N=0;N<A;N++){if(B&&H){H=0;continue}H++,$=N<A-1?L:w,V=z<R-1?O:b,v.batchFillRect(N*C,z*P,$,V)}if(B&&l.altFillAlpha>0)for(F=v.fillTint,M=y.getTintAppendFloatAlpha(l.altFillColor,l.altFillAlpha*g),F.TL=M,F.TR=M,F.BL=M,F.BR=M,z=0;z<R;z++)for(B&&(H=z%2),N=0;N<A;N++){if(B&&!H){H=1;continue}H=0,$=N<A-1?L:w,V=z<R-1?O:b,v.batchFillRect(N*C,z*P,$,V)}if(G&&l.outlineFillAlpha>0){var Y=v.strokeTint,D=y.getTintAppendFloatAlpha(l.outlineFillColor,l.outlineFillAlpha*g);for(Y.TL=D,Y.TR=D,Y.BL=D,Y.BR=D,N=1;N<A;N++){var U=N*C;v.batchLine(U,0,U,x,1,1,1,0,!1)}for(z=1;z<R;z++){var W=z*P;v.batchLine(0,W,m,W,1,1,1,0,!1)}}o.pipelines.postBatch(l)},"GridWebGLRenderer");n.exports=c},61475:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(99651),y=i(83419),c=i(17803),o=new y({Extends:c,Mixins:[f],initialize:r(function(a,u,v,d,p,g,m,x){u===void 0&&(u=0),v===void 0&&(v=0),d===void 0&&(d=48),p===void 0&&(p=32),g===void 0&&(g=15658734),m===void 0&&(m=10066329),x===void 0&&(x=13421772),c.call(this,a,"IsoBox",null),this.projection=4,this.fillTop=g,this.fillLeft=m,this.fillRight=x,this.showTop=!0,this.showLeft=!0,this.showRight=!0,this.isFilled=!0,this.setPosition(u,v),this.setSize(d,p),this.updateDisplayOrigin()},"IsoBox"),setProjection:r(function(l){return this.projection=l,this},"setProjection"),setFaces:r(function(l,a,u){return l===void 0&&(l=!0),a===void 0&&(a=!0),u===void 0&&(u=!0),this.showTop=l,this.showLeft=a,this.showRight=u,this},"setFaces"),setFillStyle:r(function(l,a,u){return this.fillTop=l,this.fillLeft=a,this.fillRight=u,this.isFilled=!0,this},"setFillStyle")});n.exports=o},11508:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(65960),y=i(20926),c=r(function(o,l,a,u){a.addToRenderList(l);var v=o.currentContext;if(y(o,v,l,a,u)&&l.isFilled){var d=l.width,p=l.height,g=d/2,m=d/l.projection;l.showTop&&(f(v,l,l.fillTop),v.beginPath(),v.moveTo(-g,-p),v.lineTo(0,-m-p),v.lineTo(g,-p),v.lineTo(g,-1),v.lineTo(0,m-1),v.lineTo(-g,-1),v.lineTo(-g,-p),v.fill()),l.showLeft&&(f(v,l,l.fillLeft),v.beginPath(),v.moveTo(-g,0),v.lineTo(0,m),v.lineTo(0,m-p),v.lineTo(-g,-p),v.lineTo(-g,0),v.fill()),l.showRight&&(f(v,l,l.fillRight),v.beginPath(),v.moveTo(g,0),v.lineTo(0,m),v.lineTo(0,m-p),v.lineTo(g,-p),v.lineTo(g,0),v.fill()),v.restore()}},"IsoBoxCanvasRenderer");n.exports=c},3933:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(39429),y=i(61475);f.register("isobox",function(c,o,l,a,u,v,d){return this.displayList.add(new y(this.scene,c,o,l,a,u,v,d))})},99651:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(29747),y=f,c=f;y=i(68149),c=i(11508),n.exports={renderWebGL:y,renderCanvas:c}},68149:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(91296),y=i(70554),c=r(function(o,l,a,u){a.addToRenderList(l);var v=o.pipelines.set(l.pipeline),d=f(l,a,u),p=v.calcMatrix.copyFrom(d.calc),g=l.width,m=l.height,x=g/2,C=g/l.projection,P=a.alpha*l.alpha;if(l.isFilled){var A,R,L,O,w,b,F,M,I;o.pipelines.preBatch(l),l.showTop&&(A=y.getTintAppendFloatAlpha(l.fillTop,P),R=p.getX(-x,-m),L=p.getY(-x,-m),O=p.getX(0,-C-m),w=p.getY(0,-C-m),b=p.getX(x,-m),F=p.getY(x,-m),M=p.getX(0,C-m),I=p.getY(0,C-m),v.batchQuad(l,R,L,O,w,b,F,M,I,0,0,1,1,A,A,A,A,2)),l.showLeft&&(A=y.getTintAppendFloatAlpha(l.fillLeft,P),R=p.getX(-x,0),L=p.getY(-x,0),O=p.getX(0,C),w=p.getY(0,C),b=p.getX(0,C-m),F=p.getY(0,C-m),M=p.getX(-x,-m),I=p.getY(-x,-m),v.batchQuad(l,R,L,O,w,b,F,M,I,0,0,1,1,A,A,A,A,2)),l.showRight&&(A=y.getTintAppendFloatAlpha(l.fillRight,P),R=p.getX(x,0),L=p.getY(x,0),O=p.getX(0,C),w=p.getY(0,C),b=p.getX(0,C-m),F=p.getY(0,C-m),M=p.getX(x,-m),I=p.getY(x,-m),v.batchQuad(l,R,L,O,w,b,F,M,I,0,0,1,1,A,A,A,A,2)),o.pipelines.postBatch(l)}},"IsoBoxWebGLRenderer");n.exports=c},16933:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(83419),y=i(60561),c=i(17803),o=new f({Extends:c,Mixins:[y],initialize:r(function(a,u,v,d,p,g,m,x,C){u===void 0&&(u=0),v===void 0&&(v=0),d===void 0&&(d=48),p===void 0&&(p=32),g===void 0&&(g=!1),m===void 0&&(m=15658734),x===void 0&&(x=10066329),C===void 0&&(C=13421772),c.call(this,a,"IsoTriangle",null),this.projection=4,this.fillTop=m,this.fillLeft=x,this.fillRight=C,this.showTop=!0,this.showLeft=!0,this.showRight=!0,this.isReversed=g,this.isFilled=!0,this.setPosition(u,v),this.setSize(d,p),this.updateDisplayOrigin()},"IsoTriangle"),setProjection:r(function(l){return this.projection=l,this},"setProjection"),setReversed:r(function(l){return this.isReversed=l,this},"setReversed"),setFaces:r(function(l,a,u){return l===void 0&&(l=!0),a===void 0&&(a=!0),u===void 0&&(u=!0),this.showTop=l,this.showLeft=a,this.showRight=u,this},"setFaces"),setFillStyle:r(function(l,a,u){return this.fillTop=l,this.fillLeft=a,this.fillRight=u,this.isFilled=!0,this},"setFillStyle")});n.exports=o},79590:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(65960),y=i(20926),c=r(function(o,l,a,u){a.addToRenderList(l);var v=o.currentContext;if(y(o,v,l,a,u)&&l.isFilled){var d=l.width,p=l.height,g=d/2,m=d/l.projection,x=l.isReversed;l.showTop&&x&&(f(v,l,l.fillTop),v.beginPath(),v.moveTo(-g,-p),v.lineTo(0,-m-p),v.lineTo(g,-p),v.lineTo(0,m-p),v.fill()),l.showLeft&&(f(v,l,l.fillLeft),v.beginPath(),x?(v.moveTo(-g,-p),v.lineTo(0,m),v.lineTo(0,m-p)):(v.moveTo(-g,0),v.lineTo(0,m),v.lineTo(0,m-p)),v.fill()),l.showRight&&(f(v,l,l.fillRight),v.beginPath(),x?(v.moveTo(g,-p),v.lineTo(0,m),v.lineTo(0,m-p)):(v.moveTo(g,0),v.lineTo(0,m),v.lineTo(0,m-p)),v.fill()),v.restore()}},"IsoTriangleCanvasRenderer");n.exports=c},49803:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(39429),y=i(16933);f.register("isotriangle",function(c,o,l,a,u,v,d,p){return this.displayList.add(new y(this.scene,c,o,l,a,u,v,d,p))})},60561:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(29747),y=f,c=f;y=i(51503),c=i(79590),n.exports={renderWebGL:y,renderCanvas:c}},51503:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(91296),y=i(70554),c=r(function(o,l,a,u){a.addToRenderList(l);var v=o.pipelines.set(l.pipeline),d=f(l,a,u),p=v.calcMatrix.copyFrom(d.calc),g=l.width,m=l.height,x=g/2,C=g/l.projection,P=l.isReversed,A=a.alpha*l.alpha;if(l.isFilled){o.pipelines.preBatch(l);var R,L,O,w,b,F,M;if(l.showTop&&P){R=y.getTintAppendFloatAlpha(l.fillTop,A),L=p.getX(-x,-m),O=p.getY(-x,-m),w=p.getX(0,-C-m),b=p.getY(0,-C-m),F=p.getX(x,-m),M=p.getY(x,-m);var I=p.getX(0,C-m),B=p.getY(0,C-m);v.batchQuad(l,L,O,w,b,F,M,I,B,0,0,1,1,R,R,R,R,2)}l.showLeft&&(R=y.getTintAppendFloatAlpha(l.fillLeft,A),P?(L=p.getX(-x,-m),O=p.getY(-x,-m),w=p.getX(0,C),b=p.getY(0,C),F=p.getX(0,C-m),M=p.getY(0,C-m)):(L=p.getX(-x,0),O=p.getY(-x,0),w=p.getX(0,C),b=p.getY(0,C),F=p.getX(0,C-m),M=p.getY(0,C-m)),v.batchTri(l,L,O,w,b,F,M,0,0,1,1,R,R,R,2)),l.showRight&&(R=y.getTintAppendFloatAlpha(l.fillRight,A),P?(L=p.getX(x,-m),O=p.getY(x,-m),w=p.getX(0,C),b=p.getY(0,C),F=p.getX(0,C-m),M=p.getY(0,C-m)):(L=p.getX(x,0),O=p.getY(x,0),w=p.getX(0,C),b=p.getY(0,C),F=p.getX(0,C-m),M=p.getY(0,C-m)),v.batchTri(l,L,O,w,b,F,M,0,0,1,1,R,R,R,2)),o.pipelines.postBatch(l)}},"IsoTriangleWebGLRenderer");n.exports=c},57847:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(83419),y=i(17803),c=i(23031),o=i(36823),l=new f({Extends:y,Mixins:[o],initialize:r(function(u,v,d,p,g,m,x,C,P){v===void 0&&(v=0),d===void 0&&(d=0),p===void 0&&(p=0),g===void 0&&(g=0),m===void 0&&(m=128),x===void 0&&(x=0),y.call(this,u,"Line",new c(p,g,m,x));var A=Math.max(1,this.geom.right-this.geom.left),R=Math.max(1,this.geom.bottom-this.geom.top);this.lineWidth=1,this._startWidth=1,this._endWidth=1,this.setPosition(v,d),this.setSize(A,R),C!==void 0&&this.setStrokeStyle(1,C,P),this.updateDisplayOrigin()},"Line"),setLineWidth:r(function(a,u){return u===void 0&&(u=a),this._startWidth=a,this._endWidth=u,this.lineWidth=a,this},"setLineWidth"),setTo:r(function(a,u,v,d){return this.geom.setTo(a,u,v,d),this},"setTo")});n.exports=l},17440:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(75177),y=i(20926),c=r(function(o,l,a,u){a.addToRenderList(l);var v=o.currentContext;if(y(o,v,l,a,u)){var d=l._displayOriginX,p=l._displayOriginY;l.isStroked&&(f(v,l),v.beginPath(),v.moveTo(l.geom.x1-d,l.geom.y1-p),v.lineTo(l.geom.x2-d,l.geom.y2-p),v.stroke()),v.restore()}},"LineCanvasRenderer");n.exports=c},2481:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(39429),y=i(57847);f.register("line",function(c,o,l,a,u,v,d,p){return this.displayList.add(new y(this.scene,c,o,l,a,u,v,d,p))})},36823:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(29747),y=f,c=f;y=i(77385),c=i(17440),n.exports={renderWebGL:y,renderCanvas:c}},77385:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(91296),y=i(70554),c=r(function(o,l,a,u){a.addToRenderList(l);var v=o.pipelines.set(l.pipeline),d=f(l,a,u);v.calcMatrix.copyFrom(d.calc);var p=l._displayOriginX,g=l._displayOriginY,m=a.alpha*l.alpha;if(o.pipelines.preBatch(l),l.isStroked){var x=v.strokeTint,C=y.getTintAppendFloatAlpha(l.strokeColor,l.strokeAlpha*m);x.TL=C,x.TR=C,x.BL=C,x.BR=C,v.batchLine(l.geom.x1-p,l.geom.y1-g,l.geom.x2-p,l.geom.y2-g,l._startWidth/2,l._endWidth/2,1,0,!1,d.sprite,d.camera)}o.pipelines.postBatch(l)},"LineWebGLRenderer");n.exports=c},24949:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(90273),y=i(83419),c=i(94811),o=i(13829),l=i(25717),a=i(17803),u=i(5469),v=new y({Extends:a,Mixins:[f],initialize:r(function(p,g,m,x,C,P){g===void 0&&(g=0),m===void 0&&(m=0),a.call(this,p,"Polygon",new l(x));var A=o(this.geom);this.setPosition(g,m),this.setSize(A.width,A.height),C!==void 0&&this.setFillStyle(C,P),this.updateDisplayOrigin(),this.updateData()},"Polygon"),smooth:r(function(d){d===void 0&&(d=1);for(var p=0;p<d;p++)u(this.geom);return this.updateData()},"smooth"),setTo:r(function(d){this.geom.setTo(d);var p=o(this.geom);return this.setSize(p.width,p.height),this.updateDisplayOrigin(),this.updateData()},"setTo"),updateData:r(function(){for(var d=[],p=this.geom.points,g=0;g<p.length;g++)d.push(p[g].x,p[g].y);return d.push(p[0].x,p[0].y),this.pathIndexes=c(d),this.pathData=d,this},"updateData")});n.exports=v},38710:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(65960),y=i(75177),c=i(20926),o=r(function(l,a,u,v){u.addToRenderList(a);var d=l.currentContext;if(c(l,d,a,u,v)){var p=a._displayOriginX,g=a._displayOriginY,m=a.pathData,x=m.length-1,C=m[0]-p,P=m[1]-g;d.beginPath(),d.moveTo(C,P),a.closePath||(x-=2);for(var A=2;A<x;A+=2){var R=m[A]-p,L=m[A+1]-g;d.lineTo(R,L)}a.closePath&&d.closePath(),a.isFilled&&(f(d,a),d.fill()),a.isStroked&&(y(d,a),d.stroke()),d.restore()}},"PolygonCanvasRenderer");n.exports=o},64827:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(39429),y=i(24949);f.register("polygon",function(c,o,l,a,u){return this.displayList.add(new y(this.scene,c,o,l,a,u))})},90273:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(29747),y=f,c=f;y=i(73695),c=i(38710),n.exports={renderWebGL:y,renderCanvas:c}},73695:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(10441),y=i(91296),c=i(34682),o=r(function(l,a,u,v){u.addToRenderList(a);var d=l.pipelines.set(a.pipeline),p=y(a,u,v),g=d.calcMatrix.copyFrom(p.calc),m=a._displayOriginX,x=a._displayOriginY,C=u.alpha*a.alpha;l.pipelines.preBatch(a),a.isFilled&&f(d,g,a,C,m,x),a.isStroked&&c(d,a,C,m,x),l.pipelines.postBatch(a)},"PolygonWebGLRenderer");n.exports=o},74561:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(83419),y=i(87841),c=i(17803),o=i(95597),l=new f({Extends:c,Mixins:[o],initialize:r(function(u,v,d,p,g,m,x){v===void 0&&(v=0),d===void 0&&(d=0),p===void 0&&(p=128),g===void 0&&(g=128),c.call(this,u,"Rectangle",new y(0,0,p,g)),this.setPosition(v,d),this.setSize(p,g),m!==void 0&&this.setFillStyle(m,x),this.updateDisplayOrigin(),this.updateData()},"Rectangle"),setSize:r(function(a,u){this.width=a,this.height=u,this.geom.setSize(a,u),this.updateData(),this.updateDisplayOrigin();var v=this.input;return v&&!v.customHitArea&&(v.hitArea.width=a,v.hitArea.height=u),this},"setSize"),updateData:r(function(){var a=[],u=this.geom,v=this._tempLine;return u.getLineA(v),a.push(v.x1,v.y1,v.x2,v.y2),u.getLineB(v),a.push(v.x2,v.y2),u.getLineC(v),a.push(v.x2,v.y2),u.getLineD(v),a.push(v.x2,v.y2),this.pathData=a,this},"updateData")});n.exports=l},48682:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(65960),y=i(75177),c=i(20926),o=r(function(l,a,u,v){u.addToRenderList(a);var d=l.currentContext;if(c(l,d,a,u,v)){var p=a._displayOriginX,g=a._displayOriginY;a.isFilled&&(f(d,a),d.fillRect(-p,-g,a.width,a.height)),a.isStroked&&(y(d,a),d.beginPath(),d.rect(-p,-g,a.width,a.height),d.stroke()),d.restore()}},"RectangleCanvasRenderer");n.exports=o},87959:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(39429),y=i(74561);f.register("rectangle",function(c,o,l,a,u,v){return this.displayList.add(new y(this.scene,c,o,l,a,u,v))})},95597:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(29747),y=f,c=f;y=i(52059),c=i(48682),n.exports={renderWebGL:y,renderCanvas:c}},52059:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(91296),y=i(34682),c=i(70554),o=r(function(l,a,u,v){u.addToRenderList(a);var d=l.pipelines.set(a.pipeline),p=f(a,u,v);d.calcMatrix.copyFrom(p.calc);var g=a._displayOriginX,m=a._displayOriginY,x=u.alpha*a.alpha;if(l.pipelines.preBatch(a),a.isFilled){var C=d.fillTint,P=c.getTintAppendFloatAlpha(a.fillColor,a.fillAlpha*x);C.TL=P,C.TR=P,C.BL=P,C.BR=P,d.batchFillRect(-g,-m,a.width,a.height)}a.isStroked&&y(d,a,x,g,m),l.pipelines.postBatch(a)},"RectangleWebGLRenderer");n.exports=o},55911:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(81991),y=i(83419),c=i(94811),o=i(17803),l=new y({Extends:o,Mixins:[f],initialize:r(function(u,v,d,p,g,m,x,C){v===void 0&&(v=0),d===void 0&&(d=0),p===void 0&&(p=5),g===void 0&&(g=32),m===void 0&&(m=64),o.call(this,u,"Star",null),this._points=p,this._innerRadius=g,this._outerRadius=m,this.setPosition(v,d),this.setSize(m*2,m*2),x!==void 0&&this.setFillStyle(x,C),this.updateDisplayOrigin(),this.updateData()},"Star"),setPoints:r(function(a){return this._points=a,this.updateData()},"setPoints"),setInnerRadius:r(function(a){return this._innerRadius=a,this.updateData()},"setInnerRadius"),setOuterRadius:r(function(a){return this._outerRadius=a,this.updateData()},"setOuterRadius"),points:{get:r(function(){return this._points},"get"),set:r(function(a){this._points=a,this.updateData()},"set")},innerRadius:{get:r(function(){return this._innerRadius},"get"),set:r(function(a){this._innerRadius=a,this.updateData()},"set")},outerRadius:{get:r(function(){return this._outerRadius},"get"),set:r(function(a){this._outerRadius=a,this.updateData()},"set")},updateData:r(function(){var a=[],u=this._points,v=this._innerRadius,d=this._outerRadius,p=Math.PI/2*3,g=Math.PI/u,m=d,x=d;a.push(m,x+-d);for(var C=0;C<u;C++)a.push(m+Math.cos(p)*d,x+Math.sin(p)*d),p+=g,a.push(m+Math.cos(p)*v,x+Math.sin(p)*v),p+=g;return a.push(m,x+-d),this.pathIndexes=c(a),this.pathData=a,this},"updateData")});n.exports=l},64272:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(65960),y=i(75177),c=i(20926),o=r(function(l,a,u,v){u.addToRenderList(a);var d=l.currentContext;if(c(l,d,a,u,v)){var p=a._displayOriginX,g=a._displayOriginY,m=a.pathData,x=m.length-1,C=m[0]-p,P=m[1]-g;d.beginPath(),d.moveTo(C,P),a.closePath||(x-=2);for(var A=2;A<x;A+=2){var R=m[A]-p,L=m[A+1]-g;d.lineTo(R,L)}d.closePath(),a.isFilled&&(f(d,a),d.fill()),a.isStroked&&(y(d,a),d.stroke()),d.restore()}},"StarCanvasRenderer");n.exports=o},93697:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(55911),y=i(39429);y.register("star",function(c,o,l,a,u,v,d){return this.displayList.add(new f(this.scene,c,o,l,a,u,v,d))})},81991:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(29747),y=f,c=f;y=i(57017),c=i(64272),n.exports={renderWebGL:y,renderCanvas:c}},57017:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(10441),y=i(91296),c=i(34682),o=r(function(l,a,u,v){u.addToRenderList(a);var d=l.pipelines.set(a.pipeline),p=y(a,u,v),g=d.calcMatrix.copyFrom(p.calc),m=a._displayOriginX,x=a._displayOriginY,C=u.alpha*a.alpha;l.pipelines.preBatch(a),a.isFilled&&f(d,g,a,C,m,x),a.isStroked&&c(d,a,C,m,x),l.pipelines.postBatch(a)},"StarWebGLRenderer");n.exports=o},36931:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(83419),y=i(17803),c=i(16483),o=i(96195),l=new f({Extends:y,Mixins:[o],initialize:r(function(u,v,d,p,g,m,x,C,P,A,R){v===void 0&&(v=0),d===void 0&&(d=0),p===void 0&&(p=0),g===void 0&&(g=128),m===void 0&&(m=64),x===void 0&&(x=0),C===void 0&&(C=128),P===void 0&&(P=128),y.call(this,u,"Triangle",new c(p,g,m,x,C,P));var L=this.geom.right-this.geom.left,O=this.geom.bottom-this.geom.top;this.setPosition(v,d),this.setSize(L,O),A!==void 0&&this.setFillStyle(A,R),this.updateDisplayOrigin(),this.updateData()},"Triangle"),setTo:r(function(a,u,v,d,p,g){return this.geom.setTo(a,u,v,d,p,g),this.updateData()},"setTo"),updateData:r(function(){var a=[],u=this.geom,v=this._tempLine;return u.getLineA(v),a.push(v.x1,v.y1,v.x2,v.y2),u.getLineB(v),a.push(v.x2,v.y2),u.getLineC(v),a.push(v.x2,v.y2),this.pathData=a,this},"updateData")});n.exports=l},85172:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(65960),y=i(75177),c=i(20926),o=r(function(l,a,u,v){u.addToRenderList(a);var d=l.currentContext;if(c(l,d,a,u,v)){var p=a._displayOriginX,g=a._displayOriginY,m=a.geom.x1-p,x=a.geom.y1-g,C=a.geom.x2-p,P=a.geom.y2-g,A=a.geom.x3-p,R=a.geom.y3-g;d.beginPath(),d.moveTo(m,x),d.lineTo(C,P),d.lineTo(A,R),d.closePath(),a.isFilled&&(f(d,a),d.fill()),a.isStroked&&(y(d,a),d.stroke()),d.restore()}},"TriangleCanvasRenderer");n.exports=o},45245:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(39429),y=i(36931);f.register("triangle",function(c,o,l,a,u,v,d,p,g,m){return this.displayList.add(new y(this.scene,c,o,l,a,u,v,d,p,g,m))})},96195:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(29747),y=f,c=f;y=i(83253),c=i(85172),n.exports={renderWebGL:y,renderCanvas:c}},83253:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(91296),y=i(34682),c=i(70554),o=r(function(l,a,u,v){u.addToRenderList(a);var d=l.pipelines.set(a.pipeline),p=f(a,u,v);d.calcMatrix.copyFrom(p.calc);var g=a._displayOriginX,m=a._displayOriginY,x=u.alpha*a.alpha;if(l.pipelines.preBatch(a),a.isFilled){var C=d.fillTint,P=c.getTintAppendFloatAlpha(a.fillColor,a.fillAlpha*x);C.TL=P,C.TR=P,C.BL=P,C.BR=P;var A=a.geom.x1-g,R=a.geom.y1-m,L=a.geom.x2-g,O=a.geom.y2-m,w=a.geom.x3-g,b=a.geom.y3-m;d.batchFillTriangle(A,R,L,O,w,b,p.sprite,p.camera)}a.isStroked&&y(d,a,x,g,m),l.pipelines.postBatch(a)},"TriangleWebGLRenderer");n.exports=o},68287:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(9674),y=i(83419),c=i(31401),o=i(95643),l=i(92751),a=new y({Extends:o,Mixins:[c.Alpha,c.BlendMode,c.Depth,c.Flip,c.GetBounds,c.Mask,c.Origin,c.Pipeline,c.PostPipeline,c.ScrollFactor,c.Size,c.TextureCrop,c.Tint,c.Transform,c.Visible,l],initialize:r(function(v,d,p,g,m){o.call(this,v,"Sprite"),this._crop=this.resetCropObject(),this.anims=new f(this),this.setTexture(g,m),this.setPosition(d,p),this.setSizeToFrame(),this.setOriginFromFrame(),this.initPipeline(),this.initPostPipeline(!0)},"Sprite"),addedToScene:r(function(){this.scene.sys.updateList.add(this)},"addedToScene"),removedFromScene:r(function(){this.scene.sys.updateList.remove(this)},"removedFromScene"),preUpdate:r(function(u,v){this.anims.update(u,v)},"preUpdate"),play:r(function(u,v){return this.anims.play(u,v)},"play"),playReverse:r(function(u,v){return this.anims.playReverse(u,v)},"playReverse"),playAfterDelay:r(function(u,v){return this.anims.playAfterDelay(u,v)},"playAfterDelay"),playAfterRepeat:r(function(u,v){return this.anims.playAfterRepeat(u,v)},"playAfterRepeat"),chain:r(function(u){return this.anims.chain(u)},"chain"),stop:r(function(){return this.anims.stop()},"stop"),stopAfterDelay:r(function(u){return this.anims.stopAfterDelay(u)},"stopAfterDelay"),stopAfterRepeat:r(function(u){return this.anims.stopAfterRepeat(u)},"stopAfterRepeat"),stopOnFrame:r(function(u){return this.anims.stopOnFrame(u)},"stopOnFrame"),toJSON:r(function(){return c.ToJSON(this)},"toJSON"),preDestroy:r(function(){this.anims.destroy(),this.anims=void 0},"preDestroy")});n.exports=a},76552:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i,f,y,c){y.addToRenderList(f),i.batchSprite(f,f.frame,y,c)},"SpriteCanvasRenderer");n.exports=T},15567:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(25305),y=i(13059),c=i(44603),o=i(23568),l=i(68287);c.register("sprite",function(a,u){a===void 0&&(a={});var v=o(a,"key",null),d=o(a,"frame",null),p=new l(this.scene,0,0,v,d);return u!==void 0&&(a.add=u),f(this.scene,p,a),y(p,a),p})},46409:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(39429),y=i(68287);f.register("sprite",function(c,o,l,a){return this.displayList.add(new y(this.scene,c,o,l,a))})},92751:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(29747),y=f,c=f;y=i(9409),c=i(76552),n.exports={renderWebGL:y,renderCanvas:c}},9409:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i,f,y,c){y.addToRenderList(f),f.pipeline.batchSprite(f,y,c)},"SpriteWebGLRenderer");n.exports=T},14220:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i,f,y){var c=i.canvas,o=i.context,l=i.style,a=[],u=0,v=y.length;l.maxLines>0&&l.maxLines<y.length&&(v=l.maxLines),l.syncFont(c,o);for(var d=0;d<v;d++){var p=l.strokeThickness;p+=o.measureText(y[d]).width,y[d].length>1&&(p+=i.letterSpacing*(y[d].length-1)),l.wordWrap&&(p-=o.measureText(" ").width),a[d]=Math.ceil(p),u=Math.max(u,a[d])}var g=f.fontSize+l.strokeThickness,m=g*v,x=i.lineSpacing;return v>1&&(m+=x*(v-1)),{width:u,height:m,lines:v,lineWidths:a,lineSpacing:x,lineHeight:g}},"GetTextSize");n.exports=T},79557:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(27919),y=r(function(c){var o=f.create(this),l=o.getContext("2d",{willReadFrequently:!0});c.syncFont(o,l);var a=l.measureText(c.testString);if("actualBoundingBoxAscent"in a){var u=a.actualBoundingBoxAscent,v=a.actualBoundingBoxDescent;return f.remove(o),{ascent:u,descent:v,fontSize:u+v}}var d=Math.ceil(a.width*c.baselineX),p=d,g=2*p;p=p*c.baselineY|0,o.width=d,o.height=g,l.fillStyle="#f00",l.fillRect(0,0,d,g),l.font=c._font,l.textBaseline="alphabetic",l.fillStyle="#000",l.fillText(c.testString,0,p);var m={ascent:0,descent:0,fontSize:0},x=l.getImageData(0,0,d,g);if(!x)return m.ascent=p,m.descent=p+6,m.fontSize=m.ascent+m.descent,f.remove(o),m;var C=x.data,P=C.length,A=d*4,R,L,O=0,w=!1;for(R=0;R<p;R++){for(L=0;L<A;L+=4)if(C[O+L]!==255){w=!0;break}if(!w)O+=A;else break}for(m.ascent=p-R,O=P-A,w=!1,R=g;R>p;R--){for(L=0;L<A;L+=4)if(C[O+L]!==255){w=!0;break}if(!w)O-=A;else break}return m.descent=R-p,m.fontSize=m.ascent+m.descent,f.remove(o),m},"MeasureText");n.exports=y},50171:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(40366),y=i(27919),c=i(83419),o=i(31401),l=i(95643),a=i(14220),u=i(35154),v=i(35846),d=i(61771),p=i(35762),g=i(45650),m=new c({Extends:l,Mixins:[o.Alpha,o.BlendMode,o.ComputedSize,o.Crop,o.Depth,o.Flip,o.GetBounds,o.Mask,o.Origin,o.Pipeline,o.PostPipeline,o.ScrollFactor,o.Tint,o.Transform,o.Visible,d],initialize:r(function(C,P,A,R,L){P===void 0&&(P=0),A===void 0&&(A=0),l.call(this,C,"Text"),this.renderer=C.sys.renderer,this.setPosition(P,A),this.setOrigin(0,0),this.initPipeline(),this.initPostPipeline(!0),this.canvas=y.create(this),this.context,this.style=new p(this,L),this.autoRound=!0,this.splitRegExp=/(?:\r\n|\r|\n)/,this._text=void 0,this.padding={left:0,right:0,top:0,bottom:0},this.width=1,this.height=1,this.lineSpacing=0,this.letterSpacing=0,this.style.resolution===0&&(this.style.resolution=1),this._crop=this.resetCropObject(),this._textureKey=g(),this.texture=C.sys.textures.addCanvas(this._textureKey,this.canvas),this.context=this.texture.context,this.frame=this.texture.get(),this.frame.source.resolution=this.style.resolution,this.renderer&&this.renderer.gl&&(this.renderer.deleteTexture(this.frame.source.glTexture),this.frame.source.glTexture=null),this.initRTL(),this.setText(R),L&&L.padding&&this.setPadding(L.padding),L&&L.lineSpacing&&this.setLineSpacing(L.lineSpacing)},"Text"),initRTL:r(function(){this.style.rtl&&(this.canvas.dir="rtl",this.context.direction="rtl",this.canvas.style.display="none",f(this.canvas,this.scene.sys.canvas),this.originX=1)},"initRTL"),runWordWrap:r(function(x){var C=this.style;if(C.wordWrapCallback){var P=C.wordWrapCallback.call(C.wordWrapCallbackScope,x,this);return Array.isArray(P)&&(P=P.join(`
`)),P}else return C.wordWrapWidth?C.wordWrapUseAdvanced?this.advancedWordWrap(x,this.context,this.style.wordWrapWidth):this.basicWordWrap(x,this.context,this.style.wordWrapWidth):x},"runWordWrap"),advancedWordWrap:r(function(x,C,P){for(var A="",R=x.replace(/ +/gi," ").split(this.splitRegExp),L=R.length,O=0;O<L;O++){var w=R[O],b="";w=w.replace(/^ *|\s*$/gi,"");var F=C.measureText(w).width;if(F<P){A+=w+`
`;continue}for(var M=P,I=w.split(" "),B=0;B<I.length;B++){var G=I[B],N=G+" ",z=C.measureText(N).width;if(z>M){if(B===0){for(var H=N;H.length&&(H=H.slice(0,-1),z=C.measureText(H).width,!(z<=M)););if(!H.length)throw new Error("wordWrapWidth < a single character");var $=G.substr(H.length);I[B]=$,b+=H}var V=I[B].length?B:B+1,Y=I.slice(V).join(" ").replace(/[ \n]*$/gi,"");R.splice(O+1,0,Y),L=R.length;break}else b+=N,M-=z}A+=b.replace(/[ \n]*$/gi,"")+`
`}return A=A.replace(/[\s|\n]*$/gi,""),A},"advancedWordWrap"),basicWordWrap:r(function(x,C,P){for(var A="",R=x.split(this.splitRegExp),L=R.length-1,O=C.measureText(" ").width,w=0;w<=L;w++){for(var b=P,F=R[w].split(" "),M=F.length-1,I=0;I<=M;I++){var B=F[I],G=C.measureText(B).width,N=G;I<M&&(N+=O),N>b&&I>0&&(A+=`
`,b=P),A+=B,I<M?(A+=" ",b-=N):b-=G}w<L&&(A+=`
`)}return A},"basicWordWrap"),getWrappedText:r(function(x){x===void 0&&(x=this._text),this.style.syncFont(this.canvas,this.context);var C=this.runWordWrap(x);return C.split(this.splitRegExp)},"getWrappedText"),setText:r(function(x){return!x&&x!==0&&(x=""),Array.isArray(x)&&(x=x.join(`
`)),x!==this._text&&(this._text=x.toString(),this.updateText()),this},"setText"),appendText:r(function(x,C){C===void 0&&(C=!0),!x&&x!==0&&(x=""),Array.isArray(x)&&(x=x.join(`
`)),x=x.toString();var P=this._text.concat(C?`
`+x:x);return P!==this._text&&(this._text=P,this.updateText()),this},"appendText"),setStyle:r(function(x){return this.style.setStyle(x)},"setStyle"),setFont:r(function(x){return this.style.setFont(x)},"setFont"),setFontFamily:r(function(x){return this.style.setFontFamily(x)},"setFontFamily"),setFontSize:r(function(x){return this.style.setFontSize(x)},"setFontSize"),setFontStyle:r(function(x){return this.style.setFontStyle(x)},"setFontStyle"),setFixedSize:r(function(x,C){return this.style.setFixedSize(x,C)},"setFixedSize"),setBackgroundColor:r(function(x){return this.style.setBackgroundColor(x)},"setBackgroundColor"),setFill:r(function(x){return this.style.setFill(x)},"setFill"),setColor:r(function(x){return this.style.setColor(x)},"setColor"),setStroke:r(function(x,C){return this.style.setStroke(x,C)},"setStroke"),setShadow:r(function(x,C,P,A,R,L){return this.style.setShadow(x,C,P,A,R,L)},"setShadow"),setShadowOffset:r(function(x,C){return this.style.setShadowOffset(x,C)},"setShadowOffset"),setShadowColor:r(function(x){return this.style.setShadowColor(x)},"setShadowColor"),setShadowBlur:r(function(x){return this.style.setShadowBlur(x)},"setShadowBlur"),setShadowStroke:r(function(x){return this.style.setShadowStroke(x)},"setShadowStroke"),setShadowFill:r(function(x){return this.style.setShadowFill(x)},"setShadowFill"),setWordWrapWidth:r(function(x,C){return this.style.setWordWrapWidth(x,C)},"setWordWrapWidth"),setWordWrapCallback:r(function(x,C){return this.style.setWordWrapCallback(x,C)},"setWordWrapCallback"),setAlign:r(function(x){return this.style.setAlign(x)},"setAlign"),setResolution:r(function(x){return this.style.setResolution(x)},"setResolution"),setLineSpacing:r(function(x){return this.lineSpacing=x,this.updateText()},"setLineSpacing"),setLetterSpacing:r(function(x){return this.letterSpacing=x,this.updateText()},"setLetterSpacing"),setPadding:r(function(x,C,P,A){if(typeof x=="object"){var R=x,L=u(R,"x",null);L!==null?(x=L,P=L):(x=u(R,"left",0),P=u(R,"right",x));var O=u(R,"y",null);O!==null?(C=O,A=O):(C=u(R,"top",0),A=u(R,"bottom",C))}else x===void 0&&(x=0),C===void 0&&(C=x),P===void 0&&(P=x),A===void 0&&(A=C);return this.padding.left=x,this.padding.top=C,this.padding.right=P,this.padding.bottom=A,this.updateText()},"setPadding"),setMaxLines:r(function(x){return this.style.setMaxLines(x)},"setMaxLines"),setRTL:r(function(x){x===void 0&&(x=!0);var C=this.style;return C.rtl===x?this:(C.rtl=x,x?(this.canvas.dir="rtl",this.context.direction="rtl",this.canvas.style.display="none",f(this.canvas,this.scene.sys.canvas)):(this.canvas.dir="ltr",this.context.direction="ltr"),C.align==="left"?C.align="right":C.align==="right"&&(C.align="left"),this)},"setRTL"),updateText:r(function(){var x=this.canvas,C=this.context,P=this.style,A=P.resolution,R=P.metrics;P.syncFont(x,C);var L=this._text;(P.wordWrapWidth||P.wordWrapCallback)&&(L=this.runWordWrap(this._text));var O=L.split(this.splitRegExp),w=a(this,R,O),b=this.padding,F;P.fixedWidth===0?(this.width=w.width+b.left+b.right,F=w.width):(this.width=P.fixedWidth,F=this.width-b.left-b.right,F<w.width&&(F=w.width)),P.fixedHeight===0?this.height=w.height+b.top+b.bottom:this.height=P.fixedHeight;var M=this.width,I=this.height;this.updateDisplayOrigin(),M*=A,I*=A,M=Math.max(M,1),I=Math.max(I,1),x.width!==M||x.height!==I?(x.width=M,x.height=I,this.frame.setSize(M,I),P.syncFont(x,C),P.rtl&&(C.direction="rtl")):C.clearRect(0,0,M,I),C.save(),C.scale(A,A),P.backgroundColor&&(C.fillStyle=P.backgroundColor,C.fillRect(0,0,M,I)),P.syncStyle(x,C),C.translate(b.left,b.top);for(var B,G,N=0;N<w.lines;N++){if(B=P.strokeThickness/2,G=P.strokeThickness/2+N*w.lineHeight+R.ascent,N>0&&(G+=w.lineSpacing*N),P.rtl)B=M-B-b.left-b.right;else if(P.align==="right")B+=F-w.lineWidths[N];else if(P.align==="center")B+=(F-w.lineWidths[N])/2;else if(P.align==="justify"){var z=.85;if(w.lineWidths[N]/w.width>=z){var H=w.width-w.lineWidths[N],$=C.measureText(" ").width,V=O[N].trim(),Y=V.split(" ");H+=(O[N].length-V.length)*$;for(var D=Math.floor(H/$),U=0;D>0;)Y[U]+=" ",U=(U+1)%(Y.length-1||1),--D;O[N]=Y.join(" ")}}if(this.autoRound&&(B=Math.round(B),G=Math.round(G)),P.strokeThickness&&(P.syncShadow(C,P.shadowStroke),C.strokeText(O[N],B,G)),P.color){P.syncShadow(C,P.shadowFill);var W=this.letterSpacing;if(W!==0)for(var k=0,X=O[N].split(""),K=0;K<X.length;K++)C.fillText(X[K],B+k,G),k+=C.measureText(X[K]).width+W;else C.fillText(O[N],B,G)}}C.restore(),this.renderer&&this.renderer.gl&&(this.frame.source.glTexture=this.renderer.canvasToTexture(x,this.frame.source.glTexture,!0));var Z=this.input;return Z&&!Z.customHitArea&&(Z.hitArea.width=this.width,Z.hitArea.height=this.height),this},"updateText"),getTextMetrics:r(function(){return this.style.getTextMetrics()},"getTextMetrics"),text:{get:r(function(){return this._text},"get"),set:r(function(x){this.setText(x)},"set")},toJSON:r(function(){var x=o.ToJSON(this),C={autoRound:this.autoRound,text:this._text,style:this.style.toJSON(),padding:{left:this.padding.left,right:this.padding.right,top:this.padding.top,bottom:this.padding.bottom}};return x.data=C,x},"toJSON"),preDestroy:r(function(){v(this.canvas),y.remove(this.canvas);var x=this.texture;x&&x.destroy()},"preDestroy")});n.exports=m},79724:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i,f,y,c){f.width===0||f.height===0||(y.addToRenderList(f),i.batchSprite(f,f.frame,y,c))},"TextCanvasRenderer");n.exports=T},71259:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(25305),y=i(44603),c=i(23568),o=i(50171);y.register("text",function(l,a){l===void 0&&(l={});var u=c(l,"text",""),v=c(l,"style",null),d=c(l,"padding",null);d!==null&&(v.padding=d);var p=new o(this.scene,0,0,u,v);return a!==void 0&&(l.add=a),f(this.scene,p,l),p.autoRound=c(l,"autoRound",!0),p.resolution=c(l,"resolution",1),p})},68005:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(50171),y=i(39429);y.register("text",function(c,o,l,a){return this.displayList.add(new f(this.scene,c,o,l,a))})},61771:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(29747),y=f,c=f;y=i(34397),c=i(79724),n.exports={renderWebGL:y,renderCanvas:c}},35762:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(83419),y=i(23568),c=i(35154),o=i(79557),l={fontFamily:["fontFamily","Courier"],fontSize:["fontSize","16px"],fontStyle:["fontStyle",""],backgroundColor:["backgroundColor",null],color:["color","#fff"],stroke:["stroke","#fff"],strokeThickness:["strokeThickness",0],shadowOffsetX:["shadow.offsetX",0],shadowOffsetY:["shadow.offsetY",0],shadowColor:["shadow.color","#000"],shadowBlur:["shadow.blur",0],shadowStroke:["shadow.stroke",!1],shadowFill:["shadow.fill",!1],align:["align","left"],maxLines:["maxLines",0],fixedWidth:["fixedWidth",0],fixedHeight:["fixedHeight",0],resolution:["resolution",0],rtl:["rtl",!1],testString:["testString","|Mqgy"],baselineX:["baselineX",1.2],baselineY:["baselineY",1.4],wordWrapWidth:["wordWrap.width",null],wordWrapCallback:["wordWrap.callback",null],wordWrapCallbackScope:["wordWrap.callbackScope",null],wordWrapUseAdvanced:["wordWrap.useAdvancedWrap",!1]},a=new f({initialize:r(function(v,d){this.parent=v,this.fontFamily,this.fontSize,this.fontStyle,this.backgroundColor,this.color,this.stroke,this.strokeThickness,this.shadowOffsetX,this.shadowOffsetY,this.shadowColor,this.shadowBlur,this.shadowStroke,this.shadowFill,this.align,this.maxLines,this.fixedWidth,this.fixedHeight,this.resolution,this.rtl,this.testString,this.baselineX,this.baselineY,this.wordWrapWidth,this.wordWrapCallback,this.wordWrapCallbackScope,this.wordWrapUseAdvanced,this._font,this.setStyle(d,!1,!0)},"TextStyle"),setStyle:r(function(u,v,d){v===void 0&&(v=!0),d===void 0&&(d=!1),u&&u.hasOwnProperty("fontSize")&&typeof u.fontSize=="number"&&(u.fontSize=u.fontSize.toString()+"px");for(var p in l){var g=d?l[p][1]:this[p];p==="wordWrapCallback"||p==="wordWrapCallbackScope"?this[p]=c(u,l[p][0],g):this[p]=y(u,l[p][0],g)}var m=c(u,"font",null);m!==null&&this.setFont(m,!1),this._font=[this.fontStyle,this.fontSize,this.fontFamily].join(" ").trim();var x=c(u,"fill",null);x!==null&&(this.color=x);var C=c(u,"metrics",!1);return C?this.metrics={ascent:c(C,"ascent",0),descent:c(C,"descent",0),fontSize:c(C,"fontSize",0)}:(v||!this.metrics)&&(this.metrics=o(this)),v?this.parent.updateText():this.parent},"setStyle"),syncFont:r(function(u,v){v.font=this._font},"syncFont"),syncStyle:r(function(u,v){v.textBaseline="alphabetic",v.fillStyle=this.color,v.strokeStyle=this.stroke,v.lineWidth=this.strokeThickness,v.lineCap="round",v.lineJoin="round"},"syncStyle"),syncShadow:r(function(u,v){v?(u.shadowOffsetX=this.shadowOffsetX,u.shadowOffsetY=this.shadowOffsetY,u.shadowColor=this.shadowColor,u.shadowBlur=this.shadowBlur):(u.shadowOffsetX=0,u.shadowOffsetY=0,u.shadowColor=0,u.shadowBlur=0)},"syncShadow"),update:r(function(u){return u&&(this._font=[this.fontStyle,this.fontSize,this.fontFamily].join(" ").trim(),this.metrics=o(this)),this.parent.updateText()},"update"),setFont:r(function(u,v){v===void 0&&(v=!0);var d=u,p="",g="";if(typeof u!="string")d=c(u,"fontFamily","Courier"),p=c(u,"fontSize","16px"),g=c(u,"fontStyle","");else{var m=u.split(" "),x=0;g=m.length>2?m[x++]:"",p=m[x++]||"16px",d=m[x++]||"Courier"}return(d!==this.fontFamily||p!==this.fontSize||g!==this.fontStyle)&&(this.fontFamily=d,this.fontSize=p,this.fontStyle=g,v&&this.update(!0)),this.parent},"setFont"),setFontFamily:r(function(u){return this.fontFamily!==u&&(this.fontFamily=u,this.update(!0)),this.parent},"setFontFamily"),setFontStyle:r(function(u){return this.fontStyle!==u&&(this.fontStyle=u,this.update(!0)),this.parent},"setFontStyle"),setFontSize:r(function(u){return typeof u=="number"&&(u=u.toString()+"px"),this.fontSize!==u&&(this.fontSize=u,this.update(!0)),this.parent},"setFontSize"),setTestString:r(function(u){return this.testString=u,this.update(!0)},"setTestString"),setFixedSize:r(function(u,v){return this.fixedWidth=u,this.fixedHeight=v,u&&(this.parent.width=u),v&&(this.parent.height=v),this.update(!1)},"setFixedSize"),setBackgroundColor:r(function(u){return this.backgroundColor=u,this.update(!1)},"setBackgroundColor"),setFill:r(function(u){return this.color=u,this.update(!1)},"setFill"),setColor:r(function(u){return this.color=u,this.update(!1)},"setColor"),setResolution:r(function(u){return this.resolution=u,this.update(!1)},"setResolution"),setStroke:r(function(u,v){return v===void 0&&(v=this.strokeThickness),u===void 0&&this.strokeThickness!==0?(this.strokeThickness=0,this.update(!0)):(this.stroke!==u||this.strokeThickness!==v)&&(this.stroke=u,this.strokeThickness=v,this.update(!0)),this.parent},"setStroke"),setShadow:r(function(u,v,d,p,g,m){return u===void 0&&(u=0),v===void 0&&(v=0),d===void 0&&(d="#000"),p===void 0&&(p=0),g===void 0&&(g=!1),m===void 0&&(m=!0),this.shadowOffsetX=u,this.shadowOffsetY=v,this.shadowColor=d,this.shadowBlur=p,this.shadowStroke=g,this.shadowFill=m,this.update(!1)},"setShadow"),setShadowOffset:r(function(u,v){return u===void 0&&(u=0),v===void 0&&(v=u),this.shadowOffsetX=u,this.shadowOffsetY=v,this.update(!1)},"setShadowOffset"),setShadowColor:r(function(u){return u===void 0&&(u="#000"),this.shadowColor=u,this.update(!1)},"setShadowColor"),setShadowBlur:r(function(u){return u===void 0&&(u=0),this.shadowBlur=u,this.update(!1)},"setShadowBlur"),setShadowStroke:r(function(u){return this.shadowStroke=u,this.update(!1)},"setShadowStroke"),setShadowFill:r(function(u){return this.shadowFill=u,this.update(!1)},"setShadowFill"),setWordWrapWidth:r(function(u,v){return v===void 0&&(v=!1),this.wordWrapWidth=u,this.wordWrapUseAdvanced=v,this.update(!1)},"setWordWrapWidth"),setWordWrapCallback:r(function(u,v){return v===void 0&&(v=null),this.wordWrapCallback=u,this.wordWrapCallbackScope=v,this.update(!1)},"setWordWrapCallback"),setAlign:r(function(u){return u===void 0&&(u="left"),this.align=u,this.update(!1)},"setAlign"),setMaxLines:r(function(u){return u===void 0&&(u=0),this.maxLines=u,this.update(!1)},"setMaxLines"),getTextMetrics:r(function(){var u=this.metrics;return{ascent:u.ascent,descent:u.descent,fontSize:u.fontSize}},"getTextMetrics"),toJSON:r(function(){var u={};for(var v in l)u[v]=this[v];return u.metrics=this.getTextMetrics(),u},"toJSON"),destroy:r(function(){this.parent=void 0},"destroy")});n.exports=a},34397:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(70554),y=r(function(c,o,l,a){if(!(o.width===0||o.height===0)){l.addToRenderList(o);var u=o.frame,v=u.width,d=u.height,p=f.getTintAppendFloatAlpha,g=c.pipelines.set(o.pipeline,o),m=g.setTexture2D(u.glTexture,o);g.batchTexture(o,u.glTexture,v,d,o.x,o.y,v/o.style.resolution,d/o.style.resolution,o.scaleX,o.scaleY,o.rotation,o.flipX,o.flipY,o.scrollFactorX,o.scrollFactorY,o.displayOriginX,o.displayOriginY,0,0,v,d,p(o.tintTopLeft,l.alpha*o._alphaTL),p(o.tintTopRight,l.alpha*o._alphaTR),p(o.tintBottomLeft,l.alpha*o._alphaBL),p(o.tintBottomRight,l.alpha*o._alphaBR),o.tintFill,0,0,l,a,!1,m)}},"TextWebGLRenderer");n.exports=y},20839:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(27919),y=i(83419),c=i(31401),o=i(95643),l=i(98439),a=i(68703),u=i(56295),v=i(45650),d=i(26099),p=8,g=new y({Extends:o,Mixins:[c.Alpha,c.BlendMode,c.ComputedSize,c.Crop,c.Depth,c.Flip,c.GetBounds,c.Mask,c.Origin,c.Pipeline,c.PostPipeline,c.ScrollFactor,c.Tint,c.Transform,c.Visible,u],initialize:r(function(x,C,P,A,R,L,O){var w=x.sys.renderer;o.call(this,x,"TileSprite");var b=x.sys.textures.get(L),F=b.get(O);F.source.compressionAlgorithm&&(console.warn("TileSprite cannot use compressed texture"),b=x.sys.textures.get("__MISSING"),F=b.get()),b.type==="DynamicTexture"&&(console.warn("TileSprite cannot use Dynamic Texture"),b=x.sys.textures.get("__MISSING"),F=b.get()),!A||!R?(A=F.width,R=F.height):(A=Math.floor(A),R=Math.floor(R)),this._tilePosition=new d,this._tileScale=new d(1,1),this.dirty=!1,this.renderer=w,this.canvas=f.create(this,A,R),this.context=this.canvas.getContext("2d",{willReadFrequently:!1}),this.displayTexture=b,this.displayFrame=F,this._crop=this.resetCropObject(),this._textureKey=v(),this.texture=x.sys.textures.addCanvas(this._textureKey,this.canvas),this.frame=this.texture.get(),this.potWidth=l(F.width),this.potHeight=l(F.height),this.fillCanvas=f.create2D(this,this.potWidth,this.potHeight),this.fillContext=this.fillCanvas.getContext("2d",{willReadFrequently:!1}),this.fillPattern=null,this.setPosition(C,P),this.setSize(A,R),this.setFrame(O),this.setOriginFromFrame(),this.initPipeline(),this.initPostPipeline(!0)},"TileSprite"),setTexture:r(function(m,x){return this.displayTexture=this.scene.sys.textures.get(m),this.setFrame(x)},"setTexture"),setFrame:r(function(m){var x=this.displayTexture.get(m);return this.potWidth=l(x.width),this.potHeight=l(x.height),this.canvas.width=0,!x.cutWidth||!x.cutHeight?this.renderFlags&=~p:this.renderFlags|=p,this.displayFrame=x,this.dirty=!0,this.updateTileTexture(),this},"setFrame"),setTilePosition:r(function(m,x){return m!==void 0&&(this.tilePositionX=m),x!==void 0&&(this.tilePositionY=x),this},"setTilePosition"),setTileScale:r(function(m,x){return m===void 0&&(m=this.tileScaleX),x===void 0&&(x=m),this.tileScaleX=m,this.tileScaleY=x,this},"setTileScale"),updateTileTexture:r(function(){if(!(!this.dirty||!this.renderer)){var m=this.displayFrame;if(m.source.isRenderTexture||m.source.isGLTexture){console.warn("TileSprites can only use Image or Canvas based textures"),this.dirty=!1;return}var x=this.fillContext,C=this.fillCanvas,P=this.potWidth,A=this.potHeight;(!this.renderer||!this.renderer.gl)&&(P=m.cutWidth,A=m.cutHeight),x.clearRect(0,0,P,A),C.width=P,C.height=A,x.drawImage(m.source.image,m.cutX,m.cutY,m.cutWidth,m.cutHeight,0,0,P,A),this.renderer&&this.renderer.gl?this.fillPattern=this.renderer.canvasToTexture(C,this.fillPattern):this.fillPattern=x.createPattern(C,"repeat"),this.updateCanvas(),this.dirty=!1}},"updateTileTexture"),updateCanvas:r(function(){var m=this.canvas;if((m.width!==this.width||m.height!==this.height)&&(m.width=this.width,m.height=this.height,this.frame.setSize(this.width,this.height),this.updateDisplayOrigin(),this.dirty=!0),!this.dirty||this.renderer&&this.renderer.gl){this.dirty=!1;return}var x=this.context;this.scene.sys.game.config.antialias||a.disable(x);var C=this._tileScale.x,P=this._tileScale.y,A=this._tilePosition.x,R=this._tilePosition.y;x.clearRect(0,0,this.width,this.height),x.save(),x.scale(C,P),x.translate(-A,-R),x.fillStyle=this.fillPattern,x.fillRect(A,R,this.width/C,this.height/P),x.restore(),this.dirty=!1},"updateCanvas"),preDestroy:r(function(){this.renderer&&this.renderer.gl&&this.renderer.deleteTexture(this.fillPattern),f.remove(this.canvas),f.remove(this.fillCanvas),this.fillPattern=null,this.fillContext=null,this.fillCanvas=null,this.displayTexture=null,this.displayFrame=null;var m=this.texture;m&&m.destroy(),this.renderer=null},"preDestroy"),tilePositionX:{get:r(function(){return this._tilePosition.x},"get"),set:r(function(m){this._tilePosition.x=m,this.dirty=!0},"set")},tilePositionY:{get:r(function(){return this._tilePosition.y},"get"),set:r(function(m){this._tilePosition.y=m,this.dirty=!0},"set")},tileScaleX:{get:r(function(){return this._tileScale.x},"get"),set:r(function(m){this._tileScale.x=m,this.dirty=!0},"set")},tileScaleY:{get:r(function(){return this._tileScale.y},"get"),set:r(function(m){this._tileScale.y=m,this.dirty=!0},"set")}});n.exports=g},46992:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i,f,y,c){f.updateCanvas(),y.addToRenderList(f),i.batchSprite(f,f.frame,y,c)},"TileSpriteCanvasRenderer");n.exports=T},14167:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(25305),y=i(44603),c=i(23568),o=i(20839);y.register("tileSprite",function(l,a){l===void 0&&(l={});var u=c(l,"x",0),v=c(l,"y",0),d=c(l,"width",512),p=c(l,"height",512),g=c(l,"key",""),m=c(l,"frame",""),x=new o(this.scene,u,v,d,p,g,m);return a!==void 0&&(l.add=a),f(this.scene,x,l),x})},91681:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(20839),y=i(39429);y.register("tileSprite",function(c,o,l,a,u,v){return this.displayList.add(new f(this.scene,c,o,l,a,u,v))})},56295:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(29747),y=f,c=f;y=i(18553),c=i(46992),n.exports={renderWebGL:y,renderCanvas:c}},18553:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(70554),y=r(function(c,o,l,a){o.updateCanvas();var u=o.width,v=o.height;if(!(u===0||v===0)){l.addToRenderList(o);var d=f.getTintAppendFloatAlpha,p=c.pipelines.set(o.pipeline,o),g=p.setTexture2D(o.fillPattern,o);p.batchTexture(o,o.fillPattern,o.displayFrame.width*o.tileScaleX,o.displayFrame.height*o.tileScaleY,o.x,o.y,u,v,o.scaleX,o.scaleY,o.rotation,o.flipX,o.flipY,o.scrollFactorX,o.scrollFactorY,o.originX*u,o.originY*v,0,0,u,v,d(o.tintTopLeft,l.alpha*o._alphaTL),d(o.tintTopRight,l.alpha*o._alphaTR),d(o.tintBottomLeft,l.alpha*o._alphaBL),d(o.tintBottomRight,l.alpha*o._alphaBR),o.tintFill,o.tilePositionX%o.displayFrame.width/o.displayFrame.width,o.tilePositionY%o.displayFrame.height/o.displayFrame.height,l,a,!1,g)}},"TileSpriteWebGLRenderer");n.exports=y},18471:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(45319),y=i(83419),c=i(31401),o=i(51708),l=i(8443),a=i(95643),u=i(36383),v=i(14463),d=i(45650),p=i(10247),g=new y({Extends:a,Mixins:[c.Alpha,c.BlendMode,c.ComputedSize,c.Depth,c.Flip,c.GetBounds,c.Mask,c.Origin,c.Pipeline,c.PostPipeline,c.ScrollFactor,c.TextureCrop,c.Tint,c.Transform,c.Visible,p],initialize:r(function(x,C,P,A){a.call(this,x,"Video"),this.video,this.videoTexture,this.videoTextureSource,this.snapshotTexture,this.flipY=!1,this._key=d(),this.touchLocked=!1,this.playWhenUnlocked=!1,this.frameReady=!1,this.isStalled=!1,this.failedPlayAttempts=0,this.metadata,this.retry=0,this.retryInterval=500,this._systemMuted=!1,this._codeMuted=!1,this._systemPaused=!1,this._codePaused=!1,this._callbacks={ended:this.completeHandler.bind(this),legacy:this.legacyPlayHandler.bind(this),playing:this.playingHandler.bind(this),seeked:this.seekedHandler.bind(this),seeking:this.seekingHandler.bind(this),stalled:this.stalledHandler.bind(this),suspend:this.stalledHandler.bind(this),waiting:this.stalledHandler.bind(this)},this._loadCallbackHandler=this.loadErrorHandler.bind(this),this._metadataCallbackHandler=this.metadataHandler.bind(this),this._crop=this.resetCropObject(),this.markers={},this._markerIn=0,this._markerOut=0,this._playingMarker=!1,this._lastUpdate=0,this.cacheKey="",this.isSeeking=!1,this._playCalled=!1,this._rfvCallbackId=0;var R=x.sys.game;this._device=R.device.video,this.setPosition(C,P),this.setSize(256,256),this.initPipeline(),this.initPostPipeline(!0),R.events.on(l.PAUSE,this.globalPause,this),R.events.on(l.RESUME,this.globalResume,this);var L=x.sys.sound;L&&L.on(v.GLOBAL_MUTE,this.globalMute,this),A&&this.load(A)},"Video"),addedToScene:r(function(){this.scene.sys.updateList.add(this)},"addedToScene"),removedFromScene:r(function(){this.scene.sys.updateList.remove(this)},"removedFromScene"),load:r(function(m){var x=this.scene.sys.cache.video.get(m);return x?(this.cacheKey=m,this.loadHandler(x.url,x.noAudio,x.crossOrigin)):console.warn("No video in cache for key: "+m),this},"load"),changeSource:r(function(m,x,C,P,A){x===void 0&&(x=!0),C===void 0&&(C=!1),this.cacheKey!==m&&(this.load(m),x&&this.play(C,P,A))},"changeSource"),getVideoKey:r(function(){return this.cacheKey},"getVideoKey"),loadURL:r(function(m,x,C){x===void 0&&(x=!1);var P=this._device.getVideoURL(m);return P?(this.cacheKey="",this.loadHandler(P.url,x,C)):console.warn("No supported video format found for "+m),this},"loadURL"),loadMediaStream:r(function(m,x,C){return this.loadHandler(null,x,C,m)},"loadMediaStream"),loadHandler:r(function(m,x,C,P){x||(x=!1);var A=this.video;if(A?(this.removeLoadEventHandlers(),this.stop()):(A=document.createElement("video"),A.controls=!1,A.setAttribute("playsinline","playsinline"),A.setAttribute("preload","auto"),A.setAttribute("disablePictureInPicture","true")),x?(A.muted=!0,A.defaultMuted=!0,A.setAttribute("autoplay","autoplay")):(A.muted=!1,A.defaultMuted=!1,A.removeAttribute("autoplay")),C?A.setAttribute("crossorigin",C):A.removeAttribute("crossorigin"),P)if("srcObject"in A)try{A.srcObject=P}catch(L){if(L.name!=="TypeError")throw L;A.src=URL.createObjectURL(P)}else A.src=URL.createObjectURL(P);else A.src=m;this.retry=0,this.video=A,this._playCalled=!1,A.load(),this.addLoadEventHandlers();var R=this.scene.sys.textures.get(this._key);return this.setTexture(R),this},"loadHandler"),requestVideoFrame:r(function(m,x){var C=this.video;if(C){var P=x.width,A=x.height,R=this.videoTexture,L=this.videoTextureSource,O=!R||L.source!==C;O?(this._codePaused=C.paused,this._codeMuted=C.muted,R?(L.source=C,L.width=P,L.height=A,R.get().setSize(P,A)):(R=this.scene.sys.textures.create(this._key,C,P,A),R.add("__BASE",0,0,0,P,A),this.setTexture(R),this.videoTexture=R,this.videoTextureSource=R.source[0],this.videoTextureSource.setFlipY(this.flipY),this.emit(o.VIDEO_TEXTURE,this,R)),this.setSizeToFrame(),this.updateDisplayOrigin()):L.update(),this.isStalled=!1,this.metadata=x;var w=x.mediaTime;O&&(this._lastUpdate=w,this.emit(o.VIDEO_CREATED,this,P,A),this.frameReady||(this.frameReady=!0,this.emit(o.VIDEO_PLAY,this))),this._playingMarker?w>=this._markerOut&&(C.loop?(C.currentTime=this._markerIn,this.emit(o.VIDEO_LOOP,this)):(this.stop(!1),this.emit(o.VIDEO_COMPLETE,this))):w<this._lastUpdate&&this.emit(o.VIDEO_LOOP,this),this._lastUpdate=w,this._rfvCallbackId=this.video.requestVideoFrameCallback(this.requestVideoFrame.bind(this))}},"requestVideoFrame"),play:r(function(m,x,C){x===void 0&&(x=-1),C===void 0&&(C=u.MAX_SAFE_INTEGER);var P=this.video;return!P||this.isPlaying()?(P||console.warn("Video not loaded"),this):(m===void 0&&(m=P.loop),P.loop=m,this._markerIn=x,this._markerOut=C,this._playingMarker=x>-1&&C>x&&C<u.MAX_SAFE_INTEGER,this._playCalled||(this._rfvCallbackId=P.requestVideoFrameCallback(this.requestVideoFrame.bind(this)),this._playCalled=!0,this.createPlayPromise()),this)},"play"),addLoadEventHandlers:r(function(){var m=this.video;m&&(m.addEventListener("error",this._loadCallbackHandler),m.addEventListener("abort",this._loadCallbackHandler),m.addEventListener("loadedmetadata",this._metadataCallbackHandler))},"addLoadEventHandlers"),removeLoadEventHandlers:r(function(){var m=this.video;m&&(m.removeEventListener("error",this._loadCallbackHandler),m.removeEventListener("abort",this._loadCallbackHandler))},"removeLoadEventHandlers"),addEventHandlers:r(function(){var m=this.video;if(m){var x=this._callbacks;for(var C in x)m.addEventListener(C,x[C])}},"addEventHandlers"),removeEventHandlers:r(function(){var m=this.video;if(m){var x=this._callbacks;for(var C in x)m.removeEventListener(C,x[C])}},"removeEventHandlers"),createPlayPromise:r(function(m){m===void 0&&(m=!0);var x=this.video,C=x.play();if(C!==void 0){var P=this.playSuccess.bind(this),A=this.playError.bind(this);if(!m){var R=this;A=r(function(){R.failedPlayAttempts++},"error")}C.then(P).catch(A)}else x.addEventListener("playing",this._callbacks.legacy),m||this.failedPlayAttempts++},"createPlayPromise"),addMarker:r(function(m,x,C){return!isNaN(x)&&x>=0&&!isNaN(C)&&C>x&&(this.markers[m]=[x,C]),this},"addMarker"),playMarker:r(function(m,x){var C=this.markers[m];return C&&this.play(x,C[0],C[1]),this},"playMarker"),removeMarker:r(function(m){return delete this.markers[m],this},"removeMarker"),snapshot:r(function(m,x){return m===void 0&&(m=this.width),x===void 0&&(x=this.height),this.snapshotArea(0,0,this.width,this.height,m,x)},"snapshot"),snapshotArea:r(function(m,x,C,P,A,R){m===void 0&&(m=0),x===void 0&&(x=0),C===void 0&&(C=this.width),P===void 0&&(P=this.height),A===void 0&&(A=C),R===void 0&&(R=P);var L=this.video,O=this.snapshotTexture;return O?(O.setSize(A,R),L&&O.context.drawImage(L,m,x,C,P,0,0,A,R)):(O=this.scene.sys.textures.createCanvas(d(),A,R),this.snapshotTexture=O,L&&O.context.drawImage(L,m,x,C,P,0,0,A,R)),O.update()},"snapshotArea"),saveSnapshotTexture:r(function(m){return this.snapshotTexture?this.scene.sys.textures.renameTexture(this.snapshotTexture.key,m):this.snapshotTexture=this.scene.sys.textures.createCanvas(m,this.width,this.height),this.snapshotTexture},"saveSnapshotTexture"),playSuccess:r(function(){if(this._playCalled){this.addEventHandlers(),this._codePaused=!1,this.touchLocked&&(this.touchLocked=!1,this.emit(o.VIDEO_UNLOCKED,this));var m=this.scene.sys.sound;m&&m.mute&&this.setMute(!0),this._markerIn>-1&&(this.video.currentTime=this._markerIn)}},"playSuccess"),playError:r(function(m){var x=m.name;x==="NotAllowedError"?(this.touchLocked=!0,this.playWhenUnlocked=!0,this.failedPlayAttempts=1,this.emit(o.VIDEO_LOCKED,this)):x==="NotSupportedError"?(this.stop(!1),this.emit(o.VIDEO_UNSUPPORTED,this,m)):(this.stop(!1),this.emit(o.VIDEO_ERROR,this,m))},"playError"),legacyPlayHandler:r(function(){var m=this.video;m&&(this.playSuccess(),m.removeEventListener("playing",this._callbacks.legacy))},"legacyPlayHandler"),playingHandler:r(function(){this.isStalled=!1,this.emit(o.VIDEO_PLAYING,this)},"playingHandler"),loadErrorHandler:r(function(m){this.stop(!1),this.emit(o.VIDEO_ERROR,this,m)},"loadErrorHandler"),metadataHandler:r(function(m){this.emit(o.VIDEO_METADATA,this,m)},"metadataHandler"),setSizeToFrame:r(function(m){m||(m=this.frame),this.width=m.realWidth,this.height=m.realHeight,this.scaleX!==1&&(this.scaleX=this.displayWidth/this.width),this.scaleY!==1&&(this.scaleY=this.displayHeight/this.height);var x=this.input;return x&&!x.customHitArea&&(x.hitArea.width=this.width,x.hitArea.height=this.height),this},"setSizeToFrame"),stalledHandler:r(function(m){this.isStalled=!0,this.emit(o.VIDEO_STALLED,this,m)},"stalledHandler"),completeHandler:r(function(){this._playCalled=!1,this.emit(o.VIDEO_COMPLETE,this)},"completeHandler"),preUpdate:r(function(m,x){var C=this.video;!C||!this._playCalled||this.touchLocked&&this.playWhenUnlocked&&(this.retry+=x,this.retry>=this.retryInterval&&(this.createPlayPromise(!1),this.retry=0))},"preUpdate"),seekTo:r(function(m){var x=this.video;if(x){var C=x.duration;if(C!==1/0&&!isNaN(C)){var P=C*m;this.setCurrentTime(P)}}return this},"seekTo"),getCurrentTime:r(function(){return this.video?this.video.currentTime:0},"getCurrentTime"),setCurrentTime:r(function(m){var x=this.video;if(x){if(typeof m=="string"){var C=m[0],P=parseFloat(m.substr(1));C==="+"?m=x.currentTime+P:C==="-"&&(m=x.currentTime-P)}x.currentTime=m}return this},"setCurrentTime"),seekingHandler:r(function(){this.isSeeking=!0,this.emit(o.VIDEO_SEEKING,this)},"seekingHandler"),seekedHandler:r(function(){this.isSeeking=!1,this.emit(o.VIDEO_SEEKED,this)},"seekedHandler"),getProgress:r(function(){var m=this.video;if(m){var x=m.duration;if(x!==1/0&&!isNaN(x))return m.currentTime/x}return-1},"getProgress"),getDuration:r(function(){return this.video?this.video.duration:0},"getDuration"),setMute:r(function(m){m===void 0&&(m=!0),this._codeMuted=m;var x=this.video;return x&&(x.muted=this._systemMuted?!0:m),this},"setMute"),isMuted:r(function(){return this._codeMuted},"isMuted"),globalMute:r(function(m,x){this._systemMuted=x;var C=this.video;C&&(C.muted=this._codeMuted?!0:x)},"globalMute"),globalPause:r(function(){this._systemPaused=!0,this.video&&!this.video.ended&&(this.removeEventHandlers(),this.video.pause())},"globalPause"),globalResume:r(function(){this._systemPaused=!1,this.video&&!this._codePaused&&!this.video.ended&&this.createPlayPromise()},"globalResume"),setPaused:r(function(m){m===void 0&&(m=!0);var x=this.video;return this._codePaused=m,x&&!x.ended&&(m?x.paused||(this.removeEventHandlers(),x.pause()):m||(this._playCalled?x.paused&&!this._systemPaused&&this.createPlayPromise():this.play())),this},"setPaused"),pause:r(function(){return this.setPaused(!0)},"pause"),resume:r(function(){return this.setPaused(!1)},"resume"),getVolume:r(function(){return this.video?this.video.volume:1},"getVolume"),setVolume:r(function(m){return m===void 0&&(m=1),this.video&&(this.video.volume=f(m,0,1)),this},"setVolume"),getPlaybackRate:r(function(){return this.video?this.video.playbackRate:1},"getPlaybackRate"),setPlaybackRate:r(function(m){return this.video&&(this.video.playbackRate=m),this},"setPlaybackRate"),getLoop:r(function(){return this.video?this.video.loop:!1},"getLoop"),setLoop:r(function(m){return m===void 0&&(m=!0),this.video&&(this.video.loop=m),this},"setLoop"),isPlaying:r(function(){return this.video?!(this.video.paused||this.video.ended):!1},"isPlaying"),isPaused:r(function(){return this.video&&this._playCalled&&this.video.paused||this._codePaused||this._systemPaused},"isPaused"),saveTexture:r(function(m,x){return x===void 0&&(x=!1),this.videoTexture&&(this.scene.sys.textures.renameTexture(this._key,m),this.videoTextureSource.setFlipY(x)),this._key=m,this.flipY=x,!!this.videoTexture},"saveTexture"),stop:r(function(m){m===void 0&&(m=!0);var x=this.video;return x&&(this.removeEventHandlers(),x.cancelVideoFrameCallback(this._rfvCallbackId),x.pause()),this.retry=0,this._playCalled=!1,m&&this.emit(o.VIDEO_STOP,this),this},"stop"),removeVideoElement:r(function(){var m=this.video;if(m){for(m.parentNode&&m.parentNode.removeChild(m);m.hasChildNodes();)m.removeChild(m.firstChild);m.removeAttribute("autoplay"),m.removeAttribute("src"),this.video=null}},"removeVideoElement"),preDestroy:r(function(){this.stop(!1),this.removeLoadEventHandlers(),this.removeVideoElement();var m=this.scene.sys.game.events;m.off(l.PAUSE,this.globalPause,this),m.off(l.RESUME,this.globalResume,this);var x=this.scene.sys.sound;x&&x.off(v.GLOBAL_MUTE,this.globalMute,this)},"preDestroy")});n.exports=g},58352:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i,f,y,c){f.videoTexture&&(y.addToRenderList(f),i.batchSprite(f,f.frame,y,c))},"VideoCanvasRenderer");n.exports=T},11511:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(25305),y=i(44603),c=i(23568),o=i(18471);y.register("video",function(l,a){l===void 0&&(l={});var u=c(l,"key",null),v=new o(this.scene,0,0,u);return a!==void 0&&(l.add=a),f(this.scene,v,l),v})},89025:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(18471),y=i(39429);y.register("video",function(c,o,l){return this.displayList.add(new f(this.scene,c,o,l))})},10247:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(29747),y=f,c=f;y=i(29849),c=i(58352),n.exports={renderWebGL:y,renderCanvas:c}},29849:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i,f,y,c){f.videoTexture&&(y.addToRenderList(f),f.pipeline.batchSprite(f,y,c))},"VideoWebGLRenderer");n.exports=T},41481:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(10312),y=i(96503),c=i(87902),o=i(83419),l=i(31401),a=i(95643),u=i(87841),v=i(37303),d=new o({Extends:a,Mixins:[l.Depth,l.GetBounds,l.Origin,l.Transform,l.ScrollFactor,l.Visible],initialize:r(function(g,m,x,C,P){C===void 0&&(C=1),P===void 0&&(P=C),a.call(this,g,"Zone"),this.setPosition(m,x),this.width=C,this.height=P,this.blendMode=f.NORMAL,this.updateDisplayOrigin()},"Zone"),displayWidth:{get:r(function(){return this.scaleX*this.width},"get"),set:r(function(p){this.scaleX=p/this.width},"set")},displayHeight:{get:r(function(){return this.scaleY*this.height},"get"),set:r(function(p){this.scaleY=p/this.height},"set")},setSize:r(function(p,g,m){m===void 0&&(m=!0),this.width=p,this.height=g,this.updateDisplayOrigin();var x=this.input;return m&&x&&!x.customHitArea&&(x.hitArea.width=p,x.hitArea.height=g),this},"setSize"),setDisplaySize:r(function(p,g){return this.displayWidth=p,this.displayHeight=g,this},"setDisplaySize"),setCircleDropZone:r(function(p){return this.setDropZone(new y(0,0,p),c)},"setCircleDropZone"),setRectangleDropZone:r(function(p,g){return this.setDropZone(new u(0,0,p,g),v)},"setRectangleDropZone"),setDropZone:r(function(p,g){return this.input||this.setInteractive(p,g,!0),this},"setDropZone"),setAlpha:r(function(){},"setAlpha"),setBlendMode:r(function(){},"setBlendMode"),renderCanvas:r(function(p,g,m){m.addToRenderList(g)},"renderCanvas"),renderWebGL:r(function(p,g,m){m.addToRenderList(g)},"renderWebGL")});n.exports=d},95261:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(44603),y=i(23568),c=i(41481);f.register("zone",function(o){var l=y(o,"x",0),a=y(o,"y",0),u=y(o,"width",1),v=y(o,"height",u);return new c(this.scene,l,a,u,v)})},84175:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(41481),y=i(39429);y.register("zone",function(c,o,l,a){return this.displayList.add(new f(this.scene,c,o,l,a))})},95166:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i){return i.radius>0?Math.PI*i.radius*i.radius:0},"Area");n.exports=T},96503:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(83419),y=i(87902),c=i(26241),o=i(79124),l=i(23777),a=i(28176),u=new f({initialize:r(function(d,p,g){d===void 0&&(d=0),p===void 0&&(p=0),g===void 0&&(g=0),this.type=l.CIRCLE,this.x=d,this.y=p,this._radius=g,this._diameter=g*2},"Circle"),contains:r(function(v,d){return y(this,v,d)},"contains"),getPoint:r(function(v,d){return c(this,v,d)},"getPoint"),getPoints:r(function(v,d,p){return o(this,v,d,p)},"getPoints"),getRandomPoint:r(function(v){return a(this,v)},"getRandomPoint"),setTo:r(function(v,d,p){return this.x=v,this.y=d,this._radius=p,this._diameter=p*2,this},"setTo"),setEmpty:r(function(){return this._radius=0,this._diameter=0,this},"setEmpty"),setPosition:r(function(v,d){return d===void 0&&(d=v),this.x=v,this.y=d,this},"setPosition"),isEmpty:r(function(){return this._radius<=0},"isEmpty"),radius:{get:r(function(){return this._radius},"get"),set:r(function(v){this._radius=v,this._diameter=v*2},"set")},diameter:{get:r(function(){return this._diameter},"get"),set:r(function(v){this._diameter=v,this._radius=v*.5},"set")},left:{get:r(function(){return this.x-this._radius},"get"),set:r(function(v){this.x=v+this._radius},"set")},right:{get:r(function(){return this.x+this._radius},"get"),set:r(function(v){this.x=v-this._radius},"set")},top:{get:r(function(){return this.y-this._radius},"get"),set:r(function(v){this.y=v+this._radius},"set")},bottom:{get:r(function(){return this.y+this._radius},"get"),set:r(function(v){this.y=v-this._radius},"set")}});n.exports=u},71562:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i){return 2*(Math.PI*i.radius)},"Circumference");n.exports=T},92110:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(2141),y=r(function(c,o,l){return l===void 0&&(l=new f),l.x=c.x+c.radius*Math.cos(o),l.y=c.y+c.radius*Math.sin(o),l},"CircumferencePoint");n.exports=y},42250:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(96503),y=r(function(c){return new f(c.x,c.y,c.radius)},"Clone");n.exports=y},87902:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i,f,y){if(i.radius>0&&f>=i.left&&f<=i.right&&y>=i.top&&y<=i.bottom){var c=(i.x-f)*(i.x-f),o=(i.y-y)*(i.y-y);return c+o<=i.radius*i.radius}else return!1},"Contains");n.exports=T},5698:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(87902),y=r(function(c,o){return f(c,o.x,o.y)},"ContainsPoint");n.exports=y},70588:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(87902),y=r(function(c,o){return f(c,o.x,o.y)&&f(c,o.right,o.y)&&f(c,o.x,o.bottom)&&f(c,o.right,o.bottom)},"ContainsRect");n.exports=y},26394:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i,f){return f.setTo(i.x,i.y,i.radius)},"CopyFrom");n.exports=T},76278:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i,f){return i.x===f.x&&i.y===f.y&&i.radius===f.radius},"Equals");n.exports=T},2074:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(87841),y=r(function(c,o){return o===void 0&&(o=new f),o.x=c.left,o.y=c.top,o.width=c.diameter,o.height=c.diameter,o},"GetBounds");n.exports=y},26241:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(92110),y=i(62945),c=i(36383),o=i(2141),l=r(function(a,u,v){v===void 0&&(v=new o);var d=y(u,0,c.PI2);return f(a,d,v)},"GetPoint");n.exports=l},79124:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(71562),y=i(92110),c=i(62945),o=i(36383),l=r(function(a,u,v,d){d===void 0&&(d=[]),!u&&v>0&&(u=f(a)/v);for(var p=0;p<u;p++){var g=c(p/u,0,o.PI2);d.push(y(a,g))}return d},"GetPoints");n.exports=l},50884:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i,f,y){return i.x+=f,i.y+=y,i},"Offset");n.exports=T},39212:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i,f){return i.x+=f.x,i.y+=f.y,i},"OffsetPoint");n.exports=T},28176:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(2141),y=r(function(c,o){o===void 0&&(o=new f);var l=2*Math.PI*Math.random(),a=Math.random()+Math.random(),u=a>1?2-a:a,v=u*Math.cos(l),d=u*Math.sin(l);return o.x=c.x+v*c.radius,o.y=c.y+d*c.radius,o},"Random");n.exports=y},88911:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(96503);f.Area=i(95166),f.Circumference=i(71562),f.CircumferencePoint=i(92110),f.Clone=i(42250),f.Contains=i(87902),f.ContainsPoint=i(5698),f.ContainsRect=i(70588),f.CopyFrom=i(26394),f.Equals=i(76278),f.GetBounds=i(2074),f.GetPoint=i(26241),f.GetPoints=i(79124),f.Offset=i(50884),f.OffsetPoint=i(39212),f.Random=i(28176),n.exports=f},23777:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={CIRCLE:0,ELLIPSE:1,LINE:2,POINT:3,POLYGON:4,RECTANGLE:5,TRIANGLE:6};n.exports=T},78874:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i){return i.isEmpty()?0:i.getMajorRadius()*i.getMinorRadius()*Math.PI},"Area");n.exports=T},92990:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i){var f=i.width/2,y=i.height/2,c=Math.pow(f-y,2)/Math.pow(f+y,2);return Math.PI*(f+y)*(1+3*c/(10+Math.sqrt(4-3*c)))},"Circumference");n.exports=T},79522:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(2141),y=r(function(c,o,l){l===void 0&&(l=new f);var a=c.width/2,u=c.height/2;return l.x=c.x+a*Math.cos(o),l.y=c.y+u*Math.sin(o),l},"CircumferencePoint");n.exports=y},58102:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(8497),y=r(function(c){return new f(c.x,c.y,c.width,c.height)},"Clone");n.exports=y},81154:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i,f,y){if(i.width<=0||i.height<=0)return!1;var c=(f-i.x)/i.width,o=(y-i.y)/i.height;return c*=c,o*=o,c+o<.25},"Contains");n.exports=T},46662:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(81154),y=r(function(c,o){return f(c,o.x,o.y)},"ContainsPoint");n.exports=y},1632:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(81154),y=r(function(c,o){return f(c,o.x,o.y)&&f(c,o.right,o.y)&&f(c,o.x,o.bottom)&&f(c,o.right,o.bottom)},"ContainsRect");n.exports=y},65534:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i,f){return f.setTo(i.x,i.y,i.width,i.height)},"CopyFrom");n.exports=T},8497:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(83419),y=i(81154),c=i(90549),o=i(48320),l=i(23777),a=i(24820),u=new f({initialize:r(function(d,p,g,m){d===void 0&&(d=0),p===void 0&&(p=0),g===void 0&&(g=0),m===void 0&&(m=0),this.type=l.ELLIPSE,this.x=d,this.y=p,this.width=g,this.height=m},"Ellipse"),contains:r(function(v,d){return y(this,v,d)},"contains"),getPoint:r(function(v,d){return c(this,v,d)},"getPoint"),getPoints:r(function(v,d,p){return o(this,v,d,p)},"getPoints"),getRandomPoint:r(function(v){return a(this,v)},"getRandomPoint"),setTo:r(function(v,d,p,g){return this.x=v,this.y=d,this.width=p,this.height=g,this},"setTo"),setEmpty:r(function(){return this.width=0,this.height=0,this},"setEmpty"),setPosition:r(function(v,d){return d===void 0&&(d=v),this.x=v,this.y=d,this},"setPosition"),setSize:r(function(v,d){return d===void 0&&(d=v),this.width=v,this.height=d,this},"setSize"),isEmpty:r(function(){return this.width<=0||this.height<=0},"isEmpty"),getMinorRadius:r(function(){return Math.min(this.width,this.height)/2},"getMinorRadius"),getMajorRadius:r(function(){return Math.max(this.width,this.height)/2},"getMajorRadius"),left:{get:r(function(){return this.x-this.width/2},"get"),set:r(function(v){this.x=v+this.width/2},"set")},right:{get:r(function(){return this.x+this.width/2},"get"),set:r(function(v){this.x=v-this.width/2},"set")},top:{get:r(function(){return this.y-this.height/2},"get"),set:r(function(v){this.y=v+this.height/2},"set")},bottom:{get:r(function(){return this.y+this.height/2},"get"),set:r(function(v){this.y=v-this.height/2},"set")}});n.exports=u},36146:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i,f){return i.x===f.x&&i.y===f.y&&i.width===f.width&&i.height===f.height},"Equals");n.exports=T},23694:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(87841),y=r(function(c,o){return o===void 0&&(o=new f),o.x=c.left,o.y=c.top,o.width=c.width,o.height=c.height,o},"GetBounds");n.exports=y},90549:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(79522),y=i(62945),c=i(36383),o=i(2141),l=r(function(a,u,v){v===void 0&&(v=new o);var d=y(u,0,c.PI2);return f(a,d,v)},"GetPoint");n.exports=l},48320:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(92990),y=i(79522),c=i(62945),o=i(36383),l=r(function(a,u,v,d){d===void 0&&(d=[]),!u&&v>0&&(u=f(a)/v);for(var p=0;p<u;p++){var g=c(p/u,0,o.PI2);d.push(y(a,g))}return d},"GetPoints");n.exports=l},73424:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i,f,y){return i.x+=f,i.y+=y,i},"Offset");n.exports=T},44808:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i,f){return i.x+=f.x,i.y+=f.y,i},"OffsetPoint");n.exports=T},24820:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(2141),y=r(function(c,o){o===void 0&&(o=new f);var l=Math.random()*Math.PI*2,a=Math.sqrt(Math.random());return o.x=c.x+a*Math.cos(l)*c.width/2,o.y=c.y+a*Math.sin(l)*c.height/2,o},"Random");n.exports=y},49203:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(8497);f.Area=i(78874),f.Circumference=i(92990),f.CircumferencePoint=i(79522),f.Clone=i(58102),f.Contains=i(81154),f.ContainsPoint=i(46662),f.ContainsRect=i(1632),f.CopyFrom=i(65534),f.Equals=i(36146),f.GetBounds=i(23694),f.GetPoint=i(90549),f.GetPoints=i(48320),f.Offset=i(73424),f.OffsetPoint=i(44808),f.Random=i(24820),n.exports=f},55738:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(23777),y=i(79291),c={Circle:i(88911),Ellipse:i(49203),Intersects:i(91865),Line:i(2529),Mesh:i(73090),Point:i(43711),Polygon:i(58423),Rectangle:i(93232),Triangle:i(84435)};c=y(!1,c,f),n.exports=c},2044:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(20339),y=r(function(c,o){return f(c.x,c.y,o.x,o.y)<=c.radius+o.radius},"CircleToCircle");n.exports=y},81491:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i,f){var y=f.width/2,c=f.height/2,o=Math.abs(i.x-f.x-y),l=Math.abs(i.y-f.y-c),a=y+i.radius,u=c+i.radius;if(o>a||l>u)return!1;if(o<=y||l<=c)return!0;var v=o-y,d=l-c,p=v*v,g=d*d,m=i.radius*i.radius;return p+g<=m},"CircleToRectangle");n.exports=T},63376:(n,T,i)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(2141),y=i(2044),c=r(function(o,l,a){if(a===void 0&&(a=[]),y(o,l)){var u=o.x,v=o.y,d=o.radius,p=l.x,g=l.y,m=l.radius,x,C,P,A,R;if(v===g)R=(m*m-d*d-p*p+u*u)/(2*(u-p)),x=1,C=-2*g,P=p*p+R*R-2*p*R+g*g-m*m,A=C*C-4*x*P,A===0?a.push(new f(R,-C/(2*x))):A>0&&(a.push(new f(R,(-C+Math.sqrt(A))/(2*x))),a.push(new f(R,(-C-Math.sqrt(A))/(2*x))));else{var L=(u-p)/(v-g),O=(m*m-d*d-p*p+u*u-g*g+v*v)/(2*(v-g));x=L*L+1,C=2*v*L-2*O*L-2*u,P=u*u+v*v+O*O-d*d-2*v*O,A=C*C-4*x*P,A===0?(R=-C/(2*x),a.push(new f(R,O-R*L))):A>0&&(R=(-C+Math.sqrt(A))/(2*x),a.push(new f(R,O-R*L)),R=(-C-Math.sqrt(A))/(2*x),a.push(new f(R,O-R*L)))}}return a},"GetCircleToCircle");n.exports=c},97439:(n,T,i)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(4042),y=i(81491),c=r(function(o,l,a){if(a===void 0&&(a=[]),y(o,l)){var u=l.getLineA(),v=l.getLineB(),d=l.getLineC(),p=l.getLineD();f(u,o,a),f(v,o,a),f(d,o,a),f(p,o,a)}return a},"GetCircleToRectangle");n.exports=c},4042:(n,T,i)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(2141),y=i(80462),c=r(function(o,l,a){if(a===void 0&&(a=[]),y(o,l)){var u=o.x1,v=o.y1,d=o.x2,p=o.y2,g=l.x,m=l.y,x=l.radius,C=d-u,P=p-v,A=u-g,R=v-m,L=C*C+P*P,O=2*(C*A+P*R),w=A*A+R*R-x*x,b=O*O-4*L*w,F,M;if(b===0){var I=-O/(2*L);F=u+I*C,M=v+I*P,I>=0&&I<=1&&a.push(new f(F,M))}else if(b>0){var B=(-O-Math.sqrt(b))/(2*L);F=u+B*C,M=v+B*P,B>=0&&B<=1&&a.push(new f(F,M));var G=(-O+Math.sqrt(b))/(2*L);F=u+G*C,M=v+G*P,G>=0&&G<=1&&a.push(new f(F,M))}}return a},"GetLineToCircle");n.exports=c},36100:(n,T,i)=>{/**
 * @author       Richard Davey
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(25836),y=r(function(c,o,l,a){l===void 0&&(l=!1);var u=c.x1,v=c.y1,d=c.x2,p=c.y2,g=o.x1,m=o.y1,x=o.x2,C=o.y2,P=d-u,A=p-v,R=x-g,L=C-m,O=P*L-A*R;if(O===0)return null;var w,b,F;if(l){if(w=(P*(m-v)+A*(u-g))/(R*A-L*P),b=(g+R*w-u)/P,b<0||w<0||w>1)return null;F=b}else{if(w=((g-u)*L-(m-v)*R)/O,b=((v-m)*P-(u-g)*A)/O,w<0||w>1||b<0||b>1)return null;F=w}return a===void 0&&(a=new f),a.set(u+P*F,v+A*F,F)},"GetLineToLine");n.exports=y},3073:(n,T,i)=>{/**
 * @author       Richard Davey
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(36100),y=i(23031),c=i(25836),o=new y,l=new c,a=r(function(u,v,d,p){d===void 0&&(d=!1),p===void 0&&(p=new c);var g=!1;p.set(),l.set();for(var m=v[v.length-1],x=0;x<v.length;x++){var C=v[x];o.setTo(m.x,m.y,C.x,C.y),m=C,f(u,o,d,l)&&(!g||l.z<p.z)&&(p.copy(l),g=!0)}return g?p:null},"GetLineToPoints");n.exports=a},56362:(n,T,i)=>{/**
 * @author       Richard Davey
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(25836),y=i(61369),c=i(3073),o=new f,l=r(function(a,u,v,d){d===void 0&&(d=new y),Array.isArray(u)||(u=[u]);var p=!1;d.set(),o.set();for(var g=0;g<u.length;g++)c(a,u[g].points,v,o)&&(!p||o.z<d.z)&&(d.set(o.x,o.y,o.z,g),p=!0);return p?d:null},"GetLineToPolygon");n.exports=l},60646:(n,T,i)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(2141),y=i(76112),c=i(92773),o=r(function(l,a,u){if(u===void 0&&(u=[]),c(l,a))for(var v=a.getLineA(),d=a.getLineB(),p=a.getLineC(),g=a.getLineD(),m=[new f,new f,new f,new f],x=[y(v,l,m[0]),y(d,l,m[1]),y(p,l,m[2]),y(g,l,m[3])],C=0;C<4;C++)x[C]&&u.push(m[C]);return u},"GetLineToRectangle");n.exports=o},71147:(n,T,i)=>{/**
 * @author       Richard Davey
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(61369),y=i(56362),c=i(23031),o=new c;function l(v,d,p,g,m){var x=Math.cos(v),C=Math.sin(v);o.setTo(d,p,d+x,p+C);var P=y(o,g,!0);P&&m.push(new f(P.x,P.y,v,P.w))}r(l,"CheckIntersects");function a(v,d){return v.z-d.z}r(a,"SortIntersects");var u=r(function(v,d,p){Array.isArray(p)||(p=[p]);for(var g=[],m=[],x=0;x<p.length;x++)for(var C=p[x].points,P=0;P<C.length;P++){var A=Math.atan2(C[P].y-d,C[P].x-v);m.indexOf(A)===-1&&(l(A,v,d,p,g),l(A-1e-5,v,d,p,g),l(A+1e-5,v,d,p,g),m.push(A))}return g.sort(a)},"GetRaysFromPointToPolygon");n.exports=u},68389:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(87841),y=i(59996),c=r(function(o,l,a){return a===void 0&&(a=new f),y(o,l)&&(a.x=Math.max(o.x,l.x),a.y=Math.max(o.y,l.y),a.width=Math.min(o.right,l.right)-a.x,a.height=Math.min(o.bottom,l.bottom)-a.y),a},"GetRectangleIntersection");n.exports=c},52784:(n,T,i)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(60646),y=i(59996),c=r(function(o,l,a){if(a===void 0&&(a=[]),y(o,l)){var u=o.getLineA(),v=o.getLineB(),d=o.getLineC(),p=o.getLineD();f(u,l,a),f(v,l,a),f(d,l,a),f(p,l,a)}return a},"GetRectangleToRectangle");n.exports=c},26341:(n,T,i)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(89265),y=i(60646),c=r(function(o,l,a){if(a===void 0&&(a=[]),f(o,l)){var u=l.getLineA(),v=l.getLineB(),d=l.getLineC();y(u,o,a),y(v,o,a),y(d,o,a)}return a},"GetRectangleToTriangle");n.exports=c},38720:(n,T,i)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(4042),y=i(67636),c=r(function(o,l,a){if(a===void 0&&(a=[]),y(o,l)){var u=o.getLineA(),v=o.getLineB(),d=o.getLineC();f(u,l,a),f(v,l,a),f(d,l,a)}return a},"GetTriangleToCircle");n.exports=c},13882:(n,T,i)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(2141),y=i(2822),c=i(76112),o=r(function(l,a,u){if(u===void 0&&(u=[]),y(l,a))for(var v=l.getLineA(),d=l.getLineB(),p=l.getLineC(),g=[new f,new f,new f],m=[c(v,a,g[0]),c(d,a,g[1]),c(p,a,g[2])],x=0;x<3;x++)m[x]&&u.push(g[x]);return u},"GetTriangleToLine");n.exports=o},75636:(n,T,i)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(82944),y=i(13882),c=r(function(o,l,a){if(a===void 0&&(a=[]),f(o,l)){var u=l.getLineA(),v=l.getLineB(),d=l.getLineC();y(o,u,a),y(o,v,a),y(o,d,a)}return a},"GetTriangleToTriangle");n.exports=c},80462:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(87902),y=i(2141),c=new y,o=r(function(l,a,u){if(u===void 0&&(u=c),f(a,l.x1,l.y1))return u.x=l.x1,u.y=l.y1,!0;if(f(a,l.x2,l.y2))return u.x=l.x2,u.y=l.y2,!0;var v=l.x2-l.x1,d=l.y2-l.y1,p=a.x-l.x1,g=a.y-l.y1,m=v*v+d*d,x=v,C=d;if(m>0){var P=(p*v+g*d)/m;x*=P,C*=P}u.x=l.x1+x,u.y=l.y1+C;var A=x*x+C*C;return A<=m&&x*v+C*d>=0&&f(a,u.x,u.y)},"LineToCircle");n.exports=o},76112:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i,f,y){var c=i.x1,o=i.y1,l=i.x2,a=i.y2,u=f.x1,v=f.y1,d=f.x2,p=f.y2;if(c===l&&o===a||u===d&&v===p)return!1;var g=(p-v)*(l-c)-(d-u)*(a-o);if(g===0)return!1;var m=((d-u)*(o-v)-(p-v)*(c-u))/g,x=((l-c)*(o-v)-(a-o)*(c-u))/g;return m<0||m>1||x<0||x>1?!1:(y&&(y.x=c+m*(l-c),y.y=o+m*(a-o)),!0)},"LineToLine");n.exports=T},92773:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i,f){var y=i.x1,c=i.y1,o=i.x2,l=i.y2,a=f.x,u=f.y,v=f.right,d=f.bottom,p=0;if(y>=a&&y<=v&&c>=u&&c<=d||o>=a&&o<=v&&l>=u&&l<=d)return!0;if(y<a&&o>=a){if(p=c+(l-c)*(a-y)/(o-y),p>u&&p<=d)return!0}else if(y>v&&o<=v&&(p=c+(l-c)*(v-y)/(o-y),p>=u&&p<=d))return!0;if(c<u&&l>=u){if(p=y+(o-y)*(u-c)/(l-c),p>=a&&p<=v)return!0}else if(c>d&&l<=d&&(p=y+(o-y)*(d-c)/(l-c),p>=a&&p<=v))return!0;return!1},"LineToRectangle");n.exports=T},16204:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Florian Mertens
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i,f,y){y===void 0&&(y=1);var c=f.x1,o=f.y1,l=f.x2,a=f.y2,u=i.x,v=i.y,d=(l-c)*(l-c)+(a-o)*(a-o);if(d===0)return!1;var p=((u-c)*(l-c)+(v-o)*(a-o))/d;if(p<0)return Math.sqrt((c-u)*(c-u)+(o-v)*(o-v))<=y;if(p>=0&&p<=1){var g=((o-v)*(l-c)-(c-u)*(a-o))/d;return Math.abs(g)*Math.sqrt(d)<=y}else return Math.sqrt((l-u)*(l-u)+(a-v)*(a-v))<=y},"PointToLine");n.exports=T},14199:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(16204),y=r(function(c,o){if(!f(c,o))return!1;var l=Math.min(o.x1,o.x2),a=Math.max(o.x1,o.x2),u=Math.min(o.y1,o.y2),v=Math.max(o.y1,o.y2);return c.x>=l&&c.x<=a&&c.y>=u&&c.y<=v},"PointToLineSegment");n.exports=y},59996:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i,f){return i.width<=0||i.height<=0||f.width<=0||f.height<=0?!1:!(i.right<f.x||i.bottom<f.y||i.x>f.right||i.y>f.bottom)},"RectangleToRectangle");n.exports=T},89265:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(76112),y=i(37303),c=i(48653),o=i(77493),l=r(function(a,u){if(u.left>a.right||u.right<a.left||u.top>a.bottom||u.bottom<a.top)return!1;var v=u.getLineA(),d=u.getLineB(),p=u.getLineC();if(y(a,v.x1,v.y1)||y(a,v.x2,v.y2)||y(a,d.x1,d.y1)||y(a,d.x2,d.y2)||y(a,p.x1,p.y1)||y(a,p.x2,p.y2))return!0;var g=a.getLineA(),m=a.getLineB(),x=a.getLineC(),C=a.getLineD();if(f(v,g)||f(v,m)||f(v,x)||f(v,C)||f(d,g)||f(d,m)||f(d,x)||f(d,C)||f(p,g)||f(p,m)||f(p,x)||f(p,C))return!0;var P=o(a),A=c(u,P,!0);return A.length>0},"RectangleToTriangle");n.exports=l},84411:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i,f,y,c,o,l){return l===void 0&&(l=0),!(f>i.right+l||y<i.left-l||c>i.bottom+l||o<i.top-l)},"RectangleToValues");n.exports=T},67636:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(80462),y=i(10690),c=r(function(o,l){return o.left>l.right||o.right<l.left||o.top>l.bottom||o.bottom<l.top?!1:!!(y(o,l.x,l.y)||f(o.getLineA(),l)||f(o.getLineB(),l)||f(o.getLineC(),l))},"TriangleToCircle");n.exports=c},2822:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(76112),y=r(function(c,o){return!!(c.contains(o.x1,o.y1)||c.contains(o.x2,o.y2)||f(c.getLineA(),o)||f(c.getLineB(),o)||f(c.getLineC(),o))},"TriangleToLine");n.exports=y},82944:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(48653),y=i(71694),c=i(76112),o=r(function(l,a){if(l.left>a.right||l.right<a.left||l.top>a.bottom||l.bottom<a.top)return!1;var u=l.getLineA(),v=l.getLineB(),d=l.getLineC(),p=a.getLineA(),g=a.getLineB(),m=a.getLineC();if(c(u,p)||c(u,g)||c(u,m)||c(v,p)||c(v,g)||c(v,m)||c(d,p)||c(d,g)||c(d,m))return!0;var x=y(l),C=f(a,x,!0);return C.length>0||(x=y(a),C=f(l,x,!0),C.length>0)},"TriangleToTriangle");n.exports=o},91865:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={CircleToCircle:i(2044),CircleToRectangle:i(81491),GetCircleToCircle:i(63376),GetCircleToRectangle:i(97439),GetLineToCircle:i(4042),GetLineToLine:i(36100),GetLineToPoints:i(3073),GetLineToPolygon:i(56362),GetLineToRectangle:i(60646),GetRaysFromPointToPolygon:i(71147),GetRectangleIntersection:i(68389),GetRectangleToRectangle:i(52784),GetRectangleToTriangle:i(26341),GetTriangleToCircle:i(38720),GetTriangleToLine:i(13882),GetTriangleToTriangle:i(75636),LineToCircle:i(80462),LineToLine:i(76112),LineToRectangle:i(92773),PointToLine:i(16204),PointToLineSegment:i(14199),RectangleToRectangle:i(59996),RectangleToTriangle:i(89265),RectangleToValues:i(84411),TriangleToCircle:i(67636),TriangleToLine:i(2822),TriangleToTriangle:i(82944)}},91938:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i){return Math.atan2(i.y2-i.y1,i.x2-i.x1)},"Angle");n.exports=T},84993:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i,f,y){f===void 0&&(f=1),y===void 0&&(y=[]);var c=Math.round(i.x1),o=Math.round(i.y1),l=Math.round(i.x2),a=Math.round(i.y2),u=Math.abs(l-c),v=Math.abs(a-o),d=c<l?1:-1,p=o<a?1:-1,g=u-v;y.push({x:c,y:o});for(var m=1;!(c===l&&o===a);){var x=g<<1;x>-v&&(g-=v,c+=d),x<u&&(g+=u,o+=p),m%f===0&&y.push({x:c,y:o}),m++}return y},"BresenhamPoints");n.exports=T},36469:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i,f,y){var c=f-(i.x1+i.x2)/2,o=y-(i.y1+i.y2)/2;return i.x1+=c,i.y1+=o,i.x2+=c,i.y2+=o,i},"CenterOn");n.exports=T},31116:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(23031),y=r(function(c){return new f(c.x1,c.y1,c.x2,c.y2)},"Clone");n.exports=y},59944:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i,f){return f.setTo(i.x1,i.y1,i.x2,i.y2)},"CopyFrom");n.exports=T},59220:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i,f){return i.x1===f.x1&&i.y1===f.y1&&i.x2===f.x2&&i.y2===f.y2},"Equals");n.exports=T},78177:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(35001),y=r(function(c,o,l){l===void 0&&(l=o);var a=f(c),u=c.x2-c.x1,v=c.y2-c.y1;return o&&(c.x1=c.x1-u/a*o,c.y1=c.y1-v/a*o),l&&(c.x2=c.x2+u/a*l,c.y2=c.y2+v/a*l),c},"Extend");n.exports=y},26708:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(52816),y=i(6113),c=i(2141),o=r(function(l,a,u,v,d){v===void 0&&(v=0),d===void 0&&(d=[]);var p=[],g=l.x1,m=l.y1,x=l.x2-g,C=l.y2-m,P=y(a,d),A,R,L=u-1;for(A=0;A<L;A++)R=P(A/L),p.push(new c(g+x*R,m+C*R));if(R=P(1),p.push(new c(g+x*R,m+C*R)),v>0){var O=p[0],w=[O];for(A=1;A<p.length-1;A++){var b=p[A];f(O,b)>=v&&(w.push(b),O=b)}var F=p[p.length-1];return f(O,F)<v&&w.pop(),w.push(F),w}else return p},"GetEasedPoints");n.exports=o},32125:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(2141),y=r(function(c,o){return o===void 0&&(o=new f),o.x=(c.x1+c.x2)/2,o.y=(c.y1+c.y2)/2,o},"GetMidPoint");n.exports=y},99569:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Florian Mertens
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(2141),y=r(function(c,o,l){l===void 0&&(l=new f);var a=c.x1,u=c.y1,v=c.x2,d=c.y2,p=(v-a)*(v-a)+(d-u)*(d-u);if(p===0)return l;var g=((o.x-a)*(v-a)+(o.y-u)*(d-u))/p;return l.x=a+g*(v-a),l.y=u+g*(d-u),l},"GetNearestPoint");n.exports=y},34638:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(36383),y=i(91938),c=i(2141),o=r(function(l,a){a===void 0&&(a=new c);var u=y(l)-f.TAU;return a.x=Math.cos(u),a.y=Math.sin(u),a},"GetNormal");n.exports=o},13151:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(2141),y=r(function(c,o,l){return l===void 0&&(l=new f),l.x=c.x1+(c.x2-c.x1)*o,l.y=c.y1+(c.y2-c.y1)*o,l},"GetPoint");n.exports=y},15258:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(35001),y=i(2141),c=r(function(o,l,a,u){u===void 0&&(u=[]),!l&&a>0&&(l=f(o)/a);for(var v=o.x1,d=o.y1,p=o.x2,g=o.y2,m=0;m<l;m++){var x=m/l,C=v+(p-v)*x,P=d+(g-d)*x;u.push(new y(C,P))}return u},"GetPoints");n.exports=c},26408:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Florian Mertens
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i,f){var y=i.x1,c=i.y1,o=i.x2,l=i.y2,a=(o-y)*(o-y)+(l-c)*(l-c);if(a===0)return!1;var u=((c-f.y)*(o-y)-(y-f.x)*(l-c))/a;return Math.abs(u)*Math.sqrt(a)},"GetShortestDistance");n.exports=T},98770:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i){return Math.abs(i.y1-i.y2)},"Height");n.exports=T},35001:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i){return Math.sqrt((i.x2-i.x1)*(i.x2-i.x1)+(i.y2-i.y1)*(i.y2-i.y1))},"Length");n.exports=T},23031:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(83419),y=i(13151),c=i(15258),o=i(23777),l=i(65822),a=i(26099),u=new f({initialize:r(function(d,p,g,m){d===void 0&&(d=0),p===void 0&&(p=0),g===void 0&&(g=0),m===void 0&&(m=0),this.type=o.LINE,this.x1=d,this.y1=p,this.x2=g,this.y2=m},"Line"),getPoint:r(function(v,d){return y(this,v,d)},"getPoint"),getPoints:r(function(v,d,p){return c(this,v,d,p)},"getPoints"),getRandomPoint:r(function(v){return l(this,v)},"getRandomPoint"),setTo:r(function(v,d,p,g){return v===void 0&&(v=0),d===void 0&&(d=0),p===void 0&&(p=0),g===void 0&&(g=0),this.x1=v,this.y1=d,this.x2=p,this.y2=g,this},"setTo"),setFromObjects:r(function(v,d){return this.x1=v.x,this.y1=v.y,this.x2=d.x,this.y2=d.y,this},"setFromObjects"),getPointA:r(function(v){return v===void 0&&(v=new a),v.set(this.x1,this.y1),v},"getPointA"),getPointB:r(function(v){return v===void 0&&(v=new a),v.set(this.x2,this.y2),v},"getPointB"),left:{get:r(function(){return Math.min(this.x1,this.x2)},"get"),set:r(function(v){this.x1<=this.x2?this.x1=v:this.x2=v},"set")},right:{get:r(function(){return Math.max(this.x1,this.x2)},"get"),set:r(function(v){this.x1>this.x2?this.x1=v:this.x2=v},"set")},top:{get:r(function(){return Math.min(this.y1,this.y2)},"get"),set:r(function(v){this.y1<=this.y2?this.y1=v:this.y2=v},"set")},bottom:{get:r(function(){return Math.max(this.y1,this.y2)},"get"),set:r(function(v){this.y1>this.y2?this.y1=v:this.y2=v},"set")}});n.exports=u},64795:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(36383),y=i(15994),c=i(91938),o=r(function(l){var a=c(l)-f.TAU;return y(a,-Math.PI,Math.PI)},"NormalAngle");n.exports=o},52616:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(36383),y=i(91938),c=r(function(o){return Math.cos(y(o)-f.TAU)},"NormalX");n.exports=c},87231:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(36383),y=i(91938),c=r(function(o){return Math.sin(y(o)-f.TAU)},"NormalY");n.exports=c},89662:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i,f,y){return i.x1+=f,i.y1+=y,i.x2+=f,i.y2+=y,i},"Offset");n.exports=T},71165:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i){return-((i.x2-i.x1)/(i.y2-i.y1))},"PerpSlope");n.exports=T},65822:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(2141),y=r(function(c,o){o===void 0&&(o=new f);var l=Math.random();return o.x=c.x1+l*(c.x2-c.x1),o.y=c.y1+l*(c.y2-c.y1),o},"Random");n.exports=y},69777:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(91938),y=i(64795),c=r(function(o,l){return 2*y(l)-Math.PI-f(o)},"ReflectAngle");n.exports=c},39706:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(64400),y=r(function(c,o){var l=(c.x1+c.x2)/2,a=(c.y1+c.y2)/2;return f(c,l,a,o)},"Rotate");n.exports=y},82585:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(64400),y=r(function(c,o,l){return f(c,o.x,o.y,l)},"RotateAroundPoint");n.exports=y},64400:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i,f,y,c){var o=Math.cos(c),l=Math.sin(c),a=i.x1-f,u=i.y1-y;return i.x1=a*o-u*l+f,i.y1=a*l+u*o+y,a=i.x2-f,u=i.y2-y,i.x2=a*o-u*l+f,i.y2=a*l+u*o+y,i},"RotateAroundXY");n.exports=T},62377:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i,f,y,c,o){return i.x1=f,i.y1=y,i.x2=f+Math.cos(c)*o,i.y2=y+Math.sin(c)*o,i},"SetToAngle");n.exports=T},71366:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i){return(i.y2-i.y1)/(i.x2-i.x1)},"Slope");n.exports=T},10809:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i){return Math.abs(i.x1-i.x2)},"Width");n.exports=T},2529:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(23031);f.Angle=i(91938),f.BresenhamPoints=i(84993),f.CenterOn=i(36469),f.Clone=i(31116),f.CopyFrom=i(59944),f.Equals=i(59220),f.Extend=i(78177),f.GetEasedPoints=i(26708),f.GetMidPoint=i(32125),f.GetNearestPoint=i(99569),f.GetNormal=i(34638),f.GetPoint=i(13151),f.GetPoints=i(15258),f.GetShortestDistance=i(26408),f.Height=i(98770),f.Length=i(35001),f.NormalAngle=i(64795),f.NormalX=i(52616),f.NormalY=i(87231),f.Offset=i(89662),f.PerpSlope=i(71165),f.Random=i(65822),f.ReflectAngle=i(69777),f.Rotate=i(39706),f.RotateAroundPoint=i(82585),f.RotateAroundXY=i(64400),f.SetToAngle=i(62377),f.Slope=i(71366),f.Width=i(10809),n.exports=f},83997:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(83419),y=i(87841),c=i(26099);function o(a,u,v,d){var p=a-v,g=u-d,m=p*p+g*g;return Math.sqrt(m)}r(o,"GetLength");var l=new f({initialize:r(function(u,v,d){this.vertex1=u,this.vertex2=v,this.vertex3=d,this.bounds=new y,this._inCenter=new c},"Face"),getInCenter:r(function(a){a===void 0&&(a=!0);var u=this.vertex1,v=this.vertex2,d=this.vertex3,p,g,m,x,C,P;a?(p=u.x,g=u.y,m=v.x,x=v.y,C=d.x,P=d.y):(p=u.vx,g=u.vy,m=v.vx,x=v.vy,C=d.vx,P=d.vy);var A=o(C,P,m,x),R=o(p,g,C,P),L=o(m,x,p,g),O=A+R+L;return this._inCenter.set((p*A+m*R+C*L)/O,(g*A+x*R+P*L)/O)},"getInCenter"),contains:r(function(a,u,v){var d=this.vertex1,p=this.vertex2,g=this.vertex3,m=d.vx,x=d.vy,C=p.vx,P=p.vy,A=g.vx,R=g.vy;if(v){var L=v.a,O=v.b,w=v.c,b=v.d,F=v.e,M=v.f;m=d.vx*L+d.vy*w+F,x=d.vx*O+d.vy*b+M,C=p.vx*L+p.vy*w+F,P=p.vx*O+p.vy*b+M,A=g.vx*L+g.vy*w+F,R=g.vx*O+g.vy*b+M}var I=A-m,B=R-x,G=C-m,N=P-x,z=a-m,H=u-x,$=I*I+B*B,V=I*G+B*N,Y=I*z+B*H,D=G*G+N*N,U=G*z+N*H,W=$*D-V*V,k=W===0?0:1/W,X=(D*Y-V*U)*k,K=($*U-V*Y)*k;return X>=0&&K>=0&&X+K<1},"contains"),isCounterClockwise:r(function(a){var u=this.vertex1,v=this.vertex2,d=this.vertex3,p=(v.vx-u.vx)*(d.vy-u.vy)-(v.vy-u.vy)*(d.vx-u.vx);return a<=0?p>=0:p<0},"isCounterClockwise"),load:r(function(a,u,v,d,p){return v=this.vertex1.load(a,u,v,d,p),v=this.vertex2.load(a,u,v,d,p),v=this.vertex3.load(a,u,v,d,p),v},"load"),transformCoordinatesLocal:r(function(a,u,v,d){return this.vertex1.transformCoordinatesLocal(a,u,v,d),this.vertex2.transformCoordinatesLocal(a,u,v,d),this.vertex3.transformCoordinatesLocal(a,u,v,d),this},"transformCoordinatesLocal"),updateBounds:r(function(){var a=this.vertex1,u=this.vertex2,v=this.vertex3,d=this.bounds;return d.x=Math.min(a.vx,u.vx,v.vx),d.y=Math.min(a.vy,u.vy,v.vy),d.width=Math.max(a.vx,u.vx,v.vx)-d.x,d.height=Math.max(a.vy,u.vy,v.vy)-d.y,this},"updateBounds"),isInView:r(function(a,u,v,d,p,g,m,x,C,P,A){this.update(d,p,g,m,x,C,P,A);var R=this.vertex1,L=this.vertex2,O=this.vertex3;if(R.ta<=0&&L.ta<=0&&O.ta<=0||u&&!this.isCounterClockwise(v))return!1;var w=this.bounds;w.x=Math.min(R.tx,L.tx,O.tx),w.y=Math.min(R.ty,L.ty,O.ty),w.width=Math.max(R.tx,L.tx,O.tx)-w.x,w.height=Math.max(R.ty,L.ty,O.ty)-w.y;var b=a.x+a.width,F=a.y+a.height;return w.width<=0||w.height<=0||a.width<=0||a.height<=0?!1:!(w.right<a.x||w.bottom<a.y||w.x>b||w.y>F)},"isInView"),scrollUV:r(function(a,u){return this.vertex1.scrollUV(a,u),this.vertex2.scrollUV(a,u),this.vertex3.scrollUV(a,u),this},"scrollUV"),scaleUV:r(function(a,u){return this.vertex1.scaleUV(a,u),this.vertex2.scaleUV(a,u),this.vertex3.scaleUV(a,u),this},"scaleUV"),setColor:r(function(a){return this.vertex1.color=a,this.vertex2.color=a,this.vertex3.color=a,this},"setColor"),update:r(function(a,u,v,d,p,g,m,x){return this.vertex1.update(u,v,d,p,g,m,x,a),this.vertex2.update(u,v,d,p,g,m,x,a),this.vertex3.update(u,v,d,p,g,m,x,a),this},"update"),translate:r(function(a,u){u===void 0&&(u=0);var v=this.vertex1,d=this.vertex2,p=this.vertex3;return v.x+=a,v.y+=u,d.x+=a,d.y+=u,p.x+=a,p.y+=u,this},"translate"),x:{get:r(function(){return this.getInCenter().x},"get"),set:r(function(a){var u=this.getInCenter();this.translate(a-u.x,0)},"set")},y:{get:r(function(){return this.getInCenter().y},"get"),set:r(function(a){var u=this.getInCenter();this.translate(0,a-u.y)},"set")},alpha:{get:r(function(){var a=this.vertex1,u=this.vertex2,v=this.vertex3;return(a.alpha+u.alpha+v.alpha)/3},"get"),set:r(function(a){this.vertex1.alpha=a,this.vertex2.alpha=a,this.vertex3.alpha=a},"set")},depth:{get:r(function(){var a=this.vertex1,u=this.vertex2,v=this.vertex3;return(a.vz+u.vz+v.vz)/3},"get")},destroy:r(function(){this.vertex1=null,this.vertex2=null,this.vertex3=null},"destroy")});n.exports=l},48803:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(83997),y=i(95540),c=i(37867),o=i(25836),l=i(39318),a=new o,u=new o,v=new c,d=r(function(p){var g=y(p,"mesh"),m=y(p,"texture",null),x=y(p,"frame"),C=y(p,"width",1),P=y(p,"height",C),A=y(p,"widthSegments",1),R=y(p,"heightSegments",A),L=y(p,"x",0),O=y(p,"y",0),w=y(p,"z",0),b=y(p,"rotateX",0),F=y(p,"rotateY",0),M=y(p,"rotateZ",0),I=y(p,"zIsUp",!0),B=y(p,"isOrtho",g?g.dirtyCache[11]:!1),G=y(p,"colors",[16777215]),N=y(p,"alphas",[1]),z=y(p,"tile",!1),H=y(p,"flipY",!1),$=y(p,"width",null),V={faces:[],verts:[]};a.set(L,O,w),u.set(b,F,M),v.fromRotationXYTranslation(u,a,I);var Y;if(!m&&g)m=g.texture,x||(Y=g.frame);else if(g&&typeof m=="string")m=g.scene.sys.textures.get(m);else if(!m)return V;Y||(Y=m.get(x)),!$&&B&&m&&g&&(C=Y.width/g.height,P=Y.height/g.height);var D=C/2,U=P/2,W=Math.floor(A),k=Math.floor(R),X=W+1,K=k+1,Z=C/W,J=P/k,Q=[],j=[],q,tt,_=0,rt=1,ht=0,lt=1;Y&&(_=Y.u0,rt=Y.u1,H?(ht=Y.v1,lt=Y.v0):(ht=Y.v0,lt=Y.v1));var ot=rt-_,et=lt-ht;for(tt=0;tt<K;tt++){var at=tt*J-U;for(q=0;q<X;q++){var nt=q*Z-D;j.push(nt,-at);var vt=_+ot*(q/W),mt=ht+et*(tt/k);Q.push(vt,mt)}}Array.isArray(G)||(G=[G]),Array.isArray(N)||(N=[N]);var Nt=0,Ft=0;for(tt=0;tt<k;tt++)for(q=0;q<W;q++){var Et=(q+X*tt)*2,St=(q+X*(tt+1))*2,Xt=(q+1+X*(tt+1))*2,bt=(q+1+X*tt)*2,ie=G[Ft],le=N[Nt],Ue=new l(j[Et],j[Et+1],0,Q[Et],Q[Et+1],ie,le).transformMat4(v),zs=new l(j[St],j[St+1],0,Q[St],Q[St+1],ie,le).transformMat4(v),Ys=new l(j[bt],j[bt+1],0,Q[bt],Q[bt+1],ie,le).transformMat4(v),ks=new l(j[St],j[St+1],0,Q[St],Q[St+1],ie,le).transformMat4(v),Hs=new l(j[Xt],j[Xt+1],0,Q[Xt],Q[Xt+1],ie,le).transformMat4(v),Xs=new l(j[bt],j[bt+1],0,Q[bt],Q[bt+1],ie,le).transformMat4(v);z&&(Ue.setUVs(_,lt),zs.setUVs(_,ht),Ys.setUVs(rt,lt),ks.setUVs(_,ht),Hs.setUVs(rt,ht),Xs.setUVs(rt,lt)),Ft++,Ft===G.length&&(Ft=0),Nt++,Nt===N.length&&(Nt=0),V.verts.push(Ue,zs,Ys,ks,Hs,Xs),V.faces.push(new f(Ue,zs,Ys),new f(ks,Hs,Xs))}return g&&(g.faces=g.faces.concat(V.faces),g.vertices=g.vertices.concat(V.verts)),V},"GenerateGridVerts");n.exports=d},34684:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(83997),y=i(37867),c=i(25836),o=i(39318),l=new c,a=new c,u=new y,v=r(function(d,p,g,m,x,C,P,A,R,L){g===void 0&&(g=1),m===void 0&&(m=0),x===void 0&&(x=0),C===void 0&&(C=0),P===void 0&&(P=0),A===void 0&&(A=0),R===void 0&&(R=0),L===void 0&&(L=!0);var O={faces:[],verts:[]},w=d.materials;l.set(m,x,C),a.set(P,A,R),u.fromRotationXYTranslation(a,l,L);for(var b=0;b<d.models.length;b++)for(var F=d.models[b],M=F.vertices,I=F.textureCoords,B=F.faces,G=0;G<B.length;G++){var N=B[G],z=N.vertices[0],H=N.vertices[1],$=N.vertices[2],V=M[z.vertexIndex],Y=M[H.vertexIndex],D=M[$.vertexIndex],U=z.textureCoordsIndex,W=H.textureCoordsIndex,k=$.textureCoordsIndex,X=U===-1?{u:0,v:1}:I[U],K=W===-1?{u:0,v:0}:I[W],Z=k===-1?{u:1,v:1}:I[k],J=16777215;N.material!==""&&w[N.material]&&(J=w[N.material]);var Q=new o(V.x*g,V.y*g,V.z*g,X.u,X.v,J).transformMat4(u),j=new o(Y.x*g,Y.y*g,Y.z*g,K.u,K.v,J).transformMat4(u),q=new o(D.x*g,D.y*g,D.z*g,Z.u,Z.v,J).transformMat4(u);O.verts.push(Q,j,q),O.faces.push(new f(Q,j,q))}return p&&(p.faces=p.faces.concat(O.faces),p.vertices=p.vertices.concat(O.verts)),O},"GenerateObjVerts");n.exports=v},92515:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(83997),y=i(39318),c=r(function(o,l,a,u,v,d,p,g){if(u===void 0&&(u=!1),d===void 0&&(d=16777215),p===void 0&&(p=1),g===void 0&&(g=!1),o.length!==l.length&&!u){console.warn("GenerateVerts: vertices and uvs count not equal");return}var m={faces:[],vertices:[]},x,C,P,A,R,L,O,w,b,F,M,I=u?3:2,B=Array.isArray(d),G=Array.isArray(p);if(Array.isArray(a)&&a.length>0)for(x=0;x<a.length;x++){var N=a[x],z=a[x]*2,H=a[x]*I;C=o[H],P=o[H+1],A=u?o[H+2]:0,R=l[z],L=l[z+1],g&&(L=1-L),O=B?d[N]:d,w=G?p[N]:p,b=0,F=0,M=0,v&&(b=v[H],F=v[H+1],M=u?v[H+2]:0),m.vertices.push(new y(C,P,A,R,L,O,w,b,F,M))}else{var $=0,V=0;for(x=0;x<o.length;x+=I)C=o[x],P=o[x+1],A=u?o[x+2]:0,R=l[$],L=l[$+1],O=B?d[V]:d,w=G?p[V]:p,b=0,F=0,M=0,v&&(b=v[x],F=v[x+1],M=u?v[x+2]:0),m.vertices.push(new y(C,P,A,R,L,O,w,b,F,M)),$+=2,V++}for(x=0;x<m.vertices.length;x+=3){var Y=m.vertices[x],D=m.vertices[x+1],U=m.vertices[x+2];m.faces.push(new f(Y,D,U))}return m},"GenerateVerts");n.exports=c},85048:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=!0,i="untitled",f="",y="";function c(C){var P=C.indexOf("#");return P>-1?C.substring(0,P):C}r(c,"stripComments");function o(C){return C.models.length===0&&C.models.push({faces:[],name:i,textureCoords:[],vertexNormals:[],vertices:[]}),f="",C.models[C.models.length-1]}r(o,"currentModel");function l(C,P){var A=C.length>=2?C[1]:i;P.models.push({faces:[],name:A,textureCoords:[],vertexNormals:[],vertices:[]}),f=""}r(l,"parseObject");function a(C){C.length===2&&(f=C[1])}r(a,"parseGroup");function u(C,P){var A=C.length,R=A>=2?parseFloat(C[1]):0,L=A>=3?parseFloat(C[2]):0,O=A>=4?parseFloat(C[3]):0;o(P).vertices.push({x:R,y:L,z:O})}r(u,"parseVertexCoords");function v(C,P){var A=C.length,R=A>=2?parseFloat(C[1]):0,L=A>=3?parseFloat(C[2]):0,O=A>=4?parseFloat(C[3]):0;isNaN(R)&&(R=0),isNaN(L)&&(L=0),isNaN(O)&&(O=0),T&&(L=1-L),o(P).textureCoords.push({u:R,v:L,w:O})}r(v,"parseTextureCoords");function d(C,P){var A=C.length,R=A>=2?parseFloat(C[1]):0,L=A>=3?parseFloat(C[2]):0,O=A>=4?parseFloat(C[3]):0;o(P).vertexNormals.push({x:R,y:L,z:O})}r(d,"parseVertexNormal");function p(C,P){var A=C.length-1;if(!(A<3)){for(var R={group:f,material:y,vertices:[]},L=0;L<A;L++){var O=C[L+1],w=O.split("/"),b=w.length;if(!(b<1||b>3)){var F=0,M=0,I=0;F=parseInt(w[0],10),b>1&&w[1]!==""&&(M=parseInt(w[1],10)),b>2&&(I=parseInt(w[2],10)),F!==0&&(F<0&&(F=o(P).vertices.length+1+F),M-=1,F-=1,I-=1,R.vertices.push({textureCoordsIndex:M,vertexIndex:F,vertexNormalIndex:I}))}}o(P).faces.push(R)}}r(p,"parsePolygon");function g(C,P){C.length>=2&&P.materialLibraries.push(C[1])}r(g,"parseMtlLib");function m(C){C.length>=2&&(y=C[1])}r(m,"parseUseMtl");var x=r(function(C,P){P===void 0&&(P=!0),T=P;var A={materials:{},materialLibraries:[],models:[]};f="",y="";for(var R=C.split(`
`),L=0;L<R.length;L++){var O=c(R[L]),w=O.replace(/\s\s+/g," ").trim().split(" ");switch(w[0].toLowerCase()){case"o":l(w,A);break;case"g":a(w);break;case"v":u(w,A);break;case"vt":v(w,A);break;case"vn":d(w,A);break;case"f":p(w,A);break;case"mtllib":g(w,A);break;case"usemtl":m(w);break}}return A},"ParseObj");n.exports=x},61485:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(37589),y=r(function(c){for(var o={},l=c.split(`
`),a="",u=0;u<l.length;u++){var v=l[u].trim();if(!(v.indexOf("#")===0||v==="")){var d=v.replace(/\s\s+/g," ").trim().split(" ");switch(d[0].toLowerCase()){case"newmtl":{a=d[1];break}case"kd":{var p=Math.floor(d[1]*255),g=d.length>=2?Math.floor(d[2]*255):p,m=d.length>=3?Math.floor(d[3]*255):p;o[a]=f(p,g,m);break}}}}return o},"ParseObjMaterial");n.exports=y},92570:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i,f,y,c){var o,l;if(y===void 0&&c===void 0){var a=i.getInCenter();o=a.x,l=a.y}var u=Math.cos(f),v=Math.sin(f),d=i.vertex1,p=i.vertex2,g=i.vertex3,m=d.x-o,x=d.y-l;d.set(m*u-x*v+o,m*v+x*u+l),m=p.x-o,x=p.y-l,p.set(m*u-x*v+o,m*v+x*u+l),m=g.x-o,x=g.y-l,g.set(m*u-x*v+o,m*v+x*u+l)},"RotateFace");n.exports=T},39318:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(83419),y=i(70554),c=i(25836),o=new f({Extends:c,initialize:r(function(a,u,v,d,p,g,m,x,C,P){g===void 0&&(g=16777215),m===void 0&&(m=1),x===void 0&&(x=0),C===void 0&&(C=0),P===void 0&&(P=0),c.call(this,a,u,v),this.vx=0,this.vy=0,this.vz=0,this.nx=x,this.ny=C,this.nz=P,this.u=d,this.v=p,this.color=g,this.alpha=m,this.tx=0,this.ty=0,this.ta=0,this.tu=d,this.tv=p},"Vertex"),setUVs:r(function(l,a){return this.u=l,this.v=a,this.tu=l,this.tv=a,this},"setUVs"),scrollUV:r(function(l,a){return this.tu+=l,this.tv+=a,this},"scrollUV"),scaleUV:r(function(l,a){return this.tu=this.u*l,this.tv=this.v*a,this},"scaleUV"),transformCoordinatesLocal:r(function(l,a,u,v){var d=this.x,p=this.y,g=this.z,m=l.val,x=d*m[0]+p*m[4]+g*m[8]+m[12],C=d*m[1]+p*m[5]+g*m[9]+m[13],P=d*m[2]+p*m[6]+g*m[10]+m[14],A=d*m[3]+p*m[7]+g*m[11]+m[15];this.vx=x/A*a,this.vy=-(C/A)*u,v<=0?this.vz=P/A:this.vz=-(P/A)},"transformCoordinatesLocal"),resize:r(function(l,a,u,v,d,p){return this.x=l,this.y=a,this.vx=this.x*u,this.vy=-this.y*v,this.vz=0,d<.5?this.vx+=u*(.5-d):d>.5&&(this.vx-=u*(d-.5)),p<.5?this.vy+=v*(.5-p):p>.5&&(this.vy-=v*(p-.5)),this},"resize"),update:r(function(l,a,u,v,d,p,g,m){var x=this.vx*l+this.vy*u+d,C=this.vx*a+this.vy*v+p;return g&&(x=Math.round(x),C=Math.round(C)),this.tx=x,this.ty=C,this.ta=this.alpha*m,this},"update"),load:r(function(l,a,u,v,d){return l[++u]=this.tx,l[++u]=this.ty,l[++u]=this.tu,l[++u]=this.tv,l[++u]=v,l[++u]=d,a[++u]=y.getTintAppendFloatAlpha(this.color,this.ta),u},"load")});n.exports=o},73090:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f={Face:i(83997),GenerateGridVerts:i(48803),GenerateObjVerts:i(34684),GenerateVerts:i(92515),ParseObj:i(85048),ParseObjMaterial:i(61485),RotateFace:i(92570),Vertex:i(39318)};n.exports=f},96550:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i){return i.setTo(Math.ceil(i.x),Math.ceil(i.y))},"Ceil");n.exports=T},99706:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(2141),y=r(function(c){return new f(c.x,c.y)},"Clone");n.exports=y},68010:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i,f){return f.setTo(i.x,i.y)},"CopyFrom");n.exports=T},27814:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i,f){return i.x===f.x&&i.y===f.y},"Equals");n.exports=T},73565:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i){return i.setTo(Math.floor(i.x),Math.floor(i.y))},"Floor");n.exports=T},87555:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(2141),y=r(function(c,o){if(o===void 0&&(o=new f),!Array.isArray(c))throw new Error("GetCentroid points argument must be an array");var l=c.length;if(l<1)throw new Error("GetCentroid points array must not be empty");if(l===1)o.x=c[0].x,o.y=c[0].y;else{for(var a=0;a<l;a++)o.x+=c[a].x,o.y+=c[a].y;o.x/=l,o.y/=l}return o},"GetCentroid");n.exports=y},28793:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i){return Math.sqrt(i.x*i.x+i.y*i.y)},"GetMagnitude");n.exports=T},44405:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i){return i.x*i.x+i.y*i.y},"GetMagnitudeSq");n.exports=T},20873:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(87841),y=r(function(c,o){o===void 0&&(o=new f);for(var l=Number.NEGATIVE_INFINITY,a=Number.POSITIVE_INFINITY,u=Number.NEGATIVE_INFINITY,v=Number.POSITIVE_INFINITY,d=0;d<c.length;d++){var p=c[d];p.x>l&&(l=p.x),p.x<a&&(a=p.x),p.y>u&&(u=p.y),p.y<v&&(v=p.y)}return o.x=a,o.y=v,o.width=l-a,o.height=u-v,o},"GetRectangleFromPoints");n.exports=y},26152:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(2141),y=r(function(c,o,l,a){return l===void 0&&(l=0),a===void 0&&(a=new f),a.x=c.x+(o.x-c.x)*l,a.y=c.y+(o.y-c.y)*l,a},"Interpolate");n.exports=y},55767:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i){return i.setTo(i.y,i.x)},"Invert");n.exports=T},79432:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(2141),y=r(function(c,o){return o===void 0&&(o=new f),o.setTo(-c.x,-c.y)},"Negative");n.exports=y},2141:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(83419),y=i(23777),c=new f({initialize:r(function(l,a){l===void 0&&(l=0),a===void 0&&(a=l),this.type=y.POINT,this.x=l,this.y=a},"Point"),setTo:r(function(o,l){return o===void 0&&(o=0),l===void 0&&(l=o),this.x=o,this.y=l,this},"setTo")});n.exports=c},72930:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(2141),y=i(44405),c=r(function(o,l,a){a===void 0&&(a=new f);var u=o.x*l.x+o.y*l.y,v=u/y(l);return v!==0&&(a.x=v*l.x,a.y=v*l.y),a},"Project");n.exports=c},62880:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(2141),y=r(function(c,o,l){l===void 0&&(l=new f);var a=c.x*o.x+c.y*o.y;return a!==0&&(l.x=a*o.x,l.y=a*o.y),l},"ProjectUnit");n.exports=y},15093:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(28793),y=r(function(c,o){if(c.x!==0||c.y!==0){var l=f(c);c.x/=l,c.y/=l}return c.x*=o,c.y*=o,c},"SetMagnitude");n.exports=y},43711:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(2141);f.Ceil=i(96550),f.Clone=i(99706),f.CopyFrom=i(68010),f.Equals=i(27814),f.Floor=i(73565),f.GetCentroid=i(87555),f.GetMagnitude=i(28793),f.GetMagnitudeSq=i(44405),f.GetRectangleFromPoints=i(20873),f.Interpolate=i(26152),f.Invert=i(55767),f.Negative=i(79432),f.Project=i(72930),f.ProjectUnit=i(62880),f.SetMagnitude=i(15093),n.exports=f},12306:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(25717),y=r(function(c){return new f(c.points)},"Clone");n.exports=y},63814:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i,f,y){for(var c=!1,o=-1,l=i.points.length-1;++o<i.points.length;l=o){var a=i.points[o].x,u=i.points[o].y,v=i.points[l].x,d=i.points[l].y;(u<=y&&y<d||d<=y&&y<u)&&f<(v-a)*(y-u)/(d-u)+a&&(c=!c)}return c},"Contains");n.exports=T},99338:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(63814),y=r(function(c,o){return f(c,o.x,o.y)},"ContainsPoint");n.exports=y},94811:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function T(V,Y,D){D=D||2;var U=Y&&Y.length,W=U?Y[0]*D:V.length,k=i(V,0,W,D,!0),X=[];if(!k||k.next===k.prev)return X;var K,Z,J,Q,j,q,tt;if(U&&(k=u(V,Y,k,D)),V.length>80*D){K=J=V[0],Z=Q=V[1];for(var _=D;_<W;_+=D)j=V[_],q=V[_+1],j<K&&(K=j),q<Z&&(Z=q),j>J&&(J=j),q>Q&&(Q=q);tt=Math.max(J-K,Q-Z),tt=tt!==0?32767/tt:0}return y(k,X,D,K,Z,tt,0),X}r(T,"earcut");function i(V,Y,D,U,W){var k,X;if(W===$(V,Y,D,U)>0)for(k=Y;k<D;k+=U)X=N(k,V[k],V[k+1],X);else for(k=D-U;k>=Y;k-=U)X=N(k,V[k],V[k+1],X);return X&&O(X,X.next)&&(z(X),X=X.next),X}r(i,"linkedList");function f(V,Y){if(!V)return V;Y||(Y=V);var D=V,U;do if(U=!1,!D.steiner&&(O(D,D.next)||L(D.prev,D,D.next)===0)){if(z(D),D=Y=D.prev,D===D.next)break;U=!0}else D=D.next;while(U||D!==Y);return Y}r(f,"filterPoints");function y(V,Y,D,U,W,k,X){if(V){!X&&k&&m(V,U,W,k);for(var K=V,Z,J;V.prev!==V.next;){if(Z=V.prev,J=V.next,k?o(V,U,W,k):c(V)){Y.push(Z.i/D|0),Y.push(V.i/D|0),Y.push(J.i/D|0),z(V),V=J.next,K=J.next;continue}if(V=J,V===K){X?X===1?(V=l(f(V),Y,D),y(V,Y,D,U,W,k,2)):X===2&&a(V,Y,D,U,W,k):y(f(V),Y,D,U,W,k,1);break}}}}r(y,"earcutLinked");function c(V){var Y=V.prev,D=V,U=V.next;if(L(Y,D,U)>=0)return!1;for(var W=Y.x,k=D.x,X=U.x,K=Y.y,Z=D.y,J=U.y,Q=W<k?W<X?W:X:k<X?k:X,j=K<Z?K<J?K:J:Z<J?Z:J,q=W>k?W>X?W:X:k>X?k:X,tt=K>Z?K>J?K:J:Z>J?Z:J,_=U.next;_!==Y;){if(_.x>=Q&&_.x<=q&&_.y>=j&&_.y<=tt&&A(W,K,k,Z,X,J,_.x,_.y)&&L(_.prev,_,_.next)>=0)return!1;_=_.next}return!0}r(c,"isEar");function o(V,Y,D,U){var W=V.prev,k=V,X=V.next;if(L(W,k,X)>=0)return!1;for(var K=W.x,Z=k.x,J=X.x,Q=W.y,j=k.y,q=X.y,tt=K<Z?K<J?K:J:Z<J?Z:J,_=Q<j?Q<q?Q:q:j<q?j:q,rt=K>Z?K>J?K:J:Z>J?Z:J,ht=Q>j?Q>q?Q:q:j>q?j:q,lt=C(tt,_,Y,D,U),ot=C(rt,ht,Y,D,U),et=V.prevZ,at=V.nextZ;et&&et.z>=lt&&at&&at.z<=ot;){if(et.x>=tt&&et.x<=rt&&et.y>=_&&et.y<=ht&&et!==W&&et!==X&&A(K,Q,Z,j,J,q,et.x,et.y)&&L(et.prev,et,et.next)>=0||(et=et.prevZ,at.x>=tt&&at.x<=rt&&at.y>=_&&at.y<=ht&&at!==W&&at!==X&&A(K,Q,Z,j,J,q,at.x,at.y)&&L(at.prev,at,at.next)>=0))return!1;at=at.nextZ}for(;et&&et.z>=lt;){if(et.x>=tt&&et.x<=rt&&et.y>=_&&et.y<=ht&&et!==W&&et!==X&&A(K,Q,Z,j,J,q,et.x,et.y)&&L(et.prev,et,et.next)>=0)return!1;et=et.prevZ}for(;at&&at.z<=ot;){if(at.x>=tt&&at.x<=rt&&at.y>=_&&at.y<=ht&&at!==W&&at!==X&&A(K,Q,Z,j,J,q,at.x,at.y)&&L(at.prev,at,at.next)>=0)return!1;at=at.nextZ}return!0}r(o,"isEarHashed");function l(V,Y,D){var U=V;do{var W=U.prev,k=U.next.next;!O(W,k)&&w(W,U,U.next,k)&&I(W,k)&&I(k,W)&&(Y.push(W.i/D|0),Y.push(U.i/D|0),Y.push(k.i/D|0),z(U),z(U.next),U=V=k),U=U.next}while(U!==V);return f(U)}r(l,"cureLocalIntersections");function a(V,Y,D,U,W,k){var X=V;do{for(var K=X.next.next;K!==X.prev;){if(X.i!==K.i&&R(X,K)){var Z=G(X,K);X=f(X,X.next),Z=f(Z,Z.next),y(X,Y,D,U,W,k,0),y(Z,Y,D,U,W,k,0);return}K=K.next}X=X.next}while(X!==V)}r(a,"splitEarcut");function u(V,Y,D,U){var W=[],k,X,K,Z,J;for(k=0,X=Y.length;k<X;k++)K=Y[k]*U,Z=k<X-1?Y[k+1]*U:V.length,J=i(V,K,Z,U,!1),J===J.next&&(J.steiner=!0),W.push(P(J));for(W.sort(v),k=0;k<W.length;k++)D=d(W[k],D);return D}r(u,"eliminateHoles");function v(V,Y){return V.x-Y.x}r(v,"compareX");function d(V,Y){var D=p(V,Y);if(!D)return Y;var U=G(D,V);return f(U,U.next),f(D,D.next)}r(d,"eliminateHole");function p(V,Y){var D=Y,U=V.x,W=V.y,k=-1/0,X;do{if(W<=D.y&&W>=D.next.y&&D.next.y!==D.y){var K=D.x+(W-D.y)*(D.next.x-D.x)/(D.next.y-D.y);if(K<=U&&K>k&&(k=K,X=D.x<D.next.x?D:D.next,K===U))return X}D=D.next}while(D!==Y);if(!X)return null;var Z=X,J=X.x,Q=X.y,j=1/0,q;D=X;do U>=D.x&&D.x>=J&&U!==D.x&&A(W<Q?U:k,W,J,Q,W<Q?k:U,W,D.x,D.y)&&(q=Math.abs(W-D.y)/(U-D.x),I(D,V)&&(q<j||q===j&&(D.x>X.x||D.x===X.x&&g(X,D)))&&(X=D,j=q)),D=D.next;while(D!==Z);return X}r(p,"findHoleBridge");function g(V,Y){return L(V.prev,V,Y.prev)<0&&L(Y.next,V,V.next)<0}r(g,"sectorContainsSector");function m(V,Y,D,U){var W=V;do W.z===0&&(W.z=C(W.x,W.y,Y,D,U)),W.prevZ=W.prev,W.nextZ=W.next,W=W.next;while(W!==V);W.prevZ.nextZ=null,W.prevZ=null,x(W)}r(m,"indexCurve");function x(V){var Y,D,U,W,k,X,K,Z,J=1;do{for(D=V,V=null,k=null,X=0;D;){for(X++,U=D,K=0,Y=0;Y<J&&(K++,U=U.nextZ,!!U);Y++);for(Z=J;K>0||Z>0&&U;)K!==0&&(Z===0||!U||D.z<=U.z)?(W=D,D=D.nextZ,K--):(W=U,U=U.nextZ,Z--),k?k.nextZ=W:V=W,W.prevZ=k,k=W;D=U}k.nextZ=null,J*=2}while(X>1);return V}r(x,"sortLinked");function C(V,Y,D,U,W){return V=(V-D)*W|0,Y=(Y-U)*W|0,V=(V|V<<8)&16711935,V=(V|V<<4)&252645135,V=(V|V<<2)&858993459,V=(V|V<<1)&1431655765,Y=(Y|Y<<8)&16711935,Y=(Y|Y<<4)&252645135,Y=(Y|Y<<2)&858993459,Y=(Y|Y<<1)&1431655765,V|Y<<1}r(C,"zOrder");function P(V){var Y=V,D=V;do(Y.x<D.x||Y.x===D.x&&Y.y<D.y)&&(D=Y),Y=Y.next;while(Y!==V);return D}r(P,"getLeftmost");function A(V,Y,D,U,W,k,X,K){return(W-X)*(Y-K)>=(V-X)*(k-K)&&(V-X)*(U-K)>=(D-X)*(Y-K)&&(D-X)*(k-K)>=(W-X)*(U-K)}r(A,"pointInTriangle");function R(V,Y){return V.next.i!==Y.i&&V.prev.i!==Y.i&&!M(V,Y)&&(I(V,Y)&&I(Y,V)&&B(V,Y)&&(L(V.prev,V,Y.prev)||L(V,Y.prev,Y))||O(V,Y)&&L(V.prev,V,V.next)>0&&L(Y.prev,Y,Y.next)>0)}r(R,"isValidDiagonal");function L(V,Y,D){return(Y.y-V.y)*(D.x-Y.x)-(Y.x-V.x)*(D.y-Y.y)}r(L,"area");function O(V,Y){return V.x===Y.x&&V.y===Y.y}r(O,"equals");function w(V,Y,D,U){var W=F(L(V,Y,D)),k=F(L(V,Y,U)),X=F(L(D,U,V)),K=F(L(D,U,Y));return!!(W!==k&&X!==K||W===0&&b(V,D,Y)||k===0&&b(V,U,Y)||X===0&&b(D,V,U)||K===0&&b(D,Y,U))}r(w,"intersects");function b(V,Y,D){return Y.x<=Math.max(V.x,D.x)&&Y.x>=Math.min(V.x,D.x)&&Y.y<=Math.max(V.y,D.y)&&Y.y>=Math.min(V.y,D.y)}r(b,"onSegment");function F(V){return V>0?1:V<0?-1:0}r(F,"sign");function M(V,Y){var D=V;do{if(D.i!==V.i&&D.next.i!==V.i&&D.i!==Y.i&&D.next.i!==Y.i&&w(D,D.next,V,Y))return!0;D=D.next}while(D!==V);return!1}r(M,"intersectsPolygon");function I(V,Y){return L(V.prev,V,V.next)<0?L(V,Y,V.next)>=0&&L(V,V.prev,Y)>=0:L(V,Y,V.prev)<0||L(V,V.next,Y)<0}r(I,"locallyInside");function B(V,Y){var D=V,U=!1,W=(V.x+Y.x)/2,k=(V.y+Y.y)/2;do D.y>k!=D.next.y>k&&D.next.y!==D.y&&W<(D.next.x-D.x)*(k-D.y)/(D.next.y-D.y)+D.x&&(U=!U),D=D.next;while(D!==V);return U}r(B,"middleInside");function G(V,Y){var D=new H(V.i,V.x,V.y),U=new H(Y.i,Y.x,Y.y),W=V.next,k=Y.prev;return V.next=Y,Y.prev=V,D.next=W,W.prev=D,U.next=D,D.prev=U,k.next=U,U.prev=k,U}r(G,"splitPolygon");function N(V,Y,D,U){var W=new H(V,Y,D);return U?(W.next=U.next,W.prev=U,U.next.prev=W,U.next=W):(W.prev=W,W.next=W),W}r(N,"insertNode");function z(V){V.next.prev=V.prev,V.prev.next=V.next,V.prevZ&&(V.prevZ.nextZ=V.nextZ),V.nextZ&&(V.nextZ.prevZ=V.prevZ)}r(z,"removeNode");function H(V,Y,D){this.i=V,this.x=Y,this.y=D,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}r(H,"Node"),T.deviation=function(V,Y,D,U){var W=Y&&Y.length,k=W?Y[0]*D:V.length,X=Math.abs($(V,0,k,D));if(W)for(var K=0,Z=Y.length;K<Z;K++){var J=Y[K]*D,Q=K<Z-1?Y[K+1]*D:V.length;X-=Math.abs($(V,J,Q,D))}var j=0;for(K=0;K<U.length;K+=3){var q=U[K]*D,tt=U[K+1]*D,_=U[K+2]*D;j+=Math.abs((V[q]-V[_])*(V[tt+1]-V[q+1])-(V[q]-V[tt])*(V[_+1]-V[q+1]))}return X===0&&j===0?0:Math.abs((j-X)/X)};function $(V,Y,D,U){for(var W=0,k=Y,X=D-U;k<D;k+=U)W+=(V[X]-V[k])*(V[k+1]+V[X+1]),X=k;return W}r($,"signedArea"),T.flatten=function(V){for(var Y=V[0][0].length,D={vertices:[],holes:[],dimensions:Y},U=0,W=0;W<V.length;W++){for(var k=0;k<V[W].length;k++)for(var X=0;X<Y;X++)D.vertices.push(V[W][k][X]);W>0&&(U+=V[W-1].length,D.holes.push(U))}return D},n.exports=T},13829:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(87841),y=r(function(c,o){o===void 0&&(o=new f);for(var l=1/0,a=1/0,u=-l,v=-a,d,p=0;p<c.points.length;p++)d=c.points[p],l=Math.min(l,d.x),a=Math.min(a,d.y),u=Math.max(u,d.x),v=Math.max(v,d.y);return o.x=l,o.y=a,o.width=u-l,o.height=v-a,o},"GetAABB");n.exports=y},26173:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i,f){f===void 0&&(f=[]);for(var y=0;y<i.points.length;y++)f.push(i.points[y].x),f.push(i.points[y].y);return f},"GetNumberArray");n.exports=T},9564:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(35001),y=i(23031),c=i(30052),o=r(function(l,a,u,v){v===void 0&&(v=[]);var d=l.points,p=c(l);!a&&u>0&&(a=p/u);for(var g=0;g<a;g++)for(var m=p*(g/a),x=0,C=0;C<d.length;C++){var P=d[C],A=d[(C+1)%d.length],R=new y(P.x,P.y,A.x,A.y),L=f(R);if(m<x||m>x+L){x+=L;continue}var O=R.getPoint((m-x)/L);v.push(O);break}return v},"GetPoints");n.exports=o},30052:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(35001),y=i(23031),c=r(function(o){for(var l=o.points,a=0,u=0;u<l.length;u++){var v=l[u],d=l[(u+1)%l.length],p=new y(v.x,v.y,d.x,d.y);a+=f(p)}return a},"Perimeter");n.exports=c},25717:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(83419),y=i(63814),c=i(9564),o=i(23777),l=new f({initialize:r(function(u){this.type=o.POLYGON,this.area=0,this.points=[],u&&this.setTo(u)},"Polygon"),contains:r(function(a,u){return y(this,a,u)},"contains"),setTo:r(function(a){if(this.area=0,this.points=[],typeof a=="string"&&(a=a.split(" ")),!Array.isArray(a))return this;for(var u,v=0;v<a.length;v++)u={x:0,y:0},typeof a[v]=="number"||typeof a[v]=="string"?(u.x=parseFloat(a[v]),u.y=parseFloat(a[v+1]),v++):Array.isArray(a[v])?(u.x=a[v][0],u.y=a[v][1]):(u.x=a[v].x,u.y=a[v].y),this.points.push(u);return this.calculateArea(),this},"setTo"),calculateArea:r(function(){if(this.points.length<3)return this.area=0,this.area;for(var a=0,u,v,d=0;d<this.points.length-1;d++)u=this.points[d],v=this.points[d+1],a+=(v.x-u.x)*(u.y+v.y);return u=this.points[0],v=this.points[this.points.length-1],a+=(u.x-v.x)*(v.y+u.y),this.area=-a*.5,this.area},"calculateArea"),getPoints:r(function(a,u,v){return c(this,a,u,v)},"getPoints")});n.exports=l},8133:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i){return i.points.reverse(),i},"Reverse");n.exports=T},29524:n=>{function T(l,a){var u=l.x-a.x,v=l.y-a.y;return u*u+v*v}r(T,"getSqDist");function i(l,a,u){var v=a.x,d=a.y,p=u.x-v,g=u.y-d;if(p!==0||g!==0){var m=((l.x-v)*p+(l.y-d)*g)/(p*p+g*g);m>1?(v=u.x,d=u.y):m>0&&(v+=p*m,d+=g*m)}return p=l.x-v,g=l.y-d,p*p+g*g}r(i,"getSqSegDist");function f(l,a){for(var u=l[0],v=[u],d,p=1,g=l.length;p<g;p++)d=l[p],T(d,u)>a&&(v.push(d),u=d);return u!==d&&v.push(d),v}r(f,"simplifyRadialDist");function y(l,a,u,v,d){for(var p=v,g,m=a+1;m<u;m++){var x=i(l[m],l[a],l[u]);x>p&&(g=m,p=x)}p>v&&(g-a>1&&y(l,a,g,v,d),d.push(l[g]),u-g>1&&y(l,g,u,v,d))}r(y,"simplifyDPStep");function c(l,a){var u=l.length-1,v=[l[0]];return y(l,0,u,a,v),v.push(l[u]),v}r(c,"simplifyDouglasPeucker");var o=r(function(l,a,u){a===void 0&&(a=1),u===void 0&&(u=!1);var v=l.points;if(v.length>2){var d=a*a;u||(v=f(v,d)),l.setTo(c(v,d))}return l},"Simplify");n.exports=o},5469:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Igor Ognichenko <ognichenko.igor@gmail.com>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(f,y){return f[0]=y[0],f[1]=y[1],f},"copy"),i=r(function(f){var y,c=[],o=f.points;for(y=0;y<o.length;y++)c.push([o[y].x,o[y].y]);var l=[];for(c.length>0&&l.push(T([0,0],c[0])),y=0;y<c.length-1;y++){var a=c[y],u=c[y+1],v=a[0],d=a[1],p=u[0],g=u[1];l.push([.85*v+.15*p,.85*d+.15*g]),l.push([.15*v+.85*p,.15*d+.85*g])}return c.length>1&&l.push(T([0,0],c[c.length-1])),f.setTo(l)},"Smooth");n.exports=i},24709:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i,f,y){for(var c=i.points,o=0;o<c.length;o++)c[o].x+=f,c[o].y+=y;return i},"Translate");n.exports=T},58423:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(25717);f.Clone=i(12306),f.Contains=i(63814),f.ContainsPoint=i(99338),f.Earcut=i(94811),f.GetAABB=i(13829),f.GetNumberArray=i(26173),f.GetPoints=i(9564),f.Perimeter=i(30052),f.Reverse=i(8133),f.Simplify=i(29524),f.Smooth=i(5469),f.Translate=i(24709),n.exports=f},62224:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i){return i.width*i.height},"Area");n.exports=T},98615:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i){return i.x=Math.ceil(i.x),i.y=Math.ceil(i.y),i},"Ceil");n.exports=T},31688:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i){return i.x=Math.ceil(i.x),i.y=Math.ceil(i.y),i.width=Math.ceil(i.width),i.height=Math.ceil(i.height),i},"CeilAll");n.exports=T},67502:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i,f,y){return i.x=f-i.width/2,i.y=y-i.height/2,i},"CenterOn");n.exports=T},65085:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(87841),y=r(function(c){return new f(c.x,c.y,c.width,c.height)},"Clone");n.exports=y},37303:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i,f,y){return i.width<=0||i.height<=0?!1:i.x<=f&&i.x+i.width>=f&&i.y<=y&&i.y+i.height>=y},"Contains");n.exports=T},96553:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(37303),y=r(function(c,o){return f(c,o.x,o.y)},"ContainsPoint");n.exports=y},70273:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i,f){return f.width*f.height>i.width*i.height?!1:f.x>i.x&&f.x<i.right&&f.right>i.x&&f.right<i.right&&f.y>i.y&&f.y<i.bottom&&f.bottom>i.y&&f.bottom<i.bottom},"ContainsRect");n.exports=T},43459:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i,f){return f.setTo(i.x,i.y,i.width,i.height)},"CopyFrom");n.exports=T},77493:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i,f){return f===void 0&&(f=[]),f.push({x:i.x,y:i.y}),f.push({x:i.right,y:i.y}),f.push({x:i.right,y:i.bottom}),f.push({x:i.x,y:i.bottom}),f},"Decompose");n.exports=T},9219:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i,f){return i.x===f.x&&i.y===f.y&&i.width===f.width&&i.height===f.height},"Equals");n.exports=T},53751:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(8249),y=r(function(c,o){var l=f(c);return l<f(o)?c.setSize(o.height*l,o.height):c.setSize(o.width,o.width/l),c.setPosition(o.centerX-c.width/2,o.centerY-c.height/2)},"FitInside");n.exports=y},16088:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(8249),y=r(function(c,o){var l=f(c);return l>f(o)?c.setSize(o.height*l,o.height):c.setSize(o.width,o.width/l),c.setPosition(o.centerX-c.width/2,o.centerY-c.height/2)},"FitOutside");n.exports=y},80774:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i){return i.x=Math.floor(i.x),i.y=Math.floor(i.y),i},"Floor");n.exports=T},83859:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i){return i.x=Math.floor(i.x),i.y=Math.floor(i.y),i.width=Math.floor(i.width),i.height=Math.floor(i.height),i},"FloorAll");n.exports=T},19217:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(87841),y=i(36383),c=r(function(o,l){if(l===void 0&&(l=new f),o.length===0)return l;for(var a=Number.MAX_VALUE,u=Number.MAX_VALUE,v=y.MIN_SAFE_INTEGER,d=y.MIN_SAFE_INTEGER,p,g,m,x=0;x<o.length;x++)p=o[x],Array.isArray(p)?(g=p[0],m=p[1]):(g=p.x,m=p.y),a=Math.min(a,g),u=Math.min(u,m),v=Math.max(v,g),d=Math.max(d,m);return l.x=a,l.y=u,l.width=v-a,l.height=d-u,l},"FromPoints");n.exports=c},9477:(n,T,i)=>{/**
 * @author       samme
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(87841),y=r(function(c,o,l,a,u){return u===void 0&&(u=new f),u.setTo(Math.min(c,l),Math.min(o,a),Math.abs(c-l),Math.abs(o-a))},"FromXY");n.exports=y},8249:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i){return i.height===0?NaN:i.width/i.height},"GetAspectRatio");n.exports=T},27165:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(2141),y=r(function(c,o){return o===void 0&&(o=new f),o.x=c.centerX,o.y=c.centerY,o},"GetCenter");n.exports=y},20812:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(13019),y=i(2141),c=r(function(o,l,a){if(a===void 0&&(a=new y),l<=0||l>=1)return a.x=o.x,a.y=o.y,a;var u=f(o)*l;return l>.5?(u-=o.width+o.height,u<=o.width?(a.x=o.right-u,a.y=o.bottom):(a.x=o.x,a.y=o.bottom-(u-o.width))):u<=o.width?(a.x=o.x+u,a.y=o.y):(a.x=o.right,a.y=o.y+(u-o.width)),a},"GetPoint");n.exports=c},34819:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(20812),y=i(13019),c=r(function(o,l,a,u){u===void 0&&(u=[]),!l&&a>0&&(l=y(o)/a);for(var v=0;v<l;v++){var d=v/l;u.push(f(o,d))}return u},"GetPoints");n.exports=c},51313:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(2141),y=r(function(c,o){return o===void 0&&(o=new f),o.x=c.width,o.y=c.height,o},"GetSize");n.exports=y},86091:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(67502),y=r(function(c,o,l){var a=c.centerX,u=c.centerY;return c.setSize(c.width+o*2,c.height+l*2),f(c,a,u)},"Inflate");n.exports=y},53951:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(87841),y=i(59996),c=r(function(o,l,a){return a===void 0&&(a=new f),y(o,l)?(a.x=Math.max(o.x,l.x),a.y=Math.max(o.y,l.y),a.width=Math.min(o.right,l.right)-a.x,a.height=Math.min(o.bottom,l.bottom)-a.y):a.setEmpty(),a},"Intersection");n.exports=c},14649:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(13019),y=i(2141),c=r(function(o,l,a,u){if(u===void 0&&(u=[]),!l&&!a)return u;l?a=Math.round(f(o)/l):l=f(o)/a;for(var v=o.x,d=o.y,p=0,g=0;g<a;g++)switch(u.push(new y(v,d)),p){case 0:v+=l,v>=o.right&&(p=1,d+=v-o.right,v=o.right);break;case 1:d+=l,d>=o.bottom&&(p=2,v-=d-o.bottom,d=o.bottom);break;case 2:v-=l,v<=o.left&&(p=3,d-=o.left-v,v=o.left);break;case 3:d-=l,d<=o.top&&(p=0,d=o.top);break}return u},"MarchingAnts");n.exports=c},33595:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i,f){for(var y=i.x,c=i.right,o=i.y,l=i.bottom,a=0;a<f.length;a++)y=Math.min(y,f[a].x),c=Math.max(c,f[a].x),o=Math.min(o,f[a].y),l=Math.max(l,f[a].y);return i.x=y,i.y=o,i.width=c-y,i.height=l-o,i},"MergePoints");n.exports=T},20074:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i,f){var y=Math.min(i.x,f.x),c=Math.max(i.right,f.right);i.x=y,i.width=c-y;var o=Math.min(i.y,f.y),l=Math.max(i.bottom,f.bottom);return i.y=o,i.height=l-o,i},"MergeRect");n.exports=T},92171:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i,f,y){var c=Math.min(i.x,f),o=Math.max(i.right,f);i.x=c,i.width=o-c;var l=Math.min(i.y,y),a=Math.max(i.bottom,y);return i.y=l,i.height=a-l,i},"MergeXY");n.exports=T},42981:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i,f,y){return i.x+=f,i.y+=y,i},"Offset");n.exports=T},46907:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i,f){return i.x+=f.x,i.y+=f.y,i},"OffsetPoint");n.exports=T},60170:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i,f){return i.x<f.right&&i.right>f.x&&i.y<f.bottom&&i.bottom>f.y},"Overlaps");n.exports=T},13019:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i){return 2*(i.width+i.height)},"Perimeter");n.exports=T},85133:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(2141),y=i(39506),c=r(function(o,l,a){a===void 0&&(a=new f),l=y(l);var u=Math.sin(l),v=Math.cos(l),d=v>0?o.width/2:o.width/-2,p=u>0?o.height/2:o.height/-2;return Math.abs(d*u)<Math.abs(p*v)?p=d*u/v:d=p*v/u,a.x=d+o.centerX,a.y=p+o.centerY,a},"PerimeterPoint");n.exports=c},26597:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(2141),y=r(function(c,o){return o===void 0&&(o=new f),o.x=c.x+Math.random()*c.width,o.y=c.y+Math.random()*c.height,o},"Random");n.exports=y},86470:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(30976),y=i(70273),c=i(2141),o=r(function(l,a,u){if(u===void 0&&(u=new c),y(l,a))switch(f(0,3)){case 0:u.x=l.x+Math.random()*(a.right-l.x),u.y=l.y+Math.random()*(a.top-l.y);break;case 1:u.x=a.x+Math.random()*(l.right-a.x),u.y=a.bottom+Math.random()*(l.bottom-a.bottom);break;case 2:u.x=l.x+Math.random()*(a.x-l.x),u.y=a.y+Math.random()*(l.bottom-a.y);break;case 3:u.x=a.right+Math.random()*(l.right-a.right),u.y=l.y+Math.random()*(a.bottom-l.y);break}return u},"RandomOutside");n.exports=o},87841:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(83419),y=i(37303),c=i(20812),o=i(34819),l=i(23777),a=i(23031),u=i(26597),v=new f({initialize:r(function(p,g,m,x){p===void 0&&(p=0),g===void 0&&(g=0),m===void 0&&(m=0),x===void 0&&(x=0),this.type=l.RECTANGLE,this.x=p,this.y=g,this.width=m,this.height=x},"Rectangle"),contains:r(function(d,p){return y(this,d,p)},"contains"),getPoint:r(function(d,p){return c(this,d,p)},"getPoint"),getPoints:r(function(d,p,g){return o(this,d,p,g)},"getPoints"),getRandomPoint:r(function(d){return u(this,d)},"getRandomPoint"),setTo:r(function(d,p,g,m){return this.x=d,this.y=p,this.width=g,this.height=m,this},"setTo"),setEmpty:r(function(){return this.setTo(0,0,0,0)},"setEmpty"),setPosition:r(function(d,p){return p===void 0&&(p=d),this.x=d,this.y=p,this},"setPosition"),setSize:r(function(d,p){return p===void 0&&(p=d),this.width=d,this.height=p,this},"setSize"),isEmpty:r(function(){return this.width<=0||this.height<=0},"isEmpty"),getLineA:r(function(d){return d===void 0&&(d=new a),d.setTo(this.x,this.y,this.right,this.y),d},"getLineA"),getLineB:r(function(d){return d===void 0&&(d=new a),d.setTo(this.right,this.y,this.right,this.bottom),d},"getLineB"),getLineC:r(function(d){return d===void 0&&(d=new a),d.setTo(this.right,this.bottom,this.x,this.bottom),d},"getLineC"),getLineD:r(function(d){return d===void 0&&(d=new a),d.setTo(this.x,this.bottom,this.x,this.y),d},"getLineD"),left:{get:r(function(){return this.x},"get"),set:r(function(d){d>=this.right?this.width=0:this.width=this.right-d,this.x=d},"set")},right:{get:r(function(){return this.x+this.width},"get"),set:r(function(d){d<=this.x?this.width=0:this.width=d-this.x},"set")},top:{get:r(function(){return this.y},"get"),set:r(function(d){d>=this.bottom?this.height=0:this.height=this.bottom-d,this.y=d},"set")},bottom:{get:r(function(){return this.y+this.height},"get"),set:r(function(d){d<=this.y?this.height=0:this.height=d-this.y},"set")},centerX:{get:r(function(){return this.x+this.width/2},"get"),set:r(function(d){this.x=d-this.width/2},"set")},centerY:{get:r(function(){return this.y+this.height/2},"get"),set:r(function(d){this.y=d-this.height/2},"set")}});n.exports=v},94845:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i,f){return i.width===f.width&&i.height===f.height},"SameDimensions");n.exports=T},31730:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i,f,y){return y===void 0&&(y=f),i.width*=f,i.height*=y,i},"Scale");n.exports=T},36899:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(87841),y=r(function(c,o,l){l===void 0&&(l=new f);var a=Math.min(c.x,o.x),u=Math.min(c.y,o.y),v=Math.max(c.right,o.right)-a,d=Math.max(c.bottom,o.bottom)-u;return l.setTo(a,u,v,d)},"Union");n.exports=y},93232:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(87841);f.Area=i(62224),f.Ceil=i(98615),f.CeilAll=i(31688),f.CenterOn=i(67502),f.Clone=i(65085),f.Contains=i(37303),f.ContainsPoint=i(96553),f.ContainsRect=i(70273),f.CopyFrom=i(43459),f.Decompose=i(77493),f.Equals=i(9219),f.FitInside=i(53751),f.FitOutside=i(16088),f.Floor=i(80774),f.FloorAll=i(83859),f.FromPoints=i(19217),f.FromXY=i(9477),f.GetAspectRatio=i(8249),f.GetCenter=i(27165),f.GetPoint=i(20812),f.GetPoints=i(34819),f.GetSize=i(51313),f.Inflate=i(86091),f.Intersection=i(53951),f.MarchingAnts=i(14649),f.MergePoints=i(33595),f.MergeRect=i(20074),f.MergeXY=i(92171),f.Offset=i(42981),f.OffsetPoint=i(46907),f.Overlaps=i(60170),f.Perimeter=i(13019),f.PerimeterPoint=i(85133),f.Random=i(26597),f.RandomOutside=i(86470),f.SameDimensions=i(94845),f.Scale=i(31730),f.Union=i(36899),n.exports=f},41658:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i){var f=i.x1,y=i.y1,c=i.x2,o=i.y2,l=i.x3,a=i.y3;return Math.abs(((l-f)*(o-y)-(c-f)*(a-y))/2)},"Area");n.exports=T},39208:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(16483),y=r(function(c,o,l){var a=l*(Math.sqrt(3)/2),u=c,v=o,d=c+l/2,p=o+a,g=c-l/2,m=o+a;return new f(u,v,d,p,g,m)},"BuildEquilateral");n.exports=y},39545:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(94811),y=i(16483),c=r(function(o,l,a,u,v){l===void 0&&(l=null),a===void 0&&(a=1),u===void 0&&(u=1),v===void 0&&(v=[]);for(var d=f(o,l),p,g,m,x,C,P,A,R,L,O=0;O<d.length;O+=3)p=d[O],g=d[O+1],m=d[O+2],x=o[p*2]*a,C=o[p*2+1]*u,P=o[g*2]*a,A=o[g*2+1]*u,R=o[m*2]*a,L=o[m*2+1]*u,v.push(new y(x,C,P,A,R,L));return v},"BuildFromPolygon");n.exports=c},90301:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(16483),y=r(function(c,o,l,a){a===void 0&&(a=l);var u=c,v=o,d=c,p=o-a,g=c+l,m=o;return new f(u,v,d,p,g,m)},"BuildRight");n.exports=y},23707:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(97523),y=i(13584),c=r(function(o,l,a,u){u===void 0&&(u=f);var v=u(o),d=l-v.x,p=a-v.y;return y(o,d,p)},"CenterOn");n.exports=c},97523:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(2141),y=r(function(c,o){return o===void 0&&(o=new f),o.x=(c.x1+c.x2+c.x3)/3,o.y=(c.y1+c.y2+c.y3)/3,o},"Centroid");n.exports=y},24951:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(26099);function y(o,l,a,u){return o*u-l*a}r(y,"det");var c=r(function(o,l){l===void 0&&(l=new f);var a=o.x3,u=o.y3,v=o.x1-a,d=o.y1-u,p=o.x2-a,g=o.y2-u,m=2*y(v,d,p,g),x=y(d,v*v+d*d,g,p*p+g*g),C=y(v,v*v+d*d,p,p*p+g*g);return l.x=a-x/m,l.y=u+C/m,l},"CircumCenter");n.exports=c},85614:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(96503),y=r(function(c,o){o===void 0&&(o=new f);var l=c.x1,a=c.y1,u=c.x2,v=c.y2,d=c.x3,p=c.y3,g=u-l,m=v-a,x=d-l,C=p-a,P=g*(l+u)+m*(a+v),A=x*(l+d)+C*(a+p),R=2*(g*(p-v)-m*(d-u)),L,O;if(Math.abs(R)<1e-6){var w=Math.min(l,u,d),b=Math.min(a,v,p);L=(Math.max(l,u,d)-w)*.5,O=(Math.max(a,v,p)-b)*.5,o.x=w+L,o.y=b+O,o.radius=Math.sqrt(L*L+O*O)}else o.x=(C*P-m*A)/R,o.y=(g*A-x*P)/R,L=o.x-l,O=o.y-a,o.radius=Math.sqrt(L*L+O*O);return o},"CircumCircle");n.exports=y},74422:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(16483),y=r(function(c){return new f(c.x1,c.y1,c.x2,c.y2,c.x3,c.y3)},"Clone");n.exports=y},10690:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i,f,y){var c=i.x3-i.x1,o=i.y3-i.y1,l=i.x2-i.x1,a=i.y2-i.y1,u=f-i.x1,v=y-i.y1,d=c*c+o*o,p=c*l+o*a,g=c*u+o*v,m=l*l+a*a,x=l*u+a*v,C=d*m-p*p,P=C===0?0:1/C,A=(m*g-p*x)*P,R=(d*x-p*g)*P;return A>=0&&R>=0&&A+R<1},"Contains");n.exports=T},48653:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i,f,y,c){y===void 0&&(y=!1),c===void 0&&(c=[]);for(var o=i.x3-i.x1,l=i.y3-i.y1,a=i.x2-i.x1,u=i.y2-i.y1,v=o*o+l*l,d=o*a+l*u,p=a*a+u*u,g=v*p-d*d,m=g===0?0:1/g,x,C,P,A,R,L,O=i.x1,w=i.y1,b=0;b<f.length&&(P=f[b].x-O,A=f[b].y-w,R=o*P+l*A,L=a*P+u*A,x=(p*R-d*L)*m,C=(v*L-d*R)*m,!(x>=0&&C>=0&&x+C<1&&(c.push({x:f[b].x,y:f[b].y}),y)));b++);return c},"ContainsArray");n.exports=T},96006:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(10690),y=r(function(c,o){return f(c,o.x,o.y)},"ContainsPoint");n.exports=y},71326:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i,f){return f.setTo(i.x1,i.y1,i.x2,i.y2,i.x3,i.y3)},"CopyFrom");n.exports=T},71694:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i,f){return f===void 0&&(f=[]),f.push({x:i.x1,y:i.y1}),f.push({x:i.x2,y:i.y2}),f.push({x:i.x3,y:i.y3}),f},"Decompose");n.exports=T},33522:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i,f){return i.x1===f.x1&&i.y1===f.y1&&i.x2===f.x2&&i.y2===f.y2&&i.x3===f.x3&&i.y3===f.y3},"Equals");n.exports=T},20437:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(2141),y=i(35001),c=r(function(o,l,a){a===void 0&&(a=new f);var u=o.getLineA(),v=o.getLineB(),d=o.getLineC();if(l<=0||l>=1)return a.x=u.x1,a.y=u.y1,a;var p=y(u),g=y(v),m=y(d),x=p+g+m,C=x*l,P=0;return C<p?(P=C/p,a.x=u.x1+(u.x2-u.x1)*P,a.y=u.y1+(u.y2-u.y1)*P):C>p+g?(C-=p+g,P=C/m,a.x=d.x1+(d.x2-d.x1)*P,a.y=d.y1+(d.y2-d.y1)*P):(C-=p,P=C/g,a.x=v.x1+(v.x2-v.x1)*P,a.y=v.y1+(v.y2-v.y1)*P),a},"GetPoint");n.exports=c},80672:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(35001),y=i(2141),c=r(function(o,l,a,u){u===void 0&&(u=[]);var v=o.getLineA(),d=o.getLineB(),p=o.getLineC(),g=f(v),m=f(d),x=f(p),C=g+m+x;!l&&a>0&&(l=C/a);for(var P=0;P<l;P++){var A=C*(P/l),R=0,L=new y;A<g?(R=A/g,L.x=v.x1+(v.x2-v.x1)*R,L.y=v.y1+(v.y2-v.y1)*R):A>g+m?(A-=g+m,R=A/x,L.x=p.x1+(p.x2-p.x1)*R,L.y=p.y1+(p.y2-p.y1)*R):(A-=g,R=A/m,L.x=d.x1+(d.x2-d.x1)*R,L.y=d.y1+(d.y2-d.y1)*R),u.push(L)}return u},"GetPoints");n.exports=c},39757:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(2141);function y(o,l,a,u){var v=o-a,d=l-u,p=v*v+d*d;return Math.sqrt(p)}r(y,"getLength");var c=r(function(o,l){l===void 0&&(l=new f);var a=o.x1,u=o.y1,v=o.x2,d=o.y2,p=o.x3,g=o.y3,m=y(p,g,v,d),x=y(a,u,p,g),C=y(v,d,a,u),P=m+x+C;return l.x=(a*m+v*x+p*C)/P,l.y=(u*m+d*x+g*C)/P,l},"InCenter");n.exports=c},13584:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i,f,y){return i.x1+=f,i.y1+=y,i.x2+=f,i.y2+=y,i.x3+=f,i.y3+=y,i},"Offset");n.exports=T},1376:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(35001),y=r(function(c){var o=c.getLineA(),l=c.getLineB(),a=c.getLineC();return f(o)+f(l)+f(a)},"Perimeter");n.exports=y},90260:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(2141),y=r(function(c,o){o===void 0&&(o=new f);var l=c.x2-c.x1,a=c.y2-c.y1,u=c.x3-c.x1,v=c.y3-c.y1,d=Math.random(),p=Math.random();return d+p>=1&&(d=1-d,p=1-p),o.x=c.x1+(l*d+u*p),o.y=c.y1+(a*d+v*p),o},"Random");n.exports=y},52172:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(99614),y=i(39757),c=r(function(o,l){var a=y(o);return f(o,a.x,a.y,l)},"Rotate");n.exports=c},49907:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(99614),y=r(function(c,o,l){return f(c,o.x,o.y,l)},"RotateAroundPoint");n.exports=y},99614:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i,f,y,c){var o=Math.cos(c),l=Math.sin(c),a=i.x1-f,u=i.y1-y;return i.x1=a*o-u*l+f,i.y1=a*l+u*o+y,a=i.x2-f,u=i.y2-y,i.x2=a*o-u*l+f,i.y2=a*l+u*o+y,a=i.x3-f,u=i.y3-y,i.x3=a*o-u*l+f,i.y3=a*l+u*o+y,i},"RotateAroundXY");n.exports=T},16483:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(83419),y=i(10690),c=i(20437),o=i(80672),l=i(23777),a=i(23031),u=i(90260),v=new f({initialize:r(function(p,g,m,x,C,P){p===void 0&&(p=0),g===void 0&&(g=0),m===void 0&&(m=0),x===void 0&&(x=0),C===void 0&&(C=0),P===void 0&&(P=0),this.type=l.TRIANGLE,this.x1=p,this.y1=g,this.x2=m,this.y2=x,this.x3=C,this.y3=P},"Triangle"),contains:r(function(d,p){return y(this,d,p)},"contains"),getPoint:r(function(d,p){return c(this,d,p)},"getPoint"),getPoints:r(function(d,p,g){return o(this,d,p,g)},"getPoints"),getRandomPoint:r(function(d){return u(this,d)},"getRandomPoint"),setTo:r(function(d,p,g,m,x,C){return d===void 0&&(d=0),p===void 0&&(p=0),g===void 0&&(g=0),m===void 0&&(m=0),x===void 0&&(x=0),C===void 0&&(C=0),this.x1=d,this.y1=p,this.x2=g,this.y2=m,this.x3=x,this.y3=C,this},"setTo"),getLineA:r(function(d){return d===void 0&&(d=new a),d.setTo(this.x1,this.y1,this.x2,this.y2),d},"getLineA"),getLineB:r(function(d){return d===void 0&&(d=new a),d.setTo(this.x2,this.y2,this.x3,this.y3),d},"getLineB"),getLineC:r(function(d){return d===void 0&&(d=new a),d.setTo(this.x3,this.y3,this.x1,this.y1),d},"getLineC"),left:{get:r(function(){return Math.min(this.x1,this.x2,this.x3)},"get"),set:r(function(d){var p=0;this.x1<=this.x2&&this.x1<=this.x3?p=this.x1-d:this.x2<=this.x1&&this.x2<=this.x3?p=this.x2-d:p=this.x3-d,this.x1-=p,this.x2-=p,this.x3-=p},"set")},right:{get:r(function(){return Math.max(this.x1,this.x2,this.x3)},"get"),set:r(function(d){var p=0;this.x1>=this.x2&&this.x1>=this.x3?p=this.x1-d:this.x2>=this.x1&&this.x2>=this.x3?p=this.x2-d:p=this.x3-d,this.x1-=p,this.x2-=p,this.x3-=p},"set")},top:{get:r(function(){return Math.min(this.y1,this.y2,this.y3)},"get"),set:r(function(d){var p=0;this.y1<=this.y2&&this.y1<=this.y3?p=this.y1-d:this.y2<=this.y1&&this.y2<=this.y3?p=this.y2-d:p=this.y3-d,this.y1-=p,this.y2-=p,this.y3-=p},"set")},bottom:{get:r(function(){return Math.max(this.y1,this.y2,this.y3)},"get"),set:r(function(d){var p=0;this.y1>=this.y2&&this.y1>=this.y3?p=this.y1-d:this.y2>=this.y1&&this.y2>=this.y3?p=this.y2-d:p=this.y3-d,this.y1-=p,this.y2-=p,this.y3-=p},"set")}});n.exports=v},84435:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(16483);f.Area=i(41658),f.BuildEquilateral=i(39208),f.BuildFromPolygon=i(39545),f.BuildRight=i(90301),f.CenterOn=i(23707),f.Centroid=i(97523),f.CircumCenter=i(24951),f.CircumCircle=i(85614),f.Clone=i(74422),f.Contains=i(10690),f.ContainsArray=i(48653),f.ContainsPoint=i(96006),f.CopyFrom=i(71326),f.Decompose=i(71694),f.Equals=i(33522),f.GetPoint=i(20437),f.GetPoints=i(80672),f.InCenter=i(39757),f.Perimeter=i(1376),f.Offset=i(13584),f.Random=i(90260),f.Rotate=i(52172),f.RotateAroundPoint=i(49907),f.RotateAroundXY=i(99614),n.exports=f},74457:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i,f,y){return{gameObject:i,enabled:!0,draggable:!1,dropZone:!1,cursor:!1,target:null,camera:null,hitArea:f,hitAreaCallback:y,hitAreaDebug:null,customHitArea:!1,localX:0,localY:0,dragState:0,dragStartX:0,dragStartY:0,dragStartXGlobal:0,dragStartYGlobal:0,dragX:0,dragY:0}},"CreateInteractiveObject");n.exports=T},84409:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i,f){return function(y,c,o,l){var a=i.getPixelAlpha(c,o,l.texture.key,l.frame.name);return a&&a>=f}},"CreatePixelPerfectHandler");n.exports=T},7003:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(83419),y=i(93301),c=i(50792),o=i(8214),l=i(8443),a=i(78970),u=i(85098),v=i(42515),d=i(36210),p=i(61340),g=i(85955),m=new f({initialize:r(function(C,P){this.game=C,this.scaleManager,this.canvas,this.config=P,this.enabled=!0,this.events=new c,this.isOver=!0,this.defaultCursor="",this.keyboard=P.inputKeyboard?new a(this):null,this.mouse=P.inputMouse?new u(this):null,this.touch=P.inputTouch?new d(this):null,this.pointers=[],this.pointersTotal=P.inputActivePointers,P.inputTouch&&this.pointersTotal===1&&(this.pointersTotal=2);for(var A=0;A<=this.pointersTotal;A++){var R=new v(this,A);R.smoothFactor=P.inputSmoothFactor,this.pointers.push(R)}this.mousePointer=P.inputMouse?this.pointers[0]:null,this.activePointer=this.pointers[0],this.globalTopOnly=!0,this.time=0,this._tempPoint={x:0,y:0},this._tempHitTest=[],this._tempMatrix=new p,this._tempMatrix2=new p,this._tempSkip=!1,this.mousePointerContainer=[this.mousePointer],C.events.once(l.BOOT,this.boot,this)},"InputManager"),boot:r(function(){var x=this.game,C=x.events;this.canvas=x.canvas,this.scaleManager=x.scale,this.events.emit(o.MANAGER_BOOT),C.on(l.PRE_RENDER,this.preRender,this),C.once(l.DESTROY,this.destroy,this)},"boot"),setCanvasOver:r(function(x){this.isOver=!0,this.events.emit(o.GAME_OVER,x)},"setCanvasOver"),setCanvasOut:r(function(x){this.isOver=!1,this.events.emit(o.GAME_OUT,x)},"setCanvasOut"),preRender:r(function(){var x=this.game.loop.now,C=this.game.loop.delta,P=this.game.scene.getScenes(!0,!0);this.time=x,this.events.emit(o.MANAGER_UPDATE);for(var A=0;A<P.length;A++){var R=P[A];if(R.sys.input&&R.sys.input.updatePoll(x,C)&&this.globalTopOnly)return}},"preRender"),setDefaultCursor:r(function(x){this.defaultCursor=x,this.canvas.style.cursor!==x&&(this.canvas.style.cursor=x)},"setDefaultCursor"),setCursor:r(function(x){x.cursor&&(this.canvas.style.cursor=x.cursor)},"setCursor"),resetCursor:r(function(x){x.cursor&&this.canvas&&(this.canvas.style.cursor=this.defaultCursor)},"resetCursor"),addPointer:r(function(x){x===void 0&&(x=1);var C=[];this.pointersTotal+x>10&&(x=10-this.pointersTotal);for(var P=0;P<x;P++){var A=this.pointers.length,R=new v(this,A);R.smoothFactor=this.config.inputSmoothFactor,this.pointers.push(R),this.pointersTotal++,C.push(R)}return C},"addPointer"),updateInputPlugins:r(function(x,C){var P=this.game.scene.getScenes(!1,!0);this._tempSkip=!1;for(var A=0;A<P.length;A++){var R=P[A];if(R.sys.input){var L=R.sys.input.update(x,C);if(L&&this.globalTopOnly||this._tempSkip)return}}},"updateInputPlugins"),onTouchStart:r(function(x){for(var C=this.pointers,P=[],A=0;A<x.changedTouches.length;A++)for(var R=x.changedTouches[A],L=1;L<this.pointersTotal;L++){var O=C[L];if(!O.active){O.touchstart(R,x),this.activePointer=O,P.push(O);break}}this.updateInputPlugins(y.TOUCH_START,P)},"onTouchStart"),onTouchMove:r(function(x){for(var C=this.pointers,P=[],A=0;A<x.changedTouches.length;A++)for(var R=x.changedTouches[A],L=1;L<this.pointersTotal;L++){var O=C[L];if(O.active&&O.identifier===R.identifier){var w=document.elementFromPoint(R.clientX,R.clientY),b=w===this.canvas;!this.isOver&&b?this.setCanvasOver(x):this.isOver&&!b&&this.setCanvasOut(x),this.isOver&&(O.touchmove(R,x),this.activePointer=O,P.push(O));break}}this.updateInputPlugins(y.TOUCH_MOVE,P)},"onTouchMove"),onTouchEnd:r(function(x){for(var C=this.pointers,P=[],A=0;A<x.changedTouches.length;A++)for(var R=x.changedTouches[A],L=1;L<this.pointersTotal;L++){var O=C[L];if(O.active&&O.identifier===R.identifier){O.touchend(R,x),P.push(O);break}}this.updateInputPlugins(y.TOUCH_END,P)},"onTouchEnd"),onTouchCancel:r(function(x){for(var C=this.pointers,P=[],A=0;A<x.changedTouches.length;A++)for(var R=x.changedTouches[A],L=1;L<this.pointersTotal;L++){var O=C[L];if(O.active&&O.identifier===R.identifier){O.touchcancel(R,x),P.push(O);break}}this.updateInputPlugins(y.TOUCH_CANCEL,P)},"onTouchCancel"),onMouseDown:r(function(x){var C=this.mousePointer;C.down(x),C.updateMotion(),this.activePointer=C,this.updateInputPlugins(y.MOUSE_DOWN,this.mousePointerContainer)},"onMouseDown"),onMouseMove:r(function(x){var C=this.mousePointer;C.move(x),C.updateMotion(),this.activePointer=C,this.updateInputPlugins(y.MOUSE_MOVE,this.mousePointerContainer)},"onMouseMove"),onMouseUp:r(function(x){var C=this.mousePointer;C.up(x),C.updateMotion(),this.activePointer=C,this.updateInputPlugins(y.MOUSE_UP,this.mousePointerContainer)},"onMouseUp"),onMouseWheel:r(function(x){var C=this.mousePointer;C.wheel(x),this.activePointer=C,this.updateInputPlugins(y.MOUSE_WHEEL,this.mousePointerContainer)},"onMouseWheel"),onPointerLockChange:r(function(x){var C=this.mouse.locked;this.mousePointer.locked=C,this.events.emit(o.POINTERLOCK_CHANGE,x,C)},"onPointerLockChange"),inputCandidate:r(function(x,C){var P=x.input;if(!P||!P.enabled||!x.willRender(C))return!1;var A=!0,R=x.parentContainer;if(R)do{if(!R.willRender(C)){A=!1;break}R=R.parentContainer}while(R);return A},"inputCandidate"),hitTest:r(function(x,C,P,A){A===void 0&&(A=this._tempHitTest);var R=this._tempPoint,L=P.scrollX,O=P.scrollY;A.length=0;var w=x.x,b=x.y;P.getWorldPoint(w,b,R),x.worldX=R.x,x.worldY=R.y;for(var F={x:0,y:0},M=this._tempMatrix,I=this._tempMatrix2,B=0;B<C.length;B++){var G=C[B];if(this.inputCandidate(G,P)){var N=R.x+L*G.scrollFactorX-L,z=R.y+O*G.scrollFactorY-O;G.parentContainer?(G.getWorldTransformMatrix(M,I),M.applyInverse(N,z,F)):g(N,z,G.x,G.y,G.rotation,G.scaleX,G.scaleY,F),this.pointWithinHitArea(G,F.x,F.y)&&A.push(G)}}return A},"hitTest"),pointWithinHitArea:r(function(x,C,P){C+=x.displayOriginX,P+=x.displayOriginY;var A=x.input;return A&&A.hitAreaCallback(A.hitArea,C,P,x)?(A.localX=C,A.localY=P,!0):!1},"pointWithinHitArea"),pointWithinInteractiveObject:r(function(x,C,P){return x.hitArea?(C+=x.gameObject.displayOriginX,P+=x.gameObject.displayOriginY,x.localX=C,x.localY=P,x.hitAreaCallback(x.hitArea,C,P,x)):!1},"pointWithinInteractiveObject"),transformPointer:r(function(x,C,P,A){var R=x.position,L=x.prevPosition;L.x=R.x,L.y=R.y;var O=this.scaleManager.transformX(C),w=this.scaleManager.transformY(P),b=x.smoothFactor;!A||b===0?(R.x=O,R.y=w):(R.x=O*b+L.x*(1-b),R.y=w*b+L.y*(1-b))},"transformPointer"),destroy:r(function(){this.events.removeAllListeners(),this.game.events.off(l.PRE_RENDER),this.keyboard&&this.keyboard.destroy(),this.mouse&&this.mouse.destroy(),this.touch&&this.touch.destroy();for(var x=0;x<this.pointers.length;x++)this.pointers[x].destroy();this.pointers=[],this._tempHitTest=[],this._tempMatrix.destroy(),this.canvas=null,this.game=null},"destroy")});n.exports=m},48205:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(96503),y=i(87902),c=i(83419),o=i(93301),l=i(74457),a=i(84409),u=i(20339),v=i(8497),d=i(81154),p=i(8214),g=i(50792),m=i(95540),x=i(23777),C=i(89639),P=i(41212),A=i(37277),R=i(87841),L=i(37303),O=i(44594),w=i(16483),b=i(10690),F=new c({Extends:g,initialize:r(function(I){g.call(this),this.scene=I,this.systems=I.sys,this.settings=I.sys.settings,this.manager=I.sys.game.input,this.pluginEvents=new g,this.enabled=!0,this.displayList,this.cameras,C.install(this),this.mouse=this.manager.mouse,this.topOnly=!0,this.pollRate=-1,this._pollTimer=0;var B={cancelled:!1};this._eventContainer={stopPropagation:r(function(){B.cancelled=!0},"stopPropagation")},this._eventData=B,this.dragDistanceThreshold=0,this.dragTimeThreshold=0,this._temp=[],this._tempZones=[],this._list=[],this._pendingInsertion=[],this._pendingRemoval=[],this._draggable=[],this._drag={0:[],1:[],2:[],3:[],4:[],5:[],6:[],7:[],8:[],9:[],10:[]},this._dragState=[],this._over={0:[],1:[],2:[],3:[],4:[],5:[],6:[],7:[],8:[],9:[],10:[]},this._validTypes=["onDown","onUp","onOver","onOut","onMove","onDragStart","onDrag","onDragEnd","onDragEnter","onDragLeave","onDragOver","onDrop"],this._updatedThisFrame=!1,I.sys.events.once(O.BOOT,this.boot,this),I.sys.events.on(O.START,this.start,this)},"InputPlugin"),boot:r(function(){this.cameras=this.systems.cameras,this.displayList=this.systems.displayList,this.systems.events.once(O.DESTROY,this.destroy,this),this.pluginEvents.emit(p.BOOT)},"boot"),start:r(function(){var M=this.systems.events;M.on(O.TRANSITION_START,this.transitionIn,this),M.on(O.TRANSITION_OUT,this.transitionOut,this),M.on(O.TRANSITION_COMPLETE,this.transitionComplete,this),M.on(O.PRE_UPDATE,this.preUpdate,this),M.once(O.SHUTDOWN,this.shutdown,this),this.manager.events.on(p.GAME_OUT,this.onGameOut,this),this.manager.events.on(p.GAME_OVER,this.onGameOver,this),this.enabled=!0,this._dragState=[0,0,0,0,0,0,0,0,0,0],this.pluginEvents.emit(p.START)},"start"),onGameOver:r(function(M){this.isActive()&&this.emit(p.GAME_OVER,M.timeStamp,M)},"onGameOver"),onGameOut:r(function(M){this.isActive()&&this.emit(p.GAME_OUT,M.timeStamp,M)},"onGameOut"),preUpdate:r(function(){this.pluginEvents.emit(p.PRE_UPDATE);var M=this._pendingRemoval,I=this._pendingInsertion,B=M.length,G=I.length;if(!(B===0&&G===0)){for(var N=this._list,z=0;z<B;z++){var H=M[z],$=N.indexOf(H);$>-1&&(N.splice($,1),this.clear(H,!0))}this._pendingRemoval.length=0,this._list=N.concat(I.splice(0))}},"preUpdate"),isActive:r(function(){return this.enabled&&this.scene.sys.canInput()},"isActive"),updatePoll:r(function(M,I){if(!this.isActive())return!1;if(this.pluginEvents.emit(p.UPDATE,M,I),this._updatedThisFrame)return this._updatedThisFrame=!1,!1;var B,G=this.manager,N=G.pointers,z=G.pointersTotal;for(B=0;B<z;B++)N[B].updateMotion();if(this._list.length===0)return!1;var H=this.pollRate;if(H===-1)return!1;if(H>0)if(this._pollTimer-=I,this._pollTimer<0)this._pollTimer=this.pollRate;else return!1;var $=!1;for(B=0;B<z;B++){var V=0,Y=N[B];this._tempZones=[],this._temp=this.hitTestPointer(Y),this.sortGameObjects(this._temp,Y),this.sortDropZones(this._tempZones),this.topOnly&&(this._temp.length&&this._temp.splice(1),this._tempZones.length&&this._tempZones.splice(1)),V+=this.processOverOutEvents(Y),this.getDragState(Y)===2&&this.processDragThresholdEvent(Y,M),V>0&&($=!0)}return $},"updatePoll"),update:r(function(M,I){if(!this.isActive())return!1;for(var B=I.length,G=!1,N=0;N<B;N++){var z=0,H=I[N];switch(this._tempZones=[],this._temp=this.hitTestPointer(H),this.sortGameObjects(this._temp,H),this.sortDropZones(this._tempZones),this.topOnly&&(this._temp.length&&this._temp.splice(1),this._tempZones.length&&this._tempZones.splice(1)),M){case o.MOUSE_DOWN:z+=this.processDragDownEvent(H),z+=this.processDownEvents(H),z+=this.processOverOutEvents(H);break;case o.MOUSE_UP:z+=this.processDragUpEvent(H),z+=this.processUpEvents(H),z+=this.processOverOutEvents(H);break;case o.TOUCH_START:z+=this.processDragDownEvent(H),z+=this.processDownEvents(H),z+=this.processOverEvents(H);break;case o.TOUCH_END:case o.TOUCH_CANCEL:z+=this.processDragUpEvent(H),z+=this.processUpEvents(H),z+=this.processOutEvents(H);break;case o.MOUSE_MOVE:case o.TOUCH_MOVE:z+=this.processDragMoveEvent(H),z+=this.processMoveEvents(H),z+=this.processOverOutEvents(H);break;case o.MOUSE_WHEEL:z+=this.processWheelEvent(H);break}z>0&&(G=!0)}return this._updatedThisFrame=!0,G},"update"),clear:r(function(M,I){I===void 0&&(I=!1),this.disable(M);var B=M.input;B&&(this.removeDebug(M),this.manager.resetCursor(B),B.gameObject=void 0,B.target=void 0,B.hitArea=void 0,B.hitAreaCallback=void 0,B.callbackContext=void 0,M.input=null),I||this.queueForRemoval(M);var G=this._draggable.indexOf(M);return G>-1&&this._draggable.splice(G,1),M},"clear"),disable:r(function(M){var I=M.input;I&&(I.enabled=!1,I.dragState=0);for(var B=this._drag,G=this._over,N=this.manager,z=0,H;z<N.pointersTotal;z++)H=B[z].indexOf(M),H>-1&&B[z].splice(H,1),H=G[z].indexOf(M),H>-1&&G[z].splice(H,1);return this},"disable"),enable:r(function(M,I,B,G){return G===void 0&&(G=!1),M.input?M.input.enabled=!0:this.setHitArea(M,I,B),M.input&&G&&!M.input.dropZone&&(M.input.dropZone=G),this},"enable"),hitTestPointer:r(function(M){for(var I=this.cameras.getCamerasBelowPointer(M),B=0;B<I.length;B++){for(var G=I[B],N=this.manager.hitTest(M,this._list,G),z=0;z<N.length;z++){var H=N[z];H.input.dropZone&&this._tempZones.push(H)}if(N.length>0)return M.camera=G,N}return M.camera=I[0],[]},"hitTestPointer"),processDownEvents:r(function(M){var I=0,B=this._temp,G=this._eventData,N=this._eventContainer;G.cancelled=!1;for(var z=!1,H=0;H<B.length;H++){var $=B[H];if(!(!$.input||!$.input.enabled)){if(I++,$.emit(p.GAMEOBJECT_POINTER_DOWN,M,$.input.localX,$.input.localY,N),G.cancelled||!$.input||!$.input.enabled){z=!0;break}if(this.emit(p.GAMEOBJECT_DOWN,M,$,N),G.cancelled||!$.input){z=!0;break}}}return!z&&this.manager&&(M.downElement===this.manager.game.canvas?this.emit(p.POINTER_DOWN,M,B):this.emit(p.POINTER_DOWN_OUTSIDE,M)),I},"processDownEvents"),getDragState:r(function(M){return this._dragState[M.id]},"getDragState"),setDragState:r(function(M,I){this._dragState[M.id]=I},"setDragState"),processDragThresholdEvent:r(function(M,I){var B=!1,G=this.dragTimeThreshold,N=this.dragDistanceThreshold;if((N>0&&u(M.x,M.y,M.downX,M.downY)>=N||G>0&&I>=M.downTime+G)&&(B=!0),B)return this.setDragState(M,3),this.processDragStartList(M)},"processDragThresholdEvent"),processDragStartList:r(function(M){if(this.getDragState(M)!==3)return 0;for(var I=this._drag[M.id],B=0;B<I.length;B++){var G=I[B],N=G.input;N.dragState=2,N.dragStartX=G.x,N.dragStartY=G.y,N.dragStartXGlobal=M.worldX,N.dragStartYGlobal=M.worldY,N.dragX=N.dragStartXGlobal-N.dragStartX,N.dragY=N.dragStartYGlobal-N.dragStartY,G.emit(p.GAMEOBJECT_DRAG_START,M,N.dragX,N.dragY),this.emit(p.DRAG_START,M,G)}return this.setDragState(M,4),I.length},"processDragStartList"),processDragDownEvent:r(function(M){var I=this._temp;if(this._draggable.length===0||I.length===0||!M.primaryDown||this.getDragState(M)!==0)return 0;this.setDragState(M,1);for(var B=[],G=0;G<I.length;G++){var N=I[G];N.input.draggable&&N.input.dragState===0&&B.push(N)}return B.length===0?(this.setDragState(M,0),0):(B.length>1&&(this.sortGameObjects(B,M),this.topOnly&&B.splice(1)),this._drag[M.id]=B,this.dragDistanceThreshold===0&&this.dragTimeThreshold===0?(this.setDragState(M,3),this.processDragStartList(M)):(this.setDragState(M,2),0))},"processDragDownEvent"),processDragMoveEvent:r(function(M){if(this.getDragState(M)===2&&this.processDragThresholdEvent(M,this.manager.game.loop.now),this.getDragState(M)!==4)return 0;for(var I=this._tempZones,B=this._drag[M.id],G=0;G<B.length;G++){var N=B[G],z=N.input,H=z.target;if(H){var $=I.indexOf(H);$===0?(N.emit(p.GAMEOBJECT_DRAG_OVER,M,H),this.emit(p.DRAG_OVER,M,N,H)):$>0?(N.emit(p.GAMEOBJECT_DRAG_LEAVE,M,H),this.emit(p.DRAG_LEAVE,M,N,H),z.target=I[0],H=z.target,N.emit(p.GAMEOBJECT_DRAG_ENTER,M,H),this.emit(p.DRAG_ENTER,M,N,H)):(N.emit(p.GAMEOBJECT_DRAG_LEAVE,M,H),this.emit(p.DRAG_LEAVE,M,N,H),I[0]?(z.target=I[0],H=z.target,N.emit(p.GAMEOBJECT_DRAG_ENTER,M,H),this.emit(p.DRAG_ENTER,M,N,H)):z.target=null)}else!H&&I[0]&&(z.target=I[0],H=z.target,N.emit(p.GAMEOBJECT_DRAG_ENTER,M,H),this.emit(p.DRAG_ENTER,M,N,H));var V,Y;if(!N.parentContainer)V=M.worldX-z.dragX,Y=M.worldY-z.dragY;else{var D=M.worldX-z.dragStartXGlobal,U=M.worldY-z.dragStartYGlobal,W=N.getParentRotation(),k=D*Math.cos(W)+U*Math.sin(W),X=U*Math.cos(W)-D*Math.sin(W);k*=1/N.parentContainer.scaleX,X*=1/N.parentContainer.scaleY,V=k+z.dragStartX,Y=X+z.dragStartY}N.emit(p.GAMEOBJECT_DRAG,M,V,Y),this.emit(p.DRAG,M,N,V,Y)}return B.length},"processDragMoveEvent"),processDragUpEvent:r(function(M){for(var I=this._drag[M.id],B=0;B<I.length;B++){var G=I[B],N=G.input;if(N&&N.dragState===2){N.dragState=0,N.dragX=N.localX-G.displayOriginX,N.dragY=N.localY-G.displayOriginY;var z=!1,H=N.target;H&&(G.emit(p.GAMEOBJECT_DROP,M,H),this.emit(p.DROP,M,G,H),N.target=null,z=!0),G.input&&G.input.enabled&&(G.emit(p.GAMEOBJECT_DRAG_END,M,N.dragX,N.dragY,z),this.emit(p.DRAG_END,M,G,z))}}return this.setDragState(M,0),I.splice(0),0},"processDragUpEvent"),processMoveEvents:r(function(M){var I=0,B=this._temp,G=this._eventData,N=this._eventContainer;G.cancelled=!1;for(var z=!1,H=0;H<B.length;H++){var $=B[H];if(!(!$.input||!$.input.enabled)){if(I++,$.emit(p.GAMEOBJECT_POINTER_MOVE,M,$.input.localX,$.input.localY,N),G.cancelled||!$.input||!$.input.enabled){z=!0;break}if(this.emit(p.GAMEOBJECT_MOVE,M,$,N),G.cancelled||!$.input||!$.input.enabled){z=!0;break}if(this.topOnly)break}}return z||this.emit(p.POINTER_MOVE,M,B),I},"processMoveEvents"),processWheelEvent:r(function(M){var I=0,B=this._temp,G=this._eventData,N=this._eventContainer;G.cancelled=!1;for(var z=!1,H=M.deltaX,$=M.deltaY,V=M.deltaZ,Y=0;Y<B.length;Y++){var D=B[Y];if(!(!D.input||!D.input.enabled)){if(I++,D.emit(p.GAMEOBJECT_POINTER_WHEEL,M,H,$,V,N),G.cancelled||!D.input||!D.input.enabled){z=!0;break}if(this.emit(p.GAMEOBJECT_WHEEL,M,D,H,$,V,N),G.cancelled||!D.input||!D.input.enabled){z=!0;break}}}return z||this.emit(p.POINTER_WHEEL,M,B,H,$,V),I},"processWheelEvent"),processOverEvents:r(function(M){var I=this._temp,B=0,G=I.length,N=[];if(G>0){var z=this.manager,H=this._eventData,$=this._eventContainer;H.cancelled=!1;for(var V=!1,Y=0;Y<G;Y++){var D=I[Y];if(!(!D.input||!D.input.enabled)){if(N.push(D),z.setCursor(D.input),D.emit(p.GAMEOBJECT_POINTER_OVER,M,D.input.localX,D.input.localY,$),B++,H.cancelled||!D.input||!D.input.enabled){V=!0;break}if(this.emit(p.GAMEOBJECT_OVER,M,D,$),H.cancelled||!D.input||!D.input.enabled){V=!0;break}}}V||this.emit(p.POINTER_OVER,M,N)}return this._over[M.id]=N,B},"processOverEvents"),processOutEvents:r(function(M){var I=this._over[M.id],B=0,G=I.length;if(G>0){var N=this.manager,z=this._eventData,H=this._eventContainer;z.cancelled=!1;var $=!1;this.sortGameObjects(I,M);for(var V=0;V<G;V++){var Y=I[V];if(Y=I[V],!(!Y.input||!Y.input.enabled)){if(N.resetCursor(Y.input),Y.emit(p.GAMEOBJECT_POINTER_OUT,M,H),B++,z.cancelled||!Y.input||!Y.input.enabled){$=!0;break}if(this.emit(p.GAMEOBJECT_OUT,M,Y,H),z.cancelled||!Y.input||!Y.input.enabled){$=!0;break}$||this.emit(p.POINTER_OUT,M,I)}}this._over[M.id]=[]}return B},"processOutEvents"),processOverOutEvents:r(function(M){var I=this._temp,B,G,N=[],z=[],H=[],$=this._over[M.id],V=this._drag[M.id],Y=this.manager;for(B=0;B<$.length;B++)G=$[B],I.indexOf(G)===-1&&V.indexOf(G)===-1?N.push(G):H.push(G);for(B=0;B<I.length;B++)G=I[B],$.indexOf(G)===-1&&z.push(G);var D=N.length,U=0,W=this._eventData,k=this._eventContainer;W.cancelled=!1;var X=!1;if(D>0){for(this.sortGameObjects(N,M),B=0;B<D;B++)if(G=N[B],!(!G.input||!G.input.enabled)){if(Y.resetCursor(G.input),G.emit(p.GAMEOBJECT_POINTER_OUT,M,k),U++,W.cancelled||!G.input||!G.input.enabled){X=!0;break}if(this.emit(p.GAMEOBJECT_OUT,M,G,k),W.cancelled||!G.input||!G.input.enabled){X=!0;break}}X||this.emit(p.POINTER_OUT,M,N)}if(D=z.length,W.cancelled=!1,X=!1,D>0){for(this.sortGameObjects(z,M),B=0;B<D;B++)if(G=z[B],!(!G.input||!G.input.enabled)){if(Y.setCursor(G.input),G.emit(p.GAMEOBJECT_POINTER_OVER,M,G.input.localX,G.input.localY,k),U++,W.cancelled||!G.input||!G.input.enabled){X=!0;break}if(this.emit(p.GAMEOBJECT_OVER,M,G,k),W.cancelled||!G.input||!G.input.enabled){X=!0;break}}X||this.emit(p.POINTER_OVER,M,z)}return $=H.concat(z),this._over[M.id]=this.sortGameObjects($,M),U},"processOverOutEvents"),processUpEvents:r(function(M){var I=this._temp,B=this._eventData,G=this._eventContainer;B.cancelled=!1;for(var N=!1,z=0;z<I.length;z++){var H=I[z];if(!(!H.input||!H.input.enabled)){if(H.emit(p.GAMEOBJECT_POINTER_UP,M,H.input.localX,H.input.localY,G),B.cancelled||!H.input||!H.input.enabled){N=!0;break}if(this.emit(p.GAMEOBJECT_UP,M,H,G),B.cancelled||!H.input||!H.input.enabled){N=!0;break}}}return!N&&this.manager&&(M.upElement===this.manager.game.canvas?this.emit(p.POINTER_UP,M,I):this.emit(p.POINTER_UP_OUTSIDE,M)),I.length},"processUpEvents"),queueForInsertion:r(function(M){return this._pendingInsertion.indexOf(M)===-1&&this._list.indexOf(M)===-1&&this._pendingInsertion.push(M),this},"queueForInsertion"),queueForRemoval:r(function(M){return this._pendingRemoval.push(M),this},"queueForRemoval"),setDraggable:r(function(M,I){I===void 0&&(I=!0),Array.isArray(M)||(M=[M]);for(var B=0;B<M.length;B++){var G=M[B];G.input.draggable=I;var N=this._draggable.indexOf(G);I&&N===-1?this._draggable.push(G):!I&&N>-1&&this._draggable.splice(N,1)}return this},"setDraggable"),makePixelPerfect:r(function(M){M===void 0&&(M=1);var I=this.systems.textures;return a(I,M)},"makePixelPerfect"),setHitArea:r(function(M,I,B){if(I===void 0)return this.setHitAreaFromTexture(M);Array.isArray(M)||(M=[M]);var G=!1,N=!1,z=!1,H=!1,$=!1,V=!0;if(P(I)&&Object.keys(I).length){var Y=I,D=M.some(function(K){return K.hasOwnProperty("faces")});if(!D){I=m(Y,"hitArea",null),B=m(Y,"hitAreaCallback",null),$=m(Y,"pixelPerfect",!1);var U=m(Y,"alphaTolerance",1);$&&(I={},B=this.makePixelPerfect(U))}G=m(Y,"draggable",!1),N=m(Y,"dropZone",!1),z=m(Y,"cursor",!1),H=m(Y,"useHandCursor",!1),(!I||!B)&&(this.setHitAreaFromTexture(M),V=!1)}else typeof I=="function"&&!B&&(B=I,I={});for(var W=0;W<M.length;W++){var k=M[W];if($&&k.type==="Container"){console.warn("Cannot pixelPerfect test a Container. Use a custom callback.");continue}var X=k.input?k.input:l(k,I,B);X.customHitArea=V,X.dropZone=N,X.cursor=H?"pointer":z,k.input=X,G&&this.setDraggable(k),this.queueForInsertion(k)}return this},"setHitArea"),setHitAreaCircle:r(function(M,I,B,G,N){N===void 0&&(N=y);var z=new f(I,B,G);return this.setHitArea(M,z,N)},"setHitAreaCircle"),setHitAreaEllipse:r(function(M,I,B,G,N,z){z===void 0&&(z=d);var H=new v(I,B,G,N);return this.setHitArea(M,H,z)},"setHitAreaEllipse"),setHitAreaFromTexture:r(function(M,I){I===void 0&&(I=L),Array.isArray(M)||(M=[M]);for(var B=0;B<M.length;B++){var G=M[B],N=G.frame,z=0,H=0;if(G.width?(z=G.width,H=G.height):N&&(z=N.realWidth,H=N.realHeight),G.type==="Container"&&(z===0||H===0)){console.warn("Container.setInteractive must specify a Shape or call setSize() first");continue}z!==0&&H!==0&&(G.input=l(G,new R(0,0,z,H),I),this.queueForInsertion(G))}return this},"setHitAreaFromTexture"),setHitAreaRectangle:r(function(M,I,B,G,N,z){z===void 0&&(z=L);var H=new R(I,B,G,N);return this.setHitArea(M,H,z)},"setHitAreaRectangle"),setHitAreaTriangle:r(function(M,I,B,G,N,z,H,$){$===void 0&&($=b);var V=new w(I,B,G,N,z,H);return this.setHitArea(M,V,$)},"setHitAreaTriangle"),enableDebug:r(function(M,I){I===void 0&&(I=65280);var B=M.input;if(!B||!B.hitArea)return this;var G=B.hitArea,N=G.type,z=B.hitAreaDebug,H=this.systems.add,$=this.systems.updateList;z&&($.remove(z),z.destroy(),z=null);var V=0,Y=0;switch(N){case x.CIRCLE:z=H.arc(0,0,G.radius),V=G.x-G.radius,Y=G.y-G.radius;break;case x.ELLIPSE:z=H.ellipse(0,0,G.width,G.height),V=G.x-G.width/2,Y=G.y-G.height/2;break;case x.LINE:z=H.line(0,0,G.x1,G.y1,G.x2,G.y2);break;case x.POLYGON:z=H.polygon(0,0,G.points);break;case x.RECTANGLE:z=H.rectangle(0,0,G.width,G.height),V=G.x,Y=G.y;break;case x.TRIANGLE:z=H.triangle(0,0,G.x1,G.y1,G.x2,G.y2,G.x3,G.y3);break}return z&&(z.isFilled=!1,z.strokeColor=I,z.preUpdate=function(){z.setVisible(M.visible),z.setStrokeStyle(1/M.scale,z.strokeColor),z.setDisplayOrigin(M.displayOriginX,M.displayOriginY);var D=M.x,U=M.y,W=M.rotation,k=M.scaleX,X=M.scaleY;if(M.parentContainer){var K=M.getWorldTransformMatrix();D=K.tx,U=K.ty,W=K.rotation,k=K.scaleX,X=K.scaleY}z.setRotation(W),z.setScale(k,X),z.setPosition(D+V*k,U+Y*X),z.setScrollFactor(M.scrollFactorX,M.scrollFactorY),z.setDepth(M.depth)},$.add(z),B.hitAreaDebug=z),this},"enableDebug"),removeDebug:r(function(M){var I=M.input;if(I&&I.hitAreaDebug){var B=I.hitAreaDebug;B.destroy(),I.hitAreaDebug=null}return this},"removeDebug"),setPollAlways:r(function(){return this.setPollRate(0)},"setPollAlways"),setPollOnMove:r(function(){return this.setPollRate(-1)},"setPollOnMove"),setPollRate:r(function(M){return this.pollRate=M,this._pollTimer=0,this},"setPollRate"),setGlobalTopOnly:r(function(M){return this.manager.globalTopOnly=M,this},"setGlobalTopOnly"),setTopOnly:r(function(M){return this.topOnly=M,this},"setTopOnly"),sortGameObjects:r(function(M,I){if(M.length<2||!I.camera)return M;var B=I.camera.renderList;return M.sort(function(G,N){var z=Math.max(B.indexOf(G),0),H=Math.max(B.indexOf(N),0);return H-z})},"sortGameObjects"),sortDropZones:r(function(M){return M.length<2?M:(this.scene.sys.depthSort(),M.sort(this.sortDropZoneHandler.bind(this)))},"sortDropZones"),sortDropZoneHandler:r(function(M,I){if(!M.parentContainer&&!I.parentContainer)return this.displayList.getIndex(I)-this.displayList.getIndex(M);if(M.parentContainer===I.parentContainer)return I.parentContainer.getIndex(I)-M.parentContainer.getIndex(M);if(M.parentContainer===I)return-1;if(I.parentContainer===M)return 1;for(var B=M.getIndexList(),G=I.getIndexList(),N=Math.min(B.length,G.length),z=0;z<N;z++){var H=B[z],$=G[z];if(H!==$)return $-H}return G.length-B.length},"sortDropZoneHandler"),stopPropagation:r(function(){return this.manager._tempSkip=!0,this},"stopPropagation"),addPointer:r(function(M){return this.manager.addPointer(M)},"addPointer"),setDefaultCursor:r(function(M){return this.manager.setDefaultCursor(M),this},"setDefaultCursor"),transitionIn:r(function(){this.enabled=this.settings.transitionAllowInput},"transitionIn"),transitionComplete:r(function(){this.settings.transitionAllowInput||(this.enabled=!0)},"transitionComplete"),transitionOut:r(function(){this.enabled=this.settings.transitionAllowInput},"transitionOut"),shutdown:r(function(){this.pluginEvents.emit(p.SHUTDOWN),this._temp.length=0,this._list.length=0,this._draggable.length=0,this._pendingRemoval.length=0,this._pendingInsertion.length=0,this._dragState.length=0;for(var M=0;M<10;M++)this._drag[M]=[],this._over[M]=[];this.removeAllListeners();var I=this.manager;I.canvas.style.cursor=I.defaultCursor;var B=this.systems.events;B.off(O.TRANSITION_START,this.transitionIn,this),B.off(O.TRANSITION_OUT,this.transitionOut,this),B.off(O.TRANSITION_COMPLETE,this.transitionComplete,this),B.off(O.PRE_UPDATE,this.preUpdate,this),I.events.off(p.GAME_OUT,this.onGameOut,this),I.events.off(p.GAME_OVER,this.onGameOver,this),B.off(O.SHUTDOWN,this.shutdown,this)},"shutdown"),resetPointers:r(function(){for(var M=this.manager.pointers,I=0;I<M.length;I++)M[I].reset()},"resetPointers"),destroy:r(function(){this.shutdown(),this.pluginEvents.emit(p.DESTROY),this.pluginEvents.removeAllListeners(),this.scene.sys.events.off(O.START,this.start,this),this.scene=null,this.cameras=null,this.manager=null,this.events=null,this.mouse=null},"destroy"),x:{get:r(function(){return this.manager.activePointer.x},"get")},y:{get:r(function(){return this.manager.activePointer.y},"get")},isOver:{get:r(function(){return this.manager.isOver},"get")},mousePointer:{get:r(function(){return this.manager.mousePointer},"get")},activePointer:{get:r(function(){return this.manager.activePointer},"get")},pointer1:{get:r(function(){return this.manager.pointers[1]},"get")},pointer2:{get:r(function(){return this.manager.pointers[2]},"get")},pointer3:{get:r(function(){return this.manager.pointers[3]},"get")},pointer4:{get:r(function(){return this.manager.pointers[4]},"get")},pointer5:{get:r(function(){return this.manager.pointers[5]},"get")},pointer6:{get:r(function(){return this.manager.pointers[6]},"get")},pointer7:{get:r(function(){return this.manager.pointers[7]},"get")},pointer8:{get:r(function(){return this.manager.pointers[8]},"get")},pointer9:{get:r(function(){return this.manager.pointers[9]},"get")},pointer10:{get:r(function(){return this.manager.pointers[10]},"get")}});A.register("InputPlugin",F,"input"),n.exports=F},89639:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(35154),y={},c={};c.register=function(o,l,a,u,v){y[o]={plugin:l,mapping:a,settingsKey:u,configKey:v}},c.getPlugin=function(o){return y[o]},c.install=function(o){var l=o.scene.sys,a=l.settings.input,u=l.game.config;for(var v in y){var d=y[v].plugin,p=y[v].mapping,g=y[v].settingsKey,m=y[v].configKey;f(a,g,u[m])&&(o[p]=new d(o))}},c.remove=function(o){y.hasOwnProperty(o)&&delete y[o]},n.exports=c},42515:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(31040),y=i(83419),c=i(20339),o=i(43855),l=i(47235),a=i(26099),u=i(25892),v=new y({initialize:r(function(p,g){this.manager=p,this.id=g,this.event,this.downElement,this.upElement,this.camera=null,this.button=0,this.buttons=0,this.position=new a,this.prevPosition=new a,this.midPoint=new a(-1,-1),this.velocity=new a,this.angle=0,this.distance=0,this.smoothFactor=0,this.motionFactor=.2,this.worldX=0,this.worldY=0,this.moveTime=0,this.downX=0,this.downY=0,this.downTime=0,this.upX=0,this.upY=0,this.upTime=0,this.primaryDown=!1,this.isDown=!1,this.wasTouch=!1,this.wasCanceled=!1,this.movementX=0,this.movementY=0,this.identifier=0,this.pointerId=null,this.active=g===0,this.locked=!1,this.deltaX=0,this.deltaY=0,this.deltaZ=0},"Pointer"),updateWorldPoint:r(function(d){var p=d.getWorldPoint(this.x,this.y);return this.worldX=p.x,this.worldY=p.y,this},"updateWorldPoint"),positionToCamera:r(function(d,p){return d.getWorldPoint(this.x,this.y,p)},"positionToCamera"),updateMotion:r(function(){var d=this.position.x,p=this.position.y,g=this.midPoint.x,m=this.midPoint.y;if(!(d===g&&p===m)){var x=l(this.motionFactor,g,d),C=l(this.motionFactor,m,p);o(x,d,.1)&&(x=d),o(C,p,.1)&&(C=p),this.midPoint.set(x,C);var P=d-x,A=p-C;this.velocity.set(P,A),this.angle=f(x,C,d,p),this.distance=Math.sqrt(P*P+A*A)}},"updateMotion"),up:r(function(d){"buttons"in d&&(this.buttons=d.buttons),this.event=d,this.button=d.button,this.upElement=d.target,this.manager.transformPointer(this,d.pageX,d.pageY,!1),d.button===0&&(this.primaryDown=!1,this.upX=this.x,this.upY=this.y),this.buttons===0&&(this.isDown=!1,this.upTime=d.timeStamp,this.wasTouch=!1)},"up"),down:r(function(d){"buttons"in d&&(this.buttons=d.buttons),this.event=d,this.button=d.button,this.downElement=d.target,this.manager.transformPointer(this,d.pageX,d.pageY,!1),d.button===0&&(this.primaryDown=!0,this.downX=this.x,this.downY=this.y),u.macOS&&d.ctrlKey&&(this.buttons=2,this.primaryDown=!1),this.isDown||(this.isDown=!0,this.downTime=d.timeStamp),this.wasTouch=!1},"down"),move:r(function(d){"buttons"in d&&(this.buttons=d.buttons),this.event=d,this.manager.transformPointer(this,d.pageX,d.pageY,!0),this.locked&&(this.movementX=d.movementX||d.mozMovementX||d.webkitMovementX||0,this.movementY=d.movementY||d.mozMovementY||d.webkitMovementY||0),this.moveTime=d.timeStamp,this.wasTouch=!1},"move"),wheel:r(function(d){"buttons"in d&&(this.buttons=d.buttons),this.event=d,this.manager.transformPointer(this,d.pageX,d.pageY,!1),this.deltaX=d.deltaX,this.deltaY=d.deltaY,this.deltaZ=d.deltaZ,this.wasTouch=!1},"wheel"),touchstart:r(function(d,p){d.pointerId&&(this.pointerId=d.pointerId),this.identifier=d.identifier,this.target=d.target,this.active=!0,this.buttons=1,this.event=p,this.downElement=d.target,this.manager.transformPointer(this,d.pageX,d.pageY,!1),this.primaryDown=!0,this.downX=this.x,this.downY=this.y,this.downTime=p.timeStamp,this.isDown=!0,this.wasTouch=!0,this.wasCanceled=!1,this.updateMotion()},"touchstart"),touchmove:r(function(d,p){this.event=p,this.manager.transformPointer(this,d.pageX,d.pageY,!0),this.moveTime=p.timeStamp,this.wasTouch=!0,this.updateMotion()},"touchmove"),touchend:r(function(d,p){this.buttons=0,this.event=p,this.upElement=d.target,this.manager.transformPointer(this,d.pageX,d.pageY,!1),this.primaryDown=!1,this.upX=this.x,this.upY=this.y,this.upTime=p.timeStamp,this.isDown=!1,this.wasTouch=!0,this.wasCanceled=!1,this.active=!1,this.updateMotion()},"touchend"),touchcancel:r(function(d,p){this.buttons=0,this.event=p,this.upElement=d.target,this.manager.transformPointer(this,d.pageX,d.pageY,!1),this.primaryDown=!1,this.upX=this.x,this.upY=this.y,this.upTime=p.timeStamp,this.isDown=!1,this.wasTouch=!0,this.wasCanceled=!0,this.active=!1},"touchcancel"),noButtonDown:r(function(){return this.buttons===0},"noButtonDown"),leftButtonDown:r(function(){return!!(this.buttons&1)},"leftButtonDown"),rightButtonDown:r(function(){return!!(this.buttons&2)},"rightButtonDown"),middleButtonDown:r(function(){return!!(this.buttons&4)},"middleButtonDown"),backButtonDown:r(function(){return!!(this.buttons&8)},"backButtonDown"),forwardButtonDown:r(function(){return!!(this.buttons&16)},"forwardButtonDown"),leftButtonReleased:r(function(){return this.button===0&&!this.isDown},"leftButtonReleased"),rightButtonReleased:r(function(){return this.button===2&&!this.isDown},"rightButtonReleased"),middleButtonReleased:r(function(){return this.button===1&&!this.isDown},"middleButtonReleased"),backButtonReleased:r(function(){return this.button===3&&!this.isDown},"backButtonReleased"),forwardButtonReleased:r(function(){return this.button===4&&!this.isDown},"forwardButtonReleased"),getDistance:r(function(){return this.isDown?c(this.downX,this.downY,this.x,this.y):c(this.downX,this.downY,this.upX,this.upY)},"getDistance"),getDistanceX:r(function(){return this.isDown?Math.abs(this.downX-this.x):Math.abs(this.downX-this.upX)},"getDistanceX"),getDistanceY:r(function(){return this.isDown?Math.abs(this.downY-this.y):Math.abs(this.downY-this.upY)},"getDistanceY"),getDuration:r(function(){return this.isDown?this.manager.time-this.downTime:this.upTime-this.downTime},"getDuration"),getAngle:r(function(){return this.isDown?f(this.downX,this.downY,this.x,this.y):f(this.downX,this.downY,this.upX,this.upY)},"getAngle"),getInterpolatedPosition:r(function(d,p){d===void 0&&(d=10),p===void 0&&(p=[]);for(var g=this.prevPosition.x,m=this.prevPosition.y,x=this.position.x,C=this.position.y,P=0;P<d;P++){var A=1/d*P;p[P]={x:l(A,g,x),y:l(A,m,C)}}return p},"getInterpolatedPosition"),reset:r(function(){this.event=null,this.downElement=null,this.upElement=null,this.button=0,this.buttons=0,this.position.set(0,0),this.prevPosition.set(0,0),this.midPoint.set(-1,-1),this.velocity.set(0,0),this.angle=0,this.distance=0,this.worldX=0,this.worldY=0,this.downX=0,this.downY=0,this.upX=0,this.upY=0,this.moveTime=0,this.upTime=0,this.downTime=0,this.primaryDown=!1,this.isDown=!1,this.wasTouch=!1,this.wasCanceled=!1,this.movementX=0,this.movementY=0,this.identifier=0,this.pointerId=null,this.deltaX=0,this.deltaY=0,this.deltaZ=0,this.active=this.id===0},"reset"),destroy:r(function(){this.camera=null,this.manager=null,this.position=null},"destroy"),x:{get:r(function(){return this.position.x},"get"),set:r(function(d){this.position.x=d},"set")},y:{get:r(function(){return this.position.y},"get"),set:r(function(d){this.position.y=d},"set")},time:{get:r(function(){return this.event?this.event.timeStamp:0},"get")}});n.exports=v},93301:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={MOUSE_DOWN:0,MOUSE_MOVE:1,MOUSE_UP:2,TOUCH_START:3,TOUCH_MOVE:4,TOUCH_END:5,POINTER_LOCK_CHANGE:6,TOUCH_CANCEL:7,MOUSE_WHEEL:8};n.exports=T},7179:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="boot"},85375:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="destroy"},39843:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="dragend"},23388:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="dragenter"},16133:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="drag"},27829:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="dragleave"},53904:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="dragover"},56058:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="dragstart"},2642:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="drop"},88171:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="gameobjectdown"},36147:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="dragend"},71692:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="dragenter"},96149:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="drag"},81285:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="dragleave"},74048:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="dragover"},21322:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="dragstart"},49378:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="drop"},86754:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="gameobjectmove"},86433:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="gameobjectout"},60709:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="gameobjectover"},24081:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="pointerdown"},11172:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="pointermove"},18907:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="pointerout"},95579:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="pointerover"},35368:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="pointerup"},26972:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="wheel"},47078:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="gameobjectup"},73802:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="gameobjectwheel"},56718:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="gameout"},25936:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="gameover"},27503:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="boot"},50852:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="process"},96438:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="update"},59152:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="pointerlockchange"},47777:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="pointerdown"},27957:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="pointerdownoutside"},19444:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="pointermove"},54251:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="pointerout"},18667:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="pointerover"},27192:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="pointerup"},24652:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="pointerupoutside"},45132:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="wheel"},44512:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="preupdate"},15757:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="shutdown"},41637:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="start"},93802:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="update"},8214:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={BOOT:i(7179),DESTROY:i(85375),DRAG_END:i(39843),DRAG_ENTER:i(23388),DRAG:i(16133),DRAG_LEAVE:i(27829),DRAG_OVER:i(53904),DRAG_START:i(56058),DROP:i(2642),GAME_OUT:i(56718),GAME_OVER:i(25936),GAMEOBJECT_DOWN:i(88171),GAMEOBJECT_DRAG_END:i(36147),GAMEOBJECT_DRAG_ENTER:i(71692),GAMEOBJECT_DRAG:i(96149),GAMEOBJECT_DRAG_LEAVE:i(81285),GAMEOBJECT_DRAG_OVER:i(74048),GAMEOBJECT_DRAG_START:i(21322),GAMEOBJECT_DROP:i(49378),GAMEOBJECT_MOVE:i(86754),GAMEOBJECT_OUT:i(86433),GAMEOBJECT_OVER:i(60709),GAMEOBJECT_POINTER_DOWN:i(24081),GAMEOBJECT_POINTER_MOVE:i(11172),GAMEOBJECT_POINTER_OUT:i(18907),GAMEOBJECT_POINTER_OVER:i(95579),GAMEOBJECT_POINTER_UP:i(35368),GAMEOBJECT_POINTER_WHEEL:i(26972),GAMEOBJECT_UP:i(47078),GAMEOBJECT_WHEEL:i(73802),MANAGER_BOOT:i(27503),MANAGER_PROCESS:i(50852),MANAGER_UPDATE:i(96438),POINTER_DOWN:i(47777),POINTER_DOWN_OUTSIDE:i(27957),POINTER_MOVE:i(19444),POINTER_OUT:i(54251),POINTER_OVER:i(18667),POINTER_UP:i(27192),POINTER_UP_OUTSIDE:i(24652),POINTER_WHEEL:i(45132),POINTERLOCK_CHANGE:i(59152),PRE_UPDATE:i(44512),SHUTDOWN:i(15757),START:i(41637),UPDATE:i(93802)}},97421:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(83419),y=new f({initialize:r(function(o,l){this.pad=o,this.events=o.events,this.index=l,this.value=0,this.threshold=.1},"Axis"),update:r(function(c){this.value=c},"update"),getValue:r(function(){return Math.abs(this.value)<this.threshold?0:this.value},"getValue"),destroy:r(function(){this.pad=null,this.events=null},"destroy")});n.exports=y},28884:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(83419),y=i(92734),c=new f({initialize:r(function(l,a){this.pad=l,this.events=l.manager,this.index=a,this.value=0,this.threshold=1,this.pressed=!1},"Button"),update:r(function(o){this.value=o;var l=this.pad,a=this.index;o>=this.threshold?this.pressed||(this.pressed=!0,this.events.emit(y.BUTTON_DOWN,l,this,o),this.pad.emit(y.GAMEPAD_BUTTON_DOWN,a,o,this)):this.pressed&&(this.pressed=!1,this.events.emit(y.BUTTON_UP,l,this,o),this.pad.emit(y.GAMEPAD_BUTTON_UP,a,o,this))},"update"),destroy:r(function(){this.pad=null,this.events=null},"destroy")});n.exports=c},99125:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(97421),y=i(28884),c=i(83419),o=i(50792),l=i(26099),a=new c({Extends:o,initialize:r(function(v,d){o.call(this),this.manager=v,this.pad=d,this.id=d.id,this.index=d.index;for(var p=[],g=0;g<d.buttons.length;g++)p.push(new y(this,g));this.buttons=p;var m=[];for(g=0;g<d.axes.length;g++)m.push(new f(this,g));this.axes=m,this.vibration=d.vibrationActuator;var x={value:0,pressed:!1};this._LCLeft=p[14]?p[14]:x,this._LCRight=p[15]?p[15]:x,this._LCTop=p[12]?p[12]:x,this._LCBottom=p[13]?p[13]:x,this._RCLeft=p[2]?p[2]:x,this._RCRight=p[1]?p[1]:x,this._RCTop=p[3]?p[3]:x,this._RCBottom=p[0]?p[0]:x,this._FBLeftTop=p[4]?p[4]:x,this._FBLeftBottom=p[6]?p[6]:x,this._FBRightTop=p[5]?p[5]:x,this._FBRightBottom=p[7]?p[7]:x;var C={value:0};this._HAxisLeft=m[0]?m[0]:C,this._VAxisLeft=m[1]?m[1]:C,this._HAxisRight=m[2]?m[2]:C,this._VAxisRight=m[3]?m[3]:C,this.leftStick=new l,this.rightStick=new l,this._created=performance.now()},"Gamepad"),getAxisTotal:r(function(){return this.axes.length},"getAxisTotal"),getAxisValue:r(function(u){return this.axes[u].getValue()},"getAxisValue"),setAxisThreshold:r(function(u){for(var v=0;v<this.axes.length;v++)this.axes[v].threshold=u},"setAxisThreshold"),getButtonTotal:r(function(){return this.buttons.length},"getButtonTotal"),getButtonValue:r(function(u){return this.buttons[u].value},"getButtonValue"),isButtonDown:r(function(u){return this.buttons[u].pressed},"isButtonDown"),update:r(function(u){if(!(u.timestamp<this._created)){var v,d=this.buttons,p=u.buttons,g=d.length;for(v=0;v<g;v++)d[v].update(p[v].value);var m=this.axes,x=u.axes;for(g=m.length,v=0;v<g;v++)m[v].update(x[v]);g>=2&&(this.leftStick.set(m[0].getValue(),m[1].getValue()),g>=4&&this.rightStick.set(m[2].getValue(),m[3].getValue()))}},"update"),destroy:r(function(){this.removeAllListeners(),this.manager=null,this.pad=null;var u;for(u=0;u<this.buttons.length;u++)this.buttons[u].destroy();for(u=0;u<this.axes.length;u++)this.axes[u].destroy();this.buttons=[],this.axes=[]},"destroy"),connected:{get:r(function(){return this.pad.connected},"get")},timestamp:{get:r(function(){return this.pad.timestamp},"get")},left:{get:r(function(){return this._LCLeft.pressed},"get")},right:{get:r(function(){return this._LCRight.pressed},"get")},up:{get:r(function(){return this._LCTop.pressed},"get")},down:{get:r(function(){return this._LCBottom.pressed},"get")},A:{get:r(function(){return this._RCBottom.pressed},"get")},Y:{get:r(function(){return this._RCTop.pressed},"get")},X:{get:r(function(){return this._RCLeft.pressed},"get")},B:{get:r(function(){return this._RCRight.pressed},"get")},L1:{get:r(function(){return this._FBLeftTop.value},"get")},L2:{get:r(function(){return this._FBLeftBottom.value},"get")},R1:{get:r(function(){return this._FBRightTop.value},"get")},R2:{get:r(function(){return this._FBRightBottom.value},"get")}});n.exports=a},56654:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(83419),y=i(50792),c=i(92734),o=i(99125),l=i(35154),a=i(89639),u=i(8214),v=new f({Extends:y,initialize:r(function(p){y.call(this),this.scene=p.scene,this.settings=this.scene.sys.settings,this.sceneInputPlugin=p,this.enabled=!0,this.target,this.gamepads=[],this.queue=[],this.onGamepadHandler,this._pad1,this._pad2,this._pad3,this._pad4,p.pluginEvents.once(u.BOOT,this.boot,this),p.pluginEvents.on(u.START,this.start,this)},"GamepadPlugin"),boot:r(function(){var d=this.scene.sys.game,p=this.settings.input,g=d.config;this.enabled=l(p,"gamepad",g.inputGamepad)&&d.device.input.gamepads,this.target=l(p,"gamepad.target",g.inputGamepadEventTarget),this.sceneInputPlugin.pluginEvents.once(u.DESTROY,this.destroy,this)},"boot"),start:r(function(){this.enabled&&(this.startListeners(),this.refreshPads()),this.sceneInputPlugin.pluginEvents.once(u.SHUTDOWN,this.shutdown,this)},"start"),isActive:r(function(){return this.enabled&&this.scene.sys.isActive()},"isActive"),startListeners:r(function(){var d=this,p=this.target,g=r(function(m){m.defaultPrevented||!d.isActive()||(d.refreshPads(),d.queue.push(m))},"handler");this.onGamepadHandler=g,p.addEventListener("gamepadconnected",g,!1),p.addEventListener("gamepaddisconnected",g,!1),this.sceneInputPlugin.pluginEvents.on(u.UPDATE,this.update,this)},"startListeners"),stopListeners:r(function(){this.target.removeEventListener("gamepadconnected",this.onGamepadHandler),this.target.removeEventListener("gamepaddisconnected",this.onGamepadHandler),this.sceneInputPlugin.pluginEvents.off(u.UPDATE,this.update);for(var d=0;d<this.gamepads.length;d++)this.gamepads[d].removeAllListeners()},"stopListeners"),disconnectAll:r(function(){for(var d=0;d<this.gamepads.length;d++)this.gamepads[d].pad.connected=!1},"disconnectAll"),refreshPads:r(function(){var d=navigator.getGamepads();if(!d)this.disconnectAll();else for(var p=this.gamepads,g=0;g<d.length;g++){var m=d[g];if(m){var x=m.id,C=m.index,P=p[C];if(P)P.id!==x?(P.destroy(),p[C]=new o(this,m)):P.update(m);else{var A=new o(this,m);p[C]=A,this._pad1?this._pad2?this._pad3?this._pad4||(this._pad4=A):this._pad3=A:this._pad2=A:this._pad1=A}}}},"refreshPads"),getAll:r(function(){for(var d=[],p=this.gamepads,g=0;g<p.length;g++)p[g]&&d.push(p[g]);return d},"getAll"),getPad:r(function(d){for(var p=this.gamepads,g=0;g<p.length;g++)if(p[g]&&p[g].index===d)return p[g]},"getPad"),update:r(function(){if(this.enabled){this.refreshPads();var d=this.queue.length;if(d!==0)for(var p=this.queue.splice(0,d),g=0;g<d;g++){var m=p[g],x=this.getPad(m.gamepad.index);m.type==="gamepadconnected"?this.emit(c.CONNECTED,x,m):m.type==="gamepaddisconnected"&&this.emit(c.DISCONNECTED,x,m)}}},"update"),shutdown:r(function(){this.stopListeners(),this.removeAllListeners()},"shutdown"),destroy:r(function(){this.shutdown();for(var d=0;d<this.gamepads.length;d++)this.gamepads[d]&&this.gamepads[d].destroy();this.gamepads=[],this.scene=null,this.settings=null,this.sceneInputPlugin=null,this.target=null},"destroy"),total:{get:r(function(){return this.gamepads.length},"get")},pad1:{get:r(function(){return this._pad1},"get")},pad2:{get:r(function(){return this._pad2},"get")},pad3:{get:r(function(){return this._pad3},"get")},pad4:{get:r(function(){return this._pad4},"get")}});a.register("GamepadPlugin",v,"gamepad","gamepad","inputGamepad"),n.exports=v},89651:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={UP:12,DOWN:13,LEFT:14,RIGHT:15,SELECT:8,START:9,B:0,A:1,Y:2,X:3,LEFT_SHOULDER:4,RIGHT_SHOULDER:5}},65294:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={UP:12,DOWN:13,LEFT:14,RIGHT:15,SHARE:8,OPTIONS:9,PS:16,TOUCHBAR:17,X:0,CIRCLE:1,SQUARE:2,TRIANGLE:3,L1:4,R1:5,L2:6,R2:7,L3:10,R3:11,LEFT_STICK_H:0,LEFT_STICK_V:1,RIGHT_STICK_H:2,RIGHT_STICK_V:3}},90089:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={UP:12,DOWN:13,LEFT:14,RIGHT:15,MENU:16,A:0,B:1,X:2,Y:3,LB:4,RB:5,LT:6,RT:7,BACK:8,START:9,LS:10,RS:11,LEFT_STICK_H:0,LEFT_STICK_V:1,RIGHT_STICK_H:2,RIGHT_STICK_V:3}},64894:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={DUALSHOCK_4:i(65294),SNES_USB:i(89651),XBOX_360:i(90089)}},46008:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="down"},7629:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="up"},42206:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="connected"},86544:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="disconnected"},94784:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="down"},14325:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="up"},92734:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={BUTTON_DOWN:i(46008),BUTTON_UP:i(7629),CONNECTED:i(42206),DISCONNECTED:i(86544),GAMEPAD_BUTTON_DOWN:i(94784),GAMEPAD_BUTTON_UP:i(14325)}},48646:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={Axis:i(97421),Button:i(28884),Events:i(92734),Gamepad:i(99125),GamepadPlugin:i(56654),Configs:i(64894)}},14350:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(93301),y=i(79291),c={CreatePixelPerfectHandler:i(84409),CreateInteractiveObject:i(74457),Events:i(8214),Gamepad:i(48646),InputManager:i(7003),InputPlugin:i(48205),InputPluginCache:i(89639),Keyboard:i(51442),Mouse:i(87078),Pointer:i(42515),Touch:i(95618)};c=y(!1,c,f),n.exports=c},78970:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(72905),y=i(83419),c=i(8443),o=i(8214),l=i(46032),a=i(29747),u=new y({initialize:r(function(d){this.manager=d,this.queue=[],this.preventDefault=!0,this.captures=[],this.enabled=!1,this.target,this.onKeyDown=a,this.onKeyUp=a,d.events.once(o.MANAGER_BOOT,this.boot,this)},"KeyboardManager"),boot:r(function(){var v=this.manager.config;this.enabled=v.inputKeyboard,this.target=v.inputKeyboardEventTarget,this.addCapture(v.inputKeyboardCapture),!this.target&&window&&(this.target=window),this.enabled&&this.target&&this.startListeners(),this.manager.game.events.on(c.POST_STEP,this.postUpdate,this)},"boot"),startListeners:r(function(){var v=this;this.onKeyDown=function(p){if(!(p.defaultPrevented||!v.enabled||!v.manager)){v.queue.push(p),v.manager.events.emit(o.MANAGER_PROCESS);var g=p.altKey||p.ctrlKey||p.shiftKey||p.metaKey;v.preventDefault&&!g&&v.captures.indexOf(p.keyCode)>-1&&p.preventDefault()}},this.onKeyUp=function(p){if(!(p.defaultPrevented||!v.enabled||!v.manager)){v.queue.push(p),v.manager.events.emit(o.MANAGER_PROCESS);var g=p.altKey||p.ctrlKey||p.shiftKey||p.metaKey;v.preventDefault&&!g&&v.captures.indexOf(p.keyCode)>-1&&p.preventDefault()}};var d=this.target;d&&(d.addEventListener("keydown",this.onKeyDown,!1),d.addEventListener("keyup",this.onKeyUp,!1),this.enabled=!0)},"startListeners"),stopListeners:r(function(){var v=this.target;v.removeEventListener("keydown",this.onKeyDown,!1),v.removeEventListener("keyup",this.onKeyUp,!1),this.enabled=!1},"stopListeners"),postUpdate:r(function(){this.queue=[]},"postUpdate"),addCapture:r(function(v){typeof v=="string"&&(v=v.split(",")),Array.isArray(v)||(v=[v]);for(var d=this.captures,p=0;p<v.length;p++){var g=v[p];typeof g=="string"&&(g=l[g.trim().toUpperCase()]),d.indexOf(g)===-1&&d.push(g)}this.preventDefault=d.length>0},"addCapture"),removeCapture:r(function(v){typeof v=="string"&&(v=v.split(",")),Array.isArray(v)||(v=[v]);for(var d=this.captures,p=0;p<v.length;p++){var g=v[p];typeof g=="string"&&(g=l[g.toUpperCase()]),f(d,g)}this.preventDefault=d.length>0},"removeCapture"),clearCaptures:r(function(){this.captures=[],this.preventDefault=!1},"clearCaptures"),destroy:r(function(){this.stopListeners(),this.clearCaptures(),this.queue=[],this.manager.game.events.off(c.POST_RENDER,this.postUpdate,this),this.target=null,this.enabled=!1,this.manager=null},"destroy")});n.exports=u},28846:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(83419),y=i(50792),c=i(95922),o=i(8443),l=i(35154),a=i(8214),u=i(89639),v=i(30472),d=i(46032),p=i(87960),g=i(74600),m=i(44594),x=i(56583),C=new f({Extends:y,initialize:r(function(A){y.call(this),this.game=A.systems.game,this.scene=A.scene,this.settings=this.scene.sys.settings,this.sceneInputPlugin=A,this.manager=A.manager.keyboard,this.enabled=!0,this.keys=[],this.combos=[],this.prevCode=null,this.prevTime=0,this.prevType=null,A.pluginEvents.once(a.BOOT,this.boot,this),A.pluginEvents.on(a.START,this.start,this)},"KeyboardPlugin"),boot:r(function(){var P=this.settings.input;this.enabled=l(P,"keyboard",!0);var A=l(P,"keyboard.capture",null);A&&this.addCaptures(A),this.sceneInputPlugin.pluginEvents.once(a.DESTROY,this.destroy,this)},"boot"),start:r(function(){this.sceneInputPlugin.manager.events.on(a.MANAGER_PROCESS,this.update,this),this.sceneInputPlugin.pluginEvents.once(a.SHUTDOWN,this.shutdown,this),this.game.events.on(o.BLUR,this.resetKeys,this),this.scene.sys.events.on(m.PAUSE,this.resetKeys,this),this.scene.sys.events.on(m.SLEEP,this.resetKeys,this)},"start"),isActive:r(function(){return this.enabled&&this.scene.sys.canInput()},"isActive"),addCapture:r(function(P){return this.manager.addCapture(P),this},"addCapture"),removeCapture:r(function(P){return this.manager.removeCapture(P),this},"removeCapture"),getCaptures:r(function(){return this.manager.captures},"getCaptures"),enableGlobalCapture:r(function(){return this.manager.preventDefault=!0,this},"enableGlobalCapture"),disableGlobalCapture:r(function(){return this.manager.preventDefault=!1,this},"disableGlobalCapture"),clearCaptures:r(function(){return this.manager.clearCaptures(),this},"clearCaptures"),createCursorKeys:r(function(){return this.addKeys({up:d.UP,down:d.DOWN,left:d.LEFT,right:d.RIGHT,space:d.SPACE,shift:d.SHIFT})},"createCursorKeys"),addKeys:r(function(P,A,R){A===void 0&&(A=!0),R===void 0&&(R=!1);var L={};if(typeof P=="string"){P=P.split(",");for(var O=0;O<P.length;O++){var w=P[O].trim();w&&(L[w]=this.addKey(w,A,R))}}else for(var b in P)L[b]=this.addKey(P[b],A,R);return L},"addKeys"),addKey:r(function(P,A,R){A===void 0&&(A=!0),R===void 0&&(R=!1);var L=this.keys;if(P instanceof v){var O=L.indexOf(P);return O>-1?L[O]=P:L[P.keyCode]=P,A&&this.addCapture(P.keyCode),P.setEmitOnRepeat(R),P}return typeof P=="string"&&(P=d[P.toUpperCase()]),L[P]||(L[P]=new v(this,P),A&&this.addCapture(P),L[P].setEmitOnRepeat(R)),L[P]},"addKey"),removeKey:r(function(P,A,R){A===void 0&&(A=!1),R===void 0&&(R=!1);var L=this.keys,O;if(P instanceof v){var w=L.indexOf(P);w>-1&&(O=this.keys[w],this.keys[w]=void 0)}else typeof P=="string"&&(P=d[P.toUpperCase()]);return L[P]&&(O=L[P],L[P]=void 0),O&&(O.plugin=null,R&&this.removeCapture(O.keyCode),A&&O.destroy()),this},"removeKey"),removeAllKeys:r(function(P,A){P===void 0&&(P=!1),A===void 0&&(A=!1);for(var R=this.keys,L=0;L<R.length;L++){var O=R[L];O&&(R[L]=void 0,A&&this.removeCapture(O.keyCode),P&&O.destroy())}return this},"removeAllKeys"),createCombo:r(function(P,A){return new p(this,P,A)},"createCombo"),checkDown:r(function(P,A){if(A===void 0&&(A=0),this.enabled&&P.isDown){var R=x(this.time-P.timeDown,A);if(R>P._tick)return P._tick=R,!0}return!1},"checkDown"),update:r(function(){var P=this.manager.queue,A=P.length;if(!(!this.isActive()||A===0))for(var R=this.keys,L=0;L<A;L++){var O=P[L],w=O.keyCode,b=R[w],F=!1;O.cancelled===void 0&&(O.cancelled=0,O.stopImmediatePropagation=function(){O.cancelled=1},O.stopPropagation=function(){O.cancelled=-1}),O.cancelled!==-1&&(w===this.prevCode&&O.timeStamp===this.prevTime&&O.type===this.prevType||(this.prevCode=w,this.prevTime=O.timeStamp,this.prevType=O.type,O.type==="keydown"?(b&&(F=b.isDown,b.onDown(O)),!O.cancelled&&(!b||!F)&&(g[w]&&this.emit(c.KEY_DOWN+g[w],O),O.cancelled||this.emit(c.ANY_KEY_DOWN,O))):(b&&b.onUp(O),O.cancelled||(g[w]&&this.emit(c.KEY_UP+g[w],O),O.cancelled||this.emit(c.ANY_KEY_UP,O))),O.cancelled===1&&(O.cancelled=0)))}},"update"),resetKeys:r(function(){for(var P=this.keys,A=0;A<P.length;A++)P[A]&&P[A].reset();return this},"resetKeys"),shutdown:r(function(){this.removeAllKeys(!0),this.removeAllListeners(),this.sceneInputPlugin.manager.events.off(a.MANAGER_PROCESS,this.update,this),this.game.events.off(o.BLUR,this.resetKeys),this.scene.sys.events.off(m.PAUSE,this.resetKeys,this),this.scene.sys.events.off(m.SLEEP,this.resetKeys,this),this.queue=[]},"shutdown"),destroy:r(function(){this.shutdown();for(var P=this.keys,A=0;A<P.length;A++)P[A]&&P[A].destroy();this.keys=[],this.combos=[],this.queue=[],this.scene=null,this.settings=null,this.sceneInputPlugin=null,this.manager=null},"destroy"),time:{get:r(function(){return this.sceneInputPlugin.manager.time},"get")}});u.register("KeyboardPlugin",C,"keyboard","keyboard","inputKeyboard"),n.exports=C},66970:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i,f){return f.timeLastMatched=i.timeStamp,f.index++,f.index===f.size?!0:(f.current=f.keyCodes[f.index],!1)},"AdvanceKeyCombo");n.exports=T},87960:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(83419),y=i(95922),c=i(95540),o=i(68769),l=i(92803),a=new f({initialize:r(function(v,d,p){if(p===void 0&&(p={}),d.length<2)return!1;this.manager=v,this.enabled=!0,this.keyCodes=[];for(var g=0;g<d.length;g++){var m=d[g];typeof m=="string"?this.keyCodes.push(m.toUpperCase().charCodeAt(0)):typeof m=="number"?this.keyCodes.push(m):m.hasOwnProperty("keyCode")&&this.keyCodes.push(m.keyCode)}this.current=this.keyCodes[0],this.index=0,this.size=this.keyCodes.length,this.timeLastMatched=0,this.matched=!1,this.timeMatched=0,this.resetOnWrongKey=c(p,"resetOnWrongKey",!0),this.maxKeyDelay=c(p,"maxKeyDelay",0),this.resetOnMatch=c(p,"resetOnMatch",!1),this.deleteOnMatch=c(p,"deleteOnMatch",!1);var x=this,C=r(function(P){if(!(x.matched||!x.enabled)){var A=o(P,x);A&&(x.manager.emit(y.COMBO_MATCH,x,P),x.resetOnMatch?l(x):x.deleteOnMatch&&x.destroy())}},"onKeyDownHandler");this.onKeyDown=C,this.manager.on(y.ANY_KEY_DOWN,this.onKeyDown)},"KeyCombo"),progress:{get:r(function(){return this.index/this.size},"get")},destroy:r(function(){this.enabled=!1,this.keyCodes=[],this.manager.off(y.ANY_KEY_DOWN,this.onKeyDown),this.manager=null},"destroy")});n.exports=a},68769:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(66970),y=r(function(c,o){if(o.matched)return!0;var l=!1,a=!1;if(c.keyCode===o.current)if(o.index>0&&o.maxKeyDelay>0){var u=o.timeLastMatched+o.maxKeyDelay;c.timeStamp<=u&&(a=!0,l=f(c,o))}else a=!0,l=f(c,o);return!a&&o.resetOnWrongKey&&(o.index=0,o.current=o.keyCodes[0]),l&&(o.timeLastMatched=c.timeStamp,o.matched=!0,o.timeMatched=c.timeStamp),l},"ProcessKeyCombo");n.exports=y},92803:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i){return i.current=i.keyCodes[0],i.index=0,i.timeLastMatched=0,i.matched=!1,i.timeMatched=0,i},"ResetKeyCombo");n.exports=T},92612:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="keydown"},23345:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="keyup"},21957:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="keycombomatch"},44743:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="down"},3771:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="keydown-"},46358:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="keyup-"},75674:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="up"},95922:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={ANY_KEY_DOWN:i(92612),ANY_KEY_UP:i(23345),COMBO_MATCH:i(21957),DOWN:i(44743),KEY_DOWN:i(3771),KEY_UP:i(46358),UP:i(75674)}},51442:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={Events:i(95922),KeyboardManager:i(78970),KeyboardPlugin:i(28846),Key:i(30472),KeyCodes:i(46032),KeyCombo:i(87960),AdvanceKeyCombo:i(66970),ProcessKeyCombo:i(68769),ResetKeyCombo:i(92803),JustDown:i(90229),JustUp:i(38796),DownDuration:i(37015),UpDuration:i(41170)}},37015:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i,f){f===void 0&&(f=50);var y=i.plugin.game.loop.time-i.timeDown;return i.isDown&&y<f},"DownDuration");n.exports=T},90229:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i){return i._justDown?(i._justDown=!1,!0):!1},"JustDown");n.exports=T},38796:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i){return i._justUp?(i._justUp=!1,!0):!1},"JustUp");n.exports=T},30472:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(83419),y=i(50792),c=i(95922),o=new f({Extends:y,initialize:r(function(a,u){y.call(this),this.plugin=a,this.keyCode=u,this.originalEvent=void 0,this.enabled=!0,this.isDown=!1,this.isUp=!0,this.altKey=!1,this.ctrlKey=!1,this.shiftKey=!1,this.metaKey=!1,this.location=0,this.timeDown=0,this.duration=0,this.timeUp=0,this.emitOnRepeat=!1,this.repeats=0,this._justDown=!1,this._justUp=!1,this._tick=-1},"Key"),setEmitOnRepeat:r(function(l){return this.emitOnRepeat=l,this},"setEmitOnRepeat"),onDown:r(function(l){this.originalEvent=l,this.enabled&&(this.altKey=l.altKey,this.ctrlKey=l.ctrlKey,this.shiftKey=l.shiftKey,this.metaKey=l.metaKey,this.location=l.location,this.repeats++,this.isDown?this.emitOnRepeat&&this.emit(c.DOWN,this,l):(this.isDown=!0,this.isUp=!1,this.timeDown=l.timeStamp,this.duration=0,this._justDown=!0,this._justUp=!1,this.emit(c.DOWN,this,l)))},"onDown"),onUp:r(function(l){this.originalEvent=l,this.enabled&&(this.isDown=!1,this.isUp=!0,this.timeUp=l.timeStamp,this.duration=this.timeUp-this.timeDown,this.repeats=0,this._justDown=!1,this._justUp=!0,this._tick=-1,this.emit(c.UP,this,l))},"onUp"),reset:r(function(){return this.isDown=!1,this.isUp=!0,this.altKey=!1,this.ctrlKey=!1,this.shiftKey=!1,this.metaKey=!1,this.timeDown=0,this.duration=0,this.timeUp=0,this.repeats=0,this._justDown=!1,this._justUp=!1,this._tick=-1,this},"reset"),getDuration:r(function(){return this.isDown?this.plugin.game.loop.time-this.timeDown:0},"getDuration"),destroy:r(function(){this.removeAllListeners(),this.originalEvent=null,this.plugin=null},"destroy")});n.exports=o},46032:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={BACKSPACE:8,TAB:9,ENTER:13,SHIFT:16,CTRL:17,ALT:18,PAUSE:19,CAPS_LOCK:20,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,PRINT_SCREEN:42,INSERT:45,DELETE:46,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,NUMPAD_ZERO:96,NUMPAD_ONE:97,NUMPAD_TWO:98,NUMPAD_THREE:99,NUMPAD_FOUR:100,NUMPAD_FIVE:101,NUMPAD_SIX:102,NUMPAD_SEVEN:103,NUMPAD_EIGHT:104,NUMPAD_NINE:105,NUMPAD_ADD:107,NUMPAD_SUBTRACT:109,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,SEMICOLON:186,PLUS:187,COMMA:188,MINUS:189,PERIOD:190,FORWARD_SLASH:191,BACK_SLASH:220,QUOTES:222,BACKTICK:192,OPEN_BRACKET:219,CLOSED_BRACKET:221,SEMICOLON_FIREFOX:59,COLON:58,COMMA_FIREFOX_WINDOWS:60,COMMA_FIREFOX:62,BRACKET_RIGHT_FIREFOX:174,BRACKET_LEFT_FIREFOX:175};n.exports=T},74600:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(46032),y={};for(var c in f)y[f[c]]=c;n.exports=y},41170:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i,f){f===void 0&&(f=50);var y=i.plugin.game.loop.time-i.timeUp;return i.isUp&&y<f},"UpDuration");n.exports=T},85098:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(83419),y=i(89357),c=i(8214),o=i(29747),l=new f({initialize:r(function(u){this.manager=u,this.preventDefaultDown=!0,this.preventDefaultUp=!0,this.preventDefaultMove=!0,this.preventDefaultWheel=!1,this.enabled=!1,this.target,this.locked=!1,this.onMouseMove=o,this.onMouseDown=o,this.onMouseUp=o,this.onMouseDownWindow=o,this.onMouseUpWindow=o,this.onMouseOver=o,this.onMouseOut=o,this.onMouseWheel=o,this.pointerLockChange=o,this.isTop=!0,u.events.once(c.MANAGER_BOOT,this.boot,this)},"MouseManager"),boot:r(function(){var a=this.manager.config;this.enabled=a.inputMouse,this.target=a.inputMouseEventTarget,this.passive=a.inputMousePassive,this.preventDefaultDown=a.inputMousePreventDefaultDown,this.preventDefaultUp=a.inputMousePreventDefaultUp,this.preventDefaultMove=a.inputMousePreventDefaultMove,this.preventDefaultWheel=a.inputMousePreventDefaultWheel,this.target?typeof this.target=="string"&&(this.target=document.getElementById(this.target)):this.target=this.manager.game.canvas,a.disableContextMenu&&this.disableContextMenu(),this.enabled&&this.target&&this.startListeners()},"boot"),disableContextMenu:r(function(){return this.target.addEventListener("contextmenu",function(a){return a.preventDefault(),!1}),this},"disableContextMenu"),requestPointerLock:r(function(){if(y.pointerLock){var a=this.target;a.requestPointerLock=a.requestPointerLock||a.mozRequestPointerLock||a.webkitRequestPointerLock,a.requestPointerLock()}},"requestPointerLock"),releasePointerLock:r(function(){y.pointerLock&&(document.exitPointerLock=document.exitPointerLock||document.mozExitPointerLock||document.webkitExitPointerLock,document.exitPointerLock())},"releasePointerLock"),startListeners:r(function(){var a=this.target;if(a){var u=this,v=this.manager,d=v.canvas,p=window&&window.focus&&v.game.config.autoFocus;this.onMouseMove=function(m){!m.defaultPrevented&&u.enabled&&v&&v.enabled&&(v.onMouseMove(m),u.preventDefaultMove&&m.preventDefault())},this.onMouseDown=function(m){p&&window.focus(),!m.defaultPrevented&&u.enabled&&v&&v.enabled&&(v.onMouseDown(m),u.preventDefaultDown&&m.target===d&&m.preventDefault())},this.onMouseDownWindow=function(m){m.sourceCapabilities&&m.sourceCapabilities.firesTouchEvents||!m.defaultPrevented&&u.enabled&&v&&v.enabled&&m.target!==d&&v.onMouseDown(m)},this.onMouseUp=function(m){!m.defaultPrevented&&u.enabled&&v&&v.enabled&&(v.onMouseUp(m),u.preventDefaultUp&&m.target===d&&m.preventDefault())},this.onMouseUpWindow=function(m){m.sourceCapabilities&&m.sourceCapabilities.firesTouchEvents||!m.defaultPrevented&&u.enabled&&v&&v.enabled&&m.target!==d&&v.onMouseUp(m)},this.onMouseOver=function(m){!m.defaultPrevented&&u.enabled&&v&&v.enabled&&v.setCanvasOver(m)},this.onMouseOut=function(m){!m.defaultPrevented&&u.enabled&&v&&v.enabled&&v.setCanvasOut(m)},this.onMouseWheel=function(m){!m.defaultPrevented&&u.enabled&&v&&v.enabled&&v.onMouseWheel(m),u.preventDefaultWheel&&m.target===d&&m.preventDefault()};var g={passive:!0};if(a.addEventListener("mousemove",this.onMouseMove),a.addEventListener("mousedown",this.onMouseDown),a.addEventListener("mouseup",this.onMouseUp),a.addEventListener("mouseover",this.onMouseOver,g),a.addEventListener("mouseout",this.onMouseOut,g),this.preventDefaultWheel?a.addEventListener("wheel",this.onMouseWheel,{passive:!1}):a.addEventListener("wheel",this.onMouseWheel,g),window&&v.game.config.inputWindowEvents)try{window.top.addEventListener("mousedown",this.onMouseDownWindow,g),window.top.addEventListener("mouseup",this.onMouseUpWindow,g)}catch{window.addEventListener("mousedown",this.onMouseDownWindow,g),window.addEventListener("mouseup",this.onMouseUpWindow,g),this.isTop=!1}y.pointerLock&&(this.pointerLockChange=function(m){var x=u.target;u.locked=document.pointerLockElement===x||document.mozPointerLockElement===x||document.webkitPointerLockElement===x,v.onPointerLockChange(m)},document.addEventListener("pointerlockchange",this.pointerLockChange,!0),document.addEventListener("mozpointerlockchange",this.pointerLockChange,!0),document.addEventListener("webkitpointerlockchange",this.pointerLockChange,!0)),this.enabled=!0}},"startListeners"),stopListeners:r(function(){var a=this.target;a.removeEventListener("mousemove",this.onMouseMove),a.removeEventListener("mousedown",this.onMouseDown),a.removeEventListener("mouseup",this.onMouseUp),a.removeEventListener("mouseover",this.onMouseOver),a.removeEventListener("mouseout",this.onMouseOut),window&&(a=this.isTop?window.top:window,a.removeEventListener("mousedown",this.onMouseDownWindow),a.removeEventListener("mouseup",this.onMouseUpWindow)),y.pointerLock&&(document.removeEventListener("pointerlockchange",this.pointerLockChange,!0),document.removeEventListener("mozpointerlockchange",this.pointerLockChange,!0),document.removeEventListener("webkitpointerlockchange",this.pointerLockChange,!0))},"stopListeners"),destroy:r(function(){this.stopListeners(),this.target=null,this.enabled=!1,this.manager=null},"destroy")});n.exports=l},87078:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={MouseManager:i(85098)}},36210:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(83419),y=i(8214),c=i(29747),o=new f({initialize:r(function(a){this.manager=a,this.capture=!0,this.enabled=!1,this.target,this.onTouchStart=c,this.onTouchStartWindow=c,this.onTouchMove=c,this.onTouchEnd=c,this.onTouchEndWindow=c,this.onTouchCancel=c,this.onTouchCancelWindow=c,this.isTop=!0,a.events.once(y.MANAGER_BOOT,this.boot,this)},"TouchManager"),boot:r(function(){var l=this.manager.config;this.enabled=l.inputTouch,this.target=l.inputTouchEventTarget,this.capture=l.inputTouchCapture,this.target?typeof this.target=="string"&&(this.target=document.getElementById(this.target)):this.target=this.manager.game.canvas,l.disableContextMenu&&this.disableContextMenu(),this.enabled&&this.target&&this.startListeners()},"boot"),disableContextMenu:r(function(){return this.target.addEventListener("contextmenu",function(l){return l.preventDefault(),!1}),this},"disableContextMenu"),startListeners:r(function(){var l=this.target;if(l){var a=this,u=this.manager,v=u.canvas,d=window&&window.focus&&u.game.config.autoFocus;this.onTouchMove=function(x){!x.defaultPrevented&&a.enabled&&u&&u.enabled&&(u.onTouchMove(x),a.capture&&x.cancelable&&x.preventDefault())},this.onTouchStart=function(x){d&&window.focus(),!x.defaultPrevented&&a.enabled&&u&&u.enabled&&(u.onTouchStart(x),a.capture&&x.cancelable&&x.target===v&&x.preventDefault())},this.onTouchStartWindow=function(x){!x.defaultPrevented&&a.enabled&&u&&u.enabled&&x.target!==v&&u.onTouchStart(x)},this.onTouchEnd=function(x){!x.defaultPrevented&&a.enabled&&u&&u.enabled&&(u.onTouchEnd(x),a.capture&&x.cancelable&&x.target===v&&x.preventDefault())},this.onTouchEndWindow=function(x){!x.defaultPrevented&&a.enabled&&u&&u.enabled&&x.target!==v&&u.onTouchEnd(x)},this.onTouchCancel=function(x){!x.defaultPrevented&&a.enabled&&u&&u.enabled&&(u.onTouchCancel(x),a.capture&&x.preventDefault())},this.onTouchCancelWindow=function(x){!x.defaultPrevented&&a.enabled&&u&&u.enabled&&u.onTouchCancel(x)};var p=this.capture,g={passive:!0},m={passive:!1};if(l.addEventListener("touchstart",this.onTouchStart,p?m:g),l.addEventListener("touchmove",this.onTouchMove,p?m:g),l.addEventListener("touchend",this.onTouchEnd,p?m:g),l.addEventListener("touchcancel",this.onTouchCancel,p?m:g),window&&u.game.config.inputWindowEvents)try{window.top.addEventListener("touchstart",this.onTouchStartWindow,m),window.top.addEventListener("touchend",this.onTouchEndWindow,m),window.top.addEventListener("touchcancel",this.onTouchCancelWindow,m)}catch{window.addEventListener("touchstart",this.onTouchStartWindow,m),window.addEventListener("touchend",this.onTouchEndWindow,m),window.addEventListener("touchcancel",this.onTouchCancelWindow,m),this.isTop=!1}this.enabled=!0}},"startListeners"),stopListeners:r(function(){var l=this.target;l.removeEventListener("touchstart",this.onTouchStart),l.removeEventListener("touchmove",this.onTouchMove),l.removeEventListener("touchend",this.onTouchEnd),l.removeEventListener("touchcancel",this.onTouchCancel),window&&(l=this.isTop?window.top:window,l.removeEventListener("touchstart",this.onTouchStartWindow),l.removeEventListener("touchend",this.onTouchEndWindow),l.removeEventListener("touchcancel",this.onTouchCancelWindow))},"stopListeners"),destroy:r(function(){this.stopListeners(),this.target=null,this.enabled=!1,this.manager=null},"destroy")});n.exports=o},95618:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={TouchManager:i(36210)}},41299:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(83419),y=i(23906),c=i(54899),o=i(95540),l=i(98356),a=i(3374),u=i(84376),v=i(92638),d=new f({initialize:r(function(g,m){if(this.loader=g,this.cache=o(m,"cache",!1),this.type=o(m,"type",!1),!this.type)throw new Error("Invalid File type: "+this.type);this.key=o(m,"key",!1);var x=this.key;if(g.prefix&&g.prefix!==""&&(this.key=g.prefix+x),!this.key)throw new Error("Invalid File key: "+this.key);var C=o(m,"url");C===void 0?C=g.path+x+"."+o(m,"extension",""):typeof C=="string"&&!C.match(/^(?:blob:|data:|capacitor:\/\/|http:\/\/|https:\/\/|\/\/)/)&&(C=g.path+C),this.url=C,this.src="",this.xhrSettings=v(o(m,"responseType",void 0)),o(m,"xhrSettings",!1)&&(this.xhrSettings=a(this.xhrSettings,o(m,"xhrSettings",{}))),this.xhrLoader=null,this.state=typeof this.url=="function"?y.FILE_POPULATED:y.FILE_PENDING,this.bytesTotal=0,this.bytesLoaded=-1,this.percentComplete=-1,this.crossOrigin=void 0,this.data=void 0,this.config=o(m,"config",{}),this.multiFile,this.linkFile,this.base64=typeof C=="string"&&C.indexOf("data:")===0},"File"),setLink:r(function(p){this.linkFile=p,p.linkFile=this},"setLink"),resetXHR:r(function(){this.xhrLoader&&(this.xhrLoader.onload=void 0,this.xhrLoader.onerror=void 0,this.xhrLoader.onprogress=void 0)},"resetXHR"),load:r(function(){this.state===y.FILE_POPULATED?this.loader.nextFile(this,!0):(this.state=y.FILE_LOADING,this.src=l(this,this.loader.baseURL),this.src.indexOf("data:")===0&&(this.base64=!0),this.xhrLoader=u(this,this.loader.xhr))},"load"),onLoad:r(function(p,g){var m=p.responseURL&&this.loader.localSchemes.some(function(P){return p.responseURL.indexOf(P)===0}),x=m&&g.target.status===0,C=!(g.target&&g.target.status!==200)||x;p.readyState===4&&p.status>=400&&p.status<=599&&(C=!1),this.state=y.FILE_LOADED,this.resetXHR(),this.loader.nextFile(this,C)},"onLoad"),onBase64Load:r(function(p){this.xhrLoader=p,this.state=y.FILE_LOADED,this.percentComplete=1,this.loader.emit(c.FILE_PROGRESS,this,this.percentComplete),this.loader.nextFile(this,!0)},"onBase64Load"),onError:r(function(){this.resetXHR(),this.loader.nextFile(this,!1)},"onError"),onProgress:r(function(p){p.lengthComputable&&(this.bytesLoaded=p.loaded,this.bytesTotal=p.total,this.percentComplete=Math.min(this.bytesLoaded/this.bytesTotal,1),this.loader.emit(c.FILE_PROGRESS,this,this.percentComplete))},"onProgress"),onProcess:r(function(){this.state=y.FILE_PROCESSING,this.onProcessComplete()},"onProcess"),onProcessComplete:r(function(){this.state=y.FILE_COMPLETE,this.multiFile&&this.multiFile.onFileComplete(this),this.loader.fileProcessComplete(this)},"onProcessComplete"),onProcessError:r(function(){console.error('Failed to process file: %s "%s"',this.type,this.key),this.state=y.FILE_ERRORED,this.multiFile&&this.multiFile.onFileFailed(this),this.loader.fileProcessComplete(this)},"onProcessError"),hasCacheConflict:r(function(){return this.cache&&this.cache.exists(this.key)},"hasCacheConflict"),addToCache:r(function(){this.cache&&this.data&&this.cache.add(this.key,this.data)},"addToCache"),pendingDestroy:r(function(p){if(this.state!==y.FILE_PENDING_DESTROY){p===void 0&&(p=this.data);var g=this.key,m=this.type;this.loader.emit(c.FILE_COMPLETE,g,m,p),this.loader.emit(c.FILE_KEY_COMPLETE+m+"-"+g,g,m,p),this.loader.flagForRemoval(this),this.state=y.FILE_PENDING_DESTROY}},"pendingDestroy"),destroy:r(function(){this.loader=null,this.cache=null,this.xhrSettings=null,this.multiFile=null,this.linkFile=null,this.data=null},"destroy")});d.createObjectURL=function(p,g,m){if(typeof URL=="function")p.src=URL.createObjectURL(g);else{var x=new FileReader;x.onload=function(){p.removeAttribute("crossOrigin"),p.src="data:"+(g.type||m)+";base64,"+x.result.split(",")[1]},x.onerror=p.onerror,x.readAsDataURL(g)}},d.revokeObjectURL=function(p){typeof URL=="function"&&URL.revokeObjectURL(p.src)},n.exports=d},74099:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={},i={install:r(function(f){for(var y in T)f[y]=T[y]},"install"),register:r(function(f,y){T[f]=y},"register"),destroy:r(function(){T={}},"destroy")};n.exports=i},98356:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i,f){return i.url?i.url.match(/^(?:blob:|data:|capacitor:\/\/|http:\/\/|https:\/\/|\/\/)/)?i.url:f+i.url:!1},"GetURL");n.exports=T},74261:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(83419),y=i(23906),c=i(35072),o=i(50792),l=i(54899),a=i(74099),u=i(95540),v=i(35154),d=i(37277),p=i(44594),g=i(92638),m=new f({Extends:o,initialize:r(function(C){o.call(this);var P=C.sys.game.config,A=C.sys.settings.loader;this.scene=C,this.systems=C.sys,this.cacheManager=C.sys.cache,this.textureManager=C.sys.textures,this.sceneManager=C.sys.game.scene,a.install(this),this.prefix="",this.path="",this.baseURL="",this.setBaseURL(u(A,"baseURL",P.loaderBaseURL)),this.setPath(u(A,"path",P.loaderPath)),this.setPrefix(u(A,"prefix",P.loaderPrefix)),this.maxParallelDownloads=u(A,"maxParallelDownloads",P.loaderMaxParallelDownloads),this.xhr=g(u(A,"responseType",P.loaderResponseType),u(A,"async",P.loaderAsync),u(A,"user",P.loaderUser),u(A,"password",P.loaderPassword),u(A,"timeout",P.loaderTimeout),u(A,"withCredentials",P.loaderWithCredentials)),this.crossOrigin=u(A,"crossOrigin",P.loaderCrossOrigin),this.imageLoadType=u(A,"imageLoadType",P.loaderImageLoadType),this.localSchemes=u(A,"localScheme",P.loaderLocalScheme),this.totalToLoad=0,this.progress=0,this.list=new c,this.inflight=new c,this.queue=new c,this._deleteQueue=new c,this.totalFailed=0,this.totalComplete=0,this.state=y.LOADER_IDLE,this.multiKeyIndex=0,C.sys.events.once(p.BOOT,this.boot,this),C.sys.events.on(p.START,this.pluginStart,this)},"LoaderPlugin"),boot:r(function(){this.systems.events.once(p.DESTROY,this.destroy,this)},"boot"),pluginStart:r(function(){this.systems.events.once(p.SHUTDOWN,this.shutdown,this)},"pluginStart"),setBaseURL:r(function(x){return x===void 0&&(x=""),x!==""&&x.substr(-1)!=="/"&&(x=x.concat("/")),this.baseURL=x,this},"setBaseURL"),setPath:r(function(x){return x===void 0&&(x=""),x!==""&&x.substr(-1)!=="/"&&(x=x.concat("/")),this.path=x,this},"setPath"),setPrefix:r(function(x){return x===void 0&&(x=""),this.prefix=x,this},"setPrefix"),setCORS:r(function(x){return this.crossOrigin=x,this},"setCORS"),addFile:r(function(x){Array.isArray(x)||(x=[x]);for(var C=0;C<x.length;C++){var P=x[C];this.keyExists(P)||(this.list.set(P),this.emit(l.ADD,P.key,P.type,this,P),this.isLoading()&&(this.totalToLoad++,this.updateProgress()))}},"addFile"),keyExists:r(function(x){var C=x.hasCacheConflict();return C||this.list.iterate(function(P){if(P.type===x.type&&P.key===x.key)return C=!0,!1}),!C&&this.isLoading()&&(this.inflight.iterate(function(P){if(P.type===x.type&&P.key===x.key)return C=!0,!1}),this.queue.iterate(function(P){if(P.type===x.type&&P.key===x.key)return C=!0,!1})),C},"keyExists"),addPack:r(function(x,C){if(typeof C=="string"){var P=v(x,C);P&&(x={packKey:P})}var A=0,R=this.baseURL,L=this.path,O=this.prefix;for(var w in x)if(Object.prototype.hasOwnProperty.call(x,w)){var b=x[w],F=u(b,"baseURL",R),M=u(b,"path",L),I=u(b,"prefix",O),B=u(b,"files",null),G=u(b,"defaultType","void");if(Array.isArray(B)){this.setBaseURL(F),this.setPath(M),this.setPrefix(I);for(var N=0;N<B.length;N++){var z=B[N],H=z.hasOwnProperty("type")?z.type:G;this[H]&&(this[H](z),A++)}}}return this.setBaseURL(R),this.setPath(L),this.setPrefix(O),A>0},"addPack"),isLoading:r(function(){return this.state===y.LOADER_LOADING||this.state===y.LOADER_PROCESSING},"isLoading"),isReady:r(function(){return this.state===y.LOADER_IDLE||this.state===y.LOADER_COMPLETE},"isReady"),start:r(function(){this.isReady()&&(this.progress=0,this.totalFailed=0,this.totalComplete=0,this.totalToLoad=this.list.size,this.emit(l.START,this),this.list.size===0?this.loadComplete():(this.state=y.LOADER_LOADING,this.inflight.clear(),this.queue.clear(),this.updateProgress(),this.checkLoadQueue(),this.systems.events.on(p.UPDATE,this.update,this)))},"start"),updateProgress:r(function(){this.progress=1-(this.list.size+this.inflight.size)/this.totalToLoad,this.emit(l.PROGRESS,this.progress)},"updateProgress"),update:r(function(){this.state===y.LOADER_LOADING&&this.list.size>0&&this.inflight.size<this.maxParallelDownloads&&this.checkLoadQueue()},"update"),checkLoadQueue:r(function(){this.list.each(function(x){if((x.state===y.FILE_POPULATED||x.state===y.FILE_PENDING&&this.inflight.size<this.maxParallelDownloads)&&(this.inflight.set(x),this.list.delete(x),x.crossOrigin||(x.crossOrigin=this.crossOrigin),x.load()),this.inflight.size===this.maxParallelDownloads)return!1},this)},"checkLoadQueue"),nextFile:r(function(x,C){this.inflight&&(this.inflight.delete(x),this.updateProgress(),C?(this.totalComplete++,this.queue.set(x),this.emit(l.FILE_LOAD,x),x.onProcess()):(this.totalFailed++,this._deleteQueue.set(x),this.emit(l.FILE_LOAD_ERROR,x),this.fileProcessComplete(x)))},"nextFile"),fileProcessComplete:r(function(x){!this.scene||!this.systems||!this.systems.game||this.systems.game.pendingDestroy||(x.state===y.FILE_ERRORED?x.multiFile&&x.multiFile.onFileFailed(x):x.state===y.FILE_COMPLETE&&(x.multiFile?x.multiFile.isReadyToProcess()&&(x.multiFile.addToCache(),x.multiFile.pendingDestroy()):(x.addToCache(),x.pendingDestroy())),this.queue.delete(x),this.list.size===0&&this.inflight.size===0&&this.queue.size===0&&this.loadComplete())},"fileProcessComplete"),loadComplete:r(function(){this.emit(l.POST_PROCESS,this),this.list.clear(),this.inflight.clear(),this.queue.clear(),this.progress=1,this.state=y.LOADER_COMPLETE,this.systems.events.off(p.UPDATE,this.update,this),this._deleteQueue.iterateLocal("destroy"),this._deleteQueue.clear(),this.emit(l.COMPLETE,this,this.totalComplete,this.totalFailed)},"loadComplete"),flagForRemoval:r(function(x){this._deleteQueue.set(x)},"flagForRemoval"),saveJSON:r(function(x,C){return this.save(JSON.stringify(x),C)},"saveJSON"),save:r(function(x,C,P){C===void 0&&(C="file.json"),P===void 0&&(P="application/json");var A=new Blob([x],{type:P}),R=URL.createObjectURL(A),L=document.createElement("a");return L.download=C,L.textContent="Download "+C,L.href=R,L.click(),this},"save"),reset:r(function(){this.list.clear(),this.inflight.clear(),this.queue.clear();var x=this.systems.game.config,C=this.systems.settings.loader;this.setBaseURL(u(C,"baseURL",x.loaderBaseURL)),this.setPath(u(C,"path",x.loaderPath)),this.setPrefix(u(C,"prefix",x.loaderPrefix)),this.state=y.LOADER_IDLE},"reset"),shutdown:r(function(){this.reset(),this.state=y.LOADER_SHUTDOWN,this.removeAllListeners(),this.systems.events.off(p.UPDATE,this.update,this),this.systems.events.off(p.SHUTDOWN,this.shutdown,this)},"shutdown"),destroy:r(function(){this.shutdown(),this.state=y.LOADER_DESTROYED,this.systems.events.off(p.UPDATE,this.update,this),this.systems.events.off(p.START,this.pluginStart,this),this.list=null,this.inflight=null,this.queue=null,this.scene=null,this.systems=null,this.textureManager=null,this.cacheManager=null,this.sceneManager=null},"destroy")});d.register("Loader",m,"load"),n.exports=m},3374:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(79291),y=i(92638),c=r(function(o,l){var a=o===void 0?y():f({},o);if(l)for(var u in l)l[u]!==void 0&&(a[u]=l[u]);return a},"MergeXHRSettings");n.exports=c},26430:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(83419),y=i(23906),c=i(54899),o=new f({initialize:r(function(a,u,v,d){var p=[];d.forEach(function(x){x&&p.push(x)}),this.loader=a,this.type=u,this.key=v;var g=this.key;a.prefix&&a.prefix!==""&&(this.key=a.prefix+g),this.multiKeyIndex=a.multiKeyIndex++,this.files=p,this.state=y.FILE_PENDING,this.complete=!1,this.pending=p.length,this.failed=0,this.config={},this.baseURL=a.baseURL,this.path=a.path,this.prefix=a.prefix;for(var m=0;m<p.length;m++)p[m].multiFile=this},"MultiFile"),isReadyToProcess:r(function(){return this.pending===0&&this.failed===0&&!this.complete},"isReadyToProcess"),addToMultiFile:r(function(l){return this.files.push(l),l.multiFile=this,this.pending++,this.complete=!1,this},"addToMultiFile"),onFileComplete:r(function(l){var a=this.files.indexOf(l);a!==-1&&this.pending--},"onFileComplete"),onFileFailed:r(function(l){var a=this.files.indexOf(l);a!==-1&&(this.failed++,console.error('File failed: %s "%s" (via %s "%s")',this.type,this.key,l.type,l.key))},"onFileFailed"),pendingDestroy:r(function(){if(this.state!==y.FILE_PENDING_DESTROY){var l=this.key,a=this.type;this.loader.emit(c.FILE_COMPLETE,l,a),this.loader.emit(c.FILE_KEY_COMPLETE+a+"-"+l,l,a),this.loader.flagForRemoval(this);for(var u=0;u<this.files.length;u++)this.files[u].pendingDestroy();this.state=y.FILE_PENDING_DESTROY}},"pendingDestroy"),destroy:r(function(){this.loader=null,this.files=null,this.config=null},"destroy")});n.exports=o},84376:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(3374),y=r(function(c,o){var l=f(o,c.xhrSettings);if(c.base64){var a=c.url.split(";base64,").pop()||c.url.split(",").pop(),u={responseText:atob(a)};c.onBase64Load(u);return}var v=new XMLHttpRequest;if(v.open("GET",c.src,l.async,l.user,l.password),v.responseType=c.xhrSettings.responseType,v.timeout=l.timeout,l.headers)for(var d in l.headers)v.setRequestHeader(d,l.headers[d]);return l.header&&l.headerValue&&v.setRequestHeader(l.header,l.headerValue),l.requestedWith&&v.setRequestHeader("X-Requested-With",l.requestedWith),l.overrideMimeType&&v.overrideMimeType(l.overrideMimeType),l.withCredentials&&(v.withCredentials=!0),v.onload=c.onLoad.bind(c,v),v.onerror=c.onError.bind(c,v),v.onprogress=c.onProgress.bind(c),v.ontimeout=c.onError.bind(c,v),v.send(),v},"XHRLoader");n.exports=y},92638:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i,f,y,c,o,l){return i===void 0&&(i=""),f===void 0&&(f=!0),y===void 0&&(y=""),c===void 0&&(c=""),o===void 0&&(o=0),l===void 0&&(l=!1),{responseType:i,async:f,user:y,password:c,timeout:o,headers:void 0,header:void 0,headerValue:void 0,requestedWith:!1,overrideMimeType:void 0,withCredentials:l}},"XHRSettings");n.exports=T},23906:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={LOADER_IDLE:0,LOADER_LOADING:1,LOADER_PROCESSING:2,LOADER_COMPLETE:3,LOADER_SHUTDOWN:4,LOADER_DESTROYED:5,FILE_PENDING:10,FILE_LOADING:11,FILE_LOADED:12,FILE_FAILED:13,FILE_PROCESSING:14,FILE_ERRORED:16,FILE_COMPLETE:17,FILE_DESTROYED:18,FILE_POPULATED:19,FILE_PENDING_DESTROY:20};n.exports=T},42155:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="addfile"},38991:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="complete"},27540:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="filecomplete"},87464:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="filecomplete-"},94486:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="loaderror"},13035:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="load"},38144:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="fileprogress"},97520:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="postprocess"},85595:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="progress"},55680:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="start"},54899:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={ADD:i(42155),COMPLETE:i(38991),FILE_COMPLETE:i(27540),FILE_KEY_COMPLETE:i(87464),FILE_LOAD_ERROR:i(94486),FILE_LOAD:i(13035),FILE_PROGRESS:i(38144),POST_PROCESS:i(97520),PROGRESS:i(85595),START:i(55680)}},14135:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(83419),y=i(74099),c=i(518),o=i(54899),l=new f({Extends:c,initialize:r(function(u,v,d,p,g){c.call(this,u,v,d,p,g),this.type="animationJSON"},"AnimationJSONFile"),onProcess:r(function(){this.loader.once(o.POST_PROCESS,this.onLoadComplete,this),c.prototype.onProcess.call(this)},"onProcess"),onLoadComplete:r(function(){this.loader.systems.anims.fromJSON(this.data)},"onLoadComplete")});y.register("animation",function(a,u,v,d){if(Array.isArray(a))for(var p=0;p<a.length;p++)this.addFile(new l(this,a[p]));else this.addFile(new l(this,a,u,d,v));return this}),n.exports=l},76272:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(83419),y=i(74099),c=i(95540),o=i(19550),l=i(41212),a=i(518),u=i(26430),v=new f({Extends:u,initialize:r(function(p,g,m,x,C,P){var A,R;if(l(g)){var L=g;g=c(L,"key"),A=new o(p,{key:g,url:c(L,"textureURL"),extension:c(L,"textureExtension","png"),normalMap:c(L,"normalMap"),xhrSettings:c(L,"textureXhrSettings")}),R=new a(p,{key:g,url:c(L,"atlasURL"),extension:c(L,"atlasExtension","json"),xhrSettings:c(L,"atlasXhrSettings")})}else A=new o(p,g,m,C),R=new a(p,g,x,P);A.linkFile?u.call(this,p,"atlasjson",g,[A,R,A.linkFile]):u.call(this,p,"atlasjson",g,[A,R])},"AsepriteFile"),addToCache:r(function(){if(this.isReadyToProcess()){var d=this.files[0],p=this.files[1],g=this.files[2]?this.files[2].data:null;this.loader.textureManager.addAtlas(d.key,d.data,p.data,g),p.addToCache(),this.complete=!0}},"addToCache")});y.register("aseprite",function(d,p,g,m,x){var C;if(Array.isArray(d))for(var P=0;P<d.length;P++)C=new v(this,d[P]),this.addFile(C.files);else C=new v(this,d,p,g,m,x),this.addFile(C.files);return this}),n.exports=v},38734:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(83419),y=i(74099),c=i(95540),o=i(19550),l=i(41212),a=i(518),u=i(26430),v=new f({Extends:u,initialize:r(function(p,g,m,x,C,P){var A,R;if(l(g)){var L=g;g=c(L,"key"),A=new o(p,{key:g,url:c(L,"textureURL"),extension:c(L,"textureExtension","png"),normalMap:c(L,"normalMap"),xhrSettings:c(L,"textureXhrSettings")}),R=new a(p,{key:g,url:c(L,"atlasURL"),extension:c(L,"atlasExtension","json"),xhrSettings:c(L,"atlasXhrSettings")})}else A=new o(p,g,m,C),R=new a(p,g,x,P);A.linkFile?u.call(this,p,"atlasjson",g,[A,R,A.linkFile]):u.call(this,p,"atlasjson",g,[A,R])},"AtlasJSONFile"),addToCache:r(function(){if(this.isReadyToProcess()){var d=this.files[0],p=this.files[1],g=this.files[2]?this.files[2].data:null;this.loader.textureManager.addAtlas(d.key,d.data,p.data,g),this.complete=!0}},"addToCache")});y.register("atlas",function(d,p,g,m,x){var C;if(Array.isArray(d))for(var P=0;P<d.length;P++)C=new v(this,d[P]),this.addFile(C.files);else C=new v(this,d,p,g,m,x),this.addFile(C.files);return this}),n.exports=v},74599:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(83419),y=i(74099),c=i(95540),o=i(19550),l=i(41212),a=i(26430),u=i(57318),v=new f({Extends:a,initialize:r(function(p,g,m,x,C,P){var A,R;if(l(g)){var L=g;g=c(L,"key"),A=new o(p,{key:g,url:c(L,"textureURL"),extension:c(L,"textureExtension","png"),normalMap:c(L,"normalMap"),xhrSettings:c(L,"textureXhrSettings")}),R=new u(p,{key:g,url:c(L,"atlasURL"),extension:c(L,"atlasExtension","xml"),xhrSettings:c(L,"atlasXhrSettings")})}else A=new o(p,g,m,C),R=new u(p,g,x,P);A.linkFile?a.call(this,p,"atlasxml",g,[A,R,A.linkFile]):a.call(this,p,"atlasxml",g,[A,R])},"AtlasXMLFile"),addToCache:r(function(){if(this.isReadyToProcess()){var d=this.files[0],p=this.files[1],g=this.files[2]?this.files[2].data:null;this.loader.textureManager.addAtlasXML(d.key,d.data,p.data,g),this.complete=!0}},"addToCache")});y.register("atlasXML",function(d,p,g,m,x){var C;if(Array.isArray(d))for(var P=0;P<d.length;P++)C=new v(this,d[P]),this.addFile(C.files);else C=new v(this,d,p,g,m,x),this.addFile(C.files);return this}),n.exports=v},21097:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(83419),y=i(23906),c=i(41299),o=i(74099),l=i(95540),a=i(89749),u=i(41212),v=new f({Extends:c,initialize:r(function(p,g,m,x,C){if(u(g)){var P=g;g=l(P,"key"),x=l(P,"xhrSettings"),C=l(P,"context",C)}var A={type:"audio",cache:p.cacheManager.audio,extension:m.type,responseType:"arraybuffer",key:g,url:m.url,xhrSettings:x,config:{context:C}};c.call(this,p,A)},"AudioFile"),onProcess:r(function(){this.state=y.FILE_PROCESSING;var d=this;this.config.context.decodeAudioData(this.xhrLoader.response,function(p){d.data=p,d.onProcessComplete()},function(p){console.error("Error decoding audio: "+d.key+" - ",p?p.message:null),d.onProcessError()}),this.config.context=null},"onProcess")});v.create=function(d,p,g,m,x){var C=d.systems.game,P=C.config.audio,A=C.device.audio;u(p)&&(g=l(p,"url",[]),m=l(p,"config",{}));var R=v.getAudioURL(C,g);return R?A.webAudio&&!P.disableWebAudio?new v(d,p,R,x,C.sound.context):new a(d,p,R,m):(console.warn('No audio URLs for "%s" matched this device',p),null)},v.getAudioURL=function(d,p){Array.isArray(p)||(p=[p]);for(var g=0;g<p.length;g++){var m=l(p[g],"url",p[g]);if(m.indexOf("blob:")===0||m.indexOf("data:")===0)return{url:m,type:""};var x=m.match(/\.([a-zA-Z0-9]+)($|\?)/);if(x=l(p[g],"type",x?x[1]:"").toLowerCase(),d.device.audio[x])return{url:m,type:x}}return null},o.register("audio",function(d,p,g,m){var x=this.systems.game,C=x.config.audio,P=x.device.audio;if(C.noAudio||!P.webAudio&&!P.audioData)return this;var A;if(Array.isArray(d))for(var R=0;R<d.length;R++)A=v.create(this,d[R]),A&&this.addFile(A);else A=v.create(this,d,p,g,m),A&&this.addFile(A);return this}),n.exports=v},89524:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(21097),y=i(83419),c=i(74099),o=i(95540),l=i(41212),a=i(518),u=i(26430),v=new y({Extends:u,initialize:r(function(p,g,m,x,C,P,A){if(l(g)){var R=g;g=o(R,"key"),m=o(R,"jsonURL"),x=o(R,"audioURL"),C=o(R,"audioConfig"),P=o(R,"audioXhrSettings"),A=o(R,"jsonXhrSettings")}var L;if(!x)L=new a(p,g,m,A),u.call(this,p,"audiosprite",g,[L]),this.config.resourceLoad=!0,this.config.audioConfig=C,this.config.audioXhrSettings=P;else{var O=f.create(p,g,x,C,P);O&&(L=new a(p,g,m,A),u.call(this,p,"audiosprite",g,[O,L]),this.config.resourceLoad=!1)}},"AudioSpriteFile"),onFileComplete:r(function(d){var p=this.files.indexOf(d);if(p!==-1&&(this.pending--,this.config.resourceLoad&&d.type==="json"&&d.data.hasOwnProperty("resources"))){var g=d.data.resources,m=o(this.config,"audioConfig"),x=o(this.config,"audioXhrSettings"),C=f.create(this.loader,d.key,g,m,x);C&&(this.addToMultiFile(C),this.loader.addFile(C))}},"onFileComplete"),addToCache:r(function(){if(this.isReadyToProcess()){var d=this.files[0],p=this.files[1];d.addToCache(),p.addToCache(),this.complete=!0}},"addToCache")});c.register("audioSprite",function(d,p,g,m,x,C){var P=this.systems.game,A=P.config.audio,R=P.device.audio;if(A&&A.noAudio||!R.webAudio&&!R.audioData)return this;var L;if(Array.isArray(d))for(var O=0;O<d.length;O++)L=new v(this,d[O]),L.files&&this.addFile(L.files);else L=new v(this,d,p,g,m,x,C),L.files&&this.addFile(L.files);return this})},85722:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(83419),y=i(23906),c=i(41299),o=i(74099),l=i(95540),a=i(41212),u=new f({Extends:c,initialize:r(function(d,p,g,m,x){var C="bin";if(a(p)){var P=p;p=l(P,"key"),g=l(P,"url"),m=l(P,"xhrSettings"),C=l(P,"extension",C),x=l(P,"dataType",x)}var A={type:"binary",cache:d.cacheManager.binary,extension:C,responseType:"arraybuffer",key:p,url:g,xhrSettings:m,config:{dataType:x}};c.call(this,d,A)},"BinaryFile"),onProcess:r(function(){this.state=y.FILE_PROCESSING;var v=this.config.dataType;this.data=v?new v(this.xhrLoader.response):this.xhrLoader.response,this.onProcessComplete()},"onProcess")});o.register("binary",function(v,d,p,g){if(Array.isArray(v))for(var m=0;m<v.length;m++)this.addFile(new u(this,v[m]));else this.addFile(new u(this,v,d,g,p));return this}),n.exports=u},97025:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(83419),y=i(74099),c=i(95540),o=i(19550),l=i(41212),a=i(26430),u=i(21859),v=i(57318),d=new f({Extends:a,initialize:r(function(g,m,x,C,P,A){var R,L;if(l(m)){var O=m;m=c(O,"key"),R=new o(g,{key:m,url:c(O,"textureURL"),extension:c(O,"textureExtension","png"),normalMap:c(O,"normalMap"),xhrSettings:c(O,"textureXhrSettings")}),L=new v(g,{key:m,url:c(O,"fontDataURL"),extension:c(O,"fontDataExtension","xml"),xhrSettings:c(O,"fontDataXhrSettings")})}else R=new o(g,m,x,P),L=new v(g,m,C,A);R.linkFile?a.call(this,g,"bitmapfont",m,[R,L,R.linkFile]):a.call(this,g,"bitmapfont",m,[R,L])},"BitmapFontFile"),addToCache:r(function(){if(this.isReadyToProcess()){var p=this.files[0],g=this.files[1];p.addToCache();var m=p.cache.get(p.key),x=u(g.data,p.cache.getFrame(p.key),0,0,m);this.loader.cacheManager.bitmapFont.add(p.key,{data:x,texture:p.key,frame:null}),this.complete=!0}},"addToCache")});y.register("bitmapFont",function(p,g,m,x,C){var P;if(Array.isArray(p))for(var A=0;A<p.length;A++)P=new d(this,p[A]),this.addFile(P.files);else P=new d(this,p,g,m,x,C),this.addFile(P.files);return this}),n.exports=d},16024:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(83419),y=i(23906),c=i(41299),o=i(74099),l=i(95540),a=i(41212),u=new f({Extends:c,initialize:r(function(d,p,g,m){var x="css";if(a(p)){var C=p;p=l(C,"key"),g=l(C,"url"),m=l(C,"xhrSettings"),x=l(C,"extension",x)}var P={type:"script",cache:!1,extension:x,responseType:"text",key:p,url:g,xhrSettings:m};c.call(this,d,P)},"CSSFile"),onProcess:r(function(){this.state=y.FILE_PROCESSING,this.data=document.createElement("style"),this.data.defer=!1,this.data.innerHTML=this.xhrLoader.responseText,document.head.appendChild(this.data),this.onProcessComplete()},"onProcess")});o.register("css",function(v,d,p){if(Array.isArray(v))for(var g=0;g<v.length;g++)this.addFile(new u(this,v[g]));else this.addFile(new u(this,v,d,p));return this}),n.exports=u},69559:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2021 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(38734),y=i(85722),c=i(83419),o=i(74099),l=i(95540),a=i(19550),u=i(41212),v=i(518),d=i(31403),p=i(46975),g=i(59327),m=i(26430),x=i(82038),C=i(55222),P=new c({Extends:m,initialize:r(function(R,L,O,w){if(O.multiAtlasURL){var b=new v(R,{key:L,url:O.multiAtlasURL,xhrSettings:w,config:O});m.call(this,R,"texture",L,[b])}else{var F=O.textureURL.substr(O.textureURL.length-3);O.type||(O.type=F.toLowerCase()==="ktx"?"KTX":"PVR");var M=new y(R,{key:L,url:O.textureURL,extension:F,xhrSettings:w,config:O});if(O.atlasURL){var I=new v(R,{key:L,url:O.atlasURL,xhrSettings:w,config:O});m.call(this,R,"texture",L,[M,I])}else m.call(this,R,"texture",L,[M])}this.config=O},"CompressedTextureFile"),onFileComplete:r(function(A){var R=this.files.indexOf(A);if(R!==-1){if(this.pending--,!this.config.multiAtlasURL)return;if(A.type==="json"&&A.data.hasOwnProperty("textures")){var L=A.data.textures,O=this.config,w=this.loader,b=w.baseURL,F=w.path,M=w.prefix,I=l(O,"multiBaseURL",this.baseURL),B=l(O,"multiPath",this.path),G=l(O,"prefix",this.prefix),N=l(O,"textureXhrSettings");I&&w.setBaseURL(I),B&&w.setPath(B),G&&w.setPrefix(G);for(var z=0;z<L.length;z++){var H=L[z].image,$="CMA"+this.multiKeyIndex+"_"+H,V=new y(w,$,H,N);if(this.addToMultiFile(V),w.addFile(V),L[z].normalMap){var Y=new y(w,$,L[z].normalMap,N);Y.type="normalMap",V.setLink(Y),this.addToMultiFile(Y),w.addFile(Y)}}w.setBaseURL(b),w.setPath(F),w.setPrefix(M)}}},"onFileComplete"),addToCache:r(function(){function A(I){console.warn('Compressed Texture Invalid: "'+b.key+'". '+I)}if(r(A,"compressionWarning"),this.isReadyToProcess()){var R=this.config;if(R.multiAtlasURL)this.addMultiToCache();else{var L=this.loader.systems.renderer,O=this.loader.textureManager,w,b=this.files[0],F=this.files[1];if(R.type==="PVR"?w=x(b.data):R.type==="KTX"&&(w=d(b.data),w||A("KTX file contains unsupported format.")),w&&!C(w)&&(A("Texture dimensions failed verification. Check the texture format specifications for "+R.format+" 0x"+w.internalFormat.toString(16)+"."),w=null),w&&!L.supportsCompressedTexture(R.format,w.internalFormat)&&(A("Texture format "+R.format+" with internal format "+w.internalFormat+" not supported by the GPU. Texture invalid. This is often due to the texture using sRGB instead of linear RGB."),w=null),w){w.format=L.getCompressedTextureName(R.format,w.internalFormat);var M=F&&F.data?F.data:null;O.addCompressedTexture(b.key,w,M)}}this.complete=!0}},"addToCache"),addMultiToCache:r(function(){for(var A=this.config,R=this.files[0],L=[],O=[],w=[],b=this.loader.systems.renderer,F=this.loader.textureManager,M,I=1;I<this.files.length;I++){var B=this.files[I];if(B.type!=="normalMap")for(var G=B.key.indexOf("_"),N=B.key.substr(G+1),z=B.data,H=0;H<R.data.textures.length;H++){var $=R.data.textures[H];if($.image===N){A.type==="PVR"?M=x(z):A.type==="KTX"&&(M=d(z)),M&&b.supportsCompressedTexture(A.format,M.internalFormat)&&(M.format=b.getCompressedTextureName(A.format,M.internalFormat),O.push(M),L.push($),B.linkFile&&w.push(B.linkFile.data));break}}}w.length===0&&(w=void 0),F.addAtlasJSONArray(this.key,O,L,w),this.complete=!0},"addMultiToCache")});o.register("texture",function(A,R,L){var O=this.systems.renderer,w=r(function(F,M,I,B){var G={format:null,type:null,textureURL:void 0,atlasURL:void 0,multiAtlasURL:void 0,multiPath:void 0,multiBaseURL:void 0};if(u(M)){var N=M;M=l(N,"key"),I=l(N,"url"),B=l(N,"xhrSettings")}var z=!1;for(var H in I)if(O.supportsCompressedTexture(H)){var $=I[H];typeof $=="string"?G.textureURL=$:G=p($,G),G.format=H.toUpperCase(),z=!0;break}if(!z)console.warn("No supported compressed texture format or IMG fallback",M);else if(G.format==="IMG"){var V,Y;G.multiAtlasURL?(Y=new g(F,M,G.multiAtlasURL,G.multiPath,G.multiBaseURL,B),V=Y.files):G.atlasURL?(Y=new f(F,M,G.textureURL,G.atlasURL,B),V=Y.files):V=new a(F,M,G.textureURL,B),F.addFile(V)}else{var D=new P(F,M,G,B);F.addFile(D.files)}},"AddEntry");if(Array.isArray(A))for(var b=0;b<A.length;b++)w(this,A[b]);else w(this,A,R,L);return this}),n.exports=P},47931:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(83419),y=i(23906),c=i(41299),o=i(74099),l=i(95540),a=i(41212),u=i(73894),v=new f({Extends:c,initialize:r(function(p,g,m,x,C){var P="glsl";if(a(g)){var A=g;g=l(A,"key"),m=l(A,"url"),x=l(A,"shaderType","fragment"),C=l(A,"xhrSettings"),P=l(A,"extension",P)}else x===void 0&&(x="fragment");var R={type:"glsl",cache:p.cacheManager.shader,extension:P,responseType:"text",key:g,url:m,config:{shaderType:x},xhrSettings:C};c.call(this,p,R)},"GLSLFile"),onProcess:r(function(){this.state=y.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()},"onProcess"),addToCache:r(function(){var d=this.data.split(`
`),p=this.extractBlock(d,0);if(p)for(;p;){var g=this.getShaderName(p.header),m=this.getShaderType(p.header),x=this.getShaderUniforms(p.header),C=p.shader;if(this.cache.has(g)){var P=this.cache.get(g);m==="fragment"?P.fragmentSrc=C:P.vertexSrc=C,P.uniforms||(P.uniforms=x)}else m==="fragment"?this.cache.add(g,new u(g,C,"",x)):this.cache.add(g,new u(g,"",C,x));p=this.extractBlock(d,p.offset)}else this.config.shaderType==="fragment"?this.cache.add(this.key,new u(this.key,this.data)):this.cache.add(this.key,new u(this.key,"",this.data))},"addToCache"),getShaderName:r(function(d){for(var p=0;p<d.length;p++){var g=d[p].trim();if(g.substring(0,5)==="name:")return g.substring(5).trim()}return this.key},"getShaderName"),getShaderType:r(function(d){for(var p=0;p<d.length;p++){var g=d[p].trim();if(g.substring(0,5)==="type:")return g.substring(5).trim()}return this.config.shaderType},"getShaderType"),getShaderUniforms:r(function(d){for(var p={},g=0;g<d.length;g++){var m=d[g].trim();if(m.substring(0,8)==="uniform."){var x=m.indexOf(":");if(x){var C=m.substring(8,x);try{p[C]=JSON.parse(m.substring(x+1))}catch{console.warn("Invalid uniform JSON: "+C)}}}}return p},"getShaderUniforms"),extractBlock:r(function(d,p){for(var g=-1,m=-1,x=-1,C=!1,P=!1,A=[],R=[],L=p;L<d.length;L++){var O=d[L].trim();if(O==="---")if(g===-1)g=L,C=!0;else if(C)m=L,C=!1,P=!0;else{P=!1;break}else C?A.push(O):P&&(R.push(O),x=L)}return!C&&m!==-1?{header:A,shader:R.join(`
`),offset:x}:null},"extractBlock")});o.register("glsl",function(d,p,g,m){if(Array.isArray(d))for(var x=0;x<d.length;x++)this.addFile(new v(this,d[x]));else this.addFile(new v(this,d,p,g,m));return this}),n.exports=v},89749:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(83419),y=i(54899),c=i(41299),o=i(95540),l=i(98356),a=i(41212),u=new f({Extends:c,initialize:r(function(d,p,g,m){if(a(p)){var x=p;p=o(x,"key"),m=o(x,"config",m)}var C={type:"audio",cache:d.cacheManager.audio,extension:g.type,key:p,url:g.url,config:m};c.call(this,d,C),this.locked="ontouchstart"in window,this.loaded=!1,this.filesLoaded=0,this.filesTotal=0},"HTML5AudioFile"),onLoad:r(function(){this.loaded||(this.loaded=!0,this.loader.nextFile(this,!0))},"onLoad"),onError:r(function(){for(var v=0;v<this.data.length;v++){var d=this.data[v];d.oncanplaythrough=null,d.onerror=null}this.loader.nextFile(this,!1)},"onError"),onProgress:r(function(v){var d=v.target;d.oncanplaythrough=null,d.onerror=null,this.filesLoaded++,this.percentComplete=Math.min(this.filesLoaded/this.filesTotal,1),this.loader.emit(y.FILE_PROGRESS,this,this.percentComplete),this.filesLoaded===this.filesTotal&&this.onLoad()},"onProgress"),load:r(function(){this.data=[];var v=this.config&&this.config.instances||1;this.filesTotal=v,this.filesLoaded=0,this.percentComplete=0;for(var d=0;d<v;d++){var p=new Audio;p.dataset||(p.dataset={}),p.dataset.name=this.key+("0"+d).slice(-2),p.dataset.used="false",this.locked?p.dataset.locked="true":(p.dataset.locked="false",p.preload="auto",p.oncanplaythrough=this.onProgress.bind(this),p.onerror=this.onError.bind(this)),this.data.push(p)}for(d=0;d<this.data.length;d++)p=this.data[d],p.src=l(this,this.loader.baseURL),this.locked||p.load();this.locked&&setTimeout(this.onLoad.bind(this))},"load")});n.exports=u},88470:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(83419),y=i(23906),c=i(41299),o=i(74099),l=i(95540),a=i(41212),u=new f({Extends:c,initialize:r(function(d,p,g,m){var x="html";if(a(p)){var C=p;p=l(C,"key"),g=l(C,"url"),m=l(C,"xhrSettings"),x=l(C,"extension",x)}var P={type:"text",cache:d.cacheManager.html,extension:x,responseType:"text",key:p,url:g,xhrSettings:m};c.call(this,d,P)},"HTMLFile"),onProcess:r(function(){this.state=y.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()},"onProcess")});o.register("html",function(v,d,p){if(Array.isArray(v))for(var g=0;g<v.length;g++)this.addFile(new u(this,v[g]));else this.addFile(new u(this,v,d,p));return this}),n.exports=u},14643:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(83419),y=i(23906),c=i(41299),o=i(74099),l=i(95540),a=i(41212),u=new f({Extends:c,initialize:r(function(d,p,g,m,x,C){m===void 0&&(m=512),x===void 0&&(x=512);var P="html";if(a(p)){var A=p;p=l(A,"key"),g=l(A,"url"),C=l(A,"xhrSettings"),P=l(A,"extension",P),m=l(A,"width",m),x=l(A,"height",x)}var R={type:"html",cache:d.textureManager,extension:P,responseType:"text",key:p,url:g,xhrSettings:C,config:{width:m,height:x}};c.call(this,d,R)},"HTMLTextureFile"),onProcess:r(function(){this.state=y.FILE_PROCESSING;var v=this.config.width,d=this.config.height,p=[];p.push('<svg width="'+v+'px" height="'+d+'px" viewBox="0 0 '+v+" "+d+'" xmlns="http://www.w3.org/2000/svg">'),p.push('<foreignObject width="100%" height="100%">'),p.push('<body xmlns="http://www.w3.org/1999/xhtml">'),p.push(this.xhrLoader.responseText),p.push("</body>"),p.push("</foreignObject>"),p.push("</svg>");var g=[p.join(`
`)],m=this;try{var x=new window.Blob(g,{type:"image/svg+xml;charset=utf-8"})}catch{m.state=y.FILE_ERRORED,m.onProcessComplete();return}this.data=new Image,this.data.crossOrigin=this.crossOrigin,this.data.onload=function(){c.revokeObjectURL(m.data),m.onProcessComplete()},this.data.onerror=function(){c.revokeObjectURL(m.data),m.onProcessError()},c.createObjectURL(this.data,x,"image/svg+xml")},"onProcess"),addToCache:r(function(){this.cache.addImage(this.key,this.data)},"addToCache")});o.register("htmlTexture",function(v,d,p,g,m){if(Array.isArray(v))for(var x=0;x<v.length;x++)this.addFile(new u(this,v[x]));else this.addFile(new u(this,v,d,p,g,m));return this}),n.exports=u},19550:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(83419),y=i(23906),c=i(41299),o=i(74099),l=i(95540),a=i(41212),u=i(98356),v=new f({Extends:c,initialize:r(function d(p,g,m,x,C){var P="png",A;if(a(g)){var R=g;g=l(R,"key"),m=l(R,"url"),A=l(R,"normalMap"),x=l(R,"xhrSettings"),P=l(R,"extension",P),C=l(R,"frameConfig")}Array.isArray(m)&&(A=m[1],m=m[0]);var L={type:"image",cache:p.textureManager,extension:P,responseType:"blob",key:g,url:m,xhrSettings:x,config:C};if(c.call(this,p,L),A){var O=new d(p,this.key,A,x,C);O.type="normalMap",this.setLink(O),p.addFile(O)}this.useImageElementLoad=p.imageLoadType==="HTMLImageElement"||this.base64,this.useImageElementLoad&&(this.load=this.loadImage,this.onProcess=this.onProcessImage)},"ImageFile"),onProcess:r(function(){this.state=y.FILE_PROCESSING,this.data=new Image,this.data.crossOrigin=this.crossOrigin;var d=this;this.data.onload=function(){c.revokeObjectURL(d.data),d.onProcessComplete()},this.data.onerror=function(){c.revokeObjectURL(d.data),d.onProcessError()},c.createObjectURL(this.data,this.xhrLoader.response,"image/png")},"onProcess"),onProcessImage:r(function(){var d=this.state;this.state=y.FILE_PROCESSING,d===y.FILE_LOADED?this.onProcessComplete():this.onProcessError()},"onProcessImage"),loadImage:r(function(){this.state=y.FILE_LOADING,this.src=u(this,this.loader.baseURL),this.data=new Image,this.data.crossOrigin=this.crossOrigin;var d=this;this.data.onload=function(){d.state=y.FILE_LOADED,d.loader.nextFile(d,!0)},this.data.onerror=function(){d.loader.nextFile(d,!1)},this.data.src=this.src},"loadImage"),addToCache:r(function(){var d=this.linkFile;d?d.state>=y.FILE_COMPLETE&&(d.type==="spritesheet"?d.addToCache():this.type==="normalMap"?this.cache.addImage(this.key,d.data,this.data):this.cache.addImage(this.key,this.data,d.data)):this.cache.addImage(this.key,this.data)},"addToCache")});o.register("image",function(d,p,g){if(Array.isArray(d))for(var m=0;m<d.length;m++)this.addFile(new v(this,d[m]));else this.addFile(new v(this,d,p,g));return this}),n.exports=v},518:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(83419),y=i(23906),c=i(41299),o=i(74099),l=i(95540),a=i(35154),u=i(41212),v=new f({Extends:c,initialize:r(function(p,g,m,x,C){var P="json";if(u(g)){var A=g;g=l(A,"key"),m=l(A,"url"),x=l(A,"xhrSettings"),P=l(A,"extension",P),C=l(A,"dataKey",C)}var R={type:"json",cache:p.cacheManager.json,extension:P,responseType:"text",key:g,url:m,xhrSettings:x,config:C};c.call(this,p,R),u(m)&&(C?this.data=a(m,C):this.data=m,this.state=y.FILE_POPULATED)},"JSONFile"),onProcess:r(function(){if(this.state!==y.FILE_POPULATED){this.state=y.FILE_PROCESSING;try{var d=JSON.parse(this.xhrLoader.responseText)}catch(g){throw this.onProcessError(),g}var p=this.config;typeof p=="string"?this.data=a(d,p,d):this.data=d}this.onProcessComplete()},"onProcess")});o.register("json",function(d,p,g,m){if(Array.isArray(d))for(var x=0;x<d.length;x++)this.addFile(new v(this,d[x]));else this.addFile(new v(this,d,p,m,g));return this}),n.exports=v},59327:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(83419),y=i(74099),c=i(95540),o=i(19550),l=i(41212),a=i(518),u=i(26430),v=new f({Extends:u,initialize:r(function(p,g,m,x,C,P,A){if(l(g)){var R=g;g=c(R,"key"),c(R,"url",!1)?m=c(R,"url"):m=c(R,"atlasURL"),P=c(R,"xhrSettings"),x=c(R,"path"),C=c(R,"baseURL"),A=c(R,"textureXhrSettings")}var L=new a(p,g,m,P);u.call(this,p,"multiatlas",g,[L]),this.config.path=x,this.config.baseURL=C,this.config.textureXhrSettings=A},"MultiAtlasFile"),onFileComplete:r(function(d){var p=this.files.indexOf(d);if(p!==-1&&(this.pending--,d.type==="json"&&d.data.hasOwnProperty("textures"))){var g=d.data.textures,m=this.config,x=this.loader,C=x.baseURL,P=x.path,A=x.prefix,R=c(m,"baseURL",this.baseURL),L=c(m,"path",this.path),O=c(m,"prefix",this.prefix),w=c(m,"textureXhrSettings");x.setBaseURL(R),x.setPath(L),x.setPrefix(O);for(var b=0;b<g.length;b++){var F=g[b].image,M="MA"+this.multiKeyIndex+"_"+F,I=new o(x,M,F,w);if(this.addToMultiFile(I),x.addFile(I),g[b].normalMap){var B=new o(x,M,g[b].normalMap,w);B.type="normalMap",I.setLink(B),this.addToMultiFile(B),x.addFile(B)}}x.setBaseURL(C),x.setPath(P),x.setPrefix(A)}},"onFileComplete"),addToCache:r(function(){if(this.isReadyToProcess()){for(var d=this.files[0],p=[],g=[],m=[],x=1;x<this.files.length;x++){var C=this.files[x];if(C.type!=="normalMap")for(var P=C.key.indexOf("_"),A=C.key.substr(P+1),R=C.data,L=0;L<d.data.textures.length;L++){var O=d.data.textures[L];if(O.image===A){g.push(R),p.push(O),C.linkFile&&m.push(C.linkFile.data);break}}}m.length===0&&(m=void 0),this.loader.textureManager.addAtlasJSONArray(this.key,g,p,m),this.complete=!0}},"addToCache")});y.register("multiatlas",function(d,p,g,m,x){var C;if(Array.isArray(d))for(var P=0;P<d.length;P++)C=new v(this,d[P]),this.addFile(C.files);else C=new v(this,d,p,g,m,x),this.addFile(C.files);return this}),n.exports=v},99297:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(83419),y=i(74099),c=i(95540),o=i(41212),l=i(26430),a=i(34328),u=new f({Extends:l,initialize:r(function(d,p,g,m){var x="js",C=[];if(o(p)){var P=p;p=c(P,"key"),g=c(P,"url"),m=c(P,"xhrSettings"),x=c(P,"extension",x)}Array.isArray(g)||(g=[g]);for(var A=0;A<g.length;A++){var R=new a(d,{key:p+"_"+A.toString(),url:g[A],extension:x,xhrSettings:m});R.onProcess=function(){this.onProcessComplete()},C.push(R)}l.call(this,d,"scripts",p,C)},"MultiScriptFile"),addToCache:r(function(){if(this.isReadyToProcess()){for(var v=0;v<this.files.length;v++){var d=this.files[v];d.data=document.createElement("script"),d.data.language="javascript",d.data.type="text/javascript",d.data.defer=!1,d.data.text=d.xhrLoader.responseText,document.head.appendChild(d.data)}this.complete=!0}},"addToCache")});y.register("scripts",function(v,d,p){var g;if(Array.isArray(v))for(var m=0;m<v.length;m++)g=new u(this,v[m]),this.addFile(g.files);else g=new u(this,v,d,p),this.addFile(g.files);return this}),n.exports=u},41846:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(83419),y=i(74099),c=i(95540),o=i(41212),l=i(26430),a=i(85048),u=i(61485),v=i(78776),d=new f({Extends:l,initialize:r(function(g,m,x,C,P,A){var R,L,O=g.cacheManager.obj;if(o(m)){var w=m;m=c(w,"key"),R=new v(g,{key:m,type:"obj",cache:O,url:c(w,"url"),extension:c(w,"extension","obj"),xhrSettings:c(w,"xhrSettings"),config:{flipUV:c(w,"flipUV",P)}}),C=c(w,"matURL"),C&&(L=new v(g,{key:m,type:"mat",cache:O,url:C,extension:c(w,"matExtension","mat"),xhrSettings:c(w,"xhrSettings")}))}else R=new v(g,{key:m,url:x,type:"obj",cache:O,extension:"obj",xhrSettings:A,config:{flipUV:P}}),C&&(L=new v(g,{key:m,url:C,type:"mat",cache:O,extension:"mat",xhrSettings:A}));l.call(this,g,"obj",m,[R,L])},"OBJFile"),addToCache:r(function(){if(this.isReadyToProcess()){var p=this.files[0],g=this.files[1],m=a(p.data,p.config.flipUV);g&&(m.materials=u(g.data)),p.cache.add(p.key,m),this.complete=!0}},"addToCache")});y.register("obj",function(p,g,m,x,C){var P;if(Array.isArray(p))for(var A=0;A<p.length;A++)P=new d(this,p[A]),this.addFile(P.files);else P=new d(this,p,g,m,x,C),this.addFile(P.files);return this}),n.exports=d},58610:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(83419),y=i(23906),c=i(74099),o=i(518),l=new f({Extends:o,initialize:r(function(u,v,d,p,g){o.call(this,u,v,d,p,g),this.type="packfile"},"PackFile"),onProcess:r(function(){if(this.state!==y.FILE_POPULATED&&(this.state=y.FILE_PROCESSING,this.data=JSON.parse(this.xhrLoader.responseText)),this.data.hasOwnProperty("files")&&this.config){var a={};a[this.config]=this.data,this.data=a}this.loader.addPack(this.data,this.config),this.onProcessComplete()},"onProcess")});c.register("pack",function(a,u,v,d){if(Array.isArray(a))for(var p=0;p<a.length;p++)this.addFile(new l(this,a[p]));else this.addFile(new l(this,a,u,d,v));return this}),n.exports=l},48988:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(83419),y=i(23906),c=i(41299),o=i(74099),l=i(95540),a=i(41212),u=new f({Extends:c,initialize:r(function(d,p,g,m,x,C){var P="js";if(a(p)){var A=p;p=l(A,"key"),g=l(A,"url"),C=l(A,"xhrSettings"),P=l(A,"extension",P),m=l(A,"start"),x=l(A,"mapping")}var R={type:"plugin",cache:!1,extension:P,responseType:"text",key:p,url:g,xhrSettings:C,config:{start:m,mapping:x}};c.call(this,d,R),typeof g=="function"&&(this.data=g,this.state=y.FILE_POPULATED)},"PluginFile"),onProcess:r(function(){var v=this.loader.systems.plugins,d=this.config,p=l(d,"start",!1),g=l(d,"mapping",null);if(this.state===y.FILE_POPULATED)v.install(this.key,this.data,p,g);else{this.state=y.FILE_PROCESSING,this.data=document.createElement("script"),this.data.language="javascript",this.data.type="text/javascript",this.data.defer=!1,this.data.text=this.xhrLoader.responseText,document.head.appendChild(this.data);var m=v.install(this.key,window[this.key],p,g);(p||g)&&(this.loader.systems[g]=m,this.loader.scene[g]=m)}this.onProcessComplete()},"onProcess")});o.register("plugin",function(v,d,p,g,m){if(Array.isArray(v))for(var x=0;x<v.length;x++)this.addFile(new u(this,v[x]));else this.addFile(new u(this,v,d,p,g,m));return this}),n.exports=u},67397:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(83419),y=i(23906),c=i(41299),o=i(74099),l=i(95540),a=i(41212),u=new f({Extends:c,initialize:r(function(d,p,g,m,x){var C="svg";if(a(p)){var P=p;p=l(P,"key"),g=l(P,"url"),m=l(P,"svgConfig",{}),x=l(P,"xhrSettings"),C=l(P,"extension",C)}var A={type:"svg",cache:d.textureManager,extension:C,responseType:"text",key:p,url:g,xhrSettings:x,config:{width:l(m,"width"),height:l(m,"height"),scale:l(m,"scale")}};c.call(this,d,A)},"SVGFile"),onProcess:r(function(){this.state=y.FILE_PROCESSING;var v=this.xhrLoader.responseText,d=[v],p=this.config.width,g=this.config.height,m=this.config.scale;t:if(p&&g||m){var x=null,C=new DOMParser;x=C.parseFromString(v,"text/xml");var P=x.getElementsByTagName("svg")[0],A=P.hasAttribute("viewBox"),R=parseFloat(P.getAttribute("width")),L=parseFloat(P.getAttribute("height"));if(!A&&R&&L)P.setAttribute("viewBox","0  0 "+R+" "+L);else if(A&&!R&&!L){var O=P.getAttribute("viewBox").split(/\s+|,/);R=O[2],L=O[3]}if(m)if(R&&L)p=R*m,g=L*m;else break t;P.setAttribute("width",p.toString()+"px"),P.setAttribute("height",g.toString()+"px"),d=[new XMLSerializer().serializeToString(P)]}try{var w=new window.Blob(d,{type:"image/svg+xml;charset=utf-8"})}catch{this.onProcessError();return}this.data=new Image,this.data.crossOrigin=this.crossOrigin;var b=this,F=!1;this.data.onload=function(){F||c.revokeObjectURL(b.data),b.onProcessComplete()},this.data.onerror=function(){F?b.onProcessError():(F=!0,c.revokeObjectURL(b.data),b.data.src="data:image/svg+xml,"+encodeURIComponent(d.join("")))},c.createObjectURL(this.data,w,"image/svg+xml")},"onProcess"),addToCache:r(function(){this.cache.addImage(this.key,this.data)},"addToCache")});o.register("svg",function(v,d,p,g){if(Array.isArray(v))for(var m=0;m<v.length;m++)this.addFile(new u(this,v[m]));else this.addFile(new u(this,v,d,p,g));return this}),n.exports=u},88423:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(83419),y=i(23906),c=i(41299),o=i(74099),l=i(95540),a=i(41212),u=new f({Extends:c,initialize:r(function(d,p,g,m){var x="js";if(a(p)){var C=p;p=l(C,"key"),g=l(C,"url"),m=l(C,"xhrSettings"),x=l(C,"extension",x)}var P={type:"text",extension:x,responseType:"text",key:p,url:g,xhrSettings:m};c.call(this,d,P)},"SceneFile"),onProcess:r(function(){this.state=y.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()},"onProcess"),addToCache:r(function(){var v=this.data.concat(`(function(){
return new `+this.key+`();
}).call(this);`),d=eval;this.loader.sceneManager.add(this.key,d(v)),this.complete=!0},"addToCache")});o.register("sceneFile",function(v,d,p){if(Array.isArray(v))for(var g=0;g<v.length;g++)this.addFile(new u(this,v[g]));else this.addFile(new u(this,v,d,p));return this}),n.exports=u},56812:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(83419),y=i(23906),c=i(41299),o=i(74099),l=i(95540),a=i(41212),u=new f({Extends:c,initialize:r(function(d,p,g,m,x,C){var P="js";if(a(p)){var A=p;p=l(A,"key"),g=l(A,"url"),C=l(A,"xhrSettings"),P=l(A,"extension",P),m=l(A,"systemKey"),x=l(A,"sceneKey")}var R={type:"scenePlugin",cache:!1,extension:P,responseType:"text",key:p,url:g,xhrSettings:C,config:{systemKey:m,sceneKey:x}};c.call(this,d,R),typeof g=="function"&&(this.data=g,this.state=y.FILE_POPULATED)},"ScenePluginFile"),onProcess:r(function(){var v=this.loader.systems.plugins,d=this.config,p=this.key,g=l(d,"systemKey",p),m=l(d,"sceneKey",p);this.state===y.FILE_POPULATED?v.installScenePlugin(g,this.data,m,this.loader.scene,!0):(this.state=y.FILE_PROCESSING,this.data=document.createElement("script"),this.data.language="javascript",this.data.type="text/javascript",this.data.defer=!1,this.data.text=this.xhrLoader.responseText,document.head.appendChild(this.data),v.installScenePlugin(g,window[this.key],m,this.loader.scene,!0)),this.onProcessComplete()},"onProcess")});o.register("scenePlugin",function(v,d,p,g,m){if(Array.isArray(v))for(var x=0;x<v.length;x++)this.addFile(new u(this,v[x]));else this.addFile(new u(this,v,d,p,g,m));return this}),n.exports=u},34328:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(83419),y=i(23906),c=i(41299),o=i(74099),l=i(95540),a=i(41212),u=new f({Extends:c,initialize:r(function(d,p,g,m,x){var C="js";if(a(p)){var P=p;p=l(P,"key"),g=l(P,"url"),m=l(P,"type","script"),x=l(P,"xhrSettings"),C=l(P,"extension",C)}else m===void 0&&(m="script");var A={type:m,cache:!1,extension:C,responseType:"text",key:p,url:g,xhrSettings:x};c.call(this,d,A)},"ScriptFile"),onProcess:r(function(){this.state=y.FILE_PROCESSING,this.data=document.createElement("script"),this.data.language="javascript",this.data.type="text/javascript",this.data.defer=!1,this.data.text=this.xhrLoader.responseText,document.head.appendChild(this.data),this.onProcessComplete()},"onProcess")});o.register("script",function(v,d,p,g){if(Array.isArray(v))for(var m=0;m<v.length;m++)this.addFile(new u(this,v[m]));else this.addFile(new u(this,v,d,p,g));return this}),n.exports=u},85035:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(83419),y=i(23906),c=i(74099),o=i(19550),l=new f({Extends:o,initialize:r(function(u,v,d,p,g){o.call(this,u,v,d,g,p),this.type="spritesheet"},"SpriteSheetFile"),addToCache:r(function(){var a=this.linkFile;a?a.state>=y.FILE_COMPLETE&&(this.type==="normalMap"?this.cache.addSpriteSheet(this.key,a.data,this.config,this.data):this.cache.addSpriteSheet(this.key,this.data,this.config,a.data)):this.cache.addSpriteSheet(this.key,this.data,this.config)},"addToCache")});c.register("spritesheet",function(a,u,v,d){if(Array.isArray(a))for(var p=0;p<a.length;p++)this.addFile(new l(this,a[p]));else this.addFile(new l(this,a,u,v,d));return this}),n.exports=l},78776:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(83419),y=i(23906),c=i(41299),o=i(74099),l=i(95540),a=i(41212),u=new f({Extends:c,initialize:r(function(d,p,g,m){var x="text",C="txt",P=d.cacheManager.text;if(a(p)){var A=p;p=l(A,"key"),g=l(A,"url"),m=l(A,"xhrSettings"),C=l(A,"extension",C),x=l(A,"type",x),P=l(A,"cache",P)}var R={type:x,cache:P,extension:C,responseType:"text",key:p,url:g,xhrSettings:m};c.call(this,d,R)},"TextFile"),onProcess:r(function(){this.state=y.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()},"onProcess")});o.register("text",function(v,d,p){if(Array.isArray(v))for(var g=0;g<v.length;g++)this.addFile(new u(this,v[g]));else this.addFile(new u(this,v,d,p));return this}),n.exports=u},49477:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(83419),y=i(23906),c=i(41299),o=i(74099),l=i(95540),a=i(41212),u=i(80341),v=new f({Extends:c,initialize:r(function(p,g,m,x){var C="csv";if(a(g)){var P=g;g=l(P,"key"),m=l(P,"url"),x=l(P,"xhrSettings"),C=l(P,"extension",C)}var A={type:"tilemapCSV",cache:p.cacheManager.tilemap,extension:C,responseType:"text",key:g,url:m,xhrSettings:x};c.call(this,p,A),this.tilemapFormat=u.CSV},"TilemapCSVFile"),onProcess:r(function(){this.state=y.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()},"onProcess"),addToCache:r(function(){var d={format:this.tilemapFormat,data:this.data};this.cache.add(this.key,d)},"addToCache")});o.register("tilemapCSV",function(d,p,g){if(Array.isArray(d))for(var m=0;m<d.length;m++)this.addFile(new v(this,d[m]));else this.addFile(new v(this,d,p,g));return this}),n.exports=v},40807:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(83419),y=i(74099),c=i(518),o=i(80341),l=new f({Extends:c,initialize:r(function(u,v,d,p){c.call(this,u,v,d,p),this.type="tilemapJSON",this.cache=u.cacheManager.tilemap},"TilemapImpactFile"),addToCache:r(function(){var a={format:o.WELTMEISTER,data:this.data};this.cache.add(this.key,a)},"addToCache")});y.register("tilemapImpact",function(a,u,v){if(Array.isArray(a))for(var d=0;d<a.length;d++)this.addFile(new l(this,a[d]));else this.addFile(new l(this,a,u,v));return this}),n.exports=l},56775:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(83419),y=i(74099),c=i(518),o=i(80341),l=new f({Extends:c,initialize:r(function(u,v,d,p){c.call(this,u,v,d,p),this.type="tilemapJSON",this.cache=u.cacheManager.tilemap},"TilemapJSONFile"),addToCache:r(function(){var a={format:o.TILED_JSON,data:this.data};this.cache.add(this.key,a)},"addToCache")});y.register("tilemapTiledJSON",function(a,u,v){if(Array.isArray(a))for(var d=0;d<a.length;d++)this.addFile(new l(this,a[d]));else this.addFile(new l(this,a,u,v));return this}),n.exports=l},25771:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(83419),y=i(74099),c=i(95540),o=i(19550),l=i(41212),a=i(26430),u=i(78776),v=new f({Extends:a,initialize:r(function(p,g,m,x,C,P){var A,R;if(l(g)){var L=g;g=c(L,"key"),A=new o(p,{key:g,url:c(L,"textureURL"),extension:c(L,"textureExtension","png"),normalMap:c(L,"normalMap"),xhrSettings:c(L,"textureXhrSettings")}),R=new u(p,{key:g,url:c(L,"atlasURL"),extension:c(L,"atlasExtension","txt"),xhrSettings:c(L,"atlasXhrSettings")})}else A=new o(p,g,m,C),R=new u(p,g,x,P);A.linkFile?a.call(this,p,"unityatlas",g,[A,R,A.linkFile]):a.call(this,p,"unityatlas",g,[A,R])},"UnityAtlasFile"),addToCache:r(function(){if(this.isReadyToProcess()){var d=this.files[0],p=this.files[1],g=this.files[2]?this.files[2].data:null;this.loader.textureManager.addUnityAtlas(d.key,d.data,p.data,g),this.complete=!0}},"addToCache")});y.register("unityAtlas",function(d,p,g,m,x){var C;if(Array.isArray(d))for(var P=0;P<d.length;P++)C=new v(this,d[P]),this.addFile(C.files);else C=new v(this,d,p,g,m,x),this.addFile(C.files);return this}),n.exports=v},33720:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(83419),y=i(23906),c=i(41299),o=i(74099),l=i(98356),a=i(95540),u=i(41212),v=new f({Extends:c,initialize:r(function(p,g,m,x){if(x===void 0&&(x=!1),u(g)){var C=g;g=a(C,"key"),m=a(C,"url",[]),x=a(C,"noAudio",!1)}var P=p.systems.game.device.video.getVideoURL(m);P||console.warn("VideoFile: No supported format for "+g);var A={type:"video",cache:p.cacheManager.video,extension:P.type,key:g,url:P.url,config:{noAudio:x}};c.call(this,p,A)},"VideoFile"),onProcess:r(function(){this.data={url:this.src,noAudio:this.config.noAudio,crossOrigin:this.crossOrigin},this.onProcessComplete()},"onProcess"),load:r(function(){this.src=l(this,this.loader.baseURL),this.state=y.FILE_LOADED,this.loader.nextFile(this,!0)},"load")});o.register("video",function(d,p,g){if(Array.isArray(d))for(var m=0;m<d.length;m++)this.addFile(new v(this,d[m]));else this.addFile(new v(this,d,p,g));return this}),n.exports=v},57318:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(83419),y=i(23906),c=i(41299),o=i(74099),l=i(95540),a=i(41212),u=i(56836),v=new f({Extends:c,initialize:r(function(p,g,m,x){var C="xml";if(a(g)){var P=g;g=l(P,"key"),m=l(P,"url"),x=l(P,"xhrSettings"),C=l(P,"extension",C)}var A={type:"xml",cache:p.cacheManager.xml,extension:C,responseType:"text",key:g,url:m,xhrSettings:x};c.call(this,p,A)},"XMLFile"),onProcess:r(function(){this.state=y.FILE_PROCESSING,this.data=u(this.xhrLoader.responseText),this.data?this.onProcessComplete():this.onProcessError()},"onProcess")});o.register("xml",function(d,p,g){if(Array.isArray(d))for(var m=0;m<d.length;m++)this.addFile(new v(this,d[m]));else this.addFile(new v(this,d,p,g));return this}),n.exports=v},64589:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={AnimationJSONFile:i(14135),AsepriteFile:i(76272),AtlasJSONFile:i(38734),AtlasXMLFile:i(74599),AudioFile:i(21097),AudioSpriteFile:i(89524),BinaryFile:i(85722),BitmapFontFile:i(97025),CompressedTextureFile:i(69559),CSSFile:i(16024),GLSLFile:i(47931),HTML5AudioFile:i(89749),HTMLFile:i(88470),HTMLTextureFile:i(14643),ImageFile:i(19550),JSONFile:i(518),MultiAtlasFile:i(59327),MultiScriptFile:i(99297),OBJFile:i(41846),PackFile:i(58610),PluginFile:i(48988),SceneFile:i(88423),ScenePluginFile:i(56812),ScriptFile:i(34328),SpriteSheetFile:i(85035),SVGFile:i(67397),TextFile:i(78776),TilemapCSVFile:i(49477),TilemapImpactFile:i(40807),TilemapJSONFile:i(56775),UnityAtlasFile:i(25771),VideoFile:i(33720),XMLFile:i(57318)}},57777:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(23906),y=i(79291),c={Events:i(54899),FileTypes:i(64589),File:i(41299),FileTypesManager:i(74099),GetURL:i(98356),LoaderPlugin:i(74261),MergeXHRSettings:i(3374),MultiFile:i(26430),XHRLoader:i(84376),XHRSettings:i(92638)};c=y(!1,c,f),n.exports=c},53307:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i){for(var f=0,y=0;y<i.length;y++)f+=+i[y];return f/i.length},"Average");n.exports=T},85710:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(6411),y=r(function(c,o){return f(c)/f(o)/f(c-o)},"Bernstein");n.exports=y},30976:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i,f){return Math.floor(Math.random()*(f-i+1)+i)},"Between");n.exports=T},87842:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i,f,y,c,o){var l=(c-f)*.5,a=(o-y)*.5,u=i*i,v=i*u;return(2*y-2*c+l+a)*v+(-3*y+3*c-2*l-a)*u+l*i+y},"CatmullRom");n.exports=T},26302:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i,f,y){f===void 0&&(f=0),y===void 0&&(y=10);var c=Math.pow(y,-f);return Math.ceil(i*c)/c},"CeilTo");n.exports=T},45319:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i,f,y){return Math.max(f,Math.min(y,i))},"Clamp");n.exports=T},39506:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(36383),y=r(function(c){return c*f.DEG_TO_RAD},"DegToRad");n.exports=y},61241:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i,f){return Math.abs(i-f)},"Difference");n.exports=T},38857:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(45319),y=i(83419),c=i(37867),o=i(29747),l=new c,a=new y({initialize:r(function u(v,d,p,g){v===void 0&&(v=0),d===void 0&&(d=0),p===void 0&&(p=0),g===void 0&&(g=u.DefaultOrder),this._x=v,this._y=d,this._z=p,this._order=g,this.onChangeCallback=o},"Euler"),x:{get:r(function(){return this._x},"get"),set:r(function(u){this._x=u,this.onChangeCallback(this)},"set")},y:{get:r(function(){return this._y},"get"),set:r(function(u){this._y=u,this.onChangeCallback(this)},"set")},z:{get:r(function(){return this._z},"get"),set:r(function(u){this._z=u,this.onChangeCallback(this)},"set")},order:{get:r(function(){return this._order},"get"),set:r(function(u){this._order=u,this.onChangeCallback(this)},"set")},set:r(function(u,v,d,p){return p===void 0&&(p=this._order),this._x=u,this._y=v,this._z=d,this._order=p,this.onChangeCallback(this),this},"set"),copy:r(function(u){return this.set(u.x,u.y,u.z,u.order)},"copy"),setFromQuaternion:r(function(u,v,d){return v===void 0&&(v=this._order),d===void 0&&(d=!1),l.fromQuat(u),this.setFromRotationMatrix(l,v,d)},"setFromQuaternion"),setFromRotationMatrix:r(function(u,v,d){v===void 0&&(v=this._order),d===void 0&&(d=!1);var p=u.val,g=p[0],m=p[4],x=p[8],C=p[1],P=p[5],A=p[9],R=p[2],L=p[6],O=p[10],w=0,b=0,F=0,M=.99999;switch(v){case"XYZ":{b=Math.asin(f(x,-1,1)),Math.abs(x)<M?(w=Math.atan2(-A,O),F=Math.atan2(-m,g)):w=Math.atan2(L,P);break}case"YXZ":{w=Math.asin(-f(A,-1,1)),Math.abs(A)<M?(b=Math.atan2(x,O),F=Math.atan2(C,P)):b=Math.atan2(-R,g);break}case"ZXY":{w=Math.asin(f(L,-1,1)),Math.abs(L)<M?(b=Math.atan2(-R,O),F=Math.atan2(-m,P)):F=Math.atan2(C,g);break}case"ZYX":{b=Math.asin(-f(R,-1,1)),Math.abs(R)<M?(w=Math.atan2(L,O),F=Math.atan2(C,g)):F=Math.atan2(-m,P);break}case"YZX":{F=Math.asin(f(C,-1,1)),Math.abs(C)<M?(w=Math.atan2(-A,P),b=Math.atan2(-R,g)):b=Math.atan2(x,O);break}case"XZY":{F=Math.asin(-f(m,-1,1)),Math.abs(m)<M?(w=Math.atan2(L,P),b=Math.atan2(x,g)):w=Math.atan2(-A,O);break}}return this._x=w,this._y=b,this._z=F,this._order=v,d&&this.onChangeCallback(this),this},"setFromRotationMatrix")});a.RotationOrders=["XYZ","YXZ","ZXY","ZYX","YZX","XZY"],a.DefaultOrder="XYZ",n.exports=a},6411:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i){if(i===0)return 1;for(var f=i;--i;)f*=i;return f},"Factorial");n.exports=T},99472:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i,f){return Math.random()*(f-i)+i},"FloatBetween");n.exports=T},77623:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i,f,y){f===void 0&&(f=0),y===void 0&&(y=10);var c=Math.pow(y,-f);return Math.floor(i*c)/c},"FloorTo");n.exports=T},62945:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(45319),y=r(function(c,o,l){return c=f(c,0,1),(l-o)*c+o},"FromPercent");n.exports=y},38265:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i,f){return i/f/1e3},"GetSpeed");n.exports=T},78702:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i){return i==parseFloat(i)?!(i%2):void 0},"IsEven");n.exports=T},94883:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i){return i===parseFloat(i)?!(i%2):void 0},"IsEvenStrict");n.exports=T},28915:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i,f,y){return(f-i)*y+i},"Linear");n.exports=T},94908:n=>{/**
 * @author       Greg McLean <GregDevProjects>
 * @copyright    2021 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i,f,y){return y===void 0&&(y=0),i.clone().lerp(f,y)},"LinearXY");n.exports=T},94434:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(83419),y=new f({initialize:r(function(o){this.val=new Float32Array(9),o?this.copy(o):this.identity()},"Matrix3"),clone:r(function(){return new y(this)},"clone"),set:r(function(c){return this.copy(c)},"set"),copy:r(function(c){var o=this.val,l=c.val;return o[0]=l[0],o[1]=l[1],o[2]=l[2],o[3]=l[3],o[4]=l[4],o[5]=l[5],o[6]=l[6],o[7]=l[7],o[8]=l[8],this},"copy"),fromMat4:r(function(c){var o=c.val,l=this.val;return l[0]=o[0],l[1]=o[1],l[2]=o[2],l[3]=o[4],l[4]=o[5],l[5]=o[6],l[6]=o[8],l[7]=o[9],l[8]=o[10],this},"fromMat4"),fromArray:r(function(c){var o=this.val;return o[0]=c[0],o[1]=c[1],o[2]=c[2],o[3]=c[3],o[4]=c[4],o[5]=c[5],o[6]=c[6],o[7]=c[7],o[8]=c[8],this},"fromArray"),identity:r(function(){var c=this.val;return c[0]=1,c[1]=0,c[2]=0,c[3]=0,c[4]=1,c[5]=0,c[6]=0,c[7]=0,c[8]=1,this},"identity"),transpose:r(function(){var c=this.val,o=c[1],l=c[2],a=c[5];return c[1]=c[3],c[2]=c[6],c[3]=o,c[5]=c[7],c[6]=l,c[7]=a,this},"transpose"),invert:r(function(){var c=this.val,o=c[0],l=c[1],a=c[2],u=c[3],v=c[4],d=c[5],p=c[6],g=c[7],m=c[8],x=m*v-d*g,C=-m*u+d*p,P=g*u-v*p,A=o*x+l*C+a*P;return A?(A=1/A,c[0]=x*A,c[1]=(-m*l+a*g)*A,c[2]=(d*l-a*v)*A,c[3]=C*A,c[4]=(m*o-a*p)*A,c[5]=(-d*o+a*u)*A,c[6]=P*A,c[7]=(-g*o+l*p)*A,c[8]=(v*o-l*u)*A,this):null},"invert"),adjoint:r(function(){var c=this.val,o=c[0],l=c[1],a=c[2],u=c[3],v=c[4],d=c[5],p=c[6],g=c[7],m=c[8];return c[0]=v*m-d*g,c[1]=a*g-l*m,c[2]=l*d-a*v,c[3]=d*p-u*m,c[4]=o*m-a*p,c[5]=a*u-o*d,c[6]=u*g-v*p,c[7]=l*p-o*g,c[8]=o*v-l*u,this},"adjoint"),determinant:r(function(){var c=this.val,o=c[0],l=c[1],a=c[2],u=c[3],v=c[4],d=c[5],p=c[6],g=c[7],m=c[8];return o*(m*v-d*g)+l*(-m*u+d*p)+a*(g*u-v*p)},"determinant"),multiply:r(function(c){var o=this.val,l=o[0],a=o[1],u=o[2],v=o[3],d=o[4],p=o[5],g=o[6],m=o[7],x=o[8],C=c.val,P=C[0],A=C[1],R=C[2],L=C[3],O=C[4],w=C[5],b=C[6],F=C[7],M=C[8];return o[0]=P*l+A*v+R*g,o[1]=P*a+A*d+R*m,o[2]=P*u+A*p+R*x,o[3]=L*l+O*v+w*g,o[4]=L*a+O*d+w*m,o[5]=L*u+O*p+w*x,o[6]=b*l+F*v+M*g,o[7]=b*a+F*d+M*m,o[8]=b*u+F*p+M*x,this},"multiply"),translate:r(function(c){var o=this.val,l=c.x,a=c.y;return o[6]=l*o[0]+a*o[3]+o[6],o[7]=l*o[1]+a*o[4]+o[7],o[8]=l*o[2]+a*o[5]+o[8],this},"translate"),rotate:r(function(c){var o=this.val,l=o[0],a=o[1],u=o[2],v=o[3],d=o[4],p=o[5],g=Math.sin(c),m=Math.cos(c);return o[0]=m*l+g*v,o[1]=m*a+g*d,o[2]=m*u+g*p,o[3]=m*v-g*l,o[4]=m*d-g*a,o[5]=m*p-g*u,this},"rotate"),scale:r(function(c){var o=this.val,l=c.x,a=c.y;return o[0]=l*o[0],o[1]=l*o[1],o[2]=l*o[2],o[3]=a*o[3],o[4]=a*o[4],o[5]=a*o[5],this},"scale"),fromQuat:r(function(c){var o=c.x,l=c.y,a=c.z,u=c.w,v=o+o,d=l+l,p=a+a,g=o*v,m=o*d,x=o*p,C=l*d,P=l*p,A=a*p,R=u*v,L=u*d,O=u*p,w=this.val;return w[0]=1-(C+A),w[3]=m+O,w[6]=x-L,w[1]=m-O,w[4]=1-(g+A),w[7]=P+R,w[2]=x+L,w[5]=P-R,w[8]=1-(g+C),this},"fromQuat"),normalFromMat4:r(function(c){var o=c.val,l=this.val,a=o[0],u=o[1],v=o[2],d=o[3],p=o[4],g=o[5],m=o[6],x=o[7],C=o[8],P=o[9],A=o[10],R=o[11],L=o[12],O=o[13],w=o[14],b=o[15],F=a*g-u*p,M=a*m-v*p,I=a*x-d*p,B=u*m-v*g,G=u*x-d*g,N=v*x-d*m,z=C*O-P*L,H=C*w-A*L,$=C*b-R*L,V=P*w-A*O,Y=P*b-R*O,D=A*b-R*w,U=F*D-M*Y+I*V+B*$-G*H+N*z;return U?(U=1/U,l[0]=(g*D-m*Y+x*V)*U,l[1]=(m*$-p*D-x*H)*U,l[2]=(p*Y-g*$+x*z)*U,l[3]=(v*Y-u*D-d*V)*U,l[4]=(a*D-v*$+d*H)*U,l[5]=(u*$-a*Y-d*z)*U,l[6]=(O*N-w*G+b*B)*U,l[7]=(w*I-L*N-b*M)*U,l[8]=(L*G-O*I+b*F)*U,this):null},"normalFromMat4")});n.exports=y},37867:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(83419),y=i(25836),c=1e-6,o=new f({initialize:r(function(g){this.val=new Float32Array(16),g?this.copy(g):this.identity()},"Matrix4"),clone:r(function(){return new o(this)},"clone"),set:r(function(p){return this.copy(p)},"set"),setValues:r(function(p,g,m,x,C,P,A,R,L,O,w,b,F,M,I,B){var G=this.val;return G[0]=p,G[1]=g,G[2]=m,G[3]=x,G[4]=C,G[5]=P,G[6]=A,G[7]=R,G[8]=L,G[9]=O,G[10]=w,G[11]=b,G[12]=F,G[13]=M,G[14]=I,G[15]=B,this},"setValues"),copy:r(function(p){var g=p.val;return this.setValues(g[0],g[1],g[2],g[3],g[4],g[5],g[6],g[7],g[8],g[9],g[10],g[11],g[12],g[13],g[14],g[15])},"copy"),fromArray:r(function(p){return this.setValues(p[0],p[1],p[2],p[3],p[4],p[5],p[6],p[7],p[8],p[9],p[10],p[11],p[12],p[13],p[14],p[15])},"fromArray"),zero:r(function(){return this.setValues(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)},"zero"),transform:r(function(p,g,m){var x=l.fromQuat(m),C=x.val,P=g.x,A=g.y,R=g.z;return this.setValues(C[0]*P,C[1]*P,C[2]*P,0,C[4]*A,C[5]*A,C[6]*A,0,C[8]*R,C[9]*R,C[10]*R,0,p.x,p.y,p.z,1)},"transform"),xyz:r(function(p,g,m){this.identity();var x=this.val;return x[12]=p,x[13]=g,x[14]=m,this},"xyz"),scaling:r(function(p,g,m){this.zero();var x=this.val;return x[0]=p,x[5]=g,x[10]=m,x[15]=1,this},"scaling"),identity:r(function(){return this.setValues(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)},"identity"),transpose:r(function(){var p=this.val,g=p[1],m=p[2],x=p[3],C=p[6],P=p[7],A=p[11];return p[1]=p[4],p[2]=p[8],p[3]=p[12],p[4]=g,p[6]=p[9],p[7]=p[13],p[8]=m,p[9]=C,p[11]=p[14],p[12]=x,p[13]=P,p[14]=A,this},"transpose"),getInverse:r(function(p){return this.copy(p),this.invert()},"getInverse"),invert:r(function(){var p=this.val,g=p[0],m=p[1],x=p[2],C=p[3],P=p[4],A=p[5],R=p[6],L=p[7],O=p[8],w=p[9],b=p[10],F=p[11],M=p[12],I=p[13],B=p[14],G=p[15],N=g*A-m*P,z=g*R-x*P,H=g*L-C*P,$=m*R-x*A,V=m*L-C*A,Y=x*L-C*R,D=O*I-w*M,U=O*B-b*M,W=O*G-F*M,k=w*B-b*I,X=w*G-F*I,K=b*G-F*B,Z=N*K-z*X+H*k+$*W-V*U+Y*D;return Z?(Z=1/Z,this.setValues((A*K-R*X+L*k)*Z,(x*X-m*K-C*k)*Z,(I*Y-B*V+G*$)*Z,(b*V-w*Y-F*$)*Z,(R*W-P*K-L*U)*Z,(g*K-x*W+C*U)*Z,(B*H-M*Y-G*z)*Z,(O*Y-b*H+F*z)*Z,(P*X-A*W+L*D)*Z,(m*W-g*X-C*D)*Z,(M*V-I*H+G*N)*Z,(w*H-O*V-F*N)*Z,(A*U-P*k-R*D)*Z,(g*k-m*U+x*D)*Z,(I*z-M*$-B*N)*Z,(O*$-w*z+b*N)*Z)):this},"invert"),adjoint:r(function(){var p=this.val,g=p[0],m=p[1],x=p[2],C=p[3],P=p[4],A=p[5],R=p[6],L=p[7],O=p[8],w=p[9],b=p[10],F=p[11],M=p[12],I=p[13],B=p[14],G=p[15];return this.setValues(A*(b*G-F*B)-w*(R*G-L*B)+I*(R*F-L*b),-(m*(b*G-F*B)-w*(x*G-C*B)+I*(x*F-C*b)),m*(R*G-L*B)-A*(x*G-C*B)+I*(x*L-C*R),-(m*(R*F-L*b)-A*(x*F-C*b)+w*(x*L-C*R)),-(P*(b*G-F*B)-O*(R*G-L*B)+M*(R*F-L*b)),g*(b*G-F*B)-O*(x*G-C*B)+M*(x*F-C*b),-(g*(R*G-L*B)-P*(x*G-C*B)+M*(x*L-C*R)),g*(R*F-L*b)-P*(x*F-C*b)+O*(x*L-C*R),P*(w*G-F*I)-O*(A*G-L*I)+M*(A*F-L*w),-(g*(w*G-F*I)-O*(m*G-C*I)+M*(m*F-C*w)),g*(A*G-L*I)-P*(m*G-C*I)+M*(m*L-C*A),-(g*(A*F-L*w)-P*(m*F-C*w)+O*(m*L-C*A)),-(P*(w*B-b*I)-O*(A*B-R*I)+M*(A*b-R*w)),g*(w*B-b*I)-O*(m*B-x*I)+M*(m*b-x*w),-(g*(A*B-R*I)-P*(m*B-x*I)+M*(m*R-x*A)),g*(A*b-R*w)-P*(m*b-x*w)+O*(m*R-x*A))},"adjoint"),determinant:r(function(){var p=this.val,g=p[0],m=p[1],x=p[2],C=p[3],P=p[4],A=p[5],R=p[6],L=p[7],O=p[8],w=p[9],b=p[10],F=p[11],M=p[12],I=p[13],B=p[14],G=p[15],N=g*A-m*P,z=g*R-x*P,H=g*L-C*P,$=m*R-x*A,V=m*L-C*A,Y=x*L-C*R,D=O*I-w*M,U=O*B-b*M,W=O*G-F*M,k=w*B-b*I,X=w*G-F*I,K=b*G-F*B;return N*K-z*X+H*k+$*W-V*U+Y*D},"determinant"),multiply:r(function(p){var g=this.val,m=g[0],x=g[1],C=g[2],P=g[3],A=g[4],R=g[5],L=g[6],O=g[7],w=g[8],b=g[9],F=g[10],M=g[11],I=g[12],B=g[13],G=g[14],N=g[15],z=p.val,H=z[0],$=z[1],V=z[2],Y=z[3];return g[0]=H*m+$*A+V*w+Y*I,g[1]=H*x+$*R+V*b+Y*B,g[2]=H*C+$*L+V*F+Y*G,g[3]=H*P+$*O+V*M+Y*N,H=z[4],$=z[5],V=z[6],Y=z[7],g[4]=H*m+$*A+V*w+Y*I,g[5]=H*x+$*R+V*b+Y*B,g[6]=H*C+$*L+V*F+Y*G,g[7]=H*P+$*O+V*M+Y*N,H=z[8],$=z[9],V=z[10],Y=z[11],g[8]=H*m+$*A+V*w+Y*I,g[9]=H*x+$*R+V*b+Y*B,g[10]=H*C+$*L+V*F+Y*G,g[11]=H*P+$*O+V*M+Y*N,H=z[12],$=z[13],V=z[14],Y=z[15],g[12]=H*m+$*A+V*w+Y*I,g[13]=H*x+$*R+V*b+Y*B,g[14]=H*C+$*L+V*F+Y*G,g[15]=H*P+$*O+V*M+Y*N,this},"multiply"),multiplyLocal:r(function(p){var g=this.val,m=p.val;return this.setValues(g[0]*m[0]+g[1]*m[4]+g[2]*m[8]+g[3]*m[12],g[0]*m[1]+g[1]*m[5]+g[2]*m[9]+g[3]*m[13],g[0]*m[2]+g[1]*m[6]+g[2]*m[10]+g[3]*m[14],g[0]*m[3]+g[1]*m[7]+g[2]*m[11]+g[3]*m[15],g[4]*m[0]+g[5]*m[4]+g[6]*m[8]+g[7]*m[12],g[4]*m[1]+g[5]*m[5]+g[6]*m[9]+g[7]*m[13],g[4]*m[2]+g[5]*m[6]+g[6]*m[10]+g[7]*m[14],g[4]*m[3]+g[5]*m[7]+g[6]*m[11]+g[7]*m[15],g[8]*m[0]+g[9]*m[4]+g[10]*m[8]+g[11]*m[12],g[8]*m[1]+g[9]*m[5]+g[10]*m[9]+g[11]*m[13],g[8]*m[2]+g[9]*m[6]+g[10]*m[10]+g[11]*m[14],g[8]*m[3]+g[9]*m[7]+g[10]*m[11]+g[11]*m[15],g[12]*m[0]+g[13]*m[4]+g[14]*m[8]+g[15]*m[12],g[12]*m[1]+g[13]*m[5]+g[14]*m[9]+g[15]*m[13],g[12]*m[2]+g[13]*m[6]+g[14]*m[10]+g[15]*m[14],g[12]*m[3]+g[13]*m[7]+g[14]*m[11]+g[15]*m[15])},"multiplyLocal"),premultiply:r(function(p){return this.multiplyMatrices(p,this)},"premultiply"),multiplyMatrices:r(function(p,g){var m=p.val,x=g.val,C=m[0],P=m[4],A=m[8],R=m[12],L=m[1],O=m[5],w=m[9],b=m[13],F=m[2],M=m[6],I=m[10],B=m[14],G=m[3],N=m[7],z=m[11],H=m[15],$=x[0],V=x[4],Y=x[8],D=x[12],U=x[1],W=x[5],k=x[9],X=x[13],K=x[2],Z=x[6],J=x[10],Q=x[14],j=x[3],q=x[7],tt=x[11],_=x[15];return this.setValues(C*$+P*U+A*K+R*j,L*$+O*U+w*K+b*j,F*$+M*U+I*K+B*j,G*$+N*U+z*K+H*j,C*V+P*W+A*Z+R*q,L*V+O*W+w*Z+b*q,F*V+M*W+I*Z+B*q,G*V+N*W+z*Z+H*q,C*Y+P*k+A*J+R*tt,L*Y+O*k+w*J+b*tt,F*Y+M*k+I*J+B*tt,G*Y+N*k+z*J+H*tt,C*D+P*X+A*Q+R*_,L*D+O*X+w*Q+b*_,F*D+M*X+I*Q+B*_,G*D+N*X+z*Q+H*_)},"multiplyMatrices"),translate:r(function(p){return this.translateXYZ(p.x,p.y,p.z)},"translate"),translateXYZ:r(function(p,g,m){var x=this.val;return x[12]=x[0]*p+x[4]*g+x[8]*m+x[12],x[13]=x[1]*p+x[5]*g+x[9]*m+x[13],x[14]=x[2]*p+x[6]*g+x[10]*m+x[14],x[15]=x[3]*p+x[7]*g+x[11]*m+x[15],this},"translateXYZ"),scale:r(function(p){return this.scaleXYZ(p.x,p.y,p.z)},"scale"),scaleXYZ:r(function(p,g,m){var x=this.val;return x[0]=x[0]*p,x[1]=x[1]*p,x[2]=x[2]*p,x[3]=x[3]*p,x[4]=x[4]*g,x[5]=x[5]*g,x[6]=x[6]*g,x[7]=x[7]*g,x[8]=x[8]*m,x[9]=x[9]*m,x[10]=x[10]*m,x[11]=x[11]*m,this},"scaleXYZ"),makeRotationAxis:r(function(p,g){var m=Math.cos(g),x=Math.sin(g),C=1-m,P=p.x,A=p.y,R=p.z,L=C*P,O=C*A;return this.setValues(L*P+m,L*A-x*R,L*R+x*A,0,L*A+x*R,O*A+m,O*R-x*P,0,L*R-x*A,O*R+x*P,C*R*R+m,0,0,0,0,1)},"makeRotationAxis"),rotate:r(function(p,g){var m=this.val,x=g.x,C=g.y,P=g.z,A=Math.sqrt(x*x+C*C+P*P);if(Math.abs(A)<c)return this;A=1/A,x*=A,C*=A,P*=A;var R=Math.sin(p),L=Math.cos(p),O=1-L,w=m[0],b=m[1],F=m[2],M=m[3],I=m[4],B=m[5],G=m[6],N=m[7],z=m[8],H=m[9],$=m[10],V=m[11],Y=m[12],D=m[13],U=m[14],W=m[15],k=x*x*O+L,X=C*x*O+P*R,K=P*x*O-C*R,Z=x*C*O-P*R,J=C*C*O+L,Q=P*C*O+x*R,j=x*P*O+C*R,q=C*P*O-x*R,tt=P*P*O+L;return this.setValues(w*k+I*X+z*K,b*k+B*X+H*K,F*k+G*X+$*K,M*k+N*X+V*K,w*Z+I*J+z*Q,b*Z+B*J+H*Q,F*Z+G*J+$*Q,M*Z+N*J+V*Q,w*j+I*q+z*tt,b*j+B*q+H*tt,F*j+G*q+$*tt,M*j+N*q+V*tt,Y,D,U,W)},"rotate"),rotateX:r(function(p){var g=this.val,m=Math.sin(p),x=Math.cos(p),C=g[4],P=g[5],A=g[6],R=g[7],L=g[8],O=g[9],w=g[10],b=g[11];return g[4]=C*x+L*m,g[5]=P*x+O*m,g[6]=A*x+w*m,g[7]=R*x+b*m,g[8]=L*x-C*m,g[9]=O*x-P*m,g[10]=w*x-A*m,g[11]=b*x-R*m,this},"rotateX"),rotateY:r(function(p){var g=this.val,m=Math.sin(p),x=Math.cos(p),C=g[0],P=g[1],A=g[2],R=g[3],L=g[8],O=g[9],w=g[10],b=g[11];return g[0]=C*x-L*m,g[1]=P*x-O*m,g[2]=A*x-w*m,g[3]=R*x-b*m,g[8]=C*m+L*x,g[9]=P*m+O*x,g[10]=A*m+w*x,g[11]=R*m+b*x,this},"rotateY"),rotateZ:r(function(p){var g=this.val,m=Math.sin(p),x=Math.cos(p),C=g[0],P=g[1],A=g[2],R=g[3],L=g[4],O=g[5],w=g[6],b=g[7];return g[0]=C*x+L*m,g[1]=P*x+O*m,g[2]=A*x+w*m,g[3]=R*x+b*m,g[4]=L*x-C*m,g[5]=O*x-P*m,g[6]=w*x-A*m,g[7]=b*x-R*m,this},"rotateZ"),fromRotationTranslation:r(function(p,g){var m=p.x,x=p.y,C=p.z,P=p.w,A=m+m,R=x+x,L=C+C,O=m*A,w=m*R,b=m*L,F=x*R,M=x*L,I=C*L,B=P*A,G=P*R,N=P*L;return this.setValues(1-(F+I),w+N,b-G,0,w-N,1-(O+I),M+B,0,b+G,M-B,1-(O+F),0,g.x,g.y,g.z,1)},"fromRotationTranslation"),fromQuat:r(function(p){var g=p.x,m=p.y,x=p.z,C=p.w,P=g+g,A=m+m,R=x+x,L=g*P,O=g*A,w=g*R,b=m*A,F=m*R,M=x*R,I=C*P,B=C*A,G=C*R;return this.setValues(1-(b+M),O+G,w-B,0,O-G,1-(L+M),F+I,0,w+B,F-I,1-(L+b),0,0,0,0,1)},"fromQuat"),frustum:r(function(p,g,m,x,C,P){var A=1/(g-p),R=1/(x-m),L=1/(C-P);return this.setValues(C*2*A,0,0,0,0,C*2*R,0,0,(g+p)*A,(x+m)*R,(P+C)*L,-1,0,0,P*C*2*L,0)},"frustum"),perspective:r(function(p,g,m,x){var C=1/Math.tan(p/2),P=1/(m-x);return this.setValues(C/g,0,0,0,0,C,0,0,0,0,(x+m)*P,-1,0,0,2*x*m*P,0)},"perspective"),perspectiveLH:r(function(p,g,m,x){return this.setValues(2*m/p,0,0,0,0,2*m/g,0,0,0,0,-x/(m-x),1,0,0,m*x/(m-x),0)},"perspectiveLH"),ortho:r(function(p,g,m,x,C,P){var A=p-g,R=m-x,L=C-P;return A=A===0?A:1/A,R=R===0?R:1/R,L=L===0?L:1/L,this.setValues(-2*A,0,0,0,0,-2*R,0,0,0,0,2*L,0,(p+g)*A,(x+m)*R,(P+C)*L,1)},"ortho"),lookAtRH:r(function(p,g,m){var x=this.val;return d.subVectors(p,g),d.getLengthSquared()===0&&(d.z=1),d.normalize(),u.crossVectors(m,d),u.getLengthSquared()===0&&(Math.abs(m.z)===1?d.x+=1e-4:d.z+=1e-4,d.normalize(),u.crossVectors(m,d)),u.normalize(),v.crossVectors(d,u),x[0]=u.x,x[1]=u.y,x[2]=u.z,x[4]=v.x,x[5]=v.y,x[6]=v.z,x[8]=d.x,x[9]=d.y,x[10]=d.z,this},"lookAtRH"),lookAt:r(function(p,g,m){var x=p.x,C=p.y,P=p.z,A=m.x,R=m.y,L=m.z,O=g.x,w=g.y,b=g.z;if(Math.abs(x-O)<c&&Math.abs(C-w)<c&&Math.abs(P-b)<c)return this.identity();var F=x-O,M=C-w,I=P-b,B=1/Math.sqrt(F*F+M*M+I*I);F*=B,M*=B,I*=B;var G=R*I-L*M,N=L*F-A*I,z=A*M-R*F;B=Math.sqrt(G*G+N*N+z*z),B?(B=1/B,G*=B,N*=B,z*=B):(G=0,N=0,z=0);var H=M*z-I*N,$=I*G-F*z,V=F*N-M*G;return B=Math.sqrt(H*H+$*$+V*V),B?(B=1/B,H*=B,$*=B,V*=B):(H=0,$=0,V=0),this.setValues(G,H,F,0,N,$,M,0,z,V,I,0,-(G*x+N*C+z*P),-(H*x+$*C+V*P),-(F*x+M*C+I*P),1)},"lookAt"),yawPitchRoll:r(function(p,g,m){this.zero(),l.zero(),a.zero();var x=this.val,C=l.val,P=a.val,A=Math.sin(m),R=Math.cos(m);return x[10]=1,x[15]=1,x[0]=R,x[1]=A,x[4]=-A,x[5]=R,A=Math.sin(g),R=Math.cos(g),C[0]=1,C[15]=1,C[5]=R,C[10]=R,C[9]=-A,C[6]=A,A=Math.sin(p),R=Math.cos(p),P[5]=1,P[15]=1,P[0]=R,P[2]=-A,P[8]=A,P[10]=R,this.multiplyLocal(l),this.multiplyLocal(a),this},"yawPitchRoll"),setWorldMatrix:r(function(p,g,m,x,C){return this.yawPitchRoll(p.y,p.x,p.z),l.scaling(m.x,m.y,m.z),a.xyz(g.x,g.y,g.z),this.multiplyLocal(l),this.multiplyLocal(a),x&&this.multiplyLocal(x),C&&this.multiplyLocal(C),this},"setWorldMatrix"),multiplyToMat4:r(function(p,g){var m=this.val,x=p.val,C=m[0],P=m[1],A=m[2],R=m[3],L=m[4],O=m[5],w=m[6],b=m[7],F=m[8],M=m[9],I=m[10],B=m[11],G=m[12],N=m[13],z=m[14],H=m[15],$=x[0],V=x[1],Y=x[2],D=x[3],U=x[4],W=x[5],k=x[6],X=x[7],K=x[8],Z=x[9],J=x[10],Q=x[11],j=x[12],q=x[13],tt=x[14],_=x[15];return g.setValues($*C+V*L+Y*F+D*G,V*P+V*O+Y*M+D*N,Y*A+V*w+Y*I+D*z,D*R+V*b+Y*B+D*H,U*C+W*L+k*F+X*G,U*P+W*O+k*M+X*N,U*A+W*w+k*I+X*z,U*R+W*b+k*B+X*H,K*C+Z*L+J*F+Q*G,K*P+Z*O+J*M+Q*N,K*A+Z*w+J*I+Q*z,K*R+Z*b+J*B+Q*H,j*C+q*L+tt*F+_*G,j*P+q*O+tt*M+_*N,j*A+q*w+tt*I+_*z,j*R+q*b+tt*B+_*H)},"multiplyToMat4"),fromRotationXYTranslation:r(function(p,g,m){var x=g.x,C=g.y,P=g.z,A=Math.sin(p.x),R=Math.cos(p.x),L=Math.sin(p.y),O=Math.cos(p.y),w=x,b=C,F=P,M=-A,I=0-M*L,B=0-R*L,G=M*O,N=R*O;return m||(w=O*x+L*P,b=I*x+R*C+G*P,F=B*x+A*C+N*P),this.setValues(O,I,B,0,0,R,A,0,L,G,N,0,w,b,F,1)},"fromRotationXYTranslation"),getMaxScaleOnAxis:r(function(){var p=this.val,g=p[0]*p[0]+p[1]*p[1]+p[2]*p[2],m=p[4]*p[4]+p[5]*p[5]+p[6]*p[6],x=p[8]*p[8]+p[9]*p[9]+p[10]*p[10];return Math.sqrt(Math.max(g,m,x))},"getMaxScaleOnAxis")}),l=new o,a=new o,u=new y,v=new y,d=new y;n.exports=o},86883:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i,f,y){return Math.min(i+f,y)},"MaxAdd");n.exports=T},50040:n=>{/**
 * @author       Vladislav Forsh <vlad@robowhale.com>
 * @copyright    2021 RoboWhale
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i){var f=i.length;if(f===0)return 0;i.sort(function(c,o){return c-o});var y=Math.floor(f/2);return f%2===0?(i[y]+i[y-1])/2:i[y]},"Median");n.exports=T},37204:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i,f,y){return Math.max(i-f,y)},"MinSub");n.exports=T},65201:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i,f,y,c){y===void 0&&(y=f+1);var o=(i-f)/(y-f);return o>1?c!==void 0?(o=(c-i)/(c-y),o<0&&(o=0)):o=1:o<0&&(o=0),o},"Percent");n.exports=T},15746:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(83419),y=i(94434),c=i(29747),o=i(25836),l=1e-6,a=new Int8Array([1,2,0]),u=new Float32Array([0,0,0]),v=new o(1,0,0),d=new o(0,1,0),p=new o,g=new y,m=new f({initialize:r(function(C,P,A,R){this.onChangeCallback=c,this.set(C,P,A,R)},"Quaternion"),x:{get:r(function(){return this._x},"get"),set:r(function(x){this._x=x,this.onChangeCallback(this)},"set")},y:{get:r(function(){return this._y},"get"),set:r(function(x){this._y=x,this.onChangeCallback(this)},"set")},z:{get:r(function(){return this._z},"get"),set:r(function(x){this._z=x,this.onChangeCallback(this)},"set")},w:{get:r(function(){return this._w},"get"),set:r(function(x){this._w=x,this.onChangeCallback(this)},"set")},copy:r(function(x){return this.set(x)},"copy"),set:r(function(x,C,P,A,R){return R===void 0&&(R=!0),typeof x=="object"?(this._x=x.x||0,this._y=x.y||0,this._z=x.z||0,this._w=x.w||0):(this._x=x||0,this._y=C||0,this._z=P||0,this._w=A||0),R&&this.onChangeCallback(this),this},"set"),add:r(function(x){return this._x+=x.x,this._y+=x.y,this._z+=x.z,this._w+=x.w,this.onChangeCallback(this),this},"add"),subtract:r(function(x){return this._x-=x.x,this._y-=x.y,this._z-=x.z,this._w-=x.w,this.onChangeCallback(this),this},"subtract"),scale:r(function(x){return this._x*=x,this._y*=x,this._z*=x,this._w*=x,this.onChangeCallback(this),this},"scale"),length:r(function(){var x=this.x,C=this.y,P=this.z,A=this.w;return Math.sqrt(x*x+C*C+P*P+A*A)},"length"),lengthSq:r(function(){var x=this.x,C=this.y,P=this.z,A=this.w;return x*x+C*C+P*P+A*A},"lengthSq"),normalize:r(function(){var x=this.x,C=this.y,P=this.z,A=this.w,R=x*x+C*C+P*P+A*A;return R>0&&(R=1/Math.sqrt(R),this._x=x*R,this._y=C*R,this._z=P*R,this._w=A*R),this.onChangeCallback(this),this},"normalize"),dot:r(function(x){return this.x*x.x+this.y*x.y+this.z*x.z+this.w*x.w},"dot"),lerp:r(function(x,C){C===void 0&&(C=0);var P=this.x,A=this.y,R=this.z,L=this.w;return this.set(P+C*(x.x-P),A+C*(x.y-A),R+C*(x.z-R),L+C*(x.w-L))},"lerp"),rotationTo:r(function(x,C){var P=x.x*C.x+x.y*C.y+x.z*C.z;return P<-.999999?(p.copy(v).cross(x).length()<l&&p.copy(d).cross(x),p.normalize(),this.setAxisAngle(p,Math.PI)):P>.999999?this.set(0,0,0,1):(p.copy(x).cross(C),this._x=p.x,this._y=p.y,this._z=p.z,this._w=1+P,this.normalize())},"rotationTo"),setAxes:r(function(x,C,P){var A=g.val;return A[0]=C.x,A[3]=C.y,A[6]=C.z,A[1]=P.x,A[4]=P.y,A[7]=P.z,A[2]=-x.x,A[5]=-x.y,A[8]=-x.z,this.fromMat3(g).normalize()},"setAxes"),identity:r(function(){return this.set(0,0,0,1)},"identity"),setAxisAngle:r(function(x,C){C=C*.5;var P=Math.sin(C);return this.set(P*x.x,P*x.y,P*x.z,Math.cos(C))},"setAxisAngle"),multiply:r(function(x){var C=this.x,P=this.y,A=this.z,R=this.w,L=x.x,O=x.y,w=x.z,b=x.w;return this.set(C*b+R*L+P*w-A*O,P*b+R*O+A*L-C*w,A*b+R*w+C*O-P*L,R*b-C*L-P*O-A*w)},"multiply"),slerp:r(function(x,C){var P=this.x,A=this.y,R=this.z,L=this.w,O=x.x,w=x.y,b=x.z,F=x.w,M=P*O+A*w+R*b+L*F;M<0&&(M=-M,O=-O,w=-w,b=-b,F=-F);var I=1-C,B=C;if(1-M>l){var G=Math.acos(M),N=Math.sin(G);I=Math.sin((1-C)*G)/N,B=Math.sin(C*G)/N}return this.set(I*P+B*O,I*A+B*w,I*R+B*b,I*L+B*F)},"slerp"),invert:r(function(){var x=this.x,C=this.y,P=this.z,A=this.w,R=x*x+C*C+P*P+A*A,L=R?1/R:0;return this.set(-x*L,-C*L,-P*L,A*L)},"invert"),conjugate:r(function(){return this._x=-this.x,this._y=-this.y,this._z=-this.z,this.onChangeCallback(this),this},"conjugate"),rotateX:r(function(x){x*=.5;var C=this.x,P=this.y,A=this.z,R=this.w,L=Math.sin(x),O=Math.cos(x);return this.set(C*O+R*L,P*O+A*L,A*O-P*L,R*O-C*L)},"rotateX"),rotateY:r(function(x){x*=.5;var C=this.x,P=this.y,A=this.z,R=this.w,L=Math.sin(x),O=Math.cos(x);return this.set(C*O-A*L,P*O+R*L,A*O+C*L,R*O-P*L)},"rotateY"),rotateZ:r(function(x){x*=.5;var C=this.x,P=this.y,A=this.z,R=this.w,L=Math.sin(x),O=Math.cos(x);return this.set(C*O+P*L,P*O-C*L,A*O+R*L,R*O-A*L)},"rotateZ"),calculateW:r(function(){var x=this.x,C=this.y,P=this.z;return this.w=-Math.sqrt(1-x*x-C*C-P*P),this},"calculateW"),setFromEuler:r(function(x,C){var P=x.x/2,A=x.y/2,R=x.z/2,L=Math.cos(P),O=Math.cos(A),w=Math.cos(R),b=Math.sin(P),F=Math.sin(A),M=Math.sin(R);switch(x.order){case"XYZ":{this.set(b*O*w+L*F*M,L*F*w-b*O*M,L*O*M+b*F*w,L*O*w-b*F*M,C);break}case"YXZ":{this.set(b*O*w+L*F*M,L*F*w-b*O*M,L*O*M-b*F*w,L*O*w+b*F*M,C);break}case"ZXY":{this.set(b*O*w-L*F*M,L*F*w+b*O*M,L*O*M+b*F*w,L*O*w-b*F*M,C);break}case"ZYX":{this.set(b*O*w-L*F*M,L*F*w+b*O*M,L*O*M-b*F*w,L*O*w+b*F*M,C);break}case"YZX":{this.set(b*O*w+L*F*M,L*F*w+b*O*M,L*O*M-b*F*w,L*O*w-b*F*M,C);break}case"XZY":{this.set(b*O*w-L*F*M,L*F*w-b*O*M,L*O*M+b*F*w,L*O*w+b*F*M,C);break}}return this},"setFromEuler"),setFromRotationMatrix:r(function(x){var C=x.val,P=C[0],A=C[4],R=C[8],L=C[1],O=C[5],w=C[9],b=C[2],F=C[6],M=C[10],I=P+O+M,B;return I>0?(B=.5/Math.sqrt(I+1),this.set((F-w)*B,(R-b)*B,(L-A)*B,.25/B)):P>O&&P>M?(B=2*Math.sqrt(1+P-O-M),this.set(.25*B,(A+L)/B,(R+b)/B,(F-w)/B)):O>M?(B=2*Math.sqrt(1+O-P-M),this.set((A+L)/B,.25*B,(w+F)/B,(R-b)/B)):(B=2*Math.sqrt(1+M-P-O),this.set((R+b)/B,(w+F)/B,.25*B,(L-A)/B)),this},"setFromRotationMatrix"),fromMat3:r(function(x){var C=x.val,P=C[0]+C[4]+C[8],A;if(P>0)A=Math.sqrt(P+1),this.w=.5*A,A=.5/A,this._x=(C[7]-C[5])*A,this._y=(C[2]-C[6])*A,this._z=(C[3]-C[1])*A;else{var R=0;C[4]>C[0]&&(R=1),C[8]>C[R*3+R]&&(R=2);var L=a[R],O=a[L];A=Math.sqrt(C[R*3+R]-C[L*3+L]-C[O*3+O]+1),u[R]=.5*A,A=.5/A,u[L]=(C[L*3+R]+C[R*3+L])*A,u[O]=(C[O*3+R]+C[R*3+O])*A,this._x=u[0],this._y=u[1],this._z=u[2],this._w=(C[O*3+L]-C[L*3+O])*A}return this.onChangeCallback(this),this},"fromMat3")});n.exports=m},43396:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(36383),y=r(function(c){return c*f.RAD_TO_DEG},"RadToDeg");n.exports=y},74362:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i,f){f===void 0&&(f=1);var y=Math.random()*2*Math.PI;return i.x=Math.cos(y)*f,i.y=Math.sin(y)*f,i},"RandomXY");n.exports=T},60706:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i,f){f===void 0&&(f=1);var y=Math.random()*2*Math.PI,c=Math.random()*2-1,o=Math.sqrt(1-c*c)*f;return i.x=Math.cos(y)*o,i.y=Math.sin(y)*o,i.z=c*f,i},"RandomXYZ");n.exports=T},67421:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i,f){return f===void 0&&(f=1),i.x=(Math.random()*2-1)*f,i.y=(Math.random()*2-1)*f,i.z=(Math.random()*2-1)*f,i.w=(Math.random()*2-1)*f,i},"RandomXYZW");n.exports=T},36305:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i,f){var y=i.x,c=i.y;return i.x=y*Math.cos(f)-c*Math.sin(f),i.y=y*Math.sin(f)+c*Math.cos(f),i},"Rotate");n.exports=T},11520:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i,f,y,c){var o=Math.cos(c),l=Math.sin(c),a=i.x-f,u=i.y-y;return i.x=a*o-u*l+f,i.y=a*l+u*o+y,i},"RotateAround");n.exports=T},1163:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i,f,y,c,o){var l=c+Math.atan2(i.y-y,i.x-f);return i.x=f+o*Math.cos(l),i.y=y+o*Math.sin(l),i},"RotateAroundDistance");n.exports=T},70336:n=>{/**
 * @author       samme
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i,f,y,c,o){return i.x=f+o*Math.cos(c),i.y=y+o*Math.sin(c),i},"RotateTo");n.exports=T},72678:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(25836),y=i(37867),c=i(15746),o=new y,l=new c,a=new f,u=r(function(v,d,p){return l.setAxisAngle(d,p),o.fromRotationTranslation(l,a.set(0,0,0)),v.transformMat4(o)},"RotateVec3");n.exports=u},2284:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i){return i>0?Math.ceil(i):Math.floor(i)},"RoundAwayFromZero");n.exports=T},41013:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i,f,y){f===void 0&&(f=0),y===void 0&&(y=10);var c=Math.pow(y,-f);return Math.round(i*c)/c},"RoundTo");n.exports=T},16922:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i,f,y,c){f===void 0&&(f=1),y===void 0&&(y=1),c===void 0&&(c=1),c*=Math.PI/i;for(var o=[],l=[],a=0;a<i;a++)y-=f*c,f+=y*c,o[a]=y,l[a]=f;return{sin:l,cos:o,length:i}},"SinCosTableGenerator");n.exports=T},7602:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i,f,y){return i<=f?0:i>=y?1:(i=(i-f)/(y-f),i*i*(3-2*i))},"SmoothStep");n.exports=T},54261:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i,f,y){return i=Math.max(0,Math.min(1,(i-f)/(y-f))),i*i*i*(i*(i*6-15)+10)},"SmootherStep");n.exports=T},44408:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(26099),y=r(function(c,o,l,a){a===void 0&&(a=new f);var u=0,v=0,d=o*l;return c>0&&c<=d&&(c>o-1?(v=Math.floor(c/o),u=c-v*o):u=c),a.set(u,v)},"ToXY");n.exports=y},85955:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(26099),y=r(function(c,o,l,a,u,v,d,p){p===void 0&&(p=new f);var g=Math.sin(u),m=Math.cos(u),x=m*v,C=g*v,P=-g*d,A=m*d,R=1/(x*A+P*-C);return p.x=A*R*c+-P*R*o+(a*P-l*A)*R,p.y=x*R*o+-C*R*c+(-a*x+l*C)*R,p},"TransformXY");n.exports=y},26099:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(83419),y=i(43855),c=new f({initialize:r(function(l,a){this.x=0,this.y=0,typeof l=="object"?(this.x=l.x||0,this.y=l.y||0):(a===void 0&&(a=l),this.x=l||0,this.y=a||0)},"Vector2"),clone:r(function(){return new c(this.x,this.y)},"clone"),copy:r(function(o){return this.x=o.x||0,this.y=o.y||0,this},"copy"),setFromObject:r(function(o){return this.x=o.x||0,this.y=o.y||0,this},"setFromObject"),set:r(function(o,l){return l===void 0&&(l=o),this.x=o,this.y=l,this},"set"),setTo:r(function(o,l){return this.set(o,l)},"setTo"),setToPolar:r(function(o,l){return l==null&&(l=1),this.x=Math.cos(o)*l,this.y=Math.sin(o)*l,this},"setToPolar"),equals:r(function(o){return this.x===o.x&&this.y===o.y},"equals"),fuzzyEquals:r(function(o,l){return y(this.x,o.x,l)&&y(this.y,o.y,l)},"fuzzyEquals"),angle:r(function(){var o=Math.atan2(this.y,this.x);return o<0&&(o+=2*Math.PI),o},"angle"),setAngle:r(function(o){return this.setToPolar(o,this.length())},"setAngle"),add:r(function(o){return this.x+=o.x,this.y+=o.y,this},"add"),subtract:r(function(o){return this.x-=o.x,this.y-=o.y,this},"subtract"),multiply:r(function(o){return this.x*=o.x,this.y*=o.y,this},"multiply"),scale:r(function(o){return isFinite(o)?(this.x*=o,this.y*=o):(this.x=0,this.y=0),this},"scale"),divide:r(function(o){return this.x/=o.x,this.y/=o.y,this},"divide"),negate:r(function(){return this.x=-this.x,this.y=-this.y,this},"negate"),distance:r(function(o){var l=o.x-this.x,a=o.y-this.y;return Math.sqrt(l*l+a*a)},"distance"),distanceSq:r(function(o){var l=o.x-this.x,a=o.y-this.y;return l*l+a*a},"distanceSq"),length:r(function(){var o=this.x,l=this.y;return Math.sqrt(o*o+l*l)},"length"),setLength:r(function(o){return this.normalize().scale(o)},"setLength"),lengthSq:r(function(){var o=this.x,l=this.y;return o*o+l*l},"lengthSq"),normalize:r(function(){var o=this.x,l=this.y,a=o*o+l*l;return a>0&&(a=1/Math.sqrt(a),this.x=o*a,this.y=l*a),this},"normalize"),normalizeRightHand:r(function(){var o=this.x;return this.x=this.y*-1,this.y=o,this},"normalizeRightHand"),normalizeLeftHand:r(function(){var o=this.x;return this.x=this.y,this.y=o*-1,this},"normalizeLeftHand"),dot:r(function(o){return this.x*o.x+this.y*o.y},"dot"),cross:r(function(o){return this.x*o.y-this.y*o.x},"cross"),lerp:r(function(o,l){l===void 0&&(l=0);var a=this.x,u=this.y;return this.x=a+l*(o.x-a),this.y=u+l*(o.y-u),this},"lerp"),transformMat3:r(function(o){var l=this.x,a=this.y,u=o.val;return this.x=u[0]*l+u[3]*a+u[6],this.y=u[1]*l+u[4]*a+u[7],this},"transformMat3"),transformMat4:r(function(o){var l=this.x,a=this.y,u=o.val;return this.x=u[0]*l+u[4]*a+u[12],this.y=u[1]*l+u[5]*a+u[13],this},"transformMat4"),reset:r(function(){return this.x=0,this.y=0,this},"reset"),limit:r(function(o){var l=this.length();return l&&l>o&&this.scale(o/l),this},"limit"),reflect:r(function(o){return o=o.clone().normalize(),this.subtract(o.scale(2*this.dot(o)))},"reflect"),mirror:r(function(o){return this.reflect(o).negate()},"mirror"),rotate:r(function(o){var l=Math.cos(o),a=Math.sin(o);return this.set(l*this.x-a*this.y,a*this.x+l*this.y)},"rotate"),project:r(function(o){var l=this.dot(o)/o.dot(o);return this.copy(o).scale(l)},"project")});c.ZERO=new c,c.RIGHT=new c(1,0),c.LEFT=new c(-1,0),c.UP=new c(0,-1),c.DOWN=new c(0,1),c.ONE=new c(1,1),n.exports=c},25836:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(83419),y=new f({initialize:r(function(o,l,a){this.x=0,this.y=0,this.z=0,typeof o=="object"?(this.x=o.x||0,this.y=o.y||0,this.z=o.z||0):(this.x=o||0,this.y=l||0,this.z=a||0)},"Vector3"),up:r(function(){return this.x=0,this.y=1,this.z=0,this},"up"),min:r(function(c){return this.x=Math.min(this.x,c.x),this.y=Math.min(this.y,c.y),this.z=Math.min(this.z,c.z),this},"min"),max:r(function(c){return this.x=Math.max(this.x,c.x),this.y=Math.max(this.y,c.y),this.z=Math.max(this.z,c.z),this},"max"),clone:r(function(){return new y(this.x,this.y,this.z)},"clone"),addVectors:r(function(c,o){return this.x=c.x+o.x,this.y=c.y+o.y,this.z=c.z+o.z,this},"addVectors"),crossVectors:r(function(c,o){var l=c.x,a=c.y,u=c.z,v=o.x,d=o.y,p=o.z;return this.x=a*p-u*d,this.y=u*v-l*p,this.z=l*d-a*v,this},"crossVectors"),equals:r(function(c){return this.x===c.x&&this.y===c.y&&this.z===c.z},"equals"),copy:r(function(c){return this.x=c.x,this.y=c.y,this.z=c.z||0,this},"copy"),set:r(function(c,o,l){return typeof c=="object"?(this.x=c.x||0,this.y=c.y||0,this.z=c.z||0):(this.x=c||0,this.y=o||0,this.z=l||0),this},"set"),setFromMatrixPosition:r(function(c){return this.fromArray(c.val,12)},"setFromMatrixPosition"),setFromMatrixColumn:r(function(c,o){return this.fromArray(c.val,o*4)},"setFromMatrixColumn"),fromArray:r(function(c,o){return o===void 0&&(o=0),this.x=c[o],this.y=c[o+1],this.z=c[o+2],this},"fromArray"),add:r(function(c){return this.x+=c.x,this.y+=c.y,this.z+=c.z||0,this},"add"),addScalar:r(function(c){return this.x+=c,this.y+=c,this.z+=c,this},"addScalar"),addScale:r(function(c,o){return this.x+=c.x*o,this.y+=c.y*o,this.z+=c.z*o||0,this},"addScale"),subtract:r(function(c){return this.x-=c.x,this.y-=c.y,this.z-=c.z||0,this},"subtract"),multiply:r(function(c){return this.x*=c.x,this.y*=c.y,this.z*=c.z||1,this},"multiply"),scale:r(function(c){return isFinite(c)?(this.x*=c,this.y*=c,this.z*=c):(this.x=0,this.y=0,this.z=0),this},"scale"),divide:r(function(c){return this.x/=c.x,this.y/=c.y,this.z/=c.z||1,this},"divide"),negate:r(function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this},"negate"),distance:r(function(c){var o=c.x-this.x,l=c.y-this.y,a=c.z-this.z||0;return Math.sqrt(o*o+l*l+a*a)},"distance"),distanceSq:r(function(c){var o=c.x-this.x,l=c.y-this.y,a=c.z-this.z||0;return o*o+l*l+a*a},"distanceSq"),length:r(function(){var c=this.x,o=this.y,l=this.z;return Math.sqrt(c*c+o*o+l*l)},"length"),lengthSq:r(function(){var c=this.x,o=this.y,l=this.z;return c*c+o*o+l*l},"lengthSq"),normalize:r(function(){var c=this.x,o=this.y,l=this.z,a=c*c+o*o+l*l;return a>0&&(a=1/Math.sqrt(a),this.x=c*a,this.y=o*a,this.z=l*a),this},"normalize"),dot:r(function(c){return this.x*c.x+this.y*c.y+this.z*c.z},"dot"),cross:r(function(c){var o=this.x,l=this.y,a=this.z,u=c.x,v=c.y,d=c.z;return this.x=l*d-a*v,this.y=a*u-o*d,this.z=o*v-l*u,this},"cross"),lerp:r(function(c,o){o===void 0&&(o=0);var l=this.x,a=this.y,u=this.z;return this.x=l+o*(c.x-l),this.y=a+o*(c.y-a),this.z=u+o*(c.z-u),this},"lerp"),applyMatrix3:r(function(c){var o=this.x,l=this.y,a=this.z,u=c.val;return this.x=u[0]*o+u[3]*l+u[6]*a,this.y=u[1]*o+u[4]*l+u[7]*a,this.z=u[2]*o+u[5]*l+u[8]*a,this},"applyMatrix3"),applyMatrix4:r(function(c){var o=this.x,l=this.y,a=this.z,u=c.val,v=1/(u[3]*o+u[7]*l+u[11]*a+u[15]);return this.x=(u[0]*o+u[4]*l+u[8]*a+u[12])*v,this.y=(u[1]*o+u[5]*l+u[9]*a+u[13])*v,this.z=(u[2]*o+u[6]*l+u[10]*a+u[14])*v,this},"applyMatrix4"),transformMat3:r(function(c){var o=this.x,l=this.y,a=this.z,u=c.val;return this.x=o*u[0]+l*u[3]+a*u[6],this.y=o*u[1]+l*u[4]+a*u[7],this.z=o*u[2]+l*u[5]+a*u[8],this},"transformMat3"),transformMat4:r(function(c){var o=this.x,l=this.y,a=this.z,u=c.val;return this.x=u[0]*o+u[4]*l+u[8]*a+u[12],this.y=u[1]*o+u[5]*l+u[9]*a+u[13],this.z=u[2]*o+u[6]*l+u[10]*a+u[14],this},"transformMat4"),transformCoordinates:r(function(c){var o=this.x,l=this.y,a=this.z,u=c.val,v=o*u[0]+l*u[4]+a*u[8]+u[12],d=o*u[1]+l*u[5]+a*u[9]+u[13],p=o*u[2]+l*u[6]+a*u[10]+u[14],g=o*u[3]+l*u[7]+a*u[11]+u[15];return this.x=v/g,this.y=d/g,this.z=p/g,this},"transformCoordinates"),transformQuat:r(function(c){var o=this.x,l=this.y,a=this.z,u=c.x,v=c.y,d=c.z,p=c.w,g=p*o+v*a-d*l,m=p*l+d*o-u*a,x=p*a+u*l-v*o,C=-u*o-v*l-d*a;return this.x=g*p+C*-u+m*-d-x*-v,this.y=m*p+C*-v+x*-u-g*-d,this.z=x*p+C*-d+g*-v-m*-u,this},"transformQuat"),project:r(function(c){var o=this.x,l=this.y,a=this.z,u=c.val,v=u[0],d=u[1],p=u[2],g=u[3],m=u[4],x=u[5],C=u[6],P=u[7],A=u[8],R=u[9],L=u[10],O=u[11],w=u[12],b=u[13],F=u[14],M=u[15],I=1/(o*g+l*P+a*O+M);return this.x=(o*v+l*m+a*A+w)*I,this.y=(o*d+l*x+a*R+b)*I,this.z=(o*p+l*C+a*L+F)*I,this},"project"),projectViewMatrix:r(function(c,o){return this.applyMatrix4(c).applyMatrix4(o)},"projectViewMatrix"),unprojectViewMatrix:r(function(c,o){return this.applyMatrix4(c).applyMatrix4(o)},"unprojectViewMatrix"),unproject:r(function(c,o){var l=c.x,a=c.y,u=c.z,v=c.w,d=this.x-l,p=v-this.y-1-a,g=this.z;return this.x=2*d/u-1,this.y=2*p/v-1,this.z=2*g-1,this.project(o)},"unproject"),reset:r(function(){return this.x=0,this.y=0,this.z=0,this},"reset")});y.ZERO=new y,y.RIGHT=new y(1,0,0),y.LEFT=new y(-1,0,0),y.UP=new y(0,-1,0),y.DOWN=new y(0,1,0),y.FORWARD=new y(0,0,1),y.BACK=new y(0,0,-1),y.ONE=new y(1,1,1),n.exports=y},61369:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(83419),y=new f({initialize:r(function(o,l,a,u){this.x=0,this.y=0,this.z=0,this.w=0,typeof o=="object"?(this.x=o.x||0,this.y=o.y||0,this.z=o.z||0,this.w=o.w||0):(this.x=o||0,this.y=l||0,this.z=a||0,this.w=u||0)},"Vector4"),clone:r(function(){return new y(this.x,this.y,this.z,this.w)},"clone"),copy:r(function(c){return this.x=c.x,this.y=c.y,this.z=c.z||0,this.w=c.w||0,this},"copy"),equals:r(function(c){return this.x===c.x&&this.y===c.y&&this.z===c.z&&this.w===c.w},"equals"),set:r(function(c,o,l,a){return typeof c=="object"?(this.x=c.x||0,this.y=c.y||0,this.z=c.z||0,this.w=c.w||0):(this.x=c||0,this.y=o||0,this.z=l||0,this.w=a||0),this},"set"),add:r(function(c){return this.x+=c.x,this.y+=c.y,this.z+=c.z||0,this.w+=c.w||0,this},"add"),subtract:r(function(c){return this.x-=c.x,this.y-=c.y,this.z-=c.z||0,this.w-=c.w||0,this},"subtract"),scale:r(function(c){return this.x*=c,this.y*=c,this.z*=c,this.w*=c,this},"scale"),length:r(function(){var c=this.x,o=this.y,l=this.z,a=this.w;return Math.sqrt(c*c+o*o+l*l+a*a)},"length"),lengthSq:r(function(){var c=this.x,o=this.y,l=this.z,a=this.w;return c*c+o*o+l*l+a*a},"lengthSq"),normalize:r(function(){var c=this.x,o=this.y,l=this.z,a=this.w,u=c*c+o*o+l*l+a*a;return u>0&&(u=1/Math.sqrt(u),this.x=c*u,this.y=o*u,this.z=l*u,this.w=a*u),this},"normalize"),dot:r(function(c){return this.x*c.x+this.y*c.y+this.z*c.z+this.w*c.w},"dot"),lerp:r(function(c,o){o===void 0&&(o=0);var l=this.x,a=this.y,u=this.z,v=this.w;return this.x=l+o*(c.x-l),this.y=a+o*(c.y-a),this.z=u+o*(c.z-u),this.w=v+o*(c.w-v),this},"lerp"),multiply:r(function(c){return this.x*=c.x,this.y*=c.y,this.z*=c.z||1,this.w*=c.w||1,this},"multiply"),divide:r(function(c){return this.x/=c.x,this.y/=c.y,this.z/=c.z||1,this.w/=c.w||1,this},"divide"),distance:r(function(c){var o=c.x-this.x,l=c.y-this.y,a=c.z-this.z||0,u=c.w-this.w||0;return Math.sqrt(o*o+l*l+a*a+u*u)},"distance"),distanceSq:r(function(c){var o=c.x-this.x,l=c.y-this.y,a=c.z-this.z||0,u=c.w-this.w||0;return o*o+l*l+a*a+u*u},"distanceSq"),negate:r(function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this},"negate"),transformMat4:r(function(c){var o=this.x,l=this.y,a=this.z,u=this.w,v=c.val;return this.x=v[0]*o+v[4]*l+v[8]*a+v[12]*u,this.y=v[1]*o+v[5]*l+v[9]*a+v[13]*u,this.z=v[2]*o+v[6]*l+v[10]*a+v[14]*u,this.w=v[3]*o+v[7]*l+v[11]*a+v[15]*u,this},"transformMat4"),transformQuat:r(function(c){var o=this.x,l=this.y,a=this.z,u=c.x,v=c.y,d=c.z,p=c.w,g=p*o+v*a-d*l,m=p*l+d*o-u*a,x=p*a+u*l-v*o,C=-u*o-v*l-d*a;return this.x=g*p+C*-u+m*-d-x*-v,this.y=m*p+C*-v+x*-u-g*-d,this.z=x*p+C*-d+g*-v-m*-u,this},"transformQuat"),reset:r(function(){return this.x=0,this.y=0,this.z=0,this.w=0,this},"reset")});y.prototype.sub=y.prototype.subtract,y.prototype.mul=y.prototype.multiply,y.prototype.div=y.prototype.divide,y.prototype.dist=y.prototype.distance,y.prototype.distSq=y.prototype.distanceSq,y.prototype.len=y.prototype.length,y.prototype.lenSq=y.prototype.lengthSq,n.exports=y},60417:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i,f,y){return Math.abs(i-f)<=y},"Within");n.exports=T},15994:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i,f,y){var c=y-f;return f+((i-f)%c+c)%c},"Wrap");n.exports=T},31040:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i,f,y,c){return Math.atan2(c-f,y-i)},"Between");n.exports=T},55495:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i,f){return Math.atan2(f.y-i.y,f.x-i.x)},"BetweenPoints");n.exports=T},128:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i,f){return Math.atan2(f.x-i.x,f.y-i.y)},"BetweenPointsY");n.exports=T},41273:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i,f,y,c){return Math.atan2(y-i,c-f)},"BetweenY");n.exports=T},1432:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(36383),y=r(function(c){return c>Math.PI&&(c-=f.PI2),Math.abs(((c+f.TAU)%f.PI2-f.PI2)%f.PI2)},"CounterClockwise");n.exports=y},12407:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i){return i=i%(2*Math.PI),i>=0?i:i+2*Math.PI},"Normalize");n.exports=T},53993:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       @samme
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(99472),y=r(function(){return f(-Math.PI,Math.PI)},"Random");n.exports=y},86564:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       @samme
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(99472),y=r(function(){return f(-180,180)},"RandomDegrees");n.exports=y},90154:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(12407),y=r(function(c){return f(c+Math.PI)},"Reverse");n.exports=y},48736:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(36383),y=r(function(c,o,l){return l===void 0&&(l=.05),c===o||(Math.abs(o-c)<=l||Math.abs(o-c)>=f.PI2-l?c=o:(Math.abs(o-c)>Math.PI&&(o<c?o+=f.PI2:o-=f.PI2),o>c?c+=l:o<c&&(c-=l))),c},"RotateTo");n.exports=y},61430:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i,f){var y=f-i;if(y===0)return 0;var c=Math.floor((y- -180)/360);return y-c*360},"ShortestBetween");n.exports=T},86554:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(15994),y=r(function(c){return f(c,-Math.PI,Math.PI)},"Wrap");n.exports=y},30954:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(15994),y=r(function(c){return f(c,-180,180)},"WrapDegrees");n.exports=y},25588:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={Between:i(31040),BetweenPoints:i(55495),BetweenPointsY:i(128),BetweenY:i(41273),CounterClockwise:i(1432),Normalize:i(12407),Random:i(53993),RandomDegrees:i(86564),Reverse:i(90154),RotateTo:i(48736),ShortestBetween:i(61430),Wrap:i(86554),WrapDegrees:i(30954)}},36383:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={PI2:Math.PI*2,TAU:Math.PI*.5,EPSILON:1e-6,DEG_TO_RAD:Math.PI/180,RAD_TO_DEG:180/Math.PI,RND:null,MIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER||-9007199254740991,MAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER||9007199254740991};n.exports=T},20339:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i,f,y,c){var o=i-y,l=f-c;return Math.sqrt(o*o+l*l)},"DistanceBetween");n.exports=T},52816:n=>{/**
 * @author       samme
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i,f){var y=i.x-f.x,c=i.y-f.y;return Math.sqrt(y*y+c*c)},"DistanceBetweenPoints");n.exports=T},64559:n=>{/**
 * @author       samme
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i,f){var y=i.x-f.x,c=i.y-f.y;return y*y+c*c},"DistanceBetweenPointsSquared");n.exports=T},82340:n=>{/**
 * @author       samme
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i,f,y,c){return Math.max(Math.abs(i-y),Math.abs(f-c))},"ChebyshevDistance");n.exports=T},14390:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i,f,y,c,o){return o===void 0&&(o=2),Math.sqrt(Math.pow(y-i,o)+Math.pow(c-f,o))},"DistancePower");n.exports=T},2243:n=>{/**
 * @author       samme
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i,f,y,c){return Math.abs(i-y)+Math.abs(f-c)},"SnakeDistance");n.exports=T},89774:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i,f,y,c){var o=i-y,l=f-c;return o*o+l*l},"DistanceSquared");n.exports=T},50994:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={Between:i(20339),BetweenPoints:i(52816),BetweenPointsSquared:i(64559),Chebyshev:i(82340),Power:i(14390),Snake:i(2243),Squared:i(89774)}},62640:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(54178),y=i(41521),c=i(79980),o=i(85433),l=i(99140),a=i(48857),u=i(81596),v=i(59133),d=i(98516),p=i(35248),g=i(82500),m=i(49752);n.exports={Power0:u,Power1:v.Out,Power2:o.Out,Power3:d.Out,Power4:p.Out,Linear:u,Quad:v.Out,Cubic:o.Out,Quart:d.Out,Quint:p.Out,Sine:g.Out,Expo:a.Out,Circ:c.Out,Elastic:l.Out,Back:f.Out,Bounce:y.Out,Stepped:m,"Quad.easeIn":v.In,"Cubic.easeIn":o.In,"Quart.easeIn":d.In,"Quint.easeIn":p.In,"Sine.easeIn":g.In,"Expo.easeIn":a.In,"Circ.easeIn":c.In,"Elastic.easeIn":l.In,"Back.easeIn":f.In,"Bounce.easeIn":y.In,"Quad.easeOut":v.Out,"Cubic.easeOut":o.Out,"Quart.easeOut":d.Out,"Quint.easeOut":p.Out,"Sine.easeOut":g.Out,"Expo.easeOut":a.Out,"Circ.easeOut":c.Out,"Elastic.easeOut":l.Out,"Back.easeOut":f.Out,"Bounce.easeOut":y.Out,"Quad.easeInOut":v.InOut,"Cubic.easeInOut":o.InOut,"Quart.easeInOut":d.InOut,"Quint.easeInOut":p.InOut,"Sine.easeInOut":g.InOut,"Expo.easeInOut":a.InOut,"Circ.easeInOut":c.InOut,"Elastic.easeInOut":l.InOut,"Back.easeInOut":f.InOut,"Bounce.easeInOut":y.InOut}},1639:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i,f){return f===void 0&&(f=1.70158),i*i*((f+1)*i-f)},"In");n.exports=T},50099:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i,f){f===void 0&&(f=1.70158);var y=f*1.525;return(i*=2)<1?.5*(i*i*((y+1)*i-y)):.5*((i-=2)*i*((y+1)*i+y)+2)},"InOut");n.exports=T},41286:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i,f){return f===void 0&&(f=1.70158),--i*i*((f+1)*i+f)+1},"Out");n.exports=T},54178:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={In:i(1639),Out:i(41286),InOut:i(50099)}},59590:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i){return i=1-i,i<.36363636363636365?1-7.5625*i*i:i<.7272727272727273?1-(7.5625*(i-=.5454545454545454)*i+.75):i<.9090909090909091?1-(7.5625*(i-=.8181818181818182)*i+.9375):1-(7.5625*(i-=.9545454545454546)*i+.984375)},"In");n.exports=T},41788:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i){var f=!1;return i<.5?(i=1-i*2,f=!0):i=i*2-1,i<.36363636363636365?i=7.5625*i*i:i<.7272727272727273?i=7.5625*(i-=.5454545454545454)*i+.75:i<.9090909090909091?i=7.5625*(i-=.8181818181818182)*i+.9375:i=7.5625*(i-=.9545454545454546)*i+.984375,f?(1-i)*.5:i*.5+.5},"InOut");n.exports=T},69905:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i){return i<.36363636363636365?7.5625*i*i:i<.7272727272727273?7.5625*(i-=.5454545454545454)*i+.75:i<.9090909090909091?7.5625*(i-=.8181818181818182)*i+.9375:7.5625*(i-=.9545454545454546)*i+.984375},"Out");n.exports=T},41521:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={In:i(59590),Out:i(69905),InOut:i(41788)}},91861:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i){return 1-Math.sqrt(1-i*i)},"In");n.exports=T},4177:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i){return(i*=2)<1?-.5*(Math.sqrt(1-i*i)-1):.5*(Math.sqrt(1-(i-=2)*i)+1)},"InOut");n.exports=T},57512:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i){return Math.sqrt(1- --i*i)},"Out");n.exports=T},79980:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={In:i(91861),Out:i(57512),InOut:i(4177)}},51150:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i){return i*i*i},"In");n.exports=T},82820:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i){return(i*=2)<1?.5*i*i*i:.5*((i-=2)*i*i+2)},"InOut");n.exports=T},35033:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i){return--i*i*i+1},"Out");n.exports=T},85433:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={In:i(51150),Out:i(35033),InOut:i(82820)}},69965:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i,f,y){if(f===void 0&&(f=.1),y===void 0&&(y=.1),i===0)return 0;if(i===1)return 1;var c=y/4;return f<1?f=1:c=y*Math.asin(1/f)/(2*Math.PI),-(f*Math.pow(2,10*(i-=1))*Math.sin((i-c)*(2*Math.PI)/y))},"In");n.exports=T},50665:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i,f,y){if(f===void 0&&(f=.1),y===void 0&&(y=.1),i===0)return 0;if(i===1)return 1;var c=y/4;return f<1?f=1:c=y*Math.asin(1/f)/(2*Math.PI),(i*=2)<1?-.5*(f*Math.pow(2,10*(i-=1))*Math.sin((i-c)*(2*Math.PI)/y)):f*Math.pow(2,-10*(i-=1))*Math.sin((i-c)*(2*Math.PI)/y)*.5+1},"InOut");n.exports=T},7744:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i,f,y){if(f===void 0&&(f=.1),y===void 0&&(y=.1),i===0)return 0;if(i===1)return 1;var c=y/4;return f<1?f=1:c=y*Math.asin(1/f)/(2*Math.PI),f*Math.pow(2,-10*i)*Math.sin((i-c)*(2*Math.PI)/y)+1},"Out");n.exports=T},99140:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={In:i(69965),Out:i(7744),InOut:i(50665)}},24590:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i){return Math.pow(2,10*(i-1))-.001},"In");n.exports=T},87844:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i){return(i*=2)<1?.5*Math.pow(2,10*(i-1)):.5*(2-Math.pow(2,-10*(i-1)))},"InOut");n.exports=T},89433:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i){return 1-Math.pow(2,-10*i)},"Out");n.exports=T},48857:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={In:i(24590),Out:i(89433),InOut:i(87844)}},48820:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={Back:i(54178),Bounce:i(41521),Circular:i(79980),Cubic:i(85433),Elastic:i(99140),Expo:i(48857),Linear:i(81596),Quadratic:i(59133),Quartic:i(98516),Quintic:i(35248),Sine:i(82500),Stepped:i(49752)}},7147:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i){return i},"Linear");n.exports=T},81596:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports=i(7147)},34826:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i){return i*i},"In");n.exports=T},20544:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i){return(i*=2)<1?.5*i*i:-.5*(--i*(i-2)-1)},"InOut");n.exports=T},92029:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i){return i*(2-i)},"Out");n.exports=T},59133:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={In:i(34826),Out:i(92029),InOut:i(20544)}},64413:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i){return i*i*i*i},"In");n.exports=T},78137:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i){return(i*=2)<1?.5*i*i*i*i:-.5*((i-=2)*i*i*i-2)},"InOut");n.exports=T},45840:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i){return 1- --i*i*i*i},"Out");n.exports=T},98516:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={In:i(64413),Out:i(45840),InOut:i(78137)}},87745:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i){return i*i*i*i*i},"In");n.exports=T},16509:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i){return(i*=2)<1?.5*i*i*i*i*i:.5*((i-=2)*i*i*i*i+2)},"InOut");n.exports=T},17868:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i){return--i*i*i*i*i+1},"Out");n.exports=T},35248:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={In:i(87745),Out:i(17868),InOut:i(16509)}},80461:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i){return i===0?0:i===1?1:1-Math.cos(i*Math.PI/2)},"In");n.exports=T},34025:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i){return i===0?0:i===1?1:.5*(1-Math.cos(Math.PI*i))},"InOut");n.exports=T},52768:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i){return i===0?0:i===1?1:Math.sin(i*Math.PI/2)},"Out");n.exports=T},82500:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={In:i(80461),Out:i(52768),InOut:i(34025)}},72251:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i,f){return f===void 0&&(f=1),i<=0?0:i>=1?1:((f*i|0)+1)*(1/f)},"Stepped");n.exports=T},49752:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports=i(72251)},75698:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i,f){return f===void 0&&(f=1e-4),Math.ceil(i-f)},"Ceil");n.exports=T},43855:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i,f,y){return y===void 0&&(y=1e-4),Math.abs(i-f)<y},"Equal");n.exports=T},25777:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i,f){return f===void 0&&(f=1e-4),Math.floor(i+f)},"Floor");n.exports=T},5470:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i,f,y){return y===void 0&&(y=1e-4),i>f-y},"GreaterThan");n.exports=T},94977:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i,f,y){return y===void 0&&(y=1e-4),i<f+y},"LessThan");n.exports=T},48379:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={Ceil:i(75698),Equal:i(43855),Floor:i(25777),GreaterThan:i(5470),LessThan:i(94977)}},75508:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(36383),y=i(79291),c={Angle:i(25588),Distance:i(50994),Easing:i(48820),Fuzzy:i(48379),Interpolation:i(38289),Pow2:i(49001),Snap:i(73697),RandomDataGenerator:i(28453),Average:i(53307),Bernstein:i(85710),Between:i(30976),CatmullRom:i(87842),CeilTo:i(26302),Clamp:i(45319),DegToRad:i(39506),Difference:i(61241),Euler:i(38857),Factorial:i(6411),FloatBetween:i(99472),FloorTo:i(77623),FromPercent:i(62945),GetSpeed:i(38265),IsEven:i(78702),IsEvenStrict:i(94883),Linear:i(28915),LinearXY:i(94908),MaxAdd:i(86883),Median:i(50040),MinSub:i(37204),Percent:i(65201),RadToDeg:i(43396),RandomXY:i(74362),RandomXYZ:i(60706),RandomXYZW:i(67421),Rotate:i(36305),RotateAround:i(11520),RotateAroundDistance:i(1163),RotateTo:i(70336),RoundAwayFromZero:i(2284),RoundTo:i(41013),SinCosTableGenerator:i(16922),SmootherStep:i(54261),SmoothStep:i(7602),ToXY:i(44408),TransformXY:i(85955),Within:i(60417),Wrap:i(15994),Vector2:i(26099),Vector3:i(25836),Vector4:i(61369),Matrix3:i(94434),Matrix4:i(37867),Quaternion:i(15746),RotateVec3:i(72678)};c=y(!1,c,f),n.exports=c},89318:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(85710),y=r(function(c,o){for(var l=0,a=c.length-1,u=0;u<=a;u++)l+=Math.pow(1-o,a-u)*Math.pow(o,u)*c[u]*f(a,u);return l},"BezierInterpolation");n.exports=y},77259:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(87842),y=r(function(c,o){var l=c.length-1,a=l*o,u=Math.floor(a);return c[0]===c[l]?(o<0&&(u=Math.floor(a=l*(1+o))),f(a-u,c[(u-1+l)%l],c[u],c[(u+1)%l],c[(u+2)%l])):o<0?c[0]-(f(-a,c[0],c[0],c[1],c[1])-c[0]):o>1?c[l]-(f(a-l,c[l],c[l],c[l-1],c[l-1])-c[l]):f(a-u,c[u?u-1:0],c[u],c[l<u+1?l:u+1],c[l<u+2?l:u+2])},"CatmullRomInterpolation");n.exports=y},36316:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function T(o,l){var a=1-o;return a*a*a*l}r(T,"P0");function i(o,l){var a=1-o;return 3*a*a*o*l}r(i,"P1");function f(o,l){return 3*(1-o)*o*o*l}r(f,"P2");function y(o,l){return o*o*o*l}r(y,"P3");var c=r(function(o,l,a,u,v){return T(o,l)+i(o,a)+f(o,u)+y(o,v)},"CubicBezierInterpolation");n.exports=c},28392:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(28915),y=r(function(c,o){var l=c.length-1,a=l*o,u=Math.floor(a);return o<0?f(c[0],c[1],a):o>1?f(c[l],c[l-1],l-a):f(c[u],c[u+1>l?l:u+1],a-u)},"LinearInterpolation");n.exports=y},32112:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function T(c,o){var l=1-c;return l*l*o}r(T,"P0");function i(c,o){return 2*(1-c)*c*o}r(i,"P1");function f(c,o){return c*c*o}r(f,"P2");var y=r(function(c,o,l,a){return T(c,o)+i(c,l)+f(c,a)},"QuadraticBezierInterpolation");n.exports=y},47235:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(7602),y=r(function(c,o,l){return o+(l-o)*f(c,0,1)},"SmoothStepInterpolation");n.exports=y},50178:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(54261),y=r(function(c,o,l){return o+(l-o)*f(c,0,1)},"SmootherStepInterpolation");n.exports=y},38289:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={Bezier:i(89318),CatmullRom:i(77259),CubicBezier:i(36316),Linear:i(28392),QuadraticBezier:i(32112),SmoothStep:i(47235),SmootherStep:i(50178)}},98439:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i){var f=Math.log(i)/.6931471805599453;return 1<<Math.ceil(f)},"GetPowerOfTwo");n.exports=T},50030:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i,f){return i>0&&(i&i-1)===0&&f>0&&(f&f-1)===0},"IsSizePowerOfTwo");n.exports=T},81230:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i){return i>0&&(i&i-1)===0},"IsValuePowerOfTwo");n.exports=T},49001:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={GetNext:i(98439),IsSize:i(50030),IsValue:i(81230)}},28453:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(83419),y=new f({initialize:r(function(o){o===void 0&&(o=[(Date.now()*Math.random()).toString()]),this.c=1,this.s0=0,this.s1=0,this.s2=0,this.n=0,this.signs=[-1,1],o&&this.init(o)},"RandomDataGenerator"),rnd:r(function(){var c=2091639*this.s0+this.c*23283064365386963e-26;return this.c=c|0,this.s0=this.s1,this.s1=this.s2,this.s2=c-this.c,this.s2},"rnd"),hash:r(function(c){var o,l=this.n;c=c.toString();for(var a=0;a<c.length;a++)l+=c.charCodeAt(a),o=.02519603282416938*l,l=o>>>0,o-=l,o*=l,l=o>>>0,o-=l,l+=o*4294967296;return this.n=l,(l>>>0)*23283064365386963e-26},"hash"),init:r(function(c){typeof c=="string"?this.state(c):this.sow(c)},"init"),sow:r(function(c){if(this.n=4022871197,this.s0=this.hash(" "),this.s1=this.hash(" "),this.s2=this.hash(" "),this.c=1,!!c)for(var o=0;o<c.length&&c[o]!=null;o++){var l=c[o];this.s0-=this.hash(l),this.s0+=~~(this.s0<0),this.s1-=this.hash(l),this.s1+=~~(this.s1<0),this.s2-=this.hash(l),this.s2+=~~(this.s2<0)}},"sow"),integer:r(function(){return this.rnd()*4294967296},"integer"),frac:r(function(){return this.rnd()+(this.rnd()*2097152|0)*11102230246251565e-32},"frac"),real:r(function(){return this.integer()+this.frac()},"real"),integerInRange:r(function(c,o){return Math.floor(this.realInRange(0,o-c+1)+c)},"integerInRange"),between:r(function(c,o){return Math.floor(this.realInRange(0,o-c+1)+c)},"between"),realInRange:r(function(c,o){return this.frac()*(o-c)+c},"realInRange"),normal:r(function(){return 1-2*this.frac()},"normal"),uuid:r(function(){var c="",o="";for(o=c="";c++<36;o+=~c%5|c*3&4?(c^15?8^this.frac()*(c^20?16:4):4).toString(16):"-");return o},"uuid"),pick:r(function(c){return c[this.integerInRange(0,c.length-1)]},"pick"),sign:r(function(){return this.pick(this.signs)},"sign"),weightedPick:r(function(c){return c[~~(Math.pow(this.frac(),2)*(c.length-.5)+.5)]},"weightedPick"),timestamp:r(function(c,o){return this.realInRange(c||9466848e5,o||1577862e6)},"timestamp"),angle:r(function(){return this.integerInRange(-180,180)},"angle"),rotation:r(function(){return this.realInRange(-3.1415926,3.1415926)},"rotation"),state:r(function(c){return typeof c=="string"&&c.match(/^!rnd/)&&(c=c.split(","),this.c=parseFloat(c[1]),this.s0=parseFloat(c[2]),this.s1=parseFloat(c[3]),this.s2=parseFloat(c[4])),["!rnd",this.c,this.s0,this.s1,this.s2].join(",")},"state"),shuffle:r(function(c){for(var o=c.length-1,l=o;l>0;l--){var a=Math.floor(this.frac()*(l+1)),u=c[a];c[a]=c[l],c[l]=u}return c},"shuffle")});n.exports=y},63448:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i,f,y,c){return y===void 0&&(y=0),f===0?i:(i-=y,i=f*Math.ceil(i/f),c?(y+i)/f:y+i)},"SnapCeil");n.exports=T},56583:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i,f,y,c){return y===void 0&&(y=0),f===0?i:(i-=y,i=f*Math.floor(i/f),c?(y+i)/f:y+i)},"SnapFloor");n.exports=T},77720:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i,f,y,c){return y===void 0&&(y=0),f===0?i:(i-=y,i=f*Math.round(i/f),c?(y+i)/f:y+i)},"SnapTo");n.exports=T},73697:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={Ceil:i(63448),Floor:i(56583),To:i(77720)}},85454:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */i(63595);var f=i(8054),y=i(79291),c={Actions:i(61061),Animations:i(60421),BlendModes:i(10312),Cache:i(83388),Cameras:i(26638),Core:i(42857),Class:i(83419),Create:i(15822),Curves:i(25410),Data:i(44965),Display:i(27460),DOM:i(84902),Events:i(93055),FX:i(66064),Game:i(50127),GameObjects:i(77856),Geom:i(55738),Input:i(14350),Loader:i(57777),Math:i(75508),Physics:i(44563),Plugins:i(18922),Renderer:i(36909),Scale:i(93364),ScaleModes:i(29795),Scene:i(97482),Scenes:i(62194),Structs:i(41392),Textures:i(27458),Tilemaps:i(62501),Time:i(90291),Tweens:i(43066),Utils:i(91799)};c.Sound=i(23717),c=y(!1,c,f),n.exports=c,i.g.Phaser=c},71289:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(83419),y=i(92209),c=i(88571),o=new f({Extends:c,Mixins:[y.Acceleration,y.Angular,y.Bounce,y.Collision,y.Debug,y.Drag,y.Enable,y.Friction,y.Gravity,y.Immovable,y.Mass,y.Pushable,y.Size,y.Velocity],initialize:r(function(a,u,v,d,p){c.call(this,a,u,v,d,p),this.body=null},"ArcadeImage")});n.exports=o},86689:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(83419),y=i(39506),c=i(20339),o=i(89774),l=i(66022),a=i(95540),u=i(46975),v=i(72441),d=i(47956),p=i(37277),g=i(44594),m=i(26099),x=i(82248),C=new f({initialize:r(function(A){this.scene=A,this.systems=A.sys,this.config=this.getConfig(),this.world,this.add,this._category=1,A.sys.events.once(g.BOOT,this.boot,this),A.sys.events.on(g.START,this.start,this)},"ArcadePhysics"),boot:r(function(){this.world=new x(this.scene,this.config),this.add=new l(this.world),this.systems.events.once(g.DESTROY,this.destroy,this)},"boot"),start:r(function(){this.world||(this.world=new x(this.scene,this.config),this.add=new l(this.world));var P=this.systems.events;a(this.config,"customUpdate",!1)||P.on(g.UPDATE,this.world.update,this.world),P.on(g.POST_UPDATE,this.world.postUpdate,this.world),P.once(g.SHUTDOWN,this.shutdown,this)},"start"),enableUpdate:r(function(){this.systems.events.on(g.UPDATE,this.world.update,this.world)},"enableUpdate"),disableUpdate:r(function(){this.systems.events.off(g.UPDATE,this.world.update,this.world)},"disableUpdate"),getConfig:r(function(){var P=this.systems.game.config.physics,A=this.systems.settings.physics,R=u(a(A,"arcade",{}),a(P,"arcade",{}));return R},"getConfig"),nextCategory:r(function(){return this._category=this._category<<1,this._category},"nextCategory"),overlap:r(function(P,A,R,L,O){return R===void 0&&(R=null),L===void 0&&(L=null),O===void 0&&(O=R),this.world.collideObjects(P,A,R,L,O,!0)},"overlap"),collide:r(function(P,A,R,L,O){return R===void 0&&(R=null),L===void 0&&(L=null),O===void 0&&(O=R),this.world.collideObjects(P,A,R,L,O,!1)},"collide"),collideTiles:r(function(P,A,R,L,O){return this.world.collideTiles(P,A,R,L,O)},"collideTiles"),overlapTiles:r(function(P,A,R,L,O){return this.world.overlapTiles(P,A,R,L,O)},"overlapTiles"),pause:r(function(){return this.world.pause()},"pause"),resume:r(function(){return this.world.resume()},"resume"),accelerateTo:r(function(P,A,R,L,O,w){L===void 0&&(L=60);var b=Math.atan2(R-P.y,A-P.x);return P.body.acceleration.setToPolar(b,L),O!==void 0&&w!==void 0&&P.body.maxVelocity.set(O,w),b},"accelerateTo"),accelerateToObject:r(function(P,A,R,L,O){return this.accelerateTo(P,A.x,A.y,R,L,O)},"accelerateToObject"),closest:r(function(P,A){A||(A=this.world.bodies.entries);for(var R=Number.MAX_VALUE,L=null,O=P.x,w=P.y,b=A.length,F=0;F<b;F++){var M=A[F],I=M.body||M;if(!(P===M||P===I||P===I.gameObject||P===I.center)){var B=o(O,w,I.center.x,I.center.y);B<R&&(L=M,R=B)}}return L},"closest"),furthest:r(function(P,A){A||(A=this.world.bodies.entries);for(var R=-1,L=null,O=P.x,w=P.y,b=A.length,F=0;F<b;F++){var M=A[F],I=M.body||M;if(!(P===M||P===I||P===I.gameObject||P===I.center)){var B=o(O,w,I.center.x,I.center.y);B>R&&(L=M,R=B)}}return L},"furthest"),moveTo:r(function(P,A,R,L,O){L===void 0&&(L=60),O===void 0&&(O=0);var w=Math.atan2(R-P.y,A-P.x);return O>0&&(L=c(P.x,P.y,A,R)/(O/1e3)),P.body.velocity.setToPolar(w,L),w},"moveTo"),moveToObject:r(function(P,A,R,L){return this.moveTo(P,A.x,A.y,R,L)},"moveToObject"),velocityFromAngle:r(function(P,A,R){return A===void 0&&(A=60),R===void 0&&(R=new m),R.setToPolar(y(P),A)},"velocityFromAngle"),velocityFromRotation:r(function(P,A,R){return A===void 0&&(A=60),R===void 0&&(R=new m),R.setToPolar(P,A)},"velocityFromRotation"),overlapRect:r(function(P,A,R,L,O,w){return d(this.world,P,A,R,L,O,w)},"overlapRect"),overlapCirc:r(function(P,A,R,L,O){return v(this.world,P,A,R,L,O)},"overlapCirc"),shutdown:r(function(){if(this.world){var P=this.systems.events;P.off(g.UPDATE,this.world.update,this.world),P.off(g.POST_UPDATE,this.world.postUpdate,this.world),P.off(g.SHUTDOWN,this.shutdown,this),this.add.destroy(),this.world.destroy(),this.add=null,this.world=null,this._category=1}},"shutdown"),destroy:r(function(){this.shutdown(),this.scene.sys.events.off(g.START,this.start,this),this.scene=null,this.systems=null},"destroy")});p.register("ArcadePhysics",C,"arcadePhysics"),n.exports=C},13759:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(83419),y=i(92209),c=i(68287),o=new f({Extends:c,Mixins:[y.Acceleration,y.Angular,y.Bounce,y.Collision,y.Debug,y.Drag,y.Enable,y.Friction,y.Gravity,y.Immovable,y.Mass,y.Pushable,y.Size,y.Velocity],initialize:r(function(a,u,v,d,p){c.call(this,a,u,v,d,p),this.body=null},"ArcadeSprite")});n.exports=o},37742:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(83419),y=i(78389),c=i(37747),o=i(63012),l=i(43396),a=i(87841),u=i(37303),v=i(95829),d=i(26099),p=new f({Mixins:[y],initialize:r(function(m,x){var C=64,P=64,A={x:0,y:0,angle:0,rotation:0,scaleX:1,scaleY:1,displayOriginX:0,displayOriginY:0},R=x!==void 0;R&&x.displayWidth&&(C=x.displayWidth,P=x.displayHeight),R||(x=A),this.world=m,this.gameObject=R?x:void 0,this.isBody=!0,this.transform={x:x.x,y:x.y,rotation:x.angle,scaleX:x.scaleX,scaleY:x.scaleY,displayOriginX:x.displayOriginX,displayOriginY:x.displayOriginY},this.debugShowBody=m.defaults.debugShowBody,this.debugShowVelocity=m.defaults.debugShowVelocity,this.debugBodyColor=m.defaults.bodyDebugColor,this.enable=!0,this.isCircle=!1,this.radius=0,this.offset=new d,this.position=new d(x.x-x.scaleX*x.displayOriginX,x.y-x.scaleY*x.displayOriginY),this.prev=this.position.clone(),this.prevFrame=this.position.clone(),this.allowRotation=!0,this.rotation=x.angle,this.preRotation=x.angle,this.width=C,this.height=P,this.sourceWidth=C,this.sourceHeight=P,x.frame&&(this.sourceWidth=x.frame.realWidth,this.sourceHeight=x.frame.realHeight),this.halfWidth=Math.abs(C/2),this.halfHeight=Math.abs(P/2),this.center=new d(this.position.x+this.halfWidth,this.position.y+this.halfHeight),this.velocity=new d,this.newVelocity=new d,this.deltaMax=new d,this.acceleration=new d,this.allowDrag=!0,this.drag=new d,this.allowGravity=!0,this.gravity=new d,this.bounce=new d,this.worldBounce=null,this.customBoundsRectangle=m.bounds,this.onWorldBounds=!1,this.onCollide=!1,this.onOverlap=!1,this.maxVelocity=new d(1e4,1e4),this.maxSpeed=-1,this.friction=new d(1,0),this.useDamping=!1,this.angularVelocity=0,this.angularAcceleration=0,this.angularDrag=0,this.maxAngular=1e3,this.mass=1,this.angle=0,this.speed=0,this.facing=c.FACING_NONE,this.immovable=!1,this.pushable=!0,this.slideFactor=new d(1,1),this.moves=!0,this.customSeparateX=!1,this.customSeparateY=!1,this.overlapX=0,this.overlapY=0,this.overlapR=0,this.embedded=!1,this.collideWorldBounds=!1,this.checkCollision=v(!1),this.touching=v(!0),this.wasTouching=v(!0),this.blocked=v(!0),this.syncBounds=!1,this.physicsType=c.DYNAMIC_BODY,this.collisionCategory=1,this.collisionMask=1,this._sx=x.scaleX,this._sy=x.scaleY,this._dx=0,this._dy=0,this._tx=0,this._ty=0,this._bounds=new a,this.directControl=!1,this.autoFrame=this.position.clone()},"Body"),updateBounds:r(function(){var g=this.gameObject,m=this.transform;if(g.parentContainer){var x=g.getWorldTransformMatrix(this.world._tempMatrix,this.world._tempMatrix2);m.x=x.tx,m.y=x.ty,m.rotation=l(x.rotation),m.scaleX=x.scaleX,m.scaleY=x.scaleY,m.displayOriginX=g.displayOriginX,m.displayOriginY=g.displayOriginY}else m.x=g.x,m.y=g.y,m.rotation=g.angle,m.scaleX=g.scaleX,m.scaleY=g.scaleY,m.displayOriginX=g.displayOriginX,m.displayOriginY=g.displayOriginY;var C=!1;if(this.syncBounds){var P=g.getBounds(this._bounds);this.width=P.width,this.height=P.height,C=!0}else{var A=Math.abs(m.scaleX),R=Math.abs(m.scaleY);(this._sx!==A||this._sy!==R)&&(this.width=this.sourceWidth*A,this.height=this.sourceHeight*R,this._sx=A,this._sy=R,C=!0)}C&&(this.halfWidth=Math.floor(this.width/2),this.halfHeight=Math.floor(this.height/2),this.updateCenter())},"updateBounds"),updateCenter:r(function(){this.center.set(this.position.x+this.halfWidth,this.position.y+this.halfHeight)},"updateCenter"),updateFromGameObject:r(function(){this.updateBounds();var g=this.transform;this.position.x=g.x+g.scaleX*(this.offset.x-g.displayOriginX),this.position.y=g.y+g.scaleY*(this.offset.y-g.displayOriginY),this.updateCenter()},"updateFromGameObject"),resetFlags:r(function(g){g===void 0&&(g=!1);var m=this.wasTouching,x=this.touching,C=this.blocked;g?v(!0,m):(m.none=x.none,m.up=x.up,m.down=x.down,m.left=x.left,m.right=x.right),v(!0,x),v(!0,C),this.overlapR=0,this.overlapX=0,this.overlapY=0,this.embedded=!1},"resetFlags"),preUpdate:r(function(g,m){if(g&&this.resetFlags(),this.gameObject&&this.updateFromGameObject(),this.rotation=this.transform.rotation,this.preRotation=this.rotation,this.moves){var x=this.position;this.prev.x=x.x,this.prev.y=x.y,this.prevFrame.x=x.x,this.prevFrame.y=x.y}g&&this.update(m)},"preUpdate"),update:r(function(g){var m=this.prev,x=this.position,C=this.velocity;if(m.set(x.x,x.y),!this.moves){this._dx=x.x-m.x,this._dy=x.y-m.y;return}if(this.directControl){var P=this.autoFrame;C.set((x.x-P.x)/g,(x.y-P.y)/g),this.world.updateMotion(this,g),this._dx=x.x-P.x,this._dy=x.y-P.y}else this.world.updateMotion(this,g),this.newVelocity.set(C.x*g,C.y*g),x.add(this.newVelocity),this._dx=x.x-m.x,this._dy=x.y-m.y;var A=C.x,R=C.y;if(this.updateCenter(),this.angle=Math.atan2(R,A),this.speed=Math.sqrt(A*A+R*R),this.collideWorldBounds&&this.checkWorldBounds()&&this.onWorldBounds){var L=this.blocked;this.world.emit(o.WORLD_BOUNDS,this,L.up,L.down,L.left,L.right)}},"update"),postUpdate:r(function(){var g=this.position,m=g.x-this.prevFrame.x,x=g.y-this.prevFrame.y,C=this.gameObject;if(this.moves){var P=this.deltaMax.x,A=this.deltaMax.y;P!==0&&m!==0&&(m<0&&m<-P?m=-P:m>0&&m>P&&(m=P)),A!==0&&x!==0&&(x<0&&x<-A?x=-A:x>0&&x>A&&(x=A)),C&&(C.x+=m,C.y+=x)}m<0?this.facing=c.FACING_LEFT:m>0&&(this.facing=c.FACING_RIGHT),x<0?this.facing=c.FACING_UP:x>0&&(this.facing=c.FACING_DOWN),this.allowRotation&&C&&(C.angle+=this.deltaZ()),this._tx=m,this._ty=x,this.autoFrame.set(g.x,g.y)},"postUpdate"),setBoundsRectangle:r(function(g){return this.customBoundsRectangle=g||this.world.bounds,this},"setBoundsRectangle"),checkWorldBounds:r(function(){var g=this.position,m=this.velocity,x=this.blocked,C=this.customBoundsRectangle,P=this.world.checkCollision,A=this.worldBounce?-this.worldBounce.x:-this.bounce.x,R=this.worldBounce?-this.worldBounce.y:-this.bounce.y,L=!1;return g.x<C.x&&P.left?(g.x=C.x,m.x*=A,x.left=!0,L=!0):this.right>C.right&&P.right&&(g.x=C.right-this.width,m.x*=A,x.right=!0,L=!0),g.y<C.y&&P.up?(g.y=C.y,m.y*=R,x.up=!0,L=!0):this.bottom>C.bottom&&P.down&&(g.y=C.bottom-this.height,m.y*=R,x.down=!0,L=!0),L&&(this.blocked.none=!1,this.updateCenter()),L},"checkWorldBounds"),setOffset:r(function(g,m){return m===void 0&&(m=g),this.offset.set(g,m),this},"setOffset"),setGameObject:r(function(g,m){return m===void 0&&(m=!0),this.world.remove(this),this.gameObject&&this.gameObject.body&&(this.gameObject.body=null),this.gameObject=g,g.body&&(g.body=this),this.setSize(),this.world.add(this),this.enable=m,this},"setGameObject"),setSize:r(function(g,m,x){x===void 0&&(x=!0);var C=this.gameObject;if(C&&(!g&&C.frame&&(g=C.frame.realWidth),!m&&C.frame&&(m=C.frame.realHeight)),this.sourceWidth=g,this.sourceHeight=m,this.width=this.sourceWidth*this._sx,this.height=this.sourceHeight*this._sy,this.halfWidth=Math.floor(this.width/2),this.halfHeight=Math.floor(this.height/2),this.updateCenter(),x&&C&&C.getCenter){var P=(C.width-g)/2,A=(C.height-m)/2;this.offset.set(P,A)}return this.isCircle=!1,this.radius=0,this},"setSize"),setCircle:r(function(g,m,x){return m===void 0&&(m=this.offset.x),x===void 0&&(x=this.offset.y),g>0?(this.isCircle=!0,this.radius=g,this.sourceWidth=g*2,this.sourceHeight=g*2,this.width=this.sourceWidth*this._sx,this.height=this.sourceHeight*this._sy,this.halfWidth=Math.floor(this.width/2),this.halfHeight=Math.floor(this.height/2),this.offset.set(m,x),this.updateCenter()):this.isCircle=!1,this},"setCircle"),reset:r(function(g,m){this.stop();var x=this.gameObject;x&&(x.setPosition(g,m),this.rotation=x.angle,this.preRotation=x.angle);var C=this.position;x&&x.getTopLeft?x.getTopLeft(C):C.set(g,m),this.prev.copy(C),this.prevFrame.copy(C),this.autoFrame.copy(C),x&&this.updateBounds(),this.updateCenter(),this.collideWorldBounds&&this.checkWorldBounds(),this.resetFlags(!0)},"reset"),stop:r(function(){return this.velocity.set(0),this.acceleration.set(0),this.speed=0,this.angularVelocity=0,this.angularAcceleration=0,this},"stop"),getBounds:r(function(g){return g.x=this.x,g.y=this.y,g.right=this.right,g.bottom=this.bottom,g},"getBounds"),hitTest:r(function(g,m){if(!this.isCircle)return u(this,g,m);if(this.radius>0&&g>=this.left&&g<=this.right&&m>=this.top&&m<=this.bottom){var x=(this.center.x-g)*(this.center.x-g),C=(this.center.y-m)*(this.center.y-m);return x+C<=this.radius*this.radius}return!1},"hitTest"),onFloor:r(function(){return this.blocked.down},"onFloor"),onCeiling:r(function(){return this.blocked.up},"onCeiling"),onWall:r(function(){return this.blocked.left||this.blocked.right},"onWall"),deltaAbsX:r(function(){return this._dx>0?this._dx:-this._dx},"deltaAbsX"),deltaAbsY:r(function(){return this._dy>0?this._dy:-this._dy},"deltaAbsY"),deltaX:r(function(){return this._dx},"deltaX"),deltaY:r(function(){return this._dy},"deltaY"),deltaXFinal:r(function(){return this._tx},"deltaXFinal"),deltaYFinal:r(function(){return this._ty},"deltaYFinal"),deltaZ:r(function(){return this.rotation-this.preRotation},"deltaZ"),destroy:r(function(){this.enable=!1,this.world&&this.world.pendingDestroy.set(this)},"destroy"),drawDebug:r(function(g){var m=this.position,x=m.x+this.halfWidth,C=m.y+this.halfHeight;this.debugShowBody&&(g.lineStyle(g.defaultStrokeWidth,this.debugBodyColor),this.isCircle?g.strokeCircle(x,C,this.width/2):(this.checkCollision.up&&g.lineBetween(m.x,m.y,m.x+this.width,m.y),this.checkCollision.right&&g.lineBetween(m.x+this.width,m.y,m.x+this.width,m.y+this.height),this.checkCollision.down&&g.lineBetween(m.x,m.y+this.height,m.x+this.width,m.y+this.height),this.checkCollision.left&&g.lineBetween(m.x,m.y,m.x,m.y+this.height))),this.debugShowVelocity&&(g.lineStyle(g.defaultStrokeWidth,this.world.defaults.velocityDebugColor,1),g.lineBetween(x,C,x+this.velocity.x/2,C+this.velocity.y/2))},"drawDebug"),willDrawDebug:r(function(){return this.debugShowBody||this.debugShowVelocity},"willDrawDebug"),setDirectControl:r(function(g){return g===void 0&&(g=!0),this.directControl=g,this},"setDirectControl"),setCollideWorldBounds:r(function(g,m,x,C){g===void 0&&(g=!0),this.collideWorldBounds=g;var P=m!==void 0,A=x!==void 0;return(P||A)&&(this.worldBounce||(this.worldBounce=new d),P&&(this.worldBounce.x=m),A&&(this.worldBounce.y=x)),C!==void 0&&(this.onWorldBounds=C),this},"setCollideWorldBounds"),setVelocity:r(function(g,m){return this.velocity.set(g,m),g=this.velocity.x,m=this.velocity.y,this.speed=Math.sqrt(g*g+m*m),this},"setVelocity"),setVelocityX:r(function(g){return this.setVelocity(g,this.velocity.y)},"setVelocityX"),setVelocityY:r(function(g){return this.setVelocity(this.velocity.x,g)},"setVelocityY"),setMaxVelocity:r(function(g,m){return this.maxVelocity.set(g,m),this},"setMaxVelocity"),setMaxVelocityX:r(function(g){return this.maxVelocity.x=g,this},"setMaxVelocityX"),setMaxVelocityY:r(function(g){return this.maxVelocity.y=g,this},"setMaxVelocityY"),setMaxSpeed:r(function(g){return this.maxSpeed=g,this},"setMaxSpeed"),setSlideFactor:r(function(g,m){return this.slideFactor.set(g,m),this},"setSlideFactor"),setBounce:r(function(g,m){return this.bounce.set(g,m),this},"setBounce"),setBounceX:r(function(g){return this.bounce.x=g,this},"setBounceX"),setBounceY:r(function(g){return this.bounce.y=g,this},"setBounceY"),setAcceleration:r(function(g,m){return this.acceleration.set(g,m),this},"setAcceleration"),setAccelerationX:r(function(g){return this.acceleration.x=g,this},"setAccelerationX"),setAccelerationY:r(function(g){return this.acceleration.y=g,this},"setAccelerationY"),setAllowDrag:r(function(g){return g===void 0&&(g=!0),this.allowDrag=g,this},"setAllowDrag"),setAllowGravity:r(function(g){return g===void 0&&(g=!0),this.allowGravity=g,this},"setAllowGravity"),setAllowRotation:r(function(g){return g===void 0&&(g=!0),this.allowRotation=g,this},"setAllowRotation"),setDrag:r(function(g,m){return this.drag.set(g,m),this},"setDrag"),setDamping:r(function(g){return this.useDamping=g,this},"setDamping"),setDragX:r(function(g){return this.drag.x=g,this},"setDragX"),setDragY:r(function(g){return this.drag.y=g,this},"setDragY"),setGravity:r(function(g,m){return this.gravity.set(g,m),this},"setGravity"),setGravityX:r(function(g){return this.gravity.x=g,this},"setGravityX"),setGravityY:r(function(g){return this.gravity.y=g,this},"setGravityY"),setFriction:r(function(g,m){return this.friction.set(g,m),this},"setFriction"),setFrictionX:r(function(g){return this.friction.x=g,this},"setFrictionX"),setFrictionY:r(function(g){return this.friction.y=g,this},"setFrictionY"),setAngularVelocity:r(function(g){return this.angularVelocity=g,this},"setAngularVelocity"),setAngularAcceleration:r(function(g){return this.angularAcceleration=g,this},"setAngularAcceleration"),setAngularDrag:r(function(g){return this.angularDrag=g,this},"setAngularDrag"),setMass:r(function(g){return this.mass=g,this},"setMass"),setImmovable:r(function(g){return g===void 0&&(g=!0),this.immovable=g,this},"setImmovable"),setEnable:r(function(g){return g===void 0&&(g=!0),this.enable=g,this},"setEnable"),processX:r(function(g,m,x,C){this.x+=g,this.updateCenter(),m!==null&&(this.velocity.x=m*this.slideFactor.x);var P=this.blocked;x&&(P.left=!0,P.none=!1),C&&(P.right=!0,P.none=!1)},"processX"),processY:r(function(g,m,x,C){this.y+=g,this.updateCenter(),m!==null&&(this.velocity.y=m*this.slideFactor.y);var P=this.blocked;x&&(P.up=!0,P.none=!1),C&&(P.down=!0,P.none=!1)},"processY"),x:{get:r(function(){return this.position.x},"get"),set:r(function(g){this.position.x=g},"set")},y:{get:r(function(){return this.position.y},"get"),set:r(function(g){this.position.y=g},"set")},left:{get:r(function(){return this.position.x},"get")},right:{get:r(function(){return this.position.x+this.width},"get")},top:{get:r(function(){return this.position.y},"get")},bottom:{get:r(function(){return this.position.y+this.height},"get")}});n.exports=p},79342:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(83419),y=new f({initialize:r(function(o,l,a,u,v,d,p){this.world=o,this.name="",this.active=!0,this.overlapOnly=l,this.object1=a,this.object2=u,this.collideCallback=v,this.processCallback=d,this.callbackContext=p},"Collider"),setName:r(function(c){return this.name=c,this},"setName"),update:r(function(){this.world.collideObjects(this.object1,this.object2,this.collideCallback,this.processCallback,this.callbackContext,this.overlapOnly)},"update"),destroy:r(function(){this.world.removeCollider(this),this.active=!1,this.world=null,this.object1=null,this.object2=null,this.collideCallback=null,this.processCallback=null,this.callbackContext=null},"destroy")});n.exports=y},66022:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(71289),y=i(13759),c=i(37742),o=i(83419),l=i(37747),a=i(60758),u=i(72624),v=i(71464),d=new o({initialize:r(function(g){this.world=g,this.scene=g.scene,this.sys=g.scene.sys},"Factory"),collider:r(function(p,g,m,x,C){return this.world.addCollider(p,g,m,x,C)},"collider"),overlap:r(function(p,g,m,x,C){return this.world.addOverlap(p,g,m,x,C)},"overlap"),existing:r(function(p,g){var m=g?l.STATIC_BODY:l.DYNAMIC_BODY;return this.world.enableBody(p,m),p},"existing"),staticImage:r(function(p,g,m,x){var C=new f(this.scene,p,g,m,x);return this.sys.displayList.add(C),this.world.enableBody(C,l.STATIC_BODY),C},"staticImage"),image:r(function(p,g,m,x){var C=new f(this.scene,p,g,m,x);return this.sys.displayList.add(C),this.world.enableBody(C,l.DYNAMIC_BODY),C},"image"),staticSprite:r(function(p,g,m,x){var C=new y(this.scene,p,g,m,x);return this.sys.displayList.add(C),this.sys.updateList.add(C),this.world.enableBody(C,l.STATIC_BODY),C},"staticSprite"),sprite:r(function(p,g,m,x){var C=new y(this.scene,p,g,m,x);return this.sys.displayList.add(C),this.sys.updateList.add(C),this.world.enableBody(C,l.DYNAMIC_BODY),C},"sprite"),staticGroup:r(function(p,g){return this.sys.updateList.add(new v(this.world,this.world.scene,p,g))},"staticGroup"),group:r(function(p,g){return this.sys.updateList.add(new a(this.world,this.world.scene,p,g))},"group"),body:r(function(p,g,m,x){var C=new c(this.world);return C.position.set(p,g),m&&x&&C.setSize(m,x),this.world.add(C,l.DYNAMIC_BODY),C},"body"),staticBody:r(function(p,g,m,x){var C=new u(this.world);return C.position.set(p,g),m&&x&&C.setSize(m,x),this.world.add(C,l.STATIC_BODY),C},"staticBody"),destroy:r(function(){this.world=null,this.scene=null,this.sys=null},"destroy")});n.exports=d},79599:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i){var f=0;if(!Array.isArray(i))f=i;else for(var y=0;y<i.length;y++)f|=i[y];return f},"GetCollidesWith");n.exports=T},64897:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(37747),y=r(function(c,o,l,a){var u=0,v=c.deltaAbsX()+o.deltaAbsX()+a;return c._dx===0&&o._dx===0?(c.embedded=!0,o.embedded=!0):c._dx>o._dx?(u=c.right-o.x,u>v&&!l||c.checkCollision.right===!1||o.checkCollision.left===!1?u=0:(c.touching.none=!1,c.touching.right=!0,o.touching.none=!1,o.touching.left=!0,o.physicsType===f.STATIC_BODY&&!l&&(c.blocked.none=!1,c.blocked.right=!0),c.physicsType===f.STATIC_BODY&&!l&&(o.blocked.none=!1,o.blocked.left=!0))):c._dx<o._dx&&(u=c.x-o.width-o.x,-u>v&&!l||c.checkCollision.left===!1||o.checkCollision.right===!1?u=0:(c.touching.none=!1,c.touching.left=!0,o.touching.none=!1,o.touching.right=!0,o.physicsType===f.STATIC_BODY&&!l&&(c.blocked.none=!1,c.blocked.left=!0),c.physicsType===f.STATIC_BODY&&!l&&(o.blocked.none=!1,o.blocked.right=!0))),c.overlapX=u,o.overlapX=u,u},"GetOverlapX");n.exports=y},45170:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(37747),y=r(function(c,o,l,a){var u=0,v=c.deltaAbsY()+o.deltaAbsY()+a;return c._dy===0&&o._dy===0?(c.embedded=!0,o.embedded=!0):c._dy>o._dy?(u=c.bottom-o.y,u>v&&!l||c.checkCollision.down===!1||o.checkCollision.up===!1?u=0:(c.touching.none=!1,c.touching.down=!0,o.touching.none=!1,o.touching.up=!0,o.physicsType===f.STATIC_BODY&&!l&&(c.blocked.none=!1,c.blocked.down=!0),c.physicsType===f.STATIC_BODY&&!l&&(o.blocked.none=!1,o.blocked.up=!0))):c._dy<o._dy&&(u=c.y-o.bottom,-u>v&&!l||c.checkCollision.up===!1||o.checkCollision.down===!1?u=0:(c.touching.none=!1,c.touching.up=!0,o.touching.none=!1,o.touching.down=!0,o.physicsType===f.STATIC_BODY&&!l&&(c.blocked.none=!1,c.blocked.up=!0),c.physicsType===f.STATIC_BODY&&!l&&(o.blocked.none=!1,o.blocked.down=!0))),c.overlapY=u,o.overlapY=u,u},"GetOverlapY");n.exports=y},60758:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(13759),y=i(83419),c=i(78389),o=i(37747),l=i(95540),a=i(26479),u=i(41212),v=new y({Extends:a,Mixins:[c],initialize:r(function(p,g,m,x){if(!m&&!x)x={internalCreateCallback:this.createCallbackHandler,internalRemoveCallback:this.removeCallbackHandler};else if(u(m))x=m,m=null,x.internalCreateCallback=this.createCallbackHandler,x.internalRemoveCallback=this.removeCallbackHandler;else if(Array.isArray(m)&&u(m[0])){var C=this;m.forEach(function(P){P.internalCreateCallback=C.createCallbackHandler,P.internalRemoveCallback=C.removeCallbackHandler,P.classType=l(P,"classType",f)}),x=null}else x={internalCreateCallback:this.createCallbackHandler,internalRemoveCallback:this.removeCallbackHandler};this.world=p,x&&(x.classType=l(x,"classType",f)),this.physicsType=o.DYNAMIC_BODY,this.collisionCategory=1,this.collisionMask=1,this.defaults={setCollideWorldBounds:l(x,"collideWorldBounds",!1),setBoundsRectangle:l(x,"customBoundsRectangle",null),setAccelerationX:l(x,"accelerationX",0),setAccelerationY:l(x,"accelerationY",0),setAllowDrag:l(x,"allowDrag",!0),setAllowGravity:l(x,"allowGravity",!0),setAllowRotation:l(x,"allowRotation",!0),setDamping:l(x,"useDamping",!1),setBounceX:l(x,"bounceX",0),setBounceY:l(x,"bounceY",0),setDragX:l(x,"dragX",0),setDragY:l(x,"dragY",0),setEnable:l(x,"enable",!0),setGravityX:l(x,"gravityX",0),setGravityY:l(x,"gravityY",0),setFrictionX:l(x,"frictionX",0),setFrictionY:l(x,"frictionY",0),setMaxSpeed:l(x,"maxSpeed",-1),setMaxVelocityX:l(x,"maxVelocityX",1e4),setMaxVelocityY:l(x,"maxVelocityY",1e4),setVelocityX:l(x,"velocityX",0),setVelocityY:l(x,"velocityY",0),setAngularVelocity:l(x,"angularVelocity",0),setAngularAcceleration:l(x,"angularAcceleration",0),setAngularDrag:l(x,"angularDrag",0),setMass:l(x,"mass",1),setImmovable:l(x,"immovable",!1)},a.call(this,g,m,x),this.type="PhysicsGroup"},"PhysicsGroup"),createCallbackHandler:r(function(d){d.body||this.world.enableBody(d,o.DYNAMIC_BODY);var p=d.body;for(var g in this.defaults)p[g](this.defaults[g])},"createCallbackHandler"),removeCallbackHandler:r(function(d){d.body&&this.world.disableBody(d)},"removeCallbackHandler"),setVelocity:r(function(d,p,g){g===void 0&&(g=0);for(var m=this.getChildren(),x=0;x<m.length;x++)m[x].body.velocity.set(d+x*g,p+x*g);return this},"setVelocity"),setVelocityX:r(function(d,p){p===void 0&&(p=0);for(var g=this.getChildren(),m=0;m<g.length;m++)g[m].body.velocity.x=d+m*p;return this},"setVelocityX"),setVelocityY:r(function(d,p){p===void 0&&(p=0);for(var g=this.getChildren(),m=0;m<g.length;m++)g[m].body.velocity.y=d+m*p;return this},"setVelocityY")});n.exports=v},3017:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T,i,f,y,c,o,l,a,u,v,d,p,g,m,x,C,P,A=r(function(F,M,I){T=F,i=M;var B=T.velocity.x,G=i.velocity.x;return f=T.pushable,u=T._dx<0,v=T._dx>0,d=T._dx===0,x=Math.abs(T.right-i.x)<=Math.abs(i.right-T.x),l=G-B*T.bounce.x,y=i.pushable,p=i._dx<0,g=i._dx>0,m=i._dx===0,C=!x,a=B-G*i.bounce.x,P=Math.abs(I),R()},"Set"),R=r(function(){return v&&x&&i.blocked.right?(T.processX(-P,l,!1,!0),1):u&&C&&i.blocked.left?(T.processX(P,l,!0),1):g&&C&&T.blocked.right?(i.processX(-P,a,!1,!0),2):p&&x&&T.blocked.left?(i.processX(P,a,!0),2):0},"BlockCheck"),L=r(function(){var F=T.velocity.x,M=i.velocity.x,I=Math.sqrt(M*M*i.mass/T.mass)*(M>0?1:-1),B=Math.sqrt(F*F*T.mass/i.mass)*(F>0?1:-1),G=(I+B)*.5;return I-=G,B-=G,c=G+I*T.bounce.x,o=G+B*i.bounce.x,u&&C?O(0):p&&x?O(1):v&&x?O(2):g&&C?O(3):!1},"Check"),O=r(function(F){if(f&&y)P*=.5,F===0||F===3?(T.processX(P,c),i.processX(-P,o)):(T.processX(-P,c),i.processX(P,o));else if(f&&!y)F===0||F===3?T.processX(P,l,!0):T.processX(-P,l,!1,!0);else if(!f&&y)F===0||F===3?i.processX(-P,a,!1,!0):i.processX(P,a,!0);else{var M=P*.5;F===0?m?(T.processX(P,0,!0),i.processX(0,null,!1,!0)):g?(T.processX(M,0,!0),i.processX(-M,0,!1,!0)):(T.processX(M,i.velocity.x,!0),i.processX(-M,null,!1,!0)):F===1?d?(T.processX(0,null,!1,!0),i.processX(P,0,!0)):v?(T.processX(-M,0,!1,!0),i.processX(M,0,!0)):(T.processX(-M,null,!1,!0),i.processX(M,T.velocity.x,!0)):F===2?m?(T.processX(-P,0,!1,!0),i.processX(0,null,!0)):p?(T.processX(-M,0,!1,!0),i.processX(M,0,!0)):(T.processX(-M,i.velocity.x,!1,!0),i.processX(M,null,!0)):F===3&&(d?(T.processX(0,null,!0),i.processX(-P,0,!1,!0)):u?(T.processX(M,0,!0),i.processX(-M,0,!1,!0)):(T.processX(M,i.velocity.y,!0),i.processX(-M,null,!1,!0)))}return!0},"Run"),w=r(function(F){F===1?i.velocity.x=0:x?i.processX(P,a,!0):i.processX(-P,a,!1,!0),T.moves&&(i.y+=(T.y-T.prev.y)*T.friction.y,i._dy=i.y-i.prev.y)},"RunImmovableBody1"),b=r(function(F){F===2?T.velocity.x=0:C?T.processX(P,l,!0):T.processX(-P,l,!1,!0),i.moves&&(T.y+=(i.y-i.prev.y)*i.friction.y,T._dy=T.y-T.prev.y)},"RunImmovableBody2");n.exports={BlockCheck:R,Check:L,Set:A,Run:O,RunImmovableBody1:w,RunImmovableBody2:b}},47962:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T,i,f,y,c,o,l,a,u,v,d,p,g,m,x,C,P,A=r(function(F,M,I){T=F,i=M;var B=T.velocity.y,G=i.velocity.y;return f=T.pushable,u=T._dy<0,v=T._dy>0,d=T._dy===0,x=Math.abs(T.bottom-i.y)<=Math.abs(i.bottom-T.y),l=G-B*T.bounce.y,y=i.pushable,p=i._dy<0,g=i._dy>0,m=i._dy===0,C=!x,a=B-G*i.bounce.y,P=Math.abs(I),R()},"Set"),R=r(function(){return v&&x&&i.blocked.down?(T.processY(-P,l,!1,!0),1):u&&C&&i.blocked.up?(T.processY(P,l,!0),1):g&&C&&T.blocked.down?(i.processY(-P,a,!1,!0),2):p&&x&&T.blocked.up?(i.processY(P,a,!0),2):0},"BlockCheck"),L=r(function(){var F=T.velocity.y,M=i.velocity.y,I=Math.sqrt(M*M*i.mass/T.mass)*(M>0?1:-1),B=Math.sqrt(F*F*T.mass/i.mass)*(F>0?1:-1),G=(I+B)*.5;return I-=G,B-=G,c=G+I*T.bounce.y,o=G+B*i.bounce.y,u&&C?O(0):p&&x?O(1):v&&x?O(2):g&&C?O(3):!1},"Check"),O=r(function(F){if(f&&y)P*=.5,F===0||F===3?(T.processY(P,c),i.processY(-P,o)):(T.processY(-P,c),i.processY(P,o));else if(f&&!y)F===0||F===3?T.processY(P,l,!0):T.processY(-P,l,!1,!0);else if(!f&&y)F===0||F===3?i.processY(-P,a,!1,!0):i.processY(P,a,!0);else{var M=P*.5;F===0?m?(T.processY(P,0,!0),i.processY(0,null,!1,!0)):g?(T.processY(M,0,!0),i.processY(-M,0,!1,!0)):(T.processY(M,i.velocity.y,!0),i.processY(-M,null,!1,!0)):F===1?d?(T.processY(0,null,!1,!0),i.processY(P,0,!0)):v?(T.processY(-M,0,!1,!0),i.processY(M,0,!0)):(T.processY(-M,null,!1,!0),i.processY(M,T.velocity.y,!0)):F===2?m?(T.processY(-P,0,!1,!0),i.processY(0,null,!0)):p?(T.processY(-M,0,!1,!0),i.processY(M,0,!0)):(T.processY(-M,i.velocity.y,!1,!0),i.processY(M,null,!0)):F===3&&(d?(T.processY(0,null,!0),i.processY(-P,0,!1,!0)):u?(T.processY(M,0,!0),i.processY(-M,0,!1,!0)):(T.processY(M,i.velocity.y,!0),i.processY(-M,null,!1,!0)))}return!0},"Run"),w=r(function(F){F===1?i.velocity.y=0:x?i.processY(P,a,!0):i.processY(-P,a,!1,!0),T.moves&&(i.x+=(T.x-T.prev.x)*T.friction.x,i._dx=i.x-i.prev.x)},"RunImmovableBody1"),b=r(function(F){F===2?T.velocity.y=0:C?T.processY(P,l,!0):T.processY(-P,l,!1,!0),i.moves&&(T.x+=(i.x-i.prev.x)*i.friction.x,T._dx=T.x-T.prev.x)},"RunImmovableBody2");n.exports={BlockCheck:R,Check:L,Set:A,Run:O,RunImmovableBody1:w,RunImmovableBody2:b}},14087:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(64897),y=i(3017),c=r(function(o,l,a,u,v){v===void 0&&(v=f(o,l,a,u));var d=o.immovable,p=l.immovable;if(a||v===0||d&&p||o.customSeparateX||l.customSeparateX)return v!==0||o.embedded&&l.embedded;var g=y.Set(o,l,v);return!d&&!p?g>0?!0:y.Check():(d?y.RunImmovableBody1(g):p&&y.RunImmovableBody2(g),!0)},"SeparateX");n.exports=c},89936:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(45170),y=i(47962),c=r(function(o,l,a,u,v){v===void 0&&(v=f(o,l,a,u));var d=o.immovable,p=l.immovable;if(a||v===0||d&&p||o.customSeparateY||l.customSeparateY)return v!==0||o.embedded&&l.embedded;var g=y.Set(o,l,v);return!d&&!p?g>0?!0:y.Check():(d?y.RunImmovableBody1(g):p&&y.RunImmovableBody2(g),!0)},"SeparateY");n.exports=c},95829:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i,f){return f===void 0&&(f={}),f.none=i,f.up=!1,f.down=!1,f.left=!1,f.right=!1,i||(f.up=!0,f.down=!0,f.left=!0,f.right=!0),f},"SetCollisionObject");n.exports=T},72624:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(87902),y=i(83419),c=i(78389),o=i(37747),l=i(37303),a=i(95829),u=i(26099),v=new y({Mixins:[c],initialize:r(function(p,g){var m=64,x=64,C={x:0,y:0,angle:0,rotation:0,scaleX:1,scaleY:1,displayOriginX:0,displayOriginY:0},P=g!==void 0;P&&g.displayWidth&&(m=g.displayWidth,x=g.displayHeight),P||(g=C),this.world=p,this.gameObject=P?g:void 0,this.isBody=!0,this.debugShowBody=p.defaults.debugShowStaticBody,this.debugBodyColor=p.defaults.staticBodyDebugColor,this.enable=!0,this.isCircle=!1,this.radius=0,this.offset=new u,this.position=new u(g.x-m*g.originX,g.y-x*g.originY),this.width=m,this.height=x,this.halfWidth=Math.abs(this.width/2),this.halfHeight=Math.abs(this.height/2),this.center=new u(this.position.x+this.halfWidth,this.position.y+this.halfHeight),this.velocity=u.ZERO,this.allowGravity=!1,this.gravity=u.ZERO,this.bounce=u.ZERO,this.onWorldBounds=!1,this.onCollide=!1,this.onOverlap=!1,this.mass=1,this.immovable=!0,this.pushable=!1,this.customSeparateX=!1,this.customSeparateY=!1,this.overlapX=0,this.overlapY=0,this.overlapR=0,this.embedded=!1,this.collideWorldBounds=!1,this.checkCollision=a(!1),this.touching=a(!0),this.wasTouching=a(!0),this.blocked=a(!0),this.physicsType=o.STATIC_BODY,this.collisionCategory=1,this.collisionMask=1,this._dx=0,this._dy=0},"StaticBody"),setGameObject:r(function(d,p){return d&&d!==this.gameObject&&(this.gameObject.body=null,d.body=this,this.gameObject=d),p&&this.updateFromGameObject(),this},"setGameObject"),updateFromGameObject:r(function(){this.world.staticTree.remove(this);var d=this.gameObject;return d.getTopLeft(this.position),this.width=d.displayWidth,this.height=d.displayHeight,this.halfWidth=Math.abs(this.width/2),this.halfHeight=Math.abs(this.height/2),this.center.set(this.position.x+this.halfWidth,this.position.y+this.halfHeight),this.world.staticTree.insert(this),this},"updateFromGameObject"),setOffset:r(function(d,p){return p===void 0&&(p=d),this.world.staticTree.remove(this),this.position.x-=this.offset.x,this.position.y-=this.offset.y,this.offset.set(d,p),this.position.x+=this.offset.x,this.position.y+=this.offset.y,this.updateCenter(),this.world.staticTree.insert(this),this},"setOffset"),setSize:r(function(d,p,g){g===void 0&&(g=!0);var m=this.gameObject;if(m&&m.frame&&(d||(d=m.frame.realWidth),p||(p=m.frame.realHeight)),this.world.staticTree.remove(this),this.width=d,this.height=p,this.halfWidth=Math.floor(d/2),this.halfHeight=Math.floor(p/2),g&&m&&m.getCenter){var x=m.displayWidth/2,C=m.displayHeight/2;this.position.x-=this.offset.x,this.position.y-=this.offset.y,this.offset.set(x-this.halfWidth,C-this.halfHeight),this.position.x+=this.offset.x,this.position.y+=this.offset.y}return this.updateCenter(),this.isCircle=!1,this.radius=0,this.world.staticTree.insert(this),this},"setSize"),setCircle:r(function(d,p,g){return p===void 0&&(p=this.offset.x),g===void 0&&(g=this.offset.y),d>0?(this.world.staticTree.remove(this),this.isCircle=!0,this.radius=d,this.width=d*2,this.height=d*2,this.halfWidth=Math.floor(this.width/2),this.halfHeight=Math.floor(this.height/2),this.offset.set(p,g),this.updateCenter(),this.world.staticTree.insert(this)):this.isCircle=!1,this},"setCircle"),updateCenter:r(function(){this.center.set(this.position.x+this.halfWidth,this.position.y+this.halfHeight)},"updateCenter"),reset:r(function(d,p){var g=this.gameObject;d===void 0&&(d=g.x),p===void 0&&(p=g.y),this.world.staticTree.remove(this),g.setPosition(d,p),g.getTopLeft(this.position),this.position.x+=this.offset.x,this.position.y+=this.offset.y,this.updateCenter(),this.world.staticTree.insert(this)},"reset"),stop:r(function(){return this},"stop"),getBounds:r(function(d){return d.x=this.x,d.y=this.y,d.right=this.right,d.bottom=this.bottom,d},"getBounds"),hitTest:r(function(d,p){return this.isCircle?f(this,d,p):l(this,d,p)},"hitTest"),postUpdate:r(function(){},"postUpdate"),deltaAbsX:r(function(){return 0},"deltaAbsX"),deltaAbsY:r(function(){return 0},"deltaAbsY"),deltaX:r(function(){return 0},"deltaX"),deltaY:r(function(){return 0},"deltaY"),deltaZ:r(function(){return 0},"deltaZ"),destroy:r(function(){this.enable=!1,this.world.pendingDestroy.set(this)},"destroy"),drawDebug:r(function(d){var p=this.position,g=p.x+this.halfWidth,m=p.y+this.halfHeight;this.debugShowBody&&(d.lineStyle(d.defaultStrokeWidth,this.debugBodyColor,1),this.isCircle?d.strokeCircle(g,m,this.width/2):d.strokeRect(p.x,p.y,this.width,this.height))},"drawDebug"),willDrawDebug:r(function(){return this.debugShowBody},"willDrawDebug"),setMass:r(function(d){return d<=0&&(d=.1),this.mass=d,this},"setMass"),x:{get:r(function(){return this.position.x},"get"),set:r(function(d){this.world.staticTree.remove(this),this.position.x=d,this.world.staticTree.insert(this)},"set")},y:{get:r(function(){return this.position.y},"get"),set:r(function(d){this.world.staticTree.remove(this),this.position.y=d,this.world.staticTree.insert(this)},"set")},left:{get:r(function(){return this.position.x},"get")},right:{get:r(function(){return this.position.x+this.width},"get")},top:{get:r(function(){return this.position.y},"get")},bottom:{get:r(function(){return this.position.y+this.height},"get")}});n.exports=v},71464:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(13759),y=i(83419),c=i(78389),o=i(37747),l=i(95540),a=i(26479),u=i(41212),v=new y({Extends:a,Mixins:[c],initialize:r(function(p,g,m,x){!m&&!x?x={internalCreateCallback:this.createCallbackHandler,internalRemoveCallback:this.removeCallbackHandler,createMultipleCallback:this.createMultipleCallbackHandler,classType:f}:u(m)?(x=m,m=null,x.internalCreateCallback=this.createCallbackHandler,x.internalRemoveCallback=this.removeCallbackHandler,x.createMultipleCallback=this.createMultipleCallbackHandler,x.classType=l(x,"classType",f)):Array.isArray(m)&&u(m[0])?(x=m,m=null,x.forEach(function(C){C.internalCreateCallback=this.createCallbackHandler,C.internalRemoveCallback=this.removeCallbackHandler,C.createMultipleCallback=this.createMultipleCallbackHandler,C.classType=l(C,"classType",f)})):x={internalCreateCallback:this.createCallbackHandler,internalRemoveCallback:this.removeCallbackHandler},this.world=p,this.physicsType=o.STATIC_BODY,this.collisionCategory=1,this.collisionMask=1,a.call(this,g,m,x),this.type="StaticPhysicsGroup"},"StaticPhysicsGroup"),createCallbackHandler:r(function(d){d.body||this.world.enableBody(d,o.STATIC_BODY)},"createCallbackHandler"),removeCallbackHandler:r(function(d){d.body&&this.world.disableBody(d)},"removeCallbackHandler"),createMultipleCallbackHandler:r(function(){this.refresh()},"createMultipleCallbackHandler"),refresh:r(function(){for(var d=this.children.entries,p=0;p<d.length;p++)d[p].body.reset();return this},"refresh")});n.exports=v},82248:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(55495),y=i(37742),c=i(45319),o=i(83419),l=i(79342),a=i(37747),u=i(20339),v=i(52816),d=i(50792),p=i(63012),g=i(43855),m=i(5470),x=i(94977),C=i(64897),P=i(45170),A=i(96523),R=i(35154),L=i(36383),O=i(25774),w=i(96602),b=i(87841),F=i(59542),M=i(40012),I=i(14087),B=i(89936),G=i(35072),N=i(72624),z=i(2483),H=i(61340),$=i(26099),V=i(15994),Y=new o({Extends:d,initialize:r(function(U,W){d.call(this),this.scene=U,this.bodies=new G,this.staticBodies=new G,this.pendingDestroy=new G,this.colliders=new O,this.gravity=new $(R(W,"gravity.x",0),R(W,"gravity.y",0)),this.bounds=new b(R(W,"x",0),R(W,"y",0),R(W,"width",U.sys.scale.width),R(W,"height",U.sys.scale.height)),this.checkCollision={up:R(W,"checkCollision.up",!0),down:R(W,"checkCollision.down",!0),left:R(W,"checkCollision.left",!0),right:R(W,"checkCollision.right",!0)},this.fps=R(W,"fps",60),this.fixedStep=R(W,"fixedStep",!0),this._elapsed=0,this._frameTime=1/this.fps,this._frameTimeMS=1e3*this._frameTime,this.stepsLastFrame=0,this.timeScale=R(W,"timeScale",1),this.OVERLAP_BIAS=R(W,"overlapBias",4),this.TILE_BIAS=R(W,"tileBias",16),this.forceX=R(W,"forceX",!1),this.isPaused=R(W,"isPaused",!1),this._total=0,this.drawDebug=R(W,"debug",!1),this.debugGraphic,this.defaults={debugShowBody:R(W,"debugShowBody",!0),debugShowStaticBody:R(W,"debugShowStaticBody",!0),debugShowVelocity:R(W,"debugShowVelocity",!0),bodyDebugColor:R(W,"debugBodyColor",16711935),staticBodyDebugColor:R(W,"debugStaticBodyColor",255),velocityDebugColor:R(W,"debugVelocityColor",65280)},this.maxEntries=R(W,"maxEntries",16),this.useTree=R(W,"useTree",!0),this.tree=new F(this.maxEntries),this.staticTree=new F(this.maxEntries),this.treeMinMax={minX:0,minY:0,maxX:0,maxY:0},this._tempMatrix=new H,this._tempMatrix2=new H,this.tileFilterOptions={isColliding:!0,isNotEmpty:!0,hasInterestingFace:!0},this.drawDebug&&this.createDebugGraphic()},"World"),enable:r(function(D,U){U===void 0&&(U=a.DYNAMIC_BODY),Array.isArray(D)||(D=[D]);for(var W=0;W<D.length;W++){var k=D[W];if(k.isParent)for(var X=k.getChildren(),K=0;K<X.length;K++){var Z=X[K];Z.isParent?this.enable(Z,U):this.enableBody(Z,U)}else this.enableBody(k,U)}},"enable"),enableBody:r(function(D,U){return U===void 0&&(U=a.DYNAMIC_BODY),D.hasTransformComponent&&(D.body||(U===a.DYNAMIC_BODY?D.body=new y(this,D):U===a.STATIC_BODY&&(D.body=new N(this,D))),this.add(D.body)),D},"enableBody"),add:r(function(D){return D.physicsType===a.DYNAMIC_BODY?this.bodies.set(D):D.physicsType===a.STATIC_BODY&&(this.staticBodies.set(D),this.staticTree.insert(D)),D.enable=!0,D},"add"),disable:r(function(D){Array.isArray(D)||(D=[D]);for(var U=0;U<D.length;U++){var W=D[U];if(W.isParent)for(var k=W.getChildren(),X=0;X<k.length;X++){var K=k[X];K.isParent?this.disable(K):this.disableBody(K.body)}else this.disableBody(W.body)}},"disable"),disableBody:r(function(D){this.remove(D),D.enable=!1},"disableBody"),remove:r(function(D){D.physicsType===a.DYNAMIC_BODY?(this.tree.remove(D),this.bodies.delete(D)):D.physicsType===a.STATIC_BODY&&(this.staticBodies.delete(D),this.staticTree.remove(D))},"remove"),createDebugGraphic:r(function(){var D=this.scene.sys.add.graphics({x:0,y:0});return D.setDepth(Number.MAX_VALUE),this.debugGraphic=D,this.drawDebug=!0,D},"createDebugGraphic"),setBounds:r(function(D,U,W,k,X,K,Z,J){return this.bounds.setTo(D,U,W,k),X!==void 0&&this.setBoundsCollision(X,K,Z,J),this},"setBounds"),setBoundsCollision:r(function(D,U,W,k){return D===void 0&&(D=!0),U===void 0&&(U=!0),W===void 0&&(W=!0),k===void 0&&(k=!0),this.checkCollision.left=D,this.checkCollision.right=U,this.checkCollision.up=W,this.checkCollision.down=k,this},"setBoundsCollision"),pause:r(function(){return this.isPaused=!0,this.emit(p.PAUSE),this},"pause"),resume:r(function(){return this.isPaused=!1,this.emit(p.RESUME),this},"resume"),addCollider:r(function(D,U,W,k,X){W===void 0&&(W=null),k===void 0&&(k=null),X===void 0&&(X=W);var K=new l(this,!1,D,U,W,k,X);return this.colliders.add(K),K},"addCollider"),addOverlap:r(function(D,U,W,k,X){W===void 0&&(W=null),k===void 0&&(k=null),X===void 0&&(X=W);var K=new l(this,!0,D,U,W,k,X);return this.colliders.add(K),K},"addOverlap"),removeCollider:r(function(D){return this.colliders.remove(D),this},"removeCollider"),setFPS:r(function(D){return this.fps=D,this._frameTime=1/this.fps,this._frameTimeMS=1e3*this._frameTime,this},"setFPS"),update:r(function(D,U){if(!(this.isPaused||this.bodies.size===0)){var W,k=this._frameTime,X=this._frameTimeMS*this.timeScale;this._elapsed+=U;var K,Z=this.bodies.entries,J=this._elapsed>=X;for(this.fixedStep||(k=U*.001,J=!0,this._elapsed=0),W=0;W<Z.length;W++)K=Z[W],K.enable&&K.preUpdate(J,k);if(J){this._elapsed-=X,this.stepsLastFrame=1,this.useTree&&(this.tree.clear(),this.tree.load(Z));var Q=this.colliders.update();for(W=0;W<Q.length;W++){var j=Q[W];j.active&&j.update()}this.emit(p.WORLD_STEP,k)}for(;this._elapsed>=X;)this._elapsed-=X,this.step(k)}},"update"),step:r(function(D){var U,W,k=this.bodies.entries,X=k.length;for(U=0;U<X;U++)W=k[U],W.enable&&W.update(D);this.useTree&&(this.tree.clear(),this.tree.load(k));var K=this.colliders.update();for(U=0;U<K.length;U++){var Z=K[U];Z.active&&Z.update()}this.emit(p.WORLD_STEP,D),this.stepsLastFrame++},"step"),singleStep:r(function(){this.update(0,this._frameTimeMS),this.postUpdate()},"singleStep"),postUpdate:r(function(){var D,U,W=this.bodies.entries,k=W.length,X=this.bodies,K=this.staticBodies;if(this.stepsLastFrame)for(this.stepsLastFrame=0,D=0;D<k;D++)U=W[D],U.enable&&U.postUpdate();if(this.drawDebug){var Z=this.debugGraphic;for(Z.clear(),D=0;D<k;D++)U=W[D],U.willDrawDebug()&&U.drawDebug(Z);for(W=K.entries,k=W.length,D=0;D<k;D++)U=W[D],U.willDrawDebug()&&U.drawDebug(Z)}var J=this.pendingDestroy;if(J.size>0){var Q=this.tree,j=this.staticTree;for(W=J.entries,k=W.length,D=0;D<k;D++)U=W[D],U.physicsType===a.DYNAMIC_BODY?(Q.remove(U),X.delete(U)):U.physicsType===a.STATIC_BODY&&(j.remove(U),K.delete(U)),U.world=void 0,U.gameObject=void 0;J.clear()}},"postUpdate"),updateMotion:r(function(D,U){D.allowRotation&&this.computeAngularVelocity(D,U),this.computeVelocity(D,U)},"updateMotion"),computeAngularVelocity:r(function(D,U){var W=D.angularVelocity,k=D.angularAcceleration,X=D.angularDrag,K=D.maxAngular;k?W+=k*U:D.allowDrag&&X&&(X*=U,m(W-X,0,.1)?W-=X:x(W+X,0,.1)?W+=X:W=0),W=c(W,-K,K);var Z=W-D.angularVelocity;D.angularVelocity+=Z,D.rotation+=D.angularVelocity*U},"computeAngularVelocity"),computeVelocity:r(function(D,U){var W=D.velocity.x,k=D.acceleration.x,X=D.drag.x,K=D.maxVelocity.x,Z=D.velocity.y,J=D.acceleration.y,Q=D.drag.y,j=D.maxVelocity.y,q=D.speed,tt=D.maxSpeed,_=D.allowDrag,rt=D.useDamping;D.allowGravity&&(W+=(this.gravity.x+D.gravity.x)*U,Z+=(this.gravity.y+D.gravity.y)*U),k?W+=k*U:_&&X&&(rt?(X=Math.pow(X,U),W*=X,q=Math.sqrt(W*W+Z*Z),g(q,0,.001)&&(W=0)):(X*=U,m(W-X,0,.01)?W-=X:x(W+X,0,.01)?W+=X:W=0)),J?Z+=J*U:_&&Q&&(rt?(Q=Math.pow(Q,U),Z*=Q,q=Math.sqrt(W*W+Z*Z),g(q,0,.001)&&(Z=0)):(Q*=U,m(Z-Q,0,.01)?Z-=Q:x(Z+Q,0,.01)?Z+=Q:Z=0)),W=c(W,-K,K),Z=c(Z,-j,j),D.velocity.set(W,Z),tt>-1&&D.velocity.length()>tt&&(D.velocity.normalize().scale(tt),q=tt),D.speed=q},"computeVelocity"),separate:r(function(D,U,W,k,X){var K,Z,J=!1,Q=!0;if(!D.enable||!U.enable||D.checkCollision.none||U.checkCollision.none||!this.intersects(D,U)||W&&W.call(k,D.gameObject,U.gameObject)===!1)return J;if(D.isCircle||U.isCircle){var j=this.separateCircle(D,U,X);j.result?(J=!0,Q=!1):(K=j.x,Z=j.y,Q=!0)}if(Q){var q=!1,tt=!1,_=this.OVERLAP_BIAS;X?(q=I(D,U,X,_,K),tt=B(D,U,X,_,Z)):this.forceX||Math.abs(this.gravity.y+D.gravity.y)<Math.abs(this.gravity.x+D.gravity.x)?(q=I(D,U,X,_,K),this.intersects(D,U)&&(tt=B(D,U,X,_,Z))):(tt=B(D,U,X,_,Z),this.intersects(D,U)&&(q=I(D,U,X,_,K))),J=q||tt}return J&&(X?(D.onOverlap||U.onOverlap)&&this.emit(p.OVERLAP,D.gameObject,U.gameObject,D,U):(D.onCollide||U.onCollide)&&this.emit(p.COLLIDE,D.gameObject,U.gameObject,D,U)),J},"separate"),separateCircle:r(function(D,U,W){C(D,U,!1,0),P(D,U,!1,0);var k=D.isCircle,X=U.isCircle,K=D.center,Z=U.center,J=D.immovable,Q=U.immovable,j=D.velocity,q=U.velocity,tt=0,_=!0;if(k!==X){_=!1;var rt=K.x,ht=K.y,lt=D.halfWidth,ot=U.position.x,et=U.position.y,at=U.right,nt=U.bottom;X&&(rt=Z.x,ht=Z.y,lt=U.halfWidth,ot=D.position.x,et=D.position.y,at=D.right,nt=D.bottom),ht<et?rt<ot?tt=u(rt,ht,ot,et)-lt:rt>at&&(tt=u(rt,ht,at,et)-lt):ht>nt&&(rt<ot?tt=u(rt,ht,ot,nt)-lt:rt>at&&(tt=u(rt,ht,at,nt)-lt)),tt*=-1}else tt=D.halfWidth+U.halfWidth-v(K,Z);D.overlapR=tt,U.overlapR=tt;var vt=f(K,Z),mt=(tt+L.EPSILON)*Math.cos(vt),Nt=(tt+L.EPSILON)*Math.sin(vt),Ft={overlap:tt,result:!1,x:mt,y:Nt};if(W&&(!_||_&&tt!==0))return Ft.result=!0,Ft;if(!_&&tt===0||J&&Q||D.customSeparateX||U.customSeparateX)return Ft.x=void 0,Ft.y=void 0,Ft;var Et=!D.pushable&&!U.pushable;if(_){var St=K.x-Z.x,Xt=K.y-Z.y,bt=Math.sqrt(Math.pow(St,2)+Math.pow(Xt,2)),ie=(Z.x-K.x)/bt||0,le=(Z.y-K.y)/bt||0,Ue=2*(j.x*ie+j.y*le-q.x*ie-q.y*le)/(D.mass+U.mass);(J||Q)&&(Ue*=2),J||(j.x=j.x-Ue/D.mass*ie,j.y=j.y-Ue/D.mass*le,j.multiply(D.bounce)),Q||(q.x=q.x+Ue/U.mass*ie,q.y=q.y+Ue/U.mass*le,q.multiply(U.bounce)),!J&&!Q&&(mt*=.5,Nt*=.5),J||(D.x-=mt,D.y-=Nt,D.updateCenter()),Q||(U.x+=mt,U.y+=Nt,U.updateCenter()),Ft.result=!0}else!J||D.pushable||Et?(D.x-=mt,D.y-=Nt,D.updateCenter()):(!Q||U.pushable||Et)&&(U.x+=mt,U.y+=Nt,U.updateCenter()),Ft.x=void 0,Ft.y=void 0;return Ft},"separateCircle"),intersects:r(function(D,U){return D===U?!1:!D.isCircle&&!U.isCircle?!(D.right<=U.left||D.bottom<=U.top||D.left>=U.right||D.top>=U.bottom):D.isCircle?U.isCircle?v(D.center,U.center)<=D.halfWidth+U.halfWidth:this.circleBodyIntersects(D,U):this.circleBodyIntersects(U,D)},"intersects"),circleBodyIntersects:r(function(D,U){var W=c(D.center.x,U.left,U.right),k=c(D.center.y,U.top,U.bottom),X=(D.center.x-W)*(D.center.x-W),K=(D.center.y-k)*(D.center.y-k);return X+K<=D.halfWidth*D.halfWidth},"circleBodyIntersects"),overlap:r(function(D,U,W,k,X){return W===void 0&&(W=null),k===void 0&&(k=null),X===void 0&&(X=W),this.collideObjects(D,U,W,k,X,!0)},"overlap"),collide:r(function(D,U,W,k,X){return W===void 0&&(W=null),k===void 0&&(k=null),X===void 0&&(X=W),this.collideObjects(D,U,W,k,X,!1)},"collide"),collideObjects:r(function(D,U,W,k,X,K){var Z,J;D.isParent&&(D.physicsType===void 0||U===void 0||D===U)&&(D=D.children.entries),U&&U.isParent&&U.physicsType===void 0&&(U=U.children.entries);var Q=Array.isArray(D),j=Array.isArray(U);if(this._total=0,!Q&&!j)this.collideHandler(D,U,W,k,X,K);else if(!Q&&j)for(Z=0;Z<U.length;Z++)this.collideHandler(D,U[Z],W,k,X,K);else if(Q&&!j)if(U)for(Z=0;Z<D.length;Z++)this.collideHandler(D[Z],U,W,k,X,K);else for(Z=0;Z<D.length;Z++){var q=D[Z];for(J=Z+1;J<D.length;J++)Z!==J&&this.collideHandler(q,D[J],W,k,X,K)}else for(Z=0;Z<D.length;Z++)for(J=0;J<U.length;J++)this.collideHandler(D[Z],U[J],W,k,X,K);return this._total>0},"collideObjects"),collideHandler:r(function(D,U,W,k,X,K){if(U===void 0&&D.isParent)return this.collideGroupVsGroup(D,D,W,k,X,K);if(!D||!U)return!1;if(D.body||D.isBody){if(U.body||U.isBody)return this.collideSpriteVsSprite(D,U,W,k,X,K);if(U.isParent)return this.collideSpriteVsGroup(D,U,W,k,X,K);if(U.isTilemap)return this.collideSpriteVsTilemapLayer(D,U,W,k,X,K)}else if(D.isParent){if(U.body||U.isBody)return this.collideSpriteVsGroup(U,D,W,k,X,K);if(U.isParent)return this.collideGroupVsGroup(D,U,W,k,X,K);if(U.isTilemap)return this.collideGroupVsTilemapLayer(D,U,W,k,X,K)}else if(D.isTilemap){if(U.body||U.isBody)return this.collideSpriteVsTilemapLayer(U,D,W,k,X,K);if(U.isParent)return this.collideGroupVsTilemapLayer(U,D,W,k,X,K)}},"collideHandler"),canCollide:r(function(D,U){return D&&U&&(D.collisionMask&U.collisionCategory)!==0&&(U.collisionMask&D.collisionCategory)!==0},"canCollide"),collideSpriteVsSprite:r(function(D,U,W,k,X,K){var Z=D.isBody?D:D.body,J=U.isBody?U:U.body;return this.canCollide(Z,J)?(this.separate(Z,J,k,X,K)&&(W&&W.call(X,D,U),this._total++),!0):!1},"collideSpriteVsSprite"),collideSpriteVsGroup:r(function(D,U,W,k,X,K){var Z=D.isBody?D:D.body;if(!(U.length===0||!Z||!Z.enable||Z.checkCollision.none||!this.canCollide(Z,U))){var J,Q,j;if(this.useTree||U.physicsType===a.STATIC_BODY){var q=this.treeMinMax;q.minX=Z.left,q.minY=Z.top,q.maxX=Z.right,q.maxY=Z.bottom;var tt=U.physicsType===a.DYNAMIC_BODY?this.tree.search(q):this.staticTree.search(q);for(Q=tt.length,J=0;J<Q;J++)j=tt[J],!(Z===j||!j.enable||j.checkCollision.none||!U.contains(j.gameObject))&&this.separate(Z,j,k,X,K)&&(W&&W.call(X,Z.gameObject,j.gameObject),this._total++)}else{var _=U.getChildren(),rt=U.children.entries.indexOf(D);for(Q=_.length,J=0;J<Q;J++)j=_[J].body,!(!j||J===rt||!j.enable)&&this.separate(Z,j,k,X,K)&&(W&&W.call(X,Z.gameObject,j.gameObject),this._total++)}}},"collideSpriteVsGroup"),collideGroupVsTilemapLayer:r(function(D,U,W,k,X,K){if(!this.canCollide(D,U))return!1;var Z=D.getChildren();if(Z.length===0)return!1;for(var J=!1,Q=0;Q<Z.length;Q++)(Z[Q].body||Z[Q].isBody)&&this.collideSpriteVsTilemapLayer(Z[Q],U,W,k,X,K)&&(J=!0);return J},"collideGroupVsTilemapLayer"),collideTiles:r(function(D,U,W,k,X){return U.length===0||D.body&&!D.body.enable||D.isBody&&!D.enable?!1:this.collideSpriteVsTilesHandler(D,U,W,k,X,!1,!1)},"collideTiles"),overlapTiles:r(function(D,U,W,k,X){return U.length===0||D.body&&!D.body.enable||D.isBody&&!D.enable?!1:this.collideSpriteVsTilesHandler(D,U,W,k,X,!0,!1)},"overlapTiles"),collideSpriteVsTilemapLayer:r(function(D,U,W,k,X,K){var Z=D.isBody?D:D.body;if(!Z.enable||Z.checkCollision.none||!this.canCollide(Z,U))return!1;var J=U.layer,Q=Z.x-J.tileWidth*U.scaleX,j=Z.y-J.tileHeight*U.scaleY,q=Z.width+J.tileWidth*U.scaleX,tt=Z.height+J.tileHeight*U.scaleY,_=K?null:this.tileFilterOptions,rt=A(Q,j,q,tt,_,U.scene.cameras.main,U.layer);return rt.length===0?!1:this.collideSpriteVsTilesHandler(D,rt,W,k,X,K,!0)},"collideSpriteVsTilemapLayer"),collideSpriteVsTilesHandler:r(function(D,U,W,k,X,K,Z){for(var J=D.isBody?D:D.body,Q,j={left:0,right:0,top:0,bottom:0},q,tt=!1,_=0;_<U.length;_++){Q=U[_],q=Q.tilemapLayer;var rt=q.tileToWorldXY(Q.x,Q.y);j.left=rt.x,j.top=rt.y,j.right=j.left+Q.width*q.scaleX,j.bottom=j.top+Q.height*q.scaleY,z(j,J)&&(!k||k.call(X,D,Q))&&w(Q,D)&&(K||M(_,J,Q,j,q,this.TILE_BIAS,Z))&&(this._total++,tt=!0,W&&W.call(X,D,Q),K&&J.onOverlap?this.emit(p.TILE_OVERLAP,D,Q,J):J.onCollide&&this.emit(p.TILE_COLLIDE,D,Q,J))}return tt},"collideSpriteVsTilesHandler"),collideGroupVsGroup:r(function(D,U,W,k,X,K){if(!(D.length===0||U.length===0||!this.canCollide(D,U)))for(var Z=D.getChildren(),J=0;J<Z.length;J++)this.collideSpriteVsGroup(Z[J],U,W,k,X,K)},"collideGroupVsGroup"),wrap:r(function(D,U){D.body?this.wrapObject(D,U):D.getChildren?this.wrapArray(D.getChildren(),U):Array.isArray(D)?this.wrapArray(D,U):this.wrapObject(D,U)},"wrap"),wrapArray:r(function(D,U){for(var W=0;W<D.length;W++)this.wrapObject(D[W],U)},"wrapArray"),wrapObject:r(function(D,U){U===void 0&&(U=0),D.x=V(D.x,this.bounds.left-U,this.bounds.right+U),D.y=V(D.y,this.bounds.top-U,this.bounds.bottom+U)},"wrapObject"),shutdown:r(function(){this.tree.clear(),this.staticTree.clear(),this.bodies.clear(),this.staticBodies.clear(),this.colliders.destroy(),this.removeAllListeners()},"shutdown"),destroy:r(function(){this.shutdown(),this.scene=null,this.debugGraphic&&(this.debugGraphic.destroy(),this.debugGraphic=null)},"destroy")});n.exports=Y},1093:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={setAcceleration:r(function(i,f){return this.body.acceleration.set(i,f),this},"setAcceleration"),setAccelerationX:r(function(i){return this.body.acceleration.x=i,this},"setAccelerationX"),setAccelerationY:r(function(i){return this.body.acceleration.y=i,this},"setAccelerationY")};n.exports=T},59023:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={setAngularVelocity:r(function(i){return this.body.angularVelocity=i,this},"setAngularVelocity"),setAngularAcceleration:r(function(i){return this.body.angularAcceleration=i,this},"setAngularAcceleration"),setAngularDrag:r(function(i){return this.body.angularDrag=i,this},"setAngularDrag")};n.exports=T},62069:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={setBounce:r(function(i,f){return this.body.bounce.set(i,f),this},"setBounce"),setBounceX:r(function(i){return this.body.bounce.x=i,this},"setBounceX"),setBounceY:r(function(i){return this.body.bounce.y=i,this},"setBounceY"),setCollideWorldBounds:r(function(i,f,y,c){return this.body.setCollideWorldBounds(i,f,y,c),this},"setCollideWorldBounds")};n.exports=T},78389:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(79599),y={setCollisionCategory:r(function(c){var o=this.body?this.body:this;return o.collisionCategory=c,this},"setCollisionCategory"),willCollideWith:r(function(c){var o=this.body?this.body:this;return(o.collisionMask&c)!==0},"willCollideWith"),addCollidesWith:r(function(c){var o=this.body?this.body:this;return o.collisionMask=o.collisionMask|c,this},"addCollidesWith"),removeCollidesWith:r(function(c){var o=this.body?this.body:this;return o.collisionMask=o.collisionMask&~c,this},"removeCollidesWith"),setCollidesWith:r(function(c){var o=this.body?this.body:this;return o.collisionMask=f(c),this},"setCollidesWith"),resetCollisionCategory:r(function(){var c=this.body?this.body:this;return c.collisionCategory=1,c.collisionMask=1,this},"resetCollisionCategory")};n.exports=y},87118:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={setDebug:r(function(i,f,y){return this.debugShowBody=i,this.debugShowVelocity=f,this.debugBodyColor=y,this},"setDebug"),setDebugBodyColor:r(function(i){return this.body.debugBodyColor=i,this},"setDebugBodyColor"),debugShowBody:{get:r(function(){return this.body.debugShowBody},"get"),set:r(function(i){this.body.debugShowBody=i},"set")},debugShowVelocity:{get:r(function(){return this.body.debugShowVelocity},"get"),set:r(function(i){this.body.debugShowVelocity=i},"set")},debugBodyColor:{get:r(function(){return this.body.debugBodyColor},"get"),set:r(function(i){this.body.debugBodyColor=i},"set")}};n.exports=T},52819:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={setDrag:r(function(i,f){return this.body.drag.set(i,f),this},"setDrag"),setDragX:r(function(i){return this.body.drag.x=i,this},"setDragX"),setDragY:r(function(i){return this.body.drag.y=i,this},"setDragY"),setDamping:r(function(i){return this.body.useDamping=i,this},"setDamping")};n.exports=T},4074:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={setDirectControl:r(function(i){return this.body.setDirectControl(i),this},"setDirectControl"),enableBody:r(function(i,f,y,c,o){return i&&this.body.reset(f,y),c&&(this.body.gameObject.active=!0),o&&(this.body.gameObject.visible=!0),this.body.enable=!0,this},"enableBody"),disableBody:r(function(i,f){return i===void 0&&(i=!1),f===void 0&&(f=!1),this.body.stop(),this.body.enable=!1,i&&(this.body.gameObject.active=!1),f&&(this.body.gameObject.visible=!1),this},"disableBody"),refreshBody:r(function(){return this.body.updateFromGameObject(),this},"refreshBody")};n.exports=T},40831:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={setFriction:r(function(i,f){return this.body.friction.set(i,f),this},"setFriction"),setFrictionX:r(function(i){return this.body.friction.x=i,this},"setFrictionX"),setFrictionY:r(function(i){return this.body.friction.y=i,this},"setFrictionY")};n.exports=T},26775:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={setGravity:r(function(i,f){return this.body.gravity.set(i,f),this},"setGravity"),setGravityX:r(function(i){return this.body.gravity.x=i,this},"setGravityX"),setGravityY:r(function(i){return this.body.gravity.y=i,this},"setGravityY")};n.exports=T},9437:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={setImmovable:r(function(i){return i===void 0&&(i=!0),this.body.immovable=i,this},"setImmovable")};n.exports=T},30621:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={setMass:r(function(i){return this.body.mass=i,this},"setMass")};n.exports=T},72441:(n,T,i)=>{var f=i(47956),y=i(96503),c=i(2044),o=i(81491),l=r(function(a,u,v,d,p,g){var m=f(a,u-d,v-d,2*d,2*d,p,g);if(m.length===0)return m;for(var x=new y(u,v,d),C=new y,P=[],A=0;A<m.length;A++){var R=m[A];R.isCircle?(C.setTo(R.center.x,R.center.y,R.halfWidth),c(x,C)&&P.push(R)):o(x,R)&&P.push(R)}return P},"OverlapCirc");n.exports=l},47956:n=>{var T=r(function(i,f,y,c,o,l,a){l===void 0&&(l=!0),a===void 0&&(a=!1);var u=[],v=[],d=i.treeMinMax;if(d.minX=f,d.minY=y,d.maxX=f+c,d.maxY=y+o,a&&(v=i.staticTree.search(d)),l&&i.useTree)u=i.tree.search(d);else if(l){var p=i.bodies,g={position:{x:f,y},left:f,top:y,right:f+c,bottom:y+o,isCircle:!1},m=i.intersects;p.iterate(function(x){m(x,g)&&u.push(x)})}return v.concat(u)},"OverlapRect");n.exports=T},62121:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={setPushable:r(function(i){return i===void 0&&(i=!0),this.body.pushable=i,this},"setPushable")};n.exports=T},29384:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={setOffset:r(function(i,f){return this.body.setOffset(i,f),this},"setOffset"),setSize:r(function(i,f,y){return this.body.setSize(i,f,y),this},"setSize"),setBodySize:r(function(i,f,y){return this.body.setSize(i,f,y),this},"setBodySize"),setCircle:r(function(i,f,y){return this.body.setCircle(i,f,y),this},"setCircle")};n.exports=T},15098:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={setVelocity:r(function(i,f){return this.body.setVelocity(i,f),this},"setVelocity"),setVelocityX:r(function(i){return this.body.setVelocityX(i),this},"setVelocityX"),setVelocityY:r(function(i){return this.body.setVelocityY(i),this},"setVelocityY"),setMaxVelocity:r(function(i,f){return this.body.maxVelocity.set(i,f),this},"setMaxVelocity")};n.exports=T},92209:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={Acceleration:i(1093),Angular:i(59023),Bounce:i(62069),Collision:i(78389),Debug:i(87118),Drag:i(52819),Enable:i(4074),Friction:i(40831),Gravity:i(26775),Immovable:i(9437),Mass:i(30621),OverlapCirc:i(72441),OverlapRect:i(47956),Pushable:i(62121),Size:i(29384),Velocity:i(15098)}},37747:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={DYNAMIC_BODY:0,STATIC_BODY:1,GROUP:2,TILEMAPLAYER:3,FACING_NONE:10,FACING_UP:11,FACING_DOWN:12,FACING_LEFT:13,FACING_RIGHT:14};n.exports=T},20009:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="collide"},36768:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="overlap"},60473:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="pause"},89954:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="resume"},61804:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="tilecollide"},7161:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="tileoverlap"},34689:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="worldbounds"},16006:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="worldstep"},63012:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={COLLIDE:i(20009),OVERLAP:i(36768),PAUSE:i(60473),RESUME:i(89954),TILE_COLLIDE:i(61804),TILE_OVERLAP:i(7161),WORLD_BOUNDS:i(34689),WORLD_STEP:i(16006)}},27064:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(37747),y=i(79291),c={ArcadePhysics:i(86689),Body:i(37742),Collider:i(79342),Components:i(92209),Events:i(63012),Factory:i(66022),GetCollidesWith:i(79599),GetOverlapX:i(64897),GetOverlapY:i(45170),SeparateX:i(14087),SeparateY:i(89936),Group:i(60758),Image:i(71289),Sprite:i(13759),StaticBody:i(72624),StaticGroup:i(71464),Tilemap:i(55173),World:i(82248)};c=y(!1,c,f),n.exports=c},96602:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i,f){return i.collisionCallback?!i.collisionCallback.call(i.collisionCallbackContext,f,i):i.layer.callbacks[i.index]?!i.layer.callbacks[i.index].callback.call(i.layer.callbacks[i.index].callbackContext,f,i):!0},"ProcessTileCallbacks");n.exports=T},36294:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i,f){f<0?(i.blocked.none=!1,i.blocked.left=!0):f>0&&(i.blocked.none=!1,i.blocked.right=!0),i.position.x-=f,i.updateCenter(),i.bounce.x===0?i.velocity.x=0:i.velocity.x=-i.velocity.x*i.bounce.x},"ProcessTileSeparationX");n.exports=T},67013:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i,f){f<0?(i.blocked.none=!1,i.blocked.up=!0):f>0&&(i.blocked.none=!1,i.blocked.down=!0),i.position.y-=f,i.updateCenter(),i.bounce.y===0?i.velocity.y=0:i.velocity.y=-i.velocity.y*i.bounce.y},"ProcessTileSeparationY");n.exports=T},40012:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(21329),y=i(53442),c=i(2483),o=r(function(l,a,u,v,d,p,g){var m=v.left,x=v.top,C=v.right,P=v.bottom,A=u.faceLeft||u.faceRight,R=u.faceTop||u.faceBottom;if(g||(A=!0,R=!0),!A&&!R)return!1;var L=0,O=0,w=0,b=1;if(a.deltaAbsX()>a.deltaAbsY()?w=-1:a.deltaAbsX()<a.deltaAbsY()&&(b=-1),a.deltaX()!==0&&a.deltaY()!==0&&A&&R&&(w=Math.min(Math.abs(a.position.x-C),Math.abs(a.right-m)),b=Math.min(Math.abs(a.position.y-P),Math.abs(a.bottom-x))),w<b){if(A&&(L=f(a,u,m,C,p,g),L!==0&&!c(v,a)))return!0;R&&(O=y(a,u,x,P,p,g))}else{if(R&&(O=y(a,u,x,P,p,g),O!==0&&!c(v,a)))return!0;A&&(L=f(a,u,m,C,p,g))}return L!==0||O!==0},"SeparateTile");n.exports=o},21329:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(36294),y=r(function(c,o,l,a,u,v){var d=0,p=o.faceLeft,g=o.faceRight,m=o.collideLeft,x=o.collideRight;return v||(p=!0,g=!0,m=!0,x=!0),c.deltaX()<0&&x&&c.checkCollision.left?g&&c.x<a&&(d=c.x-a,d<-u&&(d=0)):c.deltaX()>0&&m&&c.checkCollision.right&&p&&c.right>l&&(d=c.right-l,d>u&&(d=0)),d!==0&&(c.customSeparateX?c.overlapX=d:f(c,d)),d},"TileCheckX");n.exports=y},53442:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(67013),y=r(function(c,o,l,a,u,v){var d=0,p=o.faceTop,g=o.faceBottom,m=o.collideUp,x=o.collideDown;return v||(p=!0,g=!0,m=!0,x=!0),c.deltaY()<0&&x&&c.checkCollision.up?g&&c.y<a&&(d=c.y-a,d<-u&&(d=0)):c.deltaY()>0&&m&&c.checkCollision.down&&p&&c.bottom>l&&(d=c.bottom-l,d>u&&(d=0)),d!==0&&(c.customSeparateY?c.overlapY=d:f(c,d)),d},"TileCheckY");n.exports=y},2483:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i,f){return!(f.right<=i.left||f.bottom<=i.top||f.position.x>=i.right||f.position.y>=i.bottom)},"TileIntersectsBody");n.exports=T},55173:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f={ProcessTileCallbacks:i(96602),ProcessTileSeparationX:i(36294),ProcessTileSeparationY:i(67013),SeparateTile:i(40012),TileCheckX:i(21329),TileCheckY:i(53442),TileIntersectsBody:i(2483)};n.exports=f},44563:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={Arcade:i(27064),Matter:i(3875)}},68174:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(83419),y=i(26099),c=new f({initialize:r(function(){this.boundsCenter=new y,this.centerDiff=new y},"BodyBounds"),parseBody:r(function(o){if(o=o.hasOwnProperty("body")?o.body:o,!o.hasOwnProperty("bounds")||!o.hasOwnProperty("centerOfMass"))return!1;var l=this.boundsCenter,a=this.centerDiff,u=o.bounds.max.x-o.bounds.min.x,v=o.bounds.max.y-o.bounds.min.y,d=u*o.centerOfMass.x,p=v*o.centerOfMass.y;return l.set(u/2,v/2),a.set(d-l.x,p-l.y),!0},"parseBody"),getTopLeft:r(function(o,l,a){if(l===void 0&&(l=0),a===void 0&&(a=0),this.parseBody(o)){var u=this.boundsCenter,v=this.centerDiff;return new y(l+u.x+v.x,a+u.y+v.y)}return!1},"getTopLeft"),getTopCenter:r(function(o,l,a){if(l===void 0&&(l=0),a===void 0&&(a=0),this.parseBody(o)){var u=this.boundsCenter,v=this.centerDiff;return new y(l+v.x,a+u.y+v.y)}return!1},"getTopCenter"),getTopRight:r(function(o,l,a){if(l===void 0&&(l=0),a===void 0&&(a=0),this.parseBody(o)){var u=this.boundsCenter,v=this.centerDiff;return new y(l-(u.x-v.x),a+u.y+v.y)}return!1},"getTopRight"),getLeftCenter:r(function(o,l,a){if(l===void 0&&(l=0),a===void 0&&(a=0),this.parseBody(o)){var u=this.boundsCenter,v=this.centerDiff;return new y(l+u.x+v.x,a+v.y)}return!1},"getLeftCenter"),getCenter:r(function(o,l,a){if(l===void 0&&(l=0),a===void 0&&(a=0),this.parseBody(o)){var u=this.centerDiff;return new y(l+u.x,a+u.y)}return!1},"getCenter"),getRightCenter:r(function(o,l,a){if(l===void 0&&(l=0),a===void 0&&(a=0),this.parseBody(o)){var u=this.boundsCenter,v=this.centerDiff;return new y(l-(u.x-v.x),a+v.y)}return!1},"getRightCenter"),getBottomLeft:r(function(o,l,a){if(l===void 0&&(l=0),a===void 0&&(a=0),this.parseBody(o)){var u=this.boundsCenter,v=this.centerDiff;return new y(l+u.x+v.x,a-(u.y-v.y))}return!1},"getBottomLeft"),getBottomCenter:r(function(o,l,a){if(l===void 0&&(l=0),a===void 0&&(a=0),this.parseBody(o)){var u=this.boundsCenter,v=this.centerDiff;return new y(l+v.x,a-(u.y-v.y))}return!1},"getBottomCenter"),getBottomRight:r(function(o,l,a){if(l===void 0&&(l=0),a===void 0&&(a=0),this.parseBody(o)){var u=this.boundsCenter,v=this.centerDiff;return new y(l-(u.x-v.x),a-(u.y-v.y))}return!1},"getBottomRight")});n.exports=c},19933:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(6790);f.Body=i(22562),f.Composite=i(69351),f.World=i(4372),f.Collision=i(52284),f.Detector=i(81388),f.Pairs=i(99561),f.Pair=i(4506),f.Query=i(73296),f.Resolver=i(66272),f.Constraint=i(48140),f.Common=i(53402),f.Engine=i(48413),f.Events=i(35810),f.Sleeping=i(53614),f.Plugin=i(73832),f.Bodies=i(66280),f.Composites=i(74116),f.Axes=i(66615),f.Bounds=i(15647),f.Svg=i(74058),f.Vector=i(31725),f.Vertices=i(41598),f.World.add=f.Composite.add,f.World.remove=f.Composite.remove,f.World.addComposite=f.Composite.addComposite,f.World.addBody=f.Composite.addBody,f.World.addConstraint=f.Composite.addConstraint,f.World.clear=f.Composite.clear,n.exports=f},28137:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(66280),y=i(83419),c=i(74116),o=i(48140),l=i(74058),a=i(75803),u=i(23181),v=i(34803),d=i(73834),p=i(19496),g=i(85791),m=i(98713),x=i(41598),C=new y({initialize:r(function(A){this.world=A,this.scene=A.scene,this.sys=A.scene.sys},"Factory"),rectangle:r(function(P,A,R,L,O){var w=f.rectangle(P,A,R,L,O);return this.world.add(w),w},"rectangle"),trapezoid:r(function(P,A,R,L,O,w){var b=f.trapezoid(P,A,R,L,O,w);return this.world.add(b),b},"trapezoid"),circle:r(function(P,A,R,L,O){var w=f.circle(P,A,R,L,O);return this.world.add(w),w},"circle"),polygon:r(function(P,A,R,L,O){var w=f.polygon(P,A,R,L,O);return this.world.add(w),w},"polygon"),fromVertices:r(function(P,A,R,L,O,w,b){typeof R=="string"&&(R=x.fromPath(R));var F=f.fromVertices(P,A,R,L,O,w,b);return this.world.add(F),F},"fromVertices"),fromPhysicsEditor:r(function(P,A,R,L,O){O===void 0&&(O=!0);var w=p.parseBody(P,A,R,L);return O&&!this.world.has(w)&&this.world.add(w),w},"fromPhysicsEditor"),fromSVG:r(function(P,A,R,L,O,w){L===void 0&&(L=1),O===void 0&&(O={}),w===void 0&&(w=!0);for(var b=R.getElementsByTagName("path"),F=[],M=0;M<b.length;M++){var I=l.pathToVertices(b[M],30);L!==1&&x.scale(I,L,L),F.push(I)}var B=f.fromVertices(P,A,F,O);return w&&this.world.add(B),B},"fromSVG"),fromJSON:r(function(P,A,R,L,O){L===void 0&&(L={}),O===void 0&&(O=!0);var w=g.parseBody(P,A,R,L);return w&&O&&this.world.add(w),w},"fromJSON"),imageStack:r(function(P,A,R,L,O,w,b,F,M){b===void 0&&(b=0),F===void 0&&(F=0),M===void 0&&(M={});var I=this.world,B=this.sys.displayList;M.addToWorld=!1;var G=c.stack(R,L,O,w,b,F,function(N,z){var H=new u(I,N,z,P,A,M);return B.add(H),H.body});return I.add(G),G},"imageStack"),stack:r(function(P,A,R,L,O,w,b){var F=c.stack(P,A,R,L,O,w,b);return this.world.add(F),F},"stack"),pyramid:r(function(P,A,R,L,O,w,b){var F=c.pyramid(P,A,R,L,O,w,b);return this.world.add(F),F},"pyramid"),chain:r(function(P,A,R,L,O,w){return c.chain(P,A,R,L,O,w)},"chain"),mesh:r(function(P,A,R,L,O){return c.mesh(P,A,R,L,O)},"mesh"),newtonsCradle:r(function(P,A,R,L,O){var w=c.newtonsCradle(P,A,R,L,O);return this.world.add(w),w},"newtonsCradle"),car:r(function(P,A,R,L,O){var w=c.car(P,A,R,L,O);return this.world.add(w),w},"car"),softBody:r(function(P,A,R,L,O,w,b,F,M,I){var B=c.softBody(P,A,R,L,O,w,b,F,M,I);return this.world.add(B),B},"softBody"),joint:r(function(P,A,R,L,O){return this.constraint(P,A,R,L,O)},"joint"),spring:r(function(P,A,R,L,O){return this.constraint(P,A,R,L,O)},"spring"),constraint:r(function(P,A,R,L,O){L===void 0&&(L=1),O===void 0&&(O={}),O.bodyA=P.type==="body"?P:P.body,O.bodyB=A.type==="body"?A:A.body,isNaN(R)||(O.length=R),O.stiffness=L;var w=o.create(O);return this.world.add(w),w},"constraint"),worldConstraint:r(function(P,A,R,L){R===void 0&&(R=1),L===void 0&&(L={}),L.bodyB=P.type==="body"?P:P.body,isNaN(A)||(L.length=A),L.stiffness=R;var O=o.create(L);return this.world.add(O),O},"worldConstraint"),mouseSpring:r(function(P){return this.pointerConstraint(P)},"mouseSpring"),pointerConstraint:r(function(P){P===void 0&&(P={}),P.hasOwnProperty("render")||(P.render={visible:!1});var A=new m(this.scene,this.world,P);return this.world.add(A.constraint),A},"pointerConstraint"),image:r(function(P,A,R,L,O){var w=new u(this.world,P,A,R,L,O);return this.sys.displayList.add(w),w},"image"),tileBody:r(function(P,A){return new d(this.world,P,A)},"tileBody"),sprite:r(function(P,A,R,L,O){var w=new v(this.world,P,A,R,L,O);return this.sys.displayList.add(w),this.sys.updateList.add(w),w},"sprite"),gameObject:r(function(P,A,R){return a(this.world,P,A,R)},"gameObject"),destroy:r(function(){this.world=null,this.scene=null,this.sys=null},"destroy")});n.exports=C},75803:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(31884),y=i(95540),c=i(26099);function o(a){return!!a.get&&typeof a.get=="function"||!!a.set&&typeof a.set=="function"}r(o,"hasGetterOrSetter");var l=r(function(a,u,v,d){v===void 0&&(v={}),d===void 0&&(d=!0);var p=u.x,g=u.y;u.body={temp:!0,position:{x:p,y:g}};var m=[f.Bounce,f.Collision,f.Force,f.Friction,f.Gravity,f.Mass,f.Sensor,f.SetBody,f.Sleep,f.Static,f.Transform,f.Velocity];if(m.forEach(function(C){for(var P in C)o(C[P])?Object.defineProperty(u,P,{get:C[P].get,set:C[P].set}):Object.defineProperty(u,P,{value:C[P]})}),u.world=a,u._tempVec2=new c(p,g),v.hasOwnProperty("type")&&v.type==="body")u.setExistingBody(v,d);else{var x=y(v,"shape",null);x||(x="rectangle"),v.addToWorld=d,u.setBody(x,v)}return u},"MatterGameObject");n.exports=l},23181:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(83419),y=i(31884),c=i(95643),o=i(95540),l=i(88571),a=i(72699),u=i(26099),v=new f({Extends:l,Mixins:[y.Bounce,y.Collision,y.Force,y.Friction,y.Gravity,y.Mass,y.Sensor,y.SetBody,y.Sleep,y.Static,y.Transform,y.Velocity,a],initialize:r(function(p,g,m,x,C,P){c.call(this,p.scene,"Image"),this._crop=this.resetCropObject(),this.setTexture(x,C),this.setSizeToFrame(),this.setOrigin(),this.world=p,this._tempVec2=new u(g,m);var A=o(P,"shape",null);A?this.setBody(A,P):this.setRectangle(this.width,this.height,P),this.setPosition(g,m),this.initPipeline(),this.initPostPipeline(!0)},"MatterImage")});n.exports=v},42045:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(60461),y=i(66615),c=i(66280),o=i(22562),l=i(68174),a=i(15647),u=i(83419),v=i(52284),d=i(53402),p=i(69351),g=i(74116),m=i(48140),x=i(81388),C=i(20339),P=i(28137),A=i(95540),R=i(35154),L=i(18210),O=i(40178),w=i(6790),b=i(74507),F=i(46975),M=i(4506),I=i(99561),B=i(73832),G=i(37277),N=i(73296),z=i(66272),H=i(44594),$=i(74058),V=i(31725),Y=i(41598),D=i(68243);d.setDecomp(i(55973));var U=new u({initialize:r(function(k){this.scene=k,this.systems=k.sys,this.config=this.getConfig(),this.world,this.add,this.bodyBounds,this.body=o,this.composite=p,this.collision=v,this.detector=x,this.pair=M,this.pairs=I,this.query=N,this.resolver=z,this.constraint=m,this.bodies=c,this.composites=g,this.axes=y,this.bounds=a,this.svg=$,this.vector=V,this.vertices=Y,this.verts=Y,this._tempVec2=V.create(),R(this.config,"plugins.collisionevents",!0)&&this.enableCollisionEventsPlugin(),R(this.config,"plugins.attractors",!1)&&this.enableAttractorPlugin(),R(this.config,"plugins.wrap",!1)&&this.enableWrapPlugin(),z._restingThresh=R(this.config,"restingThresh",4),z._restingThreshTangent=R(this.config,"restingThreshTangent",6),z._positionDampen=R(this.config,"positionDampen",.9),z._positionWarming=R(this.config,"positionWarming",.8),z._frictionNormalMultiplier=R(this.config,"frictionNormalMultiplier",5),k.sys.events.once(H.BOOT,this.boot,this),k.sys.events.on(H.START,this.start,this)},"MatterPhysics"),boot:r(function(){this.world=new D(this.scene,this.config),this.add=new P(this.world),this.bodyBounds=new l,this.systems.events.once(H.DESTROY,this.destroy,this)},"boot"),start:r(function(){this.world||(this.world=new D(this.scene,this.config),this.add=new P(this.world));var W=this.systems.events;W.on(H.UPDATE,this.world.update,this.world),W.on(H.POST_UPDATE,this.world.postUpdate,this.world),W.once(H.SHUTDOWN,this.shutdown,this)},"start"),getConfig:r(function(){var W=this.systems.game.config.physics,k=this.systems.settings.physics,X=F(A(k,"matter",{}),A(W,"matter",{}));return X},"getConfig"),enableAttractorPlugin:r(function(){return B.register(L),B.use(w,L),this},"enableAttractorPlugin"),enableWrapPlugin:r(function(){return B.register(b),B.use(w,b),this},"enableWrapPlugin"),enableCollisionEventsPlugin:r(function(){return B.register(O),B.use(w,O),this},"enableCollisionEventsPlugin"),pause:r(function(){return this.world.pause()},"pause"),resume:r(function(){return this.world.resume()},"resume"),set60Hz:r(function(){return this.world.getDelta=this.world.update60Hz,this.world.autoUpdate=!0,this},"set60Hz"),set30Hz:r(function(){return this.world.getDelta=this.world.update30Hz,this.world.autoUpdate=!0,this},"set30Hz"),step:r(function(W,k){this.world.step(W,k)},"step"),containsPoint:r(function(W,k,X){W=this.getMatterBodies(W);var K=V.create(k,X),Z=N.point(W,K);return Z.length>0},"containsPoint"),intersectPoint:r(function(W,k,X){X=this.getMatterBodies(X);var K=V.create(W,k),Z=[],J=N.point(X,K);return J.forEach(function(Q){Z.indexOf(Q)===-1&&Z.push(Q)}),Z},"intersectPoint"),intersectRect:r(function(W,k,X,K,Z,J){Z===void 0&&(Z=!1),J=this.getMatterBodies(J);var Q={min:{x:W,y:k},max:{x:W+X,y:k+K}},j=[],q=N.region(J,Q,Z);return q.forEach(function(tt){j.indexOf(tt)===-1&&j.push(tt)}),j},"intersectRect"),intersectRay:r(function(W,k,X,K,Z,J){Z===void 0&&(Z=1),J=this.getMatterBodies(J);for(var Q=[],j=N.ray(J,V.create(W,k),V.create(X,K),Z),q=0;q<j.length;q++)Q.push(j[q].body);return Q},"intersectRay"),intersectBody:r(function(W,k){k=this.getMatterBodies(k);for(var X=[],K=N.collides(W,k),Z=0;Z<K.length;Z++){var J=K[Z];J.bodyA===W?X.push(J.bodyB):X.push(J.bodyA)}return X},"intersectBody"),overlap:r(function(W,k,X,K,Z){X===void 0&&(X=null),K===void 0&&(K=null),Z===void 0&&(Z=X),Array.isArray(W)||(W=[W]),W=this.getMatterBodies(W),k=this.getMatterBodies(k);for(var J=!1,Q=0;Q<W.length;Q++)for(var j=W[Q],q=N.collides(j,k),tt=0;tt<q.length;tt++){var _=q[tt],rt=_.bodyA.id===j.id?_.bodyB:_.bodyA;if(!K||K.call(Z,j,rt,_)){if(J=!0,X)X.call(Z,j,rt,_);else if(!K)return!0}}return J},"overlap"),setCollisionCategory:r(function(W,k){return W=this.getMatterBodies(W),W.forEach(function(X){X.collisionFilter.category=k}),this},"setCollisionCategory"),setCollisionGroup:r(function(W,k){return W=this.getMatterBodies(W),W.forEach(function(X){X.collisionFilter.group=k}),this},"setCollisionGroup"),setCollidesWith:r(function(W,k){W=this.getMatterBodies(W);var X=0;if(!Array.isArray(k))X=k;else for(var K=0;K<k.length;K++)X|=k[K];return W.forEach(function(Z){Z.collisionFilter.mask=X}),this},"setCollidesWith"),getMatterBodies:r(function(W){if(!W)return this.world.getAllBodies();Array.isArray(W)||(W=[W]);for(var k=[],X=0;X<W.length;X++){var K=W[X].hasOwnProperty("body")?W[X].body:W[X];k.push(K)}return k},"getMatterBodies"),setVelocity:r(function(W,k,X){W=this.getMatterBodies(W);var K=this._tempVec2;return K.x=k,K.y=X,W.forEach(function(Z){o.setVelocity(Z,K)}),this},"setVelocity"),setVelocityX:r(function(W,k){W=this.getMatterBodies(W);var X=this._tempVec2;return X.x=k,W.forEach(function(K){X.y=K.velocity.y,o.setVelocity(K,X)}),this},"setVelocityX"),setVelocityY:r(function(W,k){W=this.getMatterBodies(W);var X=this._tempVec2;return X.y=k,W.forEach(function(K){X.x=K.velocity.x,o.setVelocity(K,X)}),this},"setVelocityY"),setAngularVelocity:r(function(W,k){return W=this.getMatterBodies(W),W.forEach(function(X){o.setAngularVelocity(X,k)}),this},"setAngularVelocity"),applyForce:r(function(W,k){W=this.getMatterBodies(W);var X=this._tempVec2;return W.forEach(function(K){X.x=K.position.x,X.y=K.position.y,o.applyForce(K,X,k)}),this},"applyForce"),applyForceFromPosition:r(function(W,k,X,K){W=this.getMatterBodies(W);var Z=this._tempVec2;return W.forEach(function(J){K===void 0&&(K=J.angle),Z.x=X*Math.cos(K),Z.y=X*Math.sin(K),o.applyForce(J,k,Z)}),this},"applyForceFromPosition"),applyForceFromAngle:r(function(W,k,X){W=this.getMatterBodies(W);var K=this._tempVec2;return W.forEach(function(Z){X===void 0&&(X=Z.angle),K.x=k*Math.cos(X),K.y=k*Math.sin(X),o.applyForce(Z,{x:Z.position.x,y:Z.position.y},K)}),this},"applyForceFromAngle"),getConstraintLength:r(function(W){var k=W.pointA.x,X=W.pointA.y,K=W.pointB.x,Z=W.pointB.y;return W.bodyA&&(k+=W.bodyA.position.x,X+=W.bodyA.position.y),W.bodyB&&(K+=W.bodyB.position.x,Z+=W.bodyB.position.y),C(k,X,K,Z)},"getConstraintLength"),alignBody:r(function(W,k,X,K){W=W.hasOwnProperty("body")?W.body:W;var Z;switch(K){case f.TOP_LEFT:case f.LEFT_TOP:Z=this.bodyBounds.getTopLeft(W,k,X);break;case f.TOP_CENTER:Z=this.bodyBounds.getTopCenter(W,k,X);break;case f.TOP_RIGHT:case f.RIGHT_TOP:Z=this.bodyBounds.getTopRight(W,k,X);break;case f.LEFT_CENTER:Z=this.bodyBounds.getLeftCenter(W,k,X);break;case f.CENTER:Z=this.bodyBounds.getCenter(W,k,X);break;case f.RIGHT_CENTER:Z=this.bodyBounds.getRightCenter(W,k,X);break;case f.LEFT_BOTTOM:case f.BOTTOM_LEFT:Z=this.bodyBounds.getBottomLeft(W,k,X);break;case f.BOTTOM_CENTER:Z=this.bodyBounds.getBottomCenter(W,k,X);break;case f.BOTTOM_RIGHT:case f.RIGHT_BOTTOM:Z=this.bodyBounds.getBottomRight(W,k,X);break}return Z&&o.setPosition(W,Z),this},"alignBody"),shutdown:r(function(){var W=this.systems.events;this.world&&(W.off(H.UPDATE,this.world.update,this.world),W.off(H.POST_UPDATE,this.world.postUpdate,this.world)),W.off(H.SHUTDOWN,this.shutdown,this),this.add&&this.add.destroy(),this.world&&this.world.destroy(),this.add=null,this.world=null},"shutdown"),destroy:r(function(){this.shutdown(),this.scene.sys.events.off(H.START,this.start,this),this.scene=null,this.systems=null},"destroy")});G.register("MatterPhysics",U,"matterPhysics"),n.exports=U},34803:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(9674),y=i(83419),c=i(31884),o=i(95643),l=i(95540),a=i(72699),u=i(68287),v=i(26099),d=new y({Extends:u,Mixins:[c.Bounce,c.Collision,c.Force,c.Friction,c.Gravity,c.Mass,c.Sensor,c.SetBody,c.Sleep,c.Static,c.Transform,c.Velocity,a],initialize:r(function(g,m,x,C,P,A){o.call(this,g.scene,"Sprite"),this._crop=this.resetCropObject(),this.anims=new f(this),this.setTexture(C,P),this.setSizeToFrame(),this.setOrigin(),this.world=g,this._tempVec2=new v(m,x);var R=l(A,"shape",null);R?this.setBody(R,A):this.setRectangle(this.width,this.height,A),this.setPosition(m,x),this.initPipeline(),this.initPostPipeline(!0)},"MatterSprite")});n.exports=d},73834:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(66280),y=i(22562),c=i(83419),o=i(31884),l=i(62644),a=i(50792),u=i(95540),v=i(97022),d=i(41598),p=new c({Extends:a,Mixins:[o.Bounce,o.Collision,o.Friction,o.Gravity,o.Mass,o.Sensor,o.Sleep,o.Static],initialize:r(function(m,x,C){a.call(this),this.tile=x,this.world=m,x.physics.matterBody&&x.physics.matterBody.destroy(),x.physics.matterBody=this;var P=u(C,"body",null),A=u(C,"addToWorld",!0);if(P)this.setBody(P,A);else{var R=x.getCollisionGroup(),L=u(R,"objects",[]);L.length>0?this.setFromTileCollision(C):this.setFromTileRectangle(C)}if(x.flipX||x.flipY){var O={x:x.getCenterX(),y:x.getCenterY()},w=x.flipX?-1:1,b=x.flipY?-1:1;y.scale(P,w,b,O)}},"MatterTileBody"),setFromTileRectangle:r(function(g){g===void 0&&(g={}),v(g,"isStatic")||(g.isStatic=!0),v(g,"addToWorld")||(g.addToWorld=!0);var m=this.tile.getBounds(),x=m.x+m.width/2,C=m.y+m.height/2,P=f.rectangle(x,C,m.width,m.height,g);return this.setBody(P,g.addToWorld),this},"setFromTileRectangle"),setFromTileCollision:r(function(g){g===void 0&&(g={}),v(g,"isStatic")||(g.isStatic=!0),v(g,"addToWorld")||(g.addToWorld=!0);for(var m=this.tile.tilemapLayer.scaleX,x=this.tile.tilemapLayer.scaleY,C=this.tile.getLeft(),P=this.tile.getTop(),A=this.tile.getCollisionGroup(),R=u(A,"objects",[]),L=[],O=0;O<R.length;O++){var w=R[O],b=C+w.x*m,F=P+w.y*x,M=w.width*m,I=w.height*x,B=null;if(w.rectangle)B=f.rectangle(b+M/2,F+I/2,M,I,g);else if(w.ellipse)B=f.circle(b+M/2,F+I/2,M/2,g);else if(w.polygon||w.polyline){var G=w.polygon?w.polygon:w.polyline,N=G.map(function(V){return{x:V.x*m,y:V.y*x}}),z=d.create(N),H=d.centre(z);b+=H.x,F+=H.y,B=f.fromVertices(b,F,z,g)}B&&L.push(B)}if(L.length===1)this.setBody(L[0],g.addToWorld);else if(L.length>1){var $=l(g);$.parts=L,this.setBody(y.create($),$.addToWorld)}return this},"setFromTileCollision"),setBody:r(function(g,m){return m===void 0&&(m=!0),this.body&&this.removeBody(),this.body=g,this.body.gameObject=this,m&&this.world.add(this.body),this},"setBody"),removeBody:r(function(){return this.body&&(this.world.remove(this.body),this.body.gameObject=void 0,this.body=void 0),this},"removeBody"),destroy:r(function(){this.removeBody(),this.tile.physics.matterBody=void 0,this.removeAllListeners()},"destroy")});n.exports=p},19496:(n,T,i)=>{/**
 * @author       Joachim Grill <joachim@codeandweb.com>
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2018 CodeAndWeb GmbH
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(66280),y=i(22562),c=i(53402),o=i(95540),l=i(41598),a={parseBody:r(function(u,v,d,p){p===void 0&&(p={});for(var g=o(d,"fixtures",[]),m=[],x=0;x<g.length;x++)for(var C=this.parseFixture(g[x]),P=0;P<C.length;P++)m.push(C[P]);var A=c.clone(d,!0);c.extend(A,p,!0),delete A.fixtures,delete A.type;var R=y.create(A);return y.setParts(R,m),y.setPosition(R,{x:u,y:v}),R},"parseBody"),parseFixture:r(function(u){var v=c.extend({},!1,u);delete v.circle,delete v.vertices;var d;if(u.circle){var p=o(u.circle,"x"),g=o(u.circle,"y"),m=o(u.circle,"radius");d=[f.circle(p,g,m,v)]}else u.vertices&&(d=this.parseVertices(u.vertices,v));return d},"parseFixture"),parseVertices:r(function(u,v){v===void 0&&(v={});for(var d=[],p=0;p<u.length;p++)l.clockwiseSort(u[p]),d.push(y.create(c.extend({position:l.centre(u[p]),vertices:u[p]},v)));return f.flagCoincidentParts(d)},"parseVertices")};n.exports=a},85791:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(66280),y=i(22562),c={parseBody:r(function(o,l,a,u){u===void 0&&(u={});var v,d=a.vertices;if(d.length===1)u.vertices=d[0],v=y.create(u),f.flagCoincidentParts(v.parts);else{for(var p=[],g=0;g<d.length;g++){var m=y.create({vertices:d[g]});p.push(m)}f.flagCoincidentParts(p),u.parts=p,v=y.create(u)}return v.label=a.label,y.setPosition(v,{x:o,y:l}),v},"parseBody")};n.exports=c},98713:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(15647),y=i(83419),c=i(69351),o=i(48140),l=i(81388),a=i(1121),u=i(8214),v=i(46975),d=i(53614),p=i(26099),g=i(41598),m=new y({initialize:r(function(C,P,A){A===void 0&&(A={});var R={label:"Pointer Constraint",pointA:{x:0,y:0},pointB:{x:0,y:0},length:.01,stiffness:.1,angularStiffness:1,collisionFilter:{category:1,mask:4294967295,group:0}};this.scene=C,this.world=P,this.camera=null,this.pointer=null,this.active=!0,this.position=new p,this.body=null,this.part=null,this.constraint=o.create(v(A,R)),this.world.on(a.BEFORE_UPDATE,this.update,this),C.sys.input.on(u.POINTER_DOWN,this.onDown,this),C.sys.input.on(u.POINTER_UP,this.onUp,this)},"PointerConstraint"),onDown:r(function(x){this.pointer||(this.pointer=x,this.camera=x.camera)},"onDown"),onUp:r(function(x){x===this.pointer&&(this.pointer=null)},"onUp"),getBody:r(function(x){var C=this.position,P=this.constraint;this.camera.getWorldPoint(x.x,x.y,C);for(var A=c.allBodies(this.world.localWorld),R=0;R<A.length;R++){var L=A[R];if(!L.ignorePointer&&f.contains(L.bounds,C)&&l.canCollide(L.collisionFilter,P.collisionFilter)&&this.hitTestBody(L,C))return this.world.emit(a.DRAG_START,L,this.part,this),!0}return!1},"getBody"),hitTestBody:r(function(x,C){for(var P=this.constraint,A=x.parts.length,R=A>1?1:0,L=R;L<A;L++){var O=x.parts[L];if(g.contains(O.vertices,C))return P.pointA=C,P.pointB={x:C.x-x.position.x,y:C.y-x.position.y},P.bodyB=x,P.angleB=x.angle,d.set(x,!1),this.part=O,this.body=x,!0}return!1},"hitTestBody"),update:r(function(){var x=this.pointer,C=this.body;if(!this.active||!x){C&&this.stopDrag();return}if(!x.isDown&&C){this.stopDrag();return}else if(x.isDown){if(!this.camera||!C&&!this.getBody(x))return;C=this.body;var P=this.position,A=this.constraint;this.camera.getWorldPoint(x.x,x.y,P),A.pointA.x=P.x,A.pointA.y=P.y,d.set(C,!1),this.world.emit(a.DRAG,C,this)}},"update"),stopDrag:r(function(){var x=this.body,C=this.constraint;C.bodyB=null,C.pointB=null,this.pointer=null,this.body=null,this.part=null,x&&this.world.emit(a.DRAG_END,x,this)},"stopDrag"),destroy:r(function(){this.world.removeConstraint(this.constraint),this.pointer=null,this.constraint=null,this.body=null,this.part=null,this.world.off(a.BEFORE_UPDATE,this.update),this.scene.sys.input.off(u.POINTER_DOWN,this.onDown,this),this.scene.sys.input.off(u.POINTER_UP,this.onUp,this)},"destroy")});n.exports=m},68243:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(66280),y=i(22562),c=i(83419),o=i(53402),l=i(69351),a=i(48413),u=i(50792),v=i(1121),d=i(95540),p=i(35154),g=i(22562),m=i(35810),x=i(73834),C=i(4372),P=i(31725),A=new c({Extends:u,initialize:r(function(L,O){u.call(this),this.scene=L,this.engine=a.create(O),this.localWorld=this.engine.world;var w=p(O,"gravity",null);w?this.setGravity(w.x,w.y,w.scale):w===!1&&this.setGravity(0,0,0),this.walls={left:null,right:null,top:null,bottom:null},this.enabled=p(O,"enabled",!0),this.getDelta=p(O,"getDelta",this.update60Hz);var b=d(O,"runner",{}),F=d(b,"fps",!1),M=d(b,"fps",60),I=d(b,"delta",1e3/M),B=d(b,"deltaMin",1e3/M),G=d(b,"deltaMax",1e3/(M*.5));F||(M=1e3/I),this.runner={fps:M,deltaSampleSize:d(b,"deltaSampleSize",60),counterTimestamp:0,frameCounter:0,deltaHistory:[],timePrev:null,timeScalePrev:1,frameRequestId:null,isFixed:d(b,"isFixed",!1),delta:I,deltaMin:B,deltaMax:G},this.autoUpdate=p(O,"autoUpdate",!0);var N=p(O,"debug",!1);if(this.drawDebug=typeof N=="object"?!0:N,this.debugGraphic,this.debugConfig={showAxes:d(N,"showAxes",!1),showAngleIndicator:d(N,"showAngleIndicator",!1),angleColor:d(N,"angleColor",15208787),showBroadphase:d(N,"showBroadphase",!1),broadphaseColor:d(N,"broadphaseColor",16757760),showBounds:d(N,"showBounds",!1),boundsColor:d(N,"boundsColor",16777215),showVelocity:d(N,"showVelocity",!1),velocityColor:d(N,"velocityColor",44783),showCollisions:d(N,"showCollisions",!1),collisionColor:d(N,"collisionColor",16094476),showSeparations:d(N,"showSeparations",!1),separationColor:d(N,"separationColor",16753920),showBody:d(N,"showBody",!0),showStaticBody:d(N,"showStaticBody",!0),showInternalEdges:d(N,"showInternalEdges",!1),renderFill:d(N,"renderFill",!1),renderLine:d(N,"renderLine",!0),fillColor:d(N,"fillColor",1075465),fillOpacity:d(N,"fillOpacity",1),lineColor:d(N,"lineColor",2678297),lineOpacity:d(N,"lineOpacity",1),lineThickness:d(N,"lineThickness",1),staticFillColor:d(N,"staticFillColor",857979),staticLineColor:d(N,"staticLineColor",1255396),showSleeping:d(N,"showSleeping",!1),staticBodySleepOpacity:d(N,"staticBodySleepOpacity",.7),sleepFillColor:d(N,"sleepFillColor",4605510),sleepLineColor:d(N,"sleepLineColor",10066585),showSensors:d(N,"showSensors",!0),sensorFillColor:d(N,"sensorFillColor",857979),sensorLineColor:d(N,"sensorLineColor",1255396),showPositions:d(N,"showPositions",!0),positionSize:d(N,"positionSize",4),positionColor:d(N,"positionColor",14697178),showJoint:d(N,"showJoint",!0),jointColor:d(N,"jointColor",14737474),jointLineOpacity:d(N,"jointLineOpacity",1),jointLineThickness:d(N,"jointLineThickness",2),pinSize:d(N,"pinSize",4),pinColor:d(N,"pinColor",4382944),springColor:d(N,"springColor",14697184),anchorColor:d(N,"anchorColor",15724527),anchorSize:d(N,"anchorSize",4),showConvexHulls:d(N,"showConvexHulls",!1),hullColor:d(N,"hullColor",14091216)},this.drawDebug&&this.createDebugGraphic(),this.setEventsProxy(),d(O,"setBounds",!1)){var z=O.setBounds;if(typeof z=="boolean")this.setBounds();else{var H=d(z,"x",0),$=d(z,"y",0),V=d(z,"width",L.sys.scale.width),Y=d(z,"height",L.sys.scale.height),D=d(z,"thickness",64),U=d(z,"left",!0),W=d(z,"right",!0),k=d(z,"top",!0),X=d(z,"bottom",!0);this.setBounds(H,$,V,Y,D,U,W,k,X)}}},"World"),setCompositeRenderStyle:r(function(R){var L=R.bodies,O=R.constraints,w=R.composites,b,F,M;for(b=0;b<L.length;b++)F=L[b],M=F.render,this.setBodyRenderStyle(F,M.lineColor,M.lineOpacity,M.lineThickness,M.fillColor,M.fillOpacity);for(b=0;b<O.length;b++)F=O[b],M=F.render,this.setConstraintRenderStyle(F,M.lineColor,M.lineOpacity,M.lineThickness,M.pinSize,M.anchorColor,M.anchorSize);for(b=0;b<w.length;b++)F=w[b],this.setCompositeRenderStyle(F);return this},"setCompositeRenderStyle"),setBodyRenderStyle:r(function(R,L,O,w,b,F){var M=R.render,I=this.debugConfig;return M?(L==null&&(L=R.isStatic?I.staticLineColor:I.lineColor),O==null&&(O=I.lineOpacity),w==null&&(w=I.lineThickness),b==null&&(b=R.isStatic?I.staticFillColor:I.fillColor),F==null&&(F=I.fillOpacity),L!==!1&&(M.lineColor=L),O!==!1&&(M.lineOpacity=O),w!==!1&&(M.lineThickness=w),b!==!1&&(M.fillColor=b),F!==!1&&(M.fillOpacity=F),this):this},"setBodyRenderStyle"),setConstraintRenderStyle:r(function(R,L,O,w,b,F,M){var I=R.render,B=this.debugConfig;if(!I)return this;if(L==null){var G=I.type;G==="line"?L=B.jointColor:G==="pin"?L=B.pinColor:G==="spring"&&(L=B.springColor)}return O==null&&(O=B.jointLineOpacity),w==null&&(w=B.jointLineThickness),b==null&&(b=B.pinSize),F==null&&(F=B.anchorColor),M==null&&(M=B.anchorSize),L!==!1&&(I.lineColor=L),O!==!1&&(I.lineOpacity=O),w!==!1&&(I.lineThickness=w),b!==!1&&(I.pinSize=b),F!==!1&&(I.anchorColor=F),M!==!1&&(I.anchorSize=M),this},"setConstraintRenderStyle"),setEventsProxy:r(function(){var R=this,L=this.engine,O=this.localWorld;this.drawDebug&&(m.on(O,"compositeModified",function(w){R.setCompositeRenderStyle(w)}),m.on(O,"beforeAdd",function(w){for(var b=[].concat(w.object),F=0;F<b.length;F++){var M=b[F],I=M.render;M.type==="body"?R.setBodyRenderStyle(M,I.lineColor,I.lineOpacity,I.lineThickness,I.fillColor,I.fillOpacity):M.type==="composite"?R.setCompositeRenderStyle(M):M.type==="constraint"&&R.setConstraintRenderStyle(M,I.lineColor,I.lineOpacity,I.lineThickness,I.pinSize,I.anchorColor,I.anchorSize)}})),m.on(O,"beforeAdd",function(w){R.emit(v.BEFORE_ADD,w)}),m.on(O,"afterAdd",function(w){R.emit(v.AFTER_ADD,w)}),m.on(O,"beforeRemove",function(w){R.emit(v.BEFORE_REMOVE,w)}),m.on(O,"afterRemove",function(w){R.emit(v.AFTER_REMOVE,w)}),m.on(L,"beforeUpdate",function(w){R.emit(v.BEFORE_UPDATE,w)}),m.on(L,"afterUpdate",function(w){R.emit(v.AFTER_UPDATE,w)}),m.on(L,"collisionStart",function(w){var b=w.pairs,F,M;b.length>0&&(F=b[0].bodyA,M=b[0].bodyB),R.emit(v.COLLISION_START,w,F,M)}),m.on(L,"collisionActive",function(w){var b=w.pairs,F,M;b.length>0&&(F=b[0].bodyA,M=b[0].bodyB),R.emit(v.COLLISION_ACTIVE,w,F,M)}),m.on(L,"collisionEnd",function(w){var b=w.pairs,F,M;b.length>0&&(F=b[0].bodyA,M=b[0].bodyB),R.emit(v.COLLISION_END,w,F,M)})},"setEventsProxy"),setBounds:r(function(R,L,O,w,b,F,M,I,B){return R===void 0&&(R=0),L===void 0&&(L=0),O===void 0&&(O=this.scene.sys.scale.width),w===void 0&&(w=this.scene.sys.scale.height),b===void 0&&(b=64),F===void 0&&(F=!0),M===void 0&&(M=!0),I===void 0&&(I=!0),B===void 0&&(B=!0),this.updateWall(F,"left",R-b,L-b,b,w+b*2),this.updateWall(M,"right",R+O,L-b,b,w+b*2),this.updateWall(I,"top",R,L-b,O,b),this.updateWall(B,"bottom",R,L+w,O,b),this},"setBounds"),updateWall:r(function(R,L,O,w,b,F){var M=this.walls[L];R?(M&&C.remove(this.localWorld,M),O+=b/2,w+=F/2,this.walls[L]=this.create(O,w,b,F,{isStatic:!0,friction:0,frictionStatic:0})):(M&&C.remove(this.localWorld,M),this.walls[L]=null)},"updateWall"),createDebugGraphic:r(function(){var R=this.scene.sys.add.graphics({x:0,y:0});return R.setDepth(Number.MAX_VALUE),this.debugGraphic=R,this.drawDebug=!0,R},"createDebugGraphic"),disableGravity:r(function(){return this.localWorld.gravity.x=0,this.localWorld.gravity.y=0,this.localWorld.gravity.scale=0,this},"disableGravity"),setGravity:r(function(R,L,O){return R===void 0&&(R=0),L===void 0&&(L=1),O===void 0&&(O=.001),this.localWorld.gravity.x=R,this.localWorld.gravity.y=L,this.localWorld.gravity.scale=O,this},"setGravity"),create:r(function(R,L,O,w,b){var F=f.rectangle(R,L,O,w,b);return C.add(this.localWorld,F),F},"create"),add:r(function(R){return C.add(this.localWorld,R),this},"add"),remove:r(function(R,L){Array.isArray(R)||(R=[R]);for(var O=0;O<R.length;O++){var w=R[O],b=w.body?w.body:w;l.remove(this.localWorld,b,L)}return this},"remove"),removeConstraint:r(function(R,L){return l.remove(this.localWorld,R,L),this},"removeConstraint"),convertTilemapLayer:r(function(R,L){var O=R.layer,w=R.getTilesWithin(0,0,O.width,O.height,{isColliding:!0});return this.convertTiles(w,L),this},"convertTilemapLayer"),convertTiles:r(function(R,L){if(R.length===0)return this;for(var O=0;O<R.length;O++)new x(this,R[O],L);return this},"convertTiles"),nextGroup:r(function(R){return g.nextGroup(R)},"nextGroup"),nextCategory:r(function(){return g.nextCategory()},"nextCategory"),pause:r(function(){return this.enabled=!1,this.emit(v.PAUSE),this},"pause"),resume:r(function(){return this.enabled=!0,this.emit(v.RESUME),this},"resume"),update:r(function(R,L){if(!(!this.enabled||!this.autoUpdate)){var O=this.engine,w=this.runner,b=O.timing;w.isFixed?L=this.getDelta(R,L):(L=R-w.timePrev||w.delta,w.timePrev=R,w.deltaHistory.push(L),w.deltaHistory=w.deltaHistory.slice(-w.deltaSampleSize),L=Math.min.apply(null,w.deltaHistory),L=L<w.deltaMin?w.deltaMin:L,L=L>w.deltaMax?w.deltaMax:L,w.delta=L),w.timeScalePrev=b.timeScale,w.frameCounter+=1,R-w.counterTimestamp>=1e3&&(w.fps=w.frameCounter*((R-w.counterTimestamp)/1e3),w.counterTimestamp=R,w.frameCounter=0),a.update(O,L)}},"update"),step:r(function(R){a.update(this.engine,R)},"step"),update60Hz:r(function(){return 1e3/60},"update60Hz"),update30Hz:r(function(){return 1e3/30},"update30Hz"),has:r(function(R){var L=R.hasOwnProperty("body")?R.body:R;return l.get(this.localWorld,L.id,L.type)!==null},"has"),getAllBodies:r(function(){return l.allBodies(this.localWorld)},"getAllBodies"),getAllConstraints:r(function(){return l.allConstraints(this.localWorld)},"getAllConstraints"),getAllComposites:r(function(){return l.allComposites(this.localWorld)},"getAllComposites"),postUpdate:r(function(){if(this.drawDebug){var R=this.debugConfig,L=this.engine,O=this.debugGraphic,w=l.allBodies(this.localWorld);this.debugGraphic.clear(),R.showBroadphase&&L.broadphase.controller&&this.renderGrid(L.broadphase,O,R.broadphaseColor,.5),R.showBounds&&this.renderBodyBounds(w,O,R.boundsColor,.5),(R.showBody||R.showStaticBody)&&this.renderBodies(w),R.showJoint&&this.renderJoints(),(R.showAxes||R.showAngleIndicator)&&this.renderBodyAxes(w,O,R.showAxes,R.angleColor,.5),R.showVelocity&&this.renderBodyVelocity(w,O,R.velocityColor,1,2),R.showSeparations&&this.renderSeparations(L.pairs.list,O,R.separationColor),R.showCollisions&&this.renderCollisions(L.pairs.list,O,R.collisionColor)}},"postUpdate"),renderGrid:r(function(R,L,O,w){L.lineStyle(1,O,w);for(var b=o.keys(R.buckets),F=0;F<b.length;F++){var M=b[F];if(!(R.buckets[M].length<2)){var I=M.split(/C|R/);L.strokeRect(parseInt(I[1],10)*R.bucketWidth,parseInt(I[2],10)*R.bucketHeight,R.bucketWidth,R.bucketHeight)}}return this},"renderGrid"),renderSeparations:r(function(R,L,O){L.lineStyle(1,O,1);for(var w=0;w<R.length;w++){var b=R[w];if(b.isActive){var F=b.collision,M=F.bodyA,I=F.bodyB,B=M.position,G=I.position,N=F.penetration,z=!M.isStatic&&!I.isStatic?4:1;I.isStatic&&(z=0),L.lineBetween(G.x,G.y,G.x-N.x*z,G.y-N.y*z),z=!M.isStatic&&!I.isStatic?4:1,M.isStatic&&(z=0),L.lineBetween(B.x,B.y,B.x-N.x*z,B.y-N.y*z)}}return this},"renderSeparations"),renderCollisions:r(function(R,L,O){L.lineStyle(1,O,.5),L.fillStyle(O,1);var w,b;for(w=0;w<R.length;w++)if(b=R[w],!!b.isActive)for(var F=0;F<b.activeContacts.length;F++){var M=b.activeContacts[F],I=M.vertex;L.fillRect(I.x-2,I.y-2,5,5)}for(w=0;w<R.length;w++)if(b=R[w],!!b.isActive){var B=b.collision,G=b.activeContacts;if(G.length>0){var N=G[0].vertex.x,z=G[0].vertex.y;G.length===2&&(N=(G[0].vertex.x+G[1].vertex.x)/2,z=(G[0].vertex.y+G[1].vertex.y)/2),B.bodyB===B.supports[0].body||B.bodyA.isStatic?L.lineBetween(N-B.normal.x*8,z-B.normal.y*8,N,z):L.lineBetween(N+B.normal.x*8,z+B.normal.y*8,N,z)}}return this},"renderCollisions"),renderBodyBounds:r(function(R,L,O,w){L.lineStyle(1,O,w);for(var b=0;b<R.length;b++){var F=R[b];if(F.render.visible){var M=F.bounds;if(M)L.strokeRect(M.min.x,M.min.y,M.max.x-M.min.x,M.max.y-M.min.y);else for(var I=F.parts,B=I.length>1?1:0;B<I.length;B++){var G=I[B];L.strokeRect(G.bounds.min.x,G.bounds.min.y,G.bounds.max.x-G.bounds.min.x,G.bounds.max.y-G.bounds.min.y)}}}return this},"renderBodyBounds"),renderBodyAxes:r(function(R,L,O,w,b){L.lineStyle(1,w,b);for(var F=0;F<R.length;F++){var M=R[F],I=M.parts;if(M.render.visible){var B,G,N;if(O)for(G=I.length>1?1:0;G<I.length;G++)for(B=I[G],N=0;N<B.axes.length;N++){var z=B.axes[N];L.lineBetween(B.position.x,B.position.y,B.position.x+z.x*20,B.position.y+z.y*20)}else for(G=I.length>1?1:0;G<I.length;G++)for(B=I[G],N=0;N<B.axes.length;N++)L.lineBetween(B.position.x,B.position.y,(B.vertices[0].x+B.vertices[B.vertices.length-1].x)/2,(B.vertices[0].y+B.vertices[B.vertices.length-1].y)/2)}}return this},"renderBodyAxes"),renderBodyVelocity:r(function(R,L,O,w,b){L.lineStyle(b,O,w);for(var F=0;F<R.length;F++){var M=R[F];M.render.visible&&L.lineBetween(M.position.x,M.position.y,M.position.x+(M.position.x-M.positionPrev.x)*2,M.position.y+(M.position.y-M.positionPrev.y)*2)}return this},"renderBodyVelocity"),renderBodies:r(function(R){for(var L=this.debugGraphic,O=this.debugConfig,w=O.showBody,b=O.showStaticBody,F=O.showSleeping,M=O.showInternalEdges,I=O.showConvexHulls,B=O.renderFill,G=O.renderLine,N=O.staticBodySleepOpacity,z=O.sleepFillColor,H=O.sleepLineColor,$=O.hullColor,V=0;V<R.length;V++){var Y=R[V];if(Y.render.visible&&!(!b&&Y.isStatic||!w&&!Y.isStatic)){var D=Y.render.lineColor,U=Y.render.lineOpacity,W=Y.render.lineThickness,k=Y.render.fillColor,X=Y.render.fillOpacity;F&&Y.isSleeping&&(Y.isStatic?(U*=N,X*=N):(D=H,k=z)),B||(k=null),G||(D=null),this.renderBody(Y,L,M,D,U,W,k,X);var K=Y.parts.length;I&&K>1&&this.renderConvexHull(Y,L,$,W)}}},"renderBodies"),renderBody:r(function(R,L,O,w,b,F,M,I){w===void 0&&(w=null),b===void 0&&(b=null),F===void 0&&(F=1),M===void 0&&(M=null),I===void 0&&(I=null);for(var B=this.debugConfig,G=B.sensorFillColor,N=B.sensorLineColor,z=R.parts,H=z.length,$=H>1?1:0;$<H;$++){var V=z[$],Y=V.render,D=Y.opacity;if(!(!Y.visible||D===0||V.isSensor&&!B.showSensors)){var U=V.circleRadius;if(L.beginPath(),V.isSensor?(M!==null&&L.fillStyle(G,I*D),w!==null&&L.lineStyle(F,N,b*D)):(M!==null&&L.fillStyle(M,I*D),w!==null&&L.lineStyle(F,w,b*D)),U)L.arc(V.position.x,V.position.y,U,0,2*Math.PI);else{var W=V.vertices,k=W.length;L.moveTo(W[0].x,W[0].y);for(var X=1;X<k;X++){var K=W[X];if(!W[X-1].isInternal||O?L.lineTo(K.x,K.y):L.moveTo(K.x,K.y),X<k&&K.isInternal&&!O){var Z=(X+1)%k;L.moveTo(W[Z].x,W[Z].y)}}L.closePath()}M!==null&&L.fillPath(),w!==null&&L.strokePath()}}if(B.showPositions&&!R.isStatic){var J=R.position.x,Q=R.position.y,j=Math.ceil(B.positionSize/2);L.fillStyle(B.positionColor,1),L.fillRect(J-j,Q-j,B.positionSize,B.positionSize)}return this},"renderBody"),renderConvexHull:r(function(R,L,O,w){w===void 0&&(w=1);var b=R.parts,F=b.length;if(F>1){var M=R.vertices;L.lineStyle(w,O),L.beginPath(),L.moveTo(M[0].x,M[0].y);for(var I=1;I<M.length;I++)L.lineTo(M[I].x,M[I].y);L.lineTo(M[0].x,M[0].y),L.strokePath()}return this},"renderConvexHull"),renderJoints:r(function(){for(var R=this.debugGraphic,L=l.allConstraints(this.localWorld),O=0;O<L.length;O++){var w=L[O].render,b=w.lineColor,F=w.lineOpacity,M=w.lineThickness,I=w.pinSize,B=w.anchorColor,G=w.anchorSize;this.renderConstraint(L[O],R,b,F,M,I,B,G)}},"renderJoints"),renderConstraint:r(function(R,L,O,w,b,F,M,I){var B=R.render;if(!B.visible||!R.pointA||!R.pointB)return this;L.lineStyle(b,O,w);var G=R.bodyA,N=R.bodyB,z,H;if(G?z=P.add(G.position,R.pointA):z=R.pointA,B.type==="pin")L.strokeCircle(z.x,z.y,F);else{if(N?H=P.add(N.position,R.pointB):H=R.pointB,L.beginPath(),L.moveTo(z.x,z.y),B.type==="spring")for(var $=P.sub(H,z),V=P.perp(P.normalise($)),Y=Math.ceil(o.clamp(R.length/5,12,20)),D,U=1;U<Y;U+=1)D=U%2===0?1:-1,L.lineTo(z.x+$.x*(U/Y)+V.x*D*4,z.y+$.y*(U/Y)+V.y*D*4);L.lineTo(H.x,H.y)}return L.strokePath(),B.anchors&&I>0&&(L.fillStyle(M),L.fillCircle(z.x,z.y,I),L.fillCircle(H.x,H.y,I)),this},"renderConstraint"),resetCollisionIDs:r(function(){return y._nextCollidingGroupId=1,y._nextNonCollidingGroupId=-1,y._nextCategory=1,this},"resetCollisionIDs"),shutdown:r(function(){m.off(this.engine),this.removeAllListeners(),C.clear(this.localWorld,!1),a.clear(this.engine),this.drawDebug&&this.debugGraphic.destroy()},"shutdown"),destroy:r(function(){this.shutdown()},"destroy")});n.exports=A},70410:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={setBounce:r(function(i){return this.body.restitution=i,this},"setBounce")};n.exports=T},66968:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={setCollisionCategory:r(function(i){return this.body.collisionFilter.category=i,this},"setCollisionCategory"),setCollisionGroup:r(function(i){return this.body.collisionFilter.group=i,this},"setCollisionGroup"),setCollidesWith:r(function(i){var f=0;if(!Array.isArray(i))f=i;else for(var y=0;y<i.length;y++)f|=i[y];return this.body.collisionFilter.mask=f,this},"setCollidesWith"),setOnCollide:r(function(i){return this.body.onCollideCallback=i,this},"setOnCollide"),setOnCollideEnd:r(function(i){return this.body.onCollideEndCallback=i,this},"setOnCollideEnd"),setOnCollideActive:r(function(i){return this.body.onCollideActiveCallback=i,this},"setOnCollideActive"),setOnCollideWith:r(function(i,f){Array.isArray(i)||(i=[i]);for(var y=0;y<i.length;y++){var c=i[y].hasOwnProperty("body")?i[y].body:i[y];this.body.setOnCollideWith(c,f)}return this},"setOnCollideWith")};n.exports=T},51607:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(22562),y={applyForce:r(function(c){return this._tempVec2.set(this.body.position.x,this.body.position.y),f.applyForce(this.body,this._tempVec2,c),this},"applyForce"),applyForceFrom:r(function(c,o){return f.applyForce(this.body,c,o),this},"applyForceFrom"),thrust:r(function(c){var o=this.body.angle;return this._tempVec2.set(c*Math.cos(o),c*Math.sin(o)),f.applyForce(this.body,{x:this.body.position.x,y:this.body.position.y},this._tempVec2),this},"thrust"),thrustLeft:r(function(c){var o=this.body.angle-Math.PI/2;return this._tempVec2.set(c*Math.cos(o),c*Math.sin(o)),f.applyForce(this.body,{x:this.body.position.x,y:this.body.position.y},this._tempVec2),this},"thrustLeft"),thrustRight:r(function(c){var o=this.body.angle+Math.PI/2;return this._tempVec2.set(c*Math.cos(o),c*Math.sin(o)),f.applyForce(this.body,{x:this.body.position.x,y:this.body.position.y},this._tempVec2),this},"thrustRight"),thrustBack:r(function(c){var o=this.body.angle-Math.PI;return this._tempVec2.set(c*Math.cos(o),c*Math.sin(o)),f.applyForce(this.body,{x:this.body.position.x,y:this.body.position.y},this._tempVec2),this},"thrustBack")};n.exports=y},5436:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={setFriction:r(function(i,f,y){return this.body.friction=i,f!==void 0&&(this.body.frictionAir=f),y!==void 0&&(this.body.frictionStatic=y),this},"setFriction"),setFrictionAir:r(function(i){return this.body.frictionAir=i,this},"setFrictionAir"),setFrictionStatic:r(function(i){return this.body.frictionStatic=i,this},"setFrictionStatic")};n.exports=T},39858:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={setIgnoreGravity:r(function(i){return this.body.ignoreGravity=i,this},"setIgnoreGravity")};n.exports=T},37302:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(22562),y=i(26099),c={setMass:r(function(o){return f.setMass(this.body,o),this},"setMass"),setDensity:r(function(o){return f.setDensity(this.body,o),this},"setDensity"),centerOfMass:{get:r(function(){return new y(this.body.centerOfMass.x,this.body.centerOfMass.y)},"get")}};n.exports=c},39132:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={setSensor:r(function(i){return this.body.isSensor=i,this},"setSensor"),isSensor:r(function(){return this.body.isSensor},"isSensor")};n.exports=T},57772:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(66280),y=i(22562),c=i(43855),o=i(95540),l=i(19496),a=i(85791),u=i(41598),v={setRectangle:r(function(d,p,g){return this.setBody({type:"rectangle",width:d,height:p},g)},"setRectangle"),setCircle:r(function(d,p){return this.setBody({type:"circle",radius:d},p)},"setCircle"),setPolygon:r(function(d,p,g){return this.setBody({type:"polygon",sides:p,radius:d},g)},"setPolygon"),setTrapezoid:r(function(d,p,g,m){return this.setBody({type:"trapezoid",width:d,height:p,slope:g},m)},"setTrapezoid"),setExistingBody:r(function(d,p){p===void 0&&(p=!0),this.body&&this.world.remove(this.body,!0),this.body=d;for(var g=0;g<d.parts.length;g++)d.parts[g].gameObject=this;var m=this;if(d.destroy=r(function(){m.world.remove(m.body,!0),m.body.gameObject=null},"destroy"),p&&(this.world.has(d)&&this.world.remove(d,!0),this.world.add(d)),this._originComponent){var x=d.render.sprite.xOffset,C=d.render.sprite.yOffset,P=d.centerOfMass.x,A=d.centerOfMass.y;if(c(P,.5)&&c(A,.5))this.setOrigin(x+.5,C+.5);else{var R=d.centerOffset.x,L=d.centerOffset.y;this.setOrigin(x+R/this.displayWidth,C+L/this.displayHeight)}}return this},"setExistingBody"),setBody:r(function(d,p){if(!d)return this;var g;typeof d=="string"&&(d={type:d});var m=o(d,"type","rectangle"),x=o(d,"x",this._tempVec2.x),C=o(d,"y",this._tempVec2.y),P=o(d,"width",this.width),A=o(d,"height",this.height);switch(m){case"rectangle":g=f.rectangle(x,C,P,A,p);break;case"circle":var R=o(d,"radius",Math.max(P,A)/2),L=o(d,"maxSides",25);g=f.circle(x,C,R,p,L);break;case"trapezoid":var O=o(d,"slope",.5);g=f.trapezoid(x,C,P,A,O,p);break;case"polygon":var w=o(d,"sides",5),b=o(d,"radius",Math.max(P,A)/2);g=f.polygon(x,C,w,b,p);break;case"fromVertices":case"fromVerts":var F=o(d,"verts",null);if(F)if(typeof F=="string"&&(F=u.fromPath(F)),this.body&&!this.body.hasOwnProperty("temp"))y.setVertices(this.body,F),g=this.body;else{var M=o(d,"flagInternal",!1),I=o(d,"removeCollinear",.01),B=o(d,"minimumArea",10);g=f.fromVertices(x,C,F,p,M,I,B)}break;case"fromPhysicsEditor":g=l.parseBody(x,C,d,p);break;case"fromPhysicsTracer":g=a.parseBody(x,C,d,p);break}return g&&this.setExistingBody(g,d.addToWorld),this},"setBody")};n.exports=v},38083:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(1121),y=i(53614),c=i(35810),o={setToSleep:r(function(){return y.set(this.body,!0),this},"setToSleep"),setAwake:r(function(){return y.set(this.body,!1),this},"setAwake"),setSleepThreshold:r(function(l){return l===void 0&&(l=60),this.body.sleepThreshold=l,this},"setSleepThreshold"),setSleepEvents:r(function(l,a){return this.setSleepStartEvent(l),this.setSleepEndEvent(a),this},"setSleepEvents"),setSleepStartEvent:r(function(l){if(l){var a=this.world;c.on(this.body,"sleepStart",function(u){a.emit(f.SLEEP_START,u,this)})}else c.off(this.body,"sleepStart");return this},"setSleepStartEvent"),setSleepEndEvent:r(function(l){if(l){var a=this.world;c.on(this.body,"sleepEnd",function(u){a.emit(f.SLEEP_END,u,this)})}else c.off(this.body,"sleepEnd");return this},"setSleepEndEvent")};n.exports=o},90556:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(22562),y={setStatic:r(function(c){return f.setStatic(this.body,c),this},"setStatic"),isStatic:r(function(){return this.body.isStatic},"isStatic")};n.exports=y},85436:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(22562),y=i(36383),c=i(86554),o=i(30954),l=4,a={x:{get:r(function(){return this.body.position.x},"get"),set:r(function(u){this._tempVec2.set(u,this.y),f.setPosition(this.body,this._tempVec2)},"set")},y:{get:r(function(){return this.body.position.y},"get"),set:r(function(u){this._tempVec2.set(this.x,u),f.setPosition(this.body,this._tempVec2)},"set")},scaleX:{get:r(function(){return this._scaleX},"get"),set:r(function(u){var v=1/this._scaleX,d=1/this._scaleY;this._scaleX=u,this._scaleX===0?this.renderFlags&=~l:this.renderFlags|=l,f.scale(this.body,v,d),f.scale(this.body,u,this._scaleY)},"set")},scaleY:{get:r(function(){return this._scaleY},"get"),set:r(function(u){var v=1/this._scaleX,d=1/this._scaleY;this._scaleY=u,this._scaleY===0?this.renderFlags&=~l:this.renderFlags|=l,f.scale(this.body,v,d),f.scale(this.body,this._scaleX,u)},"set")},angle:{get:r(function(){return o(this.body.angle*y.RAD_TO_DEG)},"get"),set:r(function(u){this.rotation=o(u)*y.DEG_TO_RAD},"set")},rotation:{get:r(function(){return this.body.angle},"get"),set:r(function(u){this._rotation=c(u),f.setAngle(this.body,this._rotation)},"set")},setPosition:r(function(u,v){return u===void 0&&(u=0),v===void 0&&(v=u),this._tempVec2.set(u,v),f.setPosition(this.body,this._tempVec2),this},"setPosition"),setRotation:r(function(u){return u===void 0&&(u=0),this._rotation=c(u),f.setAngle(this.body,u),this},"setRotation"),setFixedRotation:r(function(){return f.setInertia(this.body,1/0),this},"setFixedRotation"),setAngle:r(function(u){return u===void 0&&(u=0),this.angle=u,f.setAngle(this.body,this.rotation),this},"setAngle"),setScale:r(function(u,v,d){u===void 0&&(u=1),v===void 0&&(v=u);var p=1/this._scaleX,g=1/this._scaleY;return this._scaleX=u,this._scaleY=v,f.scale(this.body,p,g,d),f.scale(this.body,u,v,d),this},"setScale")};n.exports=a},42081:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(22562),y={setVelocityX:r(function(c){return this._tempVec2.set(c,this.body.velocity.y),f.setVelocity(this.body,this._tempVec2),this},"setVelocityX"),setVelocityY:r(function(c){return this._tempVec2.set(this.body.velocity.x,c),f.setVelocity(this.body,this._tempVec2),this},"setVelocityY"),setVelocity:r(function(c,o){return this._tempVec2.set(c,o),f.setVelocity(this.body,this._tempVec2),this},"setVelocity"),getVelocity:r(function(){return f.getVelocity(this.body)},"getVelocity"),setAngularVelocity:r(function(c){return f.setAngularVelocity(this.body,c),this},"setAngularVelocity"),getAngularVelocity:r(function(){return f.getAngularVelocity(this.body)},"getAngularVelocity"),setAngularSpeed:r(function(c){return f.setAngularSpeed(this.body,c),this},"setAngularSpeed"),getAngularSpeed:r(function(){return f.getAngularSpeed(this.body)},"getAngularSpeed")};n.exports=y},31884:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={Bounce:i(70410),Collision:i(66968),Force:i(51607),Friction:i(5436),Gravity:i(39858),Mass:i(37302),Sensor:i(39132),SetBody:i(57772),Sleep:i(38083),Static:i(90556),Transform:i(85436),Velocity:i(42081)}},85608:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="afteradd"},1213:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="afterremove"},25968:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="afterupdate"},67205:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="beforeadd"},39438:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="beforeremove"},44823:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="beforeupdate"},92593:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="collisionactive"},60128:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="collisionend"},76861:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="collisionstart"},92362:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="dragend"},76408:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="drag"},93971:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="dragstart"},5656:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="pause"},47861:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="resume"},79099:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="sleepend"},35906:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="sleepstart"},1121:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={AFTER_ADD:i(85608),AFTER_REMOVE:i(1213),AFTER_UPDATE:i(25968),BEFORE_ADD:i(67205),BEFORE_REMOVE:i(39438),BEFORE_UPDATE:i(44823),COLLISION_ACTIVE:i(92593),COLLISION_END:i(60128),COLLISION_START:i(76861),DRAG_END:i(92362),DRAG:i(76408),DRAG_START:i(93971),PAUSE:i(5656),RESUME:i(47861),SLEEP_END:i(79099),SLEEP_START:i(35906)}},3875:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={BodyBounds:i(68174),Components:i(31884),Events:i(1121),Factory:i(28137),MatterGameObject:i(75803),Image:i(23181),Matter:i(19933),MatterPhysics:i(42045),PolyDecomp:i(55973),Sprite:i(34803),TileBody:i(73834),PhysicsEditorParser:i(19496),PhysicsJSONParser:i(85791),PointerConstraint:i(98713),World:i(68243)}},22562:(n,T,i)=>{var f={};n.exports=f;var y=i(41598),c=i(31725),o=i(53614),l=i(53402),a=i(15647),u=i(66615);(function(){f._timeCorrection=!0,f._inertiaScale=4,f._nextCollidingGroupId=1,f._nextNonCollidingGroupId=-1,f._nextCategory=1,f._baseDelta=16.666666666666668,f.create=function(d){var p={id:l.nextId(),type:"body",label:"Body",parts:[],plugin:{},angle:0,vertices:null,position:{x:0,y:0},force:{x:0,y:0},torque:0,positionImpulse:{x:0,y:0},constraintImpulse:{x:0,y:0,angle:0},totalContacts:0,speed:0,angularSpeed:0,velocity:{x:0,y:0},angularVelocity:0,isSensor:!1,isStatic:!1,isSleeping:!1,motion:0,sleepThreshold:60,density:.001,restitution:0,friction:.1,frictionStatic:.5,frictionAir:.01,collisionFilter:{category:1,mask:4294967295,group:0},slop:.05,timeScale:1,events:null,bounds:null,chamfer:null,circleRadius:0,positionPrev:null,anglePrev:0,parent:null,axes:null,area:0,mass:0,inverseMass:0,inertia:0,deltaTime:16.666666666666668,inverseInertia:0,_original:null,render:{visible:!0,opacity:1,sprite:{xOffset:0,yOffset:0},fillColor:null,fillOpacity:null,lineColor:null,lineOpacity:null,lineThickness:null},gameObject:null,scale:{x:1,y:1},centerOfMass:{x:0,y:0},centerOffset:{x:0,y:0},gravityScale:{x:1,y:1},ignoreGravity:!1,ignorePointer:!1,onCollideCallback:null,onCollideEndCallback:null,onCollideActiveCallback:null,onCollideWith:{}};!d.hasOwnProperty("position")&&d.hasOwnProperty("vertices")?d.position=y.centre(d.vertices):d.hasOwnProperty("vertices")||(p.vertices=y.fromPath("L 0 0 L 40 0 L 40 40 L 0 40"));var g=l.extend(p,d);return v(g,d),g.setOnCollideWith=function(m,x){return x?this.onCollideWith[m.id]=x:delete this.onCollideWith[m.id],this},g},f.nextGroup=function(d){return d?f._nextNonCollidingGroupId--:f._nextCollidingGroupId++},f.nextCategory=function(){return f._nextCategory=f._nextCategory<<1,f._nextCategory};var v=r(function(d,p){if(p=p||{},f.set(d,{bounds:d.bounds||a.create(d.vertices),positionPrev:d.positionPrev||c.clone(d.position),anglePrev:d.anglePrev||d.angle,vertices:d.vertices,parts:d.parts||[d],isStatic:d.isStatic,isSleeping:d.isSleeping,parent:d.parent||d}),y.rotate(d.vertices,d.angle,d.position),u.rotate(d.axes,d.angle),a.update(d.bounds,d.vertices,d.velocity),f.set(d,{axes:p.axes||d.axes,area:p.area||d.area,mass:p.mass||d.mass,inertia:p.inertia||d.inertia}),d.parts.length===1){var g=d.bounds,m=d.centerOfMass,x=d.centerOffset,C=g.max.x-g.min.x,P=g.max.y-g.min.y;m.x=-(g.min.x-d.position.x)/C,m.y=-(g.min.y-d.position.y)/P,x.x=C*m.x,x.y=P*m.y}},"_initProperties");f.set=function(d,p,g){var m;typeof p=="string"&&(m=p,p={},p[m]=g);for(m in p)if(Object.prototype.hasOwnProperty.call(p,m))switch(g=p[m],m){case"isStatic":f.setStatic(d,g);break;case"isSleeping":o.set(d,g);break;case"mass":f.setMass(d,g);break;case"density":f.setDensity(d,g);break;case"inertia":f.setInertia(d,g);break;case"vertices":f.setVertices(d,g);break;case"position":f.setPosition(d,g);break;case"angle":f.setAngle(d,g);break;case"velocity":f.setVelocity(d,g);break;case"angularVelocity":f.setAngularVelocity(d,g);break;case"speed":f.setSpeed(d,g);break;case"angularSpeed":f.setAngularSpeed(d,g);break;case"parts":f.setParts(d,g);break;case"centre":f.setCentre(d,g);break;default:d[m]=g}},f.setStatic=function(d,p){for(var g=0;g<d.parts.length;g++){var m=d.parts[g];p?(m.isStatic||(m._original={restitution:m.restitution,friction:m.friction,mass:m.mass,inertia:m.inertia,density:m.density,inverseMass:m.inverseMass,inverseInertia:m.inverseInertia}),m.restitution=0,m.friction=1,m.mass=m.inertia=m.density=1/0,m.inverseMass=m.inverseInertia=0,m.positionPrev.x=m.position.x,m.positionPrev.y=m.position.y,m.anglePrev=m.angle,m.angularVelocity=0,m.speed=0,m.angularSpeed=0,m.motion=0):m._original&&(m.restitution=m._original.restitution,m.friction=m._original.friction,m.mass=m._original.mass,m.inertia=m._original.inertia,m.density=m._original.density,m.inverseMass=m._original.inverseMass,m.inverseInertia=m._original.inverseInertia,m._original=null),m.isStatic=p}},f.setMass=function(d,p){var g=d.inertia/(d.mass/6);d.inertia=g*(p/6),d.inverseInertia=1/d.inertia,d.mass=p,d.inverseMass=1/d.mass,d.density=d.mass/d.area},f.setDensity=function(d,p){f.setMass(d,p*d.area),d.density=p},f.setInertia=function(d,p){d.inertia=p,d.inverseInertia=1/d.inertia},f.setVertices=function(d,p){p[0].body===d?d.vertices=p:d.vertices=y.create(p,d),d.axes=u.fromVertices(d.vertices),d.area=y.area(d.vertices),f.setMass(d,d.density*d.area);var g=y.centre(d.vertices);y.translate(d.vertices,g,-1),f.setInertia(d,f._inertiaScale*y.inertia(d.vertices,d.mass)),y.translate(d.vertices,d.position),a.update(d.bounds,d.vertices,d.velocity)},f.setParts=function(d,p,g){var m;for(p=p.slice(0),d.parts.length=0,d.parts.push(d),d.parent=d,m=0;m<p.length;m++){var x=p[m];x!==d&&(x.parent=d,d.parts.push(x))}if(d.parts.length!==1){if(g=typeof g<"u"?g:!0,g){var C=[];for(m=0;m<p.length;m++)C=C.concat(p[m].vertices);y.clockwiseSort(C);var P=y.hull(C),A=y.centre(P);f.setVertices(d,P),y.translate(d.vertices,A)}var R=f._totalProperties(d),L=R.centre.x,O=R.centre.y,w=d.bounds,b=d.centerOfMass,F=d.centerOffset;a.update(w,d.vertices,d.velocity),b.x=-(w.min.x-L)/(w.max.x-w.min.x),b.y=-(w.min.y-O)/(w.max.y-w.min.y),F.x=L,F.y=O,d.area=R.area,d.parent=d,d.position.x=L,d.position.y=O,d.positionPrev.x=L,d.positionPrev.y=O,f.setMass(d,R.mass),f.setInertia(d,R.inertia),f.setPosition(d,R.centre)}},f.setCentre=function(d,p,g){g?(d.positionPrev.x+=p.x,d.positionPrev.y+=p.y,d.position.x+=p.x,d.position.y+=p.y):(d.positionPrev.x=p.x-(d.position.x-d.positionPrev.x),d.positionPrev.y=p.y-(d.position.y-d.positionPrev.y),d.position.x=p.x,d.position.y=p.y)},f.setPosition=function(d,p,g){var m=c.sub(p,d.position);g?(d.positionPrev.x=d.position.x,d.positionPrev.y=d.position.y,d.velocity.x=m.x,d.velocity.y=m.y,d.speed=c.magnitude(m)):(d.positionPrev.x+=m.x,d.positionPrev.y+=m.y);for(var x=0;x<d.parts.length;x++){var C=d.parts[x];C.position.x+=m.x,C.position.y+=m.y,y.translate(C.vertices,m),a.update(C.bounds,C.vertices,d.velocity)}},f.setAngle=function(d,p,g){var m=p-d.angle;g?(d.anglePrev=d.angle,d.angularVelocity=m,d.angularSpeed=Math.abs(m)):d.anglePrev+=m;for(var x=0;x<d.parts.length;x++){var C=d.parts[x];C.angle+=m,y.rotate(C.vertices,m,d.position),u.rotate(C.axes,m),a.update(C.bounds,C.vertices,d.velocity),x>0&&c.rotateAbout(C.position,m,d.position,C.position)}},f.setVelocity=function(d,p){var g=d.deltaTime/f._baseDelta;d.positionPrev.x=d.position.x-p.x*g,d.positionPrev.y=d.position.y-p.y*g,d.velocity.x=(d.position.x-d.positionPrev.x)/g,d.velocity.y=(d.position.y-d.positionPrev.y)/g,d.speed=c.magnitude(d.velocity)},f.getVelocity=function(d){var p=f._baseDelta/d.deltaTime;return{x:(d.position.x-d.positionPrev.x)*p,y:(d.position.y-d.positionPrev.y)*p}},f.getSpeed=function(d){return c.magnitude(f.getVelocity(d))},f.setSpeed=function(d,p){f.setVelocity(d,c.mult(c.normalise(f.getVelocity(d)),p))},f.setAngularVelocity=function(d,p){var g=d.deltaTime/f._baseDelta;d.anglePrev=d.angle-p*g,d.angularVelocity=(d.angle-d.anglePrev)/g,d.angularSpeed=Math.abs(d.angularVelocity)},f.getAngularVelocity=function(d){return(d.angle-d.anglePrev)*f._baseDelta/d.deltaTime},f.getAngularSpeed=function(d){return Math.abs(f.getAngularVelocity(d))},f.setAngularSpeed=function(d,p){f.setAngularVelocity(d,l.sign(f.getAngularVelocity(d))*p)},f.translate=function(d,p,g){f.setPosition(d,c.add(d.position,p),g)},f.rotate=function(d,p,g,m){if(!g)f.setAngle(d,d.angle+p,m);else{var x=Math.cos(p),C=Math.sin(p),P=d.position.x-g.x,A=d.position.y-g.y;f.setPosition(d,{x:g.x+(P*x-A*C),y:g.y+(P*C+A*x)},m),f.setAngle(d,d.angle+p,m)}},f.scale=function(d,p,g,m){var x=0,C=0;m=m||d.position;for(var P=d.inertia===1/0,A=0;A<d.parts.length;A++){var R=d.parts[A];R.scale.x=p,R.scale.y=g,y.scale(R.vertices,p,g,m),R.axes=u.fromVertices(R.vertices),R.area=y.area(R.vertices),f.setMass(R,d.density*R.area),y.translate(R.vertices,{x:-R.position.x,y:-R.position.y}),f.setInertia(R,f._inertiaScale*y.inertia(R.vertices,R.mass)),y.translate(R.vertices,{x:R.position.x,y:R.position.y}),A>0&&(x+=R.area,C+=R.inertia),R.position.x=m.x+(R.position.x-m.x)*p,R.position.y=m.y+(R.position.y-m.y)*g,a.update(R.bounds,R.vertices,d.velocity)}d.parts.length>1&&(d.area=x,d.isStatic||(f.setMass(d,d.density*x),f.setInertia(d,C))),d.circleRadius&&(p===g?d.circleRadius*=p:d.circleRadius=null),P&&f.setInertia(d,1/0)},f.update=function(d,p){p=(typeof p<"u"?p:16.666666666666668)*d.timeScale;var g=p*p,m=f._timeCorrection?p/(d.deltaTime||p):1,x=1-d.frictionAir*(p/l._baseDelta),C=(d.position.x-d.positionPrev.x)*m,P=(d.position.y-d.positionPrev.y)*m;d.velocity.x=C*x+d.force.x/d.mass*g,d.velocity.y=P*x+d.force.y/d.mass*g,d.positionPrev.x=d.position.x,d.positionPrev.y=d.position.y,d.position.x+=d.velocity.x,d.position.y+=d.velocity.y,d.deltaTime=p,d.angularVelocity=(d.angle-d.anglePrev)*x*m+d.torque/d.inertia*g,d.anglePrev=d.angle,d.angle+=d.angularVelocity,d.speed=c.magnitude(d.velocity),d.angularSpeed=Math.abs(d.angularVelocity);for(var A=0;A<d.parts.length;A++){var R=d.parts[A];y.translate(R.vertices,d.velocity),A>0&&(R.position.x+=d.velocity.x,R.position.y+=d.velocity.y),d.angularVelocity!==0&&(y.rotate(R.vertices,d.angularVelocity,d.position),u.rotate(R.axes,d.angularVelocity),A>0&&c.rotateAbout(R.position,d.angularVelocity,d.position,R.position)),a.update(R.bounds,R.vertices,d.velocity)}},f.updateVelocities=function(d){var p=f._baseDelta/d.deltaTime,g=d.velocity;g.x=(d.position.x-d.positionPrev.x)*p,g.y=(d.position.y-d.positionPrev.y)*p,d.speed=Math.sqrt(g.x*g.x+g.y*g.y),d.angularVelocity=(d.angle-d.anglePrev)*p,d.angularSpeed=Math.abs(d.angularVelocity)},f.applyForce=function(d,p,g){var m={x:p.x-d.position.x,y:p.y-d.position.y};d.force.x+=g.x,d.force.y+=g.y,d.torque+=m.x*g.y-m.y*g.x},f._totalProperties=function(d){for(var p={mass:0,area:0,inertia:0,centre:{x:0,y:0}},g=d.parts.length===1?0:1;g<d.parts.length;g++){var m=d.parts[g],x=m.mass!==1/0?m.mass:1;p.mass+=x,p.area+=m.area,p.inertia+=m.inertia,p.centre=c.add(p.centre,c.mult(m.position,x))}return p.centre=c.div(p.centre,p.mass),p}})()},69351:(n,T,i)=>{var f={};n.exports=f;var y=i(35810),c=i(53402),o=i(15647),l=i(22562);(function(){f.create=function(a){return c.extend({id:c.nextId(),type:"composite",parent:null,isModified:!1,bodies:[],constraints:[],composites:[],label:"Composite",plugin:{},cache:{allBodies:null,allConstraints:null,allComposites:null}},a)},f.setModified=function(a,u,v,d){if(y.trigger(a,"compositeModified",a),a.isModified=u,u&&a.cache&&(a.cache.allBodies=null,a.cache.allConstraints=null,a.cache.allComposites=null),v&&a.parent&&f.setModified(a.parent,u,v,d),d)for(var p=0;p<a.composites.length;p++){var g=a.composites[p];f.setModified(g,u,v,d)}},f.add=function(a,u){var v=[].concat(u);y.trigger(a,"beforeAdd",{object:u});for(var d=0;d<v.length;d++){var p=v[d];switch(p.type){case"body":if(p.parent!==p){c.warn("Composite.add: skipped adding a compound body part (you must add its parent instead)");break}f.addBody(a,p);break;case"constraint":f.addConstraint(a,p);break;case"composite":f.addComposite(a,p);break;case"mouseConstraint":f.addConstraint(a,p.constraint);break}}return y.trigger(a,"afterAdd",{object:u}),a},f.remove=function(a,u,v){var d=[].concat(u);y.trigger(a,"beforeRemove",{object:u});for(var p=0;p<d.length;p++){var g=d[p];switch(g.type){case"body":f.removeBody(a,g,v);break;case"constraint":f.removeConstraint(a,g,v);break;case"composite":f.removeComposite(a,g,v);break;case"mouseConstraint":f.removeConstraint(a,g.constraint);break}}return y.trigger(a,"afterRemove",{object:u}),a},f.addComposite=function(a,u){return a.composites.push(u),u.parent=a,f.setModified(a,!0,!0,!1),a},f.removeComposite=function(a,u,v){var d=c.indexOf(a.composites,u);if(d!==-1&&f.removeCompositeAt(a,d),v)for(var p=0;p<a.composites.length;p++)f.removeComposite(a.composites[p],u,!0);return a},f.removeCompositeAt=function(a,u){return a.composites.splice(u,1),f.setModified(a,!0,!0,!1),a},f.addBody=function(a,u){return a.bodies.push(u),f.setModified(a,!0,!0,!1),a},f.removeBody=function(a,u,v){var d=c.indexOf(a.bodies,u);if(d!==-1&&f.removeBodyAt(a,d),v)for(var p=0;p<a.composites.length;p++)f.removeBody(a.composites[p],u,!0);return a},f.removeBodyAt=function(a,u){return a.bodies.splice(u,1),f.setModified(a,!0,!0,!1),a},f.addConstraint=function(a,u){return a.constraints.push(u),f.setModified(a,!0,!0,!1),a},f.removeConstraint=function(a,u,v){var d=c.indexOf(a.constraints,u);if(d!==-1&&f.removeConstraintAt(a,d),v)for(var p=0;p<a.composites.length;p++)f.removeConstraint(a.composites[p],u,!0);return a},f.removeConstraintAt=function(a,u){return a.constraints.splice(u,1),f.setModified(a,!0,!0,!1),a},f.clear=function(a,u,v){if(v)for(var d=0;d<a.composites.length;d++)f.clear(a.composites[d],u,!0);return u?a.bodies=a.bodies.filter(function(p){return p.isStatic}):a.bodies.length=0,a.constraints.length=0,a.composites.length=0,f.setModified(a,!0,!0,!1),a},f.allBodies=function(a){if(a.cache&&a.cache.allBodies)return a.cache.allBodies;for(var u=[].concat(a.bodies),v=0;v<a.composites.length;v++)u=u.concat(f.allBodies(a.composites[v]));return a.cache&&(a.cache.allBodies=u),u},f.allConstraints=function(a){if(a.cache&&a.cache.allConstraints)return a.cache.allConstraints;for(var u=[].concat(a.constraints),v=0;v<a.composites.length;v++)u=u.concat(f.allConstraints(a.composites[v]));return a.cache&&(a.cache.allConstraints=u),u},f.allComposites=function(a){if(a.cache&&a.cache.allComposites)return a.cache.allComposites;for(var u=[].concat(a.composites),v=0;v<a.composites.length;v++)u=u.concat(f.allComposites(a.composites[v]));return a.cache&&(a.cache.allComposites=u),u},f.get=function(a,u,v){var d,p;switch(v){case"body":d=f.allBodies(a);break;case"constraint":d=f.allConstraints(a);break;case"composite":d=f.allComposites(a).concat(a);break}return d?(p=d.filter(function(g){return g.id.toString()===u.toString()}),p.length===0?null:p[0]):null},f.move=function(a,u,v){return f.remove(a,u),f.add(v,u),a},f.rebase=function(a){for(var u=f.allBodies(a).concat(f.allConstraints(a)).concat(f.allComposites(a)),v=0;v<u.length;v++)u[v].id=c.nextId();return a},f.translate=function(a,u,v){for(var d=v?f.allBodies(a):a.bodies,p=0;p<d.length;p++)l.translate(d[p],u);return a},f.rotate=function(a,u,v,d){for(var p=Math.cos(u),g=Math.sin(u),m=d?f.allBodies(a):a.bodies,x=0;x<m.length;x++){var C=m[x],P=C.position.x-v.x,A=C.position.y-v.y;l.setPosition(C,{x:v.x+(P*p-A*g),y:v.y+(P*g+A*p)}),l.rotate(C,u)}return a},f.scale=function(a,u,v,d,p){for(var g=p?f.allBodies(a):a.bodies,m=0;m<g.length;m++){var x=g[m],C=x.position.x-d.x,P=x.position.y-d.y;l.setPosition(x,{x:d.x+C*u,y:d.y+P*v}),l.scale(x,u,v)}return a},f.bounds=function(a){for(var u=f.allBodies(a),v=[],d=0;d<u.length;d+=1){var p=u[d];v.push(p.bounds.min,p.bounds.max)}return o.create(v)}})()},4372:(n,T,i)=>{var f={};n.exports=f;var y=i(69351);(function(){f.create=y.create,f.add=y.add,f.remove=y.remove,f.clear=y.clear,f.addComposite=y.addComposite,f.addBody=y.addBody,f.addConstraint=y.addConstraint})()},52284:(n,T,i)=>{var f={};n.exports=f;var y=i(41598),c=i(4506);(function(){var o=[],l={overlap:0,axis:null},a={overlap:0,axis:null};f.create=function(u,v){return{pair:null,collided:!1,bodyA:u,bodyB:v,parentA:u.parent,parentB:v.parent,depth:0,normal:{x:0,y:0},tangent:{x:0,y:0},penetration:{x:0,y:0},supports:[]}},f.collides=function(u,v,d){if(f._overlapAxes(l,u.vertices,v.vertices,u.axes),l.overlap<=0||(f._overlapAxes(a,v.vertices,u.vertices,v.axes),a.overlap<=0))return null;var p=d&&d.table[c.id(u,v)],g;p?g=p.collision:(g=f.create(u,v),g.collided=!0,g.bodyA=u.id<v.id?u:v,g.bodyB=u.id<v.id?v:u,g.parentA=g.bodyA.parent,g.parentB=g.bodyB.parent),u=g.bodyA,v=g.bodyB;var m;l.overlap<a.overlap?m=l:m=a;var x=g.normal,C=g.supports,P=m.axis,A=P.x,R=P.y;A*(v.position.x-u.position.x)+R*(v.position.y-u.position.y)<0?(x.x=A,x.y=R):(x.x=-A,x.y=-R),g.tangent.x=-x.y,g.tangent.y=x.x,g.depth=m.overlap,g.penetration.x=x.x*g.depth,g.penetration.y=x.y*g.depth;var L=f._findSupports(u,v,x,1),O=0;if(y.contains(u.vertices,L[0])&&(C[O++]=L[0]),y.contains(u.vertices,L[1])&&(C[O++]=L[1]),O<2){var w=f._findSupports(v,u,x,-1);y.contains(v.vertices,w[0])&&(C[O++]=w[0]),O<2&&y.contains(v.vertices,w[1])&&(C[O++]=w[1])}return O===0&&(C[O++]=L[0]),C.length=O,g},f._overlapAxes=function(u,v,d,p){var g=v.length,m=d.length,x=v[0].x,C=v[0].y,P=d[0].x,A=d[0].y,R=p.length,L=Number.MAX_VALUE,O=0,w,b,F,M,I,B;for(I=0;I<R;I++){var G=p[I],N=G.x,z=G.y,H=x*N+C*z,$=P*N+A*z,V=H,Y=$;for(B=1;B<g;B+=1)M=v[B].x*N+v[B].y*z,M>V?V=M:M<H&&(H=M);for(B=1;B<m;B+=1)M=d[B].x*N+d[B].y*z,M>Y?Y=M:M<$&&($=M);if(b=V-$,F=Y-H,w=b<F?b:F,w<L&&(L=w,O=I,w<=0))break}u.axis=p[O],u.overlap=L},f._projectToAxis=function(u,v,d){for(var p=v[0].x*d.x+v[0].y*d.y,g=p,m=1;m<v.length;m+=1){var x=v[m].x*d.x+v[m].y*d.y;x>g?g=x:x<p&&(p=x)}u.min=p,u.max=g},f._findSupports=function(u,v,d,p){var g=v.vertices,m=g.length,x=u.position.x,C=u.position.y,P=d.x*p,A=d.y*p,R=Number.MAX_VALUE,L,O,w,b,F;for(F=0;F<m;F+=1)O=g[F],b=P*(x-O.x)+A*(C-O.y),b<R&&(R=b,L=O);return w=g[(m+L.index-1)%m],R=P*(x-w.x)+A*(C-w.y),O=g[(L.index+1)%m],P*(x-O.x)+A*(C-O.y)<R?(o[0]=L,o[1]=O,o):(o[0]=L,o[1]=w,o)}})()},43424:n=>{var T={};n.exports=T,function(){T.create=function(i){return{vertex:i,normalImpulse:0,tangentImpulse:0}}}()},81388:(n,T,i)=>{var f={};n.exports=f;var y=i(53402),c=i(52284);(function(){f.create=function(o){var l={bodies:[],pairs:null};return y.extend(l,o)},f.setBodies=function(o,l){o.bodies=l.slice(0)},f.clear=function(o){o.bodies=[]},f.collisions=function(o){var l=[],a=o.pairs,u=o.bodies,v=u.length,d=f.canCollide,p=c.collides,g,m;for(u.sort(f._compareBoundsX),g=0;g<v;g++){var x=u[g],C=x.bounds,P=x.bounds.max.x,A=x.bounds.max.y,R=x.bounds.min.y,L=x.isStatic||x.isSleeping,O=x.parts.length,w=O===1;for(m=g+1;m<v;m++){var b=u[m],F=b.bounds;if(F.min.x>P)break;if(!(A<F.min.y||R>F.max.y)&&!(L&&(b.isStatic||b.isSleeping))&&d(x.collisionFilter,b.collisionFilter)){var M=b.parts.length;if(w&&M===1){var I=p(x,b,a);I&&l.push(I)}else for(var B=O>1?1:0,G=M>1?1:0,N=B;N<O;N++)for(var z=x.parts[N],C=z.bounds,H=G;H<M;H++){var $=b.parts[H],F=$.bounds;if(!(C.min.x>F.max.x||C.max.x<F.min.x||C.max.y<F.min.y||C.min.y>F.max.y)){var I=p(z,$,a);I&&l.push(I)}}}}}return l},f.canCollide=function(o,l){return o.group===l.group&&o.group!==0?o.group>0:(o.mask&l.category)!==0&&(l.mask&o.category)!==0},f._compareBoundsX=function(o,l){return o.bounds.min.x-l.bounds.min.x}})()},4506:(n,T,i)=>{var f={};n.exports=f;var y=i(43424);(function(){f.create=function(c,o){var l=c.bodyA,a=c.bodyB,u={id:f.id(l,a),bodyA:l,bodyB:a,collision:c,contacts:[],activeContacts:[],separation:0,isActive:!0,confirmedActive:!0,isSensor:l.isSensor||a.isSensor,timeCreated:o,timeUpdated:o,inverseMass:0,friction:0,frictionStatic:0,restitution:0,slop:0};return f.update(u,c,o),u},f.update=function(c,o,l){var a=c.contacts,u=o.supports,v=c.activeContacts,d=o.parentA,p=o.parentB,g=d.vertices.length;c.isActive=!0,c.timeUpdated=l,c.collision=o,c.separation=o.depth,c.inverseMass=d.inverseMass+p.inverseMass,c.friction=d.friction<p.friction?d.friction:p.friction,c.frictionStatic=d.frictionStatic>p.frictionStatic?d.frictionStatic:p.frictionStatic,c.restitution=d.restitution>p.restitution?d.restitution:p.restitution,c.slop=d.slop>p.slop?d.slop:p.slop,o.pair=c,v.length=0;for(var m=0;m<u.length;m++){var x=u[m],C=x.body===d?x.index:g+x.index,P=a[C];P?v.push(P):v.push(a[C]=y.create(x))}},f.setActive=function(c,o,l){o?(c.isActive=!0,c.timeUpdated=l):(c.isActive=!1,c.activeContacts.length=0)},f.id=function(c,o){return c.id<o.id?"A"+c.id+"B"+o.id:"A"+o.id+"B"+c.id}})()},99561:(n,T,i)=>{var f={};n.exports=f;var y=i(4506),c=i(53402);(function(){f.create=function(o){return c.extend({table:{},list:[],collisionStart:[],collisionActive:[],collisionEnd:[]},o)},f.update=function(o,l,a){var u=o.list,v=u.length,d=o.table,p=l.length,g=o.collisionStart,m=o.collisionEnd,x=o.collisionActive,C,P,A,R;for(g.length=0,m.length=0,x.length=0,R=0;R<v;R++)u[R].confirmedActive=!1;for(R=0;R<p;R++)C=l[R],A=C.pair,A?(A.isActive?x.push(A):g.push(A),y.update(A,C,a),A.confirmedActive=!0):(A=y.create(C,a),d[A.id]=A,g.push(A),u.push(A));var L=[];for(v=u.length,R=0;R<v;R++)A=u[R],A.confirmedActive||(y.setActive(A,!1,a),m.push(A),!A.collision.bodyA.isSleeping&&!A.collision.bodyB.isSleeping&&L.push(R));for(R=0;R<L.length;R++)P=L[R]-R,A=u[P],u.splice(P,1),delete d[A.id]},f.clear=function(o){return o.table={},o.list.length=0,o.collisionStart.length=0,o.collisionActive.length=0,o.collisionEnd.length=0,o}})()},73296:(n,T,i)=>{var f={};n.exports=f;var y=i(31725),c=i(52284),o=i(15647),l=i(66280),a=i(41598);(function(){f.collides=function(u,v){for(var d=[],p=v.length,g=u.bounds,m=c.collides,x=o.overlaps,C=0;C<p;C++){var P=v[C],A=P.parts.length,R=A===1?0:1;if(u!==P&&x(P.bounds,g))for(var L=R;L<A;L++){var O=P.parts[L];if(x(O.bounds,g)){var w=m(O,u);if(w){d.push(w);break}}}}return d},f.ray=function(u,v,d,p){p=p||1e-100;for(var g=y.angle(v,d),m=y.magnitude(y.sub(v,d)),x=(d.x+v.x)*.5,C=(d.y+v.y)*.5,P=l.rectangle(x,C,m,p,{angle:g}),A=f.collides(P,u),R=0;R<A.length;R+=1){var L=A[R];L.body=L.bodyB=L.bodyA}return A},f.region=function(u,v,d){for(var p=[],g=0;g<u.length;g++){var m=u[g],x=o.overlaps(m.bounds,v);(x&&!d||!x&&d)&&p.push(m)}return p},f.point=function(u,v){for(var d=[],p=0;p<u.length;p++){var g=u[p];if(o.contains(g.bounds,v))for(var m=g.parts.length===1?0:1;m<g.parts.length;m++){var x=g.parts[m];if(o.contains(x.bounds,v)&&a.contains(x.vertices,v)){d.push(g);break}}}return d}})()},66272:(n,T,i)=>{var f={};n.exports=f;var y=i(41598),c=i(53402),o=i(15647);(function(){f._restingThresh=2,f._restingThreshTangent=Math.sqrt(6),f._positionDampen=.9,f._positionWarming=.8,f._frictionNormalMultiplier=5,f._frictionMaxStatic=Number.MAX_VALUE,f.preSolvePosition=function(l){var a,u,v,d=l.length;for(a=0;a<d;a++)u=l[a],u.isActive&&(v=u.activeContacts.length,u.collision.parentA.totalContacts+=v,u.collision.parentB.totalContacts+=v)},f.solvePosition=function(l,a,u){var v,d,p,g,m,x,C,P,A=f._positionDampen*(u||1),R=c.clamp(a/c._baseDelta,0,1),L=l.length;for(v=0;v<L;v++)d=l[v],!(!d.isActive||d.isSensor)&&(p=d.collision,g=p.parentA,m=p.parentB,x=p.normal,d.separation=x.x*(m.positionImpulse.x+p.penetration.x-g.positionImpulse.x)+x.y*(m.positionImpulse.y+p.penetration.y-g.positionImpulse.y));for(v=0;v<L;v++)d=l[v],!(!d.isActive||d.isSensor)&&(p=d.collision,g=p.parentA,m=p.parentB,x=p.normal,P=d.separation-d.slop*R,(g.isStatic||m.isStatic)&&(P*=2),g.isStatic||g.isSleeping||(C=A/g.totalContacts,g.positionImpulse.x+=x.x*P*C,g.positionImpulse.y+=x.y*P*C),m.isStatic||m.isSleeping||(C=A/m.totalContacts,m.positionImpulse.x-=x.x*P*C,m.positionImpulse.y-=x.y*P*C))},f.postSolvePosition=function(l){for(var a=f._positionWarming,u=l.length,v=y.translate,d=o.update,p=0;p<u;p++){var g=l[p],m=g.positionImpulse,x=m.x,C=m.y,P=g.velocity;if(g.totalContacts=0,x!==0||C!==0){for(var A=0;A<g.parts.length;A++){var R=g.parts[A];v(R.vertices,m),d(R.bounds,R.vertices,P),R.position.x+=x,R.position.y+=C}g.positionPrev.x+=x,g.positionPrev.y+=C,x*P.x+C*P.y<0?(m.x=0,m.y=0):(m.x*=a,m.y*=a)}}},f.preSolveVelocity=function(l){var a=l.length,u,v;for(u=0;u<a;u++){var d=l[u];if(!(!d.isActive||d.isSensor)){var p=d.activeContacts,g=p.length,m=d.collision,x=m.parentA,C=m.parentB,P=m.normal,A=m.tangent;for(v=0;v<g;v++){var R=p[v],L=R.vertex,O=R.normalImpulse,w=R.tangentImpulse;if(O!==0||w!==0){var b=P.x*O+A.x*w,F=P.y*O+A.y*w;x.isStatic||x.isSleeping||(x.positionPrev.x+=b*x.inverseMass,x.positionPrev.y+=F*x.inverseMass,x.anglePrev+=x.inverseInertia*((L.x-x.position.x)*F-(L.y-x.position.y)*b)),C.isStatic||C.isSleeping||(C.positionPrev.x-=b*C.inverseMass,C.positionPrev.y-=F*C.inverseMass,C.anglePrev-=C.inverseInertia*((L.x-C.position.x)*F-(L.y-C.position.y)*b))}}}}},f.solveVelocity=function(l,a){var u=a/c._baseDelta,v=u*u,d=v*u,p=-f._restingThresh*u,g=f._restingThreshTangent,m=f._frictionNormalMultiplier*u,x=f._frictionMaxStatic,C=l.length,P,A,R,L;for(R=0;R<C;R++){var O=l[R];if(!(!O.isActive||O.isSensor)){var w=O.collision,b=w.parentA,F=w.parentB,M=b.velocity,I=F.velocity,B=w.normal.x,G=w.normal.y,N=w.tangent.x,z=w.tangent.y,H=O.activeContacts,$=H.length,V=1/$,Y=b.inverseMass+F.inverseMass,D=O.friction*O.frictionStatic*m;for(M.x=b.position.x-b.positionPrev.x,M.y=b.position.y-b.positionPrev.y,I.x=F.position.x-F.positionPrev.x,I.y=F.position.y-F.positionPrev.y,b.angularVelocity=b.angle-b.anglePrev,F.angularVelocity=F.angle-F.anglePrev,L=0;L<$;L++){var U=H[L],W=U.vertex,k=W.x-b.position.x,X=W.y-b.position.y,K=W.x-F.position.x,Z=W.y-F.position.y,J=M.x-X*b.angularVelocity,Q=M.y+k*b.angularVelocity,j=I.x-Z*F.angularVelocity,q=I.y+K*F.angularVelocity,tt=J-j,_=Q-q,rt=B*tt+G*_,ht=N*tt+z*_,lt=O.separation+rt,ot=Math.min(lt,1);ot=lt<0?0:ot;var et=ot*D;ht<-et||ht>et?(A=ht>0?ht:-ht,P=O.friction*(ht>0?1:-1)*d,P<-A?P=-A:P>A&&(P=A)):(P=ht,A=x);var at=k*G-X*B,nt=K*G-Z*B,vt=V/(Y+b.inverseInertia*at*at+F.inverseInertia*nt*nt),mt=(1+O.restitution)*rt*vt;if(P*=vt,rt<p)U.normalImpulse=0;else{var Nt=U.normalImpulse;U.normalImpulse+=mt,U.normalImpulse>0&&(U.normalImpulse=0),mt=U.normalImpulse-Nt}if(ht<-g||ht>g)U.tangentImpulse=0;else{var Ft=U.tangentImpulse;U.tangentImpulse+=P,U.tangentImpulse<-A&&(U.tangentImpulse=-A),U.tangentImpulse>A&&(U.tangentImpulse=A),P=U.tangentImpulse-Ft}var Et=B*mt+N*P,St=G*mt+z*P;b.isStatic||b.isSleeping||(b.positionPrev.x+=Et*b.inverseMass,b.positionPrev.y+=St*b.inverseMass,b.anglePrev+=(k*St-X*Et)*b.inverseInertia),F.isStatic||F.isSleeping||(F.positionPrev.x-=Et*F.inverseMass,F.positionPrev.y-=St*F.inverseMass,F.anglePrev-=(K*St-Z*Et)*F.inverseInertia)}}}}})()},48140:(n,T,i)=>{var f={};n.exports=f;var y=i(41598),c=i(31725),o=i(53614),l=i(15647),a=i(66615),u=i(53402);(function(){f._warming=.4,f._torqueDampen=1,f._minLength=1e-6,f.create=function(v){var d=v;d.bodyA&&!d.pointA&&(d.pointA={x:0,y:0}),d.bodyB&&!d.pointB&&(d.pointB={x:0,y:0});var p=d.bodyA?c.add(d.bodyA.position,d.pointA):d.pointA,g=d.bodyB?c.add(d.bodyB.position,d.pointB):d.pointB,m=c.magnitude(c.sub(p,g));d.length=typeof d.length<"u"?d.length:m,d.id=d.id||u.nextId(),d.label=d.label||"Constraint",d.type="constraint",d.stiffness=d.stiffness||(d.length>0?1:.7),d.damping=d.damping||0,d.angularStiffness=d.angularStiffness||0,d.angleA=d.bodyA?d.bodyA.angle:d.angleA,d.angleB=d.bodyB?d.bodyB.angle:d.angleB,d.plugin={};var x={visible:!0,type:"line",anchors:!0,lineColor:null,lineOpacity:null,lineThickness:null,pinSize:null,anchorColor:null,anchorSize:null};return d.length===0&&d.stiffness>.1?(x.type="pin",x.anchors=!1):d.stiffness<.9&&(x.type="spring"),d.render=u.extend(x,d.render),d},f.preSolveAll=function(v){for(var d=0;d<v.length;d+=1){var p=v[d],g=p.constraintImpulse;p.isStatic||g.x===0&&g.y===0&&g.angle===0||(p.position.x+=g.x,p.position.y+=g.y,p.angle+=g.angle)}},f.solveAll=function(v,d){for(var p=u.clamp(d/u._baseDelta,0,1),g=0;g<v.length;g+=1){var m=v[g],x=!m.bodyA||m.bodyA&&m.bodyA.isStatic,C=!m.bodyB||m.bodyB&&m.bodyB.isStatic;(x||C)&&f.solve(v[g],p)}for(g=0;g<v.length;g+=1)m=v[g],x=!m.bodyA||m.bodyA&&m.bodyA.isStatic,C=!m.bodyB||m.bodyB&&m.bodyB.isStatic,!x&&!C&&f.solve(v[g],p)},f.solve=function(v,d){var p=v.bodyA,g=v.bodyB,m=v.pointA,x=v.pointB;if(!(!p&&!g)){p&&!p.isStatic&&(c.rotate(m,p.angle-v.angleA,m),v.angleA=p.angle),g&&!g.isStatic&&(c.rotate(x,g.angle-v.angleB,x),v.angleB=g.angle);var C=m,P=x;if(p&&(C=c.add(p.position,m)),g&&(P=c.add(g.position,x)),!(!C||!P)){var A=c.sub(C,P),R=c.magnitude(A);R<f._minLength&&(R=f._minLength);var L=(R-v.length)/R,O=v.stiffness>=1||v.length===0,w=O?v.stiffness*d:v.stiffness*d*d,b=v.damping*d,F=c.mult(A,L*w),M=(p?p.inverseMass:0)+(g?g.inverseMass:0),I=(p?p.inverseInertia:0)+(g?g.inverseInertia:0),B=M+I,G,N,z,H,$;if(b>0){var V=c.create();z=c.div(A,R),$=c.sub(g&&c.sub(g.position,g.positionPrev)||V,p&&c.sub(p.position,p.positionPrev)||V),H=c.dot(z,$)}p&&!p.isStatic&&(N=p.inverseMass/M,p.constraintImpulse.x-=F.x*N,p.constraintImpulse.y-=F.y*N,p.position.x-=F.x*N,p.position.y-=F.y*N,b>0&&(p.positionPrev.x-=b*z.x*H*N,p.positionPrev.y-=b*z.y*H*N),G=c.cross(m,F)/B*f._torqueDampen*p.inverseInertia*(1-v.angularStiffness),p.constraintImpulse.angle-=G,p.angle-=G),g&&!g.isStatic&&(N=g.inverseMass/M,g.constraintImpulse.x+=F.x*N,g.constraintImpulse.y+=F.y*N,g.position.x+=F.x*N,g.position.y+=F.y*N,b>0&&(g.positionPrev.x+=b*z.x*H*N,g.positionPrev.y+=b*z.y*H*N),G=c.cross(x,F)/B*f._torqueDampen*g.inverseInertia*(1-v.angularStiffness),g.constraintImpulse.angle+=G,g.angle+=G)}}},f.postSolveAll=function(v){for(var d=0;d<v.length;d++){var p=v[d],g=p.constraintImpulse;if(!(p.isStatic||g.x===0&&g.y===0&&g.angle===0)){o.set(p,!1);for(var m=0;m<p.parts.length;m++){var x=p.parts[m];y.translate(x.vertices,g),m>0&&(x.position.x+=g.x,x.position.y+=g.y),g.angle!==0&&(y.rotate(x.vertices,g.angle,p.position),a.rotate(x.axes,g.angle),m>0&&c.rotateAbout(x.position,g.angle,p.position,x.position)),l.update(x.bounds,x.vertices,p.velocity)}g.angle*=f._warming,g.x*=f._warming,g.y*=f._warming}}},f.pointAWorld=function(v){return{x:(v.bodyA?v.bodyA.position.x:0)+(v.pointA?v.pointA.x:0),y:(v.bodyA?v.bodyA.position.y:0)+(v.pointA?v.pointA.y:0)}},f.pointBWorld=function(v){return{x:(v.bodyB?v.bodyB.position.x:0)+(v.pointB?v.pointB.x:0),y:(v.bodyB?v.bodyB.position.y:0)+(v.pointB?v.pointB.y:0)}},f.currentLength=function(v){var d=(v.bodyA?v.bodyA.position.x:0)+(v.pointA?v.pointA.x:0),p=(v.bodyA?v.bodyA.position.y:0)+(v.pointA?v.pointA.y:0),g=(v.bodyB?v.bodyB.position.x:0)+(v.pointB?v.pointB.x:0),m=(v.bodyB?v.bodyB.position.y:0)+(v.pointB?v.pointB.y:0),x=d-g,C=p-m;return Math.sqrt(x*x+C*C)}})()},53402:(n,T,i)=>{var f={};n.exports=f,function(){f._baseDelta=16.666666666666668,f._nextId=0,f._seed=0,f._nowStartTime=+new Date,f._warnedOnce={},f._decomp=null,f.extend=function(c,o){var l,a;typeof o=="boolean"?(l=2,a=o):(l=1,a=!0);for(var u=l;u<arguments.length;u++){var v=arguments[u];if(v)for(var d in v)a&&v[d]&&v[d].constructor===Object&&(!c[d]||c[d].constructor===Object)?(c[d]=c[d]||{},f.extend(c[d],a,v[d])):c[d]=v[d]}return c},f.clone=function(c,o){return f.extend({},o,c)},f.keys=function(c){if(Object.keys)return Object.keys(c);var o=[];for(var l in c)o.push(l);return o},f.values=function(c){var o=[];if(Object.keys){for(var l=Object.keys(c),a=0;a<l.length;a++)o.push(c[l[a]]);return o}for(var u in c)o.push(c[u]);return o},f.get=function(c,o,l,a){o=o.split(".").slice(l,a);for(var u=0;u<o.length;u+=1)c=c[o[u]];return c},f.set=function(c,o,l,a,u){var v=o.split(".").slice(a,u);return f.get(c,o,0,-1)[v[v.length-1]]=l,l},f.shuffle=function(c){for(var o=c.length-1;o>0;o--){var l=Math.floor(f.random()*(o+1)),a=c[o];c[o]=c[l],c[l]=a}return c},f.choose=function(c){return c[Math.floor(f.random()*c.length)]},f.isElement=function(c){return typeof HTMLElement<"u"?c instanceof HTMLElement:!!(c&&c.nodeType&&c.nodeName)},f.isArray=function(c){return Object.prototype.toString.call(c)==="[object Array]"},f.isFunction=function(c){return typeof c=="function"},f.isPlainObject=function(c){return typeof c=="object"&&c.constructor===Object},f.isString=function(c){return toString.call(c)==="[object String]"},f.clamp=function(c,o,l){return c<o?o:c>l?l:c},f.sign=function(c){return c<0?-1:1},f.now=function(){if(typeof window<"u"&&window.performance){if(window.performance.now)return window.performance.now();if(window.performance.webkitNow)return window.performance.webkitNow()}return Date.now?Date.now():new Date-f._nowStartTime},f.random=function(c,o){return c=typeof c<"u"?c:0,o=typeof o<"u"?o:1,c+y()*(o-c)};var y=r(function(){return f._seed=(f._seed*9301+49297)%233280,f._seed/233280},"_seededRandom");f.colorToNumber=function(c){return c=c.replace("#",""),c.length==3&&(c=c.charAt(0)+c.charAt(0)+c.charAt(1)+c.charAt(1)+c.charAt(2)+c.charAt(2)),parseInt(c,16)},f.logLevel=1,f.log=function(){console&&f.logLevel>0&&f.logLevel<=3&&console.log.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},f.info=function(){console&&f.logLevel>0&&f.logLevel<=2&&console.info.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},f.warn=function(){console&&f.logLevel>0&&f.logLevel<=3&&console.warn.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},f.warnOnce=function(){var c=Array.prototype.slice.call(arguments).join(" ");f._warnedOnce[c]||(f.warn(c),f._warnedOnce[c]=!0)},f.deprecated=function(c,o,l){c[o]=f.chain(function(){f.warnOnce(" deprecated ",l)},c[o])},f.nextId=function(){return f._nextId++},f.indexOf=function(c,o){if(c.indexOf)return c.indexOf(o);for(var l=0;l<c.length;l++)if(c[l]===o)return l;return-1},f.map=function(c,o){if(c.map)return c.map(o);for(var l=[],a=0;a<c.length;a+=1)l.push(o(c[a]));return l},f.topologicalSort=function(c){var o=[],l=[],a=[];for(var u in c)!l[u]&&!a[u]&&f._topologicalSort(u,l,a,c,o);return o},f._topologicalSort=function(c,o,l,a,u){var v=a[c]||[];l[c]=!0;for(var d=0;d<v.length;d+=1){var p=v[d];l[p]||o[p]||f._topologicalSort(p,o,l,a,u)}l[c]=!1,o[c]=!0,u.push(c)},f.chain=function(){for(var c=[],o=0;o<arguments.length;o+=1){var l=arguments[o];l._chained?c.push.apply(c,l._chained):c.push(l)}var a=r(function(){for(var u,v=new Array(arguments.length),d=0,p=arguments.length;d<p;d++)v[d]=arguments[d];for(d=0;d<c.length;d+=1){var g=c[d].apply(u,v);typeof g<"u"&&(u=g)}return u},"chain");return a._chained=c,a},f.chainPathBefore=function(c,o,l){return f.set(c,o,f.chain(l,f.get(c,o)))},f.chainPathAfter=function(c,o,l){return f.set(c,o,f.chain(f.get(c,o),l))},f.setDecomp=function(c){f._decomp=c},f.getDecomp=function(){var c=f._decomp;try{!c&&typeof window<"u"&&(c=window.decomp),!c&&typeof i.g<"u"&&(c=i.g.decomp)}catch{c=null}return c}}()},48413:(n,T,i)=>{var f={};n.exports=f;var y=i(53614),c=i(66272),o=i(81388),l=i(99561),a=i(35810),u=i(69351),v=i(48140),d=i(53402),p=i(22562);(function(){f.create=function(g){g=g||{};var m={positionIterations:6,velocityIterations:4,constraintIterations:2,enableSleeping:!1,events:[],plugin:{},gravity:{x:0,y:1,scale:.001},timing:{timestamp:0,timeScale:1,lastDelta:0,lastElapsed:0}},x=d.extend(m,g);return x.world=g.world||u.create({label:"World"}),x.pairs=g.pairs||l.create(),x.detector=g.detector||o.create(),x.grid={buckets:[]},x.world.gravity=x.gravity,x.broadphase=x.grid,x.metrics={},x},f.update=function(g,m){var x=d.now(),C=g.world,P=g.detector,A=g.pairs,R=g.timing,L=R.timestamp,O;m=typeof m<"u"?m:d._baseDelta,m*=R.timeScale,R.timestamp+=m,R.lastDelta=m;var w={timestamp:R.timestamp,delta:m};a.trigger(g,"beforeUpdate",w);var b=u.allBodies(C),F=u.allConstraints(C);for(C.isModified&&(o.setBodies(P,b),u.setModified(C,!1,!1,!0)),g.enableSleeping&&y.update(b,m),f._bodiesApplyGravity(b,g.gravity),m>0&&f._bodiesUpdate(b,m),a.trigger(g,"beforeSolve",w),v.preSolveAll(b),O=0;O<g.constraintIterations;O++)v.solveAll(F,m);v.postSolveAll(b),P.pairs=g.pairs;var M=o.collisions(P);l.update(A,M,L),g.enableSleeping&&y.afterCollisions(A.list),A.collisionStart.length>0&&a.trigger(g,"collisionStart",{pairs:A.collisionStart,timestamp:R.timestamp,delta:m});var I=d.clamp(20/g.positionIterations,0,1);for(c.preSolvePosition(A.list),O=0;O<g.positionIterations;O++)c.solvePosition(A.list,m,I);for(c.postSolvePosition(b),v.preSolveAll(b),O=0;O<g.constraintIterations;O++)v.solveAll(F,m);for(v.postSolveAll(b),c.preSolveVelocity(A.list),O=0;O<g.velocityIterations;O++)c.solveVelocity(A.list,m);return f._bodiesUpdateVelocities(b),A.collisionActive.length>0&&a.trigger(g,"collisionActive",{pairs:A.collisionActive,timestamp:R.timestamp,delta:m}),A.collisionEnd.length>0&&a.trigger(g,"collisionEnd",{pairs:A.collisionEnd,timestamp:R.timestamp,delta:m}),f._bodiesClearForces(b),a.trigger(g,"afterUpdate",w),g.timing.lastElapsed=d.now()-x,g},f.merge=function(g,m){if(d.extend(g,m),m.world){g.world=m.world,f.clear(g);for(var x=u.allBodies(g.world),C=0;C<x.length;C++){var P=x[C];y.set(P,!1),P.id=d.nextId()}}},f.clear=function(g){l.clear(g.pairs),o.clear(g.detector)},f._bodiesClearForces=function(g){for(var m=g.length,x=0;x<m;x++){var C=g[x];C.force.x=0,C.force.y=0,C.torque=0}},f._bodiesApplyGravity=function(g,m){var x=typeof m.scale<"u"?m.scale:.001,C=g.length;if(!(m.x===0&&m.y===0||x===0))for(var P=0;P<C;P++){var A=g[P];A.ignoreGravity||A.isStatic||A.isSleeping||(A.force.y+=A.mass*m.y*x,A.force.x+=A.mass*m.x*x)}},f._bodiesUpdate=function(g,m){for(var x=g.length,C=0;C<x;C++){var P=g[C];P.isStatic||P.isSleeping||p.update(P,m)}},f._bodiesUpdateVelocities=function(g){for(var m=g.length,x=0;x<m;x++)p.updateVelocities(g[x])}})()},35810:(n,T,i)=>{var f={};n.exports=f;var y=i(53402);(function(){f.on=function(c,o,l){for(var a=o.split(" "),u,v=0;v<a.length;v++)u=a[v],c.events=c.events||{},c.events[u]=c.events[u]||[],c.events[u].push(l);return l},f.off=function(c,o,l){if(!o){c.events={};return}typeof o=="function"&&(l=o,o=y.keys(c.events).join(" "));for(var a=o.split(" "),u=0;u<a.length;u++){var v=c.events[a[u]],d=[];if(l&&v)for(var p=0;p<v.length;p++)v[p]!==l&&d.push(v[p]);c.events[a[u]]=d}},f.trigger=function(c,o,l){var a,u,v,d,p=c.events;if(p&&y.keys(p).length>0){l||(l={}),a=o.split(" ");for(var g=0;g<a.length;g++)if(u=a[g],v=p[u],v){d=y.clone(l,!1),d.name=u,d.source=c;for(var m=0;m<v.length;m++)v[m].apply(c,[d])}}}})()},6790:(n,T,i)=>{var f={};n.exports=f;var y=i(73832),c=i(53402);(function(){f.name="matter-js",f.version="0.19.0",f.uses=[],f.used=[],f.use=function(){y.use(f,Array.prototype.slice.call(arguments))},f.before=function(o,l){return o=o.replace(/^Matter./,""),c.chainPathBefore(f,o,l)},f.after=function(o,l){return o=o.replace(/^Matter./,""),c.chainPathAfter(f,o,l)}})()},73832:(n,T,i)=>{var f={};n.exports=f;var y=i(53402);(function(){f._registry={},f.register=function(c){if(f.isPlugin(c)||y.warn("Plugin.register:",f.toString(c),"does not implement all required fields."),c.name in f._registry){var o=f._registry[c.name],l=f.versionParse(c.version).number,a=f.versionParse(o.version).number;l>a?(y.warn("Plugin.register:",f.toString(o),"was upgraded to",f.toString(c)),f._registry[c.name]=c):l<a?y.warn("Plugin.register:",f.toString(o),"can not be downgraded to",f.toString(c)):c!==o&&y.warn("Plugin.register:",f.toString(c),"is already registered to different plugin object")}else f._registry[c.name]=c;return c},f.resolve=function(c){return f._registry[f.dependencyParse(c).name]},f.toString=function(c){return typeof c=="string"?c:(c.name||"anonymous")+"@"+(c.version||c.range||"0.0.0")},f.isPlugin=function(c){return c&&c.name&&c.version&&c.install},f.isUsed=function(c,o){return c.used.indexOf(o)>-1},f.isFor=function(c,o){var l=c.for&&f.dependencyParse(c.for);return!c.for||o.name===l.name&&f.versionSatisfies(o.version,l.range)},f.use=function(c,o){if(c.uses=(c.uses||[]).concat(o||[]),c.uses.length===0){y.warn("Plugin.use:",f.toString(c),"does not specify any dependencies to install.");return}for(var l=f.dependencies(c),a=y.topologicalSort(l),u=[],v=0;v<a.length;v+=1)if(a[v]!==c.name){var d=f.resolve(a[v]);if(!d){u.push(" "+a[v]);continue}f.isUsed(c,d.name)||(f.isFor(d,c)||(y.warn("Plugin.use:",f.toString(d),"is for",d.for,"but installed on",f.toString(c)+"."),d._warned=!0),d.install?d.install(c):(y.warn("Plugin.use:",f.toString(d),"does not specify an install function."),d._warned=!0),d._warned?(u.push(" "+f.toString(d)),delete d._warned):u.push(" "+f.toString(d)),c.used.push(d.name))}u.length>0&&!d.silent&&y.info(u.join("  "))},f.dependencies=function(c,o){var l=f.dependencyParse(c),a=l.name;if(o=o||{},!(a in o)){c=f.resolve(c)||c,o[a]=y.map(c.uses||[],function(v){f.isPlugin(v)&&f.register(v);var d=f.dependencyParse(v),p=f.resolve(v);return p&&!f.versionSatisfies(p.version,d.range)?(y.warn("Plugin.dependencies:",f.toString(p),"does not satisfy",f.toString(d),"used by",f.toString(l)+"."),p._warned=!0,c._warned=!0):p||(y.warn("Plugin.dependencies:",f.toString(v),"used by",f.toString(l),"could not be resolved."),c._warned=!0),d.name});for(var u=0;u<o[a].length;u+=1)f.dependencies(o[a][u],o);return o}},f.dependencyParse=function(c){if(y.isString(c)){var o=/^[\w-]+(@(\*|[\^~]?\d+\.\d+\.\d+(-[0-9A-Za-z-+]+)?))?$/;return o.test(c)||y.warn("Plugin.dependencyParse:",c,"is not a valid dependency string."),{name:c.split("@")[0],range:c.split("@")[1]||"*"}}return{name:c.name,range:c.range||c.version}},f.versionParse=function(c){var o=/^(\*)|(\^|~|>=|>)?\s*((\d+)\.(\d+)\.(\d+))(-[0-9A-Za-z-+]+)?$/;o.test(c)||y.warn("Plugin.versionParse:",c,"is not a valid version or range.");var l=o.exec(c),a=Number(l[4]),u=Number(l[5]),v=Number(l[6]);return{isRange:!!(l[1]||l[2]),version:l[3],range:c,operator:l[1]||l[2]||"",major:a,minor:u,patch:v,parts:[a,u,v],prerelease:l[7],number:a*1e8+u*1e4+v}},f.versionSatisfies=function(c,o){o=o||"*";var l=f.versionParse(o),a=f.versionParse(c);if(l.isRange){if(l.operator==="*"||c==="*")return!0;if(l.operator===">")return a.number>l.number;if(l.operator===">=")return a.number>=l.number;if(l.operator==="~")return a.major===l.major&&a.minor===l.minor&&a.patch>=l.patch;if(l.operator==="^")return l.major>0?a.major===l.major&&a.number>=l.number:l.minor>0?a.minor===l.minor&&a.patch>=l.patch:a.patch===l.patch}return c===o||c==="*"}})()},53614:(n,T,i)=>{var f={};n.exports=f;var y=i(22562),c=i(35810),o=i(53402);(function(){f._motionWakeThreshold=.18,f._motionSleepThreshold=.08,f._minBias=.9,f.update=function(l,a){for(var u=a/o._baseDelta,v=f._motionSleepThreshold,d=0;d<l.length;d++){var p=l[d],g=y.getSpeed(p),m=y.getAngularSpeed(p),x=g*g+m*m;if(p.force.x!==0||p.force.y!==0){f.set(p,!1);continue}var C=Math.min(p.motion,x),P=Math.max(p.motion,x);p.motion=f._minBias*C+(1-f._minBias)*P,p.sleepThreshold>0&&p.motion<v?(p.sleepCounter+=1,p.sleepCounter>=p.sleepThreshold/u&&f.set(p,!0)):p.sleepCounter>0&&(p.sleepCounter-=1)}},f.afterCollisions=function(l){for(var a=f._motionSleepThreshold,u=0;u<l.length;u++){var v=l[u];if(v.isActive){var d=v.collision,p=d.bodyA.parent,g=d.bodyB.parent;if(!(p.isSleeping&&g.isSleeping||p.isStatic||g.isStatic)&&(p.isSleeping||g.isSleeping)){var m=p.isSleeping&&!p.isStatic?p:g,x=m===p?g:p;!m.isStatic&&x.motion>a&&f.set(m,!1)}}}},f.set=function(l,a){var u=l.isSleeping;a?(l.isSleeping=!0,l.sleepCounter=l.sleepThreshold,l.positionImpulse.x=0,l.positionImpulse.y=0,l.positionPrev.x=l.position.x,l.positionPrev.y=l.position.y,l.anglePrev=l.angle,l.speed=0,l.angularSpeed=0,l.motion=0,u||c.trigger(l,"sleepStart")):(l.isSleeping=!1,l.sleepCounter=0,u&&c.trigger(l,"sleepEnd"))}})()},66280:(n,T,i)=>{var f={};n.exports=f;var y=i(41598),c=i(53402),o=i(22562),l=i(15647),a=i(31725);(function(){f.rectangle=function(u,v,d,p,g){g=g||{};var m={label:"Rectangle Body",position:{x:u,y:v},vertices:y.fromPath("L 0 0 L "+d+" 0 L "+d+" "+p+" L 0 "+p)};if(g.chamfer){var x=g.chamfer;m.vertices=y.chamfer(m.vertices,x.radius,x.quality,x.qualityMin,x.qualityMax),delete g.chamfer}return o.create(c.extend({},m,g))},f.trapezoid=function(u,v,d,p,g,m){m=m||{},g*=.5;var x=(1-g*2)*d,C=d*g,P=C+x,A=P+C,R;g<.5?R="L 0 0 L "+C+" "+-p+" L "+P+" "+-p+" L "+A+" 0":R="L 0 0 L "+P+" "+-p+" L "+A+" 0";var L={label:"Trapezoid Body",position:{x:u,y:v},vertices:y.fromPath(R)};if(m.chamfer){var O=m.chamfer;L.vertices=y.chamfer(L.vertices,O.radius,O.quality,O.qualityMin,O.qualityMax),delete m.chamfer}return o.create(c.extend({},L,m))},f.circle=function(u,v,d,p,g){p=p||{};var m={label:"Circle Body",circleRadius:d};g=g||25;var x=Math.ceil(Math.max(10,Math.min(g,d)));return x%2===1&&(x+=1),f.polygon(u,v,x,d,c.extend({},m,p))},f.polygon=function(u,v,d,p,g){if(g=g||{},d<3)return f.circle(u,v,p,g);for(var m=2*Math.PI/d,x="",C=m*.5,P=0;P<d;P+=1){var A=C+P*m,R=Math.cos(A)*p,L=Math.sin(A)*p;x+="L "+R.toFixed(3)+" "+L.toFixed(3)+" "}var O={label:"Polygon Body",position:{x:u,y:v},vertices:y.fromPath(x)};if(g.chamfer){var w=g.chamfer;O.vertices=y.chamfer(O.vertices,w.radius,w.quality,w.qualityMin,w.qualityMax),delete g.chamfer}return o.create(c.extend({},O,g))},f.fromVertices=function(u,v,d,p,g,m,x,C){var P=c.getDecomp(),A,R,L,O,w,b,F,M,I,B,G;for(A=!!(P&&P.quickDecomp),p=p||{},L=[],g=typeof g<"u"?g:!1,m=typeof m<"u"?m:.01,x=typeof x<"u"?x:10,C=typeof C<"u"?C:.01,c.isArray(d[0])||(d=[d]),B=0;B<d.length;B+=1)if(b=d[B],O=y.isConvex(b),w=!O,w&&!A&&c.warnOnce("Bodies.fromVertices: Install the 'poly-decomp' library and use Common.setDecomp or provide 'decomp' as a global to decompose concave vertices."),O||!A)O?b=y.clockwiseSort(b):b=y.hull(b),L.push({position:{x:u,y:v},vertices:b});else{var N=b.map(function(K){return[K.x,K.y]});P.makeCCW(N),m!==!1&&P.removeCollinearPoints(N,m),C!==!1&&P.removeDuplicatePoints&&P.removeDuplicatePoints(N,C);var z=P.quickDecomp(N);for(F=0;F<z.length;F++){var H=z[F],$=H.map(function(K){return{x:K[0],y:K[1]}});x>0&&y.area($)<x||L.push({position:y.centre($),vertices:$})}}for(F=0;F<L.length;F++)L[F]=o.create(c.extend(L[F],p));if(g){var V=5;for(F=0;F<L.length;F++){var Y=L[F];for(M=F+1;M<L.length;M++){var D=L[M];if(l.overlaps(Y.bounds,D.bounds)){var U=Y.vertices,W=D.vertices;for(I=0;I<Y.vertices.length;I++)for(G=0;G<D.vertices.length;G++){var k=a.magnitudeSquared(a.sub(U[(I+1)%U.length],W[G])),X=a.magnitudeSquared(a.sub(U[I],W[(G+1)%W.length]));k<V&&X<V&&(U[I].isInternal=!0,W[G].isInternal=!0)}}}}}return L.length>1?(R=o.create(c.extend({parts:L.slice(0)},p)),o.setPosition(R,{x:u,y:v}),R):L[0]},f.flagCoincidentParts=function(u,v){v===void 0&&(v=5);for(var d=0;d<u.length;d++)for(var p=u[d],g=d+1;g<u.length;g++){var m=u[g];if(l.overlaps(p.bounds,m.bounds))for(var x=p.vertices,C=m.vertices,P=0;P<p.vertices.length;P++)for(var A=0;A<m.vertices.length;A++){var R=a.magnitudeSquared(a.sub(x[(P+1)%x.length],C[A])),L=a.magnitudeSquared(a.sub(x[P],C[(A+1)%C.length]));R<v&&L<v&&(x[P].isInternal=!0,C[A].isInternal=!0)}}return u}})()},74116:(n,T,i)=>{var f={};n.exports=f;var y=i(69351),c=i(48140),o=i(53402),l=i(22562),a=i(66280);(function(){f.stack=function(u,v,d,p,g,m,x){for(var C=y.create({label:"Stack"}),P=u,A=v,R,L=0,O=0;O<p;O++){for(var w=0,b=0;b<d;b++){var F=x(P,A,b,O,R,L);if(F){var M=F.bounds.max.y-F.bounds.min.y,I=F.bounds.max.x-F.bounds.min.x;M>w&&(w=M),l.translate(F,{x:I*.5,y:M*.5}),P=F.bounds.max.x+g,y.addBody(C,F),R=F,L+=1}else P+=g}A+=w+m,P=u}return C},f.chain=function(u,v,d,p,g,m){for(var x=u.bodies,C=1;C<x.length;C++){var P=x[C-1],A=x[C],R=P.bounds.max.y-P.bounds.min.y,L=P.bounds.max.x-P.bounds.min.x,O=A.bounds.max.y-A.bounds.min.y,w=A.bounds.max.x-A.bounds.min.x,b={bodyA:P,pointA:{x:L*v,y:R*d},bodyB:A,pointB:{x:w*p,y:O*g}},F=o.extend(b,m);y.addConstraint(u,c.create(F))}return u.label+=" Chain",u},f.mesh=function(u,v,d,p,g){var m=u.bodies,x,C,P,A,R;for(x=0;x<d;x++){for(C=1;C<v;C++)P=m[C-1+x*v],A=m[C+x*v],y.addConstraint(u,c.create(o.extend({bodyA:P,bodyB:A},g)));if(x>0)for(C=0;C<v;C++)P=m[C+(x-1)*v],A=m[C+x*v],y.addConstraint(u,c.create(o.extend({bodyA:P,bodyB:A},g))),p&&C>0&&(R=m[C-1+(x-1)*v],y.addConstraint(u,c.create(o.extend({bodyA:R,bodyB:A},g)))),p&&C<v-1&&(R=m[C+1+(x-1)*v],y.addConstraint(u,c.create(o.extend({bodyA:R,bodyB:A},g))))}return u.label+=" Mesh",u},f.pyramid=function(u,v,d,p,g,m,x){return f.stack(u,v,d,p,g,m,function(C,P,A,R,L,O){var w=Math.min(p,Math.ceil(d/2)),b=L?L.bounds.max.x-L.bounds.min.x:0;if(!(R>w)){R=w-R;var F=R,M=d-1-R;if(!(A<F||A>M)){O===1&&l.translate(L,{x:(A+(d%2===1?1:-1))*b,y:0});var I=L?A*b:0;return x(u+I+A*g,P,A,R,L,O)}}})},f.newtonsCradle=function(u,v,d,p,g){for(var m=y.create({label:"Newtons Cradle"}),x=0;x<d;x++){var C=1.9,P=a.circle(u+x*(p*C),v+g,p,{inertia:1/0,restitution:1,friction:0,frictionAir:1e-4,slop:1}),A=c.create({pointA:{x:u+x*(p*C),y:v},bodyB:P});y.addBody(m,P),y.addConstraint(m,A)}return m},f.car=function(u,v,d,p,g){var m=l.nextGroup(!0),x=20,C=-d*.5+x,P=d*.5-x,A=0,R=y.create({label:"Car"}),L=a.rectangle(u,v,d,p,{collisionFilter:{group:m},chamfer:{radius:p*.5},density:2e-4}),O=a.circle(u+C,v+A,g,{collisionFilter:{group:m},friction:.8}),w=a.circle(u+P,v+A,g,{collisionFilter:{group:m},friction:.8}),b=c.create({bodyB:L,pointB:{x:C,y:A},bodyA:O,stiffness:1,length:0}),F=c.create({bodyB:L,pointB:{x:P,y:A},bodyA:w,stiffness:1,length:0});return y.addBody(R,L),y.addBody(R,O),y.addBody(R,w),y.addConstraint(R,b),y.addConstraint(R,F),R},f.softBody=function(u,v,d,p,g,m,x,C,P,A){P=o.extend({inertia:1/0},P),A=o.extend({stiffness:.2,render:{type:"line",anchors:!1}},A);var R=f.stack(u,v,d,p,g,m,function(L,O){return a.circle(L,O,C,P)});return f.mesh(R,d,p,x,A),R.label="Soft Body",R}})()},66615:(n,T,i)=>{var f={};n.exports=f;var y=i(31725),c=i(53402);(function(){f.fromVertices=function(o){for(var l={},a=0;a<o.length;a++){var u=(a+1)%o.length,v=y.normalise({x:o[u].y-o[a].y,y:o[a].x-o[u].x}),d=v.y===0?1/0:v.x/v.y;d=d.toFixed(3).toString(),l[d]=v}return c.values(l)},f.rotate=function(o,l){if(l!==0)for(var a=Math.cos(l),u=Math.sin(l),v=0;v<o.length;v++){var d=o[v],p;p=d.x*a-d.y*u,d.y=d.x*u+d.y*a,d.x=p}}})()},15647:n=>{var T={};n.exports=T,function(){T.create=function(i){var f={min:{x:0,y:0},max:{x:0,y:0}};return i&&T.update(f,i),f},T.update=function(i,f,y){i.min.x=1/0,i.max.x=-1/0,i.min.y=1/0,i.max.y=-1/0;for(var c=0;c<f.length;c++){var o=f[c];o.x>i.max.x&&(i.max.x=o.x),o.x<i.min.x&&(i.min.x=o.x),o.y>i.max.y&&(i.max.y=o.y),o.y<i.min.y&&(i.min.y=o.y)}y&&(y.x>0?i.max.x+=y.x:i.min.x+=y.x,y.y>0?i.max.y+=y.y:i.min.y+=y.y)},T.contains=function(i,f){return f.x>=i.min.x&&f.x<=i.max.x&&f.y>=i.min.y&&f.y<=i.max.y},T.overlaps=function(i,f){return i.min.x<=f.max.x&&i.max.x>=f.min.x&&i.max.y>=f.min.y&&i.min.y<=f.max.y},T.translate=function(i,f){i.min.x+=f.x,i.max.x+=f.x,i.min.y+=f.y,i.max.y+=f.y},T.shift=function(i,f){var y=i.max.x-i.min.x,c=i.max.y-i.min.y;i.min.x=f.x,i.max.x=f.x+y,i.min.y=f.y,i.max.y=f.y+c}}()},74058:(n,T,i)=>{var f={};n.exports=f,i(15647);var y=i(53402);(function(){f.pathToVertices=function(c,o){typeof window<"u"&&!("SVGPathSeg"in window)&&y.warn("Svg.pathToVertices: SVGPathSeg not defined, a polyfill is required.");var l,a,u,v,d,p,g,m,x,C,P=[],A,R,L=0,O=0,w=0;o=o||15;var b=r(function(M,I,B){var G=B%2===1&&B>1;if(!x||M!=x.x||I!=x.y){x&&G?(A=x.x,R=x.y):(A=0,R=0);var N={x:A+M,y:R+I};(G||!x)&&(x=N),P.push(N),O=A+M,w=R+I}},"addPoint"),F=r(function(M){var I=M.pathSegTypeAsLetter.toUpperCase();if(I!=="Z"){switch(I){case"M":case"L":case"T":case"C":case"S":case"Q":O=M.x,w=M.y;break;case"H":O=M.x;break;case"V":w=M.y;break}b(O,w,M.pathSegType)}},"addSegmentPoint");for(f._svgPathToAbsolute(c),u=c.getTotalLength(),p=[],l=0;l<c.pathSegList.numberOfItems;l+=1)p.push(c.pathSegList.getItem(l));for(g=p.concat();L<u;){if(C=c.getPathSegAtLength(L),d=p[C],d!=m){for(;g.length&&g[0]!=d;)F(g.shift());m=d}switch(d.pathSegTypeAsLetter.toUpperCase()){case"C":case"T":case"S":case"Q":case"A":v=c.getPointAtLength(L),b(v.x,v.y,0);break}L+=o}for(l=0,a=g.length;l<a;++l)F(g[l]);return P},f._svgPathToAbsolute=function(c){for(var o,l,a,u,v,d,p=c.pathSegList,g=0,m=0,x=p.numberOfItems,C=0;C<x;++C){var P=p.getItem(C),A=P.pathSegTypeAsLetter;if(/[MLHVCSQTA]/.test(A))"x"in P&&(g=P.x),"y"in P&&(m=P.y);else switch("x1"in P&&(a=g+P.x1),"x2"in P&&(v=g+P.x2),"y1"in P&&(u=m+P.y1),"y2"in P&&(d=m+P.y2),"x"in P&&(g+=P.x),"y"in P&&(m+=P.y),A){case"m":p.replaceItem(c.createSVGPathSegMovetoAbs(g,m),C);break;case"l":p.replaceItem(c.createSVGPathSegLinetoAbs(g,m),C);break;case"h":p.replaceItem(c.createSVGPathSegLinetoHorizontalAbs(g),C);break;case"v":p.replaceItem(c.createSVGPathSegLinetoVerticalAbs(m),C);break;case"c":p.replaceItem(c.createSVGPathSegCurvetoCubicAbs(g,m,a,u,v,d),C);break;case"s":p.replaceItem(c.createSVGPathSegCurvetoCubicSmoothAbs(g,m,v,d),C);break;case"q":p.replaceItem(c.createSVGPathSegCurvetoQuadraticAbs(g,m,a,u),C);break;case"t":p.replaceItem(c.createSVGPathSegCurvetoQuadraticSmoothAbs(g,m),C);break;case"a":p.replaceItem(c.createSVGPathSegArcAbs(g,m,P.r1,P.r2,P.angle,P.largeArcFlag,P.sweepFlag),C);break;case"z":case"Z":g=o,m=l;break}(A=="M"||A=="m")&&(o=g,l=m)}}})()},31725:n=>{var T={};n.exports=T,function(){T.create=function(i,f){return{x:i||0,y:f||0}},T.clone=function(i){return{x:i.x,y:i.y}},T.magnitude=function(i){return Math.sqrt(i.x*i.x+i.y*i.y)},T.magnitudeSquared=function(i){return i.x*i.x+i.y*i.y},T.rotate=function(i,f,y){var c=Math.cos(f),o=Math.sin(f);y||(y={});var l=i.x*c-i.y*o;return y.y=i.x*o+i.y*c,y.x=l,y},T.rotateAbout=function(i,f,y,c){var o=Math.cos(f),l=Math.sin(f);c||(c={});var a=y.x+((i.x-y.x)*o-(i.y-y.y)*l);return c.y=y.y+((i.x-y.x)*l+(i.y-y.y)*o),c.x=a,c},T.normalise=function(i){var f=T.magnitude(i);return f===0?{x:0,y:0}:{x:i.x/f,y:i.y/f}},T.dot=function(i,f){return i.x*f.x+i.y*f.y},T.cross=function(i,f){return i.x*f.y-i.y*f.x},T.cross3=function(i,f,y){return(f.x-i.x)*(y.y-i.y)-(f.y-i.y)*(y.x-i.x)},T.add=function(i,f,y){return y||(y={}),y.x=i.x+f.x,y.y=i.y+f.y,y},T.sub=function(i,f,y){return y||(y={}),y.x=i.x-f.x,y.y=i.y-f.y,y},T.mult=function(i,f){return{x:i.x*f,y:i.y*f}},T.div=function(i,f){return{x:i.x/f,y:i.y/f}},T.perp=function(i,f){return f=f===!0?-1:1,{x:f*-i.y,y:f*i.x}},T.neg=function(i){return{x:-i.x,y:-i.y}},T.angle=function(i,f){return Math.atan2(f.y-i.y,f.x-i.x)},T._temp=[T.create(),T.create(),T.create(),T.create(),T.create(),T.create()]}()},41598:(n,T,i)=>{var f={};n.exports=f;var y=i(31725),c=i(53402);(function(){f.create=function(o,l){for(var a=[],u=0;u<o.length;u++){var v=o[u],d={x:v.x,y:v.y,index:u,body:l,isInternal:!1};a.push(d)}return a},f.fromPath=function(o,l){var a=/L?\s*([-\d.e]+)[\s,]*([-\d.e]+)*/ig,u=[];return o.replace(a,function(v,d,p){u.push({x:parseFloat(d),y:parseFloat(p)})}),f.create(u,l)},f.centre=function(o){for(var l=f.area(o,!0),a={x:0,y:0},u,v,d,p=0;p<o.length;p++)d=(p+1)%o.length,u=y.cross(o[p],o[d]),v=y.mult(y.add(o[p],o[d]),u),a=y.add(a,v);return y.div(a,6*l)},f.mean=function(o){for(var l={x:0,y:0},a=0;a<o.length;a++)l.x+=o[a].x,l.y+=o[a].y;return y.div(l,o.length)},f.area=function(o,l){for(var a=0,u=o.length-1,v=0;v<o.length;v++)a+=(o[u].x-o[v].x)*(o[u].y+o[v].y),u=v;return l?a/2:Math.abs(a)/2},f.inertia=function(o,l){for(var a=0,u=0,v=o,d,p,g=0;g<v.length;g++)p=(g+1)%v.length,d=Math.abs(y.cross(v[p],v[g])),a+=d*(y.dot(v[p],v[p])+y.dot(v[p],v[g])+y.dot(v[g],v[g])),u+=d;return l/6*(a/u)},f.translate=function(o,l,a){a=typeof a<"u"?a:1;var u=o.length,v=l.x*a,d=l.y*a,p;for(p=0;p<u;p++)o[p].x+=v,o[p].y+=d;return o},f.rotate=function(o,l,a){if(l!==0){var u=Math.cos(l),v=Math.sin(l),d=a.x,p=a.y,g=o.length,m,x,C,P;for(P=0;P<g;P++)m=o[P],x=m.x-d,C=m.y-p,m.x=d+(x*u-C*v),m.y=p+(x*v+C*u);return o}},f.contains=function(o,l){for(var a=l.x,u=l.y,v=o.length,d=o[v-1],p,g=0;g<v;g++){if(p=o[g],(a-d.x)*(p.y-d.y)+(u-d.y)*(d.x-p.x)>0)return!1;d=p}return!0},f.scale=function(o,l,a,u){if(l===1&&a===1)return o;u=u||f.centre(o);for(var v,d,p=0;p<o.length;p++)v=o[p],d=y.sub(v,u),o[p].x=u.x+d.x*l,o[p].y=u.y+d.y*a;return o},f.chamfer=function(o,l,a,u,v){typeof l=="number"?l=[l]:l=l||[8],a=typeof a<"u"?a:-1,u=u||2,v=v||14;for(var d=[],p=0;p<o.length;p++){var g=o[p-1>=0?p-1:o.length-1],m=o[p],x=o[(p+1)%o.length],C=l[p<l.length?p:l.length-1];if(C===0){d.push(m);continue}var P=y.normalise({x:m.y-g.y,y:g.x-m.x}),A=y.normalise({x:x.y-m.y,y:m.x-x.x}),R=Math.sqrt(2*Math.pow(C,2)),L=y.mult(c.clone(P),C),O=y.normalise(y.mult(y.add(P,A),.5)),w=y.sub(m,y.mult(O,R)),b=a;a===-1&&(b=Math.pow(C,.32)*1.75),b=c.clamp(b,u,v),b%2===1&&(b+=1);for(var F=Math.acos(y.dot(P,A)),M=F/b,I=0;I<b;I++)d.push(y.add(y.rotate(L,M*I),w))}return d},f.clockwiseSort=function(o){var l=f.mean(o);return o.sort(function(a,u){return y.angle(l,a)-y.angle(l,u)}),o},f.isConvex=function(o){var l=0,a=o.length,u,v,d,p;if(a<3)return null;for(u=0;u<a;u++)if(v=(u+1)%a,d=(u+2)%a,p=(o[v].x-o[u].x)*(o[d].y-o[v].y),p-=(o[v].y-o[u].y)*(o[d].x-o[v].x),p<0?l|=1:p>0&&(l|=2),l===3)return!1;return l!==0?!0:null},f.hull=function(o){var l=[],a=[],u,v;for(o=o.slice(0),o.sort(function(d,p){var g=d.x-p.x;return g!==0?g:d.y-p.y}),v=0;v<o.length;v+=1){for(u=o[v];a.length>=2&&y.cross3(a[a.length-2],a[a.length-1],u)<=0;)a.pop();a.push(u)}for(v=o.length-1;v>=0;v-=1){for(u=o[v];l.length>=2&&y.cross3(l[l.length-2],l[l.length-1],u)<=0;)l.pop();l.push(u)}return l.pop(),a.pop(),l.concat(a)}})()},18210:(n,T,i)=>{var f=i(19933),y={name:"matter-attractors",version:"0.1.7",for:"matter-js@^0.19.0",silent:!0,install:r(function(c){c.after("Body.create",function(){y.Body.init(this)}),c.before("Engine.update",function(o){y.Engine.update(o)})},"install"),Body:{init:r(function(c){c.plugin.attractors=c.plugin.attractors||[]},"init")},Engine:{update:r(function(c){for(var o=f.Composite.allBodies(c.world),l=0;l<o.length;l++){var a=o[l],u=a.plugin.attractors;if(u&&u.length>0)for(var v=0;v<o.length;v++){var d=o[v];if(l!==v)for(var p=0;p<u.length;p++){var g=u[p],m=g;f.Common.isFunction(g)&&(m=g(a,d)),m&&f.Body.applyForce(d,d.position,m)}}}},"update")},Attractors:{gravityConstant:.001,gravity:r(function(c,o){var l=f.Vector.sub(o.position,c.position),a=f.Vector.magnitudeSquared(l)||1e-4,u=f.Vector.normalise(l),v=-y.Attractors.gravityConstant*(c.mass*o.mass/a),d=f.Vector.mult(u,v);f.Body.applyForce(c,c.position,f.Vector.neg(d)),f.Body.applyForce(o,o.position,d)},"gravity")}};n.exports=y},40178:n=>{/**
 * @author       @dxu https://github.com/dxu/matter-collision-events
 * @author       Richard Davey <rich@phaser.io>
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={name:"matter-collision-events",version:"0.1.6",for:"matter-js@^0.19.0",silent:!0,install:r(function(i){i.after("Engine.create",function(){i.Events.on(this,"collisionStart",function(f){f.pairs.map(function(y){var c=y.bodyA,o=y.bodyB;c.gameObject&&c.gameObject.emit("collide",c,o,y),o.gameObject&&o.gameObject.emit("collide",o,c,y),i.Events.trigger(c,"onCollide",{pair:y}),i.Events.trigger(o,"onCollide",{pair:y}),c.onCollideCallback&&c.onCollideCallback(y),o.onCollideCallback&&o.onCollideCallback(y),c.onCollideWith[o.id]&&c.onCollideWith[o.id](o,y),o.onCollideWith[c.id]&&o.onCollideWith[c.id](c,y)})}),i.Events.on(this,"collisionActive",function(f){f.pairs.map(function(y){var c=y.bodyA,o=y.bodyB;c.gameObject&&c.gameObject.emit("collideActive",c,o,y),o.gameObject&&o.gameObject.emit("collideActive",o,c,y),i.Events.trigger(c,"onCollideActive",{pair:y}),i.Events.trigger(o,"onCollideActive",{pair:y}),c.onCollideActiveCallback&&c.onCollideActiveCallback(y),o.onCollideActiveCallback&&o.onCollideActiveCallback(y)})}),i.Events.on(this,"collisionEnd",function(f){f.pairs.map(function(y){var c=y.bodyA,o=y.bodyB;c.gameObject&&c.gameObject.emit("collideEnd",c,o,y),o.gameObject&&o.gameObject.emit("collideEnd",o,c,y),i.Events.trigger(c,"onCollideEnd",{pair:y}),i.Events.trigger(o,"onCollideEnd",{pair:y}),c.onCollideEndCallback&&c.onCollideEndCallback(y),o.onCollideEndCallback&&o.onCollideEndCallback(y)})})})},"install")};n.exports=T},74507:(n,T,i)=>{var f=i(19933),y={name:"matter-wrap",version:"0.1.4",for:"matter-js@^0.19.0",silent:!0,install:r(function(c){c.after("Engine.update",function(){y.Engine.update(this)})},"install"),Engine:{update:r(function(c){for(var o=c.world,l=f.Composite.allBodies(o),a=f.Composite.allComposites(o),u=0;u<l.length;u+=1){var v=l[u];v.plugin.wrap&&y.Body.wrap(v,v.plugin.wrap)}for(u=0;u<a.length;u+=1){var d=a[u];d.plugin.wrap&&y.Composite.wrap(d,d.plugin.wrap)}},"update")},Bounds:{wrap:r(function(c,o){var l=null,a=null;if(typeof o.min.x<"u"&&typeof o.max.x<"u"&&(c.min.x>o.max.x?l=o.min.x-c.max.x:c.max.x<o.min.x&&(l=o.max.x-c.min.x)),typeof o.min.y<"u"&&typeof o.max.y<"u"&&(c.min.y>o.max.y?a=o.min.y-c.max.y:c.max.y<o.min.y&&(a=o.max.y-c.min.y)),l!==null||a!==null)return{x:l||0,y:a||0}},"wrap")},Body:{wrap:r(function(c,o){var l=y.Bounds.wrap(c.bounds,o);return l&&f.Body.translate(c,l),l},"wrap")},Composite:{bounds:r(function(c){for(var o=f.Composite.allBodies(c),l=[],a=0;a<o.length;a+=1){var u=o[a];l.push(u.bounds.min,u.bounds.max)}return f.Bounds.create(l)},"bounds"),wrap:r(function(c,o){var l=y.Bounds.wrap(y.Composite.bounds(c),o);return l&&f.Composite.translate(c,l),l},"wrap")}};n.exports=y},55973:n=>{/**
 * @author       Stefan Hedman <schteppe@gmail.com> (http://steffe.se)
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={decomp:F,quickDecomp:G,isSimple:I,removeCollinearPoints:N,removeDuplicatePoints:z,makeCCW:x};function T(V,Y,D){D=D||0;var U=[0,0],W,k,X,K,Z,J,Q;return W=V[1][1]-V[0][1],k=V[0][0]-V[1][0],X=W*V[0][0]+k*V[0][1],K=Y[1][1]-Y[0][1],Z=Y[0][0]-Y[1][0],J=K*Y[0][0]+Z*Y[0][1],Q=W*Z-K*k,H(Q,0,D)||(U[0]=(Z*X-k*J)/Q,U[1]=(W*J-K*X)/Q),U}r(T,"lineInt");function i(V,Y,D,U){var W=Y[0]-V[0],k=Y[1]-V[1],X=U[0]-D[0],K=U[1]-D[1];if(X*k-K*W===0)return!1;var Z=(W*(D[1]-V[1])+k*(V[0]-D[0]))/(X*k-K*W),J=(X*(V[1]-D[1])+K*(D[0]-V[0]))/(K*W-X*k);return Z>=0&&Z<=1&&J>=0&&J<=1}r(i,"lineSegmentsIntersect");function f(V,Y,D){return(Y[0]-V[0])*(D[1]-V[1])-(D[0]-V[0])*(Y[1]-V[1])}r(f,"triangleArea");function y(V,Y,D){return f(V,Y,D)>0}r(y,"isLeft");function c(V,Y,D){return f(V,Y,D)>=0}r(c,"isLeftOn");function o(V,Y,D){return f(V,Y,D)<0}r(o,"isRight");function l(V,Y,D){return f(V,Y,D)<=0}r(l,"isRightOn");var a=[],u=[];function v(V,Y,D,U){if(U){var W=a,k=u;W[0]=Y[0]-V[0],W[1]=Y[1]-V[1],k[0]=D[0]-Y[0],k[1]=D[1]-Y[1];var X=W[0]*k[0]+W[1]*k[1],K=Math.sqrt(W[0]*W[0]+W[1]*W[1]),Z=Math.sqrt(k[0]*k[0]+k[1]*k[1]),J=Math.acos(X/(K*Z));return J<U}else return f(V,Y,D)===0}r(v,"collinear");function d(V,Y){var D=Y[0]-V[0],U=Y[1]-V[1];return D*D+U*U}r(d,"sqdist");function p(V,Y){var D=V.length;return V[Y<0?Y%D+D:Y%D]}r(p,"polygonAt");function g(V){V.length=0}r(g,"polygonClear");function m(V,Y,D,U){for(var W=D;W<U;W++)V.push(Y[W])}r(m,"polygonAppend");function x(V){for(var Y=0,D=V,U=1;U<V.length;++U)(D[U][1]<D[Y][1]||D[U][1]===D[Y][1]&&D[U][0]>D[Y][0])&&(Y=U);return y(p(V,Y-1),p(V,Y),p(V,Y+1))?!1:(C(V),!0)}r(x,"polygonMakeCCW");function C(V){for(var Y=[],D=V.length,U=0;U!==D;U++)Y.push(V.pop());for(var U=0;U!==D;U++)V[U]=Y[U]}r(C,"polygonReverse");function P(V,Y){return o(p(V,Y-1),p(V,Y),p(V,Y+1))}r(P,"polygonIsReflex");var A=[],R=[];function L(V,Y,D){var U,W,k=A,X=R;if(c(p(V,Y+1),p(V,Y),p(V,D))&&l(p(V,Y-1),p(V,Y),p(V,D)))return!1;W=d(p(V,Y),p(V,D));for(var K=0;K!==V.length;++K)if(!((K+1)%V.length===Y||K===Y)&&c(p(V,Y),p(V,D),p(V,K+1))&&l(p(V,Y),p(V,D),p(V,K))&&(k[0]=p(V,Y),k[1]=p(V,D),X[0]=p(V,K),X[1]=p(V,K+1),U=T(k,X),d(p(V,Y),U)<W))return!1;return!0}r(L,"polygonCanSee");function O(V,Y,D){for(var U=0;U!==V.length;++U)if(!(U===Y||U===D||(U+1)%V.length===Y||(U+1)%V.length===D)&&i(p(V,Y),p(V,D),p(V,U),p(V,U+1)))return!1;return!0}r(O,"polygonCanSee2");function w(V,Y,D,U){var W=U||[];if(g(W),Y<D)for(var k=Y;k<=D;k++)W.push(V[k]);else{for(var k=0;k<=D;k++)W.push(V[k]);for(var k=Y;k<V.length;k++)W.push(V[k])}return W}r(w,"polygonCopy");function b(V){for(var Y=[],D=[],U=[],W=[],k=Number.MAX_VALUE,X=0;X<V.length;++X)if(P(V,X)){for(var K=0;K<V.length;++K)if(L(V,X,K)){D=b(w(V,X,K,W)),U=b(w(V,K,X,W));for(var Z=0;Z<U.length;Z++)D.push(U[Z]);D.length<k&&(Y=D,k=D.length,Y.push([p(V,X),p(V,K)]))}}return Y}r(b,"polygonGetCutEdges");function F(V){var Y=b(V);return Y.length>0?M(V,Y):[V]}r(F,"polygonDecomp");function M(V,Y){if(Y.length===0)return[V];if(Y instanceof Array&&Y.length&&Y[0]instanceof Array&&Y[0].length===2&&Y[0][0]instanceof Array){for(var D=[V],U=0;U<Y.length;U++)for(var W=Y[U],k=0;k<D.length;k++){var X=D[k],K=M(X,W);if(K){D.splice(k,1),D.push(K[0],K[1]);break}}return D}else{var W=Y,U=V.indexOf(W[0]),k=V.indexOf(W[1]);return U!==-1&&k!==-1?[w(V,U,k),w(V,k,U)]:!1}}r(M,"polygonSlice");function I(V){var Y=V,D;for(D=0;D<Y.length-1;D++)for(var U=0;U<D-1;U++)if(i(Y[D],Y[D+1],Y[U],Y[U+1]))return!1;for(D=1;D<Y.length-2;D++)if(i(Y[0],Y[Y.length-1],Y[D],Y[D+1]))return!1;return!0}r(I,"polygonIsSimple");function B(V,Y,D,U,W){W=W||0;var k=Y[1]-V[1],X=V[0]-Y[0],K=k*V[0]+X*V[1],Z=U[1]-D[1],J=D[0]-U[0],Q=Z*D[0]+J*D[1],j=k*J-Z*X;return H(j,0,W)?[0,0]:[(J*K-X*Q)/j,(k*Q-Z*K)/j]}r(B,"getIntersectionPoint");function G(V,Y,D,U,W,k,X){k=k||100,X=X||0,W=W||25,Y=typeof Y<"u"?Y:[],D=D||[],U=U||[];var K=[0,0],Z=[0,0],J=[0,0],Q=0,j=0,q=0,tt=0,_=0,rt=0,ht=0,lt=[],ot=[],et=V,at=V;if(at.length<3)return Y;if(X++,X>k)return console.warn("quickDecomp: max level ("+k+") reached."),Y;for(var nt=0;nt<V.length;++nt)if(P(et,nt)){D.push(et[nt]),Q=j=Number.MAX_VALUE;for(var vt=0;vt<V.length;++vt)y(p(et,nt-1),p(et,nt),p(et,vt))&&l(p(et,nt-1),p(et,nt),p(et,vt-1))&&(J=B(p(et,nt-1),p(et,nt),p(et,vt),p(et,vt-1)),o(p(et,nt+1),p(et,nt),J)&&(q=d(et[nt],J),q<j&&(j=q,Z=J,rt=vt))),y(p(et,nt+1),p(et,nt),p(et,vt+1))&&l(p(et,nt+1),p(et,nt),p(et,vt))&&(J=B(p(et,nt+1),p(et,nt),p(et,vt),p(et,vt+1)),y(p(et,nt-1),p(et,nt),J)&&(q=d(et[nt],J),q<Q&&(Q=q,K=J,_=vt)));if(rt===(_+1)%V.length)J[0]=(Z[0]+K[0])/2,J[1]=(Z[1]+K[1])/2,U.push(J),nt<_?(m(lt,et,nt,_+1),lt.push(J),ot.push(J),rt!==0&&m(ot,et,rt,et.length),m(ot,et,0,nt+1)):(nt!==0&&m(lt,et,nt,et.length),m(lt,et,0,_+1),lt.push(J),ot.push(J),m(ot,et,rt,nt+1));else{if(rt>_&&(_+=V.length),tt=Number.MAX_VALUE,_<rt)return Y;for(var vt=rt;vt<=_;++vt)c(p(et,nt-1),p(et,nt),p(et,vt))&&l(p(et,nt+1),p(et,nt),p(et,vt))&&(q=d(p(et,nt),p(et,vt)),q<tt&&O(et,nt,vt)&&(tt=q,ht=vt%V.length));nt<ht?(m(lt,et,nt,ht+1),ht!==0&&m(ot,et,ht,at.length),m(ot,et,0,nt+1)):(nt!==0&&m(lt,et,nt,at.length),m(lt,et,0,ht+1),m(ot,et,ht,nt+1))}return lt.length<ot.length?(G(lt,Y,D,U,W,k,X),G(ot,Y,D,U,W,k,X)):(G(ot,Y,D,U,W,k,X),G(lt,Y,D,U,W,k,X)),Y}return Y.push(V),Y}r(G,"polygonQuickDecomp");function N(V,Y){for(var D=0,U=V.length-1;V.length>3&&U>=0;--U)v(p(V,U-1),p(V,U),p(V,U+1),Y)&&(V.splice(U%V.length,1),D++);return D}r(N,"polygonRemoveCollinearPoints");function z(V,Y){for(var D=V.length-1;D>=1;--D)for(var U=V[D],W=D-1;W>=0;--W)if($(U,V[W],Y)){V.splice(D,1);continue}}r(z,"polygonRemoveDuplicatePoints");function H(V,Y,D){return D=D||0,Math.abs(V-Y)<=D}r(H,"scalar_eq");function $(V,Y,D){return H(V[0],Y[0],D)&&H(V[1],Y[1],D)}r($,"points_eq")},52018:(n,T,i)=>{/**
* @author       Richard Davey <rich@phaser.io>
* @copyright    2013-2024 Phaser Studio Inc.
* @license      {@link https://github.com/photonstorm/phaser3-plugin-template/blob/master/LICENSE|MIT License}
*/var f=i(83419),y=new f({initialize:r(function(o){this.pluginManager=o,this.game=o.game},"BasePlugin"),init:r(function(){},"init"),start:r(function(){},"start"),stop:r(function(){},"stop"),destroy:r(function(){this.pluginManager=null,this.game=null,this.scene=null,this.systems=null},"destroy")});n.exports=y},42363:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={Global:["game","anims","cache","plugins","registry","scale","sound","textures","renderer"],CoreScene:["EventEmitter","CameraManager","GameObjectCreator","GameObjectFactory","ScenePlugin","DisplayList","UpdateList"],DefaultScene:["Clock","DataManagerPlugin","InputPlugin","Loader","TweenManager","LightsPlugin"]};n.exports=T},37277:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={},i={},f={};f.register=function(y,c,o,l){l===void 0&&(l=!1),T[y]={plugin:c,mapping:o,custom:l}},f.registerCustom=function(y,c,o,l){i[y]={plugin:c,mapping:o,data:l}},f.hasCore=function(y){return T.hasOwnProperty(y)},f.hasCustom=function(y){return i.hasOwnProperty(y)},f.getCore=function(y){return T[y]},f.getCustom=function(y){return i[y]},f.getCustomClass=function(y){return i.hasOwnProperty(y)?i[y].plugin:null},f.remove=function(y){T.hasOwnProperty(y)&&delete T[y]},f.removeCustom=function(y){i.hasOwnProperty(y)&&delete i[y]},f.destroyCorePlugins=function(){for(var y in T)T.hasOwnProperty(y)&&delete T[y]},f.destroyCustomPlugins=function(){for(var y in i)i.hasOwnProperty(y)&&delete i[y]},n.exports=f},77332:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(83419),y=i(8443),c=i(50792),o=i(74099),l=i(44603),a=i(39429),u=i(95540),v=i(37277),d=i(72905),p=new f({Extends:c,initialize:r(function(m){c.call(this),this.game=m,this.plugins=[],this.scenePlugins=[],this._pendingGlobal=[],this._pendingScene=[],m.isBooted?this.boot():m.events.once(y.BOOT,this.boot,this)},"PluginManager"),boot:r(function(){var g,m,x,C,P,A,R,L=this.game.config,O=L.installGlobalPlugins;for(O=O.concat(this._pendingGlobal),g=0;g<O.length;g++)m=O[g],x=u(m,"key",null),C=u(m,"plugin",null),P=u(m,"start",!1),A=u(m,"mapping",null),R=u(m,"data",null),x&&(C?this.install(x,C,P,A,R):console.warn("Missing `plugin` for key: "+x));for(O=L.installScenePlugins,O=O.concat(this._pendingScene),g=0;g<O.length;g++)m=O[g],x=u(m,"key",null),C=u(m,"plugin",null),A=u(m,"mapping",null),x&&(C?this.installScenePlugin(x,C,A):console.warn("Missing `plugin` for key: "+x));this._pendingGlobal=[],this._pendingScene=[],this.game.events.once(y.DESTROY,this.destroy,this)},"boot"),addToScene:r(function(g,m,x){var C,P,A,R=this.game,L=g.scene,O=g.settings.map,w=g.settings.isBooted;for(C=0;C<m.length;C++)P=m[C],R[P]?(g[P]=R[P],O.hasOwnProperty(P)&&(L[O[P]]=g[P])):P==="game"&&O.hasOwnProperty(P)&&(L[O[P]]=R);for(var b=0;b<x.length;b++)for(A=x[b],C=0;C<A.length;C++)if(P=A[C],!!v.hasCore(P)){var F=v.getCore(P),M=F.mapping,I=new F.plugin(L,this,M);g[M]=I,F.custom?L[M]=I:O.hasOwnProperty(M)&&(L[O[M]]=I),w&&I.boot()}for(A=this.plugins,C=0;C<A.length;C++){var B=A[C];B.mapping&&(L[B.mapping]=B.plugin)}},"addToScene"),getDefaultScenePlugins:r(function(){var g=this.game.config.defaultPlugins;return g=g.concat(this.scenePlugins),g},"getDefaultScenePlugins"),installScenePlugin:r(function(g,m,x,C,P){if(P===void 0&&(P=!1),typeof m!="function"){console.warn("Invalid Scene Plugin: "+g);return}if(v.hasCore(g)||v.register(g,m,x,!0),this.scenePlugins.indexOf(g)===-1)this.scenePlugins.push(g);else if(!P&&v.hasCore(g)){console.warn("Scene Plugin key in use: "+g);return}if(C){var A=new m(C,this,g);C.sys[g]=A,x&&x!==""&&(C[x]=A),A.boot()}},"installScenePlugin"),install:r(function(g,m,x,C,P){if(x===void 0&&(x=!1),C===void 0&&(C=null),P===void 0&&(P=null),typeof m!="function")return console.warn("Invalid Plugin: "+g),null;if(v.hasCustom(g))return console.warn("Plugin key in use: "+g),null;if(C!==null&&(x=!0),!this.game.isBooted)this._pendingGlobal.push({key:g,plugin:m,start:x,mapping:C,data:P});else if(v.registerCustom(g,m,C,P),x)return this.start(g);return null},"install"),getIndex:r(function(g){for(var m=this.plugins,x=0;x<m.length;x++){var C=m[x];if(C.key===g)return x}return-1},"getIndex"),getEntry:r(function(g){var m=this.getIndex(g);if(m!==-1)return this.plugins[m]},"getEntry"),isActive:r(function(g){var m=this.getEntry(g);return m&&m.active},"isActive"),start:r(function(g,m){m===void 0&&(m=g);var x=this.getEntry(m);return x&&!x.active?(x.active=!0,x.plugin.start()):x||(x=this.createEntry(g,m)),x?x.plugin:null},"start"),createEntry:r(function(g,m){var x=v.getCustom(g);if(x){var C=new x.plugin(this);x={key:m,plugin:C,active:!0,mapping:x.mapping,data:x.data},this.plugins.push(x),C.init(x.data),C.start()}return x},"createEntry"),stop:r(function(g){var m=this.getEntry(g);return m&&m.active&&(m.active=!1,m.plugin.stop()),this},"stop"),get:r(function(g,m){m===void 0&&(m=!0);var x=this.getEntry(g);if(x)return x.plugin;var C=this.getClass(g);return C&&m?(x=this.createEntry(g,g),x?x.plugin:null):C||null},"get"),getClass:r(function(g){return v.getCustomClass(g)},"getClass"),removeGlobalPlugin:r(function(g){var m=this.getEntry(g);m&&d(this.plugins,m),v.removeCustom(g)},"removeGlobalPlugin"),removeScenePlugin:r(function(g){d(this.scenePlugins,g),v.remove(g)},"removeScenePlugin"),registerGameObject:r(function(g,m,x){return m&&a.register(g,m),x&&l.register(g,x),this},"registerGameObject"),removeGameObject:r(function(g,m,x){return m===void 0&&(m=!0),x===void 0&&(x=!0),m&&a.remove(g),x&&l.remove(g),this},"removeGameObject"),registerFileType:r(function(g,m,x){o.register(g,m),x&&x.sys.load&&(x.sys.load[g]=m)},"registerFileType"),destroy:r(function(){for(var g=0;g<this.plugins.length;g++)this.plugins[g].plugin.destroy();v.destroyCustomPlugins(),this.game.noReturn&&v.destroyCorePlugins(),this.game=null,this.plugins=[],this.scenePlugins=[]},"destroy")});n.exports=p},45145:(n,T,i)=>{/**
* @author       Richard Davey <rich@phaser.io>
* @copyright    2013-2024 Phaser Studio Inc.
* @license      {@link https://github.com/photonstorm/phaser3-plugin-template/blob/master/LICENSE|MIT License}
*/var f=i(52018),y=i(83419),c=i(44594),o=new y({Extends:f,initialize:r(function(a,u,v){f.call(this,u),this.scene=a,this.systems=a.sys,this.pluginKey=v,a.sys.events.once(c.BOOT,this.boot,this)},"ScenePlugin"),boot:r(function(){},"boot"),destroy:r(function(){this.pluginManager=null,this.game=null,this.scene=null,this.systems=null},"destroy")});n.exports=o},18922:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={BasePlugin:i(52018),DefaultPlugins:i(42363),PluginCache:i(37277),PluginManager:i(77332),ScenePlugin:i(45145)}},63595:()=>{HTMLVideoElement&&!("requestVideoFrameCallback"in HTMLVideoElement.prototype)&&"getVideoPlaybackQuality"in HTMLVideoElement.prototype&&(HTMLVideoElement.prototype._rvfcpolyfillmap={},HTMLVideoElement.prototype.requestVideoFrameCallback=function(n){const T=performance.now(),i=this.getVideoPlaybackQuality(),f=this.mozPresentedFrames||this.mozPaintedFrames||i.totalVideoFrames-i.droppedVideoFrames,y=r((c,o)=>{const l=this.getVideoPlaybackQuality(),a=this.mozPresentedFrames||this.mozPaintedFrames||l.totalVideoFrames-l.droppedVideoFrames;if(a>f){const u=this.mozFrameDelay||l.totalFrameDelay-i.totalFrameDelay||0,v=o-c;n(o,{presentationTime:o+u*1e3,expectedDisplayTime:o+v,width:this.videoWidth,height:this.videoHeight,mediaTime:Math.max(0,this.currentTime||0)+v/1e3,presentedFrames:a,processingDuration:u}),delete this._rvfcpolyfillmap[T]}else this._rvfcpolyfillmap[T]=requestAnimationFrame(u=>y(o,u))},"check");return this._rvfcpolyfillmap[T]=requestAnimationFrame(c=>y(T,c)),T},HTMLVideoElement.prototype.cancelVideoFrameCallback=function(n){cancelAnimationFrame(this._rvfcpolyfillmap[n]),delete this._rvfcpolyfillmap[n]})},10312:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={SKIP_CHECK:-1,NORMAL:0,ADD:1,MULTIPLY:2,SCREEN:3,OVERLAY:4,DARKEN:5,LIGHTEN:6,COLOR_DODGE:7,COLOR_BURN:8,HARD_LIGHT:9,SOFT_LIGHT:10,DIFFERENCE:11,EXCLUSION:12,HUE:13,SATURATION:14,COLOR:15,LUMINOSITY:16,ERASE:17,SOURCE_IN:18,SOURCE_OUT:19,SOURCE_ATOP:20,DESTINATION_OVER:21,DESTINATION_IN:22,DESTINATION_OUT:23,DESTINATION_ATOP:24,LIGHTER:25,COPY:26,XOR:27}},29795:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={DEFAULT:0,LINEAR:0,NEAREST:1};n.exports=T},68627:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(19715),y=i(32880),c=i(83419),o=i(8054),l=i(50792),a=i(92503),u=i(56373),v=i(97480),d=i(69442),p=i(61340),g=new c({Extends:l,initialize:r(function(x){l.call(this);var C=x.config;this.config={clearBeforeRender:C.clearBeforeRender,backgroundColor:C.backgroundColor,antialias:C.antialias,roundPixels:C.roundPixels},this.game=x,this.type=o.CANVAS,this.drawCount=0,this.width=0,this.height=0,this.gameCanvas=x.canvas;var P={alpha:x.config.transparent,desynchronized:x.config.desynchronized,willReadFrequently:!1};this.gameContext=C.context?C.context:this.gameCanvas.getContext("2d",P),this.currentContext=this.gameContext,this.antialias=x.config.antialias,this.blendModes=u(),this.snapshotState={x:0,y:0,width:1,height:1,getPixel:!1,callback:null,type:"image/png",encoder:.92},this._tempMatrix1=new p,this._tempMatrix2=new p,this._tempMatrix3=new p,this.isBooted=!1,this.init()},"CanvasRenderer"),init:r(function(){this.game.textures.once(d.READY,this.boot,this)},"init"),boot:r(function(){var m=this.game,x=m.scale.baseSize;this.width=x.width,this.height=x.height,this.isBooted=!0,m.scale.on(v.RESIZE,this.onResize,this),this.resize(x.width,x.height)},"boot"),onResize:r(function(m,x){(x.width!==this.width||x.height!==this.height)&&this.resize(x.width,x.height)},"onResize"),resize:r(function(m,x){this.width=m,this.height=x,this.emit(a.RESIZE,m,x)},"resize"),resetTransform:r(function(){this.currentContext.setTransform(1,0,0,1,0,0)},"resetTransform"),setBlendMode:r(function(m){return this.currentContext.globalCompositeOperation=m,this},"setBlendMode"),setContext:r(function(m){return this.currentContext=m||this.gameContext,this},"setContext"),setAlpha:r(function(m){return this.currentContext.globalAlpha=m,this},"setAlpha"),preRender:r(function(){var m=this.gameContext,x=this.config,C=this.width,P=this.height;m.globalAlpha=1,m.globalCompositeOperation="source-over",m.setTransform(1,0,0,1,0,0),x.clearBeforeRender&&(m.clearRect(0,0,C,P),x.transparent||(m.fillStyle=x.backgroundColor.rgba,m.fillRect(0,0,C,P))),m.save(),this.drawCount=0,this.emit(a.PRE_RENDER)},"preRender"),render:r(function(m,x,C){var P=x.length;this.emit(a.RENDER,m,C);var A=C.x,R=C.y,L=C.width,O=C.height,w=C.renderToTexture?C.context:m.sys.context;w.save(),this.game.scene.customViewports&&(w.beginPath(),w.rect(A,R,L,O),w.clip()),C.emit(f.PRE_RENDER,C),this.currentContext=w;var b=C.mask;b&&b.preRenderCanvas(this,null,C._maskCamera),C.transparent||(w.fillStyle=C.backgroundColor.rgba,w.fillRect(A,R,L,O)),w.globalAlpha=C.alpha,w.globalCompositeOperation="source-over",this.drawCount+=P,C.renderToTexture&&C.emit(f.PRE_RENDER,C),C.matrix.copyToContext(w);for(var F=0;F<P;F++){var M=x[F];M.mask&&M.mask.preRenderCanvas(this,M,C),M.renderCanvas(this,M,C),M.mask&&M.mask.postRenderCanvas(this,M,C)}w.setTransform(1,0,0,1,0,0),w.globalCompositeOperation="source-over",w.globalAlpha=1,C.flashEffect.postRenderCanvas(w),C.fadeEffect.postRenderCanvas(w),C.dirty=!1,b&&b.postRenderCanvas(this),w.restore(),C.renderToTexture&&(C.emit(f.POST_RENDER,C),C.renderToGame&&m.sys.context.drawImage(C.canvas,A,R)),C.emit(f.POST_RENDER,C)},"render"),postRender:r(function(){var m=this.gameContext;m.restore(),this.emit(a.POST_RENDER);var x=this.snapshotState;x.callback&&(y(this.gameCanvas,x),x.callback=null)},"postRender"),snapshotCanvas:r(function(m,x,C,P,A,R,L,O,w){C===void 0&&(C=!1),this.snapshotArea(P,A,R,L,x,O,w);var b=this.snapshotState;return b.getPixel=C,y(m,b),b.callback=null,this},"snapshotCanvas"),snapshot:r(function(m,x,C){return this.snapshotArea(0,0,this.gameCanvas.width,this.gameCanvas.height,m,x,C)},"snapshot"),snapshotArea:r(function(m,x,C,P,A,R,L){var O=this.snapshotState;return O.callback=A,O.type=R,O.encoder=L,O.getPixel=!1,O.x=m,O.y=x,O.width=Math.min(C,this.gameCanvas.width),O.height=Math.min(P,this.gameCanvas.height),this},"snapshotArea"),snapshotPixel:r(function(m,x,C){return this.snapshotArea(m,x,1,1,C),this.snapshotState.getPixel=!0,this},"snapshotPixel"),batchSprite:r(function(m,x,C,P){var A=C.alpha*m.alpha;if(A!==0){var R=this.currentContext,L=this._tempMatrix1,O=this._tempMatrix2,w=x.canvasData,b=w.x,F=w.y,M=x.cutWidth,I=x.cutHeight,B=x.customPivot,G=x.source.resolution,N=m.displayOriginX,z=m.displayOriginY,H=-N+x.x,$=-z+x.y;if(m.isCropped){var V=m._crop;(V.flipX!==m.flipX||V.flipY!==m.flipY)&&x.updateCropUVs(V,m.flipX,m.flipY),M=V.cw,I=V.ch,b=V.cx,F=V.cy,H=-N+V.x,$=-z+V.y,m.flipX&&(H>=0?H=-(H+M):H<0&&(H=Math.abs(H)-M)),m.flipY&&($>=0?$=-($+I):$<0&&($=Math.abs($)-I))}var Y=1,D=1;m.flipX&&(B||(H+=-x.realWidth+N*2),Y=-1),m.flipY&&(B||($+=-x.realHeight+z*2),D=-1);var U=m.x,W=m.y;O.applyITRS(U,W,m.rotation,m.scaleX*Y,m.scaleY*D),L.copyFrom(C.matrix),P?(L.multiplyWithOffset(P,-C.scrollX*m.scrollFactorX,-C.scrollY*m.scrollFactorY),O.e=U,O.f=W):(O.e-=C.scrollX*m.scrollFactorX,O.f-=C.scrollY*m.scrollFactorY),L.multiply(O),C.roundPixels&&(L.e=Math.round(L.e),L.f=Math.round(L.f)),R.save(),L.setToContext(R),R.globalCompositeOperation=this.blendModes[m.blendMode],R.globalAlpha=A,R.imageSmoothingEnabled=!x.source.scaleMode,m.mask&&m.mask.preRenderCanvas(this,m,C),M>0&&I>0&&(C.roundPixels?R.drawImage(x.source.image,b,F,M,I,Math.round(H),Math.round($),Math.round(M/G),Math.round(I/G)):R.drawImage(x.source.image,b,F,M,I,H,$,M/G,I/G)),m.mask&&m.mask.postRenderCanvas(this,m,C),R.restore()}},"batchSprite"),destroy:r(function(){this.removeAllListeners(),this.game=null,this.gameCanvas=null,this.gameContext=null},"destroy")});n.exports=g},55830:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={CanvasRenderer:i(68627),GetBlendModes:i(56373),SetTransform:i(20926)}},56373:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(10312),y=i(89289),c=r(function(){var o=[],l=y.supportNewBlendModes,a="source-over";return o[f.NORMAL]=a,o[f.ADD]="lighter",o[f.MULTIPLY]=l?"multiply":a,o[f.SCREEN]=l?"screen":a,o[f.OVERLAY]=l?"overlay":a,o[f.DARKEN]=l?"darken":a,o[f.LIGHTEN]=l?"lighten":a,o[f.COLOR_DODGE]=l?"color-dodge":a,o[f.COLOR_BURN]=l?"color-burn":a,o[f.HARD_LIGHT]=l?"hard-light":a,o[f.SOFT_LIGHT]=l?"soft-light":a,o[f.DIFFERENCE]=l?"difference":a,o[f.EXCLUSION]=l?"exclusion":a,o[f.HUE]=l?"hue":a,o[f.SATURATION]=l?"saturation":a,o[f.COLOR]=l?"color":a,o[f.LUMINOSITY]=l?"luminosity":a,o[f.ERASE]="destination-out",o[f.SOURCE_IN]="source-in",o[f.SOURCE_OUT]="source-out",o[f.SOURCE_ATOP]="source-atop",o[f.DESTINATION_OVER]="destination-over",o[f.DESTINATION_IN]="destination-in",o[f.DESTINATION_OUT]="destination-out",o[f.DESTINATION_ATOP]="destination-atop",o[f.LIGHTER]="lighter",o[f.COPY]="copy",o[f.XOR]="xor",o},"GetBlendModes");n.exports=c},20926:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(91296),y=r(function(c,o,l,a,u){var v=a.alpha*l.alpha;if(v<=0)return!1;var d=f(l,a,u).calc;return o.globalCompositeOperation=c.blendModes[l.blendMode],o.globalAlpha=v,o.save(),d.setToContext(o),o.imageSmoothingEnabled=l.frame?!l.frame.source.scaleMode:c.antialias,!0},"SetTransform");n.exports=y},63899:n=>{/**
 * @author       Benjamin D. Richards <benjamindrichards@gmail.com>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="losewebgl"},6119:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="postrender"},48070:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="prerender"},15640:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="render"},8912:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="resize"},87124:n=>{/**
 * @author       Benjamin D. Richards <benjamindrichards@gmail.com>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="restorewebgl"},92503:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={LOSE_WEBGL:i(63899),POST_RENDER:i(6119),PRE_RENDER:i(48070),RENDER:i(15640),RESIZE:i(8912),RESTORE_WEBGL:i(87124)}},36909:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={Events:i(92503),Snapshot:i(89966)},n.exports.Canvas=i(55830),n.exports.WebGL=i(4159)},32880:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(27919),y=i(40987),c=i(95540),o=r(function(l,a){var u=c(a,"callback"),v=c(a,"type","image/png"),d=c(a,"encoder",.92),p=Math.abs(Math.round(c(a,"x",0))),g=Math.abs(Math.round(c(a,"y",0))),m=Math.floor(c(a,"width",l.width)),x=Math.floor(c(a,"height",l.height)),C=c(a,"getPixel",!1);if(C){var P=l.getContext("2d",{willReadFrequently:!1}),A=P.getImageData(p,g,1,1),R=A.data;u.call(null,new y(R[0],R[1],R[2],R[3]))}else if(p!==0||g!==0||m!==l.width||x!==l.height){var L=f.createWebGL(this,m,x),O=L.getContext("2d",{willReadFrequently:!0});m>0&&x>0&&O.drawImage(l,p,g,m,x,0,0,m,x);var w=new Image;w.onerror=function(){u.call(null),f.remove(L)},w.onload=function(){u.call(null,w),f.remove(L)},w.src=L.toDataURL(v,d)}else{var b=new Image;b.onerror=function(){u.call(null)},b.onload=function(){u.call(null,b)},b.src=l.toDataURL(v,d)}},"CanvasSnapshot");n.exports=o},88815:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(27919),y=i(40987),c=i(95540),o=r(function(l,a){var u=l,v=c(a,"callback"),d=c(a,"type","image/png"),p=c(a,"encoder",.92),g=Math.abs(Math.round(c(a,"x",0))),m=Math.abs(Math.round(c(a,"y",0))),x=c(a,"getPixel",!1),C=c(a,"isFramebuffer",!1),P=C?c(a,"bufferWidth",1):u.drawingBufferWidth,A=C?c(a,"bufferHeight",1):u.drawingBufferHeight;if(x){var R=new Uint8Array(4),L=C?m:A-m;u.readPixels(g,L,1,1,u.RGBA,u.UNSIGNED_BYTE,R),v.call(null,new y(R[0],R[1],R[2],R[3]))}else{var O=Math.floor(c(a,"width",P)),w=Math.floor(c(a,"height",A)),b=O*w*4,F=new Uint8Array(b);u.readPixels(g,A-m-w,O,w,u.RGBA,u.UNSIGNED_BYTE,F);for(var M=f.createWebGL(this,O,w),I=M.getContext("2d",{willReadFrequently:!0}),B=I.getImageData(0,0,O,w),G=B.data,N=0;N<w;N++)for(var z=0;z<O;z++){var H=((w-N-1)*O+z)*4,$=C?b-(N*O+(O-z))*4:(N*O+z)*4;G[$+0]=F[H+0],G[$+1]=F[H+1],G[$+2]=F[H+2],G[$+3]=F[H+3]}I.putImageData(B,0,0);var V=new Image;V.onerror=function(){v.call(null),f.remove(M)},V.onload=function(){v.call(null,V),f.remove(M)},V.src=M.toDataURL(d,p)}},"WebGLSnapshot");n.exports=o},89966:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={Canvas:i(32880),WebGL:i(88815)}},7530:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(83419),y=i(36060),c=i(90330),o=i(82264),l=i(95540),a=i(32302),u=i(63448),v=i(31302),d=i(58918),p=i(14811),g=i(92651),m=i(96569),x=i(56527),C=i(57516),P=i(43439),A=i(81041),R=i(12385),L=i(7589),O=i(95428),w=i(72905),b=new f({initialize:r(function(M){this.game=M.game,this.renderer=M,this.classes=new c([[y.UTILITY_PIPELINE,L],[y.MULTI_PIPELINE,C],[y.BITMAPMASK_PIPELINE,v],[y.SINGLE_PIPELINE,R],[y.ROPE_PIPELINE,A],[y.LIGHT_PIPELINE,m],[y.POINTLIGHT_PIPELINE,P],[y.MOBILE_PIPELINE,x]]),this.postPipelineClasses=new c,this.pipelines=new c,this.postPipelineInstances=[],this.default=null,this.current=null,this.previous=null,this.MULTI_PIPELINE=null,this.BITMAPMASK_PIPELINE=null,this.UTILITY_PIPELINE=null,this.MOBILE_PIPELINE=null,this.FX_PIPELINE=null,this.fullFrame1,this.fullFrame2,this.halfFrame1,this.halfFrame2,this.renderTargets=[],this.maxDimension=0,this.frameInc=32,this.targetIndex=0},"PipelineManager"),boot:r(function(F,M,I){var B=this.renderer,G=this.renderTargets;this.frameInc=Math.floor(l(F,"frameInc",32));var N=B.width,z=B.height,H=this.game.config.disablePreFX,$=this.game.config.disablePostFX;if($||this.postPipelineClasses.setAll([[String(p.BARREL),d.Barrel],[String(p.BLOOM),d.Bloom],[String(p.BLUR),d.Blur],[String(p.BOKEH),d.Bokeh],[String(p.CIRCLE),d.Circle],[String(p.COLOR_MATRIX),d.ColorMatrix],[String(p.DISPLACEMENT),d.Displacement],[String(p.GLOW),d.Glow],[String(p.GRADIENT),d.Gradient],[String(p.PIXELATE),d.Pixelate],[String(p.SHADOW),d.Shadow],[String(p.SHINE),d.Shine],[String(p.VIGNETTE),d.Vignette],[String(p.WIPE),d.Wipe]]),!H){this.classes.set(y.FX_PIPELINE,g);for(var V=Math.min(N,z),Y=Math.ceil(V/this.frameInc),D=1;D<Y;D++){var U=D*this.frameInc;G.push(new a(B,U,U)),G.push(new a(B,U,U)),G.push(new a(B,U,U)),this.maxDimension=U}G.push(new a(B,N,z,1,0,!0,!0)),G.push(new a(B,N,z,1,0,!0,!0)),G.push(new a(B,N,z,1,0,!0,!0))}var W,k,X=this,K=this.game;if(this.classes.each(function(J,Q){W=X.add(J,new Q({game:K})),J===y.UTILITY_PIPELINE&&(X.UTILITY_PIPELINE=W,X.fullFrame1=W.fullFrame1,X.fullFrame2=W.fullFrame2,X.halfFrame1=W.halfFrame1,X.halfFrame2=W.halfFrame2)}),this.MULTI_PIPELINE=this.get(y.MULTI_PIPELINE),this.BITMAPMASK_PIPELINE=this.get(y.BITMAPMASK_PIPELINE),this.MOBILE_PIPELINE=this.get(y.MOBILE_PIPELINE),H||(this.FX_PIPELINE=this.get(y.FX_PIPELINE)),F)for(k in F){var Z=F[k];W=new Z(K),W.name=k,W.isPostFX?this.postPipelineClasses.set(k,Z):this.has(k)||(this.classes.set(k,Z),this.add(k,W))}this.default=this.get(M),I&&!o.os.desktop&&(this.default=this.MOBILE_PIPELINE)},"boot"),setDefaultPipeline:r(function(F){var M=this.get(F);return M&&(this.default=M),M},"setDefaultPipeline"),add:r(function(F,M){if(M.isPostFX){console.warn(F+" is a Post Pipeline. Use `addPostPipeline` instead");return}var I=this.pipelines,B=this.renderer;return I.has(F)?console.warn("Pipeline exists: "+F):(M.name=F,M.manager=this,I.set(F,M)),M.hasBooted||M.boot(),B.width!==0&&B.height!==0&&!M.isPreFX&&M.resize(B.width,B.height),M},"add"),addPostPipeline:r(function(F,M){this.postPipelineClasses.has(F)||this.postPipelineClasses.set(F,M)},"addPostPipeline"),flush:r(function(){this.current&&this.current.flush()},"flush"),has:r(function(F){var M=this.pipelines;return typeof F=="string"?M.has(F):!!M.contains(F)},"has"),get:r(function(F){var M=this.pipelines;if(typeof F=="string")return M.get(F);if(M.contains(F))return F},"get"),getPostPipeline:r(function(F,M,I){var B=this.postPipelineClasses,G,N="",z=typeof F;if(z==="string"||z==="number"?(G=B.get(F),N=F):z==="function"?(B.contains(F)&&(G=F),N=F.name):z==="object"&&(G=B.get(F.name),N=F.name),G){var H=new G(this.game,I);return H.name=N,M&&(H.gameObject=M),this.postPipelineInstances.push(H),H}},"getPostPipeline"),removePostPipeline:r(function(F){w(this.postPipelineInstances,F)},"removePostPipeline"),remove:r(function(F,M,I){M===void 0&&(M=!0),I===void 0&&(I=!0),this.pipelines.delete(F),M&&this.classes.delete(F),I&&this.postPipelineClasses.delete(F)},"remove"),set:r(function(F,M,I){if(!F.isPostFX)return this.isCurrent(F,I)||(this.flush(),this.current&&this.current.unbind(),this.current=F,F.bind(I)),F.updateProjectionMatrix(),F.onBind(M),F},"set"),preBatch:r(function(F){if(F.hasPostPipeline){this.flush();for(var M=F.postPipelines,I=M.length-1;I>=0;I--){var B=M[I];B.active&&B.preBatch(F)}}},"preBatch"),postBatch:r(function(F){if(F.hasPostPipeline){this.flush();for(var M=F.postPipelines,I=0;I<M.length;I++){var B=M[I];B.active&&B.postBatch(F)}}},"postBatch"),preBatchCamera:r(function(F){if(F.hasPostPipeline){this.flush();for(var M=F.postPipelines,I=M.length-1;I>=0;I--){var B=M[I];B.active&&B.preBatch(F)}}},"preBatchCamera"),postBatchCamera:r(function(F){if(F.hasPostPipeline){this.flush();for(var M=F.postPipelines,I=0;I<M.length;I++){var B=M[I];B.active&&B.postBatch(F)}}},"postBatchCamera"),isCurrent:r(function(F,M){var I=this.renderer,B=this.current;return B&&!M&&(M=B.currentShader),!(B!==F||M.program!==I.currentProgram)},"isCurrent"),copyFrame:r(function(F,M,I,B,G){return this.setUtility(this.UTILITY_PIPELINE.copyShader).copyFrame(F,M,I,B,G),this},"copyFrame"),copyToGame:r(function(F){return this.setUtility(this.UTILITY_PIPELINE.copyShader).copyToGame(F),this},"copyToGame"),drawFrame:r(function(F,M,I,B){return this.setUtility(this.UTILITY_PIPELINE.colorMatrixShader).drawFrame(F,M,I,B),this},"drawFrame"),blendFrames:r(function(F,M,I,B,G){return this.setUtility(this.UTILITY_PIPELINE.linearShader).blendFrames(F,M,I,B,G),this},"blendFrames"),blendFramesAdditive:r(function(F,M,I,B,G){return this.setUtility(this.UTILITY_PIPELINE.addShader).blendFramesAdditive(F,M,I,B,G),this},"blendFramesAdditive"),clearFrame:r(function(F,M){return this.UTILITY_PIPELINE.clearFrame(F,M),this},"clearFrame"),blitFrame:r(function(F,M,I,B,G,N){return this.setUtility(this.UTILITY_PIPELINE.copyShader).blitFrame(F,M,I,B,G,N),this},"blitFrame"),copyFrameRect:r(function(F,M,I,B,G,N,z,H){return this.UTILITY_PIPELINE.copyFrameRect(F,M,I,B,G,N,z,H),this},"copyFrameRect"),forceZero:r(function(){return this.current&&this.current.forceZero},"forceZero"),setMulti:r(function(){return this.set(this.MULTI_PIPELINE)},"setMulti"),setUtility:r(function(F){return this.UTILITY_PIPELINE.bind(F)},"setUtility"),setFX:r(function(){return this.set(this.FX_PIPELINE)},"setFX"),restoreContext:r(function(){this.rebind(),this.pipelines.each(function(F,M){M.restoreContext()}),O(this.postPipelineInstances,function(F){F.restoreContext()})},"restoreContext"),rebind:r(function(F){F===void 0&&this.previous&&(F=this.previous);var M=this.renderer,I=M.gl;I.disable(I.DEPTH_TEST),I.disable(I.CULL_FACE),M.hasActiveStencilMask()?I.clear(I.DEPTH_BUFFER_BIT):(I.disable(I.STENCIL_TEST),I.clear(I.DEPTH_BUFFER_BIT|I.STENCIL_BUFFER_BIT)),I.viewport(0,0,M.width,M.height),M.currentProgram=null,M.setBlendMode(0,!0);var B=M.vaoExtension;B&&B.bindVertexArrayOES(null);var G=this.pipelines.entries;for(var N in G)G[N].glReset=!0;F&&(this.current=F,F.rebind())},"rebind"),clear:r(function(){var F=this.renderer;this.flush(),this.current?(this.current.unbind(),this.previous=this.current,this.current=null):this.previous=null,F.currentProgram=null,F.setBlendMode(0,!0);var M=F.vaoExtension;M&&M.bindVertexArrayOES(null)},"clear"),getRenderTarget:r(function(F){var M=this.renderTargets,I=3;if(F>this.maxDimension)return this.targetIndex=M.length-I,M[this.targetIndex];var B=(u(F,this.frameInc,0,!0)-1)*I;return this.targetIndex=B,M[B]},"getRenderTarget"),getSwapRenderTarget:r(function(){return this.renderTargets[this.targetIndex+1]},"getSwapRenderTarget"),getAltSwapRenderTarget:r(function(){return this.renderTargets[this.targetIndex+2]},"getAltSwapRenderTarget"),destroy:r(function(){this.flush(),this.classes.clear(),this.postPipelineClasses.clear(),this.pipelines.clear(),this.renderer=null,this.game=null,this.classes=null,this.postPipelineClasses=null,this.pipelines=null,this.default=null,this.current=null,this.previous=null},"destroy")});n.exports=b},32302:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(83419),y=i(92503),c=new f({initialize:r(function(l,a,u,v,d,p,g,m,x){v===void 0&&(v=1),d===void 0&&(d=0),p===void 0&&(p=!0),g===void 0&&(g=!1),m===void 0&&(m=!0),x===void 0&&(x=!0),this.renderer=l,this.framebuffer=null,this.texture=null,this.width=0,this.height=0,this.scale=v,this.minFilter=d,this.autoClear=p,this.autoResize=!0,this.hasDepthBuffer=m,this.forceClamp=x,this.resize(a,u),g?this.setAutoResize(!0):this.autoResize=!1},"RenderTarget"),setAutoResize:r(function(o){return o&&!this.autoResize?(this.renderer.on(y.RESIZE,this.resize,this),this.autoResize=!0):!o&&this.autoResize&&(this.renderer.off(y.RESIZE,this.resize,this),this.autoResize=!1),this},"setAutoResize"),resize:r(function(o,l){if(o=Math.round(o*this.scale),l=Math.round(l*this.scale),o<=0&&(o=1),l<=0&&(l=1),this.autoResize&&(o!==this.width||l!==this.height)){var a=this.renderer;a.deleteFramebuffer(this.framebuffer),a.deleteTexture(this.texture),this.texture=a.createTextureFromSource(null,o,l,this.minFilter,this.forceClamp),this.framebuffer=a.createFramebuffer(o,l,this.texture,this.hasDepthBuffer),this.width=o,this.height=l}return this},"resize"),willResize:r(function(o,l){return o=Math.round(o*this.scale),l=Math.round(l*this.scale),o<=0&&(o=1),l<=0&&(l=1),o!==this.width||l!==this.height},"willResize"),bind:r(function(o,l,a){o===void 0&&(o=!1);var u=this.renderer;if(o&&u.flush(),l&&a&&this.resize(l,a),u.pushFramebuffer(this.framebuffer,!1,!1),o&&this.adjustViewport(),this.autoClear){var v=this.renderer.gl;v.clearColor(0,0,0,0),v.clear(v.COLOR_BUFFER_BIT)}u.clearStencilMask()},"bind"),adjustViewport:r(function(){var o=this.renderer.gl;o.viewport(0,0,this.width,this.height),o.disable(o.SCISSOR_TEST)},"adjustViewport"),clear:r(function(){var o=this.renderer,l=o.gl;o.pushFramebuffer(this.framebuffer),l.disable(l.SCISSOR_TEST),l.clearColor(0,0,0,0),l.clear(l.COLOR_BUFFER_BIT),o.popFramebuffer(),o.resetScissor()},"clear"),unbind:r(function(o){o===void 0&&(o=!1);var l=this.renderer;return o&&l.flush(),l.popFramebuffer()},"unbind"),destroy:r(function(){var o=this.renderer;o.off(y.RESIZE,this.resize,this),o.deleteFramebuffer(this.framebuffer),o.deleteTexture(this.texture),this.renderer=null,this.framebuffer=null,this.texture=null},"destroy")});n.exports=c},70554:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @author       Matthew Groves <@doormat>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={getTintFromFloats:r(function(T,i,f,y){var c=(T*255|0)&255,o=(i*255|0)&255,l=(f*255|0)&255,a=(y*255|0)&255;return(a<<24|c<<16|o<<8|l)>>>0},"getTintFromFloats"),getTintAppendFloatAlpha:r(function(T,i){var f=(i*255|0)&255;return(f<<24|T)>>>0},"getTintAppendFloatAlpha"),getTintAppendFloatAlphaAndSwap:r(function(T,i){var f=(T>>16|0)&255,y=(T>>8|0)&255,c=(T|0)&255,o=(i*255|0)&255;return(o<<24|c<<16|y<<8|f)>>>0},"getTintAppendFloatAlphaAndSwap"),getFloatsFromUintRGB:r(function(T){var i=(T>>16|0)&255,f=(T>>8|0)&255,y=(T|0)&255;return[i/255,f/255,y/255]},"getFloatsFromUintRGB"),checkShaderMax:r(function(T,i){var f=Math.min(16,T.getParameter(T.MAX_TEXTURE_IMAGE_UNITS));return!i||i===-1?f:Math.min(f,i)},"checkShaderMax"),parseFragmentShaderMaxTextures:r(function(T,i){if(!T)return"";for(var f="",y=0;y<i;y++)y>0&&(f+=`
	else `),y<i-1&&(f+="if (outTexId < "+y+".5)"),f+=`
	{`,f+=`
		texture = texture2D(uMainSampler[`+y+"], outTexCoord);",f+=`
	}`;return T=T.replace(/%count%/gi,i.toString()),T.replace(/%forloop%/gi,f)},"parseFragmentShaderMaxTextures"),setGlowQuality:r(function(T,i,f,y){return f===void 0&&(f=i.config.glowFXQuality),y===void 0&&(y=i.config.glowFXDistance),T=T.replace(/__SIZE__/gi,(1/f/y).toFixed(7)),T=T.replace(/__DIST__/gi,y.toFixed(0)+".0"),T},"setGlowQuality")}},29100:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(83419),y=i(62644),c=i(50792),o=i(77085),l=i(95540),a=i(37867),u=i(92503),v=i(32302),d=i(70554),p=i(38683),g=new f({Extends:c,initialize:r(function(x){c.call(this);var C=x.game,P=C.renderer,A=P.gl;this.name=l(x,"name","WebGLPipeline"),this.game=C,this.renderer=P,this.manager,this.gl=A,this.view=C.canvas,this.width=0,this.height=0,this.vertexCount=0,this.vertexCapacity=0,this.vertexData,this.vertexBuffer,this.activeBuffer,this.topology=l(x,"topology",A.TRIANGLES),this.bytes,this.vertexViewF32,this.vertexViewU32,this.active=!0,this.forceZero=l(x,"forceZero",!1),this.hasBooted=!1,this.isPostFX=!1,this.isPreFX=!1,this.renderTargets=[],this.currentRenderTarget,this.shaders=[],this.currentShader,this.projectionMatrix,this.projectionWidth=0,this.projectionHeight=0,this.config=x,this.glReset=!1,this.batch=[],this.currentBatch=null,this.currentTexture=null,this.currentUnit=0,this.activeTextures=[],this.resizeUniform=l(x,"resizeUniform","")},"WebGLPipeline"),boot:r(function(){var m,x=this.gl,C=this.config,P=this.renderer;this.isPostFX||(this.projectionMatrix=new a().identity());var A=this.renderTargets,R=l(C,"renderTarget",!1);typeof R=="boolean"&&R&&(R=1);var L=P.width,O=P.height;if(typeof R=="number")for(m=0;m<R;m++)A.push(new v(P,L,O,1,0,!0));else if(Array.isArray(R))for(m=0;m<R.length;m++){var w=l(R[m],"scale",1),b=l(R[m],"minFilter",0),F=l(R[m],"autoClear",1),M=l(R[m],"autoResize",!1),I=l(R[m],"width",null),B=l(R[m],"height",I);I?A.push(new v(P,I,B,1,b,F,M)):A.push(new v(P,L,O,w,b,F,M))}A.length&&(this.currentRenderTarget=A[0]),this.setShadersFromConfig(C);var G=this.shaders,N=0;for(m=0;m<G.length;m++)G[m].vertexSize>N&&(N=G[m].vertexSize);var z=l(C,"batchSize",P.config.batchSize);this.vertexCapacity=z*6;var H=new ArrayBuffer(this.vertexCapacity*N);this.vertexData=H,this.bytes=new Uint8Array(H),this.vertexViewF32=new Float32Array(H),this.vertexViewU32=new Uint32Array(H);var $=l(C,"vertices",null);for($?(this.vertexViewF32.set($),this.vertexBuffer=P.createVertexBuffer(H,x.STATIC_DRAW)):this.vertexBuffer=P.createVertexBuffer(H.byteLength,x.DYNAMIC_DRAW),this.setVertexBuffer(),m=G.length-1;m>=0;m--)G[m].rebind();this.hasBooted=!0,P.on(u.RESIZE,this.resize,this),P.on(u.PRE_RENDER,this.onPreRender,this),P.on(u.RENDER,this.onRender,this),P.on(u.POST_RENDER,this.onPostRender,this),this.emit(o.BOOT,this),this.onBoot()},"boot"),onBoot:r(function(){},"onBoot"),onResize:r(function(){},"onResize"),setShader:r(function(m,x,C){var P=this.renderer;if(m!==this.currentShader||P.currentProgram!==this.currentShader.program){this.flush();var A=this.setVertexBuffer(C);A&&!x&&(x=!0),m.bind(x,!1),this.currentShader=m}return this},"setShader"),getShaderByName:r(function(m){for(var x=this.shaders,C=0;C<x.length;C++)if(x[C].name===m)return x[C]},"getShaderByName"),setShadersFromConfig:r(function(m){var x,C=this.shaders,P=this.renderer;for(x=0;x<C.length;x++)C[x].destroy();var A="vertShader",R="fragShader",L="attributes",O=l(m,A,null),w=d.parseFragmentShaderMaxTextures(l(m,R,null),P.maxTextures),b=l(m,L,null),F=l(m,"shaders",[]),M=F.length;if(M===0)O&&w&&(this.shaders=[new p(this,"default",O,w,y(b))]);else{var I=[];for(x=0;x<M;x++){var B=F[x],G,N,z,H;if(typeof B=="string"?(G="default",N=O,z=d.parseFragmentShaderMaxTextures(B,P.maxTextures),H=b):(G=l(B,"name","default"),N=l(B,A,O),z=d.parseFragmentShaderMaxTextures(l(B,R,w),P.maxTextures),H=l(B,L,b)),G==="default"){var $=z.split(`
`),V=$[0].trim();V.indexOf("#define SHADER_NAME")>-1&&(G=V.substring(20))}N&&z&&I.push(new p(this,G,N,z,y(H)))}this.shaders=I}return this.shaders.length===0?console.warn("Pipeline: "+this.name+" - Invalid shader config"):this.currentShader=this.shaders[0],this},"setShadersFromConfig"),createBatch:r(function(m){return this.currentBatch={start:this.vertexCount,count:0,texture:[m],unit:0,maxUnit:0},this.currentUnit=0,this.currentTexture=m,this.batch.push(this.currentBatch),0},"createBatch"),addTextureToBatch:r(function(m){var x=this.currentBatch;x&&(x.texture.push(m),x.unit++,x.maxUnit++)},"addTextureToBatch"),pushBatch:r(function(m){if(!this.currentBatch||this.forceZero&&m!==this.currentTexture)return this.createBatch(m);if(m===this.currentTexture)return this.currentUnit;var x=this.currentBatch,C=x.texture.indexOf(m);return C===-1?x.texture.length===this.renderer.maxTextures?this.createBatch(m):(x.unit++,x.maxUnit++,x.texture.push(m),this.currentUnit=x.unit,this.currentTexture=m,x.unit):(this.currentUnit=C,this.currentTexture=m,C)},"pushBatch"),setGameObject:r(function(m,x){return x===void 0&&(x=m.frame),this.pushBatch(x.source.glTexture)},"setGameObject"),shouldFlush:r(function(m){return m===void 0&&(m=0),this.vertexCount+m>this.vertexCapacity},"shouldFlush"),vertexAvailable:r(function(){return this.vertexCapacity-this.vertexCount},"vertexAvailable"),resize:r(function(m,x){(m!==this.width||x!==this.height)&&this.flush(),this.width=m,this.height=x;for(var C=this.renderTargets,P=0;P<C.length;P++)C[P].resize(m,x);return this.setProjectionMatrix(m,x),this.resizeUniform&&this.set2f(this.resizeUniform,m,x),this.emit(o.RESIZE,m,x,this),this.onResize(m,x),this},"resize"),setProjectionMatrix:r(function(m,x){var C=this.projectionMatrix;if(!C)return this;this.projectionWidth=m,this.projectionHeight=x,C.ortho(0,m,x,0,-1e3,1e3);for(var P=this.shaders,A="uProjectionMatrix",R=0;R<P.length;R++){var L=P[R];L.hasUniform(A)&&(L.resetUniform(A),L.setMatrix4fv(A,!1,C.val,L))}return this},"setProjectionMatrix"),flipProjectionMatrix:r(function(m){m===void 0&&(m=!0);var x=this.projectionMatrix;if(!x)return this;var C=this.projectionWidth,P=this.projectionHeight;m?x.ortho(0,C,0,P,-1e3,1e3):x.ortho(0,C,P,0,-1e3,1e3),this.setMatrix4fv("uProjectionMatrix",!1,x.val)},"flipProjectionMatrix"),updateProjectionMatrix:r(function(){if(this.projectionMatrix){var m=this.renderer.projectionWidth,x=this.renderer.projectionHeight;(this.projectionWidth!==m||this.projectionHeight!==x)&&this.setProjectionMatrix(m,x)}},"updateProjectionMatrix"),bind:r(function(m){if(m===void 0&&(m=this.currentShader),this.glReset)return this.rebind(m);var x=!1,C=this.gl;return C.getParameter(C.ARRAY_BUFFER_BINDING)!==this.vertexBuffer&&(C.bindBuffer(C.ARRAY_BUFFER,this.vertexBuffer.webGLBuffer),this.activeBuffer=this.vertexBuffer,x=!0),m.bind(x),this.currentShader=m,this.activeTextures.length=0,this.emit(o.BIND,this,m),this.onActive(m),this},"bind"),rebind:r(function(m){this.activeBuffer=null,this.setVertexBuffer();for(var x=this.shaders,C=x.length-1;C>=0;C--){var P=x[C].rebind();(!m||P===m)&&(this.currentShader=P)}return this.activeTextures.length=0,this.emit(o.REBIND,this.currentShader),this.onActive(this.currentShader),this.onRebind(),this.glReset=!1,this},"rebind"),restoreContext:r(function(){var m=this.shaders,x=!!this.vertexBuffer;this.activeBuffer=null,this.activeTextures.length=0,this.batch.length=0,this.currentBatch=null,this.currentTexture=null,this.currentUnit=0,x&&this.setVertexBuffer();for(var C=0;C<m.length;C++){var P=m[C];P.syncUniforms(),x&&P.rebind()}},"restoreContext"),setVertexBuffer:r(function(m){if(m===void 0&&(m=this.vertexBuffer),m!==this.activeBuffer){var x=this.gl;return this.gl.bindBuffer(x.ARRAY_BUFFER,m.webGLBuffer),this.activeBuffer=m,!0}return!1},"setVertexBuffer"),preBatch:r(function(m){return this.currentRenderTarget&&this.currentRenderTarget.bind(),this.onPreBatch(m),this},"preBatch"),postBatch:r(function(m){return this.onDraw(this.currentRenderTarget),this.onPostBatch(m),this},"postBatch"),onDraw:r(function(){},"onDraw"),unbind:r(function(){this.currentRenderTarget&&this.currentRenderTarget.unbind()},"unbind"),flush:r(function(m){if(m===void 0&&(m=!1),this.vertexCount>0){this.emit(o.BEFORE_FLUSH,this,m),this.onBeforeFlush(m);var x=this.gl,C=this.vertexCount,P=this.currentShader.vertexSize,A=this.topology;if(this.active){this.setVertexBuffer(),C===this.vertexCapacity?x.bufferData(x.ARRAY_BUFFER,this.vertexData,x.DYNAMIC_DRAW):x.bufferSubData(x.ARRAY_BUFFER,0,this.bytes.subarray(0,C*P));var R,L,O,w=this.batch,b=this.activeTextures;if(this.forceZero)for(b[0]||x.activeTexture(x.TEXTURE0),R=0;R<w.length;R++)L=w[R],O=L.texture[0],b[0]!==O&&(x.bindTexture(x.TEXTURE_2D,O.webGLTexture),b[0]=O),x.drawArrays(A,L.start,L.count);else for(R=0;R<w.length;R++){L=w[R];for(var F=0;F<=L.maxUnit;F++)O=L.texture[F],b[F]!==O&&(x.activeTexture(x.TEXTURE0+F),x.bindTexture(x.TEXTURE_2D,O.webGLTexture),b[F]=O);x.drawArrays(A,L.start,L.count)}}this.vertexCount=0,this.batch.length=0,this.currentBatch=null,this.currentTexture=null,this.currentUnit=0,this.emit(o.AFTER_FLUSH,this,m),this.onAfterFlush(m)}return this},"flush"),onActive:r(function(){},"onActive"),onBind:r(function(){},"onBind"),onRebind:r(function(){},"onRebind"),onBatch:r(function(){},"onBatch"),onPreBatch:r(function(){},"onPreBatch"),onPostBatch:r(function(){},"onPostBatch"),onPreRender:r(function(){},"onPreRender"),onRender:r(function(){},"onRender"),onPostRender:r(function(){},"onPostRender"),onBeforeFlush:r(function(){},"onBeforeFlush"),onAfterFlush:r(function(){},"onAfterFlush"),batchVert:r(function(m,x,C,P,A,R,L){var O=this.vertexViewF32,w=this.vertexViewU32,b=this.vertexCount*this.currentShader.vertexComponentCount-1;O[++b]=m,O[++b]=x,O[++b]=C,O[++b]=P,O[++b]=A,O[++b]=R,w[++b]=L,this.vertexCount++,this.currentBatch.count=this.vertexCount-this.currentBatch.start},"batchVert"),batchQuad:r(function(m,x,C,P,A,R,L,O,w,b,F,M,I,B,G,N,z,H,$,V){V===void 0&&(V=this.currentUnit);var Y=!1;this.shouldFlush(6)&&(this.flush(),Y=!0),this.currentBatch||(V=this.setTexture2D($));var D=this.vertexViewF32,U=this.vertexViewU32,W=this.vertexCount*this.currentShader.vertexComponentCount-1;return D[++W]=x,D[++W]=C,D[++W]=b,D[++W]=F,D[++W]=V,D[++W]=H,U[++W]=B,D[++W]=P,D[++W]=A,D[++W]=b,D[++W]=I,D[++W]=V,D[++W]=H,U[++W]=N,D[++W]=R,D[++W]=L,D[++W]=M,D[++W]=I,D[++W]=V,D[++W]=H,U[++W]=z,D[++W]=x,D[++W]=C,D[++W]=b,D[++W]=F,D[++W]=V,D[++W]=H,U[++W]=B,D[++W]=R,D[++W]=L,D[++W]=M,D[++W]=I,D[++W]=V,D[++W]=H,U[++W]=z,D[++W]=O,D[++W]=w,D[++W]=M,D[++W]=F,D[++W]=V,D[++W]=H,U[++W]=G,this.vertexCount+=6,this.currentBatch.count=this.vertexCount-this.currentBatch.start,this.onBatch(m),Y},"batchQuad"),batchTri:r(function(m,x,C,P,A,R,L,O,w,b,F,M,I,B,G,N,z){z===void 0&&(z=this.currentUnit);var H=!1;this.shouldFlush(3)&&(this.flush(),H=!0),this.currentBatch||(z=this.setTexture2D(N));var $=this.vertexViewF32,V=this.vertexViewU32,Y=this.vertexCount*this.currentShader.vertexComponentCount-1;return $[++Y]=x,$[++Y]=C,$[++Y]=O,$[++Y]=w,$[++Y]=z,$[++Y]=G,V[++Y]=M,$[++Y]=P,$[++Y]=A,$[++Y]=O,$[++Y]=F,$[++Y]=z,$[++Y]=G,V[++Y]=I,$[++Y]=R,$[++Y]=L,$[++Y]=b,$[++Y]=F,$[++Y]=z,$[++Y]=G,V[++Y]=B,this.vertexCount+=3,this.currentBatch.count=this.vertexCount-this.currentBatch.start,this.onBatch(m),H},"batchTri"),drawFillRect:r(function(m,x,C,P,A,R,L,O){L===void 0&&(L=this.renderer.whiteTexture),O===void 0&&(O=!0),m=Math.floor(m),x=Math.floor(x);var w=Math.floor(m+C),b=Math.floor(x+P),F=this.setTexture2D(L),M=d.getTintAppendFloatAlphaAndSwap(A,R),I=0,B=0,G=1,N=1;O&&(B=1,N=0),this.batchQuad(null,m,x,m,b,w,b,w,x,I,B,G,N,M,M,M,M,0,L,F)},"drawFillRect"),setTexture2D:r(function(m){return m===void 0&&(m=this.renderer.whiteTexture),this.pushBatch(m)},"setTexture2D"),bindTexture:r(function(m,x){x===void 0&&(x=0);var C=this.gl;return C.activeTexture(C.TEXTURE0+x),C.bindTexture(C.TEXTURE_2D,m.webGLTexture),this},"bindTexture"),bindRenderTarget:r(function(m,x){return this.bindTexture(m.texture,x)},"bindRenderTarget"),setTime:r(function(m,x){return this.set1f(m,this.game.loop.getDuration(),x),this},"setTime"),setBoolean:r(function(m,x,C){return C===void 0&&(C=this.currentShader),C.setBoolean(m,x),this},"setBoolean"),set1f:r(function(m,x,C){return C===void 0&&(C=this.currentShader),C.set1f(m,x),this},"set1f"),set2f:r(function(m,x,C,P){return P===void 0&&(P=this.currentShader),P.set2f(m,x,C),this},"set2f"),set3f:r(function(m,x,C,P,A){return A===void 0&&(A=this.currentShader),A.set3f(m,x,C,P),this},"set3f"),set4f:r(function(m,x,C,P,A,R){return R===void 0&&(R=this.currentShader),R.set4f(m,x,C,P,A),this},"set4f"),set1fv:r(function(m,x,C){return C===void 0&&(C=this.currentShader),C.set1fv(m,x),this},"set1fv"),set2fv:r(function(m,x,C){return C===void 0&&(C=this.currentShader),C.set2fv(m,x),this},"set2fv"),set3fv:r(function(m,x,C){return C===void 0&&(C=this.currentShader),C.set3fv(m,x),this},"set3fv"),set4fv:r(function(m,x,C){return C===void 0&&(C=this.currentShader),C.set4fv(m,x),this},"set4fv"),set1iv:r(function(m,x,C){return C===void 0&&(C=this.currentShader),C.set1iv(m,x),this},"set1iv"),set2iv:r(function(m,x,C){return C===void 0&&(C=this.currentShader),C.set2iv(m,x),this},"set2iv"),set3iv:r(function(m,x,C){return C===void 0&&(C=this.currentShader),C.set3iv(m,x),this},"set3iv"),set4iv:r(function(m,x,C){return C===void 0&&(C=this.currentShader),C.set4iv(m,x),this},"set4iv"),set1i:r(function(m,x,C){return C===void 0&&(C=this.currentShader),C.set1i(m,x),this},"set1i"),set2i:r(function(m,x,C,P){return P===void 0&&(P=this.currentShader),P.set2i(m,x,C),this},"set2i"),set3i:r(function(m,x,C,P,A){return A===void 0&&(A=this.currentShader),A.set3i(m,x,C,P),this},"set3i"),set4i:r(function(m,x,C,P,A,R){return R===void 0&&(R=this.currentShader),R.set4i(m,x,C,P,A),this},"set4i"),setMatrix2fv:r(function(m,x,C,P){return P===void 0&&(P=this.currentShader),P.setMatrix2fv(m,x,C),this},"setMatrix2fv"),setMatrix3fv:r(function(m,x,C,P){return P===void 0&&(P=this.currentShader),P.setMatrix3fv(m,x,C),this},"setMatrix3fv"),setMatrix4fv:r(function(m,x,C,P){return P===void 0&&(P=this.currentShader),P.setMatrix4fv(m,x,C),this},"setMatrix4fv"),destroy:r(function(){this.emit(o.DESTROY,this);var m,x=this.shaders;for(m=0;m<x.length;m++)x[m].destroy();var C=this.renderTargets;for(m=0;m<C.length;m++)C[m].destroy();var P=this.renderer;return P.deleteBuffer(this.vertexBuffer),P.off(u.RESIZE,this.resize,this),P.off(u.PRE_RENDER,this.onPreRender,this),P.off(u.RENDER,this.onRender,this),P.off(u.POST_RENDER,this.onPostRender,this),this.removeAllListeners(),this.game=null,this.renderer=null,this.manager=null,this.gl=null,this.view=null,this.shaders=null,this.renderTargets=null,this.bytes=null,this.vertexViewF32=null,this.vertexViewU32=null,this.vertexData=null,this.vertexBuffer=null,this.currentShader=null,this.currentRenderTarget=null,this.activeTextures=null,this},"destroy")});n.exports=g},74797:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(95428),y=i(72905),c=i(19715),o=i(83419),l=i(8054),a=i(50792),u=i(92503),v=i(50030),d=i(37867),p=i(29747),g=i(7530),m=i(32302),x=i(97480),C=i(69442),P=i(70554),A=i(88815),R=i(26128),L=i(1482),O=i(82751),w=i(84387),b=i(93567),F=i(57183),M=new o({Extends:a,initialize:r(function(B){a.call(this);var G=B.config,N={alpha:G.transparent,desynchronized:G.desynchronized,depth:!0,antialias:G.antialiasGL,premultipliedAlpha:G.premultipliedAlpha,stencil:!0,failIfMajorPerformanceCaveat:G.failIfMajorPerformanceCaveat,powerPreference:G.powerPreference,preserveDrawingBuffer:G.preserveDrawingBuffer,willReadFrequently:!1};this.config={clearBeforeRender:G.clearBeforeRender,antialias:G.antialias,backgroundColor:G.backgroundColor,contextCreation:N,roundPixels:G.roundPixels,maxTextures:G.maxTextures,maxTextureSize:G.maxTextureSize,batchSize:G.batchSize,maxLights:G.maxLights,mipmapFilter:G.mipmapFilter},this.game=B,this.type=l.WEBGL,this.pipelines=null,this.width=0,this.height=0,this.canvas=B.canvas,this.blendModes=[],this.contextLost=!1,this.snapshotState={x:0,y:0,width:1,height:1,getPixel:!1,callback:null,type:"image/png",encoder:.92,isFramebuffer:!1,bufferWidth:0,bufferHeight:0},this.maxTextures=0,this.textureIndexes,this.glBufferWrappers=[],this.glProgramWrappers=[],this.glTextureWrappers=[],this.glFramebufferWrappers=[],this.glAttribLocationWrappers=[],this.glUniformLocationWrappers=[],this.currentFramebuffer=null,this.fboStack=[],this.currentProgram=null,this.currentBlendMode=1/0,this.currentScissorEnabled=!1,this.currentScissor=null,this.scissorStack=[],this.contextLostHandler=p,this.contextRestoredHandler=p,this.gl=null,this.supportedExtensions=null,this.instancedArraysExtension=null,this.vaoExtension=null,this.extensions={},this.glFormats,this.compression,this.drawingBufferHeight=0,this.blankTexture=null,this.normalTexture=null,this.whiteTexture=null,this.maskCount=0,this.maskStack=[],this.currentMask={mask:null,camera:null},this.currentCameraMask={mask:null,camera:null},this.glFuncMap=null,this.currentType="",this.newType=!1,this.nextTypeMatch=!1,this.finalType=!1,this.mipmapFilter=null,this.defaultScissor=[0,0,0,0],this.isBooted=!1,this.renderTarget=null,this.projectionMatrix,this.projectionWidth=0,this.projectionHeight=0,this.maskSource=null,this.maskTarget=null,this.spector=null,this._debugCapture=!1,this.init(this.config)},"WebGLRenderer"),init:r(function(I){var B,G=this.game,N=this.canvas,z=I.backgroundColor;if(G.config.context?B=G.config.context:B=N.getContext("webgl",I.contextCreation)||N.getContext("experimental-webgl",I.contextCreation),!B||B.isContextLost())throw this.contextLost=!0,new Error("WebGL unsupported");this.gl=B;var H=this,$=r(function(){var D=B.getSupportedExtensions();H.supportedExtensions=D;var U="ANGLE_instanced_arrays";H.instancedArraysExtension=D.indexOf(U)>-1?B.getExtension(U):null;var W="OES_vertex_array_object";H.vaoExtension=D.indexOf(W)>-1?B.getExtension(W):null},"setupExtensions");$(),this.contextLostHandler=function(D){H.contextLost=!0,console&&console.warn("WebGL Context lost. Renderer disabled"),H.emit(u.LOSE_WEBGL,H),D.preventDefault()},N.addEventListener("webglcontextlost",this.contextLostHandler,!1),this.contextRestoredHandler=function(D){if(B.isContextLost()){console&&console.log("WebGL Context restored, but context is still lost");return}H.currentProgram=null,H.currentFramebuffer=null,H.setBlendMode(l.BlendModes.NORMAL),B.disable(B.BLEND),B.disable(B.DEPTH_TEST),B.enable(B.CULL_FACE),H.compression=H.getCompressedTextures();var U=r(function(W){W.createResource()},"wrapperCreateResource");f(H.glTextureWrappers,U),f(H.glBufferWrappers,U),f(H.glFramebufferWrappers,U),f(H.glProgramWrappers,U),f(H.glAttribLocationWrappers,U),f(H.glUniformLocationWrappers,U),H.createTemporaryTextures(),H.pipelines.restoreContext(),H.resize(H.game.scale.baseSize.width,H.game.scale.baseSize.height),$(),H.contextLost=!1,console&&console.warn("WebGL Context restored. Renderer running again."),H.emit(u.RESTORE_WEBGL,H),D.preventDefault()},N.addEventListener("webglcontextrestored",this.contextRestoredHandler,!1),G.context=B;for(var V=0;V<=27;V++)this.blendModes.push({func:[B.ONE,B.ONE_MINUS_SRC_ALPHA],equation:B.FUNC_ADD});this.blendModes[1].func=[B.ONE,B.DST_ALPHA],this.blendModes[2].func=[B.DST_COLOR,B.ONE_MINUS_SRC_ALPHA],this.blendModes[3].func=[B.ONE,B.ONE_MINUS_SRC_COLOR],this.blendModes[17]={func:[B.ZERO,B.ONE_MINUS_SRC_ALPHA],equation:B.FUNC_REVERSE_SUBTRACT},this.glFormats=[B.BYTE,B.SHORT,B.UNSIGNED_BYTE,B.UNSIGNED_SHORT,B.FLOAT],this.glFuncMap={mat2:{func:B.uniformMatrix2fv,length:1,matrix:!0},mat3:{func:B.uniformMatrix3fv,length:1,matrix:!0},mat4:{func:B.uniformMatrix4fv,length:1,matrix:!0},"1f":{func:B.uniform1f,length:1},"1fv":{func:B.uniform1fv,length:1},"1i":{func:B.uniform1i,length:1},"1iv":{func:B.uniform1iv,length:1},"2f":{func:B.uniform2f,length:2},"2fv":{func:B.uniform2fv,length:1},"2i":{func:B.uniform2i,length:2},"2iv":{func:B.uniform2iv,length:1},"3f":{func:B.uniform3f,length:3},"3fv":{func:B.uniform3fv,length:1},"3i":{func:B.uniform3i,length:3},"3iv":{func:B.uniform3iv,length:1},"4f":{func:B.uniform4f,length:4},"4fv":{func:B.uniform4fv,length:1},"4i":{func:B.uniform4i,length:4},"4iv":{func:B.uniform4iv,length:1}},(!I.maxTextures||I.maxTextures===-1)&&(I.maxTextures=B.getParameter(B.MAX_TEXTURE_IMAGE_UNITS)),I.maxTextureSize||(I.maxTextureSize=B.getParameter(B.MAX_TEXTURE_SIZE)),this.compression=this.getCompressedTextures(),B.disable(B.DEPTH_TEST),B.disable(B.CULL_FACE),B.enable(B.BLEND),B.clearColor(z.redGL,z.greenGL,z.blueGL,z.alphaGL);var Y=["NEAREST","LINEAR","NEAREST_MIPMAP_NEAREST","LINEAR_MIPMAP_NEAREST","NEAREST_MIPMAP_LINEAR","LINEAR_MIPMAP_LINEAR"];return Y.indexOf(I.mipmapFilter)!==-1&&(this.mipmapFilter=B[I.mipmapFilter]),this.maxTextures=P.checkShaderMax(B,I.maxTextures),this.textureIndexes=[],this.createTemporaryTextures(),this.pipelines=new g(this),this.setBlendMode(l.BlendModes.NORMAL),this.projectionMatrix=new d().identity(),G.textures.once(C.READY,this.boot,this),this},"init"),boot:r(function(){var I=this.game,B=this.pipelines,G=I.scale.baseSize,N=G.width,z=G.height;this.width=N,this.height=z,this.isBooted=!0,this.renderTarget=new m(this,N,z,1,0,!0,!0),this.maskTarget=new m(this,N,z,1,0,!0,!0),this.maskSource=new m(this,N,z,1,0,!0,!0);var H=I.config;B.boot(H.pipeline,H.defaultPipeline,H.autoMobilePipeline),this.blankTexture=I.textures.getFrame("__DEFAULT").glTexture,this.normalTexture=I.textures.getFrame("__NORMAL").glTexture,this.whiteTexture=I.textures.getFrame("__WHITE").glTexture;var $=this.gl;$.bindFramebuffer($.FRAMEBUFFER,null),$.enable($.SCISSOR_TEST),I.scale.on(x.RESIZE,this.onResize,this),this.resize(N,z)},"boot"),createTemporaryTextures:r(function(){for(var I=this.gl,B=0;B<this.maxTextures;B++){var G=I.createTexture();I.activeTexture(I.TEXTURE0+B),I.bindTexture(I.TEXTURE_2D,G),I.texImage2D(I.TEXTURE_2D,0,I.RGBA,1,1,0,I.RGBA,I.UNSIGNED_BYTE,new Uint8Array([0,0,255,255])),this.textureIndexes.push(B)}},"createTemporaryTextures"),captureFrame:r(function(I,B){},"captureFrame"),captureNextFrame:r(function(){},"captureNextFrame"),getFps:r(function(){},"getFps"),log:r(function(){},"log"),startCapture:r(function(I,B,G){},"startCapture"),stopCapture:r(function(){},"stopCapture"),onCapture:r(function(I){},"onCapture"),onResize:r(function(I,B){(B.width!==this.width||B.height!==this.height)&&this.resize(B.width,B.height)},"onResize"),beginCapture:r(function(I,B){I===void 0&&(I=this.width),B===void 0&&(B=this.height),this.renderTarget.bind(!0,I,B),this.setProjectionMatrix(I,B)},"beginCapture"),endCapture:r(function(){return this.renderTarget.unbind(!0),this.resetProjectionMatrix(),this.renderTarget},"endCapture"),resize:r(function(I,B){var G=this.gl;return this.width=I,this.height=B,this.setProjectionMatrix(I,B),G.viewport(0,0,I,B),this.drawingBufferHeight=G.drawingBufferHeight,G.scissor(0,G.drawingBufferHeight-B,I,B),this.defaultScissor[2]=I,this.defaultScissor[3]=B,this.emit(u.RESIZE,I,B),this},"resize"),getCompressedTextures:r(function(){var I="WEBGL_compressed_texture_",B="WEBKIT_"+I,G="EXT_texture_compression_",N=r(function(H,$){var V=H.getExtension(I+$)||H.getExtension(B+$)||H.getExtension(G+$);if(V){var Y={};for(var D in V)Y[V[D]]=D;return Y}},"hasExt"),z=this.gl;return{ETC:N(z,"etc"),ETC1:N(z,"etc1"),ATC:N(z,"atc"),ASTC:N(z,"astc"),BPTC:N(z,"bptc"),RGTC:N(z,"rgtc"),PVRTC:N(z,"pvrtc"),S3TC:N(z,"s3tc"),S3TCSRGB:N(z,"s3tc_srgb"),IMG:!0}},"getCompressedTextures"),getCompressedTextureName:r(function(I,B){var G=this.compression[I.toUpperCase()];if(B in G)return G[B]},"getCompressedTextureName"),supportsCompressedTexture:r(function(I,B){var G=this.compression[I.toUpperCase()];return G?B?B in G:!0:!1},"supportsCompressedTexture"),getAspectRatio:r(function(){return this.width/this.height},"getAspectRatio"),setProjectionMatrix:r(function(I,B){return(I!==this.projectionWidth||B!==this.projectionHeight)&&(this.projectionWidth=I,this.projectionHeight=B,this.projectionMatrix.ortho(0,I,B,0,-1e3,1e3)),this},"setProjectionMatrix"),resetProjectionMatrix:r(function(){return this.setProjectionMatrix(this.width,this.height)},"resetProjectionMatrix"),hasExtension:r(function(I){return this.supportedExtensions?this.supportedExtensions.indexOf(I):!1},"hasExtension"),getExtension:r(function(I){return this.hasExtension(I)?(I in this.extensions||(this.extensions[I]=this.gl.getExtension(I)),this.extensions[I]):null},"getExtension"),flush:r(function(){this.pipelines.flush()},"flush"),pushScissor:r(function(I,B,G,N,z){z===void 0&&(z=this.drawingBufferHeight);var H=this.scissorStack,$=[I,B,G,N];return H.push($),this.setScissor(I,B,G,N,z),this.currentScissor=$,$},"pushScissor"),setScissor:r(function(I,B,G,N,z){z===void 0&&(z=this.drawingBufferHeight);var H=this.gl,$=this.currentScissor,V=G>0&&N>0;if($&&V){var Y=$[0],D=$[1],U=$[2],W=$[3];V=Y!==I||D!==B||U!==G||W!==N}V&&(this.flush(),H.scissor(I,z-B-N,G,N))},"setScissor"),resetScissor:r(function(){var I=this.gl;I.enable(I.SCISSOR_TEST);var B=this.currentScissor;if(B){var G=B[0],N=B[1],z=B[2],H=B[3];z>0&&H>0&&I.scissor(G,this.drawingBufferHeight-N-H,z,H)}},"resetScissor"),popScissor:r(function(){var I=this.scissorStack;I.pop();var B=I[I.length-1];B&&this.setScissor(B[0],B[1],B[2],B[3]),this.currentScissor=B},"popScissor"),hasActiveStencilMask:r(function(){var I=this.currentMask.mask,B=this.currentCameraMask.mask;return I&&I.isStencil||B&&B.isStencil},"hasActiveStencilMask"),resetViewport:r(function(){var I=this.gl;I.viewport(0,0,this.width,this.height),this.drawingBufferHeight=I.drawingBufferHeight},"resetViewport"),setBlendMode:r(function(I,B){B===void 0&&(B=!1);var G=this.gl,N=this.blendModes[I];return B||I!==l.BlendModes.SKIP_CHECK&&this.currentBlendMode!==I?(this.flush(),G.enable(G.BLEND),G.blendEquation(N.equation),N.func.length>2?G.blendFuncSeparate(N.func[0],N.func[1],N.func[2],N.func[3]):G.blendFunc(N.func[0],N.func[1]),this.currentBlendMode=I,!0):!1},"setBlendMode"),addBlendMode:r(function(I,B){var G=this.blendModes.push({func:I,equation:B});return G-1},"addBlendMode"),updateBlendMode:r(function(I,B,G){return this.blendModes[I]&&(this.blendModes[I].func=B,G&&(this.blendModes[I].equation=G)),this},"updateBlendMode"),removeBlendMode:r(function(I){return I>17&&this.blendModes[I]&&this.blendModes.splice(I,1),this},"removeBlendMode"),pushFramebuffer:r(function(I,B,G,N,z){return I===this.currentFramebuffer?this:(this.fboStack.push(I),this.setFramebuffer(I,B,G,N,z))},"pushFramebuffer"),setFramebuffer:r(function(I,B,G,N,z){if(B===void 0&&(B=!1),G===void 0&&(G=!0),N===void 0&&(N=null),z===void 0&&(z=!1),I===this.currentFramebuffer)return this;var H=this.gl,$=this.width,V=this.height;return I&&I.renderTexture&&G?($=I.renderTexture.width,V=I.renderTexture.height):this.flush(),I?H.bindFramebuffer(H.FRAMEBUFFER,I.webGLFramebuffer):H.bindFramebuffer(H.FRAMEBUFFER,null),G&&H.viewport(0,0,$,V),N&&H.framebufferTexture2D(H.FRAMEBUFFER,H.COLOR_ATTACHMENT0,H.TEXTURE_2D,N.webGLTexture,0),z&&(H.clearColor(0,0,0,0),H.clear(H.COLOR_BUFFER_BIT)),B&&(I?(this.drawingBufferHeight=V,this.pushScissor(0,0,$,V)):(this.drawingBufferHeight=this.height,this.popScissor())),this.currentFramebuffer=I,this},"setFramebuffer"),popFramebuffer:r(function(I,B){I===void 0&&(I=!1),B===void 0&&(B=!0);var G=this.fboStack;G.pop();var N=G[G.length-1];return N||(N=null),this.setFramebuffer(N,I,B),N},"popFramebuffer"),restoreFramebuffer:r(function(I,B){I===void 0&&(I=!1),B===void 0&&(B=!0);var G=this.fboStack,N=G[G.length-1];N||(N=null),this.currentFramebuffer=null,this.setFramebuffer(N,I,B)},"restoreFramebuffer"),setProgram:r(function(I){return I!==this.currentProgram?(this.flush(),this.gl.useProgram(I.webGLProgram),this.currentProgram=I,!0):!1},"setProgram"),resetProgram:r(function(){return this.gl.useProgram(this.currentProgram.webGLProgramWrapper),this},"resetProgram"),createTextureFromSource:r(function(I,B,G,N,z){z===void 0&&(z=!1);var H=this.gl,$=H.NEAREST,V=H.NEAREST,Y=H.CLAMP_TO_EDGE,D=null;B=I?I.width:B,G=I?I.height:G;var U=v(B,G);if(U&&!z&&(Y=H.REPEAT),N===l.ScaleModes.LINEAR&&this.config.antialias){var W=I&&I.compressed,k=!W&&U||W&&I.mipmaps.length>1;$=this.mipmapFilter&&k?this.mipmapFilter:H.LINEAR,V=H.LINEAR}return!I&&typeof B=="number"&&typeof G=="number"?D=this.createTexture2D(0,$,V,Y,Y,H.RGBA,null,B,G):D=this.createTexture2D(0,$,V,Y,Y,H.RGBA,I),D},"createTextureFromSource"),createTexture2D:r(function(I,B,G,N,z,H,$,V,Y,D,U,W){typeof V!="number"&&(V=$?$.width:1),typeof Y!="number"&&(Y=$?$.height:1);var k=new O(this.gl,I,B,G,N,z,H,$,V,Y,D,U,W);return this.glTextureWrappers.push(k),k},"createTexture2D"),createFramebuffer:r(function(I,B,G,N){this.currentFramebuffer=null;var z=new w(this.gl,I,B,G,N);return this.glFramebufferWrappers.push(z),z},"createFramebuffer"),beginBitmapMask:r(function(I,B){var G=this.gl;G&&(this.flush(),this.maskTarget.bind(!0),this.currentCameraMask.mask!==I&&(this.currentMask.mask=I,this.currentMask.camera=B))},"beginBitmapMask"),drawBitmapMask:r(function(I,B,G){this.flush(),this.maskSource.bind(),this.setBlendMode(0,!0),I.renderWebGL(this,I,B),this.maskSource.unbind(!0),this.maskTarget.unbind();var N=this.gl,z=this.getCurrentStencilMask();z?(N.enable(N.STENCIL_TEST),z.mask.applyStencil(this,z.camera,!0)):this.currentMask.mask=null,this.pipelines.set(G),N.activeTexture(N.TEXTURE0),N.bindTexture(N.TEXTURE_2D,this.maskTarget.texture.webGLTexture),N.activeTexture(N.TEXTURE1),N.bindTexture(N.TEXTURE_2D,this.maskSource.texture.webGLTexture)},"drawBitmapMask"),createProgram:r(function(I,B){var G=new L(this.gl,I,B);return this.glProgramWrappers.push(G),G},"createProgram"),createVertexBuffer:r(function(I,B){var G=this.gl,N=new R(G,I,G.ARRAY_BUFFER,B);return this.glBufferWrappers.push(N),N},"createVertexBuffer"),createAttribLocation:r(function(I,B){var G=new b(this.gl,I,B);return this.glAttribLocationWrappers.push(G),G},"createAttribLocation"),createUniformLocation:r(function(I,B){var G=new F(this.gl,I,B);return this.glUniformLocationWrappers.push(G),G},"createUniformLocation"),createIndexBuffer:r(function(I,B){var G=this.gl,N=new R(G,I,G.ELEMENT_ARRAY_BUFFER,B);return this.glBufferWrappers.push(N),N},"createIndexBuffer"),deleteTexture:r(function(I){if(I)return y(this.glTextureWrappers,I),I.destroy(),this},"deleteTexture"),deleteFramebuffer:r(function(I){return I?(y(this.fboStack,I),y(this.glFramebufferWrappers,I),I.destroy(),this):this},"deleteFramebuffer"),deleteProgram:r(function(I){return I&&(y(this.glProgramWrappers,I),I.destroy()),this},"deleteProgram"),deleteAttribLocation:r(function(I){return I&&(y(this.glAttribLocationWrappers,I),I.destroy()),this},"deleteAttribLocation"),deleteUniformLocation:r(function(I){return I&&(y(this.glUniformLocationWrappers,I),I.destroy()),this},"deleteUniformLocation"),deleteBuffer:r(function(I){return I?(y(this.glBufferWrappers,I),I.destroy(),this):this},"deleteBuffer"),preRenderCamera:r(function(I){var B=I.x,G=I.y,N=I.width,z=I.height,H=I.backgroundColor;if(I.emit(c.PRE_RENDER,I),this.pipelines.preBatchCamera(I),this.pushScissor(B,G,N,z),I.mask&&(this.currentCameraMask.mask=I.mask,this.currentCameraMask.camera=I._maskCamera,I.mask.preRenderWebGL(this,I,I._maskCamera)),H.alphaGL>0){var $=this.pipelines.setMulti();$.drawFillRect(B,G,N,z,P.getTintFromFloats(H.blueGL,H.greenGL,H.redGL,1),H.alphaGL)}},"preRenderCamera"),getCurrentStencilMask:r(function(){var I=null,B=this.maskStack,G=this.currentCameraMask;return B.length>0?I=B[B.length-1]:G.mask&&G.mask.isStencil&&(I=G),I},"getCurrentStencilMask"),postRenderCamera:r(function(I){var B=I.flashEffect,G=I.fadeEffect;if(B.isRunning||G.isRunning||G.isComplete){var N=this.pipelines.setMulti();B.postRenderWebGL(N,P.getTintFromFloats),G.postRenderWebGL(N,P.getTintFromFloats)}I.dirty=!1,this.popScissor(),I.mask&&(this.currentCameraMask.mask=null,I.mask.postRenderWebGL(this,I._maskCamera)),this.pipelines.postBatchCamera(I),I.emit(c.POST_RENDER,I)},"postRenderCamera"),preRender:r(function(){if(!this.contextLost){var I=this.gl;if(I.bindFramebuffer(I.FRAMEBUFFER,null),this.config.clearBeforeRender){var B=this.config.backgroundColor;I.clearColor(B.redGL,B.greenGL,B.blueGL,B.alphaGL),I.clear(I.COLOR_BUFFER_BIT|I.DEPTH_BUFFER_BIT|I.STENCIL_BUFFER_BIT)}I.enable(I.SCISSOR_TEST),this.currentScissor=this.defaultScissor,this.scissorStack.length=0,this.scissorStack.push(this.currentScissor),this.game.scene.customViewports&&I.scissor(0,this.drawingBufferHeight-this.height,this.width,this.height),this.currentMask.mask=null,this.currentCameraMask.mask=null,this.maskStack.length=0,this.emit(u.PRE_RENDER)}},"preRender"),render:r(function(I,B,G){if(!this.contextLost){var N=B.length;if(this.emit(u.RENDER,I,G),this.preRenderCamera(G),N===0){this.setBlendMode(l.BlendModes.NORMAL),this.postRenderCamera(G);return}this.currentType="";for(var z=this.currentMask,H=0;H<N;H++){this.finalType=H===N-1;var $=B[H],V=$.mask;z=this.currentMask,z.mask&&z.mask!==V&&z.mask.postRenderWebGL(this,z.camera),V&&z.mask!==V&&V.preRenderWebGL(this,$,G),$.blendMode!==this.currentBlendMode&&this.setBlendMode($.blendMode);var Y=$.type;Y!==this.currentType&&(this.newType=!0,this.currentType=Y),this.finalType?this.nextTypeMatch=!1:this.nextTypeMatch=B[H+1].type===this.currentType,$.renderWebGL(this,$,G),this.newType=!1}z=this.currentMask,z.mask&&z.mask.postRenderWebGL(this,z.camera),this.setBlendMode(l.BlendModes.NORMAL),this.postRenderCamera(G)}},"render"),postRender:r(function(){if(!this.contextLost){this.flush(),this.emit(u.POST_RENDER);var I=this.snapshotState;I.callback&&(A(this.gl,I),I.callback=null)}},"postRender"),clearStencilMask:r(function(){this.gl.disable(this.gl.STENCIL_TEST)},"clearStencilMask"),restoreStencilMask:r(function(){var I=this.gl,B=this.getCurrentStencilMask();if(B){var G=B.mask;I.enable(I.STENCIL_TEST),G.invertAlpha?I.stencilFunc(I.NOTEQUAL,G.level,255):I.stencilFunc(I.EQUAL,G.level,255)}},"restoreStencilMask"),snapshot:r(function(I,B,G){return this.snapshotArea(0,0,this.gl.drawingBufferWidth,this.gl.drawingBufferHeight,I,B,G)},"snapshot"),snapshotArea:r(function(I,B,G,N,z,H,$){var V=this.snapshotState;return V.callback=z,V.type=H,V.encoder=$,V.getPixel=!1,V.x=I,V.y=B,V.width=G,V.height=N,this},"snapshotArea"),snapshotPixel:r(function(I,B,G){return this.snapshotArea(I,B,1,1,G),this.snapshotState.getPixel=!0,this},"snapshotPixel"),snapshotFramebuffer:r(function(I,B,G,N,z,H,$,V,Y,D,U){z===void 0&&(z=!1),H===void 0&&(H=0),$===void 0&&($=0),V===void 0&&(V=B),Y===void 0&&(Y=G),D==="pixel"&&(z=!0,D="image/png");var W=this.currentFramebuffer;this.snapshotArea(H,$,V,Y,N,D,U);var k=this.snapshotState;return k.getPixel=z,k.isFramebuffer=!0,k.bufferWidth=B,k.bufferHeight=G,k.width=Math.min(k.width,B),k.height=Math.min(k.height,G),this.setFramebuffer(I),A(this.gl,k),this.setFramebuffer(W),k.callback=null,k.isFramebuffer=!1,this},"snapshotFramebuffer"),canvasToTexture:r(function(I,B,G,N){G===void 0&&(G=!1),N===void 0&&(N=!1);var z=this.gl,H=z.NEAREST,$=z.NEAREST,V=I.width,Y=I.height,D=z.CLAMP_TO_EDGE,U=v(V,Y);return!G&&U&&(D=z.REPEAT),this.config.antialias&&(H=U&&this.mipmapFilter?this.mipmapFilter:z.LINEAR,$=z.LINEAR),B?(B.update(I,V,Y,N,D,D,H,$,B.format),B):this.createTexture2D(0,H,$,D,D,z.RGBA,I,V,Y,!0,!1,N)},"canvasToTexture"),createCanvasTexture:r(function(I,B,G){return B===void 0&&(B=!1),G===void 0&&(G=!1),this.canvasToTexture(I,null,B,G)},"createCanvasTexture"),updateCanvasTexture:r(function(I,B,G,N){return G===void 0&&(G=!1),N===void 0&&(N=!1),this.canvasToTexture(I,B,N,G)},"updateCanvasTexture"),videoToTexture:r(function(I,B,G,N){G===void 0&&(G=!1),N===void 0&&(N=!1);var z=this.gl,H=z.NEAREST,$=z.NEAREST,V=I.videoWidth,Y=I.videoHeight,D=z.CLAMP_TO_EDGE,U=v(V,Y);return!G&&U&&(D=z.REPEAT),this.config.antialias&&(H=U&&this.mipmapFilter?this.mipmapFilter:z.LINEAR,$=z.LINEAR),B?(B.update(I,V,Y,N,D,D,H,$,B.format),B):this.createTexture2D(0,H,$,D,D,z.RGBA,I,V,Y,!0,!0,N)},"videoToTexture"),createVideoTexture:r(function(I,B,G){return B===void 0&&(B=!1),G===void 0&&(G=!1),this.videoToTexture(I,null,B,G)},"createVideoTexture"),updateVideoTexture:r(function(I,B,G,N){return G===void 0&&(G=!1),N===void 0&&(N=!1),this.videoToTexture(I,B,N,G)},"updateVideoTexture"),createUint8ArrayTexture:r(function(I,B,G){var N=this.gl,z=N.NEAREST,H=N.NEAREST,$=N.CLAMP_TO_EDGE,V=v(B,G);return V&&($=N.REPEAT),this.createTexture2D(0,z,H,$,$,N.RGBA,I,B,G)},"createUint8ArrayTexture"),setTextureFilter:r(function(I,B){var G=this.gl,N=B===0?G.LINEAR:G.NEAREST;G.activeTexture(G.TEXTURE0);var z=G.getParameter(G.TEXTURE_BINDING_2D);return G.bindTexture(G.TEXTURE_2D,I.webGLTexture),G.texParameteri(G.TEXTURE_2D,G.TEXTURE_MIN_FILTER,N),G.texParameteri(G.TEXTURE_2D,G.TEXTURE_MAG_FILTER,N),I.minFilter=N,I.magFilter=N,z&&G.bindTexture(G.TEXTURE_2D,z),this},"setTextureFilter"),getMaxTextureSize:r(function(){return this.config.maxTextureSize},"getMaxTextureSize"),destroy:r(function(){this.canvas.removeEventListener("webglcontextlost",this.contextLostHandler,!1),this.canvas.removeEventListener("webglcontextrestored",this.contextRestoredHandler,!1);var I=r(function(B){B.destroy()},"wrapperDestroy");f(this.glAttribLocationWrappers,I),f(this.glBufferWrappers,I),f(this.glFramebufferWrappers,I),f(this.glProgramWrappers,I),f(this.glTextureWrappers,I),f(this.glUniformLocationWrappers,I),this.maskTarget.destroy(),this.maskSource.destroy(),this.pipelines.destroy(),this.removeAllListeners(),this.fboStack=[],this.maskStack=[],this.extensions={},this.textureIndexes=[],this.gl=null,this.game=null,this.canvas=null,this.contextLost=!0,this.currentMask=null,this.currentCameraMask=null},"destroy")});n.exports=M},38683:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(83419),y=i(95428),c=i(95540),o=i(14500),l=new f({initialize:r(function(u,v,d,p,g){this.pipeline=u,this.name=v,this.renderer=u.renderer,this.gl=this.renderer.gl,this.fragSrc=p,this.vertSrc=d,this.program=this.renderer.createProgram(d,p),this.attributes,this.vertexComponentCount=0,this.vertexSize=0,this.uniforms={},this.createAttributes(g),this.createUniforms()},"WebGLShader"),createAttributes:r(function(a){var u=0,v=0,d=[];this.vertexComponentCount=0;for(var p=0;p<a.length;p++){var g=a[p],m=g.name,x=c(g,"size",1),C=c(g,"type",o.FLOAT),P=C.enum,A=C.size,R=!!g.normalized;d.push({name:m,size:x,type:P,normalized:R,offset:v,enabled:!1,location:-1}),A===4?u+=x:u++,v+=x*A}this.vertexSize=v,this.vertexComponentCount=u,this.attributes=d},"createAttributes"),bind:r(function(a,u){return a===void 0&&(a=!1),u===void 0&&(u=!1),u&&this.pipeline.flush(),this.renderer.setProgram(this.program),a&&this.setAttribPointers(),this},"bind"),rebind:r(function(){return this.renderer.setProgram(this.program),this.setAttribPointers(!0),this},"rebind"),setAttribPointers:r(function(a){a===void 0&&(a=!1);for(var u=this.gl,v=this.renderer,d=this.vertexSize,p=this.attributes,g=this.program,m=0;m<p.length;m++){var x=p[m],C=x.size,P=x.type,A=x.offset,R=x.enabled,L=x.location,O=!!x.normalized;if(a){L!==-1&&v.deleteAttribLocation(L);var w=this.renderer.createAttribLocation(g,x.name);w.webGLAttribLocation>=0?(u.enableVertexAttribArray(w.webGLAttribLocation),u.vertexAttribPointer(w.webGLAttribLocation,C,P,O,d,A),x.enabled=!0,x.location=w):w.webGLAttribLocation!==-1&&u.disableVertexAttribArray(w.webGLAttribLocation)}else R?u.vertexAttribPointer(L.webGLAttribLocation,C,P,O,d,A):!R&&L!==-1&&L.webGLAttribLocation>-1&&(u.disableVertexAttribArray(L.webGLAttribLocation),x.location=-1)}return this},"setAttribPointers"),createUniforms:r(function(){var a=this.gl,u=this.program,v=this.uniforms,d,p,g,m=a.getProgramParameter(u.webGLProgram,a.ACTIVE_UNIFORMS);for(d=0;d<m;d++){var x=a.getActiveUniform(u.webGLProgram,d);if(x){p=x.name,g=this.renderer.createUniformLocation(u,p),g!==null&&(v[p]={name:p,location:g,setter:null,value1:null,value2:null,value3:null,value4:null});var C=p.indexOf("[");C>0&&(p=p.substr(0,C),v.hasOwnProperty(p)||(g=this.renderer.createUniformLocation(u,p),g!==null&&(v[p]={name:p,location:g,setter:null,value1:null,value2:null,value3:null,value4:null})))}}return this},"createUniforms"),syncUniforms:r(function(){var a=this.gl;this.renderer.setProgram(this.program);for(var u in this.uniforms){var v=this.uniforms[u];v.setter&&v.setter.call(a,v.location.webGLUniformLocation,v.value1,v.value2,v.value3,v.value4)}},"syncUniforms"),hasUniform:r(function(a){return this.uniforms.hasOwnProperty(a)},"hasUniform"),resetUniform:r(function(a){var u=this.uniforms[a];return u&&(u.value1=null,u.value2=null,u.value3=null,u.value4=null),this},"resetUniform"),setUniform1:r(function(a,u,v,d){var p=this.uniforms[u];return p?((d||p.value1!==v)&&(p.setter||(p.setter=a),p.value1=v,this.renderer.setProgram(this.program),a.call(this.gl,p.location.webGLUniformLocation,v),this.pipeline.currentShader=this),this):this},"setUniform1"),setUniform2:r(function(a,u,v,d,p){var g=this.uniforms[u];return g?((p||g.value1!==v||g.value2!==d)&&(g.setter||(g.setter=a),g.value1=v,g.value2=d,this.renderer.setProgram(this.program),a.call(this.gl,g.location.webGLUniformLocation,v,d),this.pipeline.currentShader=this),this):this},"setUniform2"),setUniform3:r(function(a,u,v,d,p,g){var m=this.uniforms[u];return m?((g||m.value1!==v||m.value2!==d||m.value3!==p)&&(m.setter||(m.setter=a),m.value1=v,m.value2=d,m.value3=p,this.renderer.setProgram(this.program),a.call(this.gl,m.location.webGLUniformLocation,v,d,p),this.pipeline.currentShader=this),this):this},"setUniform3"),setUniform4:r(function(a,u,v,d,p,g,m){var x=this.uniforms[u];return x?((m||x.value1!==v||x.value2!==d||x.value3!==p||x.value4!==g)&&(x.setter||(x.setter=a),x.value1=v,x.value2=d,x.value3=p,x.value4=g,this.renderer.setProgram(this.program),a.call(this.gl,x.location.webGLUniformLocation,v,d,p,g),this.pipeline.currentShader=this),this):this},"setUniform4"),setBoolean:r(function(a,u){return this.setUniform1(this.gl.uniform1i,a,Number(u))},"setBoolean"),set1f:r(function(a,u){return this.setUniform1(this.gl.uniform1f,a,u)},"set1f"),set2f:r(function(a,u,v){return this.setUniform2(this.gl.uniform2f,a,u,v)},"set2f"),set3f:r(function(a,u,v,d){return this.setUniform3(this.gl.uniform3f,a,u,v,d)},"set3f"),set4f:r(function(a,u,v,d,p){return this.setUniform4(this.gl.uniform4f,a,u,v,d,p)},"set4f"),set1fv:r(function(a,u){return this.setUniform1(this.gl.uniform1fv,a,u,!0)},"set1fv"),set2fv:r(function(a,u){return this.setUniform1(this.gl.uniform2fv,a,u,!0)},"set2fv"),set3fv:r(function(a,u){return this.setUniform1(this.gl.uniform3fv,a,u,!0)},"set3fv"),set4fv:r(function(a,u){return this.setUniform1(this.gl.uniform4fv,a,u,!0)},"set4fv"),set1iv:r(function(a,u){return this.setUniform1(this.gl.uniform1iv,a,u,!0)},"set1iv"),set2iv:r(function(a,u){return this.setUniform1(this.gl.uniform2iv,a,u,!0)},"set2iv"),set3iv:r(function(a,u){return this.setUniform1(this.gl.uniform3iv,a,u,!0)},"set3iv"),set4iv:r(function(a,u){return this.setUniform1(this.gl.uniform4iv,a,u,!0)},"set4iv"),set1i:r(function(a,u){return this.setUniform1(this.gl.uniform1i,a,u)},"set1i"),set2i:r(function(a,u,v){return this.setUniform2(this.gl.uniform2i,a,u,v)},"set2i"),set3i:r(function(a,u,v,d){return this.setUniform3(this.gl.uniform3i,a,u,v,d)},"set3i"),set4i:r(function(a,u,v,d,p){return this.setUniform4(this.gl.uniform4i,a,u,v,d,p)},"set4i"),setMatrix2fv:r(function(a,u,v){return this.setUniform2(this.gl.uniformMatrix2fv,a,u,v,!0)},"setMatrix2fv"),setMatrix3fv:r(function(a,u,v){return this.setUniform2(this.gl.uniformMatrix3fv,a,u,v,!0)},"setMatrix3fv"),setMatrix4fv:r(function(a,u,v){return this.setUniform2(this.gl.uniformMatrix4fv,a,u,v,!0)},"setMatrix4fv"),createProgram:r(function(a,u){return a===void 0&&(a=this.vertSrc),u===void 0&&(u=this.fragSrc),this.program&&this.renderer.deleteProgram(this.program),this.vertSrc=a,this.fragSrc=u,this.program=this.renderer.createProgram(a,u),this.createUniforms(),this.rebind()},"createProgram"),destroy:r(function(){var a=this.renderer;y(this.uniforms,function(u){a.deleteUniformLocation(u.location)}),this.uniforms=null,y(this.attributes,function(u){a.deleteAttribLocation(u.location)}),this.attributes=null,a.deleteProgram(this.program),this.pipeline=null,this.renderer=null,this.gl=null,this.program=null},"destroy")});n.exports=l},14500:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={BYTE:{enum:5120,size:1},UNSIGNED_BYTE:{enum:5121,size:1},SHORT:{enum:5122,size:2},UNSIGNED_SHORT:{enum:5123,size:2},INT:{enum:5124,size:4},UNSIGNED_INT:{enum:5125,size:4},FLOAT:{enum:5126,size:4}};n.exports=T},4159:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(14500),y=i(79291),c={PipelineManager:i(7530),Pipelines:i(96615),RenderTarget:i(32302),Utils:i(70554),WebGLPipeline:i(29100),WebGLRenderer:i(74797),WebGLShader:i(38683),Wrappers:i(9503)};c=y(!1,c,f),n.exports=c},31302:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(83419),y=i(95540),c=i(78908),o=i(85191),l=i(14500),a=i(29100),u=new f({Extends:a,initialize:r(function(d){d.fragShader=y(d,"fragShader",c),d.vertShader=y(d,"vertShader",o),d.batchSize=y(d,"batchSize",1),d.vertices=y(d,"vertices",[-1,1,-1,-7,7,1]),d.attributes=y(d,"attributes",[{name:"inPosition",size:2,type:l.FLOAT}]),a.call(this,d)},"BitmapMaskPipeline"),boot:r(function(){a.prototype.boot.call(this),this.set1i("uMainSampler",0),this.set1i("uMaskSampler",1)},"boot"),resize:r(function(v,d){a.prototype.resize.call(this,v,d),this.set2f("uResolution",v,d)},"resize"),beginMask:r(function(v,d,p){this.renderer.beginBitmapMask(v,p)},"beginMask"),endMask:r(function(v,d,p){var g=this.gl,m=this.renderer,x=v.bitmapMask;x&&g&&(m.drawBitmapMask(x,d,this),p&&this.set2f("uResolution",p.width,p.height),this.set1i("uInvertMaskAlpha",v.invertAlpha),g.drawArrays(this.topology,0,3),p&&this.set2f("uResolution",this.width,this.height),g.bindTexture(g.TEXTURE_2D,null))},"endMask")});n.exports=u},92651:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(83419),y=i(58918),c=i(14811),o=i(95540),l=i(43558),a=i(89350),u=i(70554),v=new f({Extends:l,initialize:r(function(p){p.shaders=[u.setGlowQuality(a.FXGlowFrag,p.game),a.FXShadowFrag,a.FXPixelateFrag,a.FXVignetteFrag,a.FXShineFrag,a.FXBlurLowFrag,a.FXBlurMedFrag,a.FXBlurHighFrag,a.FXGradientFrag,a.FXBloomFrag,a.ColorMatrixFrag,a.FXCircleFrag,a.FXBarrelFrag,a.FXDisplacementFrag,a.FXWipeFrag,a.FXBokehFrag],l.call(this,p);var g=this.game;this.glow=new y.Glow(g),this.shadow=new y.Shadow(g),this.pixelate=new y.Pixelate(g),this.vignette=new y.Vignette(g),this.shine=new y.Shine(g),this.gradient=new y.Gradient(g),this.circle=new y.Circle(g),this.barrel=new y.Barrel(g),this.wipe=new y.Wipe(g),this.bokeh=new y.Bokeh(g);var m=[];m[c.GLOW]=this.onGlow,m[c.SHADOW]=this.onShadow,m[c.PIXELATE]=this.onPixelate,m[c.VIGNETTE]=this.onVignette,m[c.SHINE]=this.onShine,m[c.BLUR]=this.onBlur,m[c.GRADIENT]=this.onGradient,m[c.BLOOM]=this.onBloom,m[c.COLOR_MATRIX]=this.onColorMatrix,m[c.CIRCLE]=this.onCircle,m[c.BARREL]=this.onBarrel,m[c.DISPLACEMENT]=this.onDisplacement,m[c.WIPE]=this.onWipe,m[c.BOKEH]=this.onBokeh,this.fxHandlers=m,this.source,this.target,this.swap},"FXPipeline"),onDraw:r(function(d,p,g){this.source=d,this.target=p,this.swap=g;var m=d.width,x=d.height,C=this.tempSprite,P=this.fxHandlers;if(C&&C.preFX)for(var A=C.preFX.list,R=0;R<A.length;R++){var L=A[R];L.active&&P[L.type].call(this,L,m,x)}this.drawToGame(this.source)},"onDraw"),runDraw:r(function(){var d=this.source,p=this.target;this.copy(d,p),this.source=p,this.target=d},"runDraw"),onGlow:r(function(d,p,g){var m=this.shaders[c.GLOW];this.setShader(m),this.glow.onPreRender(d,m,p,g),this.runDraw()},"onGlow"),onShadow:r(function(d){var p=this.shaders[c.SHADOW];this.setShader(p),this.shadow.onPreRender(d,p),this.runDraw()},"onShadow"),onPixelate:r(function(d,p,g){var m=this.shaders[c.PIXELATE];this.setShader(m),this.pixelate.onPreRender(d,m,p,g),this.runDraw()},"onPixelate"),onVignette:r(function(d){var p=this.shaders[c.VIGNETTE];this.setShader(p),this.vignette.onPreRender(d,p),this.runDraw()},"onVignette"),onShine:r(function(d,p,g){var m=this.shaders[c.SHINE];this.setShader(m),this.shine.onPreRender(d,m,p,g),this.runDraw()},"onShine"),onBlur:r(function(d,p,g){var m=o(d,"quality"),x=this.shaders[c.BLUR+m];this.setShader(x),this.set1i("uMainSampler",0),this.set2f("resolution",p,g),this.set1f("strength",o(d,"strength")),this.set3fv("color",o(d,"glcolor"));for(var C=o(d,"x"),P=o(d,"y"),A=o(d,"steps"),R=0;R<A;R++)this.set2f("offset",C,0),this.runDraw(),this.set2f("offset",0,P),this.runDraw()},"onBlur"),onGradient:r(function(d){var p=this.shaders[c.GRADIENT];this.setShader(p),this.gradient.onPreRender(d,p),this.runDraw()},"onGradient"),onBloom:r(function(d,p,g){var m=this.shaders[c.BLOOM];this.copySprite(this.source,this.swap),this.setShader(m),this.set1i("uMainSampler",0),this.set1f("strength",o(d,"blurStrength")),this.set3fv("color",o(d,"glcolor"));for(var x=2/p*o(d,"offsetX"),C=2/g*o(d,"offsetY"),P=o(d,"steps"),A=0;A<P;A++)this.set2f("offset",x,0),this.runDraw(),this.set2f("offset",0,C),this.runDraw();this.blendFrames(this.swap,this.source,this.target,o(d,"strength")),this.copySprite(this.target,this.source)},"onBloom"),onColorMatrix:r(function(d){this.setShader(this.colorMatrixShader),this.set1fv("uColorMatrix",d.getData()),this.set1f("uAlpha",d.alpha),this.runDraw()},"onColorMatrix"),onCircle:r(function(d,p,g){var m=this.shaders[c.CIRCLE];this.setShader(m),this.circle.onPreRender(d,m,p,g),this.runDraw()},"onCircle"),onBarrel:r(function(d){var p=this.shaders[c.BARREL];this.setShader(p),this.barrel.onPreRender(d,p),this.runDraw()},"onBarrel"),onDisplacement:r(function(d){this.setShader(this.shaders[c.DISPLACEMENT]),this.set1i("uDisplacementSampler",1),this.set2f("amount",d.x,d.y),this.bindTexture(d.glTexture,1),this.runDraw()},"onDisplacement"),onWipe:r(function(d){var p=this.shaders[c.WIPE];this.setShader(p),this.wipe.onPreRender(d,p),this.runDraw()},"onWipe"),onBokeh:r(function(d,p,g){var m=this.shaders[c.BOKEH];this.setShader(m),this.bokeh.onPreRender(d,m,p,g),this.runDraw()},"onBokeh"),destroy:r(function(){return this.glow.destroy(),this.shadow.destroy(),this.pixelate.destroy(),this.vignette.destroy(),this.shine.destroy(),this.gradient.destroy(),this.circle.destroy(),this.barrel.destroy(),this.wipe.destroy(),this.bokeh.destroy(),this.fxHandlers=null,this.source=null,this.target=null,this.swap=null,l.prototype.destroy.call(this),this},"destroy")});n.exports=v},96569:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(83419),y=i(95540),c=i(31063),o=i(57516),l=i(61340),a=i(26099),u=i(29100),v=new f({Extends:o,initialize:r(function(p){var g=y(p,"fragShader",c);p.fragShader=g.replace("%LIGHT_COUNT%",p.game.renderer.config.maxLights),o.call(this,p),this.inverseRotationMatrix=new Float32Array([1,0,0,0,1,0,0,0,1]),this.currentNormalMap,this.lightsActive=!0,this.tempVec2=new a,this._tempMatrix=new l,this._tempMatrix2=new l},"LightPipeline"),boot:r(function(){u.prototype.boot.call(this)},"boot"),onRender:r(function(d,p){var g=d.sys.lights;if(this.lightsActive=!1,!(!g||!g.active)){var m=g.getLights(p),x=m.length;this.lightsActive=!0;var C,P=this.renderer,A=P.height,R=p.matrix,L=this.tempVec2;for(this.set1i("uMainSampler",0),this.set1i("uNormSampler",1),this.set2f("uResolution",this.width/2,this.height/2),this.set4f("uCamera",p.x,p.y,p.rotation,p.zoom),this.set3f("uAmbientLightColor",g.ambientColor.r,g.ambientColor.g,g.ambientColor.b),this.set1i("uLightCount",x),C=0;C<x;C++){var O=m[C].light,w=O.color,b="uLights["+C+"].";R.transformPoint(O.x,O.y,L),this.set2f(b+"position",L.x-p.scrollX*O.scrollFactorX*p.zoom,A-(L.y-p.scrollY*O.scrollFactorY*p.zoom)),this.set3f(b+"color",w.r,w.g,w.b),this.set1f(b+"intensity",O.intensity),this.set1f(b+"radius",O.radius)}this.currentNormalMapRotation=null}},"onRender"),setNormalMapRotation:r(function(d){if(d!==this.currentNormalMapRotation||this.vertexCount===0){this.vertexCount>0&&this.flush();var p=this.inverseRotationMatrix;if(d){var g=-d,m=Math.cos(g),x=Math.sin(g);p[1]=x,p[3]=-x,p[0]=p[4]=m}else p[0]=p[4]=1,p[1]=p[3]=0;this.setMatrix3fv("uInverseRotationMatrix",!1,p),this.currentNormalMapRotation=d}},"setNormalMapRotation"),setTexture2D:r(function(d,p){var g=this.renderer;d===void 0&&(d=g.whiteTexture);var m=this.getNormalMap(p);this.isNewNormalMap(d,m)&&(this.flush(),this.createBatch(d),this.addTextureToBatch(m),this.currentNormalMap=m);var x=0;if(p&&p.parentContainer){var C=p.getWorldTransformMatrix(this._tempMatrix,this._tempMatrix2);x=C.rotationNormalized}else p&&(x=p.rotation);return this.setNormalMapRotation(x),0},"setTexture2D"),setGameObject:r(function(d,p){p===void 0&&(p=d.frame);var g=p.glTexture,m=this.getNormalMap(d);if(this.isNewNormalMap(g,m)&&(this.flush(),this.createBatch(g),this.addTextureToBatch(m),this.currentNormalMap=m),d.parentContainer){var x=d.getWorldTransformMatrix(this._tempMatrix,this._tempMatrix2);this.setNormalMapRotation(x.rotationNormalized)}else this.setNormalMapRotation(d.rotation);return 0},"setGameObject"),isNewNormalMap:r(function(d,p){return this.currentTexture!==d||this.currentNormalMap!==p},"isNewNormalMap"),getNormalMap:r(function(d){var p;if(d)d.displayTexture?p=d.displayTexture.dataSource[d.displayFrame.sourceIndex]:d.texture?p=d.texture.dataSource[d.frame.sourceIndex]:d.tileset&&(Array.isArray(d.tileset)?p=d.tileset[0].image.dataSource[0]:p=d.tileset.image.dataSource[0]);else return this.renderer.normalTexture;return p?p.glTexture:this.renderer.normalTexture},"getNormalMap"),batchSprite:r(function(d,p,g){this.lightsActive&&o.prototype.batchSprite.call(this,d,p,g)},"batchSprite"),batchTexture:r(function(d,p,g,m,x,C,P,A,R,L,O,w,b,F,M,I,B,G,N,z,H,$,V,Y,D,U,W,k,X,K,Z,J){this.lightsActive&&o.prototype.batchTexture.call(this,d,p,g,m,x,C,P,A,R,L,O,w,b,F,M,I,B,G,N,z,H,$,V,Y,D,U,W,k,X,K,Z,J)},"batchTexture"),batchTextureFrame:r(function(d,p,g,m,x,C,P){this.lightsActive&&o.prototype.batchTextureFrame.call(this,d,p,g,m,x,C,P)},"batchTextureFrame")});n.exports=v},56527:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(83419),y=i(95540),c=i(57516),o=i(45561),l=i(60722),a=i(14500),u=i(29100),v=new f({Extends:c,initialize:r(function(p){p.fragShader=y(p,"fragShader",o),p.vertShader=y(p,"vertShader",l),p.attributes=y(p,"attributes",[{name:"inPosition",size:2},{name:"inTexCoord",size:2},{name:"inTexId"},{name:"inTintEffect"},{name:"inTint",size:4,type:a.UNSIGNED_BYTE,normalized:!0}]),p.forceZero=!0,p.resizeUniform="uResolution",c.call(this,p)},"MobilePipeline"),boot:r(function(){u.prototype.boot.call(this);var d=this.renderer;this.set1i("uMainSampler",0),this.set2f("uResolution",d.width,d.height),this.set1i("uRoundPixels",d.config.roundPixels)},"boot")});n.exports=v},57516:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(83419),y=i(94811),c=i(95540),o=i(98840),l=i(44667),a=i(61340),u=i(70554),v=i(14500),d=i(29100),p=new f({Extends:d,initialize:r(function(m){var x=m.game.renderer,C=c(m,"fragShader",o);m.fragShader=u.parseFragmentShaderMaxTextures(C,x.maxTextures),m.vertShader=c(m,"vertShader",l),m.attributes=c(m,"attributes",[{name:"inPosition",size:2},{name:"inTexCoord",size:2},{name:"inTexId"},{name:"inTintEffect"},{name:"inTint",size:4,type:v.UNSIGNED_BYTE,normalized:!0}]),m.resizeUniform="uResolution",d.call(this,m),this._tempMatrix1=new a,this._tempMatrix2=new a,this._tempMatrix3=new a,this.calcMatrix=new a,this.tempTriangle=[{x:0,y:0,width:0},{x:0,y:0,width:0},{x:0,y:0,width:0},{x:0,y:0,width:0}],this.strokeTint={TL:0,TR:0,BL:0,BR:0},this.fillTint={TL:0,TR:0,BL:0,BR:0},this.currentFrame={u0:0,v0:0,u1:1,v1:1},this.firstQuad=[0,0,0,0,0],this.prevQuad=[0,0,0,0,0],this.polygonCache=[]},"MultiPipeline"),boot:r(function(){d.prototype.boot.call(this);var g=this.renderer;this.set1iv("uMainSampler",g.textureIndexes),this.set2f("uResolution",g.width,g.height),this.set1i("uRoundPixels",g.config.roundPixels)},"boot"),batchSprite:r(function(g,m,x){this.manager.set(this,g);var C=this._tempMatrix1,P=this._tempMatrix2,A=this._tempMatrix3,R=g.frame,L=R.glTexture,O=R.u0,w=R.v0,b=R.u1,F=R.v1,M=R.x,I=R.y,B=R.cutWidth,G=R.cutHeight,N=R.customPivot,z=g.displayOriginX,H=g.displayOriginY,$=-z+M,V=-H+I;if(g.isCropped){var Y=g._crop;(Y.flipX!==g.flipX||Y.flipY!==g.flipY)&&R.updateCropUVs(Y,g.flipX,g.flipY),O=Y.u0,w=Y.v0,b=Y.u1,F=Y.v1,B=Y.width,G=Y.height,M=Y.x,I=Y.y,$=-z+M,V=-H+I}var D=1,U=1;g.flipX&&(N||($+=-R.realWidth+z*2),D=-1),g.flipY&&(N||(V+=-R.realHeight+H*2),U=-1);var W=g.x,k=g.y;P.applyITRS(W,k,g.rotation,g.scaleX*D,g.scaleY*U),C.copyFrom(m.matrix),x?(C.multiplyWithOffset(x,-m.scrollX*g.scrollFactorX,-m.scrollY*g.scrollFactorY),P.e=W,P.f=k):(P.e-=m.scrollX*g.scrollFactorX,P.f-=m.scrollY*g.scrollFactorY),C.multiply(P,A);var X=A.setQuad($,V,$+B,V+G),K=u.getTintAppendFloatAlpha,Z=m.alpha,J=K(g.tintTopLeft,Z*g._alphaTL),Q=K(g.tintTopRight,Z*g._alphaTR),j=K(g.tintBottomLeft,Z*g._alphaBL),q=K(g.tintBottomRight,Z*g._alphaBR);this.shouldFlush(6)&&this.flush();var tt=this.setGameObject(g,R);this.manager.preBatch(g),this.currentShader.set1i("uRoundPixels",m.roundPixels),this.batchQuad(g,X[0],X[1],X[2],X[3],X[4],X[5],X[6],X[7],O,w,b,F,J,Q,j,q,g.tintFill,L,tt),this.manager.postBatch(g)},"batchSprite"),batchTexture:r(function(g,m,x,C,P,A,R,L,O,w,b,F,M,I,B,G,N,z,H,$,V,Y,D,U,W,k,X,K,Z,J,Q,j,q){q===void 0&&(q=!1),this.manager.set(this,g);var tt=this._tempMatrix1,_=this._tempMatrix2,rt=this._tempMatrix3,ht=z/x+X,lt=H/C+K,ot=(z+$)/x+X,et=(H+V)/C+K,at=R,nt=L,vt=-G,mt=-N;if(g.isCropped){var Nt=g._crop,Ft=Nt.width,Et=Nt.height;at=Ft,nt=Et,R=Ft,L=Et,z=Nt.x,H=Nt.y;var St=z,Xt=H;F&&(St=$-Nt.x-Ft),M&&(Xt=V-Nt.y-Et),ht=St/x+X,lt=Xt/C+K,ot=(St+Ft)/x+X,et=(Xt+Et)/C+K,vt=-G+z,mt=-N+H}M=M^(!Q&&m.isRenderTexture?1:0),F&&(at*=-1,vt+=R),M&&(nt*=-1,mt+=L),_.applyITRS(P,A,b,O,w),tt.copyFrom(Z.matrix),J?(tt.multiplyWithOffset(J,-Z.scrollX*I,-Z.scrollY*B),_.e=P,_.f=A):(_.e-=Z.scrollX*I,_.f-=Z.scrollY*B),tt.multiply(_,rt);var bt=rt.setQuad(vt,mt,vt+at,mt+nt);j==null&&(j=this.setTexture2D(m)),g&&!q&&this.manager.preBatch(g),this.currentShader.set1i("uRoundPixels",Z.roundPixels),this.batchQuad(g,bt[0],bt[1],bt[2],bt[3],bt[4],bt[5],bt[6],bt[7],ht,lt,ot,et,Y,D,U,W,k,m,j),g&&!q&&this.manager.postBatch(g)},"batchTexture"),batchTextureFrame:r(function(g,m,x,C,P,A,R){this.manager.set(this);var L=this._tempMatrix1.copyFrom(A),O=this._tempMatrix2;R?L.multiply(R,O):O=L;var w=O.setQuad(m,x,m+g.width,x+g.height),b=this.setTexture2D(g.source.glTexture);C=u.getTintAppendFloatAlpha(C,P),this.batchQuad(null,w[0],w[1],w[2],w[3],w[4],w[5],w[6],w[7],g.u0,g.v0,g.u1,g.v1,C,C,C,C,0,g.glTexture,b)},"batchTextureFrame"),batchFillRect:r(function(g,m,x,C,P,A){this.renderer.pipelines.set(this);var R=this.calcMatrix;A&&A.multiply(P,R);var L=R.setQuad(g,m,g+x,m+C),O=this.fillTint;this.batchQuad(null,L[0],L[1],L[2],L[3],L[4],L[5],L[6],L[7],0,0,1,1,O.TL,O.TR,O.BL,O.BR,2)},"batchFillRect"),batchFillTriangle:r(function(g,m,x,C,P,A,R,L){this.renderer.pipelines.set(this);var O=this.calcMatrix;L&&L.multiply(R,O);var w=O.getX(g,m),b=O.getY(g,m),F=O.getX(x,C),M=O.getY(x,C),I=O.getX(P,A),B=O.getY(P,A),G=this.fillTint;this.currentShader.set1i("uRoundPixels",!1),this.batchTri(null,w,b,F,M,I,B,0,0,1,1,G.TL,G.TR,G.BL,2)},"batchFillTriangle"),batchStrokeTriangle:r(function(g,m,x,C,P,A,R,L,O){var w=this.tempTriangle;w[0].x=g,w[0].y=m,w[0].width=R,w[1].x=x,w[1].y=C,w[1].width=R,w[2].x=P,w[2].y=A,w[2].width=R,w[3].x=g,w[3].y=m,w[3].width=R,this.batchStrokePath(w,R,!1,L,O)},"batchStrokeTriangle"),batchFillPath:r(function(g,m,x){this.renderer.pipelines.set(this);var C=this.calcMatrix;x&&x.multiply(m,C);for(var P=g.length,A=this.polygonCache,R,L,O=this.fillTint.TL,w=this.fillTint.TR,b=this.fillTint.BL,F=0;F<P;++F)L=g[F],A.push(L.x,L.y);R=y(A),P=R.length,this.currentShader.set1i("uRoundPixels",!1);for(var M=0;M<P;M+=3){var I=R[M+0]*2,B=R[M+1]*2,G=R[M+2]*2,N=A[I+0],z=A[I+1],H=A[B+0],$=A[B+1],V=A[G+0],Y=A[G+1],D=C.getX(N,z),U=C.getY(N,z),W=C.getX(H,$),k=C.getY(H,$),X=C.getX(V,Y),K=C.getY(V,Y);this.batchTri(null,D,U,W,k,X,K,0,0,1,1,O,w,b,2)}A.length=0},"batchFillPath"),batchStrokePath:r(function(g,m,x,C,P){this.renderer.pipelines.set(this),this.prevQuad[4]=0,this.firstQuad[4]=0;for(var A=g.length-1,R=0;R<A;R++){var L=g[R],O=g[R+1];this.batchLine(L.x,L.y,O.x,O.y,L.width/2,O.width/2,m,R,!x&&R===A-1,C,P)}},"batchStrokePath"),batchLine:r(function(g,m,x,C,P,A,R,L,O,w,b){this.renderer.pipelines.set(this);var F=this.calcMatrix;b&&b.multiply(w,F);var M=x-g,I=C-m,B=Math.sqrt(M*M+I*I);if(B!==0){var G=P*(C-m)/B,N=P*(g-x)/B,z=A*(C-m)/B,H=A*(g-x)/B,$=x-z,V=C-H,Y=g-G,D=m-N,U=x+z,W=C+H,k=g+G,X=m+N,K=F.getX($,V),Z=F.getY($,V),J=F.getX(Y,D),Q=F.getY(Y,D),j=F.getX(U,W),q=F.getY(U,W),tt=F.getX(k,X),_=F.getY(k,X),rt=this.strokeTint,ht=rt.TL,lt=rt.TR,ot=rt.BL,et=rt.BR;if(this.currentShader.set1i("uRoundPixels",!1),this.batchQuad(null,tt,_,J,Q,K,Z,j,q,0,0,1,1,ht,lt,ot,et,2),!(R<=2)){var at=this.prevQuad,nt=this.firstQuad;L>0&&at[4]?this.batchQuad(null,tt,_,J,Q,at[0],at[1],at[2],at[3],0,0,1,1,ht,lt,ot,et,2):(nt[0]=tt,nt[1]=_,nt[2]=J,nt[3]=Q,nt[4]=1),O&&nt[4]?this.batchQuad(null,K,Z,j,q,nt[0],nt[1],nt[2],nt[3],0,0,1,1,ht,lt,ot,et,2):(at[0]=K,at[1]=Z,at[2]=j,at[3]=q,at[4]=1)}}},"batchLine"),destroy:r(function(){return this._tempMatrix1.destroy(),this._tempMatrix2.destroy(),this._tempMatrix3.destroy(),this._tempMatrix1=null,this._tempMatrix1=null,this._tempMatrix1=null,d.prototype.destroy.call(this),this},"destroy")});n.exports=p},43439:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(83419),y=i(95540),c=i(4127),o=i(89924),l=i(29100),a=new f({Extends:l,initialize:r(function(v){v.vertShader=y(v,"vertShader",o),v.fragShader=y(v,"fragShader",c),v.attributes=y(v,"attributes",[{name:"inPosition",size:2},{name:"inLightPosition",size:2},{name:"inLightRadius"},{name:"inLightAttenuation"},{name:"inLightColor",size:4}]),l.call(this,v)},"PointLightPipeline"),onRender:r(function(u,v){this.set2f("uResolution",this.width,this.height),this.set1f("uCameraZoom",v.zoom)},"onRender"),batchPointLight:r(function(u,v,d,p,g,m,x,C,P,A,R,L){var O=u.color,w=u.intensity,b=u.radius,F=u.attenuation,M=O.r*w,I=O.g*w,B=O.b*w,G=v.alpha*u.alpha;this.shouldFlush(6)&&this.flush(),this.currentBatch||this.setTexture2D(),this.batchLightVert(d,p,R,L,b,F,M,I,B,G),this.batchLightVert(g,m,R,L,b,F,M,I,B,G),this.batchLightVert(x,C,R,L,b,F,M,I,B,G),this.batchLightVert(d,p,R,L,b,F,M,I,B,G),this.batchLightVert(x,C,R,L,b,F,M,I,B,G),this.batchLightVert(P,A,R,L,b,F,M,I,B,G),this.currentBatch.count=this.vertexCount-this.currentBatch.start},"batchPointLight"),batchLightVert:r(function(u,v,d,p,g,m,x,C,P,A){var R=this.vertexViewF32,L=this.vertexCount*this.currentShader.vertexComponentCount-1;R[++L]=u,R[++L]=v,R[++L]=d,R[++L]=p,R[++L]=g,R[++L]=m,R[++L]=x,R[++L]=C,R[++L]=P,R[++L]=A,this.vertexCount++},"batchLightVert")});n.exports=a},84057:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(83419),y=i(89422),c=i(95540),o=i(27681),l=i(49627),a=i(29100),u=new f({Extends:a,initialize:r(function(d){d.renderTarget=c(d,"renderTarget",1),d.fragShader=c(d,"fragShader",o),d.vertShader=c(d,"vertShader",l),d.attributes=c(d,"attributes",[{name:"inPosition",size:2},{name:"inTexCoord",size:2}]),d.batchSize=1,d.vertices=[-1,-1,0,0,-1,1,0,1,1,1,1,1,-1,-1,0,0,1,1,1,1,1,-1,1,0],a.call(this,d),this.isPostFX=!0,this.gameObject,this.controller,this.colorMatrix=new y,this.fullFrame1,this.fullFrame2,this.halfFrame1,this.halfFrame2,this.renderer.isBooted&&(this.manager=this.renderer.pipelines)},"PostFXPipeline"),bootFX:r(function(){a.prototype.boot.call(this);var v=this.manager.UTILITY_PIPELINE;this.fullFrame1=v.fullFrame1,this.fullFrame2=v.fullFrame2,this.halfFrame1=v.halfFrame1,this.halfFrame2=v.halfFrame2;var d=this.renderer;this.set1i("uMainSampler",0),this.set2f("uResolution",d.width,d.height),this.set1i("uRoundPixels",d.config.roundPixels);for(var p=this.renderTargets,g=0;g<p.length;g++)p[g].autoResize=!0},"bootFX"),postBatch:r(function(v){return this.hasBooted||(this.bootFX(),this.currentRenderTarget&&this.currentRenderTarget.bind()),this.onDraw(this.currentRenderTarget),this.onPostBatch(v),this},"postBatch"),onDraw:r(function(v){this.bindAndDraw(v)},"onDraw"),getController:r(function(v){return v!==void 0?v:this.controller?this.controller:this},"getController"),copySprite:r(function(v,d,p){p===void 0&&(p=!1);var g=this.gl;g.activeTexture(g.TEXTURE0),g.bindTexture(g.TEXTURE_2D,v.texture.webGLTexture);var m=g.getParameter(g.FRAMEBUFFER_BINDING);g.bindFramebuffer(g.FRAMEBUFFER,d.framebuffer.webGLFramebuffer),g.framebufferTexture2D(g.FRAMEBUFFER,g.COLOR_ATTACHMENT0,g.TEXTURE_2D,d.texture.webGLTexture,0),g.clearColor(0,0,0,0),g.clear(g.COLOR_BUFFER_BIT),g.bufferData(g.ARRAY_BUFFER,this.vertexData,g.STATIC_DRAW),g.drawArrays(g.TRIANGLES,0,6),p&&(g.bindTexture(g.TEXTURE_2D,null),g.bindFramebuffer(g.FRAMEBUFFER,m))},"copySprite"),copyFrame:r(function(v,d,p,g,m){this.manager.copyFrame(v,d,p,g,m)},"copyFrame"),copyToGame:r(function(v){this.manager.copyToGame(v)},"copyToGame"),drawFrame:r(function(v,d,p){this.manager.drawFrame(v,d,p,this.colorMatrix)},"drawFrame"),blendFrames:r(function(v,d,p,g,m){this.manager.blendFrames(v,d,p,g,m)},"blendFrames"),blendFramesAdditive:r(function(v,d,p,g,m){this.manager.blendFramesAdditive(v,d,p,g,m)},"blendFramesAdditive"),clearFrame:r(function(v,d){this.manager.clearFrame(v,d)},"clearFrame"),blitFrame:r(function(v,d,p,g,m,x){this.manager.blitFrame(v,d,p,g,m,x)},"blitFrame"),copyFrameRect:r(function(v,d,p,g,m,x,C,P){this.manager.copyFrameRect(v,d,p,g,m,x,C,P)},"copyFrameRect"),bindAndDraw:r(function(v,d,p,g,m){p===void 0&&(p=!0),g===void 0&&(g=!0);var x=this.gl,C=this.renderer;this.bind(m),this.set1i("uMainSampler",0),d?(x.viewport(0,0,d.width,d.height),x.bindFramebuffer(x.FRAMEBUFFER,d.framebuffer.webGLFramebuffer),x.framebufferTexture2D(x.FRAMEBUFFER,x.COLOR_ATTACHMENT0,x.TEXTURE_2D,d.texture.webGLTexture,0),p&&(g?x.clearColor(0,0,0,0):x.clearColor(0,0,0,1),x.clear(x.COLOR_BUFFER_BIT))):(C.popFramebuffer(!1,!1),C.currentFramebuffer||x.viewport(0,0,C.width,C.height)),C.restoreStencilMask(),x.activeTexture(x.TEXTURE0),x.bindTexture(x.TEXTURE_2D,v.texture.webGLTexture),x.bufferData(x.ARRAY_BUFFER,this.vertexData,x.STATIC_DRAW),x.drawArrays(x.TRIANGLES,0,6),d&&(x.bindTexture(x.TEXTURE_2D,null),x.bindFramebuffer(x.FRAMEBUFFER,C.currentFramebuffer.webGLFramebuffer))},"bindAndDraw"),destroy:r(function(){return this.controller&&this.controller.destroy(),this.gameObject=null,this.controller=null,this.colorMatrix=null,this.fullFrame1=null,this.fullFrame2=null,this.halfFrame1=null,this.halfFrame2=null,this.manager.removePostPipeline(this),a.prototype.destroy.call(this),this},"destroy")});n.exports=u},43558:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(10312),y=i(67502),c=i(83419),o=i(96293),l=i(95540),a=i(57516),u=i(27681),v=i(87841),d=i(32302),p=i(45561),g=i(60722),m=i(29100),x=new c({Extends:a,initialize:r(function(P){var A=l(P,"fragShader",u),R=l(P,"vertShader",g),L=l(P,"drawShader",u),O=[{name:"DrawSprite",fragShader:p,vertShader:g},{name:"CopySprite",fragShader:A,vertShader:R},{name:"DrawGame",fragShader:L,vertShader:g},{name:"ColorMatrix",fragShader:o}],w=l(P,"shaders",[]);P.shaders=O.concat(w),P.vertShader||(P.vertShader=R),P.batchSize=1,a.call(this,P),this.isPreFX=!0,this.customMainSampler=null,this.drawSpriteShader,this.copyShader,this.gameShader,this.colorMatrixShader,this.quadVertexData,this.quadVertexBuffer,this.quadVertexViewF32,this.spriteBounds=new v,this.targetBounds=new v,this.fsTarget,this.tempSprite,this.renderer.isBooted&&(this.manager=this.renderer.pipelines,this.boot())},"PreFXPipeline"),boot:r(function(){m.prototype.boot.call(this);var C=this.shaders,P=this.renderer;this.drawSpriteShader=C[0],this.copyShader=C[1],this.gameShader=C[2],this.colorMatrixShader=C[3],this.fsTarget=new d(P,P.width,P.height,1,0,!0,!0),this.renderTargets=this.manager.renderTargets.concat(this.fsTarget);var A=new ArrayBuffer(168);this.quadVertexData=A,this.quadVertexViewF32=new Float32Array(A),this.quadVertexBuffer=P.createVertexBuffer(A,this.gl.STATIC_DRAW),this.onResize(P.width,P.height),this.currentShader=this.copyShader,this.set2f("uResolution",P.width,P.height),this.set1i("uRoundPixels",P.config.roundPixels)},"boot"),onResize:r(function(C,P){var A=this.quadVertexViewF32;A[1]=P,A[22]=P,A[14]=C,A[28]=C,A[35]=C,A[36]=P},"onResize"),batchQuad:r(function(C,P,A,R,L,O,w,b,F,M,I,B,G,N,z,H,$,V,Y){var D=Math.min(P,R,O,b),U=Math.min(A,L,w,F),W=Math.max(P,R,O,b),k=Math.max(A,L,w,F),X=W-D,K=k-U,Z=this.spriteBounds.setTo(D,U,X,K),J=C?C.preFX.padding:0,Q=X+J*2,j=K+J*2,q=Math.abs(Math.max(Q,j)),tt=this.manager.getRenderTarget(q),_=this.targetBounds.setTo(0,0,tt.width,tt.height);y(_,Z.centerX,Z.centerY),this.tempSprite=C;var rt=this.gl,ht=this.renderer;ht.clearStencilMask(),this.setShader(this.drawSpriteShader),this.set1i("uMainSampler",0),this.set2f("uResolution",ht.width,ht.height),this.set1i("uRoundPixels",ht.config.roundPixels),this.flipProjectionMatrix(!0),C&&(this.onDrawSprite(C,tt),C.preFX.onFX(this));var lt=this.fsTarget;return this.flush(),rt.viewport(0,0,ht.width,ht.height),rt.bindFramebuffer(rt.FRAMEBUFFER,lt.framebuffer.webGLFramebuffer),rt.framebufferTexture2D(rt.FRAMEBUFFER,rt.COLOR_ATTACHMENT0,rt.TEXTURE_2D,lt.texture.webGLTexture,0),rt.clearColor(0,0,0,0),rt.clear(rt.COLOR_BUFFER_BIT),this.setTexture2D(Y),this.batchVert(P,A,M,I,0,V,N),this.batchVert(R,L,M,G,0,V,H),this.batchVert(O,w,B,G,0,V,$),this.batchVert(P,A,M,I,0,V,N),this.batchVert(O,w,B,G,0,V,$),this.batchVert(b,F,B,I,0,V,z),this.flush(),this.flipProjectionMatrix(!1),rt.activeTexture(rt.TEXTURE0),rt.bindTexture(rt.TEXTURE_2D,tt.texture.webGLTexture),rt.copyTexSubImage2D(rt.TEXTURE_2D,0,0,0,_.x,_.y,_.width,_.height),rt.bindFramebuffer(rt.FRAMEBUFFER,null),rt.bindTexture(rt.TEXTURE_2D,null),this.onBatch(C),this.currentShader=this.copyShader,this.onDraw(tt,this.manager.getSwapRenderTarget(),this.manager.getAltSwapRenderTarget()),!0},"batchQuad"),onDrawSprite:r(function(){},"onDrawSprite"),onCopySprite:r(function(){},"onCopySprite"),copySprite:r(function(C,P,A,R,L,O,w){A===void 0&&(A=!0),R===void 0&&(R=!0),L===void 0&&(L=!1),w===void 0&&(w=this.copyShader);var b=this.gl,F=this.tempSprite;O&&(w=this.colorMatrixShader),this.currentShader=w;var M=this.setVertexBuffer(this.quadVertexBuffer);w.bind(M,!1);var I=this.renderer;if(this.set1i("uMainSampler",0),this.set2f("uResolution",I.width,I.height),this.set1i("uRoundPixels",I.config.roundPixels),F.preFX.onFXCopy(this),this.onCopySprite(C,P,F),O&&(this.set1fv("uColorMatrix",O.getData()),this.set1f("uAlpha",O.alpha)),b.activeTexture(b.TEXTURE0),b.bindTexture(b.TEXTURE_2D,C.texture.webGLTexture),C.height>P.height)b.viewport(0,0,C.width,C.height),this.setTargetUVs(C,P);else{var B=P.height-C.height;b.viewport(0,B,C.width,C.height),this.resetUVs()}if(b.bindFramebuffer(b.FRAMEBUFFER,P.framebuffer.webGLFramebuffer),b.framebufferTexture2D(b.FRAMEBUFFER,b.COLOR_ATTACHMENT0,b.TEXTURE_2D,P.texture.webGLTexture,0),A&&(b.clearColor(0,0,0,+!R),b.clear(b.COLOR_BUFFER_BIT)),L){var G=this.renderer.currentBlendMode;this.renderer.setBlendMode(f.ERASE)}b.bufferData(b.ARRAY_BUFFER,this.quadVertexData,b.STATIC_DRAW),b.drawArrays(b.TRIANGLES,0,6),L&&this.renderer.setBlendMode(G),b.bindFramebuffer(b.FRAMEBUFFER,null)},"copySprite"),copy:r(function(C,P){var A=this.gl;this.set1i("uMainSampler",0),A.activeTexture(A.TEXTURE0),A.bindTexture(A.TEXTURE_2D,C.texture.webGLTexture),A.viewport(0,0,C.width,C.height),this.setUVs(0,0,0,1,1,1,1,0),A.bindFramebuffer(A.FRAMEBUFFER,P.framebuffer.webGLFramebuffer),A.framebufferTexture2D(A.FRAMEBUFFER,A.COLOR_ATTACHMENT0,A.TEXTURE_2D,P.texture.webGLTexture,0),A.clearColor(0,0,0,0),A.clear(A.COLOR_BUFFER_BIT),A.bufferData(A.ARRAY_BUFFER,this.quadVertexData,A.STATIC_DRAW),A.drawArrays(A.TRIANGLES,0,6),A.bindFramebuffer(A.FRAMEBUFFER,null)},"copy"),blendFrames:r(function(C,P,A,R,L){this.manager.blendFrames(C,P,A,R,L)},"blendFrames"),blendFramesAdditive:r(function(C,P,A,R,L){this.manager.blendFramesAdditive(C,P,A,R,L)},"blendFramesAdditive"),drawToGame:r(function(C){this.currentShader=null,this.setShader(this.copyShader),this.bindAndDraw(C)},"drawToGame"),copyToGame:r(function(C){this.currentShader=null,this.setShader(this.gameShader),this.bindAndDraw(C)},"copyToGame"),bindAndDraw:r(function(C){var P=this.gl,A=this.renderer;this.set1i("uMainSampler",0),this.customMainSampler?this.setTexture2D(this.customMainSampler):this.setTexture2D(C.texture);var R=this._tempMatrix1.loadIdentity(),L=this.targetBounds.x,O=this.targetBounds.y,w=L+C.width,b=O+C.height,F=R.getX(L,O),M=R.getX(L,b),I=R.getX(w,b),B=R.getX(w,O),G=R.getY(L,O),N=R.getY(L,b),z=R.getY(w,b),H=R.getY(w,O),$=16777215;this.batchVert(F,G,0,0,0,0,$),this.batchVert(M,N,0,1,0,0,$),this.batchVert(I,z,1,1,0,0,$),this.batchVert(F,G,0,0,0,0,$),this.batchVert(I,z,1,1,0,0,$),this.batchVert(B,H,1,0,0,0,$),A.restoreFramebuffer(!1,!0),A.currentFramebuffer||P.viewport(0,0,A.width,A.height),A.restoreStencilMask(),this.flush(),this.tempSprite=null},"bindAndDraw"),onDraw:r(function(C){this.drawToGame(C)},"onDraw"),setUVs:r(function(C,P,A,R,L,O,w,b){var F=this.quadVertexViewF32;F[2]=C,F[3]=P,F[9]=A,F[10]=R,F[16]=L,F[17]=O,F[23]=C,F[24]=P,F[30]=L,F[31]=O,F[37]=w,F[38]=b},"setUVs"),setTargetUVs:r(function(C,P){var A=P.height/C.height;A>.5?A=.5-(A-.5):A=.5+(.5-A),this.setUVs(0,A,0,1+A,1,1+A,1,A)},"setTargetUVs"),resetUVs:r(function(){this.setUVs(0,0,0,1,1,1,1,0)},"resetUVs"),destroy:r(function(){return this.renderer.deleteBuffer(this.quadVertexBuffer),this.drawSpriteShader=null,this.copyShader=null,this.gameShader=null,this.colorMatrixShader=null,this.quadVertexData=null,this.quadVertexBuffer=null,this.quadVertexViewF32=null,this.fsTarget=null,this.tempSprite=null,a.prototype.destroy.call(this),this},"destroy")});n.exports=x},81041:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(83419),y=i(95540),c=i(57516),o=new f({Extends:c,initialize:r(function(a){a.topology=5,a.batchSize=y(a,"batchSize",256),c.call(this,a)},"RopePipeline")});n.exports=o},12385:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(83419),y=i(95540),c=i(57516),o=i(45561),l=i(60722),a=i(29100),u=new f({Extends:c,initialize:r(function(d){d.fragShader=y(d,"fragShader",o),d.vertShader=y(d,"vertShader",l),d.forceZero=!0,c.call(this,d)},"SinglePipeline"),boot:r(function(){a.prototype.boot.call(this);var v=this.renderer;this.set1i("uMainSampler",0),this.set2f("uResolution",v.width,v.height),this.set1i("uRoundPixels",v.config.roundPixels)},"boot")});n.exports=u},7589:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(35407),y=i(10312),c=i(83419),o=i(89422),l=i(96293),a=i(36682),u=i(95540),v=i(48247),d=i(49627),p=i(29100),g=new c({Extends:p,initialize:r(function(x){x.renderTarget=u(x,"renderTarget",[{scale:1,autoResize:!0},{scale:1,autoResize:!0},{scale:.5,autoResize:!0},{scale:.5,autoResize:!0}]),x.vertShader=u(x,"vertShader",d),x.shaders=u(x,"shaders",[{name:"Copy",fragShader:a},{name:"AddBlend",fragShader:f},{name:"LinearBlend",fragShader:v},{name:"ColorMatrix",fragShader:l}]),x.attributes=u(x,"attributes",[{name:"inPosition",size:2},{name:"inTexCoord",size:2}]),x.vertices=[-1,-1,0,0,-1,1,0,1,1,1,1,1,-1,-1,0,0,1,1,1,1,1,-1,1,0],x.batchSize=1,p.call(this,x),this.colorMatrix=new o,this.copyShader,this.addShader,this.linearShader,this.colorMatrixShader,this.fullFrame1,this.fullFrame2,this.halfFrame1,this.halfFrame2},"UtilityPipeline"),boot:r(function(){p.prototype.boot.call(this);var m=this.shaders,x=this.renderTargets;this.copyShader=m[0],this.addShader=m[1],this.linearShader=m[2],this.colorMatrixShader=m[3],this.fullFrame1=x[0],this.fullFrame2=x[1],this.halfFrame1=x[2],this.halfFrame2=x[3]},"boot"),copyFrame:r(function(m,x,C,P,A){C===void 0&&(C=1),P===void 0&&(P=!0),A===void 0&&(A=!0);var R=this.gl;this.setShader(this.copyShader),this.set1i("uMainSampler",0),this.set1f("uBrightness",C),R.activeTexture(R.TEXTURE0),R.bindTexture(R.TEXTURE_2D,m.texture.webGLTexture),x?(R.viewport(0,0,x.width,x.height),R.bindFramebuffer(R.FRAMEBUFFER,x.framebuffer.webGLFramebuffer),R.framebufferTexture2D(R.FRAMEBUFFER,R.COLOR_ATTACHMENT0,R.TEXTURE_2D,x.texture.webGLTexture,0)):R.viewport(0,0,m.width,m.height),P&&(A?R.clearColor(0,0,0,0):R.clearColor(0,0,0,1),R.clear(R.COLOR_BUFFER_BIT)),R.bufferData(R.ARRAY_BUFFER,this.vertexData,R.STATIC_DRAW),R.drawArrays(R.TRIANGLES,0,6),R.bindFramebuffer(R.FRAMEBUFFER,null),R.bindTexture(R.TEXTURE_2D,null)},"copyFrame"),blitFrame:r(function(m,x,C,P,A,R,L){C===void 0&&(C=1),P===void 0&&(P=!0),A===void 0&&(A=!0),R===void 0&&(R=!1),L===void 0&&(L=!1);var O=this.gl;if(this.setShader(this.copyShader),this.set1i("uMainSampler",0),this.set1f("uBrightness",C),O.activeTexture(O.TEXTURE0),O.bindTexture(O.TEXTURE_2D,m.texture.webGLTexture),m.height>x.height)O.viewport(0,0,m.width,m.height),this.setTargetUVs(m,x);else{var w=x.height-m.height;O.viewport(0,w,m.width,m.height)}if(O.bindFramebuffer(O.FRAMEBUFFER,x.framebuffer.webGLFramebuffer),O.framebufferTexture2D(O.FRAMEBUFFER,O.COLOR_ATTACHMENT0,O.TEXTURE_2D,x.texture.webGLTexture,0),P&&(A?O.clearColor(0,0,0,0):O.clearColor(0,0,0,1),O.clear(O.COLOR_BUFFER_BIT)),R){var b=this.renderer.currentBlendMode;this.renderer.setBlendMode(y.ERASE)}L&&this.flipY(),O.bufferData(O.ARRAY_BUFFER,this.vertexData,O.STATIC_DRAW),O.drawArrays(O.TRIANGLES,0,6),R&&this.renderer.setBlendMode(b),O.bindFramebuffer(O.FRAMEBUFFER,null),O.bindTexture(O.TEXTURE_2D,null),this.resetUVs()},"blitFrame"),copyFrameRect:r(function(m,x,C,P,A,R,L,O){L===void 0&&(L=!0),O===void 0&&(O=!0);var w=this.gl;w.bindFramebuffer(w.FRAMEBUFFER,m.framebuffer.webGLFramebuffer),w.framebufferTexture2D(w.FRAMEBUFFER,w.COLOR_ATTACHMENT0,w.TEXTURE_2D,m.texture.webGLTexture,0),L&&(O?w.clearColor(0,0,0,0):w.clearColor(0,0,0,1),w.clear(w.COLOR_BUFFER_BIT)),w.activeTexture(w.TEXTURE0),w.bindTexture(w.TEXTURE_2D,x.texture.webGLTexture),w.copyTexSubImage2D(w.TEXTURE_2D,0,0,0,C,P,A,R),w.bindFramebuffer(w.FRAMEBUFFER,null),w.bindTexture(w.TEXTURE_2D,null)},"copyFrameRect"),copyToGame:r(function(m){var x=this.gl;this.setShader(this.copyShader),this.set1i("uMainSampler",0),this.set1f("uBrightness",1),this.renderer.popFramebuffer(),x.activeTexture(x.TEXTURE0),x.bindTexture(x.TEXTURE_2D,m.texture.webGLTexture),x.bufferData(x.ARRAY_BUFFER,this.vertexData,x.STATIC_DRAW),x.drawArrays(x.TRIANGLES,0,6)},"copyToGame"),drawFrame:r(function(m,x,C,P){C===void 0&&(C=!0),P===void 0&&(P=this.colorMatrix);var A=this.gl;this.setShader(this.colorMatrixShader),this.set1i("uMainSampler",0),this.set1fv("uColorMatrix",P.getData()),this.set1f("uAlpha",P.alpha),A.activeTexture(A.TEXTURE0),A.bindTexture(A.TEXTURE_2D,m.texture.webGLTexture),x?(A.viewport(0,0,x.width,x.height),A.bindFramebuffer(A.FRAMEBUFFER,x.framebuffer.webGLFramebuffer),A.framebufferTexture2D(A.FRAMEBUFFER,A.COLOR_ATTACHMENT0,A.TEXTURE_2D,x.texture.webGLTexture,0)):A.viewport(0,0,m.width,m.height),C?A.clearColor(0,0,0,0):A.clearColor(0,0,0,1),A.clear(A.COLOR_BUFFER_BIT),A.bufferData(A.ARRAY_BUFFER,this.vertexData,A.STATIC_DRAW),A.drawArrays(A.TRIANGLES,0,6),A.bindFramebuffer(A.FRAMEBUFFER,null),A.bindTexture(A.TEXTURE_2D,null)},"drawFrame"),blendFrames:r(function(m,x,C,P,A,R){P===void 0&&(P=1),A===void 0&&(A=!0),R===void 0&&(R=this.linearShader);var L=this.gl;this.setShader(R),this.set1i("uMainSampler1",0),this.set1i("uMainSampler2",1),this.set1f("uStrength",P),L.activeTexture(L.TEXTURE0),L.bindTexture(L.TEXTURE_2D,m.texture.webGLTexture),L.activeTexture(L.TEXTURE1),L.bindTexture(L.TEXTURE_2D,x.texture.webGLTexture),C?(L.bindFramebuffer(L.FRAMEBUFFER,C.framebuffer.webGLFramebuffer),L.framebufferTexture2D(L.FRAMEBUFFER,L.COLOR_ATTACHMENT0,L.TEXTURE_2D,C.texture.webGLTexture,0),L.viewport(0,0,C.width,C.height)):L.viewport(0,0,m.width,m.height),A?L.clearColor(0,0,0,0):L.clearColor(0,0,0,1),L.clear(L.COLOR_BUFFER_BIT),L.bufferData(L.ARRAY_BUFFER,this.vertexData,L.STATIC_DRAW),L.drawArrays(L.TRIANGLES,0,6),L.bindFramebuffer(L.FRAMEBUFFER,null),L.bindTexture(L.TEXTURE_2D,null)},"blendFrames"),blendFramesAdditive:r(function(m,x,C,P,A){this.blendFrames(m,x,C,P,A,this.addShader)},"blendFramesAdditive"),clearFrame:r(function(m,x){x===void 0&&(x=!0);var C=this.gl;C.viewport(0,0,m.width,m.height),C.bindFramebuffer(C.FRAMEBUFFER,m.framebuffer.webGLFramebuffer),x?C.clearColor(0,0,0,0):C.clearColor(0,0,0,1),C.clear(C.COLOR_BUFFER_BIT);var P=this.renderer.currentFramebuffer;C.bindFramebuffer(C.FRAMEBUFFER,P.webGLFramebuffer)},"clearFrame"),setUVs:r(function(m,x,C,P,A,R,L,O){var w=this.vertexViewF32;w[2]=m,w[3]=x,w[6]=C,w[7]=P,w[10]=A,w[11]=R,w[14]=m,w[15]=x,w[18]=A,w[19]=R,w[22]=L,w[23]=O},"setUVs"),setTargetUVs:r(function(m,x){var C=x.height/m.height;C>.5?C=.5-(C-.5):C=.5+(.5-C),this.setUVs(0,C,0,1+C,1,1+C,1,C)},"setTargetUVs"),flipX:r(function(){this.setUVs(1,0,1,1,0,1,0,0)},"flipX"),flipY:r(function(){this.setUVs(0,1,0,0,1,0,1,1)},"flipY"),resetUVs:r(function(){this.setUVs(0,0,0,1,1,1,1,0)},"resetUVs")});n.exports=g},36060:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={BITMAPMASK_PIPELINE:"BitmapMaskPipeline",LIGHT_PIPELINE:"Light2D",POINTLIGHT_PIPELINE:"PointLightPipeline",SINGLE_PIPELINE:"SinglePipeline",MULTI_PIPELINE:"MultiPipeline",ROPE_PIPELINE:"RopePipeline",GRAPHICS_PIPELINE:"GraphicsPipeline",POSTFX_PIPELINE:"PostFXPipeline",UTILITY_PIPELINE:"UtilityPipeline",MOBILE_PIPELINE:"MobilePipeline",FX_PIPELINE:"FxPipeline"};n.exports=T},84817:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="pipelineafterflush"},36712:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="pipelinebeforeflush"},40285:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="pipelinebind"},65918:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="pipelineboot"},92852:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="pipelinedestroy"},56072:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="pipelinerebind"},57566:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="pipelineresize"},77085:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={AFTER_FLUSH:i(84817),BEFORE_FLUSH:i(36712),BIND:i(40285),BOOT:i(65918),DESTROY:i(92852),REBIND:i(56072),RESIZE:i(57566)}},54812:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(83419),y=i(99155),c=i(84057),o=new f({Extends:c,initialize:r(function(a){c.call(this,{game:a,fragShader:y}),this.amount=1},"BarrelFXPipeline"),onPreRender:r(function(l,a){l=this.getController(l),this.set1f("amount",l.amount,a)},"onPreRender")});n.exports=o},67329:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(83419),y=i(24400),c=i(84057),o=new f({Extends:c,initialize:r(function(a){c.call(this,{game:a,fragShader:y}),this.steps=4,this.offsetX=1,this.offsetY=1,this.blurStrength=1,this.strength=1,this.glcolor=[1,1,1]},"BloomFXPipeline"),onPreRender:r(function(l){l=this.getController(l),this.set1f("strength",l.blurStrength),this.set3fv("color",l.glcolor)},"onPreRender"),onDraw:r(function(l){var a=this.getController(),u=this.fullFrame1,v=this.fullFrame2;this.copyFrame(l,v);for(var d=2/l.width*a.offsetX,p=2/l.height*a.offsetY,g=0;g<a.steps;g++)this.set2f("offset",d,0),this.copySprite(l,u),this.set2f("offset",0,p),this.copySprite(u,l);this.blendFrames(v,l,u,a.strength),this.copyToGame(u)},"onDraw")});n.exports=o},8861:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(83419),y=i(41514),c=i(51078),o=i(94328),l=i(84057),a=new f({Extends:l,initialize:r(function(v){l.call(this,{game:v,shaders:[{name:"Gaussian5",fragShader:y},{name:"Gaussian9",fragShader:c},{name:"Gaussian13",fragShader:o}]}),this.activeShader=this.shaders[0],this.x=2,this.y=2,this.steps=4,this.strength=1,this.glcolor=[1,1,1]},"BlurFXPipeline"),setQualityLow:r(function(){return this.activeShader=this.shaders[0],this},"setQualityLow"),setQualityMedium:r(function(){return this.activeShader=this.shaders[1],this},"setQualityMedium"),setQualityHigh:r(function(){return this.activeShader=this.shaders[2],this},"setQualityHigh"),onDraw:r(function(u){var v=this.getController(),d=this.gl,p=this.fullFrame1,g=d.getParameter(d.FRAMEBUFFER_BINDING);this.bind(this.shaders[v.quality]),d.activeTexture(d.TEXTURE0),d.viewport(0,0,u.width,u.height),this.set1i("uMainSampler",0),this.set2f("resolution",u.width,u.height),this.set1f("strength",v.strength),this.set3fv("color",v.glcolor);for(var m=0;m<v.steps;m++)this.set2f("offset",v.x,0),this.copySprite(u,p),this.set2f("offset",0,v.y),this.copySprite(p,u);d.bindFramebuffer(d.FRAMEBUFFER,g),d.bindTexture(d.TEXTURE_2D,null),this.copyToGame(u)},"onDraw")});n.exports=a},51051:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(83419),y=i(90610),c=i(84057),o=new f({Extends:c,initialize:r(function(a){c.call(this,{game:a,fragShader:y}),this.isTiltShift=!1,this.strength=1,this.blurX=1,this.blurY=1,this.radius=.5,this.amount=1,this.contrast=.2},"BokehFXPipeline"),onPreRender:r(function(l,a,u,v){l=this.getController(l),this.set1f("radius",l.radius,a),this.set1f("amount",l.amount,a),this.set1f("contrast",l.contrast,a),this.set1f("strength",l.strength,a),this.set2f("blur",l.blurX,l.blurY,a),this.setBoolean("isTiltShift",l.isTiltShift,a),u&&v&&this.set2f("resolution",u,v,a)},"onPreRender"),onDraw:r(function(l){this.set2f("resolution",l.width,l.height),this.bindAndDraw(l)},"onDraw")});n.exports=o},89428:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(83419),y=i(91899),c=i(84057),o=new f({Extends:c,initialize:r(function(a){c.call(this,{game:a,fragShader:y}),this.scale=1,this.feather=.005,this.thickness=8,this.glcolor=[1,.2,.7],this.glcolor2=[1,0,0,.4]},"CircleFXPipeline"),onPreRender:r(function(l,a,u,v){l=this.getController(l),this.set1f("scale",l.scale,a),this.set1f("feather",l.feather,a),this.set1f("thickness",l.thickness,a),this.set3fv("color",l.glcolor,a),this.set4fv("backgroundColor",l.glcolor2,a),u&&v&&this.set2f("resolution",u,v,a)},"onPreRender"),onDraw:r(function(l){this.set2f("resolution",l.width,l.height),this.bindAndDraw(l)},"onDraw")});n.exports=o},88904:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(83419),y=i(84057),c=new f({Extends:y,initialize:r(function(l){y.call(this,{game:l})},"ColorMatrixFXPipeline"),onDraw:r(function(o){var l=this.fullFrame1;this.controller?this.manager.drawFrame(o,l,!0,this.controller):this.drawFrame(o,l),this.copyToGame(l)},"onDraw")});n.exports=c},63563:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(83419),y=i(47838),c=i(84057),o=new f({Extends:c,initialize:r(function(a){c.call(this,{game:a,fragShader:y}),this.x=.005,this.y=.005,this.glTexture},"DisplacementFXPipeline"),onBoot:r(function(){this.setTexture("__WHITE")},"onBoot"),setTexture:r(function(l){var a=this.game.textures.getFrame(l);a&&(this.glTexture=a.glTexture)},"setTexture"),onDraw:r(function(l){var a=this.getController(),u=this.fullFrame1;this.bind(),this.set1i("uMainSampler",0),this.set1i("uDisplacementSampler",1),this.set2f("amount",a.x,a.y),this.bindTexture(a.glTexture,1),this.copySprite(l,u),this.copyToGame(u)},"onDraw")});n.exports=o},94045:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(83419),y=i(95540),c=i(98656),o=i(84057),l=i(70554),a=new f({Extends:o,initialize:r(function(v,d){var p=y(d,"quality",.1),g=y(d,"distance",10);o.call(this,{game:v,fragShader:l.setGlowQuality(c,v,p,g)}),this.outerStrength=4,this.innerStrength=0,this.knockout=!1,this.glcolor=[1,1,1,1]},"GlowFXPipeline"),onPreRender:r(function(u,v,d,p){u=this.getController(u),this.set1f("outerStrength",u.outerStrength,v),this.set1f("innerStrength",u.innerStrength,v),this.set4fv("glowColor",u.glcolor,v),this.setBoolean("knockout",u.knockout,v),d&&p&&this.set2f("resolution",d,p,v)},"onPreRender"),onDraw:r(function(u){this.set2f("resolution",u.width,u.height),this.bindAndDraw(u)},"onDraw")});n.exports=a},74088:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(83419),y=i(70463),c=i(84057),o=new f({Extends:c,initialize:r(function(a){c.call(this,{game:a,fragShader:y}),this.alpha=.2,this.size=0,this.fromX=0,this.fromY=0,this.toX=0,this.toY=1,this.glcolor1=[255,0,0],this.glcolor2=[0,255,0]},"GradientFXPipeline"),onPreRender:r(function(l,a){l=this.getController(l),this.set1f("alpha",l.alpha,a),this.set1i("size",l.size,a),this.set3fv("color1",l.glcolor1,a),this.set3fv("color2",l.glcolor2,a),this.set2f("positionFrom",l.fromX,l.fromY,a),this.set2f("positionTo",l.toX,l.toY,a)},"onPreRender")});n.exports=o},99636:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(83419),y=i(50831),c=i(84057),o=new f({Extends:c,initialize:r(function(a){c.call(this,{game:a,fragShader:y}),this.amount=1},"PixelateFXPipeline"),onPreRender:r(function(l,a,u,v){l=this.getController(l),this.set1f("amount",l.amount,a),u&&v&&this.set2f("resolution",u,v,a)},"onPreRender"),onDraw:r(function(l){this.set2f("resolution",l.width,l.height),this.bindAndDraw(l)},"onDraw")});n.exports=o},34700:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(83419),y=i(92595),c=i(84057),o=new f({Extends:c,initialize:r(function(a){c.call(this,{game:a,fragShader:y}),this.x=0,this.y=0,this.decay=.1,this.power=1,this.glcolor=[0,0,0,1],this.samples=6,this.intensity=1},"ShadowFXPipeline"),onPreRender:r(function(l,a){l=this.getController(l);var u=l.samples;this.set1i("samples",u,a),this.set1f("intensity",l.intensity,a),this.set1f("decay",l.decay,a),this.set1f("power",l.power/u,a),this.set2f("lightPosition",l.x,l.y,a),this.set4fv("color",l.glcolor,a)},"onPreRender")});n.exports=o},91157:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(83419),y=i(72464),c=i(84057),o=new f({Extends:c,initialize:r(function(a){c.call(this,{game:a,fragShader:y}),this.speed=.5,this.lineWidth=.5,this.gradient=3,this.reveal=!1},"ShineFXPipeline"),onPreRender:r(function(l,a,u,v){l=this.getController(l),this.setTime("time",a),this.set1f("speed",l.speed,a),this.set1f("lineWidth",l.lineWidth,a),this.set1f("gradient",l.gradient,a),this.setBoolean("reveal",l.reveal,a),u&&v&&this.set2f("resolution",u,v,a)},"onPreRender"),onDraw:r(function(l){this.set2f("resolution",l.width,l.height),this.bindAndDraw(l)},"onDraw")});n.exports=o},27797:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(83419),y=i(39249),c=i(84057),o=new f({Extends:c,initialize:r(function(a){c.call(this,{game:a,fragShader:y}),this.x=.5,this.y=.5,this.radius=.5,this.strength=.5},"VignetteFXPipeline"),onPreRender:r(function(l,a){l=this.getController(l),this.set1f("radius",l.radius,a),this.set1f("strength",l.strength,a),this.set2f("position",l.x,l.y,a)},"onPreRender")});n.exports=o},67603:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(83419),y=i(2878),c=i(84057),o=new f({Extends:c,initialize:r(function(a){c.call(this,{game:a,fragShader:y}),this.progress=0,this.wipeWidth=.1,this.direction=0,this.axis=0,this.reveal=!1},"WipeFXPipeline"),onPreRender:r(function(l,a){l=this.getController(l);var u=l.progress,v=l.wipeWidth,d=l.direction,p=l.axis;this.set4f("config",u,v,d,p,a),this.setBoolean("reveal",l.reveal,a)},"onPreRender")});n.exports=o},58918:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f={Barrel:i(54812),Bloom:i(67329),Blur:i(8861),Bokeh:i(51051),Circle:i(89428),ColorMatrix:i(88904),Displacement:i(63563),Glow:i(94045),Gradient:i(74088),Pixelate:i(99636),Shadow:i(34700),Shine:i(91157),Vignette:i(27797),Wipe:i(67603)};n.exports=f},96615:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(36060),y=i(79291),c={FX:i(58918),BitmapMaskPipeline:i(31302),Events:i(77085),FXPipeline:i(92651),LightPipeline:i(96569),MobilePipeline:i(56527),MultiPipeline:i(57516),PointLightPipeline:i(43439),PostFXPipeline:i(84057),PreFXPipeline:i(43558),RopePipeline:i(81041),SinglePipeline:i(12385),UtilityPipeline:i(7589)};c=y(!1,c,f),n.exports=c},35407:n=>{n.exports=["#define SHADER_NAME PHASER_ADD_BLEND_FS","precision mediump float;","uniform sampler2D uMainSampler1;","uniform sampler2D uMainSampler2;","uniform float uStrength;","varying vec2 outTexCoord;","void main ()","{","    vec4 frame1 = texture2D(uMainSampler1, outTexCoord);","    vec4 frame2 = texture2D(uMainSampler2, outTexCoord);","    gl_FragColor = frame1 + frame2 * uStrength;","}"].join(`
`)},78908:n=>{n.exports=["#define SHADER_NAME PHASER_BITMAP_MASK_FS","precision mediump float;","uniform vec2 uResolution;","uniform sampler2D uMainSampler;","uniform sampler2D uMaskSampler;","uniform bool uInvertMaskAlpha;","void main ()","{","    vec2 uv = gl_FragCoord.xy / uResolution;","    vec4 mainColor = texture2D(uMainSampler, uv);","    vec4 maskColor = texture2D(uMaskSampler, uv);","    if (!uInvertMaskAlpha)","    {","        mainColor *= maskColor.a;","    }","    else","    {","        mainColor *= (1.0 - maskColor.a);","    }","    gl_FragColor = mainColor;","}"].join(`
`)},85191:n=>{n.exports=["#define SHADER_NAME PHASER_BITMAP_MASK_VS","precision mediump float;","attribute vec2 inPosition;","void main ()","{","    gl_Position = vec4(inPosition, 0.0, 1.0);","}"].join(`
`)},96293:n=>{n.exports=["#define SHADER_NAME PHASER_COLORMATRIX_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform float uColorMatrix[20];","uniform float uAlpha;","varying vec2 outTexCoord;","void main ()","{","    vec4 c = texture2D(uMainSampler, outTexCoord);","    if (uAlpha == 0.0)","    {","        gl_FragColor = c;","        return;","    }","    if (c.a > 0.0)","    {","        c.rgb /= c.a;","    }","    vec4 result;","    result.r = (uColorMatrix[0] * c.r) + (uColorMatrix[1] * c.g) + (uColorMatrix[2] * c.b) + (uColorMatrix[3] * c.a) + uColorMatrix[4];","    result.g = (uColorMatrix[5] * c.r) + (uColorMatrix[6] * c.g) + (uColorMatrix[7] * c.b) + (uColorMatrix[8] * c.a) + uColorMatrix[9];","    result.b = (uColorMatrix[10] * c.r) + (uColorMatrix[11] * c.g) + (uColorMatrix[12] * c.b) + (uColorMatrix[13] * c.a) + uColorMatrix[14];","    result.a = (uColorMatrix[15] * c.r) + (uColorMatrix[16] * c.g) + (uColorMatrix[17] * c.b) + (uColorMatrix[18] * c.a) + uColorMatrix[19];","    vec3 rgb = mix(c.rgb, result.rgb, uAlpha);","    rgb *= result.a;","    gl_FragColor = vec4(rgb, result.a);","}"].join(`
`)},36682:n=>{n.exports=["#define SHADER_NAME PHASER_COPY_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform float uBrightness;","varying vec2 outTexCoord;","void main ()","{","    gl_FragColor = texture2D(uMainSampler, outTexCoord) * uBrightness;","}"].join(`
`)},99155:n=>{n.exports=["#define SHADER_NAME BARREL_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform float amount;","varying vec2 outTexCoord;","vec2 Distort(vec2 p)","{","    float theta  = atan(p.y, p.x);","    float radius = length(p);","    radius = pow(radius, amount);","    p.x = radius * cos(theta);","    p.y = radius * sin(theta);","    return 0.5 * (p + 1.0);","}","void main()","{","    vec2 xy = 2.0 * outTexCoord - 1.0;","    vec2 texCoord = outTexCoord;","    if (length(xy) < 1.0)","    {","        texCoord = Distort(xy);","    }","    gl_FragColor = texture2D(uMainSampler, texCoord);","}"].join(`
`)},24400:n=>{n.exports=["#define SHADER_NAME BLOOM_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 offset;","uniform float strength;","uniform vec3 color;","varying vec2 outTexCoord;","void main ()","{","    vec4 sum = texture2D(uMainSampler, outTexCoord) * 0.204164 * strength;","    sum = sum + texture2D(uMainSampler, outTexCoord + offset * 1.407333) * 0.304005;","    sum = sum + texture2D(uMainSampler, outTexCoord - offset * 1.407333) * 0.304005;","    sum = sum + texture2D(uMainSampler, outTexCoord + offset * 3.294215) * 0.093913;","    gl_FragColor = (sum + texture2D(uMainSampler, outTexCoord - offset * 3.294215) * 0.093913) * vec4(color, 1);","}"].join(`
`)},94328:n=>{n.exports=["#define SHADER_NAME BLUR_HIGH_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform vec2 offset;","uniform float strength;","uniform vec3 color;","varying vec2 outTexCoord;","void main ()","{","    vec2 uv = outTexCoord;","    vec4 col = vec4(0.0);","    vec2 off1 = vec2(1.411764705882353) * offset * strength;","    vec2 off2 = vec2(3.2941176470588234) * offset * strength;","    vec2 off3 = vec2(5.176470588235294) * offset * strength;","    col += texture2D(uMainSampler, uv) * 0.1964825501511404;","    col += texture2D(uMainSampler, uv + (off1 / resolution)) * 0.2969069646728344;","    col += texture2D(uMainSampler, uv - (off1 / resolution)) * 0.2969069646728344;","    col += texture2D(uMainSampler, uv + (off2 / resolution)) * 0.09447039785044732;","    col += texture2D(uMainSampler, uv - (off2 / resolution)) * 0.09447039785044732;","    col += texture2D(uMainSampler, uv + (off3 / resolution)) * 0.010381362401148057;","    col += texture2D(uMainSampler, uv - (off3 / resolution)) * 0.010381362401148057;","    gl_FragColor = col * vec4(color, 1.0);","}"].join(`
`)},41514:n=>{n.exports=["#define SHADER_NAME BLUR_LOW_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform vec2 offset;","uniform float strength;","uniform vec3 color;","varying vec2 outTexCoord;","void main ()","{","    vec2 uv = outTexCoord;","    vec4 col = vec4(0.0);","    vec2 offset = vec2(1.333) * offset * strength;","    col += texture2D(uMainSampler, uv) * 0.29411764705882354;","    col += texture2D(uMainSampler, uv + (offset / resolution)) * 0.35294117647058826;","    col += texture2D(uMainSampler, uv - (offset / resolution)) * 0.35294117647058826;","    gl_FragColor = col * vec4(color, 1.0);","}"].join(`
`)},51078:n=>{n.exports=["#define SHADER_NAME BLUR_MED_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform vec2 offset;","uniform float strength;","uniform vec3 color;","varying vec2 outTexCoord;","void main ()","{","    vec2 uv = outTexCoord;","    vec4 col = vec4(0.0);","    vec2 off1 = vec2(1.3846153846) * offset * strength;","    vec2 off2 = vec2(3.2307692308) * offset * strength;","    col += texture2D(uMainSampler, uv) * 0.2270270270;","    col += texture2D(uMainSampler, uv + (off1 / resolution)) * 0.3162162162;","    col += texture2D(uMainSampler, uv - (off1 / resolution)) * 0.3162162162;","    col += texture2D(uMainSampler, uv + (off2 / resolution)) * 0.0702702703;","    col += texture2D(uMainSampler, uv - (off2 / resolution)) * 0.0702702703;","    gl_FragColor = col * vec4(color, 1.0);","}"].join(`
`)},90610:n=>{n.exports=["#define SHADER_NAME BOKEH_FS","precision mediump float;","#define ITERATIONS 100.0","#define ONEOVER_ITR 1.0 / ITERATIONS","#define PI 3.141596","#define GOLDEN_ANGLE 2.39996323","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform float radius;","uniform float amount;","uniform float contrast;","uniform bool isTiltShift;","uniform float strength;","uniform vec2 blur;","varying vec2 outTexCoord;","vec2 Sample (in float theta, inout float r)","{","    r += 1.0 / r;","    return (r - 1.0) * vec2(cos(theta), sin(theta)) * 0.06;","}","vec3 Bokeh (sampler2D tex, vec2 uv, float radius)","{","    vec3 acc = vec3(0.0);","    vec3 div = vec3(0.0);","    vec2 pixel = vec2(resolution.y / resolution.x, 1.0) * radius * .025;","    float r = 1.0;","    for (float j = 0.0; j < GOLDEN_ANGLE * ITERATIONS; j += GOLDEN_ANGLE)","    {","        vec3 col = texture2D(tex, uv + pixel * Sample(j, r)).xyz;","        col = contrast > 0.0 ? col * col * (1.0 + contrast) : col;","        vec3 bokeh = vec3(0.5) + pow(col, vec3(10.0)) * amount;","        acc += col * bokeh;","        div += bokeh;","    }","    return acc / div;","}","void main ()","{","    float shift = 1.0;","    if (isTiltShift)","    {","        vec2 uv = vec2(gl_FragCoord.xy / resolution + vec2(-0.5, -0.5)) * 2.0;","        float centerStrength = 1.0;","        shift = length(uv * blur * strength) * centerStrength;","    }","    gl_FragColor = vec4(Bokeh(uMainSampler, outTexCoord * vec2(1.0, 1.0), radius * shift), 0.0);","}"].join(`
`)},91899:n=>{n.exports=["#define SHADER_NAME CIRCLE_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform vec3 color;","uniform vec4 backgroundColor;","uniform float thickness;","uniform float scale;","uniform float feather;","varying vec2 outTexCoord;","void main ()","{","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    vec2 position = (gl_FragCoord.xy / resolution.xy) * 2.0 - 1.0;","    float aspectRatio = resolution.x / resolution.y;","    position.x *= aspectRatio;","    float grad = length(position);","    float outer = aspectRatio;","    float inner = outer - (thickness * 2.0 / resolution.y);","    if (aspectRatio >= 1.0)","    {","        float f = 2.0 + (resolution.y / resolution.x);","        outer = 1.0;","        inner = 1.0 - (thickness * f / resolution.x);","    }","    outer *= scale;","    inner *= scale;","    float circle = smoothstep(outer, outer - 0.01, grad);","    float ring = circle - smoothstep(inner, inner - feather, grad);","    texture = mix(backgroundColor * backgroundColor.a, texture, texture.a);","    texture = (texture * (circle - ring));","    gl_FragColor = vec4(texture.rgb + (ring * color), texture.a);","}"].join(`
`)},47838:n=>{n.exports=["#define SHADER_NAME DISPLACEMENT_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform sampler2D uDisplacementSampler;","uniform vec2 amount;","varying vec2 outTexCoord;","void main ()","{","    vec2 disp = (-vec2(0.5, 0.5) + texture2D(uDisplacementSampler, outTexCoord).rr) * amount;","    gl_FragColor = texture2D(uMainSampler, outTexCoord + disp).rgba;","}"].join(`
`)},98656:n=>{n.exports=["#define SHADER_NAME GLOW_FS","precision mediump float;","uniform sampler2D uMainSampler;","varying vec2 outTexCoord;","uniform float outerStrength;","uniform float innerStrength;","uniform vec2 resolution;","uniform vec4 glowColor;","uniform bool knockout;","const float PI = 3.14159265358979323846264;","const float DIST = __DIST__;","const float SIZE = min(__SIZE__, PI * 2.0);","const float STEP = ceil(PI * 2.0 / SIZE);","const float MAX_ALPHA = STEP * DIST * (DIST + 1.0) / 2.0;","void main ()","{","    vec2 px = vec2(1.0 / resolution.x, 1.0 / resolution.y);","    float totalAlpha = 0.0;","    vec2 direction;","    vec2 displaced;","    vec4 color;","    for (float angle = 0.0; angle < PI * 2.0; angle += SIZE)","    {","        direction = vec2(cos(angle), sin(angle)) * px;","        for (float curDistance = 0.0; curDistance < DIST; curDistance++)","        {","            displaced = outTexCoord + direction * (curDistance + 1.0);","            color = texture2D(uMainSampler, displaced);","            totalAlpha += (DIST - curDistance) * color.a;","        }","    }","    color = texture2D(uMainSampler, outTexCoord);","    float alphaRatio = (totalAlpha / MAX_ALPHA);","    float innerGlowAlpha = (1.0 - alphaRatio) * innerStrength * color.a;","    float innerGlowStrength = min(1.0, innerGlowAlpha);","    vec4 innerColor = mix(color, glowColor, innerGlowStrength);","    float outerGlowAlpha = alphaRatio * outerStrength * (1.0 - color.a);","    float outerGlowStrength = min(1.0 - innerColor.a, outerGlowAlpha);","    vec4 outerGlowColor = outerGlowStrength * glowColor.rgba;","    if (knockout)","    {","        float resultAlpha = outerGlowAlpha + innerGlowAlpha;","        gl_FragColor = vec4(glowColor.rgb * resultAlpha, resultAlpha);","    }","    else","    {","        gl_FragColor = innerColor + outerGlowColor;","    }","}"].join(`
`)},70463:n=>{n.exports=["#define SHADER_NAME GRADIENT_FS","#define SRGB_TO_LINEAR(c) pow((c), vec3(2.2))","#define LINEAR_TO_SRGB(c) pow((c), vec3(1.0 / 2.2))","#define SRGB(r, g, b) SRGB_TO_LINEAR(vec3(float(r), float(g), float(b)) / 255.0)","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 positionFrom;","uniform vec2 positionTo;","uniform vec3 color1;","uniform vec3 color2;","uniform float alpha;","uniform int size;","varying vec2 outTexCoord;","float gradientNoise(in vec2 uv)","{","    const vec3 magic = vec3(0.06711056, 0.00583715, 52.9829189);","    return fract(magic.z * fract(dot(uv, magic.xy)));","}","float stepped (in float s, in float scale, in int steps)","{","    return steps > 0 ? floor( s / ((1.0 * scale) / float(steps))) * 1.0 / float(steps - 1) : s;","}","void main ()","{","    vec2 a = positionFrom;","    vec2 b = positionTo;","    vec2 ba = b - a;","    float d = dot(outTexCoord - a, ba) / dot(ba, ba);","    float t = size > 0 ? stepped(d, 1.0, size) : d;","    t = smoothstep(0.0, 1.0, clamp(t, 0.0, 1.0));","    vec3 color = mix(SRGB(color1.r, color1.g, color1.b), SRGB(color2.r, color2.g, color2.b), t);","    color = LINEAR_TO_SRGB(color);","    color += (1.0 / 255.0) * gradientNoise(outTexCoord) - (0.5 / 255.0);","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    gl_FragColor = vec4(mix(color.rgb, texture.rgb, alpha), 1.0) * texture.a;","}"].join(`
`)},50831:n=>{n.exports=["#define SHADER_NAME PIXELATE_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform float amount;","varying vec2 outTexCoord;","void main ()","{","    float pixelSize = floor(2.0 + amount);","    vec2 center = pixelSize * floor(outTexCoord * resolution / pixelSize) + pixelSize * vec2(0.5, 0.5);","    vec2 corner1 = center + pixelSize * vec2(-0.5, -0.5);","    vec2 corner2 = center + pixelSize * vec2(+0.5, -0.5);","    vec2 corner3 = center + pixelSize * vec2(+0.5, +0.5);","    vec2 corner4 = center + pixelSize * vec2(-0.5, +0.5);","    vec4 pixel = 0.4 * texture2D(uMainSampler, center / resolution);","    pixel += 0.15 * texture2D(uMainSampler, corner1 / resolution);","    pixel += 0.15 * texture2D(uMainSampler, corner2 / resolution);","    pixel += 0.15 * texture2D(uMainSampler, corner3 / resolution);","    pixel += 0.15 * texture2D(uMainSampler, corner4 / resolution);","    gl_FragColor = pixel;","}"].join(`
`)},92595:n=>{n.exports=["#define SHADER_NAME SHADOW_FS","precision mediump float;","uniform sampler2D uMainSampler;","varying vec2 outTexCoord;","uniform vec2 lightPosition;","uniform vec4 color;","uniform float decay;","uniform float power;","uniform float intensity;","uniform int samples;","const int MAX = 12;","void main ()","{","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    vec2 pc = (lightPosition - outTexCoord) * intensity;","    float shadow = 0.0;","    float limit = max(float(MAX), float(samples));","    for (int i = 0; i < MAX; ++i)","    {","        if (i >= samples)","        {","            break;","        }","        shadow += texture2D(uMainSampler, outTexCoord + float(i) * decay / limit * pc).a * power;","    }","    float mask = 1.0 - texture.a;","    gl_FragColor = mix(texture, color, shadow * mask);","}"].join(`
`)},72464:n=>{n.exports=["#define SHADER_NAME SHINE_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform bool reveal;","uniform float speed;","uniform float time;","uniform float lineWidth;","uniform float gradient;","varying vec2 outTexCoord;","void main ()","{","	vec2 uv = gl_FragCoord.xy / resolution.xy;","    vec4 tex = texture2D(uMainSampler, outTexCoord);","    vec4 col1 = vec4(0.3, 0.0, 0.0, 1.0);","    vec4 col2 = vec4(0.85, 0.85, 0.85, 1.0);","    uv.x = uv.x - mod(time * speed, 2.0) + 0.5;","    float y = uv.x * gradient;","    float s = smoothstep(y - lineWidth, y, uv.y) - smoothstep(y, y + lineWidth, uv.y);","    gl_FragColor = (((s * col1) + (s * col2)) * tex);","    if (!reveal)","    {","        gl_FragColor += tex;","    }","}"].join(`
`)},39249:n=>{n.exports=["#define SHADER_NAME VIGNETTE_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform float radius;","uniform float strength;","uniform vec2 position;","varying vec2 outTexCoord;","void main ()","{","    vec4 col = vec4(1.0);","    float d = length(outTexCoord - position);","    if (d <= radius)","    {","        float g = d / radius;","        g = sin(g * 3.14 * strength);","    	col = vec4(g * g * g);","    }","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    gl_FragColor = texture * (1.0 - col);","}"].join(`
`)},2878:n=>{n.exports=["#define SHADER_NAME WIPE_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec4 config;","uniform bool reveal;","varying vec2 outTexCoord;","void main ()","{","    vec2 uv = outTexCoord;","    vec4 color0;","    vec4 color1;","    if (reveal)","    {","        color0 = vec4(0);","        color1 = texture2D(uMainSampler, uv);","    }","    else","    {","        color0 = texture2D(uMainSampler, uv);","        color1 = vec4(0);","    }","    float distance = config.x;","    float width = config.y;","    float direction = config.z;","    float axis = uv.x;","    if (config.w == 1.0)","    {","        axis = uv.y;","    }","    float adjust = mix(width, -width, distance);","    float value = smoothstep(distance - width, distance + width, abs(direction - axis) + adjust);","    gl_FragColor = mix(color1, color0, value);","}"].join(`
`)},31063:n=>{n.exports=["#define SHADER_NAME PHASER_LIGHT_FS","precision mediump float;","struct Light","{","    vec2 position;","    vec3 color;","    float intensity;","    float radius;","};","const int kMaxLights = %LIGHT_COUNT%;","uniform vec4 uCamera; /* x, y, rotation, zoom */","uniform vec2 uResolution;","uniform sampler2D uMainSampler;","uniform sampler2D uNormSampler;","uniform vec3 uAmbientLightColor;","uniform Light uLights[kMaxLights];","uniform mat3 uInverseRotationMatrix;","uniform int uLightCount;","varying vec2 outTexCoord;","varying float outTexId;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    vec3 finalColor = vec3(0.0, 0.0, 0.0);","    vec4 texel = vec4(outTint.bgr * outTint.a, outTint.a);","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    vec4 color = texture * texel;","    if (outTintEffect == 1.0)","    {","        color.rgb = mix(texture.rgb, outTint.bgr * outTint.a, texture.a);","    }","    else if (outTintEffect == 2.0)","    {","        color = texel;","    }","    vec3 normalMap = texture2D(uNormSampler, outTexCoord).rgb;","    vec3 normal = normalize(uInverseRotationMatrix * vec3(normalMap * 2.0 - 1.0));","    vec2 res = vec2(min(uResolution.x, uResolution.y)) * uCamera.w;","    for (int index = 0; index < kMaxLights; ++index)","    {","        if (index < uLightCount)","        {","            Light light = uLights[index];","            vec3 lightDir = vec3((light.position.xy / res) - (gl_FragCoord.xy / res), 0.1);","            vec3 lightNormal = normalize(lightDir);","            float distToSurf = length(lightDir) * uCamera.w;","            float diffuseFactor = max(dot(normal, lightNormal), 0.0);","            float radius = (light.radius / res.x * uCamera.w) * uCamera.w;","            float attenuation = clamp(1.0 - distToSurf * distToSurf / (radius * radius), 0.0, 1.0);","            vec3 diffuse = light.color * diffuseFactor;","            finalColor += (attenuation * diffuse) * light.intensity;","        }","    }","    vec4 colorOutput = vec4(uAmbientLightColor + finalColor, 1.0);","    gl_FragColor = color * vec4(colorOutput.rgb * colorOutput.a, colorOutput.a);","}"].join(`
`)},48247:n=>{n.exports=["#define SHADER_NAME PHASER_LINEAR_BLEND_FS","precision mediump float;","uniform sampler2D uMainSampler1;","uniform sampler2D uMainSampler2;","uniform float uStrength;","varying vec2 outTexCoord;","void main ()","{","    vec4 frame1 = texture2D(uMainSampler1, outTexCoord);","    vec4 frame2 = texture2D(uMainSampler2, outTexCoord);","    gl_FragColor = mix(frame1, frame2 * uStrength, 0.5);","}"].join(`
`)},41214:n=>{n.exports=["#define SHADER_NAME PHASER_MESH_FS","precision mediump float;","uniform vec3 uLightPosition;","uniform vec3 uLightAmbient;","uniform vec3 uLightDiffuse;","uniform vec3 uLightSpecular;","uniform vec3 uFogColor;","uniform float uFogNear;","uniform float uFogFar;","uniform vec3 uMaterialAmbient;","uniform vec3 uMaterialDiffuse;","uniform vec3 uMaterialSpecular;","uniform float uMaterialShine;","uniform vec3 uCameraPosition;","uniform sampler2D uTexture;","varying vec2 vTextureCoord;","varying vec3 vNormal;","varying vec3 vPosition;","void main (void)","{","    vec4 color = texture2D(uTexture, vTextureCoord);","    vec3 ambient = uLightAmbient * uMaterialAmbient;","    vec3 norm = normalize(vNormal);","    vec3 lightDir = normalize(uLightPosition - vPosition);","    float diff = max(dot(norm, lightDir), 0.0);","    vec3 diffuse = uLightDiffuse * (diff * uMaterialDiffuse);","    vec3 viewDir = normalize(uCameraPosition - vPosition);","    vec3 reflectDir = reflect(-lightDir, norm);","    float spec = pow(max(dot(viewDir, reflectDir), 0.0), uMaterialShine);","    vec3 specular = uLightSpecular * (spec * uMaterialSpecular);","    vec3 result = (ambient + diffuse + specular) * color.rgb;","    float depth = gl_FragCoord.z / gl_FragCoord.w;","    float fogFactor = smoothstep(uFogNear, uFogFar, depth);","    gl_FragColor.rgb = mix(result.rgb, uFogColor, fogFactor);","    gl_FragColor.a = color.a;","}"].join(`
`)},39653:n=>{n.exports=["#define SHADER_NAME PHASER_MESH_VS","precision mediump float;","attribute vec3 aVertexPosition;","attribute vec3 aVertexNormal;","attribute vec2 aTextureCoord;","uniform mat4 uViewProjectionMatrix;","uniform mat4 uModelMatrix;","uniform mat4 uNormalMatrix;","varying vec2 vTextureCoord;","varying vec3 vNormal;","varying vec3 vPosition;","void main ()","{","    vTextureCoord = aTextureCoord;","    vPosition = vec3(uModelMatrix * vec4(aVertexPosition, 1.0));","    vNormal = vec3(uNormalMatrix * vec4(aVertexNormal, 1.0));","    gl_Position = uViewProjectionMatrix * uModelMatrix * vec4(aVertexPosition, 1.0);","}"].join(`
`)},62143:n=>{n.exports=["#define SHADER_NAME PHASER_MOBILE_FS","#ifdef GL_FRAGMENT_PRECISION_HIGH","precision highp float;","#else","precision mediump float;","#endif","uniform sampler2D uMainSampler;","varying vec2 outTexCoord;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    vec4 texel = vec4(outTint.bgr * outTint.a, outTint.a);","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    vec4 color = texture * texel;","    if (outTintEffect == 1.0)","    {","        color.rgb = mix(texture.rgb, outTint.bgr * outTint.a, texture.a);","    }","    else if (outTintEffect == 2.0)","    {","        color = texel;","    }","    gl_FragColor = color;","}"].join(`
`)},47940:n=>{n.exports=["#define SHADER_NAME PHASER_MOBILE_VS","precision mediump float;","uniform mat4 uProjectionMatrix;","uniform int uRoundPixels;","uniform vec2 uResolution;","attribute vec2 inPosition;","attribute vec2 inTexCoord;","attribute float inTexId;","attribute float inTintEffect;","attribute vec4 inTint;","varying vec2 outTexCoord;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    gl_Position = uProjectionMatrix * vec4(inPosition, 1.0, 1.0);","    if (uRoundPixels == 1)","    {","        gl_Position.xy = floor(((gl_Position.xy + 1.0) * 0.5 * uResolution) + 0.5) / uResolution * 2.0 - 1.0;","    }","    outTexCoord = inTexCoord;","    outTint = inTint;","    outTintEffect = inTintEffect;","}"].join(`
`)},98840:n=>{n.exports=["#define SHADER_NAME PHASER_MULTI_FS","#ifdef GL_FRAGMENT_PRECISION_HIGH","precision highp float;","#else","precision mediump float;","#endif","uniform sampler2D uMainSampler[%count%];","varying vec2 outTexCoord;","varying float outTexId;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    vec4 texture;","    %forloop%","    vec4 texel = vec4(outTint.bgr * outTint.a, outTint.a);","    vec4 color = texture * texel;","    if (outTintEffect == 1.0)","    {","        color.rgb = mix(texture.rgb, outTint.bgr * outTint.a, texture.a);","    }","    else if (outTintEffect == 2.0)","    {","        color = texel;","    }","    gl_FragColor = color;","}"].join(`
`)},44667:n=>{n.exports=["#define SHADER_NAME PHASER_MULTI_VS","precision mediump float;","uniform mat4 uProjectionMatrix;","uniform int uRoundPixels;","uniform vec2 uResolution;","attribute vec2 inPosition;","attribute vec2 inTexCoord;","attribute float inTexId;","attribute float inTintEffect;","attribute vec4 inTint;","varying vec2 outTexCoord;","varying float outTexId;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    gl_Position = uProjectionMatrix * vec4(inPosition, 1.0, 1.0);","    if (uRoundPixels == 1)","    {","        gl_Position.xy = floor(((gl_Position.xy + 1.0) * 0.5 * uResolution) + 0.5) / uResolution * 2.0 - 1.0;","    }","    outTexCoord = inTexCoord;","    outTexId = inTexId;","    outTint = inTint;","    outTintEffect = inTintEffect;","}"].join(`
`)},4127:n=>{n.exports=["#define SHADER_NAME PHASER_POINTLIGHT_FS","precision mediump float;","uniform vec2 uResolution;","uniform float uCameraZoom;","varying vec4 lightPosition;","varying vec4 lightColor;","varying float lightRadius;","varying float lightAttenuation;","void main ()","{","    vec2 center = (lightPosition.xy + 1.0) * (uResolution.xy * 0.5);","    float distToSurf = length(center - gl_FragCoord.xy);","    float radius = 1.0 - distToSurf / (lightRadius * uCameraZoom);","    float intensity = smoothstep(0.0, 1.0, radius * lightAttenuation);","    vec4 color = vec4(intensity, intensity, intensity, 0.0) * lightColor;","    gl_FragColor = vec4(color.rgb * lightColor.a, color.a);","}"].join(`
`)},89924:n=>{n.exports=["#define SHADER_NAME PHASER_POINTLIGHT_VS","precision mediump float;","uniform mat4 uProjectionMatrix;","attribute vec2 inPosition;","attribute vec2 inLightPosition;","attribute vec4 inLightColor;","attribute float inLightRadius;","attribute float inLightAttenuation;","varying vec4 lightPosition;","varying vec4 lightColor;","varying float lightRadius;","varying float lightAttenuation;","void main ()","{","    lightColor = inLightColor;","    lightRadius = inLightRadius;","    lightAttenuation = inLightAttenuation;","    lightPosition = uProjectionMatrix * vec4(inLightPosition, 1.0, 1.0);","    gl_Position = uProjectionMatrix * vec4(inPosition, 1.0, 1.0);","}"].join(`
`)},27681:n=>{n.exports=["#define SHADER_NAME PHASER_POSTFX_FS","precision mediump float;","uniform sampler2D uMainSampler;","varying vec2 outTexCoord;","void main ()","{","    gl_FragColor = texture2D(uMainSampler, outTexCoord);","}"].join(`
`)},49627:n=>{n.exports=["#define SHADER_NAME PHASER_QUAD_VS","precision mediump float;","attribute vec2 inPosition;","attribute vec2 inTexCoord;","varying vec2 outFragCoord;","varying vec2 outTexCoord;","void main ()","{","    outFragCoord = inPosition.xy * 0.5 + 0.5;","    outTexCoord = inTexCoord;","    gl_Position = vec4(inPosition, 0, 1);","}"].join(`
`)},45561:n=>{n.exports=["#define SHADER_NAME PHASER_SINGLE_FS","#ifdef GL_FRAGMENT_PRECISION_HIGH","precision highp float;","#else","precision mediump float;","#endif","uniform sampler2D uMainSampler;","varying vec2 outTexCoord;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    vec4 texel = vec4(outTint.bgr * outTint.a, outTint.a);","    vec4 color = texture * texel;","    if (outTintEffect == 1.0)","    {","        color.rgb = mix(texture.rgb, outTint.bgr * outTint.a, texture.a);","    }","    else if (outTintEffect == 2.0)","    {","        color = texel;","    }","    gl_FragColor = color;","}"].join(`
`)},60722:n=>{n.exports=["#define SHADER_NAME PHASER_SINGLE_VS","precision mediump float;","uniform mat4 uProjectionMatrix;","uniform int uRoundPixels;","uniform vec2 uResolution;","attribute vec2 inPosition;","attribute vec2 inTexCoord;","attribute float inTexId;","attribute float inTintEffect;","attribute vec4 inTint;","varying vec2 outTexCoord;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    gl_Position = uProjectionMatrix * vec4(inPosition, 1.0, 1.0);","    if (uRoundPixels == 1)","    {","        gl_Position.xy = floor(((gl_Position.xy + 1.0) * 0.5 * uResolution) + 0.5) / uResolution * 2.0 - 1.0;","    }","    outTexCoord = inTexCoord;","    outTint = inTint;","    outTintEffect = inTintEffect;","}"].join(`
`)},89350:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={AddBlendFrag:i(35407),BitmapMaskFrag:i(78908),BitmapMaskVert:i(85191),ColorMatrixFrag:i(96293),CopyFrag:i(36682),FXBarrelFrag:i(99155),FXBloomFrag:i(24400),FXBlurHighFrag:i(94328),FXBlurLowFrag:i(41514),FXBlurMedFrag:i(51078),FXBokehFrag:i(90610),FXCircleFrag:i(91899),FXDisplacementFrag:i(47838),FXGlowFrag:i(98656),FXGradientFrag:i(70463),FXPixelateFrag:i(50831),FXShadowFrag:i(92595),FXShineFrag:i(72464),FXVignetteFrag:i(39249),FXWipeFrag:i(2878),LightFrag:i(31063),LinearBlendFrag:i(48247),MeshFrag:i(41214),MeshVert:i(39653),MobileFrag:i(62143),MobileVert:i(47940),MultiFrag:i(98840),MultiVert:i(44667),PointLightFrag:i(4127),PointLightVert:i(89924),PostFXFrag:i(27681),QuadVert:i(49627),SingleFrag:i(45561),SingleVert:i(60722)}},93567:(n,T,i)=>{/**
 * @author       Benjamin D. Richards <benjamindrichards@gmail.com>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(83419),y=new f({initialize:r(function(o,l,a){this.webGLAttribLocation=-1,this.gl=o,this.program=l,this.name=a,this.createResource()},"WebGLAttribLocationWrapper"),createResource:r(function(){if(this.program.webGLProgram===null){this.webGLAttribLocation=-1;return}var c=this.gl;c.isContextLost()||(this.webGLAttribLocation=c.getAttribLocation(this.program.webGLProgram,this.name))},"createResource"),destroy:r(function(){this.gl=null,this.program=null,this.name=null,this.webGLAttribLocation=-1},"destroy")});n.exports=y},26128:(n,T,i)=>{/**
 * @author       Benjamin D. Richards <benjamindrichards@gmail.com>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(83419),y=new f({initialize:r(function(o,l,a,u){this.webGLBuffer=null,this.gl=o,this.initialDataOrSize=l,this.bufferType=a,this.bufferUsage=u,this.createResource()},"WebGLBufferWrapper"),createResource:r(function(){if(this.initialDataOrSize!==null){var c=this.gl;if(!c.isContextLost()){var o=this.bufferType,l=c.createBuffer();this.webGLBuffer=l,c.bindBuffer(o,this.webGLBuffer),c.bufferData(o,this.initialDataOrSize,this.bufferUsage),c.bindBuffer(o,null)}}},"createResource"),destroy:r(function(){var c=this.gl;c.isContextLost()||c.deleteBuffer(this.webGLBuffer),this.webGLBuffer=null,this.initialDataOrSize=null,this.gl=null},"destroy")});n.exports=y},84387:(n,T,i)=>{/**
 * @author       Benjamin D. Richards <benjamindrichards@gmail.com>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(83419),y={36054:"Incomplete Attachment",36055:"Missing Attachment",36057:"Incomplete Dimensions",36061:"Framebuffer Unsupported"},c=new f({initialize:r(function(l,a,u,v,d){this.webGLFramebuffer=null,this.gl=l,this.width=a,this.height=u,this.renderTexture=v,this.addDepthStencilBuffer=!!d,this.createResource()},"WebGLFramebufferWrapper"),createResource:r(function(){var o=this.gl;if(!o.isContextLost()){var l=this.renderTexture,a=0,u=o.createFramebuffer();if(this.webGLFramebuffer=u,o.bindFramebuffer(o.FRAMEBUFFER,u),l.isRenderTexture=!0,l.isAlphaPremultiplied=!1,o.framebufferTexture2D(o.FRAMEBUFFER,o.COLOR_ATTACHMENT0,o.TEXTURE_2D,l.webGLTexture,0),a=o.checkFramebufferStatus(o.FRAMEBUFFER),a!==o.FRAMEBUFFER_COMPLETE)throw new Error("Framebuffer status: "+(y[a]||a));if(this.addDepthStencilBuffer){var v=o.createRenderbuffer();o.bindRenderbuffer(o.RENDERBUFFER,v),o.renderbufferStorage(o.RENDERBUFFER,o.DEPTH_STENCIL,this.width,this.height),o.framebufferRenderbuffer(o.FRAMEBUFFER,o.DEPTH_STENCIL_ATTACHMENT,o.RENDERBUFFER,v)}o.bindFramebuffer(o.FRAMEBUFFER,null)}},"createResource"),destroy:r(function(){if(this.webGLFramebuffer!==null){var o=this.gl;if(!o.isContextLost()){o.bindFramebuffer(o.FRAMEBUFFER,this.webGLFramebuffer);var l=o.getFramebufferAttachmentParameter(o.FRAMEBUFFER,o.COLOR_ATTACHMENT0,o.FRAMEBUFFER_ATTACHMENT_OBJECT_NAME);l!==null&&(o.framebufferTexture2D(o.FRAMEBUFFER,o.COLOR_ATTACHMENT0,o.TEXTURE_2D,null,0),o.deleteTexture(l));var a=o.getFramebufferAttachmentParameter(o.FRAMEBUFFER,o.DEPTH_STENCIL_ATTACHMENT,o.FRAMEBUFFER_ATTACHMENT_OBJECT_NAME);a!==null&&o.deleteRenderbuffer(a),o.bindFramebuffer(o.FRAMEBUFFER,null),o.deleteFramebuffer(this.webGLFramebuffer)}this.renderTexture=null,this.webGLFramebuffer=null,this.gl=null}},"destroy")});n.exports=c},1482:(n,T,i)=>{/**
 * @author       Benjamin D. Richards <benjamindrichards@gmail.com>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(83419),y=new f({initialize:r(function(o,l,a){this.webGLProgram=null,this.gl=o,this.vertexSource=l,this.fragmentSource=a,this.createResource()},"WebGLProgramWrapper"),createResource:r(function(){var c=this.gl;if(!c.isContextLost()){var o=c.createProgram(),l=c.createShader(c.VERTEX_SHADER),a=c.createShader(c.FRAGMENT_SHADER);c.shaderSource(l,this.vertexSource),c.shaderSource(a,this.fragmentSource),c.compileShader(l),c.compileShader(a);var u=`Shader failed:
`;if(!c.getShaderParameter(l,c.COMPILE_STATUS))throw new Error("Vertex "+u+c.getShaderInfoLog(l));if(!c.getShaderParameter(a,c.COMPILE_STATUS))throw new Error("Fragment "+u+c.getShaderInfoLog(a));if(c.attachShader(o,l),c.attachShader(o,a),c.linkProgram(o),!c.getProgramParameter(o,c.LINK_STATUS))throw new Error("Link "+u+c.getProgramInfoLog(o));c.useProgram(o),this.webGLProgram=o}},"createResource"),destroy:r(function(){this.webGLProgram&&(this.gl.isContextLost()||this.gl.deleteProgram(this.webGLProgram),this.webGLProgram=null,this.gl=null)},"destroy")});n.exports=y},82751:(n,T,i)=>{/**
 * @author       Benjamin D. Richards <benjamindrichards@gmail.com>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(83419),y=i(50030),c=new f({initialize:r(function(l,a,u,v,d,p,g,m,x,C,P,A,R){this.webGLTexture=null,this.isRenderTexture=!1,this.gl=l,this.mipLevel=a,this.minFilter=u,this.magFilter=v,this.wrapT=d,this.wrapS=p,this.format=g,this.pixels=m,this.width=x,this.height=C,this.pma=P??!0,this.forceSize=!!A,this.flipY=!!R,this.__SPECTOR_Metadata={},this.createResource()},"WebGLTextureWrapper"),createResource:r(function(){var o=this.gl;if(!o.isContextLost()){if(this.pixels instanceof c){this.webGLTexture=this.pixels.webGLTexture;return}var l=o.createTexture();l.__SPECTOR_Metadata=this.__SPECTOR_Metadata,this.webGLTexture=l,this._processTexture()}},"createResource"),update:r(function(o,l,a,u,v,d,p,g,m){if(!(l===0||a===0)){this.pixels=o,this.width=l,this.height=a,this.flipY=u,this.wrapS=v,this.wrapT=d,this.minFilter=p,this.magFilter=g,this.format=m;var x=this.gl;x.isContextLost()||this._processTexture()}},"update"),_processTexture:r(function(){var o=this.gl;o.activeTexture(o.TEXTURE0);var l=o.getParameter(o.TEXTURE_BINDING_2D);o.bindTexture(o.TEXTURE_2D,this.webGLTexture),o.texParameteri(o.TEXTURE_2D,o.TEXTURE_MIN_FILTER,this.minFilter),o.texParameteri(o.TEXTURE_2D,o.TEXTURE_MAG_FILTER,this.magFilter),o.texParameteri(o.TEXTURE_2D,o.TEXTURE_WRAP_S,this.wrapS),o.texParameteri(o.TEXTURE_2D,o.TEXTURE_WRAP_T,this.wrapT),o.pixelStorei(o.UNPACK_PREMULTIPLY_ALPHA_WEBGL,this.pma),o.pixelStorei(o.UNPACK_FLIP_Y_WEBGL,this.flipY);var a=this.pixels,u=this.mipLevel,v=this.width,d=this.height,p=this.format,g=!1;if(a==null)o.texImage2D(o.TEXTURE_2D,u,p,v,d,0,p,o.UNSIGNED_BYTE,null),g=y(v,d);else if(a.compressed){v=a.width,d=a.height,g=a.generateMipmap;for(var m=0;m<a.mipmaps.length;m++)o.compressedTexImage2D(o.TEXTURE_2D,m,a.internalFormat,a.mipmaps[m].width,a.mipmaps[m].height,0,a.mipmaps[m].data)}else a instanceof Uint8Array?(o.texImage2D(o.TEXTURE_2D,u,p,v,d,0,p,o.UNSIGNED_BYTE,a),g=y(v,d)):(this.forceSize||(v=a.width,d=a.height),o.texImage2D(o.TEXTURE_2D,u,p,p,o.UNSIGNED_BYTE,a),g=y(v,d));g&&o.generateMipmap(o.TEXTURE_2D),l?o.bindTexture(o.TEXTURE_2D,l):o.bindTexture(o.TEXTURE_2D,null)},"_processTexture"),spectorMetadata:{get:r(function(){return this.__SPECTOR_Metadata},"get"),set:r(function(o){this.__SPECTOR_Metadata=o,this.gl.isContextLost()||(this.webGLTexture.__SPECTOR_Metadata=o)},"set")},destroy:r(function(){this.webGLTexture!==null&&(this.gl.isContextLost()||this.pixels instanceof c||this.gl.deleteTexture(this.webGLTexture),this.pixels=null,this.webGLTexture=null,this.gl=null)},"destroy")});n.exports=c},57183:(n,T,i)=>{/**
 * @author       Benjamin D. Richards <benjamindrichards@gmail.com>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(83419),y=new f({initialize:r(function(o,l,a){this.webGLUniformLocation=null,this.gl=o,this.program=l,this.name=a,this.createResource()},"WebGLUniformLocationWrapper"),createResource:r(function(){if(this.program.webGLProgram===null){this.webGLUniformLocation=null;return}var c=this.gl;c.isContextLost()||(this.webGLUniformLocation=c.getUniformLocation(this.program.webGLProgram,this.name))},"createResource"),destroy:r(function(){this.gl=null,this.program=null,this.name=null,this.webGLUniformLocation=null},"destroy")});n.exports=y},9503:(n,T,i)=>{/**
 * @author       Benjamin D. Richards <benjamindrichards@gmail.com>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f={WebGLAttribLocationWrapper:i(93567),WebGLBufferWrapper:i(26128),WebGLProgramWrapper:i(1482),WebGLTextureWrapper:i(82751),WebGLFramebufferWrapper:i(84387),WebGLUniformLocationWrapper:i(57183)};n.exports=f},76531:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(13560),y=i(83419),c=i(50792),o=i(97480),l=i(8443),a=i(57811),u=i(74403),v=i(45818),d=i(29747),p=i(87841),g=i(86555),m=i(56583),x=i(26099),C=i(38058),P=new y({Extends:c,initialize:r(function(R){c.call(this),this.game=R,this.canvas,this.canvasBounds=new p,this.parent=null,this.parentIsWindow=!1,this.parentSize=new g,this.gameSize=new g,this.baseSize=new g,this.displaySize=new g,this.scaleMode=f.SCALE_MODE.NONE,this.zoom=1,this._resetZoom=!1,this.displayScale=new x(1,1),this.autoRound=!1,this.autoCenter=f.CENTER.NO_CENTER,this.orientation=f.ORIENTATION.LANDSCAPE,this.fullscreen,this.fullscreenTarget=null,this._createdFullscreenTarget=!1,this.dirty=!1,this.resizeInterval=500,this._lastCheck=0,this._checkOrientation=!1,this.domlisteners={orientationChange:d,windowResize:d,fullScreenChange:d,fullScreenError:d}},"ScaleManager"),preBoot:r(function(){this.parseConfig(this.game.config),this.game.events.once(l.BOOT,this.boot,this)},"preBoot"),boot:r(function(){var A=this.game;this.canvas=A.canvas,this.fullscreen=A.device.fullscreen,this.scaleMode!==f.SCALE_MODE.RESIZE&&this.scaleMode!==f.SCALE_MODE.EXPAND&&this.displaySize.setAspectMode(this.scaleMode),this.scaleMode===f.SCALE_MODE.NONE?this.resize(this.width,this.height):(this.getParentBounds(),this.parentSize.width>0&&this.parentSize.height>0&&this.displaySize.setParent(this.parentSize),this.refresh()),A.events.on(l.PRE_STEP,this.step,this),A.events.once(l.READY,this.refresh,this),A.events.once(l.DESTROY,this.destroy,this),this.startListeners()},"boot"),parseConfig:r(function(A){this.getParent(A),this.getParentBounds();var R=A.width,L=A.height,O=A.scaleMode,w=A.zoom,b=A.autoRound;if(typeof R=="string")if(R.substr(-1)!=="%")R=parseInt(R,10);else{var F=this.parentSize.width;F===0&&(F=window.innerWidth);var M=parseInt(R,10)/100;R=Math.floor(F*M)}if(typeof L=="string")if(L.substr(-1)!=="%")L=parseInt(L,10);else{var I=this.parentSize.height;I===0&&(I=window.innerHeight);var B=parseInt(L,10)/100;L=Math.floor(I*B)}this.scaleMode=O,this.autoRound=b,this.autoCenter=A.autoCenter,this.resizeInterval=A.resizeInterval,b&&(R=Math.floor(R),L=Math.floor(L)),this.gameSize.setSize(R,L),w===f.ZOOM.MAX_ZOOM&&(w=this.getMaxZoom()),this.zoom=w,w!==1&&(this._resetZoom=!0),this.baseSize.setSize(R,L),b&&(this.baseSize.width=Math.floor(this.baseSize.width),this.baseSize.height=Math.floor(this.baseSize.height)),A.minWidth>0&&this.displaySize.setMin(A.minWidth*w,A.minHeight*w),A.maxWidth>0&&this.displaySize.setMax(A.maxWidth*w,A.maxHeight*w),this.displaySize.setSize(R,L),(A.snapWidth>0||A.snapHeight>0)&&this.displaySize.setSnap(A.snapWidth,A.snapHeight),this.orientation=v(R,L)},"parseConfig"),getParent:r(function(A){var R=A.parent;if(R!==null){if(this.parent=u(R),this.parentIsWindow=this.parent===document.body,A.expandParent&&A.scaleMode!==f.SCALE_MODE.NONE){var L=this.parent.getBoundingClientRect();(this.parentIsWindow||L.height===0)&&(document.documentElement.style.height="100%",document.body.style.height="100%",L=this.parent.getBoundingClientRect(),!this.parentIsWindow&&L.height===0&&(this.parent.style.overflow="hidden",this.parent.style.width="100%",this.parent.style.height="100%"))}A.fullscreenTarget&&!this.fullscreenTarget&&(this.fullscreenTarget=u(A.fullscreenTarget))}},"getParent"),getParentBounds:r(function(){if(!this.parent)return!1;var A=this.parentSize,R=this.parent.getBoundingClientRect();this.parentIsWindow&&this.game.device.os.iOS&&(R.height=a(!0));var L=R.width,O=R.height;if(A.width!==L||A.height!==O)return A.setSize(L,O),!0;if(this.canvas){var w=this.canvasBounds,b=this.canvas.getBoundingClientRect();if(b.x!==w.x||b.y!==w.y)return!0}return!1},"getParentBounds"),lockOrientation:r(function(A){var R=screen.lockOrientation||screen.mozLockOrientation||screen.msLockOrientation;return R?R.call(screen,A):!1},"lockOrientation"),setParentSize:r(function(A,R){return this.parentSize.setSize(A,R),this.refresh()},"setParentSize"),setGameSize:r(function(A,R){var L=this.autoRound;L&&(A=Math.floor(A),R=Math.floor(R));var O=this.width,w=this.height;return this.gameSize.resize(A,R),this.baseSize.resize(A,R),L&&(this.baseSize.width=Math.floor(this.baseSize.width),this.baseSize.height=Math.floor(this.baseSize.height)),this.displaySize.setAspectRatio(A/R),this.canvas.width=this.baseSize.width,this.canvas.height=this.baseSize.height,this.refresh(O,w)},"setGameSize"),resize:r(function(A,R){var L=this.zoom,O=this.autoRound;O&&(A=Math.floor(A),R=Math.floor(R));var w=this.width,b=this.height;this.gameSize.resize(A,R),this.baseSize.resize(A,R),O&&(this.baseSize.width=Math.floor(this.baseSize.width),this.baseSize.height=Math.floor(this.baseSize.height)),this.displaySize.setSize(A*L,R*L),this.canvas.width=this.baseSize.width,this.canvas.height=this.baseSize.height;var F=this.canvas.style,M=A*L,I=R*L;return O&&(M=Math.floor(M),I=Math.floor(I)),(M!==A||I!==R)&&(F.width=M+"px",F.height=I+"px"),this.refresh(w,b)},"resize"),setZoom:r(function(A){return this.zoom=A,this._resetZoom=!0,this.refresh()},"setZoom"),setMaxZoom:r(function(){return this.zoom=this.getMaxZoom(),this._resetZoom=!0,this.refresh()},"setMaxZoom"),setSnap:r(function(A,R){return A===void 0&&(A=0),R===void 0&&(R=A),this.displaySize.setSnap(A,R),this.refresh()},"setSnap"),refresh:r(function(A,R){A===void 0&&(A=this.width),R===void 0&&(R=this.height),this.updateScale(),this.updateBounds(),this.updateOrientation(),this.displayScale.set(this.baseSize.width/this.canvasBounds.width,this.baseSize.height/this.canvasBounds.height);var L=this.game.domContainer;if(L){this.baseSize.setCSS(L);var O=this.canvas.style,w=L.style;w.transform="scale("+this.displaySize.width/this.baseSize.width+","+this.displaySize.height/this.baseSize.height+")",w.marginLeft=O.marginLeft,w.marginTop=O.marginTop}return this.emit(o.RESIZE,this.gameSize,this.baseSize,this.displaySize,A,R),this},"refresh"),updateOrientation:r(function(){if(this._checkOrientation){this._checkOrientation=!1;var A=v(this.width,this.height);A!==this.orientation&&(this.orientation=A,this.emit(o.ORIENTATION_CHANGE,A))}},"updateOrientation"),updateScale:r(function(){var A=this.canvas.style,R=this.gameSize.width,L=this.gameSize.height,O,w,b=this.zoom,F=this.autoRound;if(this.scaleMode===f.SCALE_MODE.NONE)this.displaySize.setSize(R*b,L*b),O=this.displaySize.width,w=this.displaySize.height,F&&(O=Math.floor(O),w=Math.floor(w)),this._resetZoom&&(A.width=O+"px",A.height=w+"px",this._resetZoom=!1);else if(this.scaleMode===f.SCALE_MODE.RESIZE)this.displaySize.setSize(this.parentSize.width,this.parentSize.height),this.gameSize.setSize(this.displaySize.width,this.displaySize.height),this.baseSize.setSize(this.displaySize.width,this.displaySize.height),O=this.displaySize.width,w=this.displaySize.height,F&&(O=Math.floor(O),w=Math.floor(w)),this.canvas.width=O,this.canvas.height=w;else if(this.scaleMode===f.SCALE_MODE.EXPAND){this.displaySize.setSize(this.parentSize.width,this.parentSize.height),O=this.displaySize.width,w=this.displaySize.height,F&&(O=Math.floor(O),w=Math.floor(w)),A.width=O+"px",A.height=w+"px";var M=this.parentSize.width/this.gameSize.width,I=this.parentSize.height/this.gameSize.height;M<I?this.baseSize.setSize(this.gameSize.width,this.parentSize.height/M):this.baseSize.setSize(this.displaySize.width/I,this.gameSize.height),O=this.baseSize.width,w=this.baseSize.height,F&&(O=Math.floor(O),w=Math.floor(w)),this.canvas.width=O,this.canvas.height=w}else this.displaySize.setSize(this.parentSize.width,this.parentSize.height),O=this.displaySize.width,w=this.displaySize.height,F&&(O=Math.floor(O),w=Math.floor(w)),A.width=O+"px",A.height=w+"px";this.getParentBounds(),this.updateCenter()},"updateScale"),getMaxZoom:r(function(){var A=m(this.parentSize.width,this.gameSize.width,0,!0),R=m(this.parentSize.height,this.gameSize.height,0,!0);return Math.max(Math.min(A,R),1)},"getMaxZoom"),updateCenter:r(function(){var A=this.autoCenter;if(A!==f.CENTER.NO_CENTER){var R=this.canvas,L=R.style,O=R.getBoundingClientRect(),w=O.width,b=O.height,F=Math.floor((this.parentSize.width-w)/2),M=Math.floor((this.parentSize.height-b)/2);A===f.CENTER.CENTER_HORIZONTALLY?M=0:A===f.CENTER.CENTER_VERTICALLY&&(F=0),L.marginLeft=F+"px",L.marginTop=M+"px"}},"updateCenter"),updateBounds:r(function(){var A=this.canvasBounds,R=this.canvas.getBoundingClientRect();A.x=R.left+(window.pageXOffset||0)-(document.documentElement.clientLeft||0),A.y=R.top+(window.pageYOffset||0)-(document.documentElement.clientTop||0),A.width=R.width,A.height=R.height},"updateBounds"),transformX:r(function(A){return(A-this.canvasBounds.left)*this.displayScale.x},"transformX"),transformY:r(function(A){return(A-this.canvasBounds.top)*this.displayScale.y},"transformY"),startFullscreen:r(function(A){A===void 0&&(A={navigationUI:"hide"});var R=this.fullscreen;if(!R.available){this.emit(o.FULLSCREEN_UNSUPPORTED);return}if(!R.active){var L=this.getFullscreenTarget();R.keyboard?L[R.request](Element.ALLOW_KEYBOARD_INPUT):L[R.request](A)}},"startFullscreen"),fullscreenSuccessHandler:r(function(){this.getParentBounds(),this.refresh(),this.emit(o.ENTER_FULLSCREEN)},"fullscreenSuccessHandler"),fullscreenErrorHandler:r(function(A){this.removeFullscreenTarget(),this.emit(o.FULLSCREEN_FAILED,A)},"fullscreenErrorHandler"),getFullscreenTarget:r(function(){if(!this.fullscreenTarget){var A=document.createElement("div");A.style.margin="0",A.style.padding="0",A.style.width="100%",A.style.height="100%",this.fullscreenTarget=A,this._createdFullscreenTarget=!0}if(this._createdFullscreenTarget){var R=this.canvas.parentNode;R.insertBefore(this.fullscreenTarget,this.canvas),this.fullscreenTarget.appendChild(this.canvas)}return this.fullscreenTarget},"getFullscreenTarget"),removeFullscreenTarget:r(function(){if(this._createdFullscreenTarget){var A=this.fullscreenTarget;if(A&&A.parentNode){var R=A.parentNode;R.insertBefore(this.canvas,A),R.removeChild(A)}}},"removeFullscreenTarget"),stopFullscreen:r(function(){var A=this.fullscreen;if(!A.available)return this.emit(o.FULLSCREEN_UNSUPPORTED),!1;A.active&&document[A.cancel](),this.removeFullscreenTarget(),this.getParentBounds(),this.emit(o.LEAVE_FULLSCREEN),this.refresh()},"stopFullscreen"),toggleFullscreen:r(function(A){this.fullscreen.active?this.stopFullscreen():this.startFullscreen(A)},"toggleFullscreen"),startListeners:r(function(){var A=this,R=this.domlisteners;if(R.orientationChange=function(){A.updateBounds(),A._checkOrientation=!0,A.dirty=!0,A.refresh()},R.windowResize=function(){A.updateBounds(),A.dirty=!0},window.addEventListener("orientationchange",R.orientationChange,!1),window.addEventListener("resize",R.windowResize,!1),this.fullscreen.available){R.fullScreenChange=function(O){return A.onFullScreenChange(O)},R.fullScreenError=function(O){return A.onFullScreenError(O)};var L=["webkit","moz",""];L.forEach(function(O){document.addEventListener(O+"fullscreenchange",R.fullScreenChange,!1),document.addEventListener(O+"fullscreenerror",R.fullScreenError,!1)}),document.addEventListener("MSFullscreenChange",R.fullScreenChange,!1),document.addEventListener("MSFullscreenError",R.fullScreenError,!1)}},"startListeners"),onFullScreenChange:r(function(){document.fullscreenElement||document.webkitFullscreenElement||document.msFullscreenElement||document.mozFullScreenElement?this.fullscreenSuccessHandler():this.stopFullscreen()},"onFullScreenChange"),onFullScreenError:r(function(){this.removeFullscreenTarget()},"onFullScreenError"),getViewPort:r(function(A,R){A instanceof C||(R=A,A=void 0),R===void 0&&(R=new p);var L=this.baseSize,O=this.parentSize,w=this.canvasBounds,b=this.displayScale,F=w.x>=0?0:-(w.x*b.x),M=w.y>=0?0:-(w.y*b.y),I;O.width>=w.width?I=L.width:I=L.width-(w.width-O.width)*b.x;var B;return O.height>=w.height?B=L.height:B=L.height-(w.height-O.height)*b.y,R.setTo(F,M,I,B),A&&(R.width/=A.zoomX,R.height/=A.zoomY,R.centerX=A.centerX+A.scrollX,R.centerY=A.centerY+A.scrollY),R},"getViewPort"),step:r(function(A,R){this.parent&&(this._lastCheck+=R,(this.dirty||this._lastCheck>this.resizeInterval)&&(this.getParentBounds()&&this.refresh(),this.dirty=!1,this._lastCheck=0))},"step"),stopListeners:r(function(){var A=this.domlisteners;window.removeEventListener("orientationchange",A.orientationChange,!1),window.removeEventListener("resize",A.windowResize,!1);var R=["webkit","moz",""];R.forEach(function(L){document.removeEventListener(L+"fullscreenchange",A.fullScreenChange,!1),document.removeEventListener(L+"fullscreenerror",A.fullScreenError,!1)}),document.removeEventListener("MSFullscreenChange",A.fullScreenChange,!1),document.removeEventListener("MSFullscreenError",A.fullScreenError,!1)},"stopListeners"),destroy:r(function(){this.removeAllListeners(),this.stopListeners(),this.game=null,this.canvas=null,this.canvasBounds=null,this.parent=null,this.fullscreenTarget=null,this.parentSize.destroy(),this.gameSize.destroy(),this.baseSize.destroy(),this.displaySize.destroy()},"destroy"),isFullscreen:{get:r(function(){return this.fullscreen.active},"get")},width:{get:r(function(){return this.gameSize.width},"get")},height:{get:r(function(){return this.gameSize.height},"get")},isPortrait:{get:r(function(){return this.orientation===f.ORIENTATION.PORTRAIT},"get")},isLandscape:{get:r(function(){return this.orientation===f.ORIENTATION.LANDSCAPE},"get")},isGamePortrait:{get:r(function(){return this.height>this.width},"get")},isGameLandscape:{get:r(function(){return this.width>this.height},"get")}});n.exports=P},64743:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={NO_CENTER:0,CENTER_BOTH:1,CENTER_HORIZONTALLY:2,CENTER_VERTICALLY:3}},39218:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={LANDSCAPE:"landscape-primary",PORTRAIT:"portrait-primary"}},81050:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={NONE:0,WIDTH_CONTROLS_HEIGHT:1,HEIGHT_CONTROLS_WIDTH:2,FIT:3,ENVELOP:4,RESIZE:5,EXPAND:6}},80805:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={NO_ZOOM:1,ZOOM_2X:2,ZOOM_4X:4,MAX_ZOOM:-1}},13560:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f={CENTER:i(64743),ORIENTATION:i(39218),SCALE_MODE:i(81050),ZOOM:i(80805)};n.exports=f},56139:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="enterfullscreen"},2336:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="fullscreenfailed"},47412:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="fullscreenunsupported"},51452:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="leavefullscreen"},20666:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="orientationchange"},47945:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="resize"},97480:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={ENTER_FULLSCREEN:i(56139),FULLSCREEN_FAILED:i(2336),FULLSCREEN_UNSUPPORTED:i(47412),LEAVE_FULLSCREEN:i(51452),ORIENTATION_CHANGE:i(20666),RESIZE:i(47945)}},93364:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(79291),y=i(13560),c={Center:i(64743),Events:i(97480),Orientation:i(39218),ScaleManager:i(76531),ScaleModes:i(81050),Zoom:i(80805)};c=f(!1,c,y.CENTER),c=f(!1,c,y.ORIENTATION),c=f(!1,c,y.SCALE_MODE),c=f(!1,c,y.ZOOM),n.exports=c},27397:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(95540),y=i(35355),c=r(function(o){var l=o.game.config.defaultPhysicsSystem,a=f(o.settings,"physics",!1);if(!(!l&&!a)){var u=[];if(l&&u.push(y(l+"Physics")),a)for(var v in a)v=y(v.concat("Physics")),u.indexOf(v)===-1&&u.push(v);return u}},"GetPhysicsPlugins");n.exports=c},52106:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(95540),y=r(function(c){var o=c.plugins.getDefaultScenePlugins(),l=f(c.settings,"plugins",!1);return Array.isArray(l)?l:o||[]},"GetScenePlugins");n.exports=y},87033:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={game:"game",renderer:"renderer",anims:"anims",cache:"cache",plugins:"plugins",registry:"registry",scale:"scale",sound:"sound",textures:"textures",events:"events",cameras:"cameras",add:"add",make:"make",scenePlugin:"scene",displayList:"children",lights:"lights",data:"data",input:"input",load:"load",time:"time",tweens:"tweens",arcadePhysics:"physics",impactPhysics:"impact",matterPhysics:"matter"};n.exports=T},97482:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(83419),y=i(2368),c=new f({initialize:r(function(l){this.sys=new y(this,l),this.game,this.anims,this.cache,this.registry,this.sound,this.textures,this.events,this.cameras,this.add,this.make,this.scene,this.children,this.lights,this.data,this.input,this.load,this.time,this.tweens,this.physics,this.matter,this.scale,this.plugins,this.renderer},"Scene"),update:r(function(){},"update")});n.exports=c},60903:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(83419),y=i(89993),c=i(44594),o=i(8443),l=i(35154),a=i(54899),u=i(29747),v=i(97482),d=i(2368),p=new f({initialize:r(function(m,x){if(this.game=m,this.keys={},this.scenes=[],this._pending=[],this._start=[],this._queue=[],this._data={},this.isProcessing=!1,this.isBooted=!1,this.customViewports=0,this.systemScene,x){Array.isArray(x)||(x=[x]);for(var C=0;C<x.length;C++)this._pending.push({key:"default",scene:x[C],autoStart:C===0,data:{}})}m.events.once(o.READY,this.bootQueue,this)},"SceneManager"),bootQueue:r(function(){if(!this.isBooted){this.systemScene=this.createSceneFromInstance("__SYSTEM",new v),this.game.events.emit(o.SYSTEM_READY,this.systemScene,this);var g,m,x,C;for(g=0;g<this._pending.length;g++){m=this._pending[g],x=m.key,C=m.scene;var P;C instanceof v?P=this.createSceneFromInstance(x,C):typeof C=="object"?P=this.createSceneFromObject(x,C):typeof C=="function"&&(P=this.createSceneFromFunction(x,C)),x=P.sys.settings.key,this.keys[x]=P,this.scenes.push(P),this._data[x]&&(P.sys.settings.data=this._data[x].data,this._data[x].autoStart&&(m.autoStart=!0)),(m.autoStart||P.sys.settings.active)&&this._start.push(x)}for(this._pending.length=0,this._data={},this.isBooted=!0,g=0;g<this._start.length;g++)m=this._start[g],this.start(m);this._start.length=0}},"bootQueue"),processQueue:r(function(){var g=this._pending.length,m=this._queue.length;if(!(g===0&&m===0)){var x,C;if(g){for(x=0;x<g;x++)C=this._pending[x],this.add(C.key,C.scene,C.autoStart,C.data);for(x=0;x<this._start.length;x++)C=this._start[x],this.start(C);this._start.length=0,this._pending.length=0}for(x=0;x<this._queue.length;x++)C=this._queue[x],this[C.op](C.keyA,C.keyB);this._queue.length=0}},"processQueue"),add:r(function(g,m,x,C){if(x===void 0&&(x=!1),C===void 0&&(C={}),this.isProcessing||!this.isBooted)return this._pending.push({key:g,scene:m,autoStart:x,data:C}),this.isBooted||(this._data[g]={data:C}),null;g=this.getKey(g,m);var P;return m instanceof v?P=this.createSceneFromInstance(g,m):typeof m=="object"?(m.key=g,P=this.createSceneFromObject(g,m)):typeof m=="function"&&(P=this.createSceneFromFunction(g,m)),P.sys.settings.data=C,g=P.sys.settings.key,this.keys[g]=P,this.scenes.push(P),(x||P.sys.settings.active)&&(this._pending.length?this._start.push(g):this.start(g)),P},"add"),remove:r(function(g){if(this.isProcessing)this._queue.push({op:"remove",keyA:g,keyB:null});else{var m=this.getScene(g);if(!m||m.sys.isTransitioning())return this;var x=this.scenes.indexOf(m),C=m.sys.settings.key;x>-1&&(delete this.keys[C],this.scenes.splice(x,1),this._start.indexOf(C)>-1&&(x=this._start.indexOf(C),this._start.splice(x,1)),m.sys.destroy())}return this},"remove"),bootScene:r(function(g){var m=g.sys,x=m.settings;m.sceneUpdate=u,g.init&&(g.init.call(g,x.data),x.status=y.INIT,x.isTransition&&m.events.emit(c.TRANSITION_INIT,x.transitionFrom,x.transitionDuration));var C;m.load&&(C=m.load,C.reset()),C&&g.preload?(g.preload.call(g),x.status=y.LOADING,C.once(a.COMPLETE,this.loadComplete,this),C.start()):this.create(g)},"bootScene"),loadComplete:r(function(g){this.game.sound&&this.game.sound.onBlurPausedSounds&&this.game.sound.unlock(),this.create(g.scene)},"loadComplete"),payloadComplete:r(function(g){this.bootScene(g.scene)},"payloadComplete"),update:r(function(g,m){this.processQueue(),this.isProcessing=!0;for(var x=this.scenes.length-1;x>=0;x--){var C=this.scenes[x].sys;C.settings.status>y.START&&C.settings.status<=y.RUNNING&&C.step(g,m),C.scenePlugin&&C.scenePlugin._target&&C.scenePlugin.step(g,m)}},"update"),render:r(function(g){for(var m=0;m<this.scenes.length;m++){var x=this.scenes[m].sys;x.settings.visible&&x.settings.status>=y.LOADING&&x.settings.status<y.SLEEPING&&x.render(g)}this.isProcessing=!1},"render"),create:r(function(g){var m=g.sys,x=m.settings;g.create&&(x.status=y.CREATING,g.create.call(g,x.data),x.status===y.DESTROYED)||(x.isTransition&&m.events.emit(c.TRANSITION_START,x.transitionFrom,x.transitionDuration),g.update&&(m.sceneUpdate=g.update),x.status=y.RUNNING,m.events.emit(c.CREATE,g))},"create"),createSceneFromFunction:r(function(g,m){var x=new m;if(x instanceof v){var C=x.sys.settings.key;if(C!==""&&(g=C),this.keys.hasOwnProperty(g))throw new Error("Cannot add a Scene with duplicate key: "+g);return this.createSceneFromInstance(g,x)}else return x.sys=new d(x),x.sys.settings.key=g,x.sys.init(this.game),x},"createSceneFromFunction"),createSceneFromInstance:r(function(g,m){var x=m.sys.settings.key;return x===""&&(m.sys.settings.key=g),m.sys.init(this.game),m},"createSceneFromInstance"),createSceneFromObject:r(function(g,m){var x=new v(m),C=x.sys.settings.key;C!==""?g=C:x.sys.settings.key=g,x.sys.init(this.game);for(var P=["init","preload","create","update","render"],A=0;A<P.length;A++){var R=l(m,P[A],null);R&&(x[P[A]]=R)}if(m.hasOwnProperty("extend")){for(var L in m.extend)if(m.extend.hasOwnProperty(L)){var O=m.extend[L];L==="data"&&x.hasOwnProperty("data")&&typeof O=="object"?x.data.merge(O):L!=="sys"&&(x[L]=O)}}return x},"createSceneFromObject"),getKey:r(function(g,m){if(g||(g="default"),typeof m=="function")return g;if(m instanceof v?g=m.sys.settings.key:typeof m=="object"&&m.hasOwnProperty("key")&&(g=m.key),this.keys.hasOwnProperty(g))throw new Error("Cannot add a Scene with duplicate key: "+g);return g},"getKey"),getScenes:r(function(g,m){g===void 0&&(g=!0),m===void 0&&(m=!1);for(var x=[],C=this.scenes,P=0;P<C.length;P++){var A=C[P];A&&(!g||g&&A.sys.isActive())&&x.push(A)}return m?x.reverse():x},"getScenes"),getScene:r(function(g){if(typeof g=="string"){if(this.keys[g])return this.keys[g]}else for(var m=0;m<this.scenes.length;m++)if(g===this.scenes[m])return g;return null},"getScene"),isActive:r(function(g){var m=this.getScene(g);return m?m.sys.isActive():null},"isActive"),isPaused:r(function(g){var m=this.getScene(g);return m?m.sys.isPaused():null},"isPaused"),isVisible:r(function(g){var m=this.getScene(g);return m?m.sys.isVisible():null},"isVisible"),isSleeping:r(function(g){var m=this.getScene(g);return m?m.sys.isSleeping():null},"isSleeping"),pause:r(function(g,m){var x=this.getScene(g);return x&&x.sys.pause(m),this},"pause"),resume:r(function(g,m){var x=this.getScene(g);return x&&x.sys.resume(m),this},"resume"),sleep:r(function(g,m){var x=this.getScene(g);return x&&!x.sys.isTransitioning()&&x.sys.sleep(m),this},"sleep"),wake:r(function(g,m){var x=this.getScene(g);return x&&x.sys.wake(m),this},"wake"),run:r(function(g,m){var x=this.getScene(g);if(!x){for(var C=0;C<this._pending.length;C++)if(this._pending[C].key===g){this.queueOp("start",g,m);break}return this}x.sys.isSleeping()?x.sys.wake(m):x.sys.isPaused()?x.sys.resume(m):this.start(g,m)},"run"),start:r(function(g,m){if(!this.isBooted)return this._data[g]={autoStart:!0,data:m},this;var x=this.getScene(g);if(!x)return console.warn("Scene not found for key: "+g),this;var C=x.sys,P=C.settings.status;if(P>=y.START&&P<=y.CREATING)return this;if(P>=y.RUNNING&&P<=y.SLEEPING)C.shutdown(),C.sceneUpdate=u,C.start(m);else{C.sceneUpdate=u,C.start(m);var A;if(C.load&&(A=C.load),A&&C.settings.hasOwnProperty("pack")&&(A.reset(),A.addPack({payload:C.settings.pack})))return C.settings.status=y.LOADING,A.once(a.COMPLETE,this.payloadComplete,this),A.start(),this}return this.bootScene(x),this},"start"),stop:r(function(g,m){var x=this.getScene(g);if(x&&!x.sys.isTransitioning()&&x.sys.settings.status!==y.SHUTDOWN){var C=x.sys.load;C&&(C.off(a.COMPLETE,this.loadComplete,this),C.off(a.COMPLETE,this.payloadComplete,this)),x.sys.shutdown(m)}return this},"stop"),switch:r(function(g,m){var x=this.getScene(g),C=this.getScene(m);return x&&C&&x!==C&&(this.sleep(g),this.isSleeping(m)?this.wake(m):this.start(m)),this},"switch"),getAt:r(function(g){return this.scenes[g]},"getAt"),getIndex:r(function(g){var m=this.getScene(g);return this.scenes.indexOf(m)},"getIndex"),bringToTop:r(function(g){if(this.isProcessing)this._queue.push({op:"bringToTop",keyA:g,keyB:null});else{var m=this.getIndex(g);if(m!==-1&&m<this.scenes.length){var x=this.getScene(g);this.scenes.splice(m,1),this.scenes.push(x)}}return this},"bringToTop"),sendToBack:r(function(g){if(this.isProcessing)this._queue.push({op:"sendToBack",keyA:g,keyB:null});else{var m=this.getIndex(g);if(m!==-1&&m>0){var x=this.getScene(g);this.scenes.splice(m,1),this.scenes.unshift(x)}}return this},"sendToBack"),moveDown:r(function(g){if(this.isProcessing)this._queue.push({op:"moveDown",keyA:g,keyB:null});else{var m=this.getIndex(g);if(m>0){var x=m-1,C=this.getScene(g),P=this.getAt(x);this.scenes[m]=P,this.scenes[x]=C}}return this},"moveDown"),moveUp:r(function(g){if(this.isProcessing)this._queue.push({op:"moveUp",keyA:g,keyB:null});else{var m=this.getIndex(g);if(m<this.scenes.length-1){var x=m+1,C=this.getScene(g),P=this.getAt(x);this.scenes[m]=P,this.scenes[x]=C}}return this},"moveUp"),moveAbove:r(function(g,m){if(g===m)return this;if(this.isProcessing)this._queue.push({op:"moveAbove",keyA:g,keyB:m});else{var x=this.getIndex(g),C=this.getIndex(m);if(x!==-1&&C!==-1&&C<x){var P=this.getAt(C);this.scenes.splice(C,1),this.scenes.splice(x+(C>x),0,P)}}return this},"moveAbove"),moveBelow:r(function(g,m){if(g===m)return this;if(this.isProcessing)this._queue.push({op:"moveBelow",keyA:g,keyB:m});else{var x=this.getIndex(g),C=this.getIndex(m);if(x!==-1&&C!==-1&&C>x){var P=this.getAt(C);this.scenes.splice(C,1),x===0?this.scenes.unshift(P):this.scenes.splice(x-(C<x),0,P)}}return this},"moveBelow"),queueOp:r(function(g,m,x){return this._queue.push({op:g,keyA:m,keyB:x}),this},"queueOp"),swapPosition:r(function(g,m){if(g===m)return this;if(this.isProcessing)this._queue.push({op:"swapPosition",keyA:g,keyB:m});else{var x=this.getIndex(g),C=this.getIndex(m);if(x!==C&&x!==-1&&C!==-1){var P=this.getAt(x);this.scenes[x]=this.scenes[C],this.scenes[C]=P}}return this},"swapPosition"),dump:r(function(){for(var g=[],m=["pending","init","start","loading","creating","running","paused","sleeping","shutdown","destroyed"],x=0;x<this.scenes.length;x++){var C=this.scenes[x].sys,P=C.settings.visible&&(C.settings.status===y.RUNNING||C.settings.status===y.PAUSED)?"[*] ":"[-] ";P+=C.settings.key+" ("+m[C.settings.status]+")",g.push(P)}console.log(g.join(`
`))},"dump"),destroy:r(function(){for(var g=0;g<this.scenes.length;g++){var m=this.scenes[g].sys;m.destroy()}this.systemScene.sys.destroy(),this.update=u,this.scenes=[],this._pending=[],this._start=[],this._queue=[],this.game=null,this.systemScene=null},"destroy")});n.exports=p},52209:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(45319),y=i(83419),c=i(44594),o=i(95540),l=i(37277),a=new y({initialize:r(function(v){this.scene=v,this.systems=v.sys,this.settings=v.sys.settings,this.key=v.sys.settings.key,this.manager=v.sys.game.scene,this.transitionProgress=0,this._elapsed=0,this._target=null,this._duration=0,this._onUpdate,this._onUpdateScope,this._willSleep=!1,this._willRemove=!1,v.sys.events.once(c.BOOT,this.boot,this),v.sys.events.on(c.START,this.pluginStart,this)},"ScenePlugin"),boot:r(function(){this.systems.events.once(c.DESTROY,this.destroy,this)},"boot"),pluginStart:r(function(){this._target=null,this.systems.events.once(c.SHUTDOWN,this.shutdown,this)},"pluginStart"),start:r(function(u,v){return u===void 0&&(u=this.key),this.manager.queueOp("stop",this.key),this.manager.queueOp("start",u,v),this},"start"),restart:r(function(u){var v=this.key;return this.manager.queueOp("stop",v),this.manager.queueOp("start",v,u),this},"restart"),transition:r(function(u){u===void 0&&(u={});var v=o(u,"target",!1),d=this.manager.getScene(v);if(!v||!this.checkValidTransition(d))return!1;var p=o(u,"duration",1e3);this._elapsed=0,this._target=d,this._duration=p,this._willSleep=o(u,"sleep",!1),this._willRemove=o(u,"remove",!1);var g=o(u,"onUpdate",null);g&&(this._onUpdate=g,this._onUpdateScope=o(u,"onUpdateScope",this.scene));var m=o(u,"allowInput",!1);this.settings.transitionAllowInput=m;var x=d.sys.settings;x.isTransition=!0,x.transitionFrom=this.scene,x.transitionDuration=p,x.transitionAllowInput=m,o(u,"moveAbove",!1)?this.manager.moveAbove(this.key,v):o(u,"moveBelow",!1)&&this.manager.moveBelow(this.key,v),d.sys.isSleeping()?d.sys.wake(o(u,"data")):this.manager.start(v,o(u,"data"));var C=o(u,"onStart",null),P=o(u,"onStartScope",this.scene);return C&&C.call(P,this.scene,d,p),this.systems.events.emit(c.TRANSITION_OUT,d,p),!0},"transition"),checkValidTransition:r(function(u){return!(!u||u.sys.isActive()||u.sys.isTransitioning()||u===this.scene||this.systems.isTransitioning())},"checkValidTransition"),step:r(function(u,v){this._elapsed+=v,this.transitionProgress=f(this._elapsed/this._duration,0,1),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.transitionProgress),this._elapsed>=this._duration&&this.transitionComplete()},"step"),transitionComplete:r(function(){var u=this._target.sys,v=this._target.sys.settings;u.events.emit(c.TRANSITION_COMPLETE,this.scene),v.isTransition=!1,v.transitionFrom=null,this._duration=0,this._target=null,this._onUpdate=null,this._onUpdateScope=null,this._willRemove?this.manager.remove(this.key):this._willSleep?this.systems.sleep():this.manager.stop(this.key)},"transitionComplete"),add:r(function(u,v,d,p){return this.manager.add(u,v,d,p)},"add"),launch:r(function(u,v){return u&&u!==this.key&&this.manager.queueOp("start",u,v),this},"launch"),run:r(function(u,v){return u&&u!==this.key&&this.manager.queueOp("run",u,v),this},"run"),pause:r(function(u,v){return u===void 0&&(u=this.key),this.manager.queueOp("pause",u,v),this},"pause"),resume:r(function(u,v){return u===void 0&&(u=this.key),this.manager.queueOp("resume",u,v),this},"resume"),sleep:r(function(u,v){return u===void 0&&(u=this.key),this.manager.queueOp("sleep",u,v),this},"sleep"),wake:r(function(u,v){return u===void 0&&(u=this.key),this.manager.queueOp("wake",u,v),this},"wake"),switch:r(function(u){return u!==this.key&&this.manager.queueOp("switch",this.key,u),this},"switch"),stop:r(function(u,v){return u===void 0&&(u=this.key),this.manager.queueOp("stop",u,v),this},"stop"),setActive:r(function(u,v,d){v===void 0&&(v=this.key);var p=this.manager.getScene(v);return p&&p.sys.setActive(u,d),this},"setActive"),setVisible:r(function(u,v){v===void 0&&(v=this.key);var d=this.manager.getScene(v);return d&&d.sys.setVisible(u),this},"setVisible"),isSleeping:r(function(u){return u===void 0&&(u=this.key),this.manager.isSleeping(u)},"isSleeping"),isActive:r(function(u){return u===void 0&&(u=this.key),this.manager.isActive(u)},"isActive"),isPaused:r(function(u){return u===void 0&&(u=this.key),this.manager.isPaused(u)},"isPaused"),isVisible:r(function(u){return u===void 0&&(u=this.key),this.manager.isVisible(u)},"isVisible"),swapPosition:r(function(u,v){return v===void 0&&(v=this.key),u!==v&&this.manager.swapPosition(u,v),this},"swapPosition"),moveAbove:r(function(u,v){return v===void 0&&(v=this.key),u!==v&&this.manager.moveAbove(u,v),this},"moveAbove"),moveBelow:r(function(u,v){return v===void 0&&(v=this.key),u!==v&&this.manager.moveBelow(u,v),this},"moveBelow"),remove:r(function(u){return u===void 0&&(u=this.key),this.manager.remove(u),this},"remove"),moveUp:r(function(u){return u===void 0&&(u=this.key),this.manager.moveUp(u),this},"moveUp"),moveDown:r(function(u){return u===void 0&&(u=this.key),this.manager.moveDown(u),this},"moveDown"),bringToTop:r(function(u){return u===void 0&&(u=this.key),this.manager.bringToTop(u),this},"bringToTop"),sendToBack:r(function(u){return u===void 0&&(u=this.key),this.manager.sendToBack(u),this},"sendToBack"),get:r(function(u){return this.manager.getScene(u)},"get"),getStatus:r(function(u){var v=this.manager.getScene(u);if(v)return v.sys.getStatus()},"getStatus"),getIndex:r(function(u){return u===void 0&&(u=this.key),this.manager.getIndex(u)},"getIndex"),shutdown:r(function(){var u=this.systems.events;u.off(c.SHUTDOWN,this.shutdown,this),u.off(c.TRANSITION_OUT)},"shutdown"),destroy:r(function(){this.shutdown(),this.scene.sys.events.off(c.START,this.start,this),this.scene=null,this.systems=null,this.settings=null,this.manager=null},"destroy")});l.register("ScenePlugin",a,"scenePlugin"),n.exports=a},55681:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(89993),y=i(35154),c=i(46975),o=i(87033),l={create:r(function(a){return typeof a=="string"?a={key:a}:a===void 0&&(a={}),{status:f.PENDING,key:y(a,"key",""),active:y(a,"active",!1),visible:y(a,"visible",!0),isBooted:!1,isTransition:!1,transitionFrom:null,transitionDuration:0,transitionAllowInput:!0,data:{},pack:y(a,"pack",!1),cameras:y(a,"cameras",null),map:y(a,"map",c(o,y(a,"mapAdd",{}))),physics:y(a,"physics",{}),loader:y(a,"loader",{}),plugins:y(a,"plugins",!1),input:y(a,"input",{})}},"create")};n.exports=l},2368:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(83419),y=i(89993),c=i(42363),o=i(44594),l=i(27397),a=i(52106),u=i(29747),v=i(55681),d=new f({initialize:r(function(g,m){this.scene=g,this.game,this.renderer,this.config=m,this.settings=v.create(m),this.canvas,this.context,this.anims,this.cache,this.plugins,this.registry,this.scale,this.sound,this.textures,this.add,this.cameras,this.displayList,this.events,this.make,this.scenePlugin,this.updateList,this.sceneUpdate=u},"Systems"),init:r(function(p){this.settings.status=y.INIT,this.sceneUpdate=u,this.game=p,this.renderer=p.renderer,this.canvas=p.canvas,this.context=p.context;var g=p.plugins;this.plugins=g,g.addToScene(this,c.Global,[c.CoreScene,a(this),l(this)]),this.events.emit(o.BOOT,this),this.settings.isBooted=!0},"init"),step:r(function(p,g){var m=this.events;m.emit(o.PRE_UPDATE,p,g),m.emit(o.UPDATE,p,g),this.sceneUpdate.call(this.scene,p,g),m.emit(o.POST_UPDATE,p,g)},"step"),render:r(function(p){var g=this.displayList;g.depthSort(),this.events.emit(o.PRE_RENDER,p),this.cameras.render(p,g),this.events.emit(o.RENDER,p)},"render"),queueDepthSort:r(function(){this.displayList.queueDepthSort()},"queueDepthSort"),depthSort:r(function(){this.displayList.depthSort()},"depthSort"),pause:r(function(p){var g=this.settings,m=this.getStatus();return m!==y.CREATING&&m!==y.RUNNING?console.warn("Cannot pause non-running Scene",g.key):this.settings.active&&(g.status=y.PAUSED,g.active=!1,this.events.emit(o.PAUSE,this,p)),this},"pause"),resume:r(function(p){var g=this.events,m=this.settings;return this.settings.active||(m.status=y.RUNNING,m.active=!0,g.emit(o.RESUME,this,p)),this},"resume"),sleep:r(function(p){var g=this.settings,m=this.getStatus();return m!==y.CREATING&&m!==y.RUNNING?console.warn("Cannot sleep non-running Scene",g.key):(g.status=y.SLEEPING,g.active=!1,g.visible=!1,this.events.emit(o.SLEEP,this,p)),this},"sleep"),wake:r(function(p){var g=this.events,m=this.settings;return m.status=y.RUNNING,m.active=!0,m.visible=!0,g.emit(o.WAKE,this,p),m.isTransition&&g.emit(o.TRANSITION_WAKE,m.transitionFrom,m.transitionDuration),this},"wake"),getData:r(function(){return this.settings.data},"getData"),getStatus:r(function(){return this.settings.status},"getStatus"),canInput:r(function(){var p=this.settings.status;return p>y.PENDING&&p<=y.RUNNING},"canInput"),isSleeping:r(function(){return this.settings.status===y.SLEEPING},"isSleeping"),isActive:r(function(){return this.settings.status===y.RUNNING},"isActive"),isPaused:r(function(){return this.settings.status===y.PAUSED},"isPaused"),isTransitioning:r(function(){return this.settings.isTransition||this.scenePlugin._target!==null},"isTransitioning"),isTransitionOut:r(function(){return this.scenePlugin._target!==null&&this.scenePlugin._duration>0},"isTransitionOut"),isTransitionIn:r(function(){return this.settings.isTransition},"isTransitionIn"),isVisible:r(function(){return this.settings.visible},"isVisible"),setVisible:r(function(p){return this.settings.visible=p,this},"setVisible"),setActive:r(function(p,g){return p?this.resume(g):this.pause(g)},"setActive"),start:r(function(p){var g=this.events,m=this.settings;p&&(m.data=p),m.status=y.START,m.active=!0,m.visible=!0,g.emit(o.START,this),g.emit(o.READY,this,p)},"start"),shutdown:r(function(p){var g=this.events,m=this.settings;g.off(o.TRANSITION_INIT),g.off(o.TRANSITION_START),g.off(o.TRANSITION_COMPLETE),g.off(o.TRANSITION_OUT),m.status=y.SHUTDOWN,m.active=!1,m.visible=!1,g.emit(o.SHUTDOWN,this,p)},"shutdown"),destroy:r(function(){var p=this.events,g=this.settings;g.status=y.DESTROYED,g.active=!1,g.visible=!1,p.emit(o.DESTROY,this),p.removeAllListeners();for(var m=["scene","game","anims","cache","plugins","registry","sound","textures","add","camera","displayList","events","make","scenePlugin","updateList"],x=0;x<m.length;x++)this[m[x]]=null},"destroy")});n.exports=d},89993:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={PENDING:0,INIT:1,START:2,LOADING:3,CREATING:4,RUNNING:5,PAUSED:6,SLEEPING:7,SHUTDOWN:8,DESTROYED:9};n.exports=T},69830:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="addedtoscene"},7919:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="boot"},46763:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="create"},11763:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="destroy"},71555:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="pause"},36735:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="postupdate"},3809:n=>{/**
 * @author       samme
 * @copyright    2021 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="prerender"},90716:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="preupdate"},58262:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="ready"},91633:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="removedfromscene"},10319:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="render"},87132:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="resume"},81961:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="shutdown"},90194:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="sleep"},6265:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="start"},33178:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="transitioncomplete"},43063:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="transitioninit"},11259:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="transitionout"},61611:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="transitionstart"},45209:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="transitionwake"},22966:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="update"},21747:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="wake"},44594:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={ADDED_TO_SCENE:i(69830),BOOT:i(7919),CREATE:i(46763),DESTROY:i(11763),PAUSE:i(71555),POST_UPDATE:i(36735),PRE_RENDER:i(3809),PRE_UPDATE:i(90716),READY:i(58262),REMOVED_FROM_SCENE:i(91633),RENDER:i(10319),RESUME:i(87132),SHUTDOWN:i(81961),SLEEP:i(90194),START:i(6265),TRANSITION_COMPLETE:i(33178),TRANSITION_INIT:i(43063),TRANSITION_OUT:i(11259),TRANSITION_START:i(61611),TRANSITION_WAKE:i(45209),UPDATE:i(22966),WAKE:i(21747)}},62194:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(89993),y=i(79291),c={Events:i(44594),GetPhysicsPlugins:i(27397),GetScenePlugins:i(52106),SceneManager:i(60903),ScenePlugin:i(52209),Settings:i(55681),Systems:i(2368)};c=y(!1,c,f),n.exports=c},30341:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(83419),y=i(50792),c=i(14463),o=i(79291),l=i(29747),a=new f({Extends:y,initialize:r(function(v,d,p){y.call(this),this.manager=v,this.key=d,this.isPlaying=!1,this.isPaused=!1,this.totalRate=1,this.duration=this.duration||0,this.totalDuration=this.totalDuration||0,this.config={mute:!1,volume:1,rate:1,detune:0,seek:0,loop:!1,delay:0,pan:0},this.currentConfig=this.config,this.config=o(this.config,p),this.markers={},this.currentMarker=null,this.pendingRemove=!1},"BaseSound"),addMarker:r(function(u){return!u||!u.name||typeof u.name!="string"?!1:this.markers[u.name]?(console.error("addMarker "+u.name+" already exists in Sound"),!1):(u=o(!0,{name:"",start:0,duration:this.totalDuration-(u.start||0),config:{mute:!1,volume:1,rate:1,detune:0,seek:0,loop:!1,delay:0,pan:0}},u),this.markers[u.name]=u,!0)},"addMarker"),updateMarker:r(function(u){return!u||!u.name||typeof u.name!="string"?!1:this.markers[u.name]?(this.markers[u.name]=o(!0,this.markers[u.name],u),!0):(console.warn("Audio Marker: "+u.name+" missing in Sound: "+this.key),!1)},"updateMarker"),removeMarker:r(function(u){var v=this.markers[u];return v?(this.markers[u]=null,v):null},"removeMarker"),play:r(function(u,v){if(u===void 0&&(u=""),typeof u=="object"&&(v=u,u=""),typeof u!="string")return!1;if(!u)this.currentMarker=null,this.currentConfig=this.config,this.duration=this.totalDuration;else{if(!this.markers[u])return console.warn("Marker: "+u+" missing in Sound: "+this.key),!1;this.currentMarker=this.markers[u],this.currentConfig=this.currentMarker.config,this.duration=this.currentMarker.duration}return this.resetConfig(),this.currentConfig=o(this.currentConfig,v),this.isPlaying=!0,this.isPaused=!1,!0},"play"),pause:r(function(){return this.isPaused||!this.isPlaying?!1:(this.isPlaying=!1,this.isPaused=!0,!0)},"pause"),resume:r(function(){return!this.isPaused||this.isPlaying?!1:(this.isPlaying=!0,this.isPaused=!1,!0)},"resume"),stop:r(function(){return!this.isPaused&&!this.isPlaying?!1:(this.isPlaying=!1,this.isPaused=!1,this.resetConfig(),!0)},"stop"),applyConfig:r(function(){this.mute=this.currentConfig.mute,this.volume=this.currentConfig.volume,this.rate=this.currentConfig.rate,this.detune=this.currentConfig.detune,this.loop=this.currentConfig.loop,this.pan=this.currentConfig.pan},"applyConfig"),resetConfig:r(function(){this.currentConfig.seek=0,this.currentConfig.delay=0},"resetConfig"),update:l,calculateRate:r(function(){var u=1.0005777895065548,v=this.currentConfig.detune+this.manager.detune,d=Math.pow(u,v);this.totalRate=this.currentConfig.rate*this.manager.rate*d},"calculateRate"),destroy:r(function(){this.pendingRemove||(this.stop(),this.emit(c.DESTROY,this),this.removeAllListeners(),this.pendingRemove=!0,this.manager=null,this.config=null,this.currentConfig=null,this.markers=null,this.currentMarker=null)},"destroy")});n.exports=a},85034:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(83419),y=i(41786),c=i(50792),o=i(14463),l=i(8443),a=i(46710),u=i(58731),v=i(29747),d=i(26099),p=new f({Extends:c,initialize:r(function(m){c.call(this),this.game=m,this.jsonCache=m.cache.json,this.sounds=[],this.mute=!1,this.volume=1,this.pauseOnBlur=!0,this._rate=1,this._detune=0,this.locked=this.locked||!1,this.unlocked=!1,this.gameLostFocus=!1,this.listenerPosition=new d,m.events.on(l.BLUR,this.onGameBlur,this),m.events.on(l.FOCUS,this.onGameFocus,this),m.events.on(l.PRE_STEP,this.update,this),m.events.once(l.DESTROY,this.destroy,this)},"BaseSoundManager"),add:v,addAudioSprite:r(function(g,m){m===void 0&&(m={});var x=this.add(g,m);x.spritemap=this.jsonCache.get(g).spritemap;for(var C in x.spritemap)if(x.spritemap.hasOwnProperty(C)){var P=y(m),A=x.spritemap[C];P.loop=A.hasOwnProperty("loop")?A.loop:!1,x.addMarker({name:C,start:A.start,duration:A.end-A.start,config:P})}return x},"addAudioSprite"),get:r(function(g){return u(this.sounds,"key",g)},"get"),getAll:r(function(g){return g?a(this.sounds,"key",g):a(this.sounds)},"getAll"),getAllPlaying:r(function(){return a(this.sounds,"isPlaying",!0)},"getAllPlaying"),play:r(function(g,m){var x=this.add(g);return x.once(o.COMPLETE,x.destroy,x),m?m.name?(x.addMarker(m),x.play(m.name)):x.play(m):x.play()},"play"),playAudioSprite:r(function(g,m,x){var C=this.addAudioSprite(g);return C.once(o.COMPLETE,C.destroy,C),C.play(m,x)},"playAudioSprite"),remove:r(function(g){var m=this.sounds.indexOf(g);return m!==-1?(g.destroy(),this.sounds.splice(m,1),!0):!1},"remove"),removeAll:r(function(){this.sounds.forEach(function(g){g.destroy()}),this.sounds.length=0},"removeAll"),removeByKey:r(function(g){for(var m=0,x=this.sounds.length-1;x>=0;x--){var C=this.sounds[x];C.key===g&&(C.destroy(),this.sounds.splice(x,1),m++)}return m},"removeByKey"),pauseAll:r(function(){this.forEachActiveSound(function(g){g.pause()}),this.emit(o.PAUSE_ALL,this)},"pauseAll"),resumeAll:r(function(){this.forEachActiveSound(function(g){g.resume()}),this.emit(o.RESUME_ALL,this)},"resumeAll"),setListenerPosition:v,stopAll:r(function(){this.forEachActiveSound(function(g){g.stop()}),this.emit(o.STOP_ALL,this)},"stopAll"),stopByKey:r(function(g){var m=0;return this.getAll(g).forEach(function(x){x.stop()&&m++}),m},"stopByKey"),unlock:v,onBlur:v,onFocus:v,onGameBlur:r(function(){this.gameLostFocus=!0,this.pauseOnBlur&&this.onBlur()},"onGameBlur"),onGameFocus:r(function(){this.gameLostFocus=!1,this.pauseOnBlur&&this.onFocus()},"onGameFocus"),update:r(function(g,m){this.unlocked&&(this.unlocked=!1,this.locked=!1,this.emit(o.UNLOCKED,this));for(var x=this.sounds.length-1;x>=0;x--)this.sounds[x].pendingRemove&&this.sounds.splice(x,1);this.sounds.forEach(function(C){C.update(g,m)})},"update"),destroy:r(function(){this.game.events.off(l.BLUR,this.onGameBlur,this),this.game.events.off(l.FOCUS,this.onGameFocus,this),this.game.events.off(l.PRE_STEP,this.update,this),this.removeAllListeners(),this.removeAll(),this.sounds.length=0,this.sounds=null,this.listenerPosition=null,this.game=null},"destroy"),forEachActiveSound:r(function(g,m){var x=this;this.sounds.forEach(function(C,P){C&&!C.pendingRemove&&g.call(m||x,C,P,x.sounds)})},"forEachActiveSound"),setRate:r(function(g){return this.rate=g,this},"setRate"),rate:{get:r(function(){return this._rate},"get"),set:r(function(g){this._rate=g,this.forEachActiveSound(function(m){m.calculateRate()}),this.emit(o.GLOBAL_RATE,this,g)},"set")},setDetune:r(function(g){return this.detune=g,this},"setDetune"),detune:{get:r(function(){return this._detune},"get"),set:r(function(g){this._detune=g,this.forEachActiveSound(function(m){m.calculateRate()}),this.emit(o.GLOBAL_DETUNE,this,g)},"set")}});n.exports=p},14747:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(33684),y=i(25960),c=i(57490),o={create:r(function(l){var a=l.config.audio,u=l.device.audio;return a.noAudio||!u.webAudio&&!u.audioData?new y(l):u.webAudio&&!a.disableWebAudio?new c(l):new f(l)},"create")};n.exports=o},19723:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="complete"},98882:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="decodedall"},57506:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="decoded"},73146:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="destroy"},11305:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="detune"},40577:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="detune"},30333:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="mute"},20394:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="rate"},21802:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="volume"},1299:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="looped"},99190:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="loop"},97125:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="mute"},89259:n=>{/**
 * @author       pi-kei
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="pan"},79986:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="pauseall"},17586:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="pause"},19618:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="play"},42306:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="rate"},10387:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="resumeall"},48959:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="resume"},9960:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="seek"},19180:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="stopall"},98328:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="stop"},50401:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="unlocked"},52498:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="volume"},14463:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={COMPLETE:i(19723),DECODED:i(57506),DECODED_ALL:i(98882),DESTROY:i(73146),DETUNE:i(11305),GLOBAL_DETUNE:i(40577),GLOBAL_MUTE:i(30333),GLOBAL_RATE:i(20394),GLOBAL_VOLUME:i(21802),LOOP:i(99190),LOOPED:i(1299),MUTE:i(97125),PAN:i(89259),PAUSE_ALL:i(79986),PAUSE:i(17586),PLAY:i(19618),RATE:i(42306),RESUME_ALL:i(10387),RESUME:i(48959),SEEK:i(9960),STOP_ALL:i(19180),STOP:i(98328),UNLOCKED:i(50401),VOLUME:i(52498)}},64895:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(30341),y=i(83419),c=i(14463),o=i(45319),l=new y({Extends:f,initialize:r(function(u,v,d){if(d===void 0&&(d={}),this.tags=u.game.cache.audio.get(v),!this.tags)throw new Error('No cached audio asset with key "'+v);this.audio=null,this.startTime=0,this.previousTime=0,this.duration=this.tags[0].duration,this.totalDuration=this.tags[0].duration,f.call(this,u,v,d)},"HTML5AudioSound"),play:r(function(a,u){return this.manager.isLocked(this,"play",[a,u])||!f.prototype.play.call(this,a,u)||!this.pickAndPlayAudioTag()?!1:(this.emit(c.PLAY,this),!0)},"play"),pause:r(function(){return this.manager.isLocked(this,"pause")||this.startTime>0||!f.prototype.pause.call(this)?!1:(this.currentConfig.seek=this.audio.currentTime-(this.currentMarker?this.currentMarker.start:0),this.stopAndReleaseAudioTag(),this.emit(c.PAUSE,this),!0)},"pause"),resume:r(function(){return this.manager.isLocked(this,"resume")||this.startTime>0||!f.prototype.resume.call(this)||!this.pickAndPlayAudioTag()?!1:(this.emit(c.RESUME,this),!0)},"resume"),stop:r(function(){return this.manager.isLocked(this,"stop")||!f.prototype.stop.call(this)?!1:(this.stopAndReleaseAudioTag(),this.emit(c.STOP,this),!0)},"stop"),pickAndPlayAudioTag:r(function(){if(!this.pickAudioTag())return this.reset(),!1;var a=this.currentConfig.seek,u=this.currentConfig.delay,v=(this.currentMarker?this.currentMarker.start:0)+a;return this.previousTime=v,this.audio.currentTime=v,this.applyConfig(),u===0?(this.startTime=0,this.audio.paused&&this.playCatchPromise()):(this.startTime=window.performance.now()+u*1e3,this.audio.paused||this.audio.pause()),this.resetConfig(),!0},"pickAndPlayAudioTag"),pickAudioTag:r(function(){if(this.audio)return!0;for(var a=0;a<this.tags.length;a++){var u=this.tags[a];if(u.dataset.used==="false")return u.dataset.used="true",this.audio=u,!0}if(!this.manager.override)return!1;var v=[];this.manager.forEachActiveSound(function(p){p.key===this.key&&p.audio&&v.push(p)},this),v.sort(function(p,g){return p.loop===g.loop?g.seek/g.duration-p.seek/p.duration:p.loop?1:-1});var d=v[0];return this.audio=d.audio,d.reset(),d.audio=null,d.startTime=0,d.previousTime=0,!0},"pickAudioTag"),playCatchPromise:r(function(){var a=this.audio.play();a&&a.catch(function(u){console.warn(u)})},"playCatchPromise"),stopAndReleaseAudioTag:r(function(){this.startTime=0,this.previousTime=0,this.audio&&(this.audio.pause(),this.audio.dataset.used="false",this.audio=null)},"stopAndReleaseAudioTag"),reset:r(function(){f.prototype.stop.call(this)},"reset"),onBlur:r(function(){this.isPlaying=!1,this.isPaused=!0,this.currentConfig.seek=this.audio.currentTime-(this.currentMarker?this.currentMarker.start:0),this.currentConfig.delay=Math.max(0,(this.startTime-window.performance.now())/1e3),this.stopAndReleaseAudioTag()},"onBlur"),onFocus:r(function(){this.isPlaying=!0,this.isPaused=!1,this.pickAndPlayAudioTag()},"onFocus"),update:r(function(a){if(this.isPlaying){if(this.startTime>0){this.startTime<a-this.manager.audioPlayDelay&&(this.audio.currentTime+=Math.max(0,a-this.startTime)/1e3,this.startTime=0,this.previousTime=this.audio.currentTime,this.playCatchPromise());return}var u=this.currentMarker?this.currentMarker.start:0,v=u+this.duration,d=this.audio.currentTime;if(this.currentConfig.loop)d>=v-this.manager.loopEndOffset?(this.audio.currentTime=u+Math.max(0,d-v),d=this.audio.currentTime):d<u&&(this.audio.currentTime+=u,d=this.audio.currentTime),d<this.previousTime&&this.emit(c.LOOPED,this);else if(d>=v){this.reset(),this.stopAndReleaseAudioTag(),this.emit(c.COMPLETE,this);return}this.previousTime=d}},"update"),destroy:r(function(){f.prototype.destroy.call(this),this.tags=null,this.audio&&this.stopAndReleaseAudioTag()},"destroy"),updateMute:r(function(){this.audio&&(this.audio.muted=this.currentConfig.mute||this.manager.mute)},"updateMute"),updateVolume:r(function(){this.audio&&(this.audio.volume=o(this.currentConfig.volume*this.manager.volume,0,1))},"updateVolume"),calculateRate:r(function(){f.prototype.calculateRate.call(this),this.audio&&(this.audio.playbackRate=this.totalRate)},"calculateRate"),mute:{get:r(function(){return this.currentConfig.mute},"get"),set:r(function(a){this.currentConfig.mute=a,!this.manager.isLocked(this,"mute",a)&&(this.updateMute(),this.emit(c.MUTE,this,a))},"set")},setMute:r(function(a){return this.mute=a,this},"setMute"),volume:{get:r(function(){return this.currentConfig.volume},"get"),set:r(function(a){this.currentConfig.volume=a,!this.manager.isLocked(this,"volume",a)&&(this.updateVolume(),this.emit(c.VOLUME,this,a))},"set")},setVolume:r(function(a){return this.volume=a,this},"setVolume"),rate:{get:r(function(){return this.currentConfig.rate},"get"),set:r(function(a){this.currentConfig.rate=a,!this.manager.isLocked(this,c.RATE,a)&&(this.calculateRate(),this.emit(c.RATE,this,a))},"set")},setRate:r(function(a){return this.rate=a,this},"setRate"),detune:{get:r(function(){return this.currentConfig.detune},"get"),set:r(function(a){this.currentConfig.detune=a,!this.manager.isLocked(this,c.DETUNE,a)&&(this.calculateRate(),this.emit(c.DETUNE,this,a))},"set")},setDetune:r(function(a){return this.detune=a,this},"setDetune"),seek:{get:r(function(){return this.isPlaying?this.audio.currentTime-(this.currentMarker?this.currentMarker.start:0):this.isPaused?this.currentConfig.seek:0},"get"),set:r(function(a){this.manager.isLocked(this,"seek",a)||this.startTime>0||(this.isPlaying||this.isPaused)&&(a=Math.min(Math.max(0,a),this.duration),this.isPlaying?(this.previousTime=a,this.audio.currentTime=a):this.isPaused&&(this.currentConfig.seek=a),this.emit(c.SEEK,this,a))},"set")},setSeek:r(function(a){return this.seek=a,this},"setSeek"),loop:{get:r(function(){return this.currentConfig.loop},"get"),set:r(function(a){this.currentConfig.loop=a,!this.manager.isLocked(this,"loop",a)&&(this.audio&&(this.audio.loop=a),this.emit(c.LOOP,this,a))},"set")},setLoop:r(function(a){return this.loop=a,this},"setLoop"),pan:{get:r(function(){return this.currentConfig.pan},"get"),set:r(function(a){this.currentConfig.pan=a,this.emit(c.PAN,this,a)},"set")},setPan:r(function(a){return this.pan=a,this},"setPan")});n.exports=l},33684:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(85034),y=i(83419),c=i(14463),o=i(64895),l=new y({Extends:f,initialize:r(function(u){this.override=!0,this.audioPlayDelay=.1,this.loopEndOffset=.05,this.onBlurPausedSounds=[],this.locked="ontouchstart"in window,this.lockedActionsQueue=this.locked?[]:null,this._mute=!1,this._volume=1,f.call(this,u)},"HTML5AudioSoundManager"),add:r(function(a,u){var v=new o(this,a,u);return this.sounds.push(v),v},"add"),unlock:r(function(){this.locked=!1;var a=this;if(this.game.cache.audio.entries.each(function(p,g){for(var m=0;m<g.length;m++)if(g[m].dataset.locked==="true")return a.locked=!0,!1;return!0}),!!this.locked){var u=!1,v=r(function(){u=!0},"detectMove"),d=r(function(){if(u){u=!1;return}document.body.removeEventListener("touchmove",v),document.body.removeEventListener("touchend",d);var p=[];if(a.game.cache.audio.entries.each(function(m,x){for(var C=0;C<x.length;C++){var P=x[C];P.dataset.locked==="true"&&p.push(P)}return!0}),p.length!==0){var g=p[p.length-1];g.oncanplaythrough=function(){g.oncanplaythrough=null,p.forEach(function(m){m.dataset.locked="false"}),a.unlocked=!0},p.forEach(function(m){m.load()})}},"unlock");this.once(c.UNLOCKED,function(){for(this.forEachActiveSound(function(g){g.currentMarker===null&&g.duration===0&&(g.duration=g.tags[0].duration),g.totalDuration=g.tags[0].duration});this.lockedActionsQueue.length;){var p=this.lockedActionsQueue.shift();p.sound[p.prop].apply?p.sound[p.prop].apply(p.sound,p.value||[]):p.sound[p.prop]=p.value}},this),document.body.addEventListener("touchmove",v,!1),document.body.addEventListener("touchend",d,!1)}},"unlock"),onBlur:r(function(){this.forEachActiveSound(function(a){a.isPlaying&&(this.onBlurPausedSounds.push(a),a.onBlur())})},"onBlur"),onFocus:r(function(){this.onBlurPausedSounds.forEach(function(a){a.onFocus()}),this.onBlurPausedSounds.length=0},"onFocus"),destroy:r(function(){f.prototype.destroy.call(this),this.onBlurPausedSounds.length=0,this.onBlurPausedSounds=null},"destroy"),isLocked:r(function(a,u,v){return a.tags[0].dataset.locked==="true"?(this.lockedActionsQueue.push({sound:a,prop:u,value:v}),!0):!1},"isLocked"),setMute:r(function(a){return this.mute=a,this},"setMute"),mute:{get:r(function(){return this._mute},"get"),set:r(function(a){this._mute=a,this.forEachActiveSound(function(u){u.updateMute()}),this.emit(c.GLOBAL_MUTE,this,a)},"set")},setVolume:r(function(a){return this.volume=a,this},"setVolume"),volume:{get:r(function(){return this._volume},"get"),set:r(function(a){this._volume=a,this.forEachActiveSound(function(u){u.updateVolume()}),this.emit(c.GLOBAL_VOLUME,this,a)},"set")}});n.exports=l},23717:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={SoundManagerCreator:i(14747),Events:i(14463),BaseSound:i(30341),BaseSoundManager:i(85034),WebAudioSound:i(71741),WebAudioSoundManager:i(57490),HTML5AudioSound:i(64895),HTML5AudioSoundManager:i(33684),NoAudioSound:i(4603),NoAudioSoundManager:i(25960)}},4603:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(30341),y=i(83419),c=i(50792),o=i(79291),l=i(29747),a=r(function(){return!1},"returnFalse"),u=r(function(){return null},"returnNull"),v=r(function(){return this},"returnThis"),d=new y({Extends:c,initialize:r(function(g,m,x){x===void 0&&(x={}),c.call(this),this.manager=g,this.key=m,this.isPlaying=!1,this.isPaused=!1,this.totalRate=1,this.duration=0,this.totalDuration=0,this.config=o({mute:!1,volume:1,rate:1,detune:0,seek:0,loop:!1,delay:0,pan:0},x),this.currentConfig=this.config,this.mute=!1,this.volume=1,this.rate=1,this.detune=0,this.seek=0,this.loop=!1,this.pan=0,this.markers={},this.currentMarker=null,this.pendingRemove=!1},"NoAudioSound"),addMarker:a,updateMarker:a,removeMarker:u,play:a,pause:a,resume:a,stop:a,setMute:v,setVolume:v,setRate:v,setDetune:v,setSeek:v,setLoop:v,setPan:v,applyConfig:u,resetConfig:u,update:l,calculateRate:u,destroy:r(function(){f.prototype.destroy.call(this)},"destroy")});n.exports=d},25960:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(85034),y=i(83419),c=i(50792),o=i(4603),l=i(29747),a=new y({Extends:c,initialize:r(function(v){c.call(this),this.game=v,this.sounds=[],this.mute=!1,this.volume=1,this.rate=1,this.detune=0,this.pauseOnBlur=!0,this.locked=!1},"NoAudioSoundManager"),add:r(function(u,v){var d=new o(this,u,v);return this.sounds.push(d),d},"add"),addAudioSprite:r(function(u,v){var d=this.add(u,v);return d.spritemap={},d},"addAudioSprite"),get:r(function(u){return f.prototype.get.call(this,u)},"get"),getAll:r(function(u){return f.prototype.getAll.call(this,u)},"getAll"),play:r(function(u,v){return!1},"play"),playAudioSprite:r(function(u,v,d){return!1},"playAudioSprite"),remove:r(function(u){return f.prototype.remove.call(this,u)},"remove"),removeAll:r(function(){return f.prototype.removeAll.call(this)},"removeAll"),removeByKey:r(function(u){return f.prototype.removeByKey.call(this,u)},"removeByKey"),stopByKey:r(function(u){return f.prototype.stopByKey.call(this,u)},"stopByKey"),onBlur:l,onFocus:l,onGameBlur:l,onGameFocus:l,pauseAll:l,resumeAll:l,stopAll:l,update:l,setRate:l,setDetune:l,setMute:l,setVolume:l,unlock:l,forEachActiveSound:r(function(u,v){f.prototype.forEachActiveSound.call(this,u,v)},"forEachActiveSound"),destroy:r(function(){f.prototype.destroy.call(this)},"destroy")});n.exports=a},71741:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(30341),y=i(83419),c=i(14463),o=i(95540),l=new y({Extends:f,initialize:r(function(u,v,d){if(d===void 0&&(d={}),this.audioBuffer=u.game.cache.audio.get(v),!this.audioBuffer)throw new Error('Audio key "'+v+'" missing from cache');this.source=null,this.loopSource=null,this.muteNode=u.context.createGain(),this.volumeNode=u.context.createGain(),this.pannerNode=null,this.spatialNode=null,this.spatialSource=null,this.playTime=0,this.startTime=0,this.loopTime=0,this.rateUpdates=[],this.hasEnded=!1,this.hasLooped=!1,this.muteNode.connect(this.volumeNode),u.context.createPanner&&(this.spatialNode=u.context.createPanner(),this.volumeNode.connect(this.spatialNode)),u.context.createStereoPanner?(this.pannerNode=u.context.createStereoPanner(),u.context.createPanner?this.spatialNode.connect(this.pannerNode):this.volumeNode.connect(this.pannerNode),this.pannerNode.connect(u.destination)):u.context.createPanner?this.spatialNode.connect(u.destination):this.volumeNode.connect(u.destination),this.duration=this.audioBuffer.duration,this.totalDuration=this.audioBuffer.duration,f.call(this,u,v,d)},"WebAudioSound"),play:r(function(a,u){return f.prototype.play.call(this,a,u)?(this.stopAndRemoveBufferSource(),this.createAndStartBufferSource(),this.emit(c.PLAY,this),!0):!1},"play"),pause:r(function(){return this.manager.context.currentTime<this.startTime||!f.prototype.pause.call(this)?!1:(this.currentConfig.seek=this.getCurrentTime(),this.stopAndRemoveBufferSource(),this.emit(c.PAUSE,this),!0)},"pause"),resume:r(function(){return this.manager.context.currentTime<this.startTime||!f.prototype.resume.call(this)?!1:(this.createAndStartBufferSource(),this.emit(c.RESUME,this),!0)},"resume"),stop:r(function(){return f.prototype.stop.call(this)?(this.stopAndRemoveBufferSource(),this.emit(c.STOP,this),!0):!1},"stop"),createAndStartBufferSource:r(function(){var a=this.currentConfig.seek,u=this.currentConfig.delay,v=this.manager.context.currentTime+u,d=(this.currentMarker?this.currentMarker.start:0)+a,p=this.duration-a;this.playTime=v-a,this.startTime=v,this.source=this.createBufferSource(),this.applyConfig(),this.source.start(Math.max(0,v),Math.max(0,d),Math.max(0,p)),this.resetConfig()},"createAndStartBufferSource"),createAndStartLoopBufferSource:r(function(){var a=this.getLoopTime(),u=this.currentMarker?this.currentMarker.start:0,v=this.duration;this.loopTime=a,this.loopSource=this.createBufferSource(),this.loopSource.playbackRate.setValueAtTime(this.totalRate,0),this.loopSource.start(Math.max(0,a),Math.max(0,u),Math.max(0,v))},"createAndStartLoopBufferSource"),createBufferSource:r(function(){var a=this,u=this.manager.context.createBufferSource();return u.buffer=this.audioBuffer,u.connect(this.muteNode),u.onended=function(v){v.target===a.source&&(a.currentConfig.loop?a.hasLooped=!0:a.hasEnded=!0)},u},"createBufferSource"),stopAndRemoveBufferSource:r(function(){if(this.source){var a=this.source;this.source=null,a.stop(),a.disconnect()}this.playTime=0,this.startTime=0,this.hasEnded=!1,this.stopAndRemoveLoopBufferSource()},"stopAndRemoveBufferSource"),stopAndRemoveLoopBufferSource:r(function(){this.loopSource&&(this.loopSource.stop(),this.loopSource.disconnect(),this.loopSource=null),this.loopTime=0},"stopAndRemoveLoopBufferSource"),applyConfig:r(function(){this.rateUpdates.length=0,this.rateUpdates.push({time:0,rate:1});var a=this.currentConfig.source;if(a&&this.manager.context.createPanner){var u=this.spatialNode;u.panningModel=o(a,"panningModel","equalpower"),u.distanceModel=o(a,"distanceModel","inverse"),u.orientationX.value=o(a,"orientationX",0),u.orientationY.value=o(a,"orientationY",0),u.orientationZ.value=o(a,"orientationZ",-1),u.refDistance=o(a,"refDistance",1),u.maxDistance=o(a,"maxDistance",1e4),u.rolloffFactor=o(a,"rolloffFactor",1),u.coneInnerAngle=o(a,"coneInnerAngle",360),u.coneOuterAngle=o(a,"coneOuterAngle",0),u.coneOuterGain=o(a,"coneOuterGain",0),this.spatialSource=o(a,"follow",null),this.spatialSource||(u.positionX.value=o(a,"x",0),u.positionY.value=o(a,"y",0),u.positionZ.value=o(a,"z",0))}f.prototype.applyConfig.call(this)},"applyConfig"),x:{get:r(function(){return this.spatialNode?this.spatialNode.positionX:0},"get"),set:r(function(a){this.spatialNode&&(this.spatialNode.positionX.value=a)},"set")},y:{get:r(function(){return this.spatialNode?this.spatialNode.positionY:0},"get"),set:r(function(a){this.spatialNode&&(this.spatialNode.positionY.value=a)},"set")},update:r(function(){if(this.isPlaying&&this.spatialSource){var a=o(this.spatialSource,"x",null),u=o(this.spatialSource,"y",null);a&&a!==this._spatialx&&(this._spatialx=this.spatialNode.positionX.value=a),u&&u!==this._spatialy&&(this._spatialy=this.spatialNode.positionY.value=u)}this.hasEnded?(f.prototype.stop.call(this),this.stopAndRemoveBufferSource(),this.emit(c.COMPLETE,this)):this.hasLooped&&(this.hasLooped=!1,this.source=this.loopSource,this.loopSource=null,this.playTime=this.startTime=this.loopTime,this.rateUpdates.length=0,this.rateUpdates.push({time:0,rate:this.totalRate}),this.createAndStartLoopBufferSource(),this.emit(c.LOOPED,this))},"update"),destroy:r(function(){this.pendingRemove||(f.prototype.destroy.call(this),this.audioBuffer=null,this.stopAndRemoveBufferSource(),this.muteNode.disconnect(),this.muteNode=null,this.volumeNode.disconnect(),this.volumeNode=null,this.pannerNode&&(this.pannerNode.disconnect(),this.pannerNode=null),this.spatialNode&&(this.spatialNode.disconnect(),this.spatialNode=null,this.spatialSource=null),this.rateUpdates.length=0,this.rateUpdates=null)},"destroy"),calculateRate:r(function(){f.prototype.calculateRate.call(this);var a=this.manager.context.currentTime;this.source&&typeof this.totalRate=="number"&&this.source.playbackRate.setValueAtTime(this.totalRate,a),this.isPlaying&&(this.rateUpdates.push({time:Math.max(this.startTime,a)-this.playTime,rate:this.totalRate}),this.loopSource&&(this.stopAndRemoveLoopBufferSource(),this.createAndStartLoopBufferSource()))},"calculateRate"),getCurrentTime:r(function(){for(var a=0,u=0;u<this.rateUpdates.length;u++){var v=0;u<this.rateUpdates.length-1?v=this.rateUpdates[u+1].time:v=this.manager.context.currentTime-this.playTime,a+=(v-this.rateUpdates[u].time)*this.rateUpdates[u].rate}return a},"getCurrentTime"),getLoopTime:r(function(){for(var a=0,u=0;u<this.rateUpdates.length-1;u++)a+=(this.rateUpdates[u+1].time-this.rateUpdates[u].time)*this.rateUpdates[u].rate;var v=this.rateUpdates[this.rateUpdates.length-1];return this.playTime+v.time+(this.duration-a)/v.rate},"getLoopTime"),rate:{get:r(function(){return this.currentConfig.rate},"get"),set:r(function(a){this.currentConfig.rate=a,this.calculateRate(),this.emit(c.RATE,this,a)},"set")},setRate:r(function(a){return this.rate=a,this},"setRate"),detune:{get:r(function(){return this.currentConfig.detune},"get"),set:r(function(a){this.currentConfig.detune=a,this.calculateRate(),this.emit(c.DETUNE,this,a)},"set")},setDetune:r(function(a){return this.detune=a,this},"setDetune"),mute:{get:r(function(){return this.muteNode.gain.value===0},"get"),set:r(function(a){this.currentConfig.mute=a,this.muteNode.gain.setValueAtTime(a?0:1,0),this.emit(c.MUTE,this,a)},"set")},setMute:r(function(a){return this.mute=a,this},"setMute"),volume:{get:r(function(){return this.volumeNode.gain.value},"get"),set:r(function(a){this.currentConfig.volume=a,this.volumeNode.gain.setValueAtTime(a,0),this.emit(c.VOLUME,this,a)},"set")},setVolume:r(function(a){return this.volume=a,this},"setVolume"),seek:{get:r(function(){return this.isPlaying?this.manager.context.currentTime<this.startTime?this.startTime-this.playTime:this.getCurrentTime():this.isPaused?this.currentConfig.seek:0},"get"),set:r(function(a){this.manager.context.currentTime<this.startTime||(this.isPlaying||this.isPaused)&&(a=Math.min(Math.max(0,a),this.duration),this.currentConfig.seek=a,this.isPlaying&&(this.stopAndRemoveBufferSource(),this.createAndStartBufferSource()),this.emit(c.SEEK,this,a))},"set")},setSeek:r(function(a){return this.seek=a,this},"setSeek"),loop:{get:r(function(){return this.currentConfig.loop},"get"),set:r(function(a){this.currentConfig.loop=a,this.isPlaying&&(this.stopAndRemoveLoopBufferSource(),a&&this.createAndStartLoopBufferSource()),this.emit(c.LOOP,this,a)},"set")},setLoop:r(function(a){return this.loop=a,this},"setLoop"),pan:{get:r(function(){return this.pannerNode?this.pannerNode.pan.value:0},"get"),set:r(function(a){this.currentConfig.pan=a,this.pannerNode&&this.pannerNode.pan.setValueAtTime(a,this.manager.context.currentTime),this.emit(c.PAN,this,a)},"set")},setPan:r(function(a){return this.pan=a,this},"setPan")});n.exports=l},57490:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(53134),y=i(85034),c=i(83419),o=i(14463),l=i(8443),a=i(71741),u=i(95540),v=new c({Extends:y,initialize:r(function(p){this.context=this.createAudioContext(p),this.masterMuteNode=this.context.createGain(),this.masterVolumeNode=this.context.createGain(),this.masterMuteNode.connect(this.masterVolumeNode),this.masterVolumeNode.connect(this.context.destination),this.destination=this.masterMuteNode,this.locked=this.context.state==="suspended"&&("ontouchstart"in window||"onclick"in window),y.call(this,p),this.locked&&p.isBooted?this.unlock():p.events.once(l.BOOT,this.unlock,this)},"WebAudioSoundManager"),createAudioContext:r(function(d){var p=d.config.audio;if(p.context)return p.context.resume(),p.context;if(window.hasOwnProperty("AudioContext"))return new AudioContext;if(window.hasOwnProperty("webkitAudioContext"))return new window.webkitAudioContext},"createAudioContext"),setAudioContext:r(function(d){return this.context&&this.context.close(),this.masterMuteNode&&this.masterMuteNode.disconnect(),this.masterVolumeNode&&this.masterVolumeNode.disconnect(),this.context=d,this.masterMuteNode=d.createGain(),this.masterVolumeNode=d.createGain(),this.masterMuteNode.connect(this.masterVolumeNode),this.masterVolumeNode.connect(d.destination),this.destination=this.masterMuteNode,this},"setAudioContext"),add:r(function(d,p){var g=new a(this,d,p);return this.sounds.push(g),g},"add"),decodeAudio:r(function(d,p){var g;Array.isArray(d)?g=d:g=[{key:d,data:p}];for(var m=this.game.cache.audio,x=g.length,C=0;C<g.length;C++){var P=g[C],A=P.key,R=P.data;typeof R=="string"&&(R=f(R));var L=(function(w,b){m.add(w,b),this.emit(o.DECODED,w),x--,x===0&&this.emit(o.DECODED_ALL)}).bind(this,A),O=(function(w,b){console.error("Error decoding audio: "+w+" - ",b?b.message:""),x--,x===0&&this.emit(o.DECODED_ALL)}).bind(this,A);this.context.decodeAudioData(R,L,O)}},"decodeAudio"),setListenerPosition:r(function(d,p){return d===void 0&&(d=this.game.scale.width/2),p===void 0&&(p=this.game.scale.height/2),this.listenerPosition.set(d,p),this},"setListenerPosition"),unlock:r(function(){var d=this,p=document.body,g=r(function m(){if(d.context&&p){var x=p.removeEventListener.bind(p);d.context.resume().then(function(){x("touchstart",m),x("touchend",m),x("click",m),x("keydown",m),d.unlocked=!0},function(){x("touchstart",m),x("touchend",m),x("click",m),x("keydown",m)})}},"unlockHandler");p&&(p.addEventListener("touchstart",g,!1),p.addEventListener("touchend",g,!1),p.addEventListener("click",g,!1),p.addEventListener("keydown",g,!1))},"unlock"),onBlur:r(function(){this.locked||this.context.suspend()},"onBlur"),onFocus:r(function(){var d=this.context;d&&!this.locked&&(d.state==="suspended"||d.state==="interrupted")&&d.resume()},"onFocus"),update:r(function(d,p){var g=this.context.listener;if(g&&g.positionX!==void 0){var m=u(this.listenerPosition,"x",null),x=u(this.listenerPosition,"y",null);m&&m!==this._spatialx&&(this._spatialx=g.positionX.value=m),x&&x!==this._spatialy&&(this._spatialy=g.positionY.value=x)}y.prototype.update.call(this,d,p),this.gameLostFocus||this.onFocus()},"update"),destroy:r(function(){if(this.destination=null,this.masterVolumeNode.disconnect(),this.masterVolumeNode=null,this.masterMuteNode.disconnect(),this.masterMuteNode=null,this.game.config.audio.context)this.context.suspend();else{var d=this;this.context.close().then(function(){d.context=null})}y.prototype.destroy.call(this)},"destroy"),setMute:r(function(d){return this.mute=d,this},"setMute"),mute:{get:r(function(){return this.masterMuteNode.gain.value===0},"get"),set:r(function(d){this.masterMuteNode.gain.setValueAtTime(d?0:1,0),this.emit(o.GLOBAL_MUTE,this,d)},"set")},setVolume:r(function(d){return this.volume=d,this},"setVolume"),volume:{get:r(function(){return this.masterVolumeNode.gain.value},"get"),set:r(function(d){this.masterVolumeNode.gain.setValueAtTime(d,0),this.emit(o.GLOBAL_VOLUME,this,d)},"set")}});n.exports=v},73162:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(37105),y=i(83419),c=i(29747),o=i(19186),l=new y({initialize:r(function(u){this.parent=u,this.list=[],this.position=0,this.addCallback=c,this.removeCallback=c,this._sortKey=""},"List"),add:r(function(a,u){return u?f.Add(this.list,a):f.Add(this.list,a,0,this.addCallback,this)},"add"),addAt:r(function(a,u,v){return v?f.AddAt(this.list,a,u):f.AddAt(this.list,a,u,0,this.addCallback,this)},"addAt"),getAt:r(function(a){return this.list[a]},"getAt"),getIndex:r(function(a){return this.list.indexOf(a)},"getIndex"),sort:r(function(a,u){return a?(u===void 0&&(u=r(function(v,d){return v[a]-d[a]},"handler")),o(this.list,u),this):this},"sort"),getByName:r(function(a){return f.GetFirst(this.list,"name",a)},"getByName"),getRandom:r(function(a,u){return f.GetRandom(this.list,a,u)},"getRandom"),getFirst:r(function(a,u,v,d){return f.GetFirst(this.list,a,u,v,d)},"getFirst"),getAll:r(function(a,u,v,d){return f.GetAll(this.list,a,u,v,d)},"getAll"),count:r(function(a,u){return f.CountAllMatching(this.list,a,u)},"count"),swap:r(function(a,u){f.Swap(this.list,a,u)},"swap"),moveTo:r(function(a,u){return f.MoveTo(this.list,a,u)},"moveTo"),moveAbove:r(function(a,u){return f.MoveAbove(this.list,a,u)},"moveAbove"),moveBelow:r(function(a,u){return f.MoveBelow(this.list,a,u)},"moveBelow"),remove:r(function(a,u){return u?f.Remove(this.list,a):f.Remove(this.list,a,this.removeCallback,this)},"remove"),removeAt:r(function(a,u){return u?f.RemoveAt(this.list,a):f.RemoveAt(this.list,a,this.removeCallback,this)},"removeAt"),removeBetween:r(function(a,u,v){return v?f.RemoveBetween(this.list,a,u):f.RemoveBetween(this.list,a,u,this.removeCallback,this)},"removeBetween"),removeAll:r(function(a){for(var u=this.list.length;u--;)this.remove(this.list[u],a);return this},"removeAll"),bringToTop:r(function(a){return f.BringToTop(this.list,a)},"bringToTop"),sendToBack:r(function(a){return f.SendToBack(this.list,a)},"sendToBack"),moveUp:r(function(a){return f.MoveUp(this.list,a),a},"moveUp"),moveDown:r(function(a){return f.MoveDown(this.list,a),a},"moveDown"),reverse:r(function(){return this.list.reverse(),this},"reverse"),shuffle:r(function(){return f.Shuffle(this.list),this},"shuffle"),replace:r(function(a,u){return f.Replace(this.list,a,u)},"replace"),exists:r(function(a){return this.list.indexOf(a)>-1},"exists"),setAll:r(function(a,u,v,d){return f.SetAll(this.list,a,u,v,d),this},"setAll"),each:r(function(a,u){for(var v=[null],d=2;d<arguments.length;d++)v.push(arguments[d]);for(d=0;d<this.list.length;d++)v[0]=this.list[d],a.apply(u,v)},"each"),shutdown:r(function(){this.removeAll(),this.list=[]},"shutdown"),destroy:r(function(){this.removeAll(),this.parent=null,this.addCallback=null,this.removeCallback=null},"destroy"),length:{get:r(function(){return this.list.length},"get")},first:{get:r(function(){return this.position=0,this.list.length>0?this.list[0]:null},"get")},last:{get:r(function(){return this.list.length>0?(this.position=this.list.length-1,this.list[this.position]):null},"get")},next:{get:r(function(){return this.position<this.list.length?(this.position++,this.list[this.position]):null},"get")},previous:{get:r(function(){return this.position>0?(this.position--,this.list[this.position]):null},"get")}});n.exports=l},90330:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(83419),y=new f({initialize:r(function(o){this.entries={},this.size=0,this.setAll(o)},"Map"),setAll:r(function(c){if(Array.isArray(c))for(var o=0;o<c.length;o++)this.set(c[o][0],c[o][1]);return this},"setAll"),set:r(function(c,o){return this.has(c)||this.size++,this.entries[c]=o,this},"set"),get:r(function(c){if(this.has(c))return this.entries[c]},"get"),getArray:r(function(){var c=[],o=this.entries;for(var l in o)c.push(o[l]);return c},"getArray"),has:r(function(c){return this.entries.hasOwnProperty(c)},"has"),delete:r(function(c){return this.has(c)&&(delete this.entries[c],this.size--),this},"delete"),clear:r(function(){return Object.keys(this.entries).forEach(function(c){delete this.entries[c]},this),this.size=0,this},"clear"),keys:r(function(){return Object.keys(this.entries)},"keys"),values:r(function(){var c=[],o=this.entries;for(var l in o)c.push(o[l]);return c},"values"),dump:r(function(){var c=this.entries;console.group("Map");for(var o in c)console.log(o,c[o]);console.groupEnd()},"dump"),each:r(function(c){var o=this.entries;for(var l in o)if(c(l,o[l])===!1)break;return this},"each"),contains:r(function(c){var o=this.entries;for(var l in o)if(o[l]===c)return!0;return!1},"contains"),merge:r(function(c,o){o===void 0&&(o=!1);var l=this.entries,a=c.entries;for(var u in a)l.hasOwnProperty(u)&&o?l[u]=a[u]:this.set(u,a[u]);return this},"merge")});n.exports=y},25774:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(83419),y=i(50792),c=i(82348),o=new f({Extends:y,initialize:r(function(){y.call(this),this._pending=[],this._active=[],this._destroy=[],this._toProcess=0,this.checkQueue=!1},"ProcessQueue"),isActive:r(function(l){return this._active.indexOf(l)>-1},"isActive"),isPending:r(function(l){return this._toProcess>0&&this._pending.indexOf(l)>-1},"isPending"),isDestroying:r(function(l){return this._destroy.indexOf(l)>-1},"isDestroying"),add:r(function(l){return this.checkQueue&&this.isActive(l)&&!this.isDestroying(l)||this.isPending(l)||(this._pending.push(l),this._toProcess++),l},"add"),remove:r(function(l){if(this.isPending(l)){var a=this._pending,u=a.indexOf(l);u!==-1&&a.splice(u,1)}else this.isActive(l)&&(this._destroy.push(l),this._toProcess++);return l},"remove"),removeAll:r(function(){for(var l=this._active,a=this._destroy,u=l.length;u--;)a.push(l[u]),this._toProcess++;return this},"removeAll"),update:r(function(){if(this._toProcess===0)return this._active;var l=this._destroy,a=this._active,u,v;for(u=0;u<l.length;u++){v=l[u];var d=a.indexOf(v);d!==-1&&(a.splice(d,1),this.emit(c.PROCESS_QUEUE_REMOVE,v))}for(l.length=0,l=this._pending,u=0;u<l.length;u++)v=l[u],(!this.checkQueue||this.checkQueue&&a.indexOf(v)===-1)&&(a.push(v),this.emit(c.PROCESS_QUEUE_ADD,v));return l.length=0,this._toProcess=0,a},"update"),getActive:r(function(){return this._active},"getActive"),length:{get:r(function(){return this._active.length},"get")},destroy:r(function(){this._toProcess=0,this._pending=[],this._active=[],this._destroy=[]},"destroy")});n.exports=o},59542:(n,T,i)=>{/**
 * @author       Vladimir Agafonkin
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(43886);function y(R){if(!(this instanceof y))return new y(R);this._maxEntries=Math.max(4,R||9),this._minEntries=Math.max(2,Math.ceil(this._maxEntries*.4)),this.clear()}r(y,"rbush"),y.prototype={all:r(function(){return this._all(this.data,[])},"all"),search:r(function(R){var L=this.data,O=[],w=this.toBBox;if(!C(R,L))return O;for(var b=[],F,M,I,B;L;){for(F=0,M=L.children.length;F<M;F++)I=L.children[F],B=L.leaf?w(I):I,C(R,B)&&(L.leaf?O.push(I):x(R,B)?this._all(I,O):b.push(I));L=b.pop()}return O},"search"),collides:r(function(R){var L=this.data,O=this.toBBox;if(!C(R,L))return!1;for(var w=[],b,F,M,I;L;){for(b=0,F=L.children.length;b<F;b++)if(M=L.children[b],I=L.leaf?O(M):M,C(R,I)){if(L.leaf||x(R,I))return!0;w.push(M)}L=w.pop()}return!1},"collides"),load:r(function(R){if(!(R&&R.length))return this;if(R.length<this._minEntries){for(var L=0,O=R.length;L<O;L++)this.insert(R[L]);return this}var w=this._build(R.slice(),0,R.length-1,0);if(!this.data.children.length)this.data=w;else if(this.data.height===w.height)this._splitRoot(this.data,w);else{if(this.data.height<w.height){var b=this.data;this.data=w,w=b}this._insert(w,this.data.height-w.height-1,!0)}return this},"load"),insert:r(function(R){return R&&this._insert(R,this.data.height-1),this},"insert"),clear:r(function(){return this.data=P([]),this},"clear"),remove:r(function(R,L){if(!R)return this;for(var O=this.data,w=this.toBBox(R),b=[],F=[],M,I,B,G;O||b.length;){if(O||(O=b.pop(),I=b[b.length-1],M=F.pop(),G=!0),O.leaf&&(B=c(R,O.children,L),B!==-1))return O.children.splice(B,1),b.push(O),this._condense(b),this;!G&&!O.leaf&&x(O,w)?(b.push(O),F.push(M),M=0,I=O,O=O.children[0]):I?(M++,O=I.children[M],G=!1):O=null}return this},"remove"),toBBox:r(function(R){return R},"toBBox"),compareMinX:u,compareMinY:v,toJSON:r(function(){return this.data},"toJSON"),fromJSON:r(function(R){return this.data=R,this},"fromJSON"),_all:r(function(R,L){for(var O=[];R;)R.leaf?L.push.apply(L,R.children):O.push.apply(O,R.children),R=O.pop();return L},"_all"),_build:r(function(R,L,O,w){var b=O-L+1,F=this._maxEntries,M;if(b<=F)return M=P(R.slice(L,O+1)),o(M,this.toBBox),M;w||(w=Math.ceil(Math.log(b)/Math.log(F)),F=Math.ceil(b/Math.pow(F,w-1))),M=P([]),M.leaf=!1,M.height=w;var I=Math.ceil(b/F),B=I*Math.ceil(Math.sqrt(F)),G,N,z,H;for(A(R,L,O,B,this.compareMinX),G=L;G<=O;G+=B)for(z=Math.min(G+B-1,O),A(R,G,z,I,this.compareMinY),N=G;N<=z;N+=I)H=Math.min(N+I-1,z),M.children.push(this._build(R,N,H,w-1));return o(M,this.toBBox),M},"_build"),_chooseSubtree:r(function(R,L,O,w){for(var b,F,M,I,B,G,N,z;w.push(L),!(L.leaf||w.length-1===O);){for(N=z=1/0,b=0,F=L.children.length;b<F;b++)M=L.children[b],B=d(M),G=g(R,M)-B,G<z?(z=G,N=B<N?B:N,I=M):G===z&&B<N&&(N=B,I=M);L=I||L.children[0]}return L},"_chooseSubtree"),_insert:r(function(R,L,O){var w=this.toBBox,b=O?R:w(R),F=[],M=this._chooseSubtree(b,this.data,L,F);for(M.children.push(R),a(M,b);L>=0&&F[L].children.length>this._maxEntries;)this._split(F,L),L--;this._adjustParentBBoxes(b,F,L)},"_insert"),_split:r(function(R,L){var O=R[L],w=O.children.length,b=this._minEntries;this._chooseSplitAxis(O,b,w);var F=this._chooseSplitIndex(O,b,w),M=P(O.children.splice(F,O.children.length-F));M.height=O.height,M.leaf=O.leaf,o(O,this.toBBox),o(M,this.toBBox),L?R[L-1].children.push(M):this._splitRoot(O,M)},"_split"),_splitRoot:r(function(R,L){this.data=P([R,L]),this.data.height=R.height+1,this.data.leaf=!1,o(this.data,this.toBBox)},"_splitRoot"),_chooseSplitIndex:r(function(R,L,O){var w,b,F,M,I,B,G,N;for(B=G=1/0,w=L;w<=O-L;w++)b=l(R,0,w,this.toBBox),F=l(R,w,O,this.toBBox),M=m(b,F),I=d(b)+d(F),M<B?(B=M,N=w,G=I<G?I:G):M===B&&I<G&&(G=I,N=w);return N},"_chooseSplitIndex"),_chooseSplitAxis:r(function(R,L,O){var w=R.leaf?this.compareMinX:u,b=R.leaf?this.compareMinY:v,F=this._allDistMargin(R,L,O,w),M=this._allDistMargin(R,L,O,b);F<M&&R.children.sort(w)},"_chooseSplitAxis"),_allDistMargin:r(function(R,L,O,w){R.children.sort(w);var b=this.toBBox,F=l(R,0,L,b),M=l(R,O-L,O,b),I=p(F)+p(M),B,G;for(B=L;B<O-L;B++)G=R.children[B],a(F,R.leaf?b(G):G),I+=p(F);for(B=O-L-1;B>=L;B--)G=R.children[B],a(M,R.leaf?b(G):G),I+=p(M);return I},"_allDistMargin"),_adjustParentBBoxes:r(function(R,L,O){for(var w=O;w>=0;w--)a(L[w],R)},"_adjustParentBBoxes"),_condense:r(function(R){for(var L=R.length-1,O;L>=0;L--)R[L].children.length===0?L>0?(O=R[L-1].children,O.splice(O.indexOf(R[L]),1)):this.clear():o(R[L],this.toBBox)},"_condense"),compareMinX:r(function(R,L){return R.left-L.left},"compareMinX"),compareMinY:r(function(R,L){return R.top-L.top},"compareMinY"),toBBox:r(function(R){return{minX:R.left,minY:R.top,maxX:R.right,maxY:R.bottom}},"toBBox")};function c(R,L,O){if(!O)return L.indexOf(R);for(var w=0;w<L.length;w++)if(O(R,L[w]))return w;return-1}r(c,"findItem");function o(R,L){l(R,0,R.children.length,L,R)}r(o,"calcBBox");function l(R,L,O,w,b){b||(b=P(null)),b.minX=1/0,b.minY=1/0,b.maxX=-1/0,b.maxY=-1/0;for(var F=L,M;F<O;F++)M=R.children[F],a(b,R.leaf?w(M):M);return b}r(l,"distBBox");function a(R,L){return R.minX=Math.min(R.minX,L.minX),R.minY=Math.min(R.minY,L.minY),R.maxX=Math.max(R.maxX,L.maxX),R.maxY=Math.max(R.maxY,L.maxY),R}r(a,"extend");function u(R,L){return R.minX-L.minX}r(u,"compareNodeMinX");function v(R,L){return R.minY-L.minY}r(v,"compareNodeMinY");function d(R){return(R.maxX-R.minX)*(R.maxY-R.minY)}r(d,"bboxArea");function p(R){return R.maxX-R.minX+(R.maxY-R.minY)}r(p,"bboxMargin");function g(R,L){return(Math.max(L.maxX,R.maxX)-Math.min(L.minX,R.minX))*(Math.max(L.maxY,R.maxY)-Math.min(L.minY,R.minY))}r(g,"enlargedArea");function m(R,L){var O=Math.max(R.minX,L.minX),w=Math.max(R.minY,L.minY),b=Math.min(R.maxX,L.maxX),F=Math.min(R.maxY,L.maxY);return Math.max(0,b-O)*Math.max(0,F-w)}r(m,"intersectionArea");function x(R,L){return R.minX<=L.minX&&R.minY<=L.minY&&L.maxX<=R.maxX&&L.maxY<=R.maxY}r(x,"contains");function C(R,L){return L.minX<=R.maxX&&L.minY<=R.maxY&&L.maxX>=R.minX&&L.maxY>=R.minY}r(C,"intersects");function P(R){return{children:R,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}r(P,"createNode");function A(R,L,O,w,b){for(var F=[L,O],M;F.length;)O=F.pop(),L=F.pop(),!(O-L<=w)&&(M=L+Math.ceil((O-L)/w/2)*w,f(R,M,L,O,b),F.push(L,M,M,O))}r(A,"multiSelect"),n.exports=y},35072:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(83419),y=new f({initialize:r(function(o){if(this.entries=[],Array.isArray(o))for(var l=0;l<o.length;l++)this.set(o[l])},"Set"),set:r(function(c){return this.entries.indexOf(c)===-1&&this.entries.push(c),this},"set"),get:r(function(c,o){for(var l=0;l<this.entries.length;l++){var a=this.entries[l];if(a[c]===o)return a}},"get"),getArray:r(function(){return this.entries.slice(0)},"getArray"),delete:r(function(c){var o=this.entries.indexOf(c);return o>-1&&this.entries.splice(o,1),this},"delete"),dump:r(function(){console.group("Set");for(var c=0;c<this.entries.length;c++){var o=this.entries[c];console.log(o)}console.groupEnd()},"dump"),each:r(function(c,o){var l,a=this.entries.slice(),u=a.length;if(o)for(l=0;l<u&&c.call(o,a[l],l)!==!1;l++);else for(l=0;l<u&&c(a[l],l)!==!1;l++);return this},"each"),iterate:r(function(c,o){var l,a=this.entries.length;if(o)for(l=0;l<a&&c.call(o,this.entries[l],l)!==!1;l++);else for(l=0;l<a&&c(this.entries[l],l)!==!1;l++);return this},"iterate"),iterateLocal:r(function(c){var o,l=[];for(o=1;o<arguments.length;o++)l.push(arguments[o]);var a=this.entries.length;for(o=0;o<a;o++){var u=this.entries[o];u[c].apply(u,l)}return this},"iterateLocal"),clear:r(function(){return this.entries.length=0,this},"clear"),contains:r(function(c){return this.entries.indexOf(c)>-1},"contains"),union:r(function(c){var o=new y;return c.entries.forEach(function(l){o.set(l)}),this.entries.forEach(function(l){o.set(l)}),o},"union"),intersect:r(function(c){var o=new y;return this.entries.forEach(function(l){c.contains(l)&&o.set(l)}),o},"intersect"),difference:r(function(c){var o=new y;return this.entries.forEach(function(l){c.contains(l)||o.set(l)}),o},"difference"),size:{get:r(function(){return this.entries.length},"get"),set:r(function(c){return c<this.entries.length?this.entries.length=c:this.entries.length},"set")}});n.exports=y},86555:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(45319),y=i(83419),c=i(56583),o=i(26099),l=new y({initialize:r(function(u,v,d,p){u===void 0&&(u=0),v===void 0&&(v=u),d===void 0&&(d=0),p===void 0&&(p=null),this._width=u,this._height=v,this._parent=p,this.aspectMode=d,this.aspectRatio=v===0?1:u/v,this.minWidth=0,this.minHeight=0,this.maxWidth=Number.MAX_VALUE,this.maxHeight=Number.MAX_VALUE,this.snapTo=new o},"Size"),setAspectMode:r(function(a){return a===void 0&&(a=0),this.aspectMode=a,this.setSize(this._width,this._height)},"setAspectMode"),setSnap:r(function(a,u){return a===void 0&&(a=0),u===void 0&&(u=a),this.snapTo.set(a,u),this.setSize(this._width,this._height)},"setSnap"),setParent:r(function(a){return this._parent=a,this.setSize(this._width,this._height)},"setParent"),setMin:r(function(a,u){return a===void 0&&(a=0),u===void 0&&(u=a),this.minWidth=f(a,0,this.maxWidth),this.minHeight=f(u,0,this.maxHeight),this.setSize(this._width,this._height)},"setMin"),setMax:r(function(a,u){return a===void 0&&(a=Number.MAX_VALUE),u===void 0&&(u=a),this.maxWidth=f(a,this.minWidth,Number.MAX_VALUE),this.maxHeight=f(u,this.minHeight,Number.MAX_VALUE),this.setSize(this._width,this._height)},"setMax"),setSize:r(function(a,u){switch(a===void 0&&(a=0),u===void 0&&(u=a),this.aspectMode){case l.NONE:this._width=this.getNewWidth(c(a,this.snapTo.x)),this._height=this.getNewHeight(c(u,this.snapTo.y)),this.aspectRatio=this._height===0?1:this._width/this._height;break;case l.WIDTH_CONTROLS_HEIGHT:this._width=this.getNewWidth(c(a,this.snapTo.x)),this._height=this.getNewHeight(this._width*(1/this.aspectRatio),!1);break;case l.HEIGHT_CONTROLS_WIDTH:this._height=this.getNewHeight(c(u,this.snapTo.y)),this._width=this.getNewWidth(this._height*this.aspectRatio,!1);break;case l.FIT:this.constrain(a,u,!0);break;case l.ENVELOP:this.constrain(a,u,!1);break}return this},"setSize"),setAspectRatio:r(function(a){return this.aspectRatio=a,this.setSize(this._width,this._height)},"setAspectRatio"),resize:r(function(a,u){return this._width=this.getNewWidth(c(a,this.snapTo.x)),this._height=this.getNewHeight(c(u,this.snapTo.y)),this.aspectRatio=this._height===0?1:this._width/this._height,this},"resize"),getNewWidth:r(function(a,u){return u===void 0&&(u=!0),a=f(a,this.minWidth,this.maxWidth),u&&this._parent&&a>this._parent.width&&(a=Math.max(this.minWidth,this._parent.width)),a},"getNewWidth"),getNewHeight:r(function(a,u){return u===void 0&&(u=!0),a=f(a,this.minHeight,this.maxHeight),u&&this._parent&&a>this._parent.height&&(a=Math.max(this.minHeight,this._parent.height)),a},"getNewHeight"),constrain:r(function(a,u,v){a===void 0&&(a=0),u===void 0&&(u=a),v===void 0&&(v=!0),a=this.getNewWidth(a),u=this.getNewHeight(u);var d=this.snapTo,p=u===0?1:a/u;return v&&this.aspectRatio>p||!v&&this.aspectRatio<p?(a=c(a,d.x),u=a/this.aspectRatio,d.y>0&&(u=c(u,d.y),a=u*this.aspectRatio)):(v&&this.aspectRatio<p||!v&&this.aspectRatio>p)&&(u=c(u,d.y),a=u*this.aspectRatio,d.x>0&&(a=c(a,d.x),u=a*(1/this.aspectRatio))),this._width=a,this._height=u,this},"constrain"),fitTo:r(function(a,u){return this.constrain(a,u,!0)},"fitTo"),envelop:r(function(a,u){return this.constrain(a,u,!1)},"envelop"),setWidth:r(function(a){return this.setSize(a,this._height)},"setWidth"),setHeight:r(function(a){return this.setSize(this._width,a)},"setHeight"),toString:r(function(){return"[{ Size (width="+this._width+" height="+this._height+" aspectRatio="+this.aspectRatio+" aspectMode="+this.aspectMode+") }]"},"toString"),setCSS:r(function(a){a&&a.style&&(a.style.width=this._width+"px",a.style.height=this._height+"px")},"setCSS"),copy:r(function(a){return a.setAspectMode(this.aspectMode),a.aspectRatio=this.aspectRatio,a.setSize(this.width,this.height)},"copy"),destroy:r(function(){this._parent=null,this.snapTo=null},"destroy"),width:{get:r(function(){return this._width},"get"),set:r(function(a){this.setSize(a,this._height)},"set")},height:{get:r(function(){return this._height},"get"),set:r(function(a){this.setSize(this._width,a)},"set")}});l.NONE=0,l.WIDTH_CONTROLS_HEIGHT=1,l.HEIGHT_CONTROLS_WIDTH=2,l.FIT=3,l.ENVELOP=4,n.exports=l},15238:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="add"},56187:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="remove"},82348:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={PROCESS_QUEUE_ADD:i(15238),PROCESS_QUEUE_REMOVE:i(56187)}},41392:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={Events:i(82348),List:i(73162),Map:i(90330),ProcessQueue:i(25774),RTree:i(59542),Set:i(35072),Size:i(86555)}},57382:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(83419),y=i(45319),c=i(40987),o=i(8054),l=i(50030),a=i(79237),u=new f({Extends:a,initialize:r(function(d,p,g,m,x){a.call(this,d,p,g,m,x),this.add("__BASE",0,0,0,m,x),this._source=this.frames.__BASE.source,this.canvas=this._source.image,this.context=this.canvas.getContext("2d",{willReadFrequently:!0}),this.width=m,this.height=x,this.imageData=this.context.getImageData(0,0,m,x),this.data=null,this.imageData&&(this.data=this.imageData.data),this.pixels=null,this.buffer,this.data&&(this.imageData.data.buffer?(this.buffer=this.imageData.data.buffer,this.pixels=new Uint32Array(this.buffer)):window.ArrayBuffer?(this.buffer=new ArrayBuffer(this.imageData.data.length),this.pixels=new Uint32Array(this.buffer)):this.pixels=this.imageData.data)},"CanvasTexture"),update:r(function(){return this.imageData=this.context.getImageData(0,0,this.width,this.height),this.data=this.imageData.data,this.imageData.data.buffer?(this.buffer=this.imageData.data.buffer,this.pixels=new Uint32Array(this.buffer)):window.ArrayBuffer?(this.buffer=new ArrayBuffer(this.imageData.data.length),this.pixels=new Uint32Array(this.buffer)):this.pixels=this.imageData.data,this.manager.game.config.renderType===o.WEBGL&&this.refresh(),this},"update"),draw:r(function(v,d,p,g){return g===void 0&&(g=!0),this.context.drawImage(p,v,d),g&&this.update(),this},"draw"),drawFrame:r(function(v,d,p,g,m){p===void 0&&(p=0),g===void 0&&(g=0),m===void 0&&(m=!0);var x=this.manager.getFrame(v,d);if(x){var C=x.canvasData,P=x.cutWidth,A=x.cutHeight,R=x.source.resolution;this.context.drawImage(x.source.image,C.x,C.y,P,A,p,g,P/R,A/R),m&&this.update()}return this},"drawFrame"),setPixel:r(function(v,d,p,g,m,x){x===void 0&&(x=255),v=Math.abs(Math.floor(v)),d=Math.abs(Math.floor(d));var C=this.getIndex(v,d);if(C>-1){var P=this.context.getImageData(v,d,1,1);P.data[0]=p,P.data[1]=g,P.data[2]=m,P.data[3]=x,this.context.putImageData(P,v,d)}return this},"setPixel"),putData:r(function(v,d,p,g,m,x,C){return g===void 0&&(g=0),m===void 0&&(m=0),x===void 0&&(x=v.width),C===void 0&&(C=v.height),this.context.putImageData(v,d,p,g,m,x,C),this},"putData"),getData:r(function(v,d,p,g){v=y(Math.floor(v),0,this.width-1),d=y(Math.floor(d),0,this.height-1),p=y(p,1,this.width-v),g=y(g,1,this.height-d);var m=this.context.getImageData(v,d,p,g);return m},"getData"),getPixel:r(function(v,d,p){p||(p=new c);var g=this.getIndex(v,d);if(g>-1){var m=this.data,x=m[g+0],C=m[g+1],P=m[g+2],A=m[g+3];p.setTo(x,C,P,A)}return p},"getPixel"),getPixels:r(function(v,d,p,g){v===void 0&&(v=0),d===void 0&&(d=0),p===void 0&&(p=this.width),g===void 0&&(g=p),v=Math.abs(Math.round(v)),d=Math.abs(Math.round(d));for(var m=y(v,0,this.width),x=y(v+p,0,this.width),C=y(d,0,this.height),P=y(d+g,0,this.height),A=new c,R=[],L=C;L<P;L++){for(var O=[],w=m;w<x;w++)A=this.getPixel(w,L,A),O.push({x:w,y:L,color:A.color,alpha:A.alphaGL});R.push(O)}return R},"getPixels"),getIndex:r(function(v,d){return v=Math.abs(Math.round(v)),d=Math.abs(Math.round(d)),v<this.width&&d<this.height?(v+d*this.width)*4:-1},"getIndex"),refresh:r(function(){return this._source.update(),this},"refresh"),getCanvas:r(function(){return this.canvas},"getCanvas"),getContext:r(function(){return this.context},"getContext"),clear:r(function(v,d,p,g,m){return v===void 0&&(v=0),d===void 0&&(d=0),p===void 0&&(p=this.width),g===void 0&&(g=this.height),m===void 0&&(m=!0),this.context.clearRect(v,d,p,g),m&&this.update(),this},"clear"),setSize:r(function(v,d){return d===void 0&&(d=v),(v!==this.width||d!==this.height)&&(this.canvas.width=v,this.canvas.height=d,this._source.width=v,this._source.height=d,this._source.isPowerOf2=l(v,d),this.frames.__BASE.setSize(v,d,0,0),this.width=v,this.height=d,this.refresh()),this},"setSize"),destroy:r(function(){a.prototype.destroy.call(this),this._source=null,this.canvas=null,this.context=null,this.imageData=null,this.data=null,this.pixels=null,this.buffer=null},"destroy")});n.exports=u},81320:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(10312),y=i(71911),c=i(27919),o=i(83419),l=i(8054),a=i(4327),u=i(95540),v=i(36060),d=i(32302),p=i(79237),g=i(70554),m=new o({Extends:p,initialize:r(function(C,P,A,R){A===void 0&&(A=256),R===void 0&&(R=256),this.type="DynamicTexture";var L=C.game.renderer,O=L&&L.type===l.CANVAS,w=O?c.create2D(this,A,R):[this];p.call(this,C,P,w,A,R),this.add("__BASE",0,0,0,A,R),this.renderer=L,this.width=-1,this.height=-1,this.isDrawing=!1,this.canvas=O?w:null,this.context=O?w.getContext("2d",{willReadFrequently:!0}):null,this.dirty=!1,this.isSpriteTexture=!0,this._eraseMode=!1,this.camera=new y(0,0,A,R).setScene(C.game.scene.systemScene,!1),this.renderTarget=O?null:new d(L,A,R,1,0,!1,!0,!0,!1),this.pipeline=O?null:L.pipelines.get(v.SINGLE_PIPELINE),this.setSize(A,R)},"DynamicTexture"),setSize:r(function(x,C){C===void 0&&(C=x);var P=this.get(),A=P.source;if(x!==this.width||C!==this.height){this.canvas&&(this.canvas.width=x,this.canvas.height=C);var R=this.renderTarget;R&&(R.willResize(x,C)&&R.resize(x,C),R.texture!==A.glTexture&&this.renderer.deleteTexture(A.glTexture),this.setFromRenderTarget()),this.camera.setSize(x,C),A.width=x,A.height=C,P.setSize(x,C),this.width=x,this.height=C}else{var L=this.getSourceImage();P.cutX+x>L.width&&(x=L.width-P.cutX),P.cutY+C>L.height&&(C=L.height-P.cutY),P.setSize(x,C,P.cutX,P.cutY)}return this},"setSize"),setFromRenderTarget:r(function(){var x=this.get(),C=x.source,P=this.renderTarget;return C.isRenderTexture=!0,C.isGLTexture=!0,C.glTexture=P.texture,this},"setFromRenderTarget"),setIsSpriteTexture:r(function(x){return this.isSpriteTexture=x,this},"setIsSpriteTexture"),fill:r(function(x,C,P,A,R,L){var O=this.camera,w=this.renderer;C===void 0&&(C=1),P===void 0&&(P=0),A===void 0&&(A=0),R===void 0&&(R=this.width),L===void 0&&(L=this.height);var b=x>>16&255,F=x>>8&255,M=x&255,I=this.renderTarget;if(O.preRender(),I){I.bind(!0);var B=this.pipeline.manager.set(this.pipeline),G=w.width/I.width,N=w.height/I.height,z=I.height-(A+L);B.drawFillRect(P*G,z*N,R*G,L*N,g.getTintFromFloats(M/255,F/255,b/255,1),C),I.unbind(!0)}else{var H=this.context;w.setContext(H),H.globalCompositeOperation="source-over",H.fillStyle="rgba("+b+","+F+","+M+","+C+")",H.fillRect(P,A,R,L),w.setContext()}return this.dirty=!0,this},"fill"),clear:r(function(){if(this.dirty){var x=this.context,C=this.renderTarget;C?C.clear():x&&(x.save(),x.setTransform(1,0,0,1,0,0),x.clearRect(0,0,this.width,this.height),x.restore()),this.dirty=!1}return this},"clear"),stamp:r(function(x,C,P,A,R){P===void 0&&(P=0),A===void 0&&(A=0);var L=u(R,"alpha",1),O=u(R,"tint",16777215),w=u(R,"angle",0),b=u(R,"rotation",0),F=u(R,"scale",1),M=u(R,"scaleX",F),I=u(R,"scaleY",F),B=u(R,"originX",.5),G=u(R,"originY",.5),N=u(R,"blendMode",0),z=u(R,"erase",!1),H=u(R,"skipBatch",!1),$=this.manager.resetStamp(L,O);return $.setAngle(0),w!==0?$.setAngle(w):b!==0&&$.setRotation(b),$.setScale(M,I),$.setTexture(x,C),$.setOrigin(B,G),$.setBlendMode(N),z&&(this._eraseMode=!0),H?this.batchGameObject($,P,A):this.draw($,P,A),z&&(this._eraseMode=!1),this},"stamp"),erase:r(function(x,C,P){return this._eraseMode=!0,this.draw(x,C,P),this._eraseMode=!1,this},"erase"),draw:r(function(x,C,P,A,R){return this.beginDraw(),this.batchDraw(x,C,P,A,R),this.endDraw(),this},"draw"),drawFrame:r(function(x,C,P,A,R,L){return this.beginDraw(),this.batchDrawFrame(x,C,P,A,R,L),this.endDraw(),this},"drawFrame"),repeat:r(function(x,C,P,A,R,L,O,w,b){if(P===void 0&&(P=0),A===void 0&&(A=0),R===void 0&&(R=this.width),L===void 0&&(L=this.height),O===void 0&&(O=1),w===void 0&&(w=16777215),b===void 0&&(b=!1),x instanceof a?C=x:C=this.manager.getFrame(x,C),!C)return this;var F=this.manager.resetStamp(O,w);F.setFrame(C),F.setOrigin(0);var M=C.width,I=C.height;R=Math.floor(R),L=Math.floor(L);var B=Math.ceil(R/M),G=Math.ceil(L/I),N=B*M-R,z=G*I-L;N>0&&(N=M-N),z>0&&(z=I-z),P<0&&(B+=Math.ceil(Math.abs(P)/M)),A<0&&(G+=Math.ceil(Math.abs(A)/I));var H=P,$=A,V=!1,Y=this.manager.stampCrop.setTo(0,0,M,I);b||this.beginDraw();for(var D=0;D<G;D++){if($+I<0){$+=I;continue}for(var U=0;U<B;U++){if(V=!1,H+M<0){H+=M;continue}else H<0&&(V=!0,Y.width=M+H,Y.x=M-Y.width);$<0&&(V=!0,Y.height=I+$,Y.y=I-Y.height),N>0&&U===B-1&&(V=!0,Y.width=N),z>0&&D===G-1&&(V=!0,Y.height=z),V&&F.setCrop(Y),this.batchGameObject(F,H,$),F.isCropped=!1,Y.setTo(0,0,M,I),H+=M}H=P,$+=I}return b||this.endDraw(),this},"repeat"),beginDraw:r(function(){if(!this.isDrawing){var x=this.camera,C=this.renderer,P=this.renderTarget;x.preRender(),P?C.beginCapture(P.width,P.height):C.setContext(this.context),this.isDrawing=!0}return this},"beginDraw"),batchDraw:r(function(x,C,P,A,R){return Array.isArray(x)||(x=[x]),this.batchList(x,C,P,A,R),this},"batchDraw"),batchDrawFrame:r(function(x,C,P,A,R,L){P===void 0&&(P=0),A===void 0&&(A=0),R===void 0&&(R=1),L===void 0&&(L=16777215);var O=this.manager.getFrame(x,C);return O&&(this.renderTarget?this.pipeline.batchTextureFrame(O,P,A,L,R,this.camera.matrix,null):this.batchTextureFrame(O,P,A,R,L)),this},"batchDrawFrame"),endDraw:r(function(x){if(x===void 0&&(x=this._eraseMode),this.isDrawing){var C=this.renderer,P=this.renderTarget;if(P){var A=C.endCapture(),R=C.pipelines.setUtility();R.blitFrame(A,P,1,!1,!1,x,this.isSpriteTexture),C.resetScissor(),C.resetViewport()}else C.setContext();this.dirty=!0,this.isDrawing=!1}return this},"endDraw"),batchList:r(function(x,C,P,A,R){var L=x.length;if(L!==0)for(var O=0;O<L;O++){var w=x[O];!w||w===this||(w.renderWebGL||w.renderCanvas?this.batchGameObject(w,C,P):w.isParent||w.list?this.batchGroup(w.getChildren(),C,P):typeof w=="string"?this.batchTextureFrameKey(w,null,C,P,A,R):w instanceof a?this.batchTextureFrame(w,C,P,A,R):Array.isArray(w)&&this.batchList(w,C,P,A,R))}},"batchList"),batchGroup:r(function(x,C,P){C===void 0&&(C=0),P===void 0&&(P=0);for(var A=0;A<x.length;A++){var R=x[A];R.willRender(this.camera)&&this.batchGameObject(R,R.x+C,R.y+P)}},"batchGroup"),batchGameObject:r(function(x,C,P){C===void 0&&(C=x.x),P===void 0&&(P=x.y);var A=x.x,R=x.y,L=this.camera,O=this.renderer,w=this._eraseMode,b=x.mask;if(x.setPosition(C,P),this.canvas){if(w){var F=x.blendMode;x.blendMode=f.ERASE}b&&b.preRenderCanvas(O,x,L),x.renderCanvas(O,x,L,null),b&&b.postRenderCanvas(O,x,L),w&&(x.blendMode=F)}else O&&(b&&b.preRenderWebGL(O,x,L),w||O.setBlendMode(x.blendMode),x.renderWebGL(O,x,L),b&&b.postRenderWebGL(O,L,this.renderTarget));x.setPosition(A,R)},"batchGameObject"),batchTextureFrameKey:r(function(x,C,P,A,R,L){var O=this.manager.getFrame(x,C);O&&this.batchTextureFrame(O,P,A,R,L)},"batchTextureFrameKey"),batchTextureFrame:r(function(x,C,P,A,R){C===void 0&&(C=0),P===void 0&&(P=0),A===void 0&&(A=1),R===void 0&&(R=16777215);var L=this.camera.matrix,O=this.renderTarget;if(O)this.pipeline.batchTextureFrame(x,C,P,R,A,L,null);else{var w=this.context,b=x.canvasData,F=x.source.image;w.save(),w.globalCompositeOperation=this._eraseMode?"destination-out":"source-over",w.globalAlpha=A,L.setToContext(w),b.width>0&&b.height>0&&w.drawImage(F,b.x,b.y,b.width,b.height,C,P,b.width,b.height),w.restore()}},"batchTextureFrame"),snapshotArea:r(function(x,C,P,A,R,L,O){return this.renderTarget?this.renderer.snapshotFramebuffer(this.renderTarget.framebuffer,this.width,this.height,R,!1,x,C,P,A,L,O):this.renderer.snapshotCanvas(this.canvas,R,!1,x,C,P,A,L,O),this},"snapshotArea"),snapshot:r(function(x,C,P){return this.snapshotArea(0,0,this.width,this.height,x,C,P)},"snapshot"),snapshotPixel:r(function(x,C,P){return this.snapshotArea(x,C,1,1,P,"pixel")},"snapshotPixel"),getWebGLTexture:r(function(){if(this.renderTarget)return this.renderTarget.texture},"getWebGLTexture"),renderWebGL:r(function(x,C,P,A){var R=this.manager.resetStamp();R.setTexture(this),R.setOrigin(0),R.renderWebGL(x,R,P,A)},"renderWebGL"),renderCanvas:r(function(){},"renderCanvas"),destroy:r(function(){var x=this.manager.stamp;x&&x.texture===this&&this.manager.resetStamp(),p.prototype.destroy.call(this),c.remove(this.canvas),this.renderTarget&&this.renderTarget.destroy(),this.camera.destroy(),this.canvas=null,this.context=null,this.renderer=null},"destroy")});n.exports=m},4327:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(83419),y=i(45319),c=i(79291),o=new f({initialize:r(function(a,u,v,d,p,g,m){this.texture=a,this.name=u,this.source=a.source[v],this.sourceIndex=v,this.cutX,this.cutY,this.cutWidth,this.cutHeight,this.x=0,this.y=0,this.width,this.height,this.halfWidth,this.halfHeight,this.centerX,this.centerY,this.pivotX=0,this.pivotY=0,this.customPivot=!1,this.rotated=!1,this.autoRound=-1,this.customData={},this.u0=0,this.v0=0,this.u1=0,this.v1=0,this.data={cut:{x:0,y:0,w:0,h:0,r:0,b:0},trim:!1,sourceSize:{w:0,h:0},spriteSourceSize:{x:0,y:0,w:0,h:0,r:0,b:0},radius:0,drawImage:{x:0,y:0,width:0,height:0},is3Slice:!1,scale9:!1,scale9Borders:{x:0,y:0,w:0,h:0}},this.setSize(g,m,d,p)},"Frame"),setSize:r(function(l,a,u,v){u===void 0&&(u=0),v===void 0&&(v=0),this.cutX=u,this.cutY=v,this.cutWidth=l,this.cutHeight=a,this.width=l,this.height=a,this.halfWidth=Math.floor(l*.5),this.halfHeight=Math.floor(a*.5),this.centerX=Math.floor(l/2),this.centerY=Math.floor(a/2);var d=this.data,p=d.cut;p.x=u,p.y=v,p.w=l,p.h=a,p.r=u+l,p.b=v+a,d.sourceSize.w=l,d.sourceSize.h=a,d.spriteSourceSize.w=l,d.spriteSourceSize.h=a,d.radius=.5*Math.sqrt(l*l+a*a);var g=d.drawImage;return g.x=u,g.y=v,g.width=l,g.height=a,this.updateUVs()},"setSize"),setTrim:r(function(l,a,u,v,d,p){var g=this.data,m=g.spriteSourceSize;return g.trim=!0,g.sourceSize.w=l,g.sourceSize.h=a,m.x=u,m.y=v,m.w=d,m.h=p,m.r=u+d,m.b=v+p,this.x=u,this.y=v,this.width=d,this.height=p,this.halfWidth=d*.5,this.halfHeight=p*.5,this.centerX=Math.floor(d/2),this.centerY=Math.floor(p/2),this.updateUVs()},"setTrim"),setScale9:r(function(l,a,u,v){var d=this.data;return d.scale9=!0,d.is3Slice=a===0&&v===this.height,d.scale9Borders.x=l,d.scale9Borders.y=a,d.scale9Borders.w=u,d.scale9Borders.h=v,this},"setScale9"),setCropUVs:r(function(l,a,u,v,d,p,g){var m=this.cutX,x=this.cutY,C=this.cutWidth,P=this.cutHeight,A=this.realWidth,R=this.realHeight;a=y(a,0,A),u=y(u,0,R),v=y(v,0,A-a),d=y(d,0,R-u);var L=m+a,O=x+u,w=v,b=d,F=this.data;if(F.trim){var M=F.spriteSourceSize;v=y(v,0,C-a),d=y(d,0,P-u);var I=a+v,B=u+d,G=!(M.r<a||M.b<u||M.x>I||M.y>B);if(G){var N=Math.max(M.x,a),z=Math.max(M.y,u),H=Math.min(M.r,I)-N,$=Math.min(M.b,B)-z;w=H,b=$,p?L=m+(C-(N-M.x)-H):L=m+(N-M.x),g?O=x+(P-(z-M.y)-$):O=x+(z-M.y),a=N,u=z,v=H,d=$}else L=0,O=0,w=0,b=0}else p&&(L=m+(C-a-v)),g&&(O=x+(P-u-d));var V=this.source.width,Y=this.source.height;return l.u0=Math.max(0,L/V),l.v0=Math.max(0,O/Y),l.u1=Math.min(1,(L+w)/V),l.v1=Math.min(1,(O+b)/Y),l.x=a,l.y=u,l.cx=L,l.cy=O,l.cw=w,l.ch=b,l.width=v,l.height=d,l.flipX=p,l.flipY=g,l},"setCropUVs"),updateCropUVs:r(function(l,a,u){return this.setCropUVs(l,l.x,l.y,l.width,l.height,a,u)},"updateCropUVs"),setUVs:r(function(l,a,u,v,d,p){var g=this.data.drawImage;return g.width=l,g.height=a,this.u0=u,this.v0=v,this.u1=d,this.v1=p,this},"setUVs"),updateUVs:r(function(){var l=this.cutX,a=this.cutY,u=this.cutWidth,v=this.cutHeight,d=this.data.drawImage;d.width=u,d.height=v;var p=this.source.width,g=this.source.height;return this.u0=l/p,this.v0=a/g,this.u1=(l+u)/p,this.v1=(a+v)/g,this},"updateUVs"),updateUVsInverted:r(function(){var l=this.source.width,a=this.source.height;return this.u0=(this.cutX+this.cutHeight)/l,this.v0=this.cutY/a,this.u1=this.cutX/l,this.v1=(this.cutY+this.cutWidth)/a,this},"updateUVsInverted"),clone:r(function(){var l=new o(this.texture,this.name,this.sourceIndex);return l.cutX=this.cutX,l.cutY=this.cutY,l.cutWidth=this.cutWidth,l.cutHeight=this.cutHeight,l.x=this.x,l.y=this.y,l.width=this.width,l.height=this.height,l.halfWidth=this.halfWidth,l.halfHeight=this.halfHeight,l.centerX=this.centerX,l.centerY=this.centerY,l.rotated=this.rotated,l.data=c(!0,l.data,this.data),l.updateUVs(),l},"clone"),destroy:r(function(){this.texture=null,this.source=null,this.customData=null,this.data=null},"destroy"),glTexture:{get:r(function(){return this.source.glTexture},"get")},realWidth:{get:r(function(){return this.data.sourceSize.w},"get")},realHeight:{get:r(function(){return this.data.sourceSize.h},"get")},radius:{get:r(function(){return this.data.radius},"get")},trimmed:{get:r(function(){return this.data.trim},"get")},scale9:{get:r(function(){return this.data.scale9},"get")},is3Slice:{get:r(function(){return this.data.is3Slice},"get")},canvasData:{get:r(function(){return this.data.drawImage},"get")}});n.exports=o},79237:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(83419),y=i(4327),c=i(11876),o='Texture "%s" has no frame "%s"',l=new f({initialize:r(function(u,v,d,p,g){Array.isArray(d)||(d=[d]),this.manager=u,this.key=v,this.source=[],this.dataSource=[],this.frames={},this.customData={},this.firstFrame="__BASE",this.frameTotal=0;for(var m=0;m<d.length;m++)this.source.push(new c(this,d[m],p,g))},"Texture"),add:r(function(a,u,v,d,p,g){if(this.has(a))return null;var m=new y(this,a,u,v,d,p,g);return this.frames[a]=m,this.firstFrame==="__BASE"&&(this.firstFrame=a),this.frameTotal++,m},"add"),remove:r(function(a){if(this.has(a)){var u=this.get(a);return u.destroy(),delete this.frames[a],!0}return!1},"remove"),has:r(function(a){return this.frames.hasOwnProperty(a)},"has"),get:r(function(a){a||(a=this.firstFrame);var u=this.frames[a];return u||(console.warn(o,this.key,a),u=this.frames[this.firstFrame]),u},"get"),getTextureSourceIndex:r(function(a){for(var u=0;u<this.source.length;u++)if(this.source[u]===a)return u;return-1},"getTextureSourceIndex"),getFramesFromTextureSource:r(function(a,u){u===void 0&&(u=!1);var v=[];for(var d in this.frames)if(!(d==="__BASE"&&!u)){var p=this.frames[d];p.sourceIndex===a&&v.push(p)}return v},"getFramesFromTextureSource"),getFrameBounds:r(function(a){a===void 0&&(a=0);for(var u=this.getFramesFromTextureSource(a),v=1/0,d=1/0,p=0,g=0,m=0;m<u.length;m++){var x=u[m];x.cutX<v&&(v=x.cutX),x.cutY<d&&(d=x.cutY),x.cutX+x.cutWidth>p&&(p=x.cutX+x.cutWidth),x.cutY+x.cutHeight>g&&(g=x.cutY+x.cutHeight)}return{x:v,y:d,width:p-v,height:g-d}},"getFrameBounds"),getFrameNames:r(function(a){a===void 0&&(a=!1);var u=Object.keys(this.frames);if(!a){var v=u.indexOf("__BASE");v!==-1&&u.splice(v,1)}return u},"getFrameNames"),getSourceImage:r(function(a){(a==null||this.frameTotal===1)&&(a="__BASE");var u=this.frames[a];return u?u.source.image:(console.warn(o,this.key,a),this.frames.__BASE.source.image)},"getSourceImage"),getDataSourceImage:r(function(a){(a==null||this.frameTotal===1)&&(a="__BASE");var u=this.frames[a],v;return u?v=u.sourceIndex:(console.warn(o,this.key,a),v=this.frames.__BASE.sourceIndex),this.dataSource[v].image},"getDataSourceImage"),setDataSource:r(function(a){Array.isArray(a)||(a=[a]);for(var u=0;u<a.length;u++){var v=this.source[u];this.dataSource.push(new c(this,a[u],v.width,v.height))}},"setDataSource"),setFilter:r(function(a){var u;for(u=0;u<this.source.length;u++)this.source[u].setFilter(a);for(u=0;u<this.dataSource.length;u++)this.dataSource[u].setFilter(a)},"setFilter"),destroy:r(function(){var a,u=this.source,v=this.dataSource;for(a=0;a<u.length;a++)u[a]&&u[a].destroy();for(a=0;a<v.length;a++)v[a]&&v[a].destroy();for(var d in this.frames){var p=this.frames[d];p&&p.destroy()}this.source=[],this.dataSource=[],this.frames={},this.manager.removeKey(this.key),this.manager=null},"destroy")});n.exports=l},17130:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(27919),y=i(57382),c=i(83419),o=i(40987),l=i(8054),a=i(81320),u=i(50792),v=i(69442),d=i(4327),p=i(8443),g=i(99584),m=i(35154),x=i(88571),C=i(41212),P=i(61309),A=i(87841),R=i(79237),L=new c({Extends:u,initialize:r(function(w){u.call(this),this.game=w,this.name="TextureManager",this.list={},this._tempCanvas=f.create2D(this),this._tempContext=this._tempCanvas.getContext("2d",{willReadFrequently:!0}),this._pending=0,this.stamp,this.stampCrop=new A,this.silentWarnings=!1,w.events.once(p.BOOT,this.boot,this)},"TextureManager"),boot:r(function(){this._pending=3,this.on(v.LOAD,this.updatePending,this),this.on(v.ERROR,this.updatePending,this);var O=this.game.config;this.addBase64("__DEFAULT",O.defaultImage),this.addBase64("__MISSING",O.missingImage),this.addBase64("__WHITE",O.whiteImage),this.game.renderer&&this.game.renderer.gl&&this.addUint8Array("__NORMAL",new Uint8Array([127,127,255,255]),1,1),this.game.events.once(p.DESTROY,this.destroy,this),this.game.events.once(p.SYSTEM_READY,function(w){this.stamp=new x(w).setOrigin(0)},this)},"boot"),updatePending:r(function(){this._pending--,this._pending===0&&(this.off(v.LOAD),this.off(v.ERROR),this.emit(v.READY))},"updatePending"),checkKey:r(function(O){return this.exists(O)?(this.silentWarnings||console.error("Texture key already in use: "+O),!1):!0},"checkKey"),remove:r(function(O){if(typeof O=="string")if(this.exists(O))O=this.get(O);else return this.silentWarnings||console.warn("No texture found matching key: "+O),this;var w=O.key;return this.list.hasOwnProperty(w)&&(O.destroy(),this.emit(v.REMOVE,w),this.emit(v.REMOVE_KEY+w)),this},"remove"),removeKey:r(function(O){return this.list.hasOwnProperty(O)&&delete this.list[O],this},"removeKey"),addBase64:r(function(O,w){if(this.checkKey(O)){var b=this,F=new Image;F.onerror=function(){b.emit(v.ERROR,O)},F.onload=function(){var M=b.create(O,F);P.Image(M,0),b.emit(v.ADD,O,M),b.emit(v.ADD_KEY+O,M),b.emit(v.LOAD,O,M)},F.src=w}return this},"addBase64"),getBase64:r(function(O,w,b,F){b===void 0&&(b="image/png"),F===void 0&&(F=.92);var M="",I=this.getFrame(O,w);if(I&&(I.source.isRenderTexture||I.source.isGLTexture))this.silentWarnings||console.warn("Cannot getBase64 from WebGL Texture");else if(I){var B=I.canvasData,G=f.create2D(this,B.width,B.height),N=G.getContext("2d",{willReadFrequently:!0});B.width>0&&B.height>0&&N.drawImage(I.source.image,B.x,B.y,B.width,B.height,0,0,B.width,B.height),M=G.toDataURL(b,F),f.remove(G)}return M},"getBase64"),addImage:r(function(O,w,b){var F=null;return this.checkKey(O)&&(F=this.create(O,w),P.Image(F,0),b&&F.setDataSource(b),this.emit(v.ADD,O,F),this.emit(v.ADD_KEY+O,F)),F},"addImage"),addGLTexture:r(function(O,w){var b=null;if(this.checkKey(O)){var F=w.width,M=w.height;b=this.create(O,w,F,M),b.add("__BASE",0,0,0,F,M),this.emit(v.ADD,O,b),this.emit(v.ADD_KEY+O,b)}return b},"addGLTexture"),addCompressedTexture:r(function(O,w,b){var F=null;if(this.checkKey(O)){if(F=this.create(O,w),F.add("__BASE",0,0,0,w.width,w.height),b){var M=r(function(B,G,N){Array.isArray(N.textures)||Array.isArray(N.frames)?P.JSONArray(B,G,N):P.JSONHash(B,G,N)},"parse");if(Array.isArray(b))for(var I=0;I<b.length;I++)M(F,I,b[I]);else M(F,0,b)}this.emit(v.ADD,O,F),this.emit(v.ADD_KEY+O,F)}return F},"addCompressedTexture"),addRenderTexture:r(function(O,w){var b=null;return this.checkKey(O)&&(b=this.create(O,w),b.add("__BASE",0,0,0,w.width,w.height),this.emit(v.ADD,O,b),this.emit(v.ADD_KEY+O,b)),b},"addRenderTexture"),generate:r(function(O,w){if(this.checkKey(O)){var b=f.create(this,1,1);return w.canvas=b,g(w),this.addCanvas(O,b)}else return null},"generate"),createCanvas:r(function(O,w,b){if(w===void 0&&(w=256),b===void 0&&(b=256),this.checkKey(O)){var F=f.create(this,w,b,l.CANVAS,!0);return this.addCanvas(O,F)}return null},"createCanvas"),addCanvas:r(function(O,w,b){b===void 0&&(b=!1);var F=null;return b?F=new y(this,O,w,w.width,w.height):this.checkKey(O)&&(F=new y(this,O,w,w.width,w.height),this.list[O]=F,this.emit(v.ADD,O,F),this.emit(v.ADD_KEY+O,F)),F},"addCanvas"),addDynamicTexture:r(function(O,w,b){var F=null;return typeof O=="string"&&!this.exists(O)?F=new a(this,O,w,b):(F=O,O=F.key),this.checkKey(O)?(this.list[O]=F,this.emit(v.ADD,O,F),this.emit(v.ADD_KEY+O,F)):F=null,F},"addDynamicTexture"),addAtlas:r(function(O,w,b,F){return Array.isArray(b.textures)||Array.isArray(b.frames)?this.addAtlasJSONArray(O,w,b,F):this.addAtlasJSONHash(O,w,b,F)},"addAtlas"),addAtlasJSONArray:r(function(O,w,b,F){var M=null;if(w instanceof R?(O=w.key,M=w):this.checkKey(O)&&(M=this.create(O,w)),M){if(Array.isArray(b))for(var I=b.length===1,B=0;B<M.source.length;B++){var G=I?b[0]:b[B];P.JSONArray(M,B,G)}else P.JSONArray(M,0,b);F&&M.setDataSource(F),this.emit(v.ADD,O,M),this.emit(v.ADD_KEY+O,M)}return M},"addAtlasJSONArray"),addAtlasJSONHash:r(function(O,w,b,F){var M=null;if(w instanceof R?(O=w.key,M=w):this.checkKey(O)&&(M=this.create(O,w)),M){if(Array.isArray(b))for(var I=0;I<b.length;I++)P.JSONHash(M,I,b[I]);else P.JSONHash(M,0,b);F&&M.setDataSource(F),this.emit(v.ADD,O,M),this.emit(v.ADD_KEY+O,M)}return M},"addAtlasJSONHash"),addAtlasXML:r(function(O,w,b,F){var M=null;return w instanceof R?(O=w.key,M=w):this.checkKey(O)&&(M=this.create(O,w)),M&&(P.AtlasXML(M,0,b),F&&M.setDataSource(F),this.emit(v.ADD,O,M),this.emit(v.ADD_KEY+O,M)),M},"addAtlasXML"),addUnityAtlas:r(function(O,w,b,F){var M=null;return w instanceof R?(O=w.key,M=w):this.checkKey(O)&&(M=this.create(O,w)),M&&(P.UnityYAML(M,0,b),F&&M.setDataSource(F),this.emit(v.ADD,O,M),this.emit(v.ADD_KEY+O,M)),M},"addUnityAtlas"),addSpriteSheet:r(function(O,w,b,F){var M=null;if(w instanceof R?(O=w.key,M=w):this.checkKey(O)&&(M=this.create(O,w)),M){var I=M.source[0].width,B=M.source[0].height;P.SpriteSheet(M,0,0,0,I,B,b),F&&M.setDataSource(F),this.emit(v.ADD,O,M),this.emit(v.ADD_KEY+O,M)}return M},"addSpriteSheet"),addSpriteSheetFromAtlas:r(function(O,w){if(!this.checkKey(O))return null;var b=m(w,"atlas",null),F=m(w,"frame",null);if(!(!b||!F)){var M=this.get(b),I=M.get(F);if(I){var B=I.source.image;B||(B=I.source.glTexture);var G=this.create(O,B);return I.trimmed?P.SpriteSheetFromAtlas(G,I,w):P.SpriteSheet(G,0,I.cutX,I.cutY,I.cutWidth,I.cutHeight,w),this.emit(v.ADD,O,G),this.emit(v.ADD_KEY+O,G),G}}},"addSpriteSheetFromAtlas"),addUint8Array:r(function(O,w,b,F){if(!this.checkKey(O)||w.length/4!==b*F)return null;var M=this.create(O,w,b,F);return M.add("__BASE",0,0,0,b,F),this.emit(v.ADD,O,M),this.emit(v.ADD_KEY+O,M),M},"addUint8Array"),create:r(function(O,w,b,F){var M=null;return this.checkKey(O)&&(M=new R(this,O,w,b,F),this.list[O]=M),M},"create"),exists:r(function(O){return this.list.hasOwnProperty(O)},"exists"),get:r(function(O){return O===void 0&&(O="__DEFAULT"),this.list[O]?this.list[O]:O instanceof R?O:O instanceof d?O.texture:this.list.__MISSING},"get"),cloneFrame:r(function(O,w){if(this.list[O])return this.list[O].get(w).clone()},"cloneFrame"),getFrame:r(function(O,w){if(this.list[O])return this.list[O].get(w)},"getFrame"),parseFrame:r(function(O){if(O){if(typeof O=="string")return this.getFrame(O);if(Array.isArray(O)&&O.length===2)return this.getFrame(O[0],O[1]);if(C(O))return this.getFrame(O.key,O.frame);if(O instanceof R)return O.get();if(O instanceof d)return O}else return},"parseFrame"),getTextureKeys:r(function(){var O=[];for(var w in this.list)w!=="__DEFAULT"&&w!=="__MISSING"&&w!=="__WHITE"&&w!=="__NORMAL"&&O.push(w);return O},"getTextureKeys"),getPixel:r(function(O,w,b,F){var M=this.getFrame(b,F);if(M){O-=M.x,w-=M.y;var I=M.data.cut;if(O+=I.x,w+=I.y,O>=I.x&&O<I.r&&w>=I.y&&w<I.b){var B=this._tempContext;B.clearRect(0,0,1,1),B.drawImage(M.source.image,O,w,1,1,0,0,1,1);var G=B.getImageData(0,0,1,1);return new o(G.data[0],G.data[1],G.data[2],G.data[3])}}return null},"getPixel"),getPixelAlpha:r(function(O,w,b,F){var M=this.getFrame(b,F);if(M){O-=M.x,w-=M.y;var I=M.data.cut;if(O+=I.x,w+=I.y,O>=I.x&&O<I.r&&w>=I.y&&w<I.b){var B=this._tempContext;B.clearRect(0,0,1,1),B.drawImage(M.source.image,O,w,1,1,0,0,1,1);var G=B.getImageData(0,0,1,1);return G.data[3]}}return null},"getPixelAlpha"),setTexture:r(function(O,w,b){return this.list[w]&&(O.texture=this.list[w],O.frame=O.texture.get(b)),O},"setTexture"),renameTexture:r(function(O,w){var b=this.get(O);return b&&O!==w?(b.key=w,this.list[w]=b,delete this.list[O],!0):!1},"renameTexture"),each:r(function(O,w){for(var b=[null],F=1;F<arguments.length;F++)b.push(arguments[F]);for(var M in this.list)b[0]=this.list[M],O.apply(w,b)},"each"),resetStamp:r(function(O,w){O===void 0&&(O=1),w===void 0&&(w=16777215);var b=this.stamp;return b.setCrop(),b.setPosition(0),b.setAngle(0),b.setScale(1),b.setAlpha(O),b.setTint(w),b.setTexture("__WHITE"),b},"resetStamp"),destroy:r(function(){for(var O in this.list)this.list[O].destroy();this.list={},this.stamp.destroy(),this.game=null,this.stamp=null,f.remove(this._tempCanvas)},"destroy")});n.exports=L},11876:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(27919),y=i(83419),c=i(50030),o=i(29795),l=i(82751),a=new y({initialize:r(function(v,d,p,g,m){m===void 0&&(m=!1);var x=v.manager.game;this.renderer=x.renderer,this.texture=v,this.source=d,this.image=d.compressed?null:d,this.compressionAlgorithm=d.compressed?d.format:null,this.resolution=1,this.width=p||d.naturalWidth||d.videoWidth||d.width||0,this.height=g||d.naturalHeight||d.videoHeight||d.height||0,this.scaleMode=o.DEFAULT,this.isCanvas=d instanceof HTMLCanvasElement,this.isVideo=window.hasOwnProperty("HTMLVideoElement")&&d instanceof HTMLVideoElement,this.isRenderTexture=d.type==="RenderTexture"||d.type==="DynamicTexture",this.isGLTexture=d instanceof l,this.isPowerOf2=c(this.width,this.height),this.glTexture=null,this.flipY=m,this.init(x)},"TextureSource"),init:r(function(u){var v=this.renderer;if(v){var d=this.source;if(v.gl){var p=this.image,g=this.flipY,m=this.width,x=this.height,C=this.scaleMode;this.isCanvas?this.glTexture=v.createCanvasTexture(p,!1,g):this.isVideo?this.glTexture=v.createVideoTexture(p,!1,g):this.isRenderTexture?this.glTexture=v.createTextureFromSource(null,m,x,C):this.isGLTexture?this.glTexture=d:this.compressionAlgorithm?this.glTexture=v.createTextureFromSource(d,void 0,void 0,C):d instanceof Uint8Array?this.glTexture=v.createUint8ArrayTexture(d,m,x,C):this.glTexture=v.createTextureFromSource(p,m,x,C)}else this.isRenderTexture&&(this.image=d.canvas)}u.config.antialias||this.setFilter(1)},"init"),setFilter:r(function(u){this.renderer&&this.renderer.gl&&this.renderer.setTextureFilter(this.glTexture,u),this.scaleMode=u},"setFilter"),setFlipY:r(function(u){return u===void 0&&(u=!0),u===this.flipY?this:(this.flipY=u,this.update(),this)},"setFlipY"),update:r(function(){var u=this.renderer,v=this.image,d=this.flipY,p=u.gl;p&&this.isCanvas?u.updateCanvasTexture(v,this.glTexture,d):p&&this.isVideo&&u.updateVideoTexture(v,this.glTexture,d)},"update"),destroy:r(function(){this.glTexture&&this.renderer.deleteTexture(this.glTexture),this.isCanvas&&f.remove(this.image),this.renderer=null,this.texture=null,this.source=null,this.image=null,this.glTexture=null},"destroy")});n.exports=a},19673:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={LINEAR:0,NEAREST:1};n.exports=T},44538:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="addtexture"},63486:n=>{/**
 * @author       samme
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="addtexture-"},94851:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="onerror"},29099:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="onload"},8678:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="ready"},86415:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="removetexture"},30879:n=>{/**
 * @author       samme
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="removetexture-"},69442:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={ADD:i(44538),ADD_KEY:i(63486),ERROR:i(94851),LOAD:i(29099),READY:i(8678),REMOVE:i(86415),REMOVE_KEY:i(30879)}},27458:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(79291),y=i(19673),c={CanvasTexture:i(57382),DynamicTexture:i(81320),Events:i(69442),FilterMode:y,Frame:i(4327),Parsers:i(61309),Texture:i(79237),TextureManager:i(17130),TextureSource:i(11876)};c=f(!1,c,y),n.exports=c},89905:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i,f,y){if(!y.getElementsByTagName("TextureAtlas")){console.warn("Invalid Texture Atlas XML given");return}var c=i.source[f];i.add("__BASE",f,0,0,c.width,c.height);for(var o=y.getElementsByTagName("SubTexture"),l,a=0;a<o.length;a++){var u=o[a].attributes,v=u.name.value,d=parseInt(u.x.value,10),p=parseInt(u.y.value,10),g=parseInt(u.width.value,10),m=parseInt(u.height.value,10);if(l=i.add(v,f,d,p,g,m),u.frameX){var x=Math.abs(parseInt(u.frameX.value,10)),C=Math.abs(parseInt(u.frameY.value,10)),P=parseInt(u.frameWidth.value,10),A=parseInt(u.frameHeight.value,10);l.setTrim(g,m,x,C,P,A)}}return i},"AtlasXML");n.exports=T},72893:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i,f){var y=i.source[f];return i.add("__BASE",f,0,0,y.width,y.height),i},"Canvas");n.exports=T},4832:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i,f){var y=i.source[f];return i.add("__BASE",f,0,0,y.width,y.height),i},"Image");n.exports=T},78566:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(41786),y=r(function(c,o,l){if(!l.frames&&!l.textures){console.warn("Invalid Texture Atlas JSON Array");return}var a=c.source[o];c.add("__BASE",o,0,0,a.width,a.height);for(var u=Array.isArray(l.textures)?l.textures[o].frames:l.frames,v,d=0;d<u.length;d++){var p=u[d];if(v=c.add(p.filename,o,p.frame.x,p.frame.y,p.frame.w,p.frame.h),!v){console.warn("Invalid atlas json, frame already exists: "+p.filename);continue}p.trimmed&&v.setTrim(p.sourceSize.w,p.sourceSize.h,p.spriteSourceSize.x,p.spriteSourceSize.y,p.spriteSourceSize.w,p.spriteSourceSize.h),p.rotated&&(v.rotated=!0,v.updateUVsInverted());var g=p.anchor||p.pivot;g&&(v.customPivot=!0,v.pivotX=g.x,v.pivotY=g.y),p.scale9Borders&&v.setScale9(p.scale9Borders.x,p.scale9Borders.y,p.scale9Borders.w,p.scale9Borders.h),v.customData=f(p)}for(var m in l)m!=="frames"&&(Array.isArray(l[m])?c.customData[m]=l[m].slice(0):c.customData[m]=l[m]);return c},"JSONArray");n.exports=y},39711:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(41786),y=r(function(c,o,l){if(!l.frames){console.warn("Invalid Texture Atlas JSON Hash given, missing 'frames' Object");return}var a=c.source[o];c.add("__BASE",o,0,0,a.width,a.height);var u=l.frames,v;for(var d in u)if(u.hasOwnProperty(d)){var p=u[d];if(v=c.add(d,o,p.frame.x,p.frame.y,p.frame.w,p.frame.h),!v){console.warn("Invalid atlas json, frame already exists: "+d);continue}p.trimmed&&v.setTrim(p.sourceSize.w,p.sourceSize.h,p.spriteSourceSize.x,p.spriteSourceSize.y,p.spriteSourceSize.w,p.spriteSourceSize.h),p.rotated&&(v.rotated=!0,v.updateUVsInverted());var g=p.anchor||p.pivot;g&&(v.customPivot=!0,v.pivotX=g.x,v.pivotY=g.y),p.scale9Borders&&v.setScale9(p.scale9Borders.x,p.scale9Borders.y,p.scale9Borders.w,p.scale9Borders.h),v.customData=f(p)}for(var m in l)m!=="frames"&&(Array.isArray(l[m])?c.customData[m]=l[m].slice(0):c.customData[m]=l[m]);return c},"JSONHash");n.exports=y},31403:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2021 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i){var f=[171,75,84,88,32,49,49,187,13,10,26,10],y,c=new Uint8Array(i,0,12);for(y=0;y<c.length;y++)if(c[y]!==f[y]){console.warn("KTXParser - Invalid file format");return}var o=Uint32Array.BYTES_PER_ELEMENT,l=new DataView(i,12,13*o),a=l.getUint32(0,!0)===67305985,u=l.getUint32(1*o,a);if(u!==0){console.warn("KTXParser - Only compressed formats supported");return}var v=l.getUint32(4*o,a),d=l.getUint32(6*o,a),p=l.getUint32(7*o,a),g=Math.max(1,l.getUint32(11*o,a)),m=l.getUint32(12*o,a),x=new Array(g),C=12+13*4+m,P=d,A=p;for(y=0;y<g;y++){var R=new Int32Array(i,C,1)[0];C+=4,x[y]={data:new Uint8Array(i,C,R),width:P,height:A},P=Math.max(1,P>>1),A=Math.max(1,A>>1),C+=R}return{mipmaps:x,width:d,height:p,internalFormat:v,compressed:!0,generateMipmap:!1}},"KTXParser");n.exports=T},82038:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2021 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function T(w,b,F,M,I,B,G){return G===void 0&&(G=16),Math.floor((w+F)/I)*Math.floor((b+M)/B)*G}r(T,"GetSize");function i(w,b){return w=Math.max(w,16),b=Math.max(b,8),w*b/4}r(i,"PVRTC2bppSize");function f(w,b){return w=Math.max(w,8),b=Math.max(b,8),w*b/2}r(f,"PVRTC4bppSize");function y(w,b){return Math.ceil(w/4)*Math.ceil(b/4)*16}r(y,"BPTCSize");function c(w,b){return T(w,b,3,3,4,4,8)}r(c,"DXTEtcSmallSize");function o(w,b){return T(w,b,3,3,4,4)}r(o,"DXTEtcAstcBigSize");function l(w,b){return T(w,b,4,3,5,4)}r(l,"ATC5x4Size");function a(w,b){return T(w,b,4,4,5,5)}r(a,"ATC5x5Size");function u(w,b){return T(w,b,5,4,6,5)}r(u,"ATC6x5Size");function v(w,b){return T(w,b,5,5,6,6)}r(v,"ATC6x6Size");function d(w,b){return T(w,b,7,4,8,5)}r(d,"ATC8x5Size");function p(w,b){return T(w,b,7,5,8,6)}r(p,"ATC8x6Size");function g(w,b){return T(w,b,7,7,8,8)}r(g,"ATC8x8Size");function m(w,b){return T(w,b,9,4,10,5)}r(m,"ATC10x5Size");function x(w,b){return T(w,b,9,5,10,6)}r(x,"ATC10x6Size");function C(w,b){return T(w,b,9,7,10,8)}r(C,"ATC10x8Size");function P(w,b){return T(w,b,9,9,10,10)}r(P,"ATC10x10Size");function A(w,b){return T(w,b,11,9,12,10)}r(A,"ATC12x10Size");function R(w,b){return T(w,b,11,11,12,12)}r(R,"ATC12x12Size");var L={0:{sizeFunc:i,glFormat:[35841]},1:{sizeFunc:i,glFormat:[35843]},2:{sizeFunc:f,glFormat:[35840]},3:{sizeFunc:f,glFormat:[35842]},6:{sizeFunc:c,glFormat:[36196]},7:{sizeFunc:c,glFormat:[33776,35916]},8:{sizeFunc:o,glFormat:[33777,35917]},9:{sizeFunc:o,glFormat:[33778,35918]},11:{sizeFunc:o,glFormat:[33779,35919]},14:{sizeFunc:y,glFormat:[36494,36495]},15:{sizeFunc:y,glFormat:[36492,36493]},22:{sizeFunc:c,glFormat:[37492,37493]},23:{sizeFunc:o,glFormat:[37496,37497]},24:{sizeFunc:c,glFormat:[37494,37495]},25:{sizeFunc:c,glFormat:[37488]},26:{sizeFunc:o,glFormat:[37490]},27:{sizeFunc:o,glFormat:[37808,37840]},28:{sizeFunc:l,glFormat:[37809,37841]},29:{sizeFunc:a,glFormat:[37810,37842]},30:{sizeFunc:u,glFormat:[37811,37843]},31:{sizeFunc:v,glFormat:[37812,37844]},32:{sizeFunc:d,glFormat:[37813,37845]},33:{sizeFunc:p,glFormat:[37814,37846]},34:{sizeFunc:g,glFormat:[37815,37847]},35:{sizeFunc:m,glFormat:[37816,37848]},36:{sizeFunc:x,glFormat:[37817,37849]},37:{sizeFunc:C,glFormat:[37818,37850]},38:{sizeFunc:P,glFormat:[37819,37851]},39:{sizeFunc:A,glFormat:[37820,37852]},40:{sizeFunc:R,glFormat:[37821,37853]}},O=r(function(w){for(var b=new Uint32Array(w,0,13),F=b[0],M=F===55727696,I=M?b[2]:b[3],B=b[4],G=L[I].glFormat[B],N=L[I].sizeFunc,z=b[11],H=b[7],$=b[6],V=52+b[12],Y=new Uint8Array(w,V),D=new Array(z),U=0,W=H,k=$,X=0;X<z;X++){var K=N(W,k);D[X]={data:new Uint8Array(Y.buffer,Y.byteOffset+U,K),width:W,height:k},W=Math.max(1,W>>1),k=Math.max(1,k>>1),U+=K}return{mipmaps:D,width:H,height:$,internalFormat:G,compressed:!0,generateMipmap:!1}},"PVRParser");n.exports=O},75549:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(95540),y=r(function(c,o,l,a,u,v,d){var p=f(d,"frameWidth",null),g=f(d,"frameHeight",p);if(p===null)throw new Error("TextureManager.SpriteSheet: Invalid frameWidth given.");var m=c.source[o];c.add("__BASE",o,0,0,m.width,m.height);var x=f(d,"startFrame",0),C=f(d,"endFrame",-1),P=f(d,"margin",0),A=f(d,"spacing",0),R=Math.floor((u-P+A)/(p+A)),L=Math.floor((v-P+A)/(g+A)),O=R*L;O===0&&console.warn("SpriteSheet frame dimensions will result in zero frames for texture:",c.key),(x>O||x<-O)&&(x=0),x<0&&(x=O+x),(C===-1||C>O||C<x)&&(C=O);for(var w=P,b=P,F=0,M=0,I=0,B=0;B<O;B++){F=0,M=0;var G=w+p,N=b+g;G>u&&(F=G-u),N>v&&(M=N-v),B>=x&&B<=C&&(c.add(I,o,l+w,a+b,p-F,g-M),I++),w+=p+A,w+p>u&&(w=P,b+=g+A)}return c},"SpriteSheet");n.exports=y},47534:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(95540),y=r(function(c,o,l){var a=f(l,"frameWidth",null),u=f(l,"frameHeight",a);if(!a)throw new Error("TextureManager.SpriteSheetFromAtlas: Invalid frameWidth given.");var v=c.source[0];c.add("__BASE",0,0,0,v.width,v.height),f(l,"startFrame",0),f(l,"endFrame",-1);for(var d=f(l,"margin",0),p=f(l,"spacing",0),g=o.cutX,m=o.cutY,x=o.cutWidth,C=o.cutHeight,P=o.realWidth,A=o.realHeight,R=Math.floor((P-d+p)/(a+p)),L=Math.floor((A-d+p)/(u+p)),O=o.x,w=a-O,b=a-(P-x-O),F=o.y,M=u-F,I=u-(A-C-F),B,G=d,N=d,z=0,H=0,$=0;$<L;$++){for(var V=$===0,Y=$===L-1,D=0;D<R;D++){var U=D===0,W=D===R-1;if(B=c.add(z,H,g+G,m+N,a,u),U||V||W||Y){var k=U?O:0,X=V?F:0,K=0,Z=0;U&&(K+=a-w),W&&(K+=a-b),V&&(Z+=u-M),Y&&(Z+=u-I);var J=a-K,Q=u-Z;B.cutWidth=J,B.cutHeight=Q,B.setTrim(a,u,k,X,J,Q)}G+=p,U?G+=w:W?G+=b:G+=a,z++}G=d,N+=p,V?N+=M:Y?N+=I:N+=u}return c},"SpriteSheetFromAtlas");n.exports=y},86147:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=0,i=r(function(y,c,o,l){var a=T-l.y-l.height;y.add(o,c,l.x,a,l.width,l.height)},"addFrame"),f=r(function(y,c,o){var l=y.source[c];y.add("__BASE",c,0,0,l.width,l.height),T=l.height;for(var a=o.split(`
`),u=/^[ ]*(- )*(\w+)+[: ]+(.*)/,v="",d="",p={x:0,y:0,width:0,height:0},g=0;g<a.length;g++){var m=a[g].match(u);if(m){var x=m[1]==="- ",C=m[2],P=m[3];if(x&&(d!==v&&(i(y,c,d,p),v=d),p={x:0,y:0,width:0,height:0}),C==="name"){d=P;continue}switch(C){case"x":case"y":case"width":case"height":p[C]=parseInt(P,10);break}}}return d!==v&&i(y,c,d,p),y},"UnityYAML");n.exports=f},55222:(n,T,i)=>{/**
 * @author       Ben Richards <benjamindrichards@gmail.com>
 * @copyright    2024 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(50030),y=r(function(v){for(var d=v.mipmaps,p=1;p<d.length;p++){var g=d[p].width,m=d[p].height;if(!f(g,m))return console.warn("Mip level "+p+" is not a power-of-two size: "+g+"x"+m),!1}var x=u[v.internalFormat];return x?x(v):(console.warn("No format checker found for internal format "+v.internalFormat+". Assuming valid."),!0)},"verifyCompressedTexture");function c(v){for(var d=v.mipmaps,p=0;p<d.length;p++){var g=d[p].width,m=d[p].height;if((g<<p)%4!==0||(m<<p)%4!==0)return console.warn("BPTC, RGTC, and S3TC dimensions must be a multiple of 4 pixels, and each successive mip level must be half the size of the previous level, rounded down. Mip level "+p+" is "+g+"x"+m),!1}return!0}r(c,"check4x4");function o(){return!0}r(o,"checkAlways");function l(v){var d=v.mipmaps,p=d[0];return f(p.width,p.height)?!0:(console.warn("PVRTC base dimensions must be power of two. Base level is "+p.width+"x"+p.height),!1)}r(l,"checkPVRTC");function a(v){var d=v.mipmaps,p=d[0];return p.width%4!==0||p.height%4!==0?(console.warn("S3TC SRGB base dimensions must be a multiple of 4 pixels. Base level is "+p.width+"x"+p.height+" pixels"),!1):!0}r(a,"checkS3TCSRGB");var u={37488:o,37489:o,37490:o,37491:o,37492:o,37493:o,37494:o,37495:o,37496:o,37497:o,36196:o,37808:o,37809:o,37810:o,37811:o,37812:o,37813:o,37814:o,37815:o,37816:o,37817:o,37818:o,37819:o,37820:o,37821:o,37840:o,37841:o,37842:o,37843:o,37844:o,37845:o,37846:o,37847:o,37848:o,37849:o,37850:o,37851:o,37852:o,37853:o,36492:c,36493:c,36494:c,36495:c,36283:c,36284:c,36285:c,36286:c,35840:l,35841:l,35842:l,35843:l,33776:c,33777:c,33778:c,33779:c,35916:a,35917:a,35918:a,35919:a};n.exports=y},61309:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={AtlasXML:i(89905),Canvas:i(72893),Image:i(4832),JSONArray:i(78566),JSONHash:i(39711),KTXParser:i(31403),PVRParser:i(82038),SpriteSheet:i(75549),SpriteSheetFromAtlas:i(47534),UnityYAML:i(86147)}},80341:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={CSV:0,TILED_JSON:1,ARRAY_2D:2,WELTMEISTER:3}},16536:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(83419),y=new f({initialize:r(function(o,l,a,u,v,d,p){(a===void 0||a<=0)&&(a=32),(u===void 0||u<=0)&&(u=32),v===void 0&&(v=0),d===void 0&&(d=0),this.name=o,this.firstgid=l|0,this.imageWidth=a|0,this.imageHeight=u|0,this.imageMargin=v|0,this.imageSpacing=d|0,this.properties=p||{},this.images=[],this.total=0},"ImageCollection"),containsImageIndex:r(function(c){return c>=this.firstgid&&c<this.firstgid+this.total},"containsImageIndex"),addImage:r(function(c,o){return this.images.push({gid:c,image:o}),this.total++,this},"addImage")});n.exports=y},27462:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2021 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(83419),y=new f({initialize:r(function(o){if(this.gids=[],o!==void 0)for(var l=0;l<o.length;++l)for(var a=o[l],u=0;u<a.total;++u)this.gids[a.firstgid+u]=a;this._gids=this.gids},"ObjectHelper"),enabled:{get:r(function(){return!!this.gids},"get"),set:r(function(c){this.gids=c?this._gids:void 0},"set")},getTypeIncludingTile:r(function(c){if(c.type!==void 0&&c.type!=="")return c.type;if(!(!this.gids||c.gid===void 0)){var o=this.gids[c.gid];if(o){var l=o.getTileData(c.gid);if(l)return l.type}}},"getTypeIncludingTile"),setTextureAndFrame:r(function(c,o,l,a){if(o===null&&this.gids&&a.gid!==void 0){var u=this.gids[a.gid];u&&(o===null&&u.image!==void 0&&(o=u.image.key),l===null&&(l=a.gid-u.firstgid),c.scene.textures.getFrame(o,l)||(o=null,l=null))}c.setTexture(o,l)},"setTextureAndFrame"),setPropertiesFromTiledObject:r(function(c,o){if(this.gids!==void 0&&o.gid!==void 0){var l=this.gids[o.gid];l!==void 0&&this.setFromJSON(c,l.getTileProperties(o.gid))}this.setFromJSON(c,o.properties)},"setPropertiesFromTiledObject"),setFromJSON:r(function(c,o){if(o){if(Array.isArray(o)){for(var l=0;l<o.length;l++){var a=o[l];c[a.name]!==void 0?c[a.name]=a.value:c.setData(a.name,a.value)}return}for(var u in o)c[u]!==void 0?c[u]=o[u]:c.setData(u,o[u])}},"setFromJSON")});n.exports=y},31989:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(80341),y=i(87010),c=i(46177),o=i(49075),l=r(function(a,u,v,d,p,g,m,x){v===void 0&&(v=32),d===void 0&&(d=32),p===void 0&&(p=10),g===void 0&&(g=10),x===void 0&&(x=!1);var C=null;if(Array.isArray(m)){var P=u!==void 0?u:"map";C=c(P,f.ARRAY_2D,m,v,d,x)}else if(u!==void 0){var A=a.cache.tilemap.get(u);A?C=c(u,A.format,A.data,v,d,x):console.warn("No map data found for key "+u)}return C===null&&(C=new y({tileWidth:v,tileHeight:d,width:p,height:g})),new o(a,C)},"ParseToTilemap");n.exports=l},23029:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(83419),y=i(31401),c=i(91907),o=i(62644),l=i(93232),a=new f({Mixins:[y.AlphaSingle,y.Flip,y.Visible],initialize:r(function(v,d,p,g,m,x,C,P){this.layer=v,this.index=d,this.x=p,this.y=g,this.width=m,this.height=x,this.right,this.bottom,this.baseWidth=C!==void 0?C:m,this.baseHeight=P!==void 0?P:x,this.pixelX=0,this.pixelY=0,this.updatePixelXY(),this.properties={},this.rotation=0,this.collideLeft=!1,this.collideRight=!1,this.collideUp=!1,this.collideDown=!1,this.faceLeft=!1,this.faceRight=!1,this.faceTop=!1,this.faceBottom=!1,this.collisionCallback=void 0,this.collisionCallbackContext=this,this.tint=16777215,this.tintFill=!1,this.physics={}},"Tile"),containsPoint:r(function(u,v){return!(u<this.pixelX||v<this.pixelY||u>this.right||v>this.bottom)},"containsPoint"),copy:r(function(u){return this.index=u.index,this.alpha=u.alpha,this.properties=o(u.properties),this.visible=u.visible,this.setFlip(u.flipX,u.flipY),this.tint=u.tint,this.rotation=u.rotation,this.collideUp=u.collideUp,this.collideDown=u.collideDown,this.collideLeft=u.collideLeft,this.collideRight=u.collideRight,this.collisionCallback=u.collisionCallback,this.collisionCallbackContext=u.collisionCallbackContext,this},"copy"),getCollisionGroup:r(function(){return this.tileset?this.tileset.getTileCollisionGroup(this.index):null},"getCollisionGroup"),getTileData:r(function(){return this.tileset?this.tileset.getTileData(this.index):null},"getTileData"),getLeft:r(function(u){var v=this.tilemapLayer;if(v){var d=v.tileToWorldXY(this.x,this.y,void 0,u);return d.x}return this.x*this.baseWidth},"getLeft"),getRight:r(function(u){var v=this.tilemapLayer;return v?this.getLeft(u)+this.width*v.scaleX:this.getLeft(u)+this.width},"getRight"),getTop:r(function(u){var v=this.tilemapLayer;if(v){var d=v.tileToWorldXY(this.x,this.y,void 0,u);return d.y}return this.y*this.baseWidth-(this.height-this.baseHeight)},"getTop"),getBottom:r(function(u){var v=this.tilemapLayer;return v?this.getTop(u)+this.height*v.scaleY:this.getTop(u)+this.height},"getBottom"),getBounds:r(function(u,v){return v===void 0&&(v=new l),v.x=this.getLeft(u),v.y=this.getTop(u),v.width=this.getRight(u)-v.x,v.height=this.getBottom(u)-v.y,v},"getBounds"),getCenterX:r(function(u){return(this.getLeft(u)+this.getRight(u))/2},"getCenterX"),getCenterY:r(function(u){return(this.getTop(u)+this.getBottom(u))/2},"getCenterY"),intersects:r(function(u,v,d,p){return!(d<=this.pixelX||p<=this.pixelY||u>=this.right||v>=this.bottom)},"intersects"),isInteresting:r(function(u,v){return u&&v?this.canCollide||this.hasInterestingFace:u?this.collides:v?this.hasInterestingFace:!1},"isInteresting"),resetCollision:r(function(u){if(u===void 0&&(u=!0),this.collideLeft=!1,this.collideRight=!1,this.collideUp=!1,this.collideDown=!1,this.faceTop=!1,this.faceBottom=!1,this.faceLeft=!1,this.faceRight=!1,u){var v=this.tilemapLayer;v&&this.tilemapLayer.calculateFacesAt(this.x,this.y)}return this},"resetCollision"),resetFaces:r(function(){return this.faceTop=!1,this.faceBottom=!1,this.faceLeft=!1,this.faceRight=!1,this},"resetFaces"),setCollision:r(function(u,v,d,p,g){if(v===void 0&&(v=u),d===void 0&&(d=u),p===void 0&&(p=u),g===void 0&&(g=!0),this.collideLeft=u,this.collideRight=v,this.collideUp=d,this.collideDown=p,this.faceLeft=u,this.faceRight=v,this.faceTop=d,this.faceBottom=p,g){var m=this.tilemapLayer;m&&this.tilemapLayer.calculateFacesAt(this.x,this.y)}return this},"setCollision"),setCollisionCallback:r(function(u,v){return u===null?(this.collisionCallback=void 0,this.collisionCallbackContext=void 0):(this.collisionCallback=u,this.collisionCallbackContext=v),this},"setCollisionCallback"),setSize:r(function(u,v,d,p){return u!==void 0&&(this.width=u),v!==void 0&&(this.height=v),d!==void 0&&(this.baseWidth=d),p!==void 0&&(this.baseHeight=p),this.updatePixelXY(),this},"setSize"),updatePixelXY:r(function(){var u=this.layer.orientation;if(u===c.ORTHOGONAL)this.pixelX=this.x*this.baseWidth,this.pixelY=this.y*this.baseHeight;else if(u===c.ISOMETRIC)this.pixelX=(this.x-this.y)*this.baseWidth*.5,this.pixelY=(this.x+this.y)*this.baseHeight*.5;else if(u===c.STAGGERED)this.pixelX=this.x*this.baseWidth+this.y%2*(this.baseWidth/2),this.pixelY=this.y*(this.baseHeight/2);else if(u===c.HEXAGONAL){var v=this.layer.staggerAxis,d=this.layer.staggerIndex,p=this.layer.hexSideLength,g,m;v==="y"?(m=(this.baseHeight-p)/2+p,d==="odd"?this.pixelX=this.x*this.baseWidth+this.y%2*(this.baseWidth/2):this.pixelX=this.x*this.baseWidth-this.y%2*(this.baseWidth/2),this.pixelY=this.y*m):v==="x"&&(g=(this.baseWidth-p)/2+p,this.pixelX=this.x*g,d==="odd"?this.pixelY=this.y*this.baseHeight+this.x%2*(this.baseHeight/2):this.pixelY=this.y*this.baseHeight-this.x%2*(this.baseHeight/2))}return this.right=this.pixelX+this.baseWidth,this.bottom=this.pixelY+this.baseHeight,this},"updatePixelXY"),destroy:r(function(){this.collisionCallback=void 0,this.collisionCallbackContext=void 0,this.properties=void 0},"destroy"),canCollide:{get:r(function(){return this.collideLeft||this.collideRight||this.collideUp||this.collideDown||this.collisionCallback!==void 0},"get")},collides:{get:r(function(){return this.collideLeft||this.collideRight||this.collideUp||this.collideDown},"get")},hasInterestingFace:{get:r(function(){return this.faceTop||this.faceBottom||this.faceLeft||this.faceRight},"get")},tileset:{get:r(function(){var u=this.layer.tilemapLayer;if(u){var v=u.gidMap[this.index];if(v)return v}return null},"get")},tilemapLayer:{get:r(function(){return this.layer.tilemapLayer},"get")},tilemap:{get:r(function(){var u=this.tilemapLayer;return u?u.tilemap:null},"get")}});n.exports=a},49075:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(84101),y=i(83419),c=i(39506),o=i(80341),l=i(95540),a=i(14977),u=i(27462),v=i(91907),d=i(36305),p=i(19133),g=i(68287),m=i(23029),x=i(81086),C=i(20442),P=i(33629),A=new y({initialize:r(function(L,O){this.scene=L,this.tileWidth=O.tileWidth,this.tileHeight=O.tileHeight,this.width=O.width,this.height=O.height,this.orientation=O.orientation,this.renderOrder=O.renderOrder,this.format=O.format,this.version=O.version,this.properties=O.properties,this.widthInPixels=O.widthInPixels,this.heightInPixels=O.heightInPixels,this.imageCollections=O.imageCollections,this.images=O.images,this.layers=O.layers,this.tiles=O.tiles,this.tilesets=O.tilesets,this.objects=O.objects,this.currentLayerIndex=0,this.hexSideLength=O.hexSideLength;var w=this.orientation;this._convert={WorldToTileXY:x.GetWorldToTileXYFunction(w),WorldToTileX:x.GetWorldToTileXFunction(w),WorldToTileY:x.GetWorldToTileYFunction(w),TileToWorldXY:x.GetTileToWorldXYFunction(w),TileToWorldX:x.GetTileToWorldXFunction(w),TileToWorldY:x.GetTileToWorldYFunction(w),GetTileCorners:x.GetTileCornersFunction(w)}},"Tilemap"),setRenderOrder:r(function(R){var L=["right-down","left-down","right-up","left-up"];return typeof R=="number"&&(R=L[R]),L.indexOf(R)>-1&&(this.renderOrder=R),this},"setRenderOrder"),addTilesetImage:r(function(R,L,O,w,b,F,M,I){if(R===void 0)return null;L==null&&(L=R);var B=this.scene.sys.textures;if(!B.exists(L))return console.warn('Texture key "%s" not found',L),null;var G=B.get(L),N=this.getTilesetIndex(R);if(N===null&&this.format===o.TILED_JSON)return console.warn('Tilemap has no tileset "%s". Its tilesets are %o',R,this.tilesets),null;var z=this.tilesets[N];return z?(z.setTileSize(O,w),z.setSpacing(b,F),z.setImage(G),z):(O===void 0&&(O=this.tileWidth),w===void 0&&(w=this.tileHeight),b===void 0&&(b=0),F===void 0&&(F=0),M===void 0&&(M=0),I===void 0&&(I={x:0,y:0}),z=new P(R,M,O,w,b,F,void 0,void 0,I),z.setImage(G),this.tilesets.push(z),this.tiles=f(this),z)},"addTilesetImage"),copy:r(function(R,L,O,w,b,F,M,I){return I=this.getLayer(I),I!==null?(x.Copy(R,L,O,w,b,F,M,I),this):null},"copy"),createBlankLayer:r(function(R,L,O,w,b,F,M,I){O===void 0&&(O=0),w===void 0&&(w=0),b===void 0&&(b=this.width),F===void 0&&(F=this.height),M===void 0&&(M=this.tileWidth),I===void 0&&(I=this.tileHeight);var B=this.getLayerIndex(R);if(B!==null)return console.warn("Invalid Tilemap Layer ID: "+R),null;for(var G=new a({name:R,tileWidth:M,tileHeight:I,width:b,height:F,orientation:this.orientation}),N,z=0;z<F;z++){N=[];for(var H=0;H<b;H++)N.push(new m(G,-1,H,z,M,I,this.tileWidth,this.tileHeight));G.data.push(N)}this.layers.push(G),this.currentLayerIndex=this.layers.length-1;var $=new C(this.scene,this,this.currentLayerIndex,L,O,w);return $.setRenderOrder(this.renderOrder),this.scene.sys.displayList.add($),$},"createBlankLayer"),createLayer:r(function(R,L,O,w){var b=this.getLayerIndex(R);if(b===null)return console.warn("Invalid Tilemap Layer ID: "+R),typeof R=="string"&&console.warn("Valid tilelayer names: %o",this.getTileLayerNames()),null;var F=this.layers[b];if(F.tilemapLayer)return console.warn("Tilemap Layer ID already exists:"+R),null;this.currentLayerIndex=b,O===void 0&&(O=F.x),w===void 0&&(w=F.y);var M=new C(this.scene,this,b,L,O,w);return M.setRenderOrder(this.renderOrder),this.scene.sys.displayList.add(M),M},"createLayer"),createFromObjects:r(function(R,L,O){O===void 0&&(O=!0);var w=[],b=this.getObjectLayer(R);if(!b)return console.warn("createFromObjects: Invalid objectLayerName given: "+R),w;var F=new u(O?this.tilesets:void 0);Array.isArray(L)||(L=[L]);for(var M=b.objects,I=0;I<L.length;I++){var B=L[I],G=l(B,"id",null),N=l(B,"gid",null),z=l(B,"name",null),H=l(B,"type",null);F.enabled=!l(B,"ignoreTileset",null);for(var $,V=[],Y=0;Y<M.length;Y++)$=M[Y],(G===null&&N===null&&z===null&&H===null||G!==null&&$.id===G||N!==null&&$.gid===N||z!==null&&$.name===z||H!==null&&F.getTypeIncludingTile($)===H)&&V.push($);for(var D=l(B,"classType",g),U=l(B,"scene",this.scene),W=l(B,"container",null),k=l(B,"key",null),X=l(B,"frame",null),K=0;K<V.length;K++){$=V[K];var Z=new D(U);if(Z.setName($.name),Z.setPosition($.x,$.y),F.setTextureAndFrame(Z,k,X,$),$.width&&(Z.displayWidth=$.width),$.height&&(Z.displayHeight=$.height),this.orientation===v.ISOMETRIC){var J=this.tileWidth/this.tileHeight,Q={x:Z.x-Z.y,y:(Z.x+Z.y)/J};Z.x=Q.x,Z.y=Q.y}var j={x:Z.originX*$.width,y:(Z.originY-($.gid?1:0))*$.height};if($.rotation){var q=c($.rotation);d(j,q),Z.rotation=q}Z.x+=j.x,Z.y+=j.y,($.flippedHorizontal!==void 0||$.flippedVertical!==void 0)&&Z.setFlip($.flippedHorizontal,$.flippedVertical),$.visible||(Z.visible=!1),F.setPropertiesFromTiledObject(Z,$),W?W.add(Z):U.add.existing(Z),w.push(Z)}}return w},"createFromObjects"),createFromTiles:r(function(R,L,O,w,b,F){return F=this.getLayer(F),F===null?null:x.CreateFromTiles(R,L,O,w,b,F)},"createFromTiles"),fill:r(function(R,L,O,w,b,F,M){return F===void 0&&(F=!0),M=this.getLayer(M),M===null?null:(x.Fill(R,L,O,w,b,F,M),this)},"fill"),filterObjects:r(function(R,L,O){if(typeof R=="string"){var w=R;if(R=this.getObjectLayer(R),!R)return console.warn("No object layer found with the name: "+w),null}return R.objects.filter(L,O)},"filterObjects"),filterTiles:r(function(R,L,O,w,b,F,M,I){return I=this.getLayer(I),I===null?null:x.FilterTiles(R,L,O,w,b,F,M,I)},"filterTiles"),findByIndex:r(function(R,L,O,w){return w=this.getLayer(w),w===null?null:x.FindByIndex(R,L,O,w)},"findByIndex"),findObject:r(function(R,L,O){if(typeof R=="string"){var w=R;if(R=this.getObjectLayer(R),!R)return console.warn("No object layer found with the name: "+w),null}return R.objects.find(L,O)||null},"findObject"),findTile:r(function(R,L,O,w,b,F,M,I){return I=this.getLayer(I),I===null?null:x.FindTile(R,L,O,w,b,F,M,I)},"findTile"),forEachTile:r(function(R,L,O,w,b,F,M,I){return I=this.getLayer(I),I===null?null:(x.ForEachTile(R,L,O,w,b,F,M,I),this)},"forEachTile"),getImageIndex:r(function(R){return this.getIndex(this.images,R)},"getImageIndex"),getImageLayerNames:r(function(){return!this.images||!Array.isArray(this.images)?[]:this.images.map(function(R){return R.name})},"getImageLayerNames"),getIndex:r(function(R,L){for(var O=0;O<R.length;O++)if(R[O].name===L)return O;return null},"getIndex"),getLayer:r(function(R){var L=this.getLayerIndex(R);return L!==null?this.layers[L]:null},"getLayer"),getObjectLayer:r(function(R){var L=this.getIndex(this.objects,R);return L!==null?this.objects[L]:null},"getObjectLayer"),getObjectLayerNames:r(function(){return!this.objects||!Array.isArray(this.objects)?[]:this.objects.map(function(R){return R.name})},"getObjectLayerNames"),getLayerIndex:r(function(R){return R===void 0?this.currentLayerIndex:typeof R=="string"?this.getLayerIndexByName(R):typeof R=="number"&&R<this.layers.length?R:R instanceof C&&R.tilemap===this?R.layerIndex:null},"getLayerIndex"),getLayerIndexByName:r(function(R){return this.getIndex(this.layers,R)},"getLayerIndexByName"),getTileAt:r(function(R,L,O,w){return w=this.getLayer(w),w===null?null:x.GetTileAt(R,L,O,w)},"getTileAt"),getTileAtWorldXY:r(function(R,L,O,w,b){return b=this.getLayer(b),b===null?null:x.GetTileAtWorldXY(R,L,O,w,b)},"getTileAtWorldXY"),getTileLayerNames:r(function(){return!this.layers||!Array.isArray(this.layers)?[]:this.layers.map(function(R){return R.name})},"getTileLayerNames"),getTilesWithin:r(function(R,L,O,w,b,F){return F=this.getLayer(F),F===null?null:x.GetTilesWithin(R,L,O,w,b,F)},"getTilesWithin"),getTilesWithinShape:r(function(R,L,O,w){return w=this.getLayer(w),w===null?null:x.GetTilesWithinShape(R,L,O,w)},"getTilesWithinShape"),getTilesWithinWorldXY:r(function(R,L,O,w,b,F,M){return M=this.getLayer(M),M===null?null:x.GetTilesWithinWorldXY(R,L,O,w,b,F,M)},"getTilesWithinWorldXY"),getTileset:r(function(R){var L=this.getIndex(this.tilesets,R);return L!==null?this.tilesets[L]:null},"getTileset"),getTilesetIndex:r(function(R){return this.getIndex(this.tilesets,R)},"getTilesetIndex"),hasTileAt:r(function(R,L,O){return O=this.getLayer(O),O===null?null:x.HasTileAt(R,L,O)},"hasTileAt"),hasTileAtWorldXY:r(function(R,L,O,w){return w=this.getLayer(w),w===null?null:x.HasTileAtWorldXY(R,L,O,w)},"hasTileAtWorldXY"),layer:{get:r(function(){return this.layers[this.currentLayerIndex]},"get"),set:r(function(R){this.setLayer(R)},"set")},putTileAt:r(function(R,L,O,w,b){return w===void 0&&(w=!0),b=this.getLayer(b),b===null?null:x.PutTileAt(R,L,O,w,b)},"putTileAt"),putTileAtWorldXY:r(function(R,L,O,w,b,F){return w===void 0&&(w=!0),F=this.getLayer(F),F===null?null:x.PutTileAtWorldXY(R,L,O,w,b,F)},"putTileAtWorldXY"),putTilesAt:r(function(R,L,O,w,b){return w===void 0&&(w=!0),b=this.getLayer(b),b===null?null:(x.PutTilesAt(R,L,O,w,b),this)},"putTilesAt"),randomize:r(function(R,L,O,w,b,F){return F=this.getLayer(F),F===null?null:(x.Randomize(R,L,O,w,b,F),this)},"randomize"),calculateFacesAt:r(function(R,L,O){return O=this.getLayer(O),O===null?null:(x.CalculateFacesAt(R,L,O),this)},"calculateFacesAt"),calculateFacesWithin:r(function(R,L,O,w,b){return b=this.getLayer(b),b===null?null:(x.CalculateFacesWithin(R,L,O,w,b),this)},"calculateFacesWithin"),removeLayer:r(function(R){var L=this.getLayerIndex(R);if(L!==null){p(this.layers,L);for(var O=L;O<this.layers.length;O++)this.layers[O].tilemapLayer&&this.layers[O].tilemapLayer.layerIndex--;return this.currentLayerIndex===L&&(this.currentLayerIndex=0),this}else return null},"removeLayer"),destroyLayer:r(function(R){var L=this.getLayerIndex(R);return L!==null?(R=this.layers[L],R.tilemapLayer.destroy(),p(this.layers,L),this.currentLayerIndex===L&&(this.currentLayerIndex=0),this):null},"destroyLayer"),removeAllLayers:r(function(){for(var R=this.layers,L=0;L<R.length;L++)R[L].tilemapLayer&&R[L].tilemapLayer.destroy(!1);return R.length=0,this.currentLayerIndex=0,this},"removeAllLayers"),removeTile:r(function(R,L,O){L===void 0&&(L=-1),O===void 0&&(O=!0);var w=[];Array.isArray(R)||(R=[R]);for(var b=0;b<R.length;b++){var F=R[b];w.push(this.removeTileAt(F.x,F.y,!0,O,F.tilemapLayer)),L>-1&&this.putTileAt(L,F.x,F.y,O,F.tilemapLayer)}return w},"removeTile"),removeTileAt:r(function(R,L,O,w,b){return O===void 0&&(O=!0),w===void 0&&(w=!0),b=this.getLayer(b),b===null?null:x.RemoveTileAt(R,L,O,w,b)},"removeTileAt"),removeTileAtWorldXY:r(function(R,L,O,w,b,F){return O===void 0&&(O=!0),w===void 0&&(w=!0),F=this.getLayer(F),F===null?null:x.RemoveTileAtWorldXY(R,L,O,w,b,F)},"removeTileAtWorldXY"),renderDebug:r(function(R,L,O){return O=this.getLayer(O),O===null?null:(this.orientation===v.ORTHOGONAL&&x.RenderDebug(R,L,O),this)},"renderDebug"),renderDebugFull:r(function(R,L){for(var O=this.layers,w=0;w<O.length;w++)x.RenderDebug(R,L,O[w]);return this},"renderDebugFull"),replaceByIndex:r(function(R,L,O,w,b,F,M){return M=this.getLayer(M),M===null?null:(x.ReplaceByIndex(R,L,O,w,b,F,M),this)},"replaceByIndex"),setCollision:r(function(R,L,O,w,b){return L===void 0&&(L=!0),O===void 0&&(O=!0),b===void 0&&(b=!0),w=this.getLayer(w),w===null?null:(x.SetCollision(R,L,O,w,b),this)},"setCollision"),setCollisionBetween:r(function(R,L,O,w,b){return O===void 0&&(O=!0),w===void 0&&(w=!0),b=this.getLayer(b),b===null?null:(x.SetCollisionBetween(R,L,O,w,b),this)},"setCollisionBetween"),setCollisionByProperty:r(function(R,L,O,w){return L===void 0&&(L=!0),O===void 0&&(O=!0),w=this.getLayer(w),w===null?null:(x.SetCollisionByProperty(R,L,O,w),this)},"setCollisionByProperty"),setCollisionByExclusion:r(function(R,L,O,w){return L===void 0&&(L=!0),O===void 0&&(O=!0),w=this.getLayer(w),w===null?null:(x.SetCollisionByExclusion(R,L,O,w),this)},"setCollisionByExclusion"),setCollisionFromCollisionGroup:r(function(R,L,O){return R===void 0&&(R=!0),L===void 0&&(L=!0),O=this.getLayer(O),O===null?null:(x.SetCollisionFromCollisionGroup(R,L,O),this)},"setCollisionFromCollisionGroup"),setTileIndexCallback:r(function(R,L,O,w){return w=this.getLayer(w),w===null?null:(x.SetTileIndexCallback(R,L,O,w),this)},"setTileIndexCallback"),setTileLocationCallback:r(function(R,L,O,w,b,F,M){return M=this.getLayer(M),M===null?null:(x.SetTileLocationCallback(R,L,O,w,b,F,M),this)},"setTileLocationCallback"),setLayer:r(function(R){var L=this.getLayerIndex(R);return L!==null&&(this.currentLayerIndex=L),this},"setLayer"),setBaseTileSize:r(function(R,L){this.tileWidth=R,this.tileHeight=L,this.widthInPixels=this.width*R,this.heightInPixels=this.height*L;for(var O=0;O<this.layers.length;O++){this.layers[O].baseTileWidth=R,this.layers[O].baseTileHeight=L;for(var w=this.layers[O].data,b=this.layers[O].width,F=this.layers[O].height,M=0;M<F;M++)for(var I=0;I<b;I++){var B=w[M][I];B!==null&&B.setSize(void 0,void 0,R,L)}}return this},"setBaseTileSize"),setLayerTileSize:r(function(R,L,O){if(O=this.getLayer(O),O===null)return this;O.tileWidth=R,O.tileHeight=L;for(var w=O.data,b=O.width,F=O.height,M=0;M<F;M++)for(var I=0;I<b;I++){var B=w[M][I];B!==null&&B.setSize(R,L)}return this},"setLayerTileSize"),shuffle:r(function(R,L,O,w,b){return b=this.getLayer(b),b===null?null:(x.Shuffle(R,L,O,w,b),this)},"shuffle"),swapByIndex:r(function(R,L,O,w,b,F,M){return M=this.getLayer(M),M===null?null:(x.SwapByIndex(R,L,O,w,b,F,M),this)},"swapByIndex"),tileToWorldX:r(function(R,L,O){return O=this.getLayer(O),O===null?null:this._convert.TileToWorldX(R,L,O)},"tileToWorldX"),tileToWorldY:r(function(R,L,O){return O=this.getLayer(O),O===null?null:this._convert.TileToWorldY(R,L,O)},"tileToWorldY"),tileToWorldXY:r(function(R,L,O,w,b){return b=this.getLayer(b),b===null?null:this._convert.TileToWorldXY(R,L,O,w,b)},"tileToWorldXY"),getTileCorners:r(function(R,L,O,w){return w=this.getLayer(w),w===null?null:this._convert.GetTileCorners(R,L,O,w)},"getTileCorners"),weightedRandomize:r(function(R,L,O,w,b,F){return F=this.getLayer(F),F===null?null:(x.WeightedRandomize(L,O,w,b,R,F),this)},"weightedRandomize"),worldToTileX:r(function(R,L,O,w){return w=this.getLayer(w),w===null?null:this._convert.WorldToTileX(R,L,O,w)},"worldToTileX"),worldToTileY:r(function(R,L,O,w){return w=this.getLayer(w),w===null?null:this._convert.WorldToTileY(R,L,O,w)},"worldToTileY"),worldToTileXY:r(function(R,L,O,w,b,F){return F=this.getLayer(F),F===null?null:this._convert.WorldToTileXY(R,L,O,w,b,F)},"worldToTileXY"),destroy:r(function(){this.removeAllLayers(),this.tiles.length=0,this.tilesets.length=0,this.objects.length=0,this.scene=null},"destroy")});n.exports=A},45939:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(44603),y=i(31989);f.register("tilemap",function(c){var o=c!==void 0?c:{};return y(this.scene,o.key,o.tileWidth,o.tileHeight,o.width,o.height,o.data,o.insertNull)})},46029:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(39429),y=i(31989);f.register("tilemap",function(c,o,l,a,u,v,d){return c===null&&(c=void 0),o===null&&(o=void 0),l===null&&(l=void 0),a===null&&(a=void 0),u===null&&(u=void 0),y(this.scene,c,o,l,a,u,v,d)})},20442:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(83419),y=i(78389),c=i(31401),o=i(95643),l=i(81086),a=i(19218),u=i(26099),v=new f({Extends:o,Mixins:[c.Alpha,c.BlendMode,c.ComputedSize,c.Depth,c.Flip,c.GetBounds,c.Mask,c.Origin,c.Pipeline,c.PostPipeline,c.Transform,c.Visible,c.ScrollFactor,y,a],initialize:r(function(p,g,m,x,C,P){o.call(this,p,"TilemapLayer"),this.isTilemap=!0,this.tilemap=g,this.layerIndex=m,this.layer=g.layers[m],this.layer.tilemapLayer=this,this.tileset=[],this.tilesDrawn=0,this.tilesTotal=this.layer.width*this.layer.height,this.culledTiles=[],this.skipCull=!1,this.cullPaddingX=1,this.cullPaddingY=1,this.cullCallback=l.GetCullTilesFunction(this.layer.orientation),this._renderOrder=0,this.gidMap=[],this.tempVec=new u,this.collisionCategory=1,this.collisionMask=1,this.setTilesets(x),this.setAlpha(this.layer.alpha),this.setPosition(C,P),this.setOrigin(0,0),this.setSize(g.tileWidth*this.layer.width,g.tileHeight*this.layer.height),this.initPipeline(),this.initPostPipeline(!1)},"TilemapLayer"),setTilesets:r(function(d){var p=[],g=[],m=this.tilemap;Array.isArray(d)||(d=[d]);for(var x=0;x<d.length;x++){var C=d[x];if(typeof C=="string"&&(C=m.getTileset(C)),C){g.push(C);for(var P=C.firstgid,A=0;A<C.total;A++)p[P+A]=C}}this.gidMap=p,this.tileset=g},"setTilesets"),setRenderOrder:r(function(d){var p=["right-down","left-down","right-up","left-up"];return typeof d=="string"&&(d=p.indexOf(d)),d>=0&&d<4&&(this._renderOrder=d),this},"setRenderOrder"),calculateFacesAt:r(function(d,p){return l.CalculateFacesAt(d,p,this.layer),this},"calculateFacesAt"),calculateFacesWithin:r(function(d,p,g,m){return l.CalculateFacesWithin(d,p,g,m,this.layer),this},"calculateFacesWithin"),createFromTiles:r(function(d,p,g,m,x){return l.CreateFromTiles(d,p,g,m,x,this.layer)},"createFromTiles"),cull:r(function(d){return this.cullCallback(this.layer,d,this.culledTiles,this._renderOrder)},"cull"),copy:r(function(d,p,g,m,x,C,P){return l.Copy(d,p,g,m,x,C,P,this.layer),this},"copy"),fill:r(function(d,p,g,m,x,C){return l.Fill(d,p,g,m,x,C,this.layer),this},"fill"),filterTiles:r(function(d,p,g,m,x,C,P){return l.FilterTiles(d,p,g,m,x,C,P,this.layer)},"filterTiles"),findByIndex:r(function(d,p,g){return l.FindByIndex(d,p,g,this.layer)},"findByIndex"),findTile:r(function(d,p,g,m,x,C,P){return l.FindTile(d,p,g,m,x,C,P,this.layer)},"findTile"),forEachTile:r(function(d,p,g,m,x,C,P){return l.ForEachTile(d,p,g,m,x,C,P,this.layer),this},"forEachTile"),setTint:r(function(d,p,g,m,x,C){d===void 0&&(d=16777215);var P=r(function(A){A.tint=d,A.tintFill=!1},"tintTile");return this.forEachTile(P,this,p,g,m,x,C)},"setTint"),setTintFill:r(function(d,p,g,m,x,C){d===void 0&&(d=16777215);var P=r(function(A){A.tint=d,A.tintFill=!0},"tintTile");return this.forEachTile(P,this,p,g,m,x,C)},"setTintFill"),getTileAt:r(function(d,p,g){return l.GetTileAt(d,p,g,this.layer)},"getTileAt"),getTileAtWorldXY:r(function(d,p,g,m){return l.GetTileAtWorldXY(d,p,g,m,this.layer)},"getTileAtWorldXY"),getIsoTileAtWorldXY:r(function(d,p,g,m,x){g===void 0&&(g=!0);var C=this.tempVec;return l.IsometricWorldToTileXY(d,p,!0,C,x,this.layer,g),this.getTileAt(C.x,C.y,m)},"getIsoTileAtWorldXY"),getTilesWithin:r(function(d,p,g,m,x){return l.GetTilesWithin(d,p,g,m,x,this.layer)},"getTilesWithin"),getTilesWithinShape:r(function(d,p,g){return l.GetTilesWithinShape(d,p,g,this.layer)},"getTilesWithinShape"),getTilesWithinWorldXY:r(function(d,p,g,m,x,C){return l.GetTilesWithinWorldXY(d,p,g,m,x,C,this.layer)},"getTilesWithinWorldXY"),hasTileAt:r(function(d,p){return l.HasTileAt(d,p,this.layer)},"hasTileAt"),hasTileAtWorldXY:r(function(d,p,g){return l.HasTileAtWorldXY(d,p,g,this.layer)},"hasTileAtWorldXY"),putTileAt:r(function(d,p,g,m){return l.PutTileAt(d,p,g,m,this.layer)},"putTileAt"),putTileAtWorldXY:r(function(d,p,g,m,x){return l.PutTileAtWorldXY(d,p,g,m,x,this.layer)},"putTileAtWorldXY"),putTilesAt:r(function(d,p,g,m){return l.PutTilesAt(d,p,g,m,this.layer),this},"putTilesAt"),randomize:r(function(d,p,g,m,x){return l.Randomize(d,p,g,m,x,this.layer),this},"randomize"),removeTileAt:r(function(d,p,g,m){return l.RemoveTileAt(d,p,g,m,this.layer)},"removeTileAt"),removeTileAtWorldXY:r(function(d,p,g,m,x){return l.RemoveTileAtWorldXY(d,p,g,m,x,this.layer)},"removeTileAtWorldXY"),renderDebug:r(function(d,p){return l.RenderDebug(d,p,this.layer),this},"renderDebug"),replaceByIndex:r(function(d,p,g,m,x,C){return l.ReplaceByIndex(d,p,g,m,x,C,this.layer),this},"replaceByIndex"),setSkipCull:r(function(d){return d===void 0&&(d=!0),this.skipCull=d,this},"setSkipCull"),setCullPadding:r(function(d,p){return d===void 0&&(d=1),p===void 0&&(p=1),this.cullPaddingX=d,this.cullPaddingY=p,this},"setCullPadding"),setCollision:r(function(d,p,g,m){return l.SetCollision(d,p,g,this.layer,m),this},"setCollision"),setCollisionBetween:r(function(d,p,g,m){return l.SetCollisionBetween(d,p,g,m,this.layer),this},"setCollisionBetween"),setCollisionByProperty:r(function(d,p,g){return l.SetCollisionByProperty(d,p,g,this.layer),this},"setCollisionByProperty"),setCollisionByExclusion:r(function(d,p,g){return l.SetCollisionByExclusion(d,p,g,this.layer),this},"setCollisionByExclusion"),setCollisionFromCollisionGroup:r(function(d,p){return l.SetCollisionFromCollisionGroup(d,p,this.layer),this},"setCollisionFromCollisionGroup"),setTileIndexCallback:r(function(d,p,g){return l.SetTileIndexCallback(d,p,g,this.layer),this},"setTileIndexCallback"),setTileLocationCallback:r(function(d,p,g,m,x,C){return l.SetTileLocationCallback(d,p,g,m,x,C,this.layer),this},"setTileLocationCallback"),shuffle:r(function(d,p,g,m){return l.Shuffle(d,p,g,m,this.layer),this},"shuffle"),swapByIndex:r(function(d,p,g,m,x,C){return l.SwapByIndex(d,p,g,m,x,C,this.layer),this},"swapByIndex"),tileToWorldX:r(function(d,p){return this.tilemap.tileToWorldX(d,p,this)},"tileToWorldX"),tileToWorldY:r(function(d,p){return this.tilemap.tileToWorldY(d,p,this)},"tileToWorldY"),tileToWorldXY:r(function(d,p,g,m){return this.tilemap.tileToWorldXY(d,p,g,m,this)},"tileToWorldXY"),getTileCorners:r(function(d,p,g){return this.tilemap.getTileCorners(d,p,g,this)},"getTileCorners"),weightedRandomize:r(function(d,p,g,m,x){return l.WeightedRandomize(p,g,m,x,d,this.layer),this},"weightedRandomize"),worldToTileX:r(function(d,p,g){return this.tilemap.worldToTileX(d,p,g,this)},"worldToTileX"),worldToTileY:r(function(d,p,g){return this.tilemap.worldToTileY(d,p,g,this)},"worldToTileY"),worldToTileXY:r(function(d,p,g,m,x){return this.tilemap.worldToTileXY(d,p,g,m,x,this)},"worldToTileXY"),destroy:r(function(d){d===void 0&&(d=!0),this.tilemap&&(this.layer.tilemapLayer===this&&(this.layer.tilemapLayer=void 0),d&&this.tilemap.removeLayer(this),this.tilemap=void 0,this.layer=void 0,this.culledTiles.length=0,this.cullCallback=null,this.gidMap=[],this.tileset=[],o.prototype.destroy.call(this))},"destroy")});n.exports=v},16153:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(61340),y=new f,c=new f,o=new f,l=r(function(a,u,v,d){var p=u.cull(v),g=p.length,m=v.alpha*u.alpha;if(!(g===0||m<=0)){var x=y,C=c,P=o;C.applyITRS(u.x,u.y,u.rotation,u.scaleX,u.scaleY),x.copyFrom(v.matrix);var A=a.currentContext,R=u.gidMap;A.save(),d?(x.multiplyWithOffset(d,-v.scrollX*u.scrollFactorX,-v.scrollY*u.scrollFactorY),C.e=u.x,C.f=u.y,x.multiply(C,P),P.copyToContext(A)):(C.e-=v.scrollX*u.scrollFactorX,C.f-=v.scrollY*u.scrollFactorY,C.copyToContext(A)),(!a.antialias||u.scaleX>1||u.scaleY>1)&&(A.imageSmoothingEnabled=!1);for(var L=0;L<g;L++){var O=p[L],w=R[O.index];if(w){var b=w.image.getSourceImage(),F=w.getTileTextureCoordinates(O.index),M=w.tileWidth,I=w.tileHeight;if(!(F===null||M===0||I===0)){var B=M*.5,G=I*.5;F.x+=w.tileOffset.x,F.y+=w.tileOffset.y,A.save(),A.translate(O.pixelX+B,O.pixelY+G),O.rotation!==0&&A.rotate(O.rotation),(O.flipX||O.flipY)&&A.scale(O.flipX?-1:1,O.flipY?-1:1),A.globalAlpha=m*O.alpha,A.drawImage(b,F.x,F.y,M,I,-B,-G,M,I),A.restore()}}}A.restore()}},"TilemapLayerCanvasRenderer");n.exports=l},19218:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(29747),y=f,c=f;y=i(99558),c=i(16153),n.exports={renderWebGL:y,renderCanvas:c}},99558:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(70554),y=r(function(c,o,l){var a=o.cull(l),u=a.length,v=l.alpha*o.alpha;if(!(u===0||v<=0)){var d=o.gidMap,p=c.pipelines.set(o.pipeline,o),g=f.getTintAppendFloatAlpha,m=o.scrollFactorX,x=o.scrollFactorY,C=o.x,P=o.y,A=o.scaleX,R=o.scaleY;c.pipelines.preBatch(o);for(var L=0;L<u;L++){var O=a[L],w=d[O.index];if(w){var b=w.getTileTextureCoordinates(O.index),F=w.tileWidth,M=w.tileHeight;if(!(!b||F===0||M===0)){var I=F*.5,B=M*.5,G=w.glTexture,N=p.setTexture2D(G,o),z=F,H=M,$=b.x,V=b.y,Y=w.tileOffset.x,D=w.tileOffset.y,U=g(O.tint,v*O.alpha);p.batchTexture(o,G,G.width,G.height,C+O.pixelX*A+(I*A-Y),P+O.pixelY*R+(B*R-D),F,M,A,R,O.rotation,O.flipX,O.flipY,m,x,I,B,$,V,z,H,U,U,U,U,O.tintFill,0,0,l,null,!0,N,!0)}}}c.pipelines.postBatch(o)}},"TilemapLayerWebGLRenderer");n.exports=y},33629:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(83419),y=i(26099),c=new f({initialize:r(function(l,a,u,v,d,p,g,m,x){(u===void 0||u<=0)&&(u=32),(v===void 0||v<=0)&&(v=32),d===void 0&&(d=0),p===void 0&&(p=0),g===void 0&&(g={}),m===void 0&&(m={}),this.name=l,this.firstgid=a,this.tileWidth=u,this.tileHeight=v,this.tileMargin=d,this.tileSpacing=p,this.tileProperties=g,this.tileData=m,this.tileOffset=new y,x!==void 0&&this.tileOffset.set(x.x,x.y),this.image=null,this.glTexture=null,this.rows=0,this.columns=0,this.total=0,this.texCoordinates=[]},"Tileset"),getTileProperties:r(function(o){return this.containsTileIndex(o)?this.tileProperties[o-this.firstgid]:null},"getTileProperties"),getTileData:r(function(o){return this.containsTileIndex(o)?this.tileData[o-this.firstgid]:null},"getTileData"),getTileCollisionGroup:r(function(o){var l=this.getTileData(o);return l&&l.objectgroup?l.objectgroup:null},"getTileCollisionGroup"),containsTileIndex:r(function(o){return o>=this.firstgid&&o<this.firstgid+this.total},"containsTileIndex"),getTileTextureCoordinates:r(function(o){return this.containsTileIndex(o)?this.texCoordinates[o-this.firstgid]:null},"getTileTextureCoordinates"),setImage:r(function(o){this.image=o;var l=o.get(),a=o.getFrameBounds();return this.glTexture=l.source.glTexture,l.width>a.width||l.height>a.height?this.updateTileData(l.width,l.height):this.updateTileData(a.width,a.height,a.x,a.y),this},"setImage"),setTileSize:r(function(o,l){return o!==void 0&&(this.tileWidth=o),l!==void 0&&(this.tileHeight=l),this.image&&this.updateTileData(this.image.source[0].width,this.image.source[0].height),this},"setTileSize"),setSpacing:r(function(o,l){return o!==void 0&&(this.tileMargin=o),l!==void 0&&(this.tileSpacing=l),this.image&&this.updateTileData(this.image.source[0].width,this.image.source[0].height),this},"setSpacing"),updateTileData:r(function(o,l,a,u){a===void 0&&(a=0),u===void 0&&(u=0);var v=(l-this.tileMargin*2+this.tileSpacing)/(this.tileHeight+this.tileSpacing),d=(o-this.tileMargin*2+this.tileSpacing)/(this.tileWidth+this.tileSpacing);(v%1!==0||d%1!==0)&&console.warn("Image tile area not tile size multiple in: "+this.name),v=Math.floor(v),d=Math.floor(d),this.rows=v,this.columns=d,this.total=v*d,this.texCoordinates.length=0;for(var p=this.tileMargin+a,g=this.tileMargin+u,m=0;m<this.rows;m++){for(var x=0;x<this.columns;x++)this.texCoordinates.push({x:p,y:g}),p+=this.tileWidth+this.tileSpacing;p=this.tileMargin+a,g+=this.tileHeight+this.tileSpacing}return this},"updateTileData")});n.exports=c},72023:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(7423),y=r(function(c,o,l){var a=f(c,o,!0,l),u=f(c,o-1,!0,l),v=f(c,o+1,!0,l),d=f(c-1,o,!0,l),p=f(c+1,o,!0,l),g=a&&a.collides;return g&&(a.faceTop=!0,a.faceBottom=!0,a.faceLeft=!0,a.faceRight=!0),u&&u.collides&&(g&&(a.faceTop=!1),u.faceBottom=!g),v&&v.collides&&(g&&(a.faceBottom=!1),v.faceTop=!g),d&&d.collides&&(g&&(a.faceLeft=!1),d.faceRight=!g),p&&p.collides&&(g&&(a.faceRight=!1),p.faceLeft=!g),a&&!a.collides&&a.resetFaces(),a},"CalculateFacesAt");n.exports=y},42573:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(7423),y=i(7386),c=r(function(o,l,a,u,v){for(var d=null,p=null,g=null,m=null,x=y(o,l,a,u,null,v),C=0;C<x.length;C++){var P=x[C];P&&(P.collides?(d=f(P.x,P.y-1,!0,v),p=f(P.x,P.y+1,!0,v),g=f(P.x-1,P.y,!0,v),m=f(P.x+1,P.y,!0,v),P.faceTop=!(d&&d.collides),P.faceBottom=!(p&&p.collides),P.faceLeft=!(g&&g.collides),P.faceRight=!(m&&m.collides)):P.resetFaces())}},"CalculateFacesWithin");n.exports=c},33528:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(26099),y=new f,c=r(function(o,l,a,u){var v=a.tilemapLayer,d=v.cullPaddingX,p=v.cullPaddingY,g=v.tilemap.tileToWorldXY(o,l,y,u,v);return g.x>u.worldView.x+v.scaleX*a.tileWidth*(-d-.5)&&g.x<u.worldView.right+v.scaleX*a.tileWidth*(d-.5)&&g.y>u.worldView.y+v.scaleY*a.tileHeight*(-p-1)&&g.y<u.worldView.bottom+v.scaleY*a.tileHeight*(p-.5)},"CheckIsoBounds");n.exports=c},1785:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(42573),y=i(7386),c=i(62991),o=i(23029),l=r(function(a,u,v,d,p,g,m,x){m===void 0&&(m=!0);var C=y(a,u,v,d,null,x),P=[];C.forEach(function(F){var M=new o(F.layer,F.index,F.x,F.y,F.width,F.height,F.baseWidth,F.baseHeight);M.copy(F),P.push(M)});for(var A=p-a,R=g-u,L=0;L<P.length;L++){var O=P[L],w=O.x+A,b=O.y+R;c(w,b,x)&&x.data[b][w]&&(O.x=w,O.y=b,O.updatePixelXY(),x.data[b][w]=O)}m&&f(p-1,g-1,v+2,d+2,x),C.length=0,P.length=0},"Copy");n.exports=l},78419:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(62644),y=i(7386),c=i(27987),o=r(function(l,a,u,v,d,p){u||(u={}),Array.isArray(l)||(l=[l]);var g=p.tilemapLayer;v||(v=g.scene),d||(d=v.cameras.main);var m=p.width,x=p.height,C=y(0,0,m,x,null,p),P=[],A,R=r(function(b,F,M){for(var I=0;I<M.length;I++){var B=M[I];b.hasOwnProperty(B)||(b[B]=F[B])}},"mergeExtras");for(A=0;A<C.length;A++){var L=C[A],O=f(u);if(l.indexOf(L.index)!==-1){var w=g.tileToWorldXY(L.x,L.y,void 0,d,p);O.x=w.x,O.y=w.y,R(O,L,["rotation","flipX","flipY","alpha","visible","tint"]),O.hasOwnProperty("origin")||(O.x+=L.width*.5,O.y+=L.height*.5),O.hasOwnProperty("useSpriteSheet")&&(O.key=L.tileset.image,O.frame=L.index-1),P.push(v.make.sprite(O))}}if(Array.isArray(a))for(A=0;A<l.length;A++)c(l[A],a[A],0,0,m,x,p);else if(a!==null)for(A=0;A<l.length;A++)c(l[A],a,0,0,m,x,p);return P},"CreateFromTiles");n.exports=o},19545:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(87841),y=i(63448),c=i(56583),o=new f,l=r(function(a,u){var v=a.tilemapLayer.tilemap,d=a.tilemapLayer,p=Math.floor(v.tileWidth*d.scaleX),g=Math.floor(v.tileHeight*d.scaleY),m=c(u.worldView.x-d.x,p,0,!0)-d.cullPaddingX,x=y(u.worldView.right-d.x,p,0,!0)+d.cullPaddingX,C=c(u.worldView.y-d.y,g,0,!0)-d.cullPaddingY,P=y(u.worldView.bottom-d.y,g,0,!0)+d.cullPaddingY;return o.setTo(m,C,x-m,P-C)},"CullBounds");n.exports=l},30003:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(19545),y=i(32483),c=r(function(o,l,a,u){a===void 0&&(a=[]),u===void 0&&(u=0),a.length=0;var v=o.tilemapLayer,d=f(o,l);return(v.skipCull||v.scrollFactorX!==1||v.scrollFactorY!==1)&&(d.left=0,d.right=o.width,d.top=0,d.bottom=o.height),y(o,d,u,a),a},"CullTiles");n.exports=c},35137:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(7386),y=i(42573),c=i(20576),o=r(function(l,a,u,v,d,p,g){for(var m=g.collideIndexes.indexOf(l)!==-1,x=f(a,u,v,d,null,g),C=0;C<x.length;C++)x[C].index=l,c(x[C],m);p&&y(a-1,u-1,v+2,d+2,g)},"Fill");n.exports=o},40253:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(7386),y=r(function(c,o,l,a,u,v,d,p){var g=f(l,a,u,v,d,p);return g.filter(c,o)},"FilterTiles");n.exports=y},52692:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i,f,y,c){f===void 0&&(f=0),y===void 0&&(y=!1);var o=0,l,a,u;if(y){for(a=c.height-1;a>=0;a--)for(l=c.width-1;l>=0;l--)if(u=c.data[a][l],u&&u.index===i){if(o===f)return u;o+=1}}else for(a=0;a<c.height;a++)for(l=0;l<c.width;l++)if(u=c.data[a][l],u&&u.index===i){if(o===f)return u;o+=1}return null},"FindByIndex");n.exports=T},66151:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(7386),y=r(function(c,o,l,a,u,v,d,p){var g=f(l,a,u,v,d,p);return g.find(c,o)||null},"FindTile");n.exports=y},97560:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(7386),y=r(function(c,o,l,a,u,v,d,p){var g=f(l,a,u,v,d,p);g.forEach(c,o)},"ForEachTile");n.exports=y},43305:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(91907),y=i(30003),c=i(9474),o=i(14018),l=i(29747),a=i(54503),u=r(function(v){return v===f.ORTHOGONAL?y:v===f.HEXAGONAL?c:v===f.STAGGERED?a:v===f.ISOMETRIC?o:l},"GetCullTilesFunction");n.exports=u},7423:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(62991),y=r(function(c,o,l,a){if(l===void 0&&(l=!1),f(c,o,a)){var u=a.data[o][c]||null;return u?u.index===-1?l?u:null:u:null}else return null},"GetTileAt");n.exports=y},60540:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(7423),y=i(26099),c=new y,o=r(function(l,a,u,v,d){return d.tilemapLayer.worldToTileXY(l,a,!0,c,v),f(c.x,c.y,u,d)},"GetTileAtWorldXY");n.exports=o},55826:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(26099),y=r(function(c,o,l,a){var u=a.baseTileWidth,v=a.baseTileHeight,d=a.tilemapLayer,p=0,g=0;d&&(l||(l=d.scene.cameras.main),p=d.x+l.scrollX*(1-d.scrollFactorX),g=d.y+l.scrollY*(1-d.scrollFactorY),u*=d.scaleX,v*=d.scaleY);var m=p+c*u,x=g+o*v;return[new f(m,x),new f(m+u,x),new f(m+u,x+v),new f(m,x+v)]},"GetTileCorners");n.exports=y},11758:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(91907),y=i(27229),c=i(29747),o=i(55826),l=r(function(a){return a===f.ORTHOGONAL?o:a===f.ISOMETRIC?c:a===f.HEXAGONAL?y:(a===f.STAGGERED,c)},"GetTileCornersFunction");n.exports=l},39167:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(91907),y=i(29747),c=i(97281),o=r(function(l){return l===f.ORTHOGONAL?c:y},"GetTileToWorldXFunction");n.exports=o},62e3:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(91907),y=i(19951),c=i(14127),o=i(29747),l=i(97202),a=i(70326),u=r(function(v){return v===f.ORTHOGONAL?a:v===f.ISOMETRIC?c:v===f.HEXAGONAL?y:v===f.STAGGERED?l:o},"GetTileToWorldXYFunction");n.exports=u},5984:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(91907),y=i(29747),c=i(28054),o=i(29650),l=r(function(a){return a===f.ORTHOGONAL?o:a===f.STAGGERED?c:y},"GetTileToWorldYFunction");n.exports=l},7386:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(95540),y=r(function(c,o,l,a,u,v){c===void 0&&(c=0),o===void 0&&(o=0),l===void 0&&(l=v.width),a===void 0&&(a=v.height),u||(u={});var d=f(u,"isNotEmpty",!1),p=f(u,"isColliding",!1),g=f(u,"hasInterestingFace",!1);c<0&&(l+=c,c=0),o<0&&(a+=o,o=0),c+l>v.width&&(l=Math.max(v.width-c,0)),o+a>v.height&&(a=Math.max(v.height-o,0));for(var m=[],x=o;x<o+a;x++)for(var C=c;C<c+l;C++){var P=v.data[x][C];if(P!==null){if(d&&P.index===-1||p&&!P.collides||g&&!P.hasInterestingFace)continue;m.push(P)}}return m},"GetTilesWithin");n.exports=y},91141:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(55738),y=i(7386),c=i(91865),o=i(29747),l=i(26099),a=r(function(g,m){return c.RectangleToTriangle(m,g)},"TriangleToRectangle"),u=new l,v=new l,d=new l,p=r(function(g,m,x,C){if(g===void 0)return[];var P=o;g instanceof f.Circle?P=c.CircleToRectangle:g instanceof f.Rectangle?P=c.RectangleToRectangle:g instanceof f.Triangle?P=a:g instanceof f.Line&&(P=c.LineToRectangle),C.tilemapLayer.worldToTileXY(g.left,g.top,!0,v,x);var A=v.x,R=v.y;C.tilemapLayer.worldToTileXY(g.right,g.bottom,!1,d,x);var L=Math.ceil(d.x),O=Math.ceil(d.y),w=Math.max(L-A,1),b=Math.max(O-R,1),F=y(A,R,w,b,m,C),M=C.tileWidth,I=C.tileHeight;C.tilemapLayer&&(M*=C.tilemapLayer.scaleX,I*=C.tilemapLayer.scaleY);for(var B=[],G=new f.Rectangle(0,0,M,I),N=0;N<F.length;N++){var z=F[N];C.tilemapLayer.tileToWorldXY(z.x,z.y,u,x),G.x=u.x,G.y=u.y,P(g,G)&&B.push(z)}return B},"GetTilesWithinShape");n.exports=p},96523:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(7386),y=i(26099),c=new y,o=new y,l=r(function(a,u,v,d,p,g,m){var x=m.tilemapLayer.tilemap._convert.WorldToTileXY;x(a,u,!0,c,g,m);var C=c.x,P=c.y;x(a+v,u+d,!1,o,g,m);var A=Math.ceil(o.x),R=Math.ceil(o.y);return f(C,P,A-C,R-P,p,m)},"GetTilesWithinWorldXY");n.exports=l},96113:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(91907),y=i(20242),c=i(10095),o=r(function(l){return l===f.ORTHOGONAL?c:y},"GetWorldToTileXFunction");n.exports=o},16926:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(91907),y=i(86625),c=i(96897),o=i(29747),l=i(15108),a=i(85896),u=r(function(v){return v===f.ORTHOGONAL?a:v===f.ISOMETRIC?c:v===f.HEXAGONAL?y:v===f.STAGGERED?l:o},"GetWorldToTileXYFunction");n.exports=u},55762:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(91907),y=i(20242),c=i(51900),o=i(63288),l=r(function(a){return a===f.ORTHOGONAL?o:a===f.STAGGERED?c:y},"GetWorldToTileYFunction");n.exports=l},45091:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(62991),y=r(function(c,o,l){if(f(c,o,l)){var a=l.data[o][c];return a!==null&&a.index>-1}else return!1},"HasTileAt");n.exports=y},24152:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(45091),y=i(26099),c=new y,o=r(function(l,a,u,v){v.tilemapLayer.worldToTileXY(l,a,!0,c,u);var d=c.x,p=c.y;return f(d,p,v)},"HasTileAtWorldXY");n.exports=o},90454:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(63448),y=i(56583),c=r(function(o,l){var a=o.tilemapLayer.tilemap,u=o.tilemapLayer,v=Math.floor(a.tileWidth*u.scaleX),d=Math.floor(a.tileHeight*u.scaleY),p=o.hexSideLength,g,m,x,C;if(o.staggerAxis==="y"){var P=(d-p)/2+p;g=y(l.worldView.x-u.x,v,0,!0)-u.cullPaddingX,m=f(l.worldView.right-u.x,v,0,!0)+u.cullPaddingX,x=y(l.worldView.y-u.y,P,0,!0)-u.cullPaddingY,C=f(l.worldView.bottom-u.y,P,0,!0)+u.cullPaddingY}else{var A=(v-p)/2+p;g=y(l.worldView.x-u.x,A,0,!0)-u.cullPaddingX,m=f(l.worldView.right-u.x,A,0,!0)+u.cullPaddingX,x=y(l.worldView.y-u.y,d,0,!0)-u.cullPaddingY,C=f(l.worldView.bottom-u.y,d,0,!0)+u.cullPaddingY}return{left:g,right:m,top:x,bottom:C}},"HexagonalCullBounds");n.exports=c},9474:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(90454),y=i(32483),c=r(function(o,l,a,u){a===void 0&&(a=[]),u===void 0&&(u=0),a.length=0;var v=o.tilemapLayer,d=f(o,l);return v.skipCull&&v.scrollFactorX===1&&v.scrollFactorY===1&&(d.left=0,d.right=o.width,d.top=0,d.bottom=o.height),y(o,d,u,a),a},"HexagonalCullTiles");n.exports=c},27229:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(19951),y=i(26099),c=new y,o=r(function(l,a,u,v){var d=v.baseTileWidth,p=v.baseTileHeight,g=v.tilemapLayer;g&&(d*=g.scaleX,p*=g.scaleY);var m=f(l,a,c,u,v),x=[],C=.5773502691896257,P,A;v.staggerAxis==="y"?(P=C*d,A=p/2):(P=d/2,A=C*p);for(var R=0;R<6;R++){var L=2*Math.PI*(.5-R)/6;x.push(new y(m.x+P*Math.cos(L),m.y+A*Math.sin(L)))}return x},"HexagonalGetTileCorners");n.exports=o},19951:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(26099),y=r(function(c,o,l,a,u){l||(l=new f);var v=u.baseTileWidth,d=u.baseTileHeight,p=u.tilemapLayer,g=0,m=0;p&&(a||(a=p.scene.cameras.main),g=p.x+a.scrollX*(1-p.scrollFactorX),m=p.y+a.scrollY*(1-p.scrollFactorY),v*=p.scaleX,d*=p.scaleY);var x=v/2,C=d/2,P,A;return u.staggerAxis==="y"?(P=g+v*c+v,A=m+1.5*o*C+C,o%2===0&&(this.staggerIndex==="odd"?P-=x:P+=x)):this.staggerAxis==="x"&&this.staggerIndex==="odd"&&(P=g+1.5*c*x+x,A=m+d*c+d,c%2===0&&(this.staggerIndex==="odd"?A-=C:A+=C)),l.set(P,A)},"HexagonalTileToWorldXY");n.exports=y},86625:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(26099),y=r(function(c,o,l,a,u,v){a||(a=new f);var d=v.baseTileWidth,p=v.baseTileHeight,g=v.tilemapLayer;g&&(u||(u=g.scene.cameras.main),c=c-(g.x+u.scrollX*(1-g.scrollFactorX)),o=o-(g.y+u.scrollY*(1-g.scrollFactorY)),d*=g.scaleX,p*=g.scaleY);var m=.5773502691896257,x=-.3333333333333333,C=0,P=.6666666666666666,A=d/2,R=p/2,L,O,w,b,F;v.staggerAxis==="y"?(L=(c-A)/(m*d),O=(o-R)/R,w=m*L+x*O,b=C*L+P*O):(L=(c-A)/A,O=(o-R)/(m*p),w=x*L+m*O,b=P*L+C*O),F=-w-b;var M=Math.round(w),I=Math.round(b),B=Math.round(F),G=Math.abs(M-w),N=Math.abs(I-b),z=Math.abs(B-F);G>N&&G>z?M=-I-B:N>z&&(I=-M-B);var H,$=I;return v.staggerIndex==="odd"?H=$%2===0?I/2+M:I/2+M-.5:H=$%2===0?I/2+M:I/2+M+.5,a.set(H,$)},"HexagonalWorldToTileXY");n.exports=y},62991:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i,f,y){return i>=0&&i<y.width&&f>=0&&f<y.height},"IsInLayerBounds");n.exports=T},14018:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(33528),y=r(function(c,o,l,a){l===void 0&&(l=[]),a===void 0&&(a=0),l.length=0;var u=c.tilemapLayer,v=c.data,d=c.width,p=c.height,g=u.skipCull,m=0,x=d,C=0,P=p,A,R,L;if(a===0)for(R=C;R<P;R++)for(A=m;A<x;A++)L=v[R][A],!(!L||L.index===-1||!L.visible||L.alpha===0)&&(!g&&!f(A,R,c,o)||l.push(L));else if(a===1)for(R=C;R<P;R++)for(A=x;A>=m;A--)L=v[R][A],!(!L||L.index===-1||!L.visible||L.alpha===0)&&(!g&&!f(A,R,c,o)||l.push(L));else if(a===2)for(R=P;R>=C;R--)for(A=m;A<x;A++)L=v[R][A],!(!L||L.index===-1||!L.visible||L.alpha===0)&&(!g&&!f(A,R,c,o)||l.push(L));else if(a===3)for(R=P;R>=C;R--)for(A=x;A>=m;A--)L=v[R][A],!(!L||L.index===-1||!L.visible||L.alpha===0)&&(!g&&!f(A,R,c,o)||l.push(L));return u.tilesDrawn=l.length,u.tilesTotal=d*p,l},"IsometricCullTiles");n.exports=y},14127:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(26099),y=r(function(c,o,l,a,u){l||(l=new f);var v=u.baseTileWidth,d=u.baseTileHeight,p=u.tilemapLayer,g=0,m=0;p&&(a||(a=p.scene.cameras.main),g=p.x+a.scrollX*(1-p.scrollFactorX),v*=p.scaleX,m=p.y+a.scrollY*(1-p.scrollFactorY),d*=p.scaleY);var x=g+(c-o)*(v/2),C=m+(c+o)*(d/2);return l.set(x,C)},"IsometricTileToWorldXY");n.exports=y},96897:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(26099),y=r(function(c,o,l,a,u,v,d){a||(a=new f);var p=v.baseTileWidth,g=v.baseTileHeight,m=v.tilemapLayer;m&&(u||(u=m.scene.cameras.main),o=o-(m.y+u.scrollY*(1-m.scrollFactorY)),g*=m.scaleY,c=c-(m.x+u.scrollX*(1-m.scrollFactorX)),p*=m.scaleX);var x=p/2,C=g/2;c=c-x,d||(o=o-g);var P=.5*(c/x+o/C),A=.5*(-c/x+o/C);return l&&(P=Math.floor(P),A=Math.floor(A)),a.set(P,A)},"IsometricWorldToTileXY");n.exports=y},71558:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(23029),y=i(62991),c=i(72023),o=i(20576),l=r(function(a,u,v,d,p){if(d===void 0&&(d=!0),!y(u,v,p))return null;var g,m=p.data[v][u],x=m&&m.collides;a instanceof f?(p.data[v][u]===null&&(p.data[v][u]=new f(p,a.index,u,v,p.tileWidth,p.tileHeight)),p.data[v][u].copy(a)):(g=a,p.data[v][u]===null?p.data[v][u]=new f(p,g,u,v,p.tileWidth,p.tileHeight):p.data[v][u].index=g);var C=p.data[v][u],P=p.collideIndexes.indexOf(C.index)!==-1;if(g=a instanceof f?a.index:a,g===-1)C.width=p.tileWidth,C.height=p.tileHeight;else{var A=p.tilemapLayer.tilemap,R=A.tiles,L=R[g][2],O=A.tilesets[L];C.width=O.tileWidth,C.height=O.tileHeight}return o(C,P),d&&x!==C.collides&&c(u,v,p),C},"PutTileAt");n.exports=l},26303:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(71558),y=i(26099),c=new y,o=r(function(l,a,u,v,d,p){return p.tilemapLayer.worldToTileXY(a,u,!0,c,d,p),f(l,c.x,c.y,v,p)},"PutTileAtWorldXY");n.exports=o},14051:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(42573),y=i(71558),c=r(function(o,l,a,u,v){if(u===void 0&&(u=!0),!Array.isArray(o))return null;Array.isArray(o[0])||(o=[o]);for(var d=o.length,p=o[0].length,g=0;g<d;g++)for(var m=0;m<p;m++){var x=o[g][m];y(x,l+m,a+g,!1,v)}u&&f(l-1,a-1,p+2,d+2,v)},"PutTilesAt");n.exports=c},77389:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(7386),y=i(26546),c=r(function(o,l,a,u,v,d){var p,g=f(o,l,a,u,{},d);if(!v)for(v=[],p=0;p<g.length;p++)v.indexOf(g[p].index)===-1&&v.push(g[p].index);for(p=0;p<g.length;p++)g[p].index=y(v)},"Randomize");n.exports=c},63557:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(23029),y=i(62991),c=i(72023),o=r(function(l,a,u,v,d){if(u===void 0&&(u=!0),v===void 0&&(v=!0),!y(l,a,d))return null;var p=d.data[a][l];if(p)d.data[a][l]=u?null:new f(d,-1,l,a,d.tileWidth,d.tileHeight);else return null;return v&&p&&p.collides&&c(l,a,d),p},"RemoveTileAt");n.exports=o},94178:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(63557),y=i(26099),c=new y,o=r(function(l,a,u,v,d,p){return p.tilemapLayer.worldToTileXY(l,a,!0,c,d,p),f(c.x,c.y,u,v,p)},"RemoveTileAtWorldXY");n.exports=o},15533:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(7386),y=i(3956),c=new y(105,210,231,150),o=new y(243,134,48,200),l=new y(40,39,37,150),a=r(function(u,v,d){v===void 0&&(v={});var p=v.tileColor!==void 0?v.tileColor:c,g=v.collidingTileColor!==void 0?v.collidingTileColor:o,m=v.faceColor!==void 0?v.faceColor:l,x=f(0,0,d.width,d.height,null,d);u.translateCanvas(d.tilemapLayer.x,d.tilemapLayer.y),u.scaleCanvas(d.tilemapLayer.scaleX,d.tilemapLayer.scaleY);for(var C=0;C<x.length;C++){var P=x[C],A=P.width,R=P.height,L=P.pixelX,O=P.pixelY,w=P.collides?g:p;w!==null&&(u.fillStyle(w.color,w.alpha/255),u.fillRect(L,O,A,R)),L+=1,O+=1,A-=2,R-=2,m!==null&&(u.lineStyle(1,m.color,m.alpha/255),P.faceTop&&u.lineBetween(L,O,L+A,O),P.faceRight&&u.lineBetween(L+A,O,L+A,O+R),P.faceBottom&&u.lineBetween(L,O+R,L+A,O+R),P.faceLeft&&u.lineBetween(L,O,L,O+R))}},"RenderDebug");n.exports=a},27987:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(7386),y=r(function(c,o,l,a,u,v,d){for(var p=f(l,a,u,v,null,d),g=0;g<p.length;g++)p[g]&&p[g].index===c&&(p[g].index=o)},"ReplaceByIndex");n.exports=y},32483:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i,f,y,c){var o=i.data,l=i.width,a=i.height,u=i.tilemapLayer,v=Math.max(0,f.left),d=Math.min(l,f.right),p=Math.max(0,f.top),g=Math.min(a,f.bottom),m,x,C;if(y===0)for(x=p;x<g;x++)for(m=v;o[x]&&m<d;m++)C=o[x][m],!(!C||C.index===-1||!C.visible||C.alpha===0)&&c.push(C);else if(y===1)for(x=p;x<g;x++)for(m=d;o[x]&&m>=v;m--)C=o[x][m],!(!C||C.index===-1||!C.visible||C.alpha===0)&&c.push(C);else if(y===2)for(x=g;x>=p;x--)for(m=v;o[x]&&m<d;m++)C=o[x][m],!(!C||C.index===-1||!C.visible||C.alpha===0)&&c.push(C);else if(y===3)for(x=g;x>=p;x--)for(m=d;o[x]&&m>=v;m--)C=o[x][m],!(!C||C.index===-1||!C.visible||C.alpha===0)&&c.push(C);return u.tilesDrawn=c.length,u.tilesTotal=l*a,c},"RunCull");n.exports=T},57068:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(20576),y=i(42573),c=i(9589),o=r(function(l,a,u,v,d){a===void 0&&(a=!0),u===void 0&&(u=!0),d===void 0&&(d=!0),Array.isArray(l)||(l=[l]);for(var p=0;p<l.length;p++)c(l[p],a,v);if(d)for(var g=0;g<v.height;g++)for(var m=0;m<v.width;m++){var x=v.data[g][m];x&&l.indexOf(x.index)!==-1&&f(x,a)}u&&y(0,0,v.width,v.height,v)},"SetCollision");n.exports=o},37266:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(20576),y=i(42573),c=i(9589),o=r(function(l,a,u,v,d,p){if(u===void 0&&(u=!0),v===void 0&&(v=!0),p===void 0&&(p=!0),!(l>a)){for(var g=l;g<=a;g++)c(g,u,d);if(p)for(var m=0;m<d.height;m++)for(var x=0;x<d.width;x++){var C=d.data[m][x];C&&C.index>=l&&C.index<=a&&f(C,u)}v&&y(0,0,d.width,d.height,d)}},"SetCollisionBetween");n.exports=o},75661:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(20576),y=i(42573),c=i(9589),o=r(function(l,a,u,v){a===void 0&&(a=!0),u===void 0&&(u=!0),Array.isArray(l)||(l=[l]);for(var d=0;d<v.height;d++)for(var p=0;p<v.width;p++){var g=v.data[d][p];g&&l.indexOf(g.index)===-1&&(f(g,a),c(g.index,a,v))}u&&y(0,0,v.width,v.height,v)},"SetCollisionByExclusion");n.exports=o},64740:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(20576),y=i(42573),c=i(97022),o=r(function(l,a,u,v){a===void 0&&(a=!0),u===void 0&&(u=!0);for(var d=0;d<v.height;d++)for(var p=0;p<v.width;p++){var g=v.data[d][p];if(g){for(var m in l)if(c(g.properties,m)){var x=l[m];Array.isArray(x)||(x=[x]);for(var C=0;C<x.length;C++)g.properties[m]===x[C]&&f(g,a)}}}u&&y(0,0,v.width,v.height,v)},"SetCollisionByProperty");n.exports=o},63307:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(20576),y=i(42573),c=r(function(o,l,a){o===void 0&&(o=!0),l===void 0&&(l=!0);for(var u=0;u<a.height;u++)for(var v=0;v<a.width;v++){var d=a.data[u][v];if(d){var p=d.getCollisionGroup();p&&p.objects&&p.objects.length>0&&f(d,o)}}l&&y(0,0,a.width,a.height,a)},"SetCollisionFromCollisionGroup");n.exports=c},9589:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i,f,y){var c=y.collideIndexes.indexOf(i);f&&c===-1?y.collideIndexes.push(i):!f&&c!==-1&&y.collideIndexes.splice(c,1)},"SetLayerCollisionIndex");n.exports=T},20576:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i,f){f?i.setCollision(!0,!0,!0,!0,!1):i.resetCollision(!1)},"SetTileCollision");n.exports=T},79583:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i,f,y,c){if(typeof i=="number")c.callbacks[i]=f!==null?{callback:f,callbackContext:y}:void 0;else for(var o=0,l=i.length;o<l;o++)c.callbacks[i[o]]=f!==null?{callback:f,callbackContext:y}:void 0},"SetTileIndexCallback");n.exports=T},93254:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(7386),y=r(function(c,o,l,a,u,v,d){for(var p=f(c,o,l,a,null,d),g=0;g<p.length;g++)p[g].setCollisionCallback(u,v)},"SetTileLocationCallback");n.exports=y},32903:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(7386),y=i(33680),c=r(function(o,l,a,u,v){var d=f(o,l,a,u,null,v),p=d.map(function(m){return m.index});y(p);for(var g=0;g<d.length;g++)d[g].index=p[g]},"Shuffle");n.exports=c},61325:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(63448),y=i(56583),c=r(function(o,l){var a=o.tilemapLayer.tilemap,u=o.tilemapLayer,v=Math.floor(a.tileWidth*u.scaleX),d=Math.floor(a.tileHeight*u.scaleY),p=y(l.worldView.x-u.x,v,0,!0)-u.cullPaddingX,g=f(l.worldView.right-u.x,v,0,!0)+u.cullPaddingX,m=y(l.worldView.y-u.y,d/2,0,!0)-u.cullPaddingY,x=f(l.worldView.bottom-u.y,d/2,0,!0)+u.cullPaddingY;return{left:p,right:g,top:m,bottom:x}},"StaggeredCullBounds");n.exports=c},54503:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(61325),y=i(32483),c=r(function(o,l,a,u){a===void 0&&(a=[]),u===void 0&&(u=0),a.length=0;var v=o.tilemapLayer,d=f(o,l);return v.skipCull&&v.scrollFactorX===1&&v.scrollFactorY===1&&(d.left=0,d.right=o.width,d.top=0,d.bottom=o.height),y(o,d,u,a),a},"StaggeredCullTiles");n.exports=c},97202:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(26099),y=r(function(c,o,l,a,u){l||(l=new f);var v=u.baseTileWidth,d=u.baseTileHeight,p=u.tilemapLayer,g=0,m=0;p&&(a||(a=p.scene.cameras.main),g=p.x+a.scrollX*(1-p.scrollFactorX),v*=p.scaleX,m=p.y+a.scrollY*(1-p.scrollFactorY),d*=p.scaleY);var x=g+c*v+o%2*(v/2),C=m+o*(d/2);return l.set(x,C)},"StaggeredTileToWorldXY");n.exports=y},28054:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i,f,y){var c=y.baseTileHeight,o=y.tilemapLayer,l=0;return o&&(f===void 0&&(f=o.scene.cameras.main),l=o.y+f.scrollY*(1-o.scrollFactorY),c*=o.scaleY),l+i*(c/2)+c},"StaggeredTileToWorldY");n.exports=T},15108:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(26099),y=r(function(c,o,l,a,u,v){a||(a=new f);var d=v.baseTileWidth,p=v.baseTileHeight,g=v.tilemapLayer;g&&(u||(u=g.scene.cameras.main),o=o-(g.y+u.scrollY*(1-g.scrollFactorY)),p*=g.scaleY,c=c-(g.x+u.scrollX*(1-g.scrollFactorX)),d*=g.scaleX);var m=l?Math.floor(o/(p/2)):o/(p/2),x=l?Math.floor((c+m%2*.5*d)/d):(c+m%2*.5*d)/d;return a.set(x,m)},"StaggeredWorldToTileXY");n.exports=y},51900:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i,f,y,c){var o=c.baseTileHeight,l=c.tilemapLayer;return l&&(y||(y=l.scene.cameras.main),i=i-(l.y+y.scrollY*(1-l.scrollFactorY)),o*=l.scaleY),f?Math.floor(i/(o/2)):i/(o/2)},"StaggeredWorldToTileY");n.exports=T},86560:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(7386),y=r(function(c,o,l,a,u,v,d){for(var p=f(l,a,u,v,null,d),g=0;g<p.length;g++)p[g]&&(p[g].index===c?p[g].index=o:p[g].index===o&&(p[g].index=c))},"SwapByIndex");n.exports=y},97281:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i,f,y){var c=y.baseTileWidth,o=y.tilemapLayer,l=0;return o&&(f||(f=o.scene.cameras.main),l=o.x+f.scrollX*(1-o.scrollFactorX),c*=o.scaleX),l+i*c},"TileToWorldX");n.exports=T},70326:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(97281),y=i(29650),c=i(26099),o=r(function(l,a,u,v,d){return u||(u=new c(0,0)),u.x=f(l,v,d),u.y=y(a,v,d),u},"TileToWorldXY");n.exports=o},29650:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i,f,y){var c=y.baseTileHeight,o=y.tilemapLayer,l=0;return o&&(f||(f=o.scene.cameras.main),l=o.y+f.scrollY*(1-o.scrollFactorY),c*=o.scaleY),l+i*c},"TileToWorldY");n.exports=T},77366:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(7386),y=i(75508),c=r(function(o,l,a,u,v,d){if(v){var p,g=f(o,l,a,u,null,d),m=0;for(p=0;p<v.length;p++)m+=v[p].weight;if(!(m<=0))for(p=0;p<g.length;p++){for(var x=y.RND.frac()*m,C=0,P=-1,A=0;A<v.length;A++)if(C+=v[A].weight,x<=C){var R=v[A].index;P=Array.isArray(R)?R[Math.floor(y.RND.frac()*R.length)]:R;break}g[p].index=P}}},"WeightedRandomize");n.exports=c},10095:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(85896),y=i(26099),c=new y,o=r(function(l,a,u,v){return f(l,0,a,c,u,v),c.x},"WorldToTileX");n.exports=o},85896:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(26099),y=r(function(c,o,l,a,u,v){l===void 0&&(l=!0),a||(a=new f);var d=v.baseTileWidth,p=v.baseTileHeight,g=v.tilemapLayer;g&&(u||(u=g.scene.cameras.main),c=c-(g.x+u.scrollX*(1-g.scrollFactorX)),o=o-(g.y+u.scrollY*(1-g.scrollFactorY)),d*=g.scaleX,p*=g.scaleY);var m=c/d,x=o/p;return l&&(m=Math.floor(m),x=Math.floor(x)),a.set(m,x)},"WorldToTileXY");n.exports=y},63288:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(85896),y=i(26099),c=new y,o=r(function(l,a,u,v){return f(0,l,a,c,u,v),c.y},"WorldToTileY");n.exports=o},81086:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={CalculateFacesAt:i(72023),CalculateFacesWithin:i(42573),CheckIsoBounds:i(33528),Copy:i(1785),CreateFromTiles:i(78419),CullBounds:i(19545),CullTiles:i(30003),Fill:i(35137),FilterTiles:i(40253),FindByIndex:i(52692),FindTile:i(66151),ForEachTile:i(97560),GetCullTilesFunction:i(43305),GetTileAt:i(7423),GetTileAtWorldXY:i(60540),GetTileCorners:i(55826),GetTileCornersFunction:i(11758),GetTilesWithin:i(7386),GetTilesWithinShape:i(91141),GetTilesWithinWorldXY:i(96523),GetTileToWorldXFunction:i(39167),GetTileToWorldXYFunction:i(62e3),GetTileToWorldYFunction:i(5984),GetWorldToTileXFunction:i(96113),GetWorldToTileXYFunction:i(16926),GetWorldToTileYFunction:i(55762),HasTileAt:i(45091),HasTileAtWorldXY:i(24152),HexagonalCullBounds:i(90454),HexagonalCullTiles:i(9474),HexagonalGetTileCorners:i(27229),HexagonalTileToWorldXY:i(19951),HexagonalWorldToTileXY:i(86625),IsInLayerBounds:i(62991),IsometricCullTiles:i(14018),IsometricTileToWorldXY:i(14127),IsometricWorldToTileXY:i(96897),PutTileAt:i(71558),PutTileAtWorldXY:i(26303),PutTilesAt:i(14051),Randomize:i(77389),RemoveTileAt:i(63557),RemoveTileAtWorldXY:i(94178),RenderDebug:i(15533),ReplaceByIndex:i(27987),RunCull:i(32483),SetCollision:i(57068),SetCollisionBetween:i(37266),SetCollisionByExclusion:i(75661),SetCollisionByProperty:i(64740),SetCollisionFromCollisionGroup:i(63307),SetLayerCollisionIndex:i(9589),SetTileCollision:i(20576),SetTileIndexCallback:i(79583),SetTileLocationCallback:i(93254),Shuffle:i(32903),StaggeredCullBounds:i(61325),StaggeredCullTiles:i(54503),StaggeredTileToWorldXY:i(97202),StaggeredTileToWorldY:i(28054),StaggeredWorldToTileXY:i(15108),StaggeredWorldToTileY:i(51900),SwapByIndex:i(86560),TileToWorldX:i(97281),TileToWorldXY:i(70326),TileToWorldY:i(29650),WeightedRandomize:i(77366),WorldToTileX:i(10095),WorldToTileXY:i(85896),WorldToTileY:i(63288)}},91907:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={ORTHOGONAL:0,ISOMETRIC:1,STAGGERED:2,HEXAGONAL:3}},21829:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f={ORIENTATION:i(91907)};n.exports=f},62501:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(79291),y=i(21829),c={Components:i(81086),Parsers:i(57442),Formats:i(80341),ImageCollection:i(16536),ParseToTilemap:i(31989),Tile:i(23029),Tilemap:i(49075),TilemapCreator:i(45939),TilemapFactory:i(46029),Tileset:i(33629),TilemapLayer:i(20442),Orientation:i(91907),LayerData:i(14977),MapData:i(87010),ObjectLayer:i(48700)};c=f(!1,c,y.ORIENTATION),n.exports=c},14977:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(83419),y=i(91907),c=i(95540),o=new f({initialize:r(function(a){a===void 0&&(a={}),this.name=c(a,"name","layer"),this.id=c(a,"id",0),this.x=c(a,"x",0),this.y=c(a,"y",0),this.width=c(a,"width",0),this.height=c(a,"height",0),this.tileWidth=c(a,"tileWidth",0),this.tileHeight=c(a,"tileHeight",0),this.baseTileWidth=c(a,"baseTileWidth",this.tileWidth),this.baseTileHeight=c(a,"baseTileHeight",this.tileHeight),this.orientation=c(a,"orientation",y.ORTHOGONAL),this.widthInPixels=c(a,"widthInPixels",this.width*this.baseTileWidth),this.heightInPixels=c(a,"heightInPixels",this.height*this.baseTileHeight),this.alpha=c(a,"alpha",1),this.visible=c(a,"visible",!0),this.properties=c(a,"properties",[]),this.indexes=c(a,"indexes",[]),this.collideIndexes=c(a,"collideIndexes",[]),this.callbacks=c(a,"callbacks",[]),this.bodies=c(a,"bodies",[]),this.data=c(a,"data",[]),this.tilemapLayer=c(a,"tilemapLayer",null),this.hexSideLength=c(a,"hexSideLength",0),this.staggerAxis=c(a,"staggerAxis","y"),this.staggerIndex=c(a,"staggerIndex","odd")},"LayerData")});n.exports=o},87010:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(83419),y=i(91907),c=i(95540),o=new f({initialize:r(function(a){a===void 0&&(a={}),this.name=c(a,"name","map"),this.width=c(a,"width",0),this.height=c(a,"height",0),this.infinite=c(a,"infinite",!1),this.tileWidth=c(a,"tileWidth",0),this.tileHeight=c(a,"tileHeight",0),this.widthInPixels=c(a,"widthInPixels",this.width*this.tileWidth),this.heightInPixels=c(a,"heightInPixels",this.height*this.tileHeight),this.format=c(a,"format",null),this.orientation=c(a,"orientation",y.ORTHOGONAL),this.renderOrder=c(a,"renderOrder","right-down"),this.version=c(a,"version","1"),this.properties=c(a,"properties",{}),this.layers=c(a,"layers",[]),this.images=c(a,"images",[]),this.objects=c(a,"objects",[]),Array.isArray(this.objects)||(this.objects=[]),this.collision=c(a,"collision",{}),this.tilesets=c(a,"tilesets",[]),this.imageCollections=c(a,"imageCollections",[]),this.tiles=c(a,"tiles",[]),this.hexSideLength=c(a,"hexSideLength",0),this.staggerAxis=c(a,"staggerAxis","y"),this.staggerIndex=c(a,"staggerIndex","odd")},"MapData")});n.exports=o},48700:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(83419),y=i(95540),c=new f({initialize:r(function(l){l===void 0&&(l={}),this.name=y(l,"name","object layer"),this.id=y(l,"id",0),this.opacity=y(l,"opacity",1),this.properties=y(l,"properties",{}),this.propertyTypes=y(l,"propertytypes",{}),this.type=y(l,"type","objectgroup"),this.visible=y(l,"visible",!0),this.objects=y(l,"objects",[]),Array.isArray(this.objects)||(this.objects=[])},"ObjectLayer")});n.exports=c},6641:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(91907),y=r(function(c){return c=c.toLowerCase(),c==="isometric"?f.ISOMETRIC:c==="staggered"?f.STAGGERED:c==="hexagonal"?f.HEXAGONAL:f.ORTHOGONAL},"FromOrientationString");n.exports=y},46177:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(80341),y=i(2342),c=i(82593),o=i(46594),l=i(87021),a=r(function(u,v,d,p,g,m){var x;switch(v){case f.ARRAY_2D:x=y(u,d,p,g,m);break;case f.CSV:x=c(u,d,p,g,m);break;case f.TILED_JSON:x=o(u,d,m);break;case f.WELTMEISTER:x=l(u,d,m);break;default:console.warn("Unrecognized tilemap data format: "+v),x=null}return x},"Parse");n.exports=a},2342:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(80341),y=i(14977),c=i(87010),o=i(23029),l=r(function(a,u,v,d,p){for(var g=new y({tileWidth:v,tileHeight:d}),m=new c({name:a,tileWidth:v,tileHeight:d,format:f.ARRAY_2D,layers:[g]}),x=[],C=u.length,P=0,A=0;A<u.length;A++){x[A]=[];for(var R=u[A],L=0;L<R.length;L++){var O=parseInt(R[L],10);isNaN(O)||O===-1?x[A][L]=p?null:new o(g,-1,L,A,v,d):x[A][L]=new o(g,O,L,A,v,d)}P===0&&(P=R.length)}return m.width=g.width=P,m.height=g.height=C,m.widthInPixels=g.widthInPixels=P*v,m.heightInPixels=g.heightInPixels=C*d,g.data=x,m},"Parse2DArray");n.exports=l},82593:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(80341),y=i(2342),c=r(function(o,l,a,u,v){var d=l.trim().split(`
`).map(function(g){return g.split(",")}),p=y(o,d,a,u,v);return p.format=f.CSV,p},"ParseCSV");n.exports=c},6656:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(14977),y=i(23029),c=r(function(o,l){for(var a=[],u=0;u<o.layer.length;u++){for(var v=o.layer[u],d=new f({name:v.name,width:v.width,height:v.height,tileWidth:v.tilesize,tileHeight:v.tilesize,visible:v.visible===1}),p=[],g=[],m=0;m<v.data.length;m++){for(var x=0;x<v.data[m].length;x++){var C=v.data[m][x]-1,P;C>-1?P=new y(d,C,x,m,v.tilesize,v.tilesize):P=l?null:new y(d,-1,x,m,v.tilesize,v.tilesize),p.push(P)}g.push(p),p=[]}d.data=g,a.push(d)}return a},"ParseTileLayers");n.exports=c},96483:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(33629),y=r(function(c){for(var o=[],l=[],a=0;a<c.layer.length;a++){var u=c.layer[a],v=u.tilesetName;v!==""&&l.indexOf(v)===-1&&(l.push(v),o.push(new f(v,0,u.tilesize,u.tilesize,0,0)))}return o},"ParseTilesets");n.exports=y},87021:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(80341),y=i(87010),c=i(6656),o=i(96483),l=r(function(a,u,v){if(u.layer.length===0)return console.warn("No layers found in the Weltmeister map: "+a),null;for(var d=0,p=0,g=0;g<u.layer.length;g++)u.layer[g].width>d&&(d=u.layer[g].width),u.layer[g].height>p&&(p=u.layer[g].height);var m=new y({width:d,height:p,name:a,tileWidth:u.layer[0].tilesize,tileHeight:u.layer[0].tilesize,format:f.WELTMEISTER});return m.layers=c(u,v),m.tilesets=o(u),m},"ParseWeltmeister");n.exports=l},52833:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={ParseTileLayers:i(6656),ParseTilesets:i(96483),ParseWeltmeister:i(87021)}},57442:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={FromOrientationString:i(6641),Parse:i(46177),Parse2DArray:i(2342),ParseCSV:i(82593),Impact:i(52833),Tiled:i(96761)}},51233:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(79291),y=r(function(c){for(var o,l,a,u,v,d=0;d<c.layers.length;d++){o=c.layers[d],u=null;for(var p=0;p<o.data.length;p++){v=o.data[p];for(var g=0;g<v.length;g++)l=v[g],!(l===null||l.index<0)&&(a=c.tiles[l.index][2],u=c.tilesets[a],l.width=u.tileWidth,l.height=u.tileHeight,u.tileProperties&&u.tileProperties[l.index-u.firstgid]&&(l.properties=f(l.properties,u.tileProperties[l.index-u.firstgid])))}}},"AssignTileProperties");n.exports=y},41868:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i){for(var f=window.atob(i),y=f.length,c=new Array(y/4),o=0;o<y;o+=4)c[o/4]=(f.charCodeAt(o)|f.charCodeAt(o+1)<<8|f.charCodeAt(o+2)<<16|f.charCodeAt(o+3)<<24)>>>0;return c},"Base64Decode");n.exports=T},84101:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(33629),y=r(function(c){var o,l,a=[];for(o=0;o<c.imageCollections.length;o++)for(var u=c.imageCollections[o],v=u.images,d=0;d<v.length;d++){var p=v[d];l=new f(p.image,p.gid,u.imageWidth,u.imageHeight,0,0),l.updateTileData(u.imageWidth,u.imageHeight),c.tilesets.push(l)}for(o=0;o<c.tilesets.length;o++){l=c.tilesets[o];for(var g=l.tileMargin,m=l.tileMargin,x=0,C=0,P=0,A=l.firstgid;A<l.firstgid+l.total&&(a[A]=[g,m,o],g+=l.tileWidth+l.tileSpacing,x++,!(x===l.total||(C++,C===l.columns&&(g=l.tileMargin,m+=l.tileHeight+l.tileSpacing,C=0,P++,P===l.rows))));A++);}return a},"BuildTilesetIndex");n.exports=y},79677:(n,T,i)=>{/**
 * @author       Seth Berrier <berriers@uwstout.edu>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(95540),y=r(function(c,o,l){if(!o)return{i:0,layers:c.layers,name:"",opacity:1,visible:!0,x:0,y:0};var a=o.x+f(o,"startx",0)*c.tilewidth+f(o,"offsetx",0),u=o.y+f(o,"starty",0)*c.tileheight+f(o,"offsety",0);return{i:0,layers:o.layers,name:l.name+o.name+"/",opacity:l.opacity*o.opacity,visible:l.visible&&o.visible,x:l.x+a,y:l.y+u}},"CreateGroupLayer");n.exports=y},29920:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=2147483648,i=1073741824,f=536870912,y=r(function(c){var o=!!(c&T),l=!!(c&i),a=!!(c&f);c=c&~(T|i|f);var u=0,v=!1;return o&&l&&a?(u=Math.PI/2,v=!0):o&&l&&!a?(u=Math.PI,v=!1):o&&!l&&a?(u=Math.PI/2,v=!1):o&&!l&&!a?(u=0,v=!0):!o&&l&&a?(u=3*Math.PI/2,v=!1):!o&&l&&!a?(u=Math.PI,v=!0):!o&&!l&&a?(u=3*Math.PI/2,v=!0):!o&&!l&&!a&&(u=0,v=!1),{gid:c,flippedHorizontal:o,flippedVertical:l,flippedAntiDiagonal:a,rotation:u,flipped:v}},"ParseGID");n.exports=y},12635:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(95540),y=i(79677),c=r(function(o){for(var l=[],a=[],u=y(o);u.i<u.layers.length||a.length>0;){if(u.i>=u.layers.length){if(a.length<1){console.warn("TilemapParser.parseTiledJSON - Invalid layer group hierarchy");break}u=a.pop();continue}var v=u.layers[u.i];if(u.i++,v.type!=="imagelayer"){if(v.type==="group"){var d=y(o,v,u);a.push(u),u=d}continue}var p=f(v,"offsetx",0)+f(v,"startx",0),g=f(v,"offsety",0)+f(v,"starty",0);l.push({name:u.name+v.name,image:v.image,x:u.x+p+v.x,y:u.y+g+v.y,alpha:u.opacity*v.opacity,visible:u.visible&&v.visible,properties:f(v,"properties",{})})}return l},"ParseImageLayers");n.exports=c},46594:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(51233),y=i(84101),c=i(91907),o=i(62644),l=i(80341),a=i(6641),u=i(87010),v=i(12635),d=i(22611),p=i(28200),g=i(24619),m=r(function(x,C,P){var A=o(C),R=new u({width:A.width,height:A.height,name:x,tileWidth:A.tilewidth,tileHeight:A.tileheight,orientation:a(A.orientation),format:l.TILED_JSON,version:A.version,properties:A.properties,renderOrder:A.renderorder,infinite:A.infinite});R.orientation===c.HEXAGONAL&&(R.hexSideLength=A.hexsidelength,R.staggerAxis=A.staggeraxis,R.staggerIndex=A.staggerindex),R.layers=p(A,P),R.images=v(A);var L=g(A);return R.tilesets=L.tilesets,R.imageCollections=L.imageCollections,R.objects=d(A),R.tiles=y(R),f(R),R},"ParseJSONTiled");n.exports=m},52205:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(18254),y=i(29920),c=r(function(a){return{x:a.x,y:a.y}},"copyPoints"),o=["id","name","type","rotation","properties","visible","x","y","width","height"],l=r(function(a,u,v){u===void 0&&(u=0),v===void 0&&(v=0);var d=f(a,o);if(d.x+=u,d.y+=v,a.gid){var p=y(a.gid);d.gid=p.gid,d.flippedHorizontal=p.flippedHorizontal,d.flippedVertical=p.flippedVertical,d.flippedAntiDiagonal=p.flippedAntiDiagonal}else a.polyline?d.polyline=a.polyline.map(c):a.polygon?d.polygon=a.polygon.map(c):a.ellipse?d.ellipse=a.ellipse:a.text?d.text=a.text:a.point?d.point=!0:d.rectangle=!0;return d},"ParseObject");n.exports=l},22611:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(95540),y=i(52205),c=i(48700),o=i(79677),l=r(function(a){for(var u=[],v=[],d=o(a);d.i<d.layers.length||v.length>0;){if(d.i>=d.layers.length){if(v.length<1){console.warn("TilemapParser.parseTiledJSON - Invalid layer group hierarchy");break}d=v.pop();continue}var p=d.layers[d.i];if(d.i++,p.opacity*=d.opacity,p.visible=d.visible&&p.visible,p.type!=="objectgroup"){if(p.type==="group"){var g=o(a,p,d);v.push(d),d=g}continue}p.name=d.name+p.name;for(var m=d.x+f(p,"startx",0)+f(p,"offsetx",0),x=d.y+f(p,"starty",0)+f(p,"offsety",0),C=[],P=0;P<p.objects.length;P++){var A=y(p.objects[P],m,x);C.push(A)}var R=new c(p);R.objects=C,u.push(R)}return u},"ParseObjectLayers");n.exports=l},28200:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(41868),y=i(91907),c=i(79677),o=i(6641),l=i(95540),a=i(14977),u=i(29920),v=i(23029),d=r(function(p,g){for(var m=l(p,"infinite",!1),x=[],C=[],P=c(p);P.i<P.layers.length||C.length>0;){if(P.i>=P.layers.length){if(C.length<1){console.warn("TilemapParser.parseTiledJSON - Invalid layer group hierarchy");break}P=C.pop();continue}var A=P.layers[P.i];if(P.i++,A.type!=="tilelayer"){if(A.type==="group"){var R=c(p,A,P);C.push(P),P=R}continue}if(A.compression){console.warn("TilemapParser.parseTiledJSON - Layer compression is unsupported, skipping layer '"+A.name+"'");continue}else if(A.encoding&&A.encoding==="base64"){if(A.chunks)for(var L=0;L<A.chunks.length;L++)A.chunks[L].data=f(A.chunks[L].data);A.data&&(A.data=f(A.data)),delete A.encoding}var O,w,b,F,M=[],I=0;if(m){var B=l(A,"startx",0)+A.x,G=l(A,"starty",0)+A.y;O=new a({name:P.name+A.name,id:A.id,x:P.x+l(A,"offsetx",0)+B*p.tilewidth,y:P.y+l(A,"offsety",0)+G*p.tileheight,width:A.width,height:A.height,tileWidth:p.tilewidth,tileHeight:p.tileheight,alpha:P.opacity*A.opacity,visible:P.visible&&A.visible,properties:l(A,"properties",[]),orientation:o(p.orientation)}),O.orientation===y.HEXAGONAL&&(O.hexSideLength=p.hexsidelength,O.staggerAxis=p.staggeraxis,O.staggerIndex=p.staggerindex);for(var N=0;N<A.height;N++){M[N]=[null];for(var z=0;z<A.width;z++)M[N][z]=null}for(N=0,Z=A.chunks.length;N<Z;N++)for(var H=A.chunks[N],$=H.x-B,V=H.y-G,Y=0,D=0,U=H.data.length;D<U;D++){var W=I+$,k=Y+V;w=u(H.data[D]),w.gid>0?(b=new v(O,w.gid,W,k,p.tilewidth,p.tileheight),b.rotation=w.rotation,b.flipX=w.flipped,M[k][W]=b):(F=g?null:new v(O,-1,W,k,p.tilewidth,p.tileheight),M[k][W]=F),I++,I===H.width&&(Y++,I=0)}}else{O=new a({name:P.name+A.name,id:A.id,x:P.x+l(A,"offsetx",0)+A.x,y:P.y+l(A,"offsety",0)+A.y,width:A.width,height:A.height,tileWidth:p.tilewidth,tileHeight:p.tileheight,alpha:P.opacity*A.opacity,visible:P.visible&&A.visible,properties:l(A,"properties",[]),orientation:o(p.orientation)}),O.orientation===y.HEXAGONAL&&(O.hexSideLength=p.hexsidelength,O.staggerAxis=p.staggeraxis,O.staggerIndex=p.staggerindex);for(var X=[],K=0,Z=A.data.length;K<Z;K++)w=u(A.data[K]),w.gid>0?(b=new v(O,w.gid,I,M.length,p.tilewidth,p.tileheight),b.rotation=w.rotation,b.flipX=w.flipped,X.push(b)):(F=g?null:new v(O,-1,I,M.length,p.tilewidth,p.tileheight),X.push(F)),I++,I===A.width&&(M.push(X),I=0,X=[])}O.data=M,x.push(O)}return x},"ParseTileLayers");n.exports=d},24619:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(33629),y=i(16536),c=i(52205),o=i(57880),l=r(function(a){for(var u=[],v=[],d=null,p,g=0;g<a.tilesets.length;g++){var m=a.tilesets[g];if(m.source)console.warn("External tilesets unsupported. Use Embed Tileset and re-export");else if(m.image){var x=new f(m.name,m.firstgid,m.tilewidth,m.tileheight,m.margin,m.spacing,void 0,void 0,m.tileoffset);if(a.version>1){var C=void 0,P=void 0;if(Array.isArray(m.tiles)){C=C||{},P=P||{};for(var A=0;A<m.tiles.length;A++){var R=m.tiles[A];if(R.properties){var L={};R.properties.forEach(function(N){L[N.name]=N.value}),P[R.id]=L}if(R.objectgroup&&((C[R.id]||(C[R.id]={})).objectgroup=R.objectgroup,R.objectgroup.objects)){var O=R.objectgroup.objects.map(function(N){return c(N)});C[R.id].objectgroup.objects=O}R.animation&&((C[R.id]||(C[R.id]={})).animation=R.animation),R.type&&((C[R.id]||(C[R.id]={})).type=R.type)}}Array.isArray(m.wangsets)&&(C=C||{},P=P||{},o(m.wangsets,C)),C&&(x.tileData=C,x.tileProperties=P)}else if(m.tileproperties&&(x.tileProperties=m.tileproperties),m.tiles){x.tileData=m.tiles;for(p in x.tileData){var w=x.tileData[p].objectgroup;if(w&&w.objects){var b=w.objects.map(function(N){return c(N)});x.tileData[p].objectgroup.objects=b}}}x.updateTileData(m.imagewidth,m.imageheight),u.push(x)}else{var F=new y(m.name,m.firstgid,m.tilewidth,m.tileheight,m.margin,m.spacing,m.properties),M=0;for(A=0;A<m.tiles.length;A++){R=m.tiles[A];var I=R.image,B=parseInt(R.id,10),G=m.firstgid+B;F.addImage(G,I),M=Math.max(B,M)}F.maxId=M,v.push(F)}d&&(d.lastgid=m.firstgid-1),d=m}return{tilesets:u,imageCollections:v}},"ParseTilesets");n.exports=l},57880:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i,f){for(var y=0;y<i.length;y++){var c=i[y],o=y;if(c.name&&c.name!==""&&(o=c.name),Array.isArray(c.wangtiles)&&c.wangtiles.length>0){var l={},a={},u,v,d;if(Array.isArray(c.edgecolors))for(u=0;u<c.edgecolors.length;u++)d=1+u,v=c.edgecolors[u],v.name!==""&&(l[d]=v.name);if(Array.isArray(c.cornercolors))for(u=0;u<c.cornercolors.length;u++)d=1+u,v=c.cornercolors[u],v.name!==""&&(a[d]=v.name);if(Array.isArray(c.colors))for(u=0;u<c.colors.length;u++)v=c.colors[u],d=1+u,v.name!==""&&(l[d]=a[d]=v.name);for(var p=[l,a,l,a,l,a,l,a],g=0;g<c.wangtiles.length;g++){var m=c.wangtiles[g],x=f[m.tileid]||(f[m.tileid]={});x=x.wangid||(x.wangid={});for(var C=[],P=0;P<Math.min(p.length,m.wangid.length);P++){if(v=m.wangid[P],v===0){C.push(void 0);continue}var A=p[P][v];if(A!==void 0){C.push(A);continue}C.push(v)}x[o]=C}}}},"ParseWangsets");n.exports=T},96761:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={AssignTileProperties:i(51233),Base64Decode:i(41868),BuildTilesetIndex:i(84101),CreateGroupLayer:i(79677),ParseGID:i(29920),ParseImageLayers:i(12635),ParseJSONTiled:i(46594),ParseObject:i(52205),ParseObjectLayers:i(22611),ParseTileLayers:i(28200),ParseTilesets:i(24619)}},33385:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(83419),y=i(37277),c=i(44594),o=i(94880),l=i(72905),a=new f({initialize:r(function(v){this.scene=v,this.systems=v.sys,this.now=0,this.startTime=0,this.timeScale=1,this.paused=!1,this._active=[],this._pendingInsertion=[],this._pendingRemoval=[],v.sys.events.once(c.BOOT,this.boot,this),v.sys.events.on(c.START,this.start,this)},"Clock"),boot:r(function(){this.now=this.systems.game.loop.time,this.systems.events.once(c.DESTROY,this.destroy,this)},"boot"),start:r(function(){this.startTime=this.systems.game.loop.time;var u=this.systems.events;u.on(c.PRE_UPDATE,this.preUpdate,this),u.on(c.UPDATE,this.update,this),u.once(c.SHUTDOWN,this.shutdown,this)},"start"),addEvent:r(function(u){var v;return u instanceof o?(v=u,this.removeEvent(v),v.elapsed=v.startAt,v.hasDispatched=!1,v.repeatCount=v.repeat===-1||v.loop?999999999999:v.repeat):v=new o(u),this._pendingInsertion.push(v),v},"addEvent"),delayedCall:r(function(u,v,d,p){return this.addEvent({delay:u,callback:v,args:d,callbackScope:p})},"delayedCall"),clearPendingEvents:r(function(){return this._pendingInsertion=[],this},"clearPendingEvents"),removeEvent:r(function(u){Array.isArray(u)||(u=[u]);for(var v=0;v<u.length;v++){var d=u[v];l(this._pendingRemoval,d),l(this._pendingInsertion,d),l(this._active,d)}return this},"removeEvent"),removeAllEvents:r(function(){return this._pendingRemoval=this._pendingRemoval.concat(this._active),this},"removeAllEvents"),preUpdate:r(function(){var u=this._pendingRemoval.length,v=this._pendingInsertion.length;if(!(u===0&&v===0)){var d,p;for(d=0;d<u;d++){p=this._pendingRemoval[d];var g=this._active.indexOf(p);g>-1&&this._active.splice(g,1),p.destroy()}for(d=0;d<v;d++)p=this._pendingInsertion[d],this._active.push(p);this._pendingRemoval.length=0,this._pendingInsertion.length=0}},"preUpdate"),update:r(function(u,v){if(this.now=u,!this.paused){v*=this.timeScale;for(var d=0;d<this._active.length;d++){var p=this._active[d];if(!p.paused&&(p.elapsed+=v*p.timeScale,p.elapsed>=p.delay)){var g=p.elapsed-p.delay;if(p.elapsed=p.delay,!p.hasDispatched&&p.callback&&(p.hasDispatched=!0,p.callback.apply(p.callbackScope,p.args)),p.repeatCount>0){if(p.repeatCount--,g>=p.delay)for(;g>=p.delay&&p.repeatCount>0;)p.callback&&p.callback.apply(p.callbackScope,p.args),g-=p.delay,p.repeatCount--;p.elapsed=g,p.hasDispatched=!1}else p.hasDispatched&&this._pendingRemoval.push(p)}}}},"update"),shutdown:r(function(){var u;for(u=0;u<this._pendingInsertion.length;u++)this._pendingInsertion[u].destroy();for(u=0;u<this._active.length;u++)this._active[u].destroy();for(u=0;u<this._pendingRemoval.length;u++)this._pendingRemoval[u].destroy();this._active.length=0,this._pendingRemoval.length=0,this._pendingInsertion.length=0;var v=this.systems.events;v.off(c.PRE_UPDATE,this.preUpdate,this),v.off(c.UPDATE,this.update,this),v.off(c.SHUTDOWN,this.shutdown,this)},"shutdown"),destroy:r(function(){this.shutdown(),this.scene.sys.events.off(c.START,this.start,this),this.scene=null,this.systems=null},"destroy")});y.register("Clock",a,"time"),n.exports=a},96120:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(83419),y=i(50792),c=i(39429),o=i(95540),l=i(44594),a=i(89809),u=new f({Extends:y,initialize:r(function(d,p){y.call(this),this.scene=d,this.systems=d.sys,this.elapsed=0,this.paused=!0,this.complete=!1,this.totalComplete=0,this.loop=0,this.iteration=0,this.events=[];var g=this.systems.events;g.on(l.PRE_UPDATE,this.preUpdate,this),g.on(l.UPDATE,this.update,this),g.once(l.SHUTDOWN,this.destroy,this),p&&this.add(p)},"Timeline"),preUpdate:r(function(v,d){this.paused||(this.elapsed+=d)},"preUpdate"),update:r(function(){if(!(this.paused||this.complete)){var v,d=this.events,p=!1,g=this.systems,m;for(v=0;v<d.length;v++){var x=d[v];if(!x.complete&&x.time<=this.elapsed){if(x.complete=!0,this.totalComplete++,m=x.target?x.target:this,x.if&&!x.if.call(m,x))continue;if(x.once&&(p=!0),x.set&&x.target)for(var C in x.set)x.target[C]=x.set[C];this.iteration&&x.repeat++,x.loop&&x.repeat&&x.loop.call(m),x.tween&&g.tweens.add(x.tween),x.sound&&(typeof x.sound=="string"?g.sound.play(x.sound):g.sound.play(x.sound.key,x.sound.config)),x.event&&this.emit(x.event,m),x.run&&x.run.call(m),x.stop&&this.stop()}}if(p)for(v=0;v<d.length;v++)d[v].complete&&d[v].once&&(d.splice(v,1),v--);this.totalComplete>=d.length&&(this.loop!==0&&(this.loop===-1||this.loop>this.iteration)?(this.iteration++,this.reset(!0)):this.complete=!0),this.complete&&this.emit(a.COMPLETE,this)}},"update"),play:r(function(v){return v===void 0&&(v=!0),this.paused=!1,this.complete=!1,this.totalComplete=0,v&&this.reset(),this},"play"),pause:r(function(){return this.paused=!0,this},"pause"),repeat:r(function(v){return(v===void 0||v===!0)&&(v=-1),v===!1&&(v=0),this.loop=v,this},"repeat"),resume:r(function(){return this.paused=!1,this},"resume"),stop:r(function(){return this.paused=!0,this.complete=!0,this},"stop"),reset:r(function(v){v===void 0&&(v=!1),this.elapsed=0,v||(this.iteration=0);for(var d=0;d<this.events.length;d++)this.events[d].complete=!1,v||(this.events[d].repeat=0);return this.play(!1)},"reset"),add:r(function(v){Array.isArray(v)||(v=[v]);var d=this.events,p=0;d.length>0&&(p=d[d.length-1].time);for(var g=0;g<v.length;g++){var m=v[g],x=o(m,"at",0),C=o(m,"in",null);C!==null&&(x=this.elapsed+C);var P=o(m,"from",null);P!==null&&(x=p+P),d.push({complete:!1,time:x,repeat:0,if:o(m,"if",null),run:o(m,"run",null),loop:o(m,"loop",null),event:o(m,"event",null),target:o(m,"target",null),set:o(m,"set",null),tween:o(m,"tween",null),sound:o(m,"sound",null),once:o(m,"once",!1),stop:o(m,"stop",!1)}),p=x}return this.complete=!1,this},"add"),clear:r(function(){return this.events=[],this.elapsed=0,this.paused=!0,this},"clear"),isPlaying:r(function(){return!this.paused&&!this.complete},"isPlaying"),getProgress:r(function(){var v=Math.min(this.totalComplete,this.events.length);return v/this.events.length},"getProgress"),destroy:r(function(){var v=this.systems.events;v.off(l.PRE_UPDATE,this.preUpdate,this),v.off(l.UPDATE,this.update,this),v.off(l.SHUTDOWN,this.destroy,this),this.scene=null,this.systems=null,this.events=[]},"destroy")});c.register("timeline",function(v){return new u(this.scene,v)}),n.exports=u},94880:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(83419),y=i(95540),c=new f({initialize:r(function(l){this.delay=0,this.repeat=0,this.repeatCount=0,this.loop=!1,this.callback,this.callbackScope,this.args,this.timeScale=1,this.startAt=0,this.elapsed=0,this.paused=!1,this.hasDispatched=!1,this.reset(l)},"TimerEvent"),reset:r(function(o){if(this.delay=y(o,"delay",0),this.repeat=y(o,"repeat",0),this.loop=y(o,"loop",!1),this.callback=y(o,"callback",void 0),this.callbackScope=y(o,"callbackScope",this),this.args=y(o,"args",[]),this.timeScale=y(o,"timeScale",1),this.startAt=y(o,"startAt",0),this.paused=y(o,"paused",!1),this.elapsed=this.startAt,this.hasDispatched=!1,this.repeatCount=this.repeat===-1||this.loop?999999999999:this.repeat,this.delay===0&&(this.repeat>0||this.loop))throw new Error("TimerEvent infinite loop created via zero delay");return this},"reset"),getProgress:r(function(){return this.elapsed/this.delay},"getProgress"),getOverallProgress:r(function(){if(this.repeat>0){var o=this.delay+this.delay*this.repeat,l=this.elapsed+this.delay*(this.repeat-this.repeatCount);return l/o}else return this.getProgress()},"getOverallProgress"),getRepeatCount:r(function(){return this.repeatCount},"getRepeatCount"),getElapsed:r(function(){return this.elapsed},"getElapsed"),getElapsedSeconds:r(function(){return this.elapsed*.001},"getElapsedSeconds"),getRemaining:r(function(){return this.delay-this.elapsed},"getRemaining"),getRemainingSeconds:r(function(){return this.getRemaining()*.001},"getRemainingSeconds"),getOverallRemaining:r(function(){return this.delay*(1+this.repeatCount)-this.elapsed},"getOverallRemaining"),getOverallRemainingSeconds:r(function(){return this.getOverallRemaining()*.001},"getOverallRemainingSeconds"),remove:r(function(o){o===void 0&&(o=!1),this.elapsed=this.delay,this.hasDispatched=!o,this.repeatCount=0},"remove"),destroy:r(function(){this.callback=void 0,this.callbackScope=void 0,this.args=[]},"destroy")});n.exports=c},35945:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="complete"},89809:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={COMPLETE:i(35945)}},90291:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={Clock:i(33385),Events:i(89809),Timeline:i(96120),TimerEvent:i(94880)}},40382:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(72905),y=i(83419),c=i(43491),o=i(88032),l=i(37277),a=i(44594),u=i(93109),v=i(86081),d=i(8357),p=i(43960),g=i(26012),m=new y({initialize:r(function(C){this.scene=C,this.events=C.sys.events,this.timeScale=1,this.paused=!1,this.processing=!1,this.tweens=[],this.time=0,this.startTime=0,this.nextTime=0,this.prevTime=0,this.maxLag=500,this.lagSkip=33,this.gap=1e3/240,this.events.once(a.BOOT,this.boot,this),this.events.on(a.START,this.start,this)},"TweenManager"),boot:r(function(){this.events.once(a.DESTROY,this.destroy,this)},"boot"),start:r(function(){this.timeScale=1,this.paused=!1,this.startTime=Date.now(),this.prevTime=this.startTime,this.nextTime=this.gap,this.events.on(a.UPDATE,this.update,this),this.events.once(a.SHUTDOWN,this.shutdown,this)},"start"),create:r(function(x){Array.isArray(x)||(x=[x]);for(var C=[],P=0;P<x.length;P++){var A=x[P];A instanceof v||A instanceof p?C.push(A):Array.isArray(A.tweens)?C.push(g(this,A)):C.push(d(this,A))}return C.length===1?C[0]:C},"create"),add:r(function(x){var C=x,P=this.tweens;return C instanceof v||C instanceof p||(Array.isArray(C.tweens)?C=g(this,C):C=d(this,C)),P.push(C.reset()),C},"add"),addMultiple:r(function(x){for(var C,P=[],A=this.tweens,R=0;R<x.length;R++)C=x[R],C instanceof v||C instanceof p||(Array.isArray(C.tweens)?C=g(this,C):C=d(this,C)),A.push(C.reset()),P.push(C);return P},"addMultiple"),chain:r(function(x){var C=g(this,x);return this.tweens.push(C.init()),C},"chain"),getChainedTweens:r(function(x){return x.getChainedTweens()},"getChainedTweens"),has:r(function(x){return this.tweens.indexOf(x)>-1},"has"),existing:r(function(x){return this.has(x)||this.tweens.push(x.reset()),this},"existing"),addCounter:r(function(x){var C=o(this,x);return this.tweens.push(C.reset()),C},"addCounter"),stagger:r(function(x,C){return u(x,C)},"stagger"),setLagSmooth:r(function(x,C){return x===void 0&&(x=1/1e-8),C===void 0&&(C=0),this.maxLag=x,this.lagSkip=Math.min(C,this.maxLag),this},"setLagSmooth"),setFps:r(function(x){return x===void 0&&(x=240),this.gap=1e3/x,this.nextTime=this.time*1e3+this.gap,this},"setFps"),getDelta:r(function(x){var C=Date.now()-this.prevTime;C>this.maxLag&&(this.startTime+=C-this.lagSkip),this.prevTime+=C;var P=this.prevTime-this.startTime,A=P-this.nextTime,R=P-this.time*1e3;return A>0||x?(P/=1e3,this.time=P,this.nextTime+=A+(A>=this.gap?4:this.gap-A)):R=0,R},"getDelta"),tick:r(function(){return this.step(!0),this},"tick"),update:r(function(){this.paused||this.step(!1)},"update"),step:r(function(x){x===void 0&&(x=!1);var C=this.getDelta(x);if(!(C<=0)){this.processing=!0;var P,A,R=[],L=this.tweens;for(P=0;P<L.length;P++)A=L[P],A.update(C)&&R.push(A);var O=R.length;if(O&&L.length>0){for(P=0;P<O;P++){A=R[P];var w=L.indexOf(A);w>-1&&(A.isPendingRemove()||A.isDestroyed())&&(L.splice(w,1),A.destroy())}R.length=0}this.processing=!1}},"step"),remove:r(function(x){return this.processing?x.setPendingRemoveState():(f(this.tweens,x),x.setRemovedState()),this},"remove"),reset:r(function(x){return this.existing(x),x.seek(),x.setActiveState(),this},"reset"),makeActive:r(function(x){return this.existing(x),x.setActiveState(),this},"makeActive"),each:r(function(x,C){var P,A=[null];for(P=1;P<arguments.length;P++)A.push(arguments[P]);return this.tweens.forEach(function(R){A[0]=R,x.apply(C,A)}),this},"each"),getTweens:r(function(){return this.tweens.slice()},"getTweens"),getTweensOf:r(function(x){var C=[],P=this.tweens;Array.isArray(x)?x=c(x):x=[x];for(var A=x.length,R=0;R<P.length;R++)for(var L=P[R],O=0;O<A;O++)!L.isDestroyed()&&L.hasTarget(x[O])&&C.push(L);return C},"getTweensOf"),getGlobalTimeScale:r(function(){return this.timeScale},"getGlobalTimeScale"),setGlobalTimeScale:r(function(x){return this.timeScale=x,this},"setGlobalTimeScale"),isTweening:r(function(x){for(var C=this.tweens,P,A=0;A<C.length;A++)if(P=C[A],P.isPlaying()&&P.hasTarget(x))return!0;return!1},"isTweening"),killAll:r(function(){for(var x=this.processing?this.getTweens():this.tweens,C=0;C<x.length;C++)x[C].destroy();return this.processing||(x.length=0),this},"killAll"),killTweensOf:r(function(x){for(var C=this.getTweensOf(x),P=0;P<C.length;P++)C[P].destroy();return this},"killTweensOf"),pauseAll:r(function(){return this.paused=!0,this},"pauseAll"),resumeAll:r(function(){return this.paused=!1,this},"resumeAll"),shutdown:r(function(){this.killAll(),this.tweens=[],this.events.off(a.UPDATE,this.update,this),this.events.off(a.SHUTDOWN,this.shutdown,this)},"shutdown"),destroy:r(function(){this.shutdown(),this.events.off(a.START,this.start,this),this.scene=null,this.events=null},"destroy")});l.register("TweenManager",m,"tweens"),n.exports=m},57355:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i,f,y){return i&&i.hasOwnProperty(f)?i[f]:y},"GetBoolean");n.exports=T},6113:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(62640),y=i(35355),c=r(function(o,l){var a=f.Power0;if(typeof o=="string")if(f.hasOwnProperty(o))a=f[o];else{var u="";if(o.indexOf(".")){u=o.substring(o.indexOf(".")+1);var v=u.toLowerCase();v==="in"?u="easeIn":v==="out"?u="easeOut":v==="inout"&&(u="easeInOut")}o=y(o.substring(0,o.indexOf(".")+1)+u),f.hasOwnProperty(o)&&(a=f[o])}else typeof o=="function"&&(a=o);if(!l)return a;var d=l.slice(0);return d.unshift(0),function(p){return d[0]=p,a.apply(this,d)}},"GetEaseFunction");n.exports=c},91389:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(89318),y=i(77259),c=i(28392),o={bezier:f,catmull:y,catmullrom:y,linear:c},l=r(function(a){if(a===null)return null;var u=o.linear;return typeof a=="string"?o.hasOwnProperty(a)&&(u=o[a]):typeof a=="function"&&(u=a),u},"GetInterpolationFunction");n.exports=l},55292:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i,f,y){var c;if(i.hasOwnProperty(f)){var o=typeof i[f];o==="function"?c=r(function(l,a,u,v,d,p){return i[f](l,a,u,v,d,p)},"valueCallback"):c=r(function(){return i[f]},"valueCallback")}else typeof y=="function"?c=y:c=r(function(){return y},"valueCallback");return c},"GetNewValue");n.exports=T},82985:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(81076),y=r(function(c){var o,l=[];if(c.hasOwnProperty("props"))for(o in c.props)o.substring(0,1)!=="_"&&l.push({key:o,value:c.props[o]});else for(o in c)f.indexOf(o)===-1&&o.substring(0,1)!=="_"&&l.push({key:o,value:c[o]});return l},"GetProps");n.exports=y},62329:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(35154),y=r(function(c){var o=f(c,"targets",null);return o===null||(typeof o=="function"&&(o=o.call()),Array.isArray(o)||(o=[o])),o},"GetTargets");n.exports=y},17777:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(30976),y=i(99472);function c(v){return!!v.getActive&&typeof v.getActive=="function"}r(c,"hasGetActive");function o(v){return!!v.getStart&&typeof v.getStart=="function"}r(o,"hasGetStart");function l(v){return!!v.getEnd&&typeof v.getEnd=="function"}r(l,"hasGetEnd");function a(v){return o(v)||l(v)||c(v)}r(a,"hasGetters");var u=r(function(v,d){var p,g=r(function(H,$,V){return V},"getEnd"),m=r(function(H,$,V){return V},"getStart"),x=null,C=typeof d;if(C==="number")g=r(function(){return d},"getEnd");else if(Array.isArray(d))m=r(function(){return d[0]},"getStart"),g=r(function(){return d[d.length-1]},"getEnd");else if(C==="string"){var P=d.toLowerCase(),A=P.substring(0,6)==="random",R=P.substring(0,3)==="int";if(A||R){var L=P.indexOf("("),O=P.indexOf(")"),w=P.indexOf(",");if(L&&O&&w){var b=parseFloat(P.substring(L+1,w)),F=parseFloat(P.substring(w+1,O));A?g=r(function(){return y(b,F)},"getEnd"):g=r(function(){return f(b,F)},"getEnd")}else throw new Error("invalid random() format")}else{P=P[0];var M=parseFloat(d.substr(2));switch(P){case"+":g=r(function(H,$,V){return V+M},"getEnd");break;case"-":g=r(function(H,$,V){return V-M},"getEnd");break;case"*":g=r(function(H,$,V){return V*M},"getEnd");break;case"/":g=r(function(H,$,V){return V/M},"getEnd");break;default:g=r(function(){return parseFloat(d)},"getEnd")}}}else if(C==="function")g=d;else if(C==="object")if(a(d))c(d)&&(x=d.getActive),l(d)&&(g=d.getEnd),o(d)&&(m=d.getStart);else if(d.hasOwnProperty("value"))p=u(v,d.value);else{var I=d.hasOwnProperty("to"),B=d.hasOwnProperty("from"),G=d.hasOwnProperty("start");if(I&&(B||G)){if(p=u(v,d.to),G){var N=u(v,d.start);p.getActive=N.getEnd}if(B){var z=u(v,d.from);p.getStart=z.getEnd}}}return p||(p={getActive:x,getEnd:g,getStart:m}),p},"GetValueOp");n.exports=u},88032:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(70402),y=i(69902),c=i(23568),o=i(57355),l=i(6113),a=i(55292),u=i(35154),v=i(17777),d=i(269),p=i(86081),g=r(function(m,x,C){if(x instanceof p)return x.parent=m,x;C===void 0?C=y:C=d(y,C);var P=u(x,"from",0),A=u(x,"to",1),R=[{value:P}],L=u(x,"delay",C.delay),O=u(x,"easeParams",C.easeParams),w=u(x,"ease",C.ease),b=v("value",A),F=new p(m,R),M=F.add(0,"value",b.getEnd,b.getStart,b.getActive,l(u(x,"ease",w),u(x,"easeParams",O)),a(x,"delay",L),u(x,"duration",C.duration),o(x,"yoyo",C.yoyo),u(x,"hold",C.hold),u(x,"repeat",C.repeat),u(x,"repeatDelay",C.repeatDelay),!1,!1);M.start=P,M.current=P,F.completeDelay=c(x,"completeDelay",0),F.loop=Math.round(c(x,"loop",0)),F.loopDelay=Math.round(c(x,"loopDelay",0)),F.paused=o(x,"paused",!1),F.persist=o(x,"persist",!1),F.callbackScope=u(x,"callbackScope",F);for(var I=f.TYPES,B=0;B<I.length;B++){var G=I[B],N=u(x,G,!1);if(N){var z=u(x,G+"Params",[]);F.setCallback(G,N,z)}}return F},"NumberTweenBuilder");n.exports=g},93109:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(6113),y=i(35154),c=i(36383),o=r(function(l,a){a===void 0&&(a={});var u,v=y(a,"start",0),d=y(a,"ease",null),p=y(a,"grid",null),g=y(a,"from",0),m=g==="first",x=g==="center",C=g==="last",P=typeof g=="number",A=Array.isArray(l),R=parseFloat(A?l[0]:l),L=A?parseFloat(l[1]):0,O=Math.max(R,L);if(A&&(v+=R),p){var w=p[0],b=p[1],F=0,M=0,I=0,B=0,G=[];C?(F=w-1,M=b-1):P?(F=g%w,M=Math.floor(g/w)):x&&(F=(w-1)/2,M=(b-1)/2);for(var N=c.MIN_SAFE_INTEGER,z=0;z<b;z++){G[z]=[];for(var H=0;H<w;H++){I=F-H,B=M-z;var $=Math.sqrt(I*I+B*B);$>N&&(N=$),G[z][H]=$}}}var V=d?f(d):null;return p?u=r(function(Y,D,U,W){var k=0,X=W%w,K=Math.floor(W/w);X>=0&&X<w&&K>=0&&K<b&&(k=G[K][X]);var Z;if(A){var J=L-R;V?Z=k/N*J*V(k/N):Z=k/N*J}else V?Z=k*R*V(k/N):Z=k*R;return Z+v},"result"):u=r(function(Y,D,U,W,k){k--;var X;m?X=W:x?X=Math.abs(k/2-W):C?X=k-W:P&&(X=Math.abs(g-W));var K;if(A){var Z;x?Z=(L-R)/k*(X*2):Z=(L-R)/k*X,V?K=Z*V(X/k):K=Z}else V?K=k*O*V(X/k):K=X*R;return K+v},"result"),u},"StaggerBuilder");n.exports=o},8357:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(70402),y=i(69902),c=i(23568),o=i(57355),l=i(6113),a=i(91389),u=i(55292),v=i(82985),d=i(62329),p=i(35154),g=i(17777),m=i(269),x=i(86081),C=r(function(P,A,R){if(A instanceof x)return A.parent=P,A;R===void 0?R=y:R=m(y,R);var L=d(A);!L&&R.targets&&(L=R.targets);for(var O=v(A),w=p(A,"delay",R.delay),b=p(A,"duration",R.duration),F=p(A,"easeParams",R.easeParams),M=p(A,"ease",R.ease),I=p(A,"hold",R.hold),B=p(A,"repeat",R.repeat),G=p(A,"repeatDelay",R.repeatDelay),N=o(A,"yoyo",R.yoyo),z=o(A,"flipX",R.flipX),H=o(A,"flipY",R.flipY),$=p(A,"interpolation",R.interpolation),V=r(function(j,q,tt,_){if(tt==="texture"){var rt=_,ht=void 0;Array.isArray(_)?(rt=_[0],ht=_[1]):_.hasOwnProperty("value")?(rt=_.value,Array.isArray(_.value)?(rt=_.value[0],ht=_.value[1]):typeof _.value=="string"&&(rt=_.value)):typeof _=="string"&&(rt=_),j.addFrame(q,rt,ht,u(_,"delay",w),p(_,"duration",b),p(_,"hold",I),p(_,"repeat",B),p(_,"repeatDelay",G),o(_,"flipX",z),o(_,"flipY",H))}else{var lt=g(tt,_),ot=a(p(_,"interpolation",$));j.add(q,tt,lt.getEnd,lt.getStart,lt.getActive,l(p(_,"ease",M),p(_,"easeParams",F)),u(_,"delay",w),p(_,"duration",b),o(_,"yoyo",N),p(_,"hold",I),p(_,"repeat",B),p(_,"repeatDelay",G),o(_,"flipX",z),o(_,"flipY",H),ot,ot?_:null)}},"addTarget"),Y=new x(P,L),D=0;D<O.length;D++)for(var U=O[D].key,W=O[D].value,k=0;k<L.length;k++)U==="scale"&&!L[k].hasOwnProperty("scale")?(V(Y,k,"scaleX",W),V(Y,k,"scaleY",W)):V(Y,k,U,W);Y.completeDelay=c(A,"completeDelay",0),Y.loop=Math.round(c(A,"loop",0)),Y.loopDelay=Math.round(c(A,"loopDelay",0)),Y.paused=o(A,"paused",!1),Y.persist=o(A,"persist",!1),Y.callbackScope=p(A,"callbackScope",Y);for(var X=f.TYPES,K=0;K<X.length;K++){var Z=X[K],J=p(A,Z,!1);if(J){var Q=p(A,Z+"Params",[]);Y.setCallback(Z,J,Q)}}return Y},"TweenBuilder");n.exports=C},26012:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(70402),y=i(23568),c=i(57355),o=i(62329),l=i(35154),a=i(8357),u=i(43960),v=r(function(d,p){if(p instanceof u)return p.parent=d,p;var g=new u(d);g.startDelay=l(p,"delay",0),g.completeDelay=y(p,"completeDelay",0),g.loop=Math.round(y(p,"loop",l(p,"repeat",0))),g.loopDelay=Math.round(y(p,"loopDelay",l(p,"repeatDelay",0))),g.paused=c(p,"paused",!1),g.persist=c(p,"persist",!1),g.callbackScope=l(p,"callbackScope",g);var m,x=f.TYPES;for(m=0;m<x.length;m++){var C=x[m],P=l(p,C,!1);if(P){var A=l(p,C+"Params",[]);g.setCallback(C,P,A)}}var R=l(p,"tweens",null);if(Array.isArray(R)){var L=[],O=o(p),w=void 0;for(O&&(w={targets:O}),m=0;m<R.length;m++)L.push(a(g,R[m],w));g.add(L)}return g},"TweenChainBuilder");n.exports=v},30231:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={GetBoolean:i(57355),GetEaseFunction:i(6113),GetInterpolationFunction:i(91389),GetNewValue:i(55292),GetProps:i(82985),GetTargets:i(62329),GetValueOp:i(17777),NumberTweenBuilder:i(88032),StaggerBuilder:i(93109),TweenBuilder:i(8357)}},73685:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="active"},98540:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="complete"},67233:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="loop"},2859:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="pause"},98336:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="repeat"},25764:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="resume"},32193:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="start"},84371:n=>{/**
 * @author       samme
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="stop"},70766:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="update"},55659:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="yoyo"},842:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={TWEEN_ACTIVE:i(73685),TWEEN_COMPLETE:i(98540),TWEEN_LOOP:i(67233),TWEEN_PAUSE:i(2859),TWEEN_RESUME:i(25764),TWEEN_REPEAT:i(98336),TWEEN_START:i(32193),TWEEN_STOP:i(84371),TWEEN_UPDATE:i(70766),TWEEN_YOYO:i(55659)}},43066:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f={States:i(86353),Builders:i(30231),Events:i(842),TweenManager:i(40382),Tween:i(86081),TweenData:i(48177),TweenFrameData:i(42220),BaseTween:i(70402),TweenChain:i(43960)};n.exports=f},70402:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(83419),y=i(50792),c=i(842),o=i(86353),l=new f({Extends:y,initialize:r(function(u){y.call(this),this.parent=u,this.data=[],this.totalData=0,this.startDelay=0,this.hasStarted=!1,this.timeScale=1,this.loop=0,this.loopDelay=0,this.loopCounter=0,this.completeDelay=0,this.countdown=0,this.state=o.PENDING,this.paused=!1,this.callbacks={onActive:null,onComplete:null,onLoop:null,onPause:null,onRepeat:null,onResume:null,onStart:null,onStop:null,onUpdate:null,onYoyo:null},this.callbackScope,this.persist=!1},"BaseTween"),setTimeScale:r(function(a){return this.timeScale=a,this},"setTimeScale"),getTimeScale:r(function(){return this.timeScale},"getTimeScale"),isPlaying:r(function(){return!this.paused&&this.isActive()},"isPlaying"),isPaused:r(function(){return this.paused},"isPaused"),pause:r(function(){return this.paused||(this.paused=!0,this.dispatchEvent(c.TWEEN_PAUSE,"onPause")),this},"pause"),resume:r(function(){return this.paused&&(this.paused=!1,this.dispatchEvent(c.TWEEN_RESUME,"onResume")),this},"resume"),makeActive:r(function(){this.parent.makeActive(this),this.dispatchEvent(c.TWEEN_ACTIVE,"onActive")},"makeActive"),onCompleteHandler:r(function(){this.setPendingRemoveState(),this.dispatchEvent(c.TWEEN_COMPLETE,"onComplete")},"onCompleteHandler"),complete:r(function(a){return a===void 0&&(a=0),a?(this.setCompleteDelayState(),this.countdown=a):this.onCompleteHandler(),this},"complete"),completeAfterLoop:r(function(a){return a===void 0&&(a=0),this.loopCounter>a&&(this.loopCounter=a),this},"completeAfterLoop"),remove:r(function(){return this.parent&&this.parent.remove(this),this},"remove"),stop:r(function(){return this.parent&&!this.isRemoved()&&!this.isPendingRemove()&&!this.isDestroyed()&&(this.dispatchEvent(c.TWEEN_STOP,"onStop"),this.setPendingRemoveState()),this},"stop"),updateLoopCountdown:r(function(a){this.countdown-=a,this.countdown<=0&&(this.setActiveState(),this.dispatchEvent(c.TWEEN_LOOP,"onLoop"))},"updateLoopCountdown"),updateStartCountdown:r(function(a){return this.countdown-=a,this.countdown<=0&&(this.hasStarted=!0,this.setActiveState(),this.dispatchEvent(c.TWEEN_START,"onStart"),a=0),a},"updateStartCountdown"),updateCompleteDelay:r(function(a){this.countdown-=a,this.countdown<=0&&this.onCompleteHandler()},"updateCompleteDelay"),setCallback:r(function(a,u,v){return v===void 0&&(v=[]),this.callbacks.hasOwnProperty(a)&&(this.callbacks[a]={func:u,params:v}),this},"setCallback"),setPendingState:r(function(){this.state=o.PENDING},"setPendingState"),setActiveState:r(function(){this.state=o.ACTIVE},"setActiveState"),setLoopDelayState:r(function(){this.state=o.LOOP_DELAY},"setLoopDelayState"),setCompleteDelayState:r(function(){this.state=o.COMPLETE_DELAY},"setCompleteDelayState"),setStartDelayState:r(function(){this.state=o.START_DELAY,this.countdown=this.startDelay,this.hasStarted=!1},"setStartDelayState"),setPendingRemoveState:r(function(){this.state=o.PENDING_REMOVE},"setPendingRemoveState"),setRemovedState:r(function(){this.state=o.REMOVED},"setRemovedState"),setFinishedState:r(function(){this.state=o.FINISHED},"setFinishedState"),setDestroyedState:r(function(){this.state=o.DESTROYED},"setDestroyedState"),isPending:r(function(){return this.state===o.PENDING},"isPending"),isActive:r(function(){return this.state===o.ACTIVE},"isActive"),isLoopDelayed:r(function(){return this.state===o.LOOP_DELAY},"isLoopDelayed"),isCompleteDelayed:r(function(){return this.state===o.COMPLETE_DELAY},"isCompleteDelayed"),isStartDelayed:r(function(){return this.state===o.START_DELAY},"isStartDelayed"),isPendingRemove:r(function(){return this.state===o.PENDING_REMOVE},"isPendingRemove"),isRemoved:r(function(){return this.state===o.REMOVED},"isRemoved"),isFinished:r(function(){return this.state===o.FINISHED},"isFinished"),isDestroyed:r(function(){return this.state===o.DESTROYED},"isDestroyed"),destroy:r(function(){this.data&&this.data.forEach(function(a){a.destroy()}),this.removeAllListeners(),this.callbacks=null,this.data=null,this.parent=null,this.setDestroyedState()},"destroy")});l.TYPES=["onActive","onComplete","onLoop","onPause","onRepeat","onResume","onStart","onStop","onUpdate","onYoyo"],n.exports=l},95042:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(83419),y=i(842),c=i(86353),o=new f({initialize:r(function(a,u,v,d,p,g,m,x,C,P){this.tween=a,this.targetIndex=u,this.duration=d,this.totalDuration=0,this.delay=0,this.getDelay=v,this.yoyo=p,this.hold=g,this.repeat=m,this.repeatDelay=x,this.repeatCounter=0,this.flipX=C,this.flipY=P,this.progress=0,this.elapsed=0,this.state=0,this.isCountdown=!1},"BaseTweenData"),getTarget:r(function(){return this.tween.targets[this.targetIndex]},"getTarget"),setTargetValue:r(function(l){l===void 0&&(l=this.current),this.tween.targets[this.targetIndex][this.key]=l},"setTargetValue"),setCreatedState:r(function(){this.state=c.CREATED,this.isCountdown=!1},"setCreatedState"),setDelayState:r(function(){this.state=c.DELAY,this.isCountdown=!0},"setDelayState"),setPendingRenderState:r(function(){this.state=c.PENDING_RENDER,this.isCountdown=!1},"setPendingRenderState"),setPlayingForwardState:r(function(){this.state=c.PLAYING_FORWARD,this.isCountdown=!1},"setPlayingForwardState"),setPlayingBackwardState:r(function(){this.state=c.PLAYING_BACKWARD,this.isCountdown=!1},"setPlayingBackwardState"),setHoldState:r(function(){this.state=c.HOLD_DELAY,this.isCountdown=!0},"setHoldState"),setRepeatState:r(function(){this.state=c.REPEAT_DELAY,this.isCountdown=!0},"setRepeatState"),setCompleteState:r(function(){this.state=c.COMPLETE,this.isCountdown=!1},"setCompleteState"),isCreated:r(function(){return this.state===c.CREATED},"isCreated"),isDelayed:r(function(){return this.state===c.DELAY},"isDelayed"),isPendingRender:r(function(){return this.state===c.PENDING_RENDER},"isPendingRender"),isPlayingForward:r(function(){return this.state===c.PLAYING_FORWARD},"isPlayingForward"),isPlayingBackward:r(function(){return this.state===c.PLAYING_BACKWARD},"isPlayingBackward"),isHolding:r(function(){return this.state===c.HOLD_DELAY},"isHolding"),isRepeating:r(function(){return this.state===c.REPEAT_DELAY},"isRepeating"),isComplete:r(function(){return this.state===c.COMPLETE},"isComplete"),setStateFromEnd:r(function(l){this.yoyo?this.onRepeat(l,!0,!0):this.repeatCounter>0?this.onRepeat(l,!0,!1):this.setCompleteState()},"setStateFromEnd"),setStateFromStart:r(function(l){this.repeatCounter>0?this.onRepeat(l,!1):this.setCompleteState()},"setStateFromStart"),reset:r(function(){var l=this.tween,a=l.totalTargets,u=this.targetIndex,v=l.targets[u],d=this.key;this.progress=0,this.elapsed=0,this.delay=this.getDelay(v,d,0,u,a,l),this.repeatCounter=this.repeat===-1?c.MAX:this.repeat,this.setPendingRenderState();var p=this.duration+this.hold;this.yoyo&&(p+=this.duration);var g=p+this.repeatDelay;this.totalDuration=this.delay+p,this.repeat===-1?(this.totalDuration+=g*c.MAX,l.isInfinite=!0):this.repeat>0&&(this.totalDuration+=g*this.repeat),this.totalDuration>l.duration&&(l.duration=this.totalDuration),this.delay<l.startDelay&&(l.startDelay=this.delay),this.delay>0&&(this.elapsed=this.delay,this.setDelayState())},"reset"),onRepeat:r(function(l,a,u){var v=this.tween,d=v.totalTargets,p=this.targetIndex,g=v.targets[p],m=this.key,x=m!=="texture";if(this.elapsed=l,this.progress=l/this.duration,this.flipX&&g.toggleFlipX(),this.flipY&&g.toggleFlipY(),x&&(a||u)&&(this.start=this.getStartValue(g,m,this.start,p,d,v)),u){this.setPlayingBackwardState(),this.dispatchEvent(y.TWEEN_YOYO,"onYoyo");return}this.repeatCounter--,x&&(this.end=this.getEndValue(g,m,this.start,p,d,v)),this.repeatDelay>0?(this.elapsed=this.repeatDelay-l,x&&(this.current=this.start,g[m]=this.current),this.setRepeatState()):(this.setPlayingForwardState(),this.dispatchEvent(y.TWEEN_REPEAT,"onRepeat"))},"onRepeat"),destroy:r(function(){this.tween=null,this.getDelay=null,this.setCompleteState()},"destroy")});n.exports=o},69902:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={targets:null,delay:0,duration:1e3,ease:"Power0",easeParams:null,hold:0,repeat:0,repeatDelay:0,yoyo:!1,flipX:!1,flipY:!1,persist:!1,interpolation:null};n.exports=T},81076:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports=["callbackScope","completeDelay","delay","duration","ease","easeParams","flipX","flipY","hold","interpolation","loop","loopDelay","onActive","onActiveParams","onComplete","onCompleteParams","onLoop","onLoopParams","onPause","onPauseParams","onRepeat","onRepeatParams","onResume","onResumeParams","onStart","onStartParams","onStop","onStopParams","onUpdate","onUpdateParams","onYoyo","onYoyoParams","paused","persist","props","repeat","repeatDelay","targets","yoyo"]},86081:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(70402),y=i(83419),c=i(842),o=i(44603),l=i(39429),a=i(36383),u=i(86353),v=i(48177),d=i(42220),p=new y({Extends:f,initialize:r(function(m,x){f.call(this,m),this.targets=x,this.totalTargets=x.length,this.isSeeking=!1,this.isInfinite=!1,this.elapsed=0,this.totalElapsed=0,this.duration=0,this.progress=0,this.totalDuration=0,this.totalProgress=0},"Tween"),add:r(function(g,m,x,C,P,A,R,L,O,w,b,F,M,I,B,G){var N=new v(this,g,m,x,C,P,A,R,L,O,w,b,F,M,I,B,G);return this.totalData=this.data.push(N),N},"add"),addFrame:r(function(g,m,x,C,P,A,R,L,O,w){var b=new d(this,g,m,x,C,P,A,R,L,O,w);return this.totalData=this.data.push(b),b},"addFrame"),getValue:r(function(g){g===void 0&&(g=0);var m=null;return this.data&&(m=this.data[g].current),m},"getValue"),hasTarget:r(function(g){return this.targets&&this.targets.indexOf(g)!==-1},"hasTarget"),updateTo:r(function(g,m,x){if(x===void 0&&(x=!1),g!=="texture")for(var C=0;C<this.totalData;C++){var P=this.data[C];P.key===g&&(P.isPlayingForward()||P.isPlayingBackward())&&(P.end=m,x&&(P.start=P.current))}return this},"updateTo"),restart:r(function(){switch(this.state){case u.REMOVED:case u.FINISHED:this.seek(),this.parent.makeActive(this);break;case u.PENDING:case u.PENDING_REMOVE:this.parent.reset(this);break;case u.DESTROYED:console.warn("Cannot restart destroyed Tween",this);break;default:this.seek();break}return this.paused=!1,this.hasStarted=!1,this},"restart"),nextState:r(function(){if(this.loopCounter>0)this.elapsed=0,this.progress=0,this.loopCounter--,this.initTweenData(!0),this.loopDelay>0?(this.countdown=this.loopDelay,this.setLoopDelayState()):(this.setActiveState(),this.dispatchEvent(c.TWEEN_LOOP,"onLoop"));else if(this.completeDelay>0)this.countdown=this.completeDelay,this.setCompleteDelayState();else return this.onCompleteHandler(),!0;return!1},"nextState"),onCompleteHandler:r(function(){this.progress=1,this.totalProgress=1,f.prototype.onCompleteHandler.call(this)},"onCompleteHandler"),play:r(function(){return this.isDestroyed()?(console.warn("Cannot play destroyed Tween",this),this):((this.isPendingRemove()||this.isFinished())&&this.seek(),this.paused=!1,this.setActiveState(),this)},"play"),seek:r(function(g,m,x){if(g===void 0&&(g=0),m===void 0&&(m=16.6),x===void 0&&(x=!1),this.isDestroyed())return console.warn("Cannot seek destroyed Tween",this),this;x||(this.isSeeking=!0),this.reset(!0),this.initTweenData(!0),this.setActiveState(),this.dispatchEvent(c.TWEEN_ACTIVE,"onActive");var C=this.paused;if(this.paused=!1,g>0){for(var P=Math.floor(g/m),A=g-P*m,R=0;R<P;R++)this.update(m);A>0&&this.update(A)}return this.paused=C,this.isSeeking=!1,this},"seek"),initTweenData:r(function(g){g===void 0&&(g=!1),this.duration=0,this.startDelay=a.MAX_SAFE_INTEGER;for(var m=this.data,x=0;x<this.totalData;x++)m[x].reset(g);this.duration=Math.max(this.duration,.01);var C=this.duration,P=this.completeDelay,A=this.loopCounter,R=this.loopDelay;A>0?this.totalDuration=C+P+(C+R)*A:this.totalDuration=C+P},"initTweenData"),reset:r(function(g){return g===void 0&&(g=!1),this.elapsed=0,this.totalElapsed=0,this.progress=0,this.totalProgress=0,this.loopCounter=this.loop,this.loop===-1&&(this.isInfinite=!0,this.loopCounter=u.MAX),g||(this.initTweenData(),this.setActiveState(),this.dispatchEvent(c.TWEEN_ACTIVE,"onActive")),this},"reset"),update:r(function(g){if(this.isPendingRemove()||this.isDestroyed())return!0;if(this.paused||this.isFinished())return!1;if(g*=this.timeScale*this.parent.timeScale,this.isLoopDelayed())return this.updateLoopCountdown(g),!1;if(this.isCompleteDelayed())return this.updateCompleteDelay(g),!1;this.hasStarted||(this.startDelay-=g,this.startDelay<=0&&(this.hasStarted=!0,this.dispatchEvent(c.TWEEN_START,"onStart"),g=0));var m=!1;if(this.isActive())for(var x=this.data,C=0;C<this.totalData;C++)x[C].update(g)&&(m=!0);this.elapsed+=g,this.progress=Math.min(this.elapsed/this.duration,1),this.totalElapsed+=g,this.totalProgress=Math.min(this.totalElapsed/this.totalDuration,1),m||this.nextState();var P=this.isPendingRemove();return P&&this.persist&&(this.setFinishedState(),P=!1),P},"update"),forward:r(function(g){return this.update(g),this},"forward"),rewind:r(function(g){return this.update(-g),this},"rewind"),dispatchEvent:r(function(g,m){if(!this.isSeeking){this.emit(g,this,this.targets);var x=this.callbacks[m];x&&x.func.apply(this.callbackScope,[this,this.targets].concat(x.params))}},"dispatchEvent"),destroy:r(function(){f.prototype.destroy.call(this),this.targets=null},"destroy")});l.register("tween",function(g){return this.scene.sys.tweens.add(g)}),o.register("tween",function(g){return this.scene.sys.tweens.create(g)}),n.exports=p},43960:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(72905),y=i(70402),c=i(83419),o=i(842),l=i(44603),a=i(39429),u=i(86353),v=new c({Extends:y,initialize:r(function(p){y.call(this,p),this.currentTween=null,this.currentIndex=0},"TweenChain"),init:r(function(){return this.loopCounter=this.loop===-1?u.MAX:this.loop,this.setCurrentTween(0),this.startDelay>0&&!this.isStartDelayed()?this.setStartDelayState():this.setActiveState(),this.dispatchEvent(o.TWEEN_ACTIVE,"onActive"),this},"init"),add:r(function(d){var p=this.parent.create(d);Array.isArray(p)||(p=[p]);for(var g=this.data,m=0;m<p.length;m++){var x=p[m];x.parent=this,g.push(x.reset())}return this.totalData=g.length,this},"add"),remove:r(function(d){return f(this.data,d),d.setRemovedState(),d===this.currentTween&&this.nextTween(),this.totalData=this.data.length,this},"remove"),hasTarget:r(function(d){for(var p=this.data,g=0;g<this.totalData;g++)if(p[g].hasTarget(d))return!0;return!1},"hasTarget"),restart:r(function(){return this.isDestroyed()?(console.warn("Cannot restart destroyed TweenChain",this),this):(this.isRemoved()&&this.parent.makeActive(this),this.resetTweens(),this.paused=!1,this.init())},"restart"),reset:r(function(d){return d.seek(),d.setActiveState(),this},"reset"),makeActive:r(function(d){return d.reset(),d.setActiveState(),this},"makeActive"),nextState:r(function(){if(this.loopCounter>0)this.loopCounter--,this.resetTweens(),this.loopDelay>0?(this.countdown=this.loopDelay,this.setLoopDelayState()):(this.setActiveState(),this.dispatchEvent(o.TWEEN_LOOP,"onLoop"));else if(this.completeDelay>0)this.countdown=this.completeDelay,this.setCompleteDelayState();else return this.onCompleteHandler(),!0;return!1},"nextState"),play:r(function(){return this.isDestroyed()?(console.warn("Cannot play destroyed TweenChain",this),this):((this.isPendingRemove()||this.isPending())&&this.resetTweens(),this.paused=!1,this.startDelay>0&&!this.isStartDelayed()?this.setStartDelayState():this.setActiveState(),this)},"play"),resetTweens:r(function(){for(var d=this.data,p=this.totalData,g=0;g<p;g++)d[g].reset(!1);this.currentIndex=0,this.currentTween=d[0]},"resetTweens"),update:r(function(d){if(this.isPendingRemove()||this.isDestroyed())return!0;if(this.isFinished()||this.paused)return!1;d*=this.parent.timeScale,this.isLoopDelayed()?this.updateLoopCountdown(d):this.isCompleteDelayed()?this.updateCompleteDelay(d):this.isStartDelayed()&&(d=this.updateStartCountdown(d));var p=!1;return this.isActive()&&this.currentTween&&(this.currentTween.update(d)&&this.nextTween()&&this.nextState(),p=this.isPendingRemove(),p&&this.persist&&(this.setFinishedState(),p=!1)),p},"update"),nextTween:r(function(){return this.currentIndex++,this.currentIndex===this.totalData?!0:(this.setCurrentTween(this.currentIndex),!1)},"nextTween"),setCurrentTween:r(function(d){this.currentIndex=d,this.currentTween=this.data[d],this.currentTween.setActiveState(),this.currentTween.dispatchEvent(o.TWEEN_ACTIVE,"onActive")},"setCurrentTween"),dispatchEvent:r(function(d,p){this.emit(d,this);var g=this.callbacks[p];g&&g.func.apply(this.callbackScope,[this].concat(g.params))},"dispatchEvent"),destroy:r(function(){y.prototype.destroy.call(this),this.currentTween=null},"destroy")});a.register("tweenchain",function(d){return this.scene.sys.tweens.chain(d)}),l.register("tweenchain",function(d){return this.scene.sys.tweens.create(d)}),n.exports=v},48177:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(95042),y=i(45319),c=i(83419),o=i(842),l=new c({Extends:f,initialize:r(function(u,v,d,p,g,m,x,C,P,A,R,L,O,w,b,F,M){f.call(this,u,v,C,P,A,R,L,O,w,b),this.key=d,this.getActiveValue=m,this.getEndValue=p,this.getStartValue=g,this.ease=x,this.start=0,this.previous=0,this.current=0,this.end=0,this.interpolation=F,this.interpolationData=M},"TweenData"),reset:r(function(a){f.prototype.reset.call(this);var u=this.tween.targets[this.targetIndex],v=this.key;a&&(u[v]=this.start),this.start=0,this.previous=0,this.current=0,this.end=0,this.getActiveValue&&(u[v]=this.getActiveValue(u,v,0))},"reset"),update:r(function(a){var u=this.tween,v=u.totalTargets,d=this.targetIndex,p=u.targets[d],g=this.key;if(!p)return this.setCompleteState(),!1;if(this.isCountdown&&(this.elapsed-=a,this.elapsed<=0&&(this.elapsed=0,a=0,this.isDelayed()?this.setPendingRenderState():this.isRepeating()?(this.setPlayingForwardState(),this.dispatchEvent(o.TWEEN_REPEAT,"onRepeat")):this.isHolding()&&this.setStateFromEnd(0))),this.isPendingRender())return this.start=this.getStartValue(p,g,p[g],d,v,u),this.end=this.getEndValue(p,g,this.start,d,v,u),this.current=this.start,p[g]=this.start,this.setPlayingForwardState(),!0;var m=this.isPlayingForward(),x=this.isPlayingBackward();if(m||x){var C=this.elapsed,P=this.duration,A=0,R=!1;C+=a,C>=P?(A=C-P,C=P,R=!0):C<0&&(C=0);var L=y(C/P,0,1);if(this.elapsed=C,this.progress=L,this.previous=this.current,R)m?(this.current=this.end,p[g]=this.end,this.hold>0?(this.elapsed=this.hold,this.setHoldState()):this.setStateFromEnd(A)):(this.current=this.start,p[g]=this.start,this.setStateFromStart(A));else{m||(L=1-L);var O=this.ease(L);this.interpolation?this.current=this.interpolation(this.interpolationData,O):this.current=this.start+(this.end-this.start)*O,p[g]=this.current}this.dispatchEvent(o.TWEEN_UPDATE,"onUpdate")}return!this.isComplete()},"update"),dispatchEvent:r(function(a,u){var v=this.tween;if(!v.isSeeking){var d=v.targets[this.targetIndex],p=this.key,g=this.current,m=this.previous;v.emit(a,v,p,d,g,m);var x=v.callbacks[u];x&&x.func.apply(v.callbackScope,[v,d,p,g,m].concat(x.params))}},"dispatchEvent"),destroy:r(function(){f.prototype.destroy.call(this),this.getActiveValue=null,this.getEndValue=null,this.getStartValue=null,this.ease=null},"destroy")});n.exports=l},42220:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(95042),y=i(45319),c=i(83419),o=i(842),l=new c({Extends:f,initialize:r(function(u,v,d,p,g,m,x,C,P,A,R){f.call(this,u,v,g,m,!1,x,C,P,A,R),this.key="texture",this.startTexture=null,this.endTexture=d,this.startFrame=null,this.endFrame=p,this.yoyo=C!==0},"TweenFrameData"),reset:r(function(a){f.prototype.reset.call(this);var u=this.tween.targets[this.targetIndex];this.startTexture||(this.startTexture=u.texture.key,this.startFrame=u.frame.name),a&&u.setTexture(this.startTexture,this.startFrame)},"reset"),update:r(function(a){var u=this.tween,v=this.targetIndex,d=u.targets[v];if(!d)return this.setCompleteState(),!1;if(this.isCountdown&&(this.elapsed-=a,this.elapsed<=0&&(this.elapsed=0,a=0,this.isDelayed()?this.setPendingRenderState():this.isRepeating()?(this.setPlayingForwardState(),this.dispatchEvent(o.TWEEN_REPEAT,"onRepeat")):this.isHolding()&&this.setStateFromEnd(0))),this.isPendingRender())return this.startTexture&&d.setTexture(this.startTexture,this.startFrame),this.setPlayingForwardState(),!0;var p=this.isPlayingForward(),g=this.isPlayingBackward();if(p||g){var m=this.elapsed,x=this.duration,C=0,P=!1;m+=a,m>=x?(C=m-x,m=x,P=!0):m<0&&(m=0);var A=y(m/x,0,1);this.elapsed=m,this.progress=A,P&&(p?(d.setTexture(this.endTexture,this.endFrame),this.hold>0?(this.elapsed=this.hold,this.setHoldState()):this.setStateFromEnd(C)):(d.setTexture(this.startTexture,this.startFrame),this.setStateFromStart(C))),this.dispatchEvent(o.TWEEN_UPDATE,"onUpdate")}return!this.isComplete()},"update"),dispatchEvent:r(function(a,u){var v=this.tween;if(!v.isSeeking){var d=v.targets[this.targetIndex],p=this.key;v.emit(a,v,p,d);var g=v.callbacks[u];g&&g.func.apply(v.callbackScope,[v,d,p].concat(g.params))}},"dispatchEvent"),destroy:r(function(){f.prototype.destroy.call(this),this.startTexture=null,this.endTexture=null,this.startFrame=null,this.endFrame=null},"destroy")});n.exports=l},86353:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={CREATED:0,DELAY:2,PENDING_RENDER:4,PLAYING_FORWARD:5,PLAYING_BACKWARD:6,HOLD_DELAY:7,REPEAT_DELAY:8,COMPLETE:9,PENDING:20,ACTIVE:21,LOOP_DELAY:22,COMPLETE_DELAY:23,START_DELAY:24,PENDING_REMOVE:25,REMOVED:26,FINISHED:27,DESTROYED:28,MAX:999999999999};n.exports=T},83419:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function T(l){return!!l.get&&typeof l.get=="function"||!!l.set&&typeof l.set=="function"}r(T,"hasGetterOrSetter");function i(l,a,u){var v=u?l[a]:Object.getOwnPropertyDescriptor(l,a);return!u&&v.value&&typeof v.value=="object"&&(v=v.value),v&&T(v)?(typeof v.enumerable>"u"&&(v.enumerable=!0),typeof v.configurable>"u"&&(v.configurable=!0),v):!1}r(i,"getProperty");function f(l,a){var u=Object.getOwnPropertyDescriptor(l,a);return u?(u.value&&typeof u.value=="object"&&(u=u.value),u.configurable===!1):!1}r(f,"hasNonConfigurable");function y(l,a,u,v){for(var d in a)if(a.hasOwnProperty(d)){var p=i(a,d,u);if(p!==!1){var g=v||l;if(f(g.prototype,d)){if(o.ignoreFinals)continue;throw new Error("cannot override final property '"+d+"', set Class.ignoreFinals = true to skip")}Object.defineProperty(l.prototype,d,p)}else l.prototype[d]=a[d]}}r(y,"extend");function c(l,a){if(a){Array.isArray(a)||(a=[a]);for(var u=0;u<a.length;u++)y(l,a[u].prototype||a[u])}}r(c,"mixin");function o(l){l||(l={});var a,u;if(l.initialize){if(typeof l.initialize!="function")throw new Error("initialize must be a function");a=l.initialize,delete l.initialize}else if(l.Extends){var v=l.Extends;a=r(function(){v.apply(this,arguments)},"initialize")}else a=r(function(){},"initialize");l.Extends?(a.prototype=Object.create(l.Extends.prototype),a.prototype.constructor=a,u=l.Extends,delete l.Extends):a.prototype.constructor=a;var d=null;return l.Mixins&&(d=l.Mixins,delete l.Mixins),c(a,d),y(a,l,!0,u),a}r(o,"Class"),o.extend=y,o.mixin=c,o.ignoreFinals=!1,n.exports=o},29747:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(){},"NOOP");n.exports=T},20242:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(){return null},"NULL");n.exports=T},71146:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i,f,y,c,o){if(o===void 0&&(o=i),y>0){var l=y-i.length;if(l<=0)return null}if(!Array.isArray(f))return i.indexOf(f)===-1?(i.push(f),c&&c.call(o,f),f):null;for(var a=f.length-1;a>=0;)i.indexOf(f[a])!==-1&&f.splice(a,1),a--;if(a=f.length,a===0)return null;y>0&&a>l&&(f.splice(l),a=l);for(var u=0;u<a;u++){var v=f[u];i.push(v),c&&c.call(o,v)}return f},"Add");n.exports=T},51067:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i,f,y,c,o,l){if(y===void 0&&(y=0),l===void 0&&(l=i),c>0){var a=c-i.length;if(a<=0)return null}if(!Array.isArray(f))return i.indexOf(f)===-1?(i.splice(y,0,f),o&&o.call(l,f),f):null;for(var u=f.length-1;u>=0;)i.indexOf(f[u])!==-1&&f.pop(),u--;if(u=f.length,u===0)return null;c>0&&u>a&&(f.splice(a),u=a);for(var v=u-1;v>=0;v--){var d=f[v];i.splice(y,0,d),o&&o.call(l,d)}return f},"AddAt");n.exports=T},66905:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i,f){var y=i.indexOf(f);return y!==-1&&y<i.length&&(i.splice(y,1),i.push(f)),f},"BringToTop");n.exports=T},21612:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(82011),y=r(function(c,o,l,a,u){a===void 0&&(a=0),u===void 0&&(u=c.length);var v=0;if(f(c,a,u))for(var d=a;d<u;d++){var p=c[d];p[o]===l&&v++}return v},"CountAllMatching");n.exports=y},95428:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i,f,y){var c,o=[null];for(c=3;c<arguments.length;c++)o.push(arguments[c]);for(c=0;c<i.length;c++)o[0]=i[c],f.apply(y,o);return i},"Each");n.exports=T},36914:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(82011),y=r(function(c,o,l,a,u){if(a===void 0&&(a=0),u===void 0&&(u=c.length),f(c,a,u)){var v,d=[null];for(v=5;v<arguments.length;v++)d.push(arguments[v]);for(v=a;v<u;v++)d[0]=c[v],o.apply(l,d)}return c},"EachInRange");n.exports=y},81957:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i,f,y){if(f.length){if(f.length===1)return f[0]}else return NaN;var c=1,o,l;if(y){if(i<f[0][y])return f[0];for(;f[c][y]<i;)c++}else for(;f[c]<i;)c++;return c>f.length&&(c=f.length),y?(o=f[c-1][y],l=f[c][y],l-i<=i-o?f[c]:f[c-1]):(o=f[c-1],l=f[c],l-i<=i-o?l:o)},"FindClosestInSorted");n.exports=T},43491:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i,f){f===void 0&&(f=[]);for(var y=0;y<i.length;y++)Array.isArray(i[y])?T(i[y],f):f.push(i[y]);return f},"Flatten");n.exports=T},46710:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(82011),y=r(function(c,o,l,a,u){a===void 0&&(a=0),u===void 0&&(u=c.length);var v=[];if(f(c,a,u))for(var d=a;d<u;d++){var p=c[d];(!o||o&&l===void 0&&p.hasOwnProperty(o)||o&&l!==void 0&&p[o]===l)&&v.push(p)}return v},"GetAll");n.exports=y},58731:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(82011),y=r(function(c,o,l,a,u){if(a===void 0&&(a=0),u===void 0&&(u=c.length),f(c,a,u))for(var v=a;v<u;v++){var d=c[v];if(!o||o&&l===void 0&&d.hasOwnProperty(o)||o&&l!==void 0&&d[o]===l)return d}return null},"GetFirst");n.exports=y},26546:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i,f,y){f===void 0&&(f=0),y===void 0&&(y=i.length);var c=f+Math.floor(Math.random()*y);return i[c]===void 0?null:i[c]},"GetRandom");n.exports=T},85835:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i,f,y){if(f===y)return i;var c=i.indexOf(f),o=i.indexOf(y);if(c<0||o<0)throw new Error("Supplied items must be elements of the same array");return c>o||(i.splice(c,1),o===i.length-1?i.push(f):i.splice(o,0,f)),i},"MoveAbove");n.exports=T},83371:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i,f,y){if(f===y)return i;var c=i.indexOf(f),o=i.indexOf(y);if(c<0||o<0)throw new Error("Supplied items must be elements of the same array");return c<o||(i.splice(c,1),o===0?i.unshift(f):i.splice(o,0,f)),i},"MoveBelow");n.exports=T},70864:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i,f){var y=i.indexOf(f);if(y>0){var c=i[y-1],o=i.indexOf(c);i[y]=c,i[o]=f}return i},"MoveDown");n.exports=T},69693:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i,f,y){var c=i.indexOf(f);if(c===-1||y<0||y>=i.length)throw new Error("Supplied index out of bounds");return c!==y&&(i.splice(c,1),i.splice(y,0,f)),f},"MoveTo");n.exports=T},40853:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i,f){var y=i.indexOf(f);if(y!==-1&&y<i.length-1){var c=i[y+1],o=i.indexOf(c);i[y]=c,i[o]=f}return i},"MoveUp");n.exports=T},20283:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i,f,y,c){var o=[],l,a=!1;if((y||c)&&(a=!0,y||(y=""),c||(c="")),f<i)for(l=i;l>=f;l--)a?o.push(y+l.toString()+c):o.push(l);else for(l=i;l<=f;l++)a?o.push(y+l.toString()+c):o.push(l);return o},"NumberArray");n.exports=T},593:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(2284),y=r(function(c,o,l){c===void 0&&(c=0),o===void 0&&(o=null),l===void 0&&(l=1),o===null&&(o=c,c=0);for(var a=[],u=Math.max(f((o-c)/(l||1)),0),v=0;v<u;v++)a.push(c),c+=l;return a},"NumberArrayStep");n.exports=y},43886:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function T(y,c,o){var l=y[c];y[c]=y[o],y[o]=l}r(T,"swap");function i(y,c){return y<c?-1:y>c?1:0}r(i,"defaultCompare");var f=r(function(y,c,o,l,a){for(o===void 0&&(o=0),l===void 0&&(l=y.length-1),a===void 0&&(a=i);l>o;){if(l-o>600){var u=l-o+1,v=c-o+1,d=Math.log(u),p=.5*Math.exp(2*d/3),g=.5*Math.sqrt(d*p*(u-p)/u)*(v-u/2<0?-1:1),m=Math.max(o,Math.floor(c-v*p/u+g)),x=Math.min(l,Math.floor(c+(u-v)*p/u+g));f(y,c,m,x,a)}var C=y[c],P=o,A=l;for(T(y,o,c),a(y[l],C)>0&&T(y,o,l);P<A;){for(T(y,P,A),P++,A--;a(y[P],C)<0;)P++;for(;a(y[A],C)>0;)A--}a(y[o],C)===0?T(y,o,A):(A++,T(y,A,l)),A<=c&&(o=A+1),c<=A&&(l=A-1)}},"QuickSelect");n.exports=f},88492:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(35154),y=i(33680),c=r(function(l,a,u){for(var v=[],d=0;d<l.length;d++)for(var p=0;p<a.length;p++)for(var g=0;g<u;g++)v.push({a:l[d],b:a[p]});return v},"BuildChunk"),o=r(function(l,a,u){var v=f(u,"max",0),d=f(u,"qty",1),p=f(u,"random",!1),g=f(u,"randomB",!1),m=f(u,"repeat",0),x=f(u,"yoyo",!1),C=[];if(g&&y(a),m===-1)if(v===0)m=0;else{var P=l.length*a.length*d;x&&(P*=2),m=Math.ceil(v/P)}for(var A=0;A<=m;A++){var R=c(l,a,d);p&&y(R),C=C.concat(R),x&&(R.reverse(),C=C.concat(R))}return v&&C.splice(v),C},"Range");n.exports=o},72905:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(19133),y=r(function(c,o,l,a){a===void 0&&(a=c);var u;if(!Array.isArray(o))return u=c.indexOf(o),u!==-1?(f(c,u),l&&l.call(a,o),o):null;for(var v=o.length-1,d=[];v>=0;){var p=o[v];u=c.indexOf(p),u!==-1&&(f(c,u),d.push(p),l&&l.call(a,p)),v--}return d},"Remove");n.exports=y},60248:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(19133),y=r(function(c,o,l,a){if(a===void 0&&(a=c),o<0||o>c.length-1)throw new Error("Index out of bounds");var u=f(c,o);return l&&l.call(a,u),u},"RemoveAt");n.exports=y},81409:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(82011),y=r(function(c,o,l,a,u){if(o===void 0&&(o=0),l===void 0&&(l=c.length),u===void 0&&(u=c),f(c,o,l)){var v=l-o,d=c.splice(o,v);if(a)for(var p=0;p<d.length;p++){var g=d[p];a.call(u,g)}return d}else return[]},"RemoveBetween");n.exports=y},31856:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(19133),y=r(function(c,o,l){o===void 0&&(o=0),l===void 0&&(l=c.length);var a=o+Math.floor(Math.random()*l);return f(c,a)},"RemoveRandomElement");n.exports=y},42169:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i,f,y){var c=i.indexOf(f),o=i.indexOf(y);return c!==-1&&o===-1?(i[c]=y,!0):!1},"Replace");n.exports=T},86003:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i,f){f===void 0&&(f=1);for(var y=null,c=0;c<f;c++)y=i.shift(),i.push(y);return y},"RotateLeft");n.exports=T},49498:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i,f){f===void 0&&(f=1);for(var y=null,c=0;c<f;c++)y=i.pop(),i.unshift(y);return y},"RotateRight");n.exports=T},82011:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i,f,y,c){var o=i.length;if(f<0||f>o||f>=y||y>o){if(c)throw new Error("Range Error: Values outside acceptable range");return!1}else return!0},"SafeRange");n.exports=T},89545:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i,f){var y=i.indexOf(f);return y!==-1&&y>0&&(i.splice(y,1),i.unshift(f)),f},"SendToBack");n.exports=T},17810:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(82011),y=r(function(c,o,l,a,u){if(a===void 0&&(a=0),u===void 0&&(u=c.length),f(c,a,u))for(var v=a;v<u;v++){var d=c[v];d.hasOwnProperty(o)&&(d[o]=l)}return c},"SetAll");n.exports=y},33680:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i){for(var f=i.length-1;f>0;f--){var y=Math.floor(Math.random()*(f+1)),c=i[f];i[f]=i[y],i[y]=c}return i},"Shuffle");n.exports=T},90126:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i){var f=/\D/g;return i.sort(function(y,c){return parseInt(y.replace(f,""),10)-parseInt(c.replace(f,""),10)}),i},"SortByDigits");n.exports=T},19133:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i,f){if(!(f>=i.length)){for(var y=i.length-1,c=i[f],o=f;o<y;o++)i[o]=i[o+1];return i.length=y,c}},"SpliceOne");n.exports=T},19186:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Angry Bytes (and contributors)
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(82264);function y(a,u){return String(a).localeCompare(u)}r(y,"Compare");function c(a,u){var v=a.length;if(v<=1)return a;for(var d=new Array(v),p=1;p<v;p*=2){o(a,u,p,d);var g=a;a=d,d=g}return a}r(c,"Process");function o(a,u,v,d){var p=a.length,g=0,m=v*2,x,C,P,A,R;for(x=0;x<p;x+=m)for(C=x+v,P=C+v,C>p&&(C=p),P>p&&(P=p),A=x,R=C;;)if(A<C&&R<P)u(a[A],a[R])<=0?d[g++]=a[A++]:d[g++]=a[R++];else if(A<C)d[g++]=a[A++];else if(R<P)d[g++]=a[R++];else break}r(o,"RunPass");var l=r(function(a,u){if(u===void 0&&(u=y),!a||a.length<2)return a;if(f.features.stableSort)return a.sort(u);var v=c(a,u);return v!==a&&o(v,null,a.length,a),a},"StableSort");n.exports=l},25630:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i,f,y){if(f===y)return i;var c=i.indexOf(f),o=i.indexOf(y);if(c<0||o<0)throw new Error("Supplied items must be elements of the same array");return i[c]=y,i[o]=f,i},"Swap");n.exports=T},37105:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={Matrix:i(54915),Add:i(71146),AddAt:i(51067),BringToTop:i(66905),CountAllMatching:i(21612),Each:i(95428),EachInRange:i(36914),FindClosestInSorted:i(81957),Flatten:i(43491),GetAll:i(46710),GetFirst:i(58731),GetRandom:i(26546),MoveDown:i(70864),MoveTo:i(69693),MoveUp:i(40853),MoveAbove:i(85835),MoveBelow:i(83371),NumberArray:i(20283),NumberArrayStep:i(593),QuickSelect:i(43886),Range:i(88492),Remove:i(72905),RemoveAt:i(60248),RemoveBetween:i(81409),RemoveRandomElement:i(31856),Replace:i(42169),RotateLeft:i(86003),RotateRight:i(49498),SafeRange:i(82011),SendToBack:i(89545),SetAll:i(17810),Shuffle:i(33680),SortByDigits:i(90126),SpliceOne:i(19133),StableSort:i(19186),Swap:i(25630)}},86922:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i){if(!Array.isArray(i)||!Array.isArray(i[0]))return!1;for(var f=i[0].length,y=1;y<i.length;y++)if(i[y].length!==f)return!1;return!0},"CheckMatrix");n.exports=T},63362:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(41836),y=i(86922),c=r(function(o){var l="";if(!y(o))return l;for(var a=0;a<o.length;a++){for(var u=0;u<o[a].length;u++){var v=o[a][u].toString();v!=="undefined"?l+=f(v,2):l+="?",u<o[a].length-1&&(l+=" |")}if(a<o.length-1){l+=`
`;for(var d=0;d<o[a].length;d++)l+="---",d<o[a].length-1&&(l+="+");l+=`
`}}return l},"MatrixToString");n.exports=c},92598:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i){return i.reverse()},"ReverseColumns");n.exports=T},21224:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i){for(var f=0;f<i.length;f++)i[f].reverse();return i},"ReverseRows");n.exports=T},98717:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(37829),y=r(function(c){return f(c,180)},"Rotate180");n.exports=y},44657:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(37829),y=r(function(c,o){o===void 0&&(o=1);for(var l=0;l<o;l++)c=f(c,90);return c},"RotateLeft");n.exports=y},37829:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(86922),y=i(2429),c=r(function(o,l){if(l===void 0&&(l=90),!f(o))return null;if(typeof l!="string"&&(l=(l%360+360)%360),l===90||l===-270||l==="rotateLeft")o=y(o),o.reverse();else if(l===-90||l===270||l==="rotateRight")o.reverse(),o=y(o);else if(Math.abs(l)===180||l==="rotate180"){for(var a=0;a<o.length;a++)o[a].reverse();o.reverse()}return o},"RotateMatrix");n.exports=c},92632:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(37829),y=r(function(c,o){o===void 0&&(o=1);for(var l=0;l<o;l++)c=f(c,-90);return c},"RotateRight");n.exports=y},69512:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(86003),y=i(49498),c=r(function(o,l,a){if(l===void 0&&(l=0),a===void 0&&(a=0),a!==0&&(a<0?f(o,Math.abs(a)):y(o,a)),l!==0)for(var u=0;u<o.length;u++){var v=o[u];l<0?f(v,Math.abs(l)):y(v,l)}return o},"TranslateMatrix");n.exports=c},2429:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i){for(var f=i.length,y=i[0].length,c=new Array(y),o=0;o<y;o++){c[o]=new Array(f);for(var l=f-1;l>-1;l--)c[o][l]=i[l][o]}return c},"TransposeMatrix");n.exports=T},54915:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={CheckMatrix:i(86922),MatrixToString:i(63362),ReverseColumns:i(92598),ReverseRows:i(21224),Rotate180:i(98717),RotateLeft:i(44657),RotateMatrix:i(37829),RotateRight:i(92632),Translate:i(69512),TransposeMatrix:i(2429)}},71334:n=>{/**
 * @author       Niklas von Hertzen (https://github.com/niklasvh/base64-arraybuffer)
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i=r(function(f,y){for(var c=new Uint8Array(f),o=c.length,l=y?"data:"+y+";base64,":"",a=0;a<o;a+=3)l+=T[c[a]>>2],l+=T[(c[a]&3)<<4|c[a+1]>>4],l+=T[(c[a+1]&15)<<2|c[a+2]>>6],l+=T[c[a+2]&63];return o%3===2?l=l.substring(0,l.length-1)+"=":o%3===1&&(l=l.substring(0,l.length-2)+"=="),l},"ArrayBufferToBase64");n.exports=i},53134:n=>{/**
 * @author       Niklas von Hertzen (https://github.com/niklasvh/base64-arraybuffer)
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */for(var T="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i=new Uint8Array(256),f=0;f<T.length;f++)i[T.charCodeAt(f)]=f;var y=r(function(c){c=c.substr(c.indexOf(",")+1);var o=c.length,l=o*.75,a=0,u,v,d,p;c[o-1]==="="&&(l--,c[o-2]==="="&&l--);for(var g=new ArrayBuffer(l),m=new Uint8Array(g),x=0;x<o;x+=4)u=i[c.charCodeAt(x)],v=i[c.charCodeAt(x+1)],d=i[c.charCodeAt(x+2)],p=i[c.charCodeAt(x+3)],m[a++]=u<<2|v>>4,m[a++]=(v&15)<<4|d>>2,m[a++]=(d&3)<<6|p&63;return g},"Base64ToArrayBuffer");n.exports=y},65839:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={ArrayBufferToBase64:i(71334),Base64ToArrayBuffer:i(53134)}},91799:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={Array:i(37105),Base64:i(65839),Objects:i(1183),String:i(31749),NOOP:i(29747),NULL:i(20242)}},41786:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i){var f={};for(var y in i)Array.isArray(i[y])?f[y]=i[y].slice(0):f[y]=i[y];return f},"Clone");n.exports=T},62644:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i){var f,y,c;if(typeof i!="object"||i===null)return i;f=Array.isArray(i)?[]:{};for(c in i)y=i[c],f[c]=T(y);return f},"DeepCopy");n.exports=T},79291:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(41212),y=r(function(){var c,o,l,a,u,v,d=arguments[0]||{},p=1,g=arguments.length,m=!1;for(typeof d=="boolean"&&(m=d,d=arguments[1]||{},p=2),g===p&&(d=this,--p);p<g;p++)if((c=arguments[p])!=null)for(o in c)l=d[o],a=c[o],d!==a&&(m&&a&&(f(a)||(u=Array.isArray(a)))?(u?(u=!1,v=l&&Array.isArray(l)?l:[]):v=l&&f(l)?l:{},d[o]=y(m,v,a)):a!==void 0&&(d[o]=a));return d},"Extend");n.exports=y},23568:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(75508),y=i(35154),c=r(function(o,l,a){var u=y(o,l,null);if(u===null)return a;if(Array.isArray(u))return f.RND.pick(u);if(typeof u=="object"){if(u.hasOwnProperty("randInt"))return f.RND.integerInRange(u.randInt[0],u.randInt[1]);if(u.hasOwnProperty("randFloat"))return f.RND.realInRange(u.randFloat[0],u.randFloat[1])}else if(typeof u=="function")return u(l);return u},"GetAdvancedValue");n.exports=c},95540:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i,f,y){var c=typeof i;return!i||c==="number"||c==="string"?y:i.hasOwnProperty(f)&&i[f]!==void 0?i[f]:y},"GetFastValue");n.exports=T},82840:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(35154),y=i(45319),c=r(function(o,l,a,u,v){v===void 0&&(v=a);var d=f(o,l,v);return y(d,a,u)},"GetMinMaxValue");n.exports=c},35154:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i,f,y,c){if(!i&&!c||typeof i=="number")return y;if(i&&i.hasOwnProperty(f))return i[f];if(c&&c.hasOwnProperty(f))return c[f];if(f.indexOf(".")!==-1){for(var o=f.split("."),l=i,a=c,u=y,v=y,d=!0,p=!0,g=0;g<o.length;g++)l&&l.hasOwnProperty(o[g])?(u=l[o[g]],l=l[o[g]]):d=!1,a&&a.hasOwnProperty(o[g])?(v=a[o[g]],a=a[o[g]]):p=!1;return d?u:p?v:y}else return y},"GetValue");n.exports=T},69036:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i,f){for(var y=0;y<f.length;y++)if(!i.hasOwnProperty(f[y]))return!1;return!0},"HasAll");n.exports=T},1985:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i,f){for(var y=0;y<f.length;y++)if(i.hasOwnProperty(f[y]))return!0;return!1},"HasAny");n.exports=T},97022:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i,f){return i.hasOwnProperty(f)},"HasValue");n.exports=T},41212:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i){if(!i||typeof i!="object"||i.nodeType||i===i.window)return!1;try{if(i.constructor&&!{}.hasOwnProperty.call(i.constructor.prototype,"isPrototypeOf"))return!1}catch{return!1}return!0},"IsPlainObject");n.exports=T},46975:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(41786),y=r(function(c,o){var l=f(c);for(var a in o)l.hasOwnProperty(a)||(l[a]=o[a]);return l},"Merge");n.exports=y},269:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(41786),y=r(function(c,o){var l=f(c);for(var a in o)l.hasOwnProperty(a)&&(l[a]=o[a]);return l},"MergeRight");n.exports=y},18254:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var f=i(97022),y=r(function(c,o){for(var l={},a=0;a<o.length;a++){var u=o[a];f(c,u)&&(l[u]=c[u])}return l},"Pick");n.exports=y},61622:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i,f,y){if(!i||typeof i=="number")return!1;if(i.hasOwnProperty(f))return i[f]=y,!0;if(f.indexOf(".")!==-1){for(var c=f.split("."),o=i,l=i,a=0;a<c.length;a++)if(o.hasOwnProperty(c[a]))l=o,o=o[c[a]];else return!1;return l[c[c.length-1]]=y,!0}return!1},"SetValue");n.exports=T},1183:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={Clone:i(41786),DeepCopy:i(62644),Extend:i(79291),GetAdvancedValue:i(23568),GetFastValue:i(95540),GetMinMaxValue:i(82840),GetValue:i(35154),HasAll:i(69036),HasAny:i(1985),HasValue:i(97022),IsPlainObject:i(41212),Merge:i(46975),MergeRight:i(269),Pick:i(18254),SetValue:i(61622)}},27902:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i,f){return i.replace(/%([0-9]+)/g,function(y,c){return f[Number(c)-1]})},"Format");n.exports=T},41836:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i,f,y,c){f===void 0&&(f=0),y===void 0&&(y=" "),c===void 0&&(c=3),i=i.toString();var o=0;if(f+1>=i.length)switch(c){case 1:i=new Array(f+1-i.length).join(y)+i;break;case 3:var l=Math.ceil((o=f-i.length)/2),a=o-l;i=new Array(a+1).join(y)+i+new Array(l+1).join(y);break;default:i=i+new Array(f+1-i.length).join(y);break}return i},"Pad");n.exports=T},33628:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i,f){return f===0?i.slice(1):i.slice(0,f-1)+i.slice(f)},"RemoveAt");n.exports=T},27671:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i){return i.split("").reverse().join("")},"Reverse");n.exports=T},45650:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(i){var f=Math.random()*16|0,y=i==="x"?f:f&3|8;return y.toString(16)})},"UUID");n.exports=T},35355:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=r(function(i){return i&&i[0].toUpperCase()+i.slice(1)},"UppercaseFirst");n.exports=T},31749:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={Format:i(27902),Pad:i(41836),RemoveAt:i(33628),Reverse:i(27671),UppercaseFirst:i(35355),UUID:i(45650)}}},h={};function S(n){var T=h[n];if(T!==void 0)return T.exports;var i=h[n]={exports:{}};return s[n](i,i.exports,S),i.exports}r(S,"__webpack_require__"),S.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}();var E=S(85454);return E})())})(vE);var $A=vE.exports;const Qi=Od($A),KA=`
precision mediump float;

uniform sampler2D uMainSampler;

varying vec2 outTexCoord;

void main()
{
    gl_FragColor = 1.0 - texture2D(uMainSampler, outTexCoord);
}
`,Gg=class Gg extends Phaser.Renderer.WebGL.Pipelines.PostFXPipeline{constructor(t){super({game:t,name:"InvertPostFX",fragShader:KA,uniforms:["uMainSampler"]})}};r(Gg,"InvertPostFX");let Xc=Gg;const ZA="pokemon-rogue-battle",pE="1.1.6",JA="module",QA={start:"vite","start:dev":"vite --mode development",build:"vite build --mode development --emptyOutDir",preview:"vite preview",test:"vitest run --project pre && vitest run --project main","test:cov":"vitest run --project pre && vitest run --project main --coverage","test:watch":"vitest run --project pre && vitest watch --project main --coverage","test:silent":"vitest run --project pre && vitest run --project main --silent",typecheck:"tsc --noEmit",eslint:"eslint --fix .","eslint-ci":"eslint .",docs:"typedoc",depcruise:"depcruise src","depcruise:graph":"depcruise src --output-type dot | node dependency-graph.js > dependency-graph.svg","create-test":"node ./create-test-boilerplate.js",postinstall:"npx lefthook install && npx lefthook run post-merge"},jA={"@eslint/js":"^9.3.0","@hpcc-js/wasm":"^2.18.0","@stylistic/eslint-plugin-ts":"^2.6.0-beta.0","@types/jsdom":"^21.1.7","@types/node":"^20.12.13","@typescript-eslint/eslint-plugin":"^8.0.0-alpha.54","@typescript-eslint/parser":"^8.0.0-alpha.54","@vitest/coverage-istanbul":"^2.0.4","dependency-cruiser":"^16.3.10",eslint:"^9.7.0","eslint-plugin-import-x":"^4.2.1",inquirer:"^11.0.2",jsdom:"^24.0.0",lefthook:"^1.6.12",msw:"^2.4.9",phaser3spectorjs:"^0.0.8",typedoc:"^0.26.4",typescript:"^5.5.3","typescript-eslint":"^8.0.0-alpha.54",vite:"^5.4.8","vite-tsconfig-paths":"^4.3.2",vitest:"^2.0.4","vitest-canvas-mock":"^0.3.3"},qA={"@material/material-color-utilities":"^0.2.7","crypto-js":"^4.2.0",i18next:"^23.11.1","i18next-browser-languagedetector":"^7.2.1","i18next-http-backend":"^2.6.1","i18next-korean-postposition-processor":"^1.0.0","json-stable-stringify":"^1.1.0",phaser:"^3.70.0","phaser3-rex-plugins":"^1.1.84"},_A={node:">=20.0.0"},tL={"#enums/*":"./enums/*","#app":"./src/main.js","#app/*":"./src/*","#test/*":"./src/test/*"},eL={name:ZA,private:!0,version:pE,type:JA,scripts:QA,devDependencies:jA,dependencies:qA,engines:_A,imports:tL},Ed=class Ed{constructor(t){this.scene=t,this.displayList=t.sys.displayList,this.updateList=t.sys.updateList,t.events.once("destroy",this.destroy,this)}destroy(){this.scene=null,this.displayList=null,this.updateList=null}static register(t,s){Ed.prototype[t]=s}};r(Ed,"ObjectFactory");let st=Ed;var iL=r(function(e){return e===void 0&&(e=sL),this.getFrameNameCallback=e,this},"SetGetFrameNameCallback"),sL=r(function(e,t,s){return s==="__BASE"?`${e},${t}`:`${s}:${e},${t}`},"DefaultGetFrameNameCallback");function ce(e){if(e===null||typeof e!="object")return e;if(Array.isArray(e))return e.map(s=>ce(s));if(e instanceof Date)return new Date(e);if(e instanceof RegExp)return new RegExp(e);if(Object.getPrototypeOf(e)!==Object.prototype)return e;const t={};for(let s in e)e.hasOwnProperty(s)&&(t[s]=ce(e[s]));return t}r(ce,"DeepClone");var rL=r(function(e,t,s,h){Array.isArray(t)&&(h=s,s=t,t=void 0),t==null&&(t="__BASE"),typeof s=="number"&&arguments.length>=6?(s=[arguments[2],void 0,arguments[3]],h=[arguments[4],void 0,arguments[5]]):s===void 0&&h===void 0&&this.columns.data!==void 0&&this.rows.data!==void 0?(s=this.columns.data,h=this.rows.data):(s=ce(s),h=ce(h)),this.textureKey=e,this.baseFrameName=t,this.columns.data=s,this.columns.count=s?s.length:0,this.columns.stretch=0,this.columns.minWidth=0,this.columns.scale=1,this.rows.data=h,this.rows.count=h?h.length:0,this.rows.stretch=0,this.rows.minHeight=0,this.rows.scale=1;var S=this.scene.sys.textures.get(e);if(!S)return this.clear(),this;if(!s||!h)return this.clear(),this;for(var E=S.get(t),n=E.width,T=0,i=0,f=s.length;i<f;i++)s[i]===void 0?T++:typeof s[i]=="number"?n-=s[i]:n-=s[i].width;for(var y=T>0?n/T:0,c=E.height,o=0,i=0,f=h.length;i<f;i++)h[i]===void 0?o++:typeof h[i]=="number"?c-=h[i]:c-=h[i].width;for(var l=o?c/o:0,a,u,v,d,p,g=0,m=0,x=0,C=h.length;x<C;x++){h[x]===void 0&&(h[x]=l),typeof h[x]=="number"&&(h[x]={height:h[x],stretch:x%2}),a=h[x],v=a.height,this.rows.stretch+=a.stretch|0,this.rows.minHeight+=a.stretch>0?0:v,g=0;for(var i=0,P=s.length;i<P;i++){if(s[i]===void 0&&(s[i]=y),typeof s[i]=="number"&&(s[i]={width:s[i],stretch:i%2}),u=s[i],d=u.width,x===0&&(this.columns.stretch+=u.stretch|0,this.columns.minWidth+=u.stretch>0?0:d),d>=1&&v>=1){p=this.getFrameNameCallback(i,x,t);var A=typeof p;(A==="string"||A==="number")&&S.add(p,0,g+E.cutX,m+E.cutY,d,v)}g+=d}m+=v}return this.updateTexture(),this},"SetBaseTexture"),nL=r(function(){if(this.clear(),this.textureKey===void 0)return this;var e=this.scene.sys.textures.get(this.textureKey);if(!e)return this;var t=this.columns.minWidth*this.maxFixedPartScaleX,s=this.rows.minHeight*this.maxFixedPartScaleY,h=this.width-t,S=this.height-s,E=h>=0?this.maxFixedPartScaleX:this.width/t,n=S>=0?this.maxFixedPartScaleY:this.height/s;if(this.preserveRatio){var T=Math.min(E,n);if(E>T){var i=(E-T)*t;h>=0?h+=i:h=i,E=T}if(n>T){var f=(n-T)*s;S>=0?S+=f:S=f,n=T}}this.columns.scale=E,this.rows.scale=n;var y;h>0?y=this.columns.stretch>0?h/this.columns.stretch:0:y=0;var c;S>0?c=this.rows.stretch>0?S/this.rows.stretch:0:c=0;var o,l,a,u,v,d=0,p=0,g;this._beginDraw();for(var m=0,x=this.rows.count;m<x;m++){a=this.rows.data[m],v=a.stretch===0?a.height*n:c*a.stretch,d=0;for(var C=0,P=this.columns.count;C<P;C++)l=this.columns.data[C],u=l.stretch===0?l.width*E:y*l.stretch,o=this.getFrameNameCallback(C,m,this.baseFrameName),e.has(o)&&u>0&&v>0&&(a.stretch===0&&l.stretch===0||this.getStretchMode(C,m)===0?g=0:g=1,g===0?this._drawImage(this.textureKey,o,d,p,u,v):this._drawTileSprite(this.textureKey,o,d,p,u,v)),d+=u;p+=v}this._endDraw()},"UpdateTexture");const aL=Phaser.Utils.Objects.IsPlainObject,Zy=Phaser.Utils.Objects.GetValue;var hL=r(function(e){return aL(e)?(this.stretchMode.edge=_d(Zy(e,"edge",0)),this.stretchMode.internal=_d(Zy(e,"internal",0))):(e=_d(e),this.stretchMode.edge=e,this.stretchMode.internal=e),this},"SetStretchMode"),_d=r(function(e){return typeof e=="string"&&(e=oL[e]),e},"parseMode");const oL={scale:0,repeat:1};var lL=r(function(e,t){return e===0||e===this.columns.count-1||t===0||t===this.rows.count-1},"IsEdge"),uL=r(function(e,t){return lL.call(this,e,t)?this.stretchMode.edge:this.stretchMode.internal},"GetStretchMode"),dL=r(function(e){return e==null&&(e=!0),this.preserveRatio=e,this},"SetPreserveRatio"),fL=r(function(e,t){return t===void 0&&(t=e),this.maxFixedPartScaleX=e,this.maxFixedPartScaleY=t,this},"SetMaxFixedPartScale"),ee=r(function(){},"NOOP");const cL={_beginDraw:ee,_drawImage:ee,_drawTileSprite:ee,_endDraw:ee,setGetFrameNameCallback:iL,setBaseTexture:rL,updateTexture:nL,setStretchMode:hL,getStretchMode:uL,setPreserveRatio:dL,setMaxFixedPartScale:fL},Qa=Phaser.Utils.Objects.IsPlainObject,Ct=Phaser.Utils.Objects.GetValue;var gE=r(function(e,t){const h=class h extends e{constructor(E,n,T,i,f,y,c,o,l,a){if(Qa(n)?(a=n,n=Ct(a,"x",0),T=Ct(a,"y",0),i=Ct(a,"width",1),f=Ct(a,"height",1),y=Ct(a,"key",void 0),c=Ct(a,"baseFrame",void 0),o=Ct(a,"columns",void 0),l=Ct(a,"rows",void 0)):Qa(i)?(a=i,i=Ct(a,"width",1),f=Ct(a,"height",1),y=Ct(a,"key",void 0),c=Ct(a,"baseFrame",void 0),o=Ct(a,"columns",void 0),l=Ct(a,"rows",void 0)):Qa(y)?(a=y,y=Ct(a,"key",void 0),c=Ct(a,"baseFrame",void 0),o=Ct(a,"columns",void 0),l=Ct(a,"rows",void 0)):Qa(c)?(a=c,c=Ct(a,"baseFrame",void 0),o=Ct(a,"columns",void 0),l=Ct(a,"rows",void 0)):Array.isArray(c)?(a=l,l=o,o=c,c=Ct(a,"baseFrame",void 0)):Qa(o)&&(a=o,o=Ct(a,"columns",void 0),l=Ct(a,"rows",void 0)),c===void 0&&(c=Ct(a,"frame",void 0)),o===void 0){var u=Ct(a,"leftWidth",void 0),v=Ct(a,"rightWidth",void 0);u!==void 0&&v!==void 0&&(o=[u,void 0,v])}if(l===void 0){var d=Ct(a,"topHeight",void 0),p=Ct(a,"bottomHeight",void 0);d!==void 0&&p!==void 0&&(l=[d,void 0,p])}super(E),this.type=t,this.setPosition(n,T).setSize(i,f).setOrigin(.5,.5),this.columns={},this.rows={},this.stretchMode={},this._tileSprite=void 0,this._image=void 0,this.setGetFrameNameCallback(Ct(a,"getFrameNameCallback",void 0)),this.setStretchMode(Ct(a,"stretchMode",0)),this.setPreserveRatio(Ct(a,"preserveRatio",!0));var g=Ct(a,"maxFixedPartScale",1),m=Ct(a,"maxFixedPartScaleX",g),x=Ct(a,"maxFixedPartScaleY",void 0);this.setMaxFixedPartScale(m,x),this.setBaseTexture(y,c,o,l)}get minWidth(){return this.columns.minWidth}get minHeight(){return this.rows.minHeight}get fixedPartScaleX(){return this.columns.scale}get fixedPartScaleY(){return this.rows.scale}resize(E,n){return this.width===E&&this.height===n?this:(super.resize?super.resize(E,n):super.setSize(E,n),this.updateTexture(),this)}get leftWidth(){return this.columns.data[0]}get rightWidth(){return this.columns.data[this.columns.count-1]}get topHeight(){return this.rows.data[0]}get bottomHeight(){return this.rows.data[this.rows.count-1]}};r(h,"NinePatch");let s=h;return Object.assign(s.prototype,cL),s},"NinePatchBase");const vL=Phaser.Game;var Jy=r(function(e){return e instanceof vL},"IsGame");const pL=Phaser.Scene;var cr=r(function(e){return e instanceof pL},"IsSceneObject"),vr=r(function(e){if(e==null||typeof e!="object")return null;if(Jy(e))return e;if(Jy(e.game))return e.game;if(cr(e))return e.sys.game;if(cr(e.scene))return e.scene.sys.game},"GetGame");const gL=Phaser.GameObjects;var fs=void 0,mE=r(function(e,t){if(fs||(fs={},vr(e).events.once("destroy",function(){for(var h in fs)fs[h].destroy();fs=void 0})),!fs.hasOwnProperty(t)){var s=vr(e).scene.systemScene,e=new gL[t](s);e.setOrigin(0),fs[t]=e}return fs[t]},"GetStampGameObject"),mL=r(function(e,t,s,h,S,E){var n=mE(this,"Image").setTexture(e,t).setDisplaySize(S,E);this.draw(n,s,h)},"DrawImage$2"),xL=r(function(e,t,s,h,S,E){var n=mE(this,"TileSprite").setTexture(e,t).setSize(S,E);this.draw(n,s,h)},"DrawTileSprite$1");const yL=Phaser.GameObjects.RenderTexture;var xn;let wd=(xn=class extends gE(yL,"rexNinePatch"){},r(xn,"NinePatch"),xn);var SL={_drawImage:mL,_drawTileSprite:xL};Object.assign(wd.prototype,SL);var xE=r(function(e){return e==null||e===""||e.length===0},"IsInValidKey"),TL=r(function(e,t,s){var h=e;if(!xE(t)){typeof t=="string"&&(t=t.split("."));for(var S,E=0,n=t.length;E<n;E++){if(S=t[E],h[S]==null||typeof h[S]!="object"){var T;E===n-1?T={}:T={},h[S]=T}h=h[S]}}return h},"GetEntry"),it=r(function(e,t,s,h){if(h===void 0&&(h="."),typeof e=="object"){if(xE(t)){if(s==null)return;typeof s=="object"&&(e=s)}else{typeof t=="string"&&(t=t.split(h));var S=t.pop(),E=TL(e,t);E[S]=s}return e}},"SetValue");st.register("ninePatch",function(e,t,s,h,S,E,n,T){var i=new wd(this.scene,e,t,s,h,S,E,n,T);return this.scene.add.existing(i),i});it(window,"RexPlugins.UI.NinePatch",wd);const CL=Phaser.GameObjects.GetCalcMatrix;var EL=r(function(e,t,s,h){var S=t.getRenderList();if(S.length!==0){s.addToRenderList(t);var E=e.pipelines.set(t.pipeline),n=t.frame.glTexture,T=E.setGameObject(t),i=s.roundPixels,f=CL(t,s,h),y=E.calcMatrix.copyFrom(f.calc),c=t._displayOriginX,o=t._displayOriginY,l=s.alpha*t.alpha;e.pipelines.preBatch(t);for(var a=0,u=S.length;a<u;a++)S[a].webglRender(E,y,l,c,o,n,T,i);e.pipelines.postBatch(t)}},"WebGLRenderer$3");const PL=Phaser.Renderer.Canvas.SetTransform;var RL=r(function(e,t,s,h){var S=e.currentContext,E=t.getRenderList();if(!(E.length===0||!PL(e,S,t,s,h))){s.addToRenderList(t);var n=s.roundPixels,T=-t._displayOriginX,i=-t._displayOriginY;S.translate(T,i);for(var f=0,y=E.length;f<y;f++)E[f].canvasRender(S,T,i,n);S.restore()}},"CanvasRenderer$3");const AL={renderWebGL:EL,renderCanvas:RL};var LL=r(function(e,t){return this.texture=this.scene.sys.textures.get(e),this.frame=this.texture.get(t),this},"SetTexture"),Qy=r(function(e,t){if(this.width===e&&this.height===t)return this;this.width=e,this.height=t,this.updateDisplayOrigin();var s=this.input;return s&&!s.customHitArea&&(s.hitArea.width=e,s.hitArea.height=t),this},"Resize$1"),OL=r(function(e){return this.lastAppendedChildren.length=0,Array.isArray(e)?(this.children.add(e),this.lastAppendedChildren.push(...e)):(this.children.add(e),this.lastAppendedChildren.push(e)),this},"AddChild$4");const wL=Phaser.Utils.Array.Remove;var ML=r(function(e){return this.poolManager&&this.poolManager.free(e),wL(this.children.list,e),this.lastAppendedChildren.length=0,this.dirty=!0,this},"RemoveChild$3"),jy=r(function(){return this.poolManager&&this.poolManager.freeMultiple(this.children.list),this.children.list.length=0,this.lastAppendedChildren.length=0,this.dirty=!0,this},"RemoveChildren$1"),bL=r(function(){return this.lastAppendedChildren},"GetLastAppendedChildren$1"),IL=r(function(){return this.children.list},"GetChildren$1");const FL={setTint(e){return this.tint=e,this.tintFill=!1,this},setTintFill(e){return this.tint=e,this.tintFill=!0,this},clearTint(){return this.setTint(16777215),this}};var yE={setTexture:LL,resize:Qy,setSize:Qy,addChild:OL,removeChild:ML,removeChildren:jy,clear:jy,getLastAppendedChildren:bL,getChildren:IL};Object.assign(yE,FL);const Ng=class Ng{constructor(){this.items=[]}destroy(){this.clear(),this.items=void 0}pop(){return this.items.length>0?this.items.pop():null}push(t){return this.items.push(t),this}pushMultiple(t){return this.items.push.apply(this.items,t),t.length=0,this}clear(){return this.items.length=0,this}};r(Ng,"Stack");let ei=Ng;const DL=Phaser.Utils.Objects.GetValue;var BL={},yn;let GL=(yn=class{constructor(t){this.pools=DL(t,"pools",BL)}destroy(){this.pools=void 0}free(t){if(!this.pools)return this;var s=t.type;return this.pools.hasOwnProperty(s)||(this.pools[s]=new ei),this.pools[s].push(t),t.onFree(),this}freeMultiple(t){if(!this.pools)return this;for(var s=0,h=t.length;s<h;s++)this.free(t[s]);return this}allocate(t){return!this.pools||!this.pools.hasOwnProperty(t)?null:this.pools[t].pop()}},r(yn,"PoolManager"),yn);const NL=60;var qy=!1,Md=r(function(e){if(!qy){e===void 0&&(e=NL);var t=parseInt(Phaser.VERSION.match(/\.(\d+)\./)[1]);t<e&&console.error(`Minimum supported version : 3.${e}`),qy=!0}},"CheckP3Version");Md();const UL=Phaser.GameObjects.GameObject,VL=Phaser.Utils.Objects.IsPlainObject,ja=Phaser.Utils.Objects.GetValue,WL=Phaser.Structs.List,zL=Phaser.Utils.Array.StableSort,Ug=class Ug extends UL{constructor(t,s,h,S,E,n){VL(s)&&(n=s,s=ja(n,"x",0),h=ja(n,"y",0),S=ja(n,"texture"),E=ja(n,"frame")),s===void 0&&(s=0),h===void 0&&(h=0),super(t,"rexBlitter"),this.children=new WL,this.renderList=[],this.displayListDirty=!1,this.lastAppendedChildren=[];var T=ja(n,"reuseBob",!0);this.poolManager=T?new GL(n):void 0,this.setTexture(S,E),this.setPosition(s,h),this.setOrigin(0,0),this.clearTint(),this.initPipeline(),this.initPostPipeline()}preDestroy(){this.removeChildren(),this.children.destroy(),this.renderList.length=0,this.poolManager&&this.poolManager.destroy()}getRenderList(){if(this.displayListDirty){this.renderList.length=0;for(var t=!1,s=this.children.list,h=0,S=s.length;h<S;h++){var E=s[h];YL(E)&&(this.renderList.push(E),t||(t=E.depth!==0))}t&&zL(this.renderList,kL),this.displayListDirty=!1}return this.renderList}};r(Ug,"Blitter");let pu=Ug;var YL=r(function(e){return e.active&&e.visible&&e.alpha>0},"ChildCanRender"),kL=r(function(e,t){return e._depth-t._depth},"SortByDepth");const Ke=Phaser.GameObjects.Components;Phaser.Class.mixin(pu,[Ke.Alpha,Ke.BlendMode,Ke.ComputedSize,Ke.Depth,Ke.GetBounds,Ke.Mask,Ke.Origin,Ke.Pipeline,Ke.PostPipeline,Ke.ScrollFactor,Ke.Transform,Ke.Visible,AL,yE]);const SE="image";var Lt=r(function(e,t,s){if(!e||typeof e=="number")return s;if(typeof t=="string"){if(e.hasOwnProperty(t))return e[t];if(t.indexOf(".")!==-1)t=t.split(".");else return s}for(var h=t,S=e,E=s,n=0;n<h.length;n++)if(t=h[n],S.hasOwnProperty(t))E=S[t],S=E;else{E=s;break}return E},"GetValue$3I"),ji=r(function(e){if(typeof e!="object"||e===null)return e;if(Array.isArray(e))e.length=0;else for(var t in e)delete e[t];return e},"Clear$1");const bd={enableData(){return this.data===void 0&&(this.data={}),this},setData(e,t){if(this.enableData(),arguments.length===1){var s=e;for(e in s)this.data[e]=s[e]}else this.data[e]=t;return this},getData(e,t){return this.enableData(),e===void 0?this.data:Lt(this.data,e,t)},incData(e,t,s){return s===void 0&&(s=0),this.enableData(),this.setData(e,this.getData(e,s)+t),this},mulData(e,t,s){return s===void 0&&(s=0),this.enableData(),this.setData(e,this.getData(e,s)*t),this},clearData(){return this.data&&ji(this.data),this}};var Sn;let TE=(Sn=class{constructor(t,s){this.type=s,this.data=void 0,this.setParent(t).reset().setActive()}destroy(){this.parent&&this.parent.removeChild(this)}setParent(t){return this.parent=t,this}setDisplayListDirty(t){return t&&this.parent&&(this.parent.displayListDirty=!0),this}get active(){return this._active}set active(t){this.setDisplayListDirty(this._active!=t),this._active=t}setActive(t){return t===void 0&&(t=!0),this.active=t,this}modifyPorperties(t){return this}reset(){this.clearData()}onFree(){this.reset().setActive(!1).setParent()}},r(Sn,"Base"),Sn);Object.assign(TE.prototype,bd);const HL=Phaser.Math.DegToRad,XL=Phaser.Math.RadToDeg,Br=Phaser.Utils.Objects.GetValue;var Tn;let $L=(Tn=class extends TE{get visible(){return this._visible}set visible(t){this.setDisplayListDirty(this._visible!=t),this._visible=t}setVisible(t){return t===void 0&&(t=!0),this.visible=t,this}get alpha(){return this._alpha}set alpha(t){this.setDisplayListDirty(!!this._alpha!=!!t),this._alpha=t}setAlpha(t){return this.alpha=t,this}setX(t){return this.x=t,this}setY(t){return this.y=t,this}setPosition(t,s){return this.x=t,this.y=s,this}setRotation(t){return this.rotation=t,this}get angle(){return XL(this.rotation)}set angle(t){this.rotation=HL(t)}setAngle(t){return this.angle=t,this}setScaleX(t){return this.scaleX=t,this}get width(){return this._width}set width(t){this._width=t}setWidth(t,s){return s===void 0&&(s=!1),this.width=t,s&&(this.scaleY=this.scaleX),this}setScaleY(t){return this.scaleY=t,this}setScale(t,s){return s===void 0&&(s=t),this.scaleX=t,this.scaleY=s,this}get height(){return this._height}set height(t){this._height=t}setHeight(t,s){return s===void 0&&(s=!1),this.height=t,s&&(this.scaleX=this.scaleY),this}setScale(t,s){return s===void 0&&(s=t),this.scaleX=t,this.scaleY=s,this}get displayWidth(){return this._width*this.scaleX}set displayWidth(t){this.scaleX=t/this._width}setDisplayWidth(t,s){return s===void 0&&(s=!1),this.displayWidth=t,s&&(this.scaleY=this.scaleX),this}get displayHeight(){return this._height*this.scaleY}set displayHeight(t){this.scaleY=t/this._height}setDisplayHeight(t,s){return s===void 0&&(s=!1),this.displayHeight=t,s&&(this.scaleX=this.scaleY),this}setOriginX(t){return this.originX=t,this._displayOriginX=this.width*t,this}setOriginY(t){return this.originY=t,this._displayOriginY=this.height*t,this}setOrigin(t,s){return s===void 0&&(s=t),this.setOriginX(t).setOriginY(s),this}get depth(){return this._depth}set depth(t){this.setDisplayListDirty(this._depth!=t),this._depth=t}setDepth(t){return t===void 0&&(t=0),this.depth=t,this}modifyPorperties(t){if(!t)return this;t.hasOwnProperty("x")&&this.setX(t.x),t.hasOwnProperty("y")&&this.setY(t.y),t.hasOwnProperty("rotation")?this.setRotation(t.rotation):t.hasOwnProperty("angle")&&this.setAngle(t.angle),t.hasOwnProperty("alpha")&&this.setAlpha(t.alpha);var s=Br(t,"width",void 0),h=Br(t,"height",void 0),S=Br(t,"scale",void 0),E=Br(t,"scaleX",S),n=Br(t,"scaleY",S);s!==void 0?h===void 0&&n===void 0?this.setWidth(s,!0):this.setWidth(s):E!==void 0?this.setScaleX(E):t.hasOwnProperty("displayWidth")&&this.setDisplayWidth(t.displayWidth),h!==void 0?s===void 0&&E===void 0?this.setHeight(h,!0):this.setHeight(h):n!==void 0?this.setScaleY(n):t.hasOwnProperty("displayHeight")&&this.setDisplayHeight(t.displayHeight);var T=Br(t,"origin",void 0);return T!==void 0?this.setOrigin(T):(t.hasOwnProperty("originX")&&this.setOriginX(t.originX),t.hasOwnProperty("originY")&&this.setOriginY(t.originY)),t.hasOwnProperty("depth")&&this.setDepth(t.depth),this}reset(){return super.reset(),this.setVisible().setAlpha(1).setPosition(0,0).setRotation(0).setScale(1,1).setOrigin(0).setDepth(0),this}webglRender(t,s,h,S,E,n,T,i){}canvasRender(t,s,h,S){}},r(Tn,"RenderBase"),Tn);const KL=Phaser.GameObjects.Components.TransformMatrix,ZL=Phaser.Renderer.WebGL.Utils.getTintAppendFloatAlpha;var Qo=new KL,JL=r(function(e,t,s,h,S,E,n,T){var i=this._width,f=this._height,y=i*this.originX,c=f*this.originY,o=this.x-h,l=this.y-S,a=1,u=1;this.flipX&&(o+=i-y*2,a=-1),this.flipY&&(l+=f-c*2,u=-1),Qo.applyITRS(o,l,this.rotation,this.scaleX*a,this.scaleY*u),t.multiply(Qo,Qo);var v=-y,d=-c,p=v+i,g=d+f,m=Qo.setQuad(v,d,p,g,T),x=this.frame.u0,C=this.frame.v0,P=this.frame.u1,A=this.frame.v1,R=ZL(this.tint,this.alpha*s);e.batchQuad(this.parent,m[0],m[1],m[2],m[3],m[4],m[5],m[6],m[7],x,C,P,A,R,R,R,R,this.tintFill,E,n)},"WebglRender"),QL=r(function(e,t,s,h){e.save();var S=this._width,E=this._height,n=S*this.originX,T=E*this.originY,i=this.x-n,f=this.y-T,y=1,c=1;this.flipX&&(i+=S,y=-1),this.flipY&&(f+=E,c=-1),h&&(i=Math.round(i),f=Math.round(f)),e.translate(i,f),e.rotate(this.rotation),e.scale(this.scaleX*y,this.scaleY*c);var o=this.frame;e.drawImage(o.source.image,o.cutX,o.cutY,S,E,0,0,S,E),e.restore()},"CanvasRender");const jL=Phaser.Utils.Objects.IsPlainObject;var Cn;let CE=(Cn=class extends $L{constructor(t,s){super(t,SE),this.setFrame(s)}get width(){return this._width}set width(t){}get height(){return this._height}set height(t){}setFrame(t){return arguments.length>0&&!jL(t)&&(t=this.parent.texture.get(t)),this.frame=t,this._width=t?t.width:0,this._height=t?t.height:0,this}setFlipX(t){return t===void 0&&(t=!0),this.flipX=t,this}setFlipY(t){return t===void 0&&(t=!0),this.flipY=t,this}resetFlip(){return this.flipX=!1,this.flipY=!1,this}get tint(){return this._tint===void 0?this.parent.tint:this._tint}set tint(t){this._tint=t}setTint(t){return this.tint=t,this.tintFill=!1,this}setTintFill(t){return this.tint=t,this.tintFill=!0,this}clearTint(){return this.setTint(16777215),this}resetTint(){return this.tint=void 0,this.tintFill=void 0,this}get tintFill(){return this._tintFill===void 0?this.parent.tintFill:this._tintFill}set tintFill(t){this._tintFill=t}reset(){return super.reset(),this.resetFlip().resetTint().setFrame(),this}modifyPorperties(t){return t?(t.hasOwnProperty("width")&&(t.displayWidth=t.width,delete t.width),t.hasOwnProperty("height")&&(t.displayHeight=t.height,delete t.height),t.hasOwnProperty("frame")&&this.setFrame(t.frame),super.modifyPorperties(t),t.hasOwnProperty("flipX")&&this.setFlipX(t.flipX),t.hasOwnProperty("flipY")&&this.setFlipY(t.flipY),t.hasOwnProperty("tint")&&this.setTint(t.tint),t.hasOwnProperty("tintFill")&&this.setTintFill(t.tintFill),this):this}},r(Cn,"ImageData"),Cn);var qL={webglRender:JL,canvasRender:QL};Object.assign(CE.prototype,qL);var EE=r(function(e,t){typeof t=="string"&&(t={frame:t});var s=e.poolManager?e.poolManager.allocate(SE):null;return s===null?s=new CE(e):s.setParent(e).setActive(),s.modifyPorperties(t),e.addChild(s),s},"AddImage$2"),_L=r(function(e,t,s,h,S,E){EE(this,{frame:t,x:s,y:h,width:S,height:E})},"DrawImage$1"),tO=r(function(e,t,s,h,S,E){var n=this.texture.get(t),T=n.width,i=n.height,f=Math.floor(S/T),y=Math.floor(E/i);s+=(S-f*T)/2,h+=(E-y*i)/2;for(var c=0;c<f;c++)for(var o=0;o<y;o++)EE(this,{frame:t,x:s+c*T,y:h+o*i})},"DrawTileSprite");const eO={_drawImage:_L,_drawTileSprite:tO},Vg=class Vg extends gE(pu,"rexNinePatch2"){setBaseTexture(t,s,h,S){return this.setTexture(t,s),super.setBaseTexture(t,s,h,S),this}};r(Vg,"NinePatch");let bh=Vg;Object.assign(bh.prototype,eO);st.register("ninePatch2",function(e,t,s,h,S,E,n,T){var i=new bh(this.scene,e,t,s,h,S,E,n,T);return this.scene.add.existing(i),i});it(window,"RexPlugins.UI.NinePatch2",bh);var iO=Phaser.Renderer.WebGL.Utils,PE=r(function(e,t,s,h,S,E){for(var n=iO.getTintAppendFloatAlpha(s.fillColor,s.fillAlpha*h),T=s.pathData,i=s.pathIndexes,f=0;f<i.length;f+=3){var y=i[f]*2,c=i[f+1]*2,o=i[f+2]*2,l=T[y+0]-S,a=T[y+1]-E,u=T[c+0]-S,v=T[c+1]-E,d=T[o+0]-S,p=T[o+1]-E,g=t.getX(l,a),m=t.getY(l,a),x=t.getX(u,v),C=t.getY(u,v),P=t.getX(d,p),A=t.getY(d,p);e.batchTri(s,g,m,x,C,P,A,0,0,1,1,n,n,n,2)}},"FillPathWebGL"),sO=Phaser.Renderer.WebGL.Utils,Id=r(function(e,t,s,h,S){var E=e.strokeTint,n=sO.getTintAppendFloatAlpha(t.strokeColor,t.strokeAlpha*s);E.TL=n,E.TR=n,E.BL=n,E.BR=n;var T=t.pathData,i=T.length-1,f=t.lineWidth,y=f/2,c=T[0]-h,o=T[1]-S;t.closePath||(i-=2);for(var l=2;l<i;l+=2){var a=T[l]-h,u=T[l+1]-S;e.batchLine(c,o,a,u,y,y,f,l-2,t.closePath?l===i-1:!1),c=a,o=u}},"StrokePathWebGL");const rO=Phaser.GameObjects.GetCalcMatrix;var nO=r(function(e,t,s,h){t.dirty&&(t.updateData(),t.dirty=!1),s.addToRenderList(t);var S=e.pipelines.set(t.pipeline),E=rO(t,s,h),n=S.calcMatrix.copyFrom(E.calc),T=t._displayOriginX,i=t._displayOriginY,f=s.alpha*t.alpha;e.pipelines.preBatch(t),t.isFilled&&PE(S,n,t,f,T,i),t.isStroked&&Id(S,t,f,T,i),e.pipelines.postBatch(t)},"PolygonWebGLRenderer"),Bo=r(function(e,t,s,h){var S=t.fillColor,E=t.fillAlpha,n=(S&16711680)>>>16,T=(S&65280)>>>8,i=S&255;e.fillStyle="rgba("+n+","+T+","+i+","+E+")"},"FillStyleCanvas"),Go=r(function(e,t,s,h){var S=t.strokeColor,E=t.strokeAlpha,n=(S&16711680)>>>16,T=(S&65280)>>>8,i=S&255;e.strokeStyle="rgba("+n+","+T+","+i+","+E+")",e.lineWidth=t.lineWidth},"LineStyleCanvas");const aO=Phaser.Renderer.Canvas.SetTransform;var hO=r(function(e,t,s,h){t.dirty&&(t.updateData(),t.dirty=!1),s.addToRenderList(t);var S=e.currentContext;if(aO(e,S,t,s,h)){var E=t._displayOriginX,n=t._displayOriginY,T=t.pathData,i=T.length-1,f=T[0]-E,y=T[1]-n;S.beginPath(),S.moveTo(f,y),t.closePath||(i-=2);for(var c=2;c<i;c+=2){var o=T[c]-E,l=T[c+1]-n;S.lineTo(o,l)}S.closePath(),t.isFilled&&(Bo(S,t),S.fill()),t.isStroked&&(Go(S,t),S.stroke()),S.restore()}},"PolygonCanvasRenderer");const oO={renderWebGL:nO,renderCanvas:hO},lO=Phaser.GameObjects.Shape,Wg=class Wg extends lO{get fillColor(){return this._fillColor}set fillColor(t){this._fillColor=t,this.isFilled=t!=null&&this._fillAlpha>0}get fillAlpha(){return this._fillAlpha}set fillAlpha(t){this._fillAlpha=t,this.isFilled=t>0&&this._fillColor!=null}setFillStyle(t,s){return s===void 0&&(s=1),this.fillColor=t,this.fillAlpha=s,this}get strokeColor(){return this._strokeColor}set strokeColor(t){this._strokeColor=t,this.isStroked=t!=null&&this._strokeAlpha>0&&this._lineWidth>0}get strokeAlpha(){return this._strokeAlpha}set strokeAlpha(t){this._strokeAlpha=t,this.isStroked=t>0&&this._strokeColor!=null&&this._lineWidth>0}get lineWidth(){return this._lineWidth}set lineWidth(t){this._lineWidth=t,this.isStroked=t>0&&this._strokeColor!=null}setStrokeStyle(t,s,h){return h===void 0&&(h=1),this.lineWidth=t,this.strokeColor=s,this.strokeAlpha=h,this}updateData(){return this}get width(){return this.geom.width}set width(t){this.resize(t,this.height)}get height(){return this.geom.height}set height(t){this.resize(this.width,t)}setSize(t,s){var h=this.input;return h&&!h.customHitArea&&(h.hitArea.width=t,h.hitArea.height=s),this}resize(t,s){return this.setSize(t,s),this}};r(Wg,"PolygnBase");let Ih=Wg;Object.assign(Ih.prototype,oO);const Es=Phaser.Utils.Objects.GetValue;var En;let RE=(En=class{constructor(t,s,h,S,E){t===void 0&&(t=0),s===void 0&&(s=t),h===void 0&&(h=0),S===void 0&&(S=0),E===void 0&&(E=0),this.cornerRadius={},this._width=0,this._height=0,this.setTo(t,s,h,S,E)}setTo(t,s,h,S,E){return this.setPosition(t,s),this.setRadius(E),this.setSize(h,S),this}setPosition(t,s){return this.x=t,this.y=s,this}setRadius(t){return t===void 0&&(t=0),this.radius=t,this}setSize(t,s){return this.width=t,this.height=s,this}get minWidth(){var t=this.cornerRadius;return Math.max(t.tl.x+t.tr.x,t.bl.x+t.br.x)}get minHeight(){var t=this.cornerRadius;return Math.max(t.tl.y+t.bl.y,t.tr.y+t.br.y)}get width(){return this._width}set width(t){t==null&&(t=0),this._width=Math.max(t,this.minWidth)}get height(){return this._height}set height(t){t==null&&(t=0),this._height=Math.max(t,this.minHeight)}get radius(){var t=this.cornerRadius;return Math.max(t.tl.x,t.tl.y,t.tr.x,t.tr.y,t.bl.x,t.bl.y,t.br.x,t.br.y)}set radius(t){var s,h;typeof t=="number"?(s=t,h=t):(s=Es(t,"x",0),h=Es(t,"y",0));var S=this.cornerRadius;S.tl=jo(Es(t,"tl",void 0),s,h),S.tr=jo(Es(t,"tr",void 0),s,h),S.bl=jo(Es(t,"bl",void 0),s,h),S.br=jo(Es(t,"br",void 0),s,h)}get radiusTL(){var t=this.cornerRadius.tl;return Math.max(t.x,t.y)}set radiusTL(t){qo(this.cornerRadius.tl,t)}get radiusTR(){var t=this.cornerRadius.tr;return Math.max(t.x,t.y)}set radiusTR(t){qo(this.cornerRadius.tr,t)}get radiusBL(){var t=this.cornerRadius.bl;return Math.max(t.x,t.y)}set radiusBL(t){qo(this.cornerRadius.bl,t)}get radiusBR(){var t=this.cornerRadius.br;return Math.max(t.x,t.y)}set radiusBR(t){qo(this.cornerRadius.br,t)}},r(En,"RoundRectangle"),En);var jo=r(function(e,t,s){return e===void 0?e={x:t,y:s}:typeof e=="number"&&(e={x:e,y:e}),AE(e),e},"GetRadius"),qo=r(function(e,t){typeof t=="number"?(e.x=t,e.y=t):(e.x=Es(t,"x",0),e.y=Es(t,"y",0)),AE(e)},"SetRadius"),AE=r(function(e){e.convex=e.x>=0||e.y>=0,e.x=Math.abs(e.x),e.y=Math.abs(e.y)},"SetConvex"),ae=r(function(e,t,s){var h=s.length;if(h>=2){var S=s[h-2],E=s[h-1];if(e===S&&t===E)return s}return s.push(e,t),s},"LineTo");const _y=Phaser.Math.DegToRad;var he=r(function(e,t,s,h,S,E,n,T,i){n&&E>S?E-=360:!n&&E<S&&(E+=360);var f=E-S,y=_y(f)/T;S=_y(S);for(var c=0;c<=T;c++){var o=S+y*c,l=e+s*Math.cos(o),a=t+h*Math.sin(o);ae(l,a,i)}return i},"ArcTo$1");const uO=Phaser.Utils.Objects.IsPlainObject,tS=Phaser.Utils.Objects.GetValue,dO=Phaser.Geom.Polygon.Earcut;var Pn;let Ir=(Pn=class extends Ih{constructor(t,s,h,S,E,n,T,i){var f,y,c,o;if(uO(s)){var l=s;s=l.x,h=l.y,S=l.width,E=l.height,n=l.radius,T=l.color,i=l.alpha,f=l.strokeColor,y=l.strokeAlpha,c=l.strokeWidth,o=l.shape}s===void 0&&(s=0),h===void 0&&(h=0),S===void 0&&(S=1),E===void 0&&(E=S),n===void 0&&(n=0),o===void 0&&(o=0);var a=new RE;if(super(t,"rexRoundRectangleShape",a),this.setShapeType(o),this.shapeType===0){var u=tS(n,"radius",n);a.setTo(0,0,S,E,u)}else{var u={x:S/2,y:E/2};a.setTo(0,0,S,E,u)}var v=tS(n,"iteration",void 0);this.setIteration(v),this.setPosition(s,h),this.setFillStyle(T,i),f!==void 0&&c===void 0&&(c=2),this.setStrokeStyle(c,f,y),this.updateDisplayOrigin(),this.dirty=!0}updateData(){var t=this.geom,s=this.pathData;s.length=0;var h=t.width,S=t.height,E=t.cornerRadius,n,T=this.iteration+1;if(n=E.tl,_o(n))if(n.convex){var i=n.x,f=n.y;he(i,f,n.x,n.y,180,270,!1,T,s)}else{var i=0,f=0;he(i,f,n.x,n.y,90,0,!0,T,s)}else ae(0,0,s);if(n=E.tr,_o(n))if(n.convex){var i=h-n.x,f=n.y;he(i,f,n.x,n.y,270,360,!1,T,s)}else{var i=h,f=0;he(i,f,n.x,n.y,180,90,!0,T,s)}else ae(h,0,s);if(n=E.br,_o(n))if(n.convex){var i=h-n.x,f=S-n.y;he(i,f,n.x,n.y,0,90,!1,T,s)}else{var i=h,f=S;he(i,f,n.x,n.y,270,180,!0,T,s)}else ae(h,S,s);if(n=E.bl,_o(n))if(n.convex){var i=n.x,f=S-n.y;he(i,f,n.x,n.y,90,180,!1,T,s)}else{var i=0,f=S;he(i,f,n.x,n.y,360,270,!0,T,s)}else ae(0,S,s);return s.push(s[0],s[1]),this.pathIndexes=dO(s),this}setShapeType(t){return typeof t=="string"&&(t=fO[t]),this.shapeType=t,this}setSize(t,s){return s===void 0&&(s=t),this.geom.width===t&&this.geom.height===s?this:(this.geom.setSize(t,s),this.shapeType===1&&this.setRadius({x:t/2,y:s/2}),this.updateDisplayOrigin(),this.dirty=!0,super.setSize(t,s),this)}get radius(){return this.geom.radius}set radius(t){this.geom.setRadius(t),this.updateDisplayOrigin(),this.dirty=!0}get radiusTL(){return this.geom.radiusTL}set radiusTL(t){this.geom.radiusTL=t,this.dirty=!0}get radiusTR(){return this.geom.radiusTR}set radiusTR(t){this.geom.radiusTR=t,this.dirty=!0}get radiusBL(){return this.geom.radiusBL}set radiusBL(t){this.geom.radiusBL=t,this.dirty=!0}get radiusBR(){return this.geom.radiusBR}set radiusBR(t){this.geom.radiusBR=t,this.dirty=!0}setRadius(t){return t===void 0&&(t=0),this.radius=t,this}setRadiusTL(t){return t===void 0&&(t=0),this.radiusTL=t,this}setRadiusTR(t){return t===void 0&&(t=0),this.radiusTR=t,this}setRadiusBL(t){return t===void 0&&(t=0),this.radiusBL=t,this}setRadiusBR(t){return t===void 0&&(t=0),this.radiusBR=t,this}get cornerRadius(){return this.geom.cornerRadius}set cornerRadius(t){this.radius=t}setCornerRadius(t){return this.setRadius(t)}get iteration(){return this._iteration}set iteration(t){if(this._iteration===void 0){this._iteration=t;return}this._iteration!==t&&(this._iteration=t,this.dirty=!0)}setIteration(t){return t===void 0&&(t=6),this.iteration=t,this}},r(Pn,"RoundRectangle"),Pn);var _o=r(function(e){return e.x>0&&e.y>0},"IsArcCorner$1");const fO={rectangle:0,circle:1};st.register("roundRectangle",function(e,t,s,h,S,E,n){var T=new Ir(this.scene,e,t,s,h,S,E,n);return this.scene.add.existing(T),T});it(window,"RexPlugins.UI.RoundRectangle",Ir);const cO=Phaser.Renderer.WebGL.Utils;var vO=r(function(e,t,s,h){if(t.dirty&&(t.updateTexture(),t.dirty=!1),!(t.width===0||t.height===0)){s.addToRenderList(t);var S=t.frame,E=S.width,n=S.height,T=cO.getTintAppendFloatAlpha,i=e.pipelines.set(t.pipeline,t),f=i.setTexture2D(S.glTexture,t);e.pipelines.preBatch(t),i.batchTexture(t,S.glTexture,E,n,t.x,t.y,E/t.resolution,n/t.resolution,t.scaleX,t.scaleY,t.rotation,t.flipX,t.flipY,t.scrollFactorX,t.scrollFactorY,t.displayOriginX,t.displayOriginY,0,0,E,n,T(t.tintTopLeft,s.alpha*t._alphaTL),T(t.tintTopRight,s.alpha*t._alphaTR),T(t.tintBottomLeft,s.alpha*t._alphaBL),T(t.tintBottomRight,s.alpha*t._alphaBR),t.tintFill,0,0,s,h,!1,f),e.pipelines.postBatch(t)}},"WebGLRenderer$2"),pO=r(function(e,t,s,h){t.dirty&&(t.updateTexture(),t.dirty=!1),!(t.width===0||t.height===0)&&(s.addToRenderList(t),e.batchSprite(t,t.frame,s,h))},"CanvasRenderer$2");const gO={renderWebGL:vO,renderCanvas:pO},mO=Phaser.Display.Color,xO={clear(){return this.context.clearRect(0,0,this.canvas.width,this.canvas.height),this.dirty=!0,this},fill(e){return this.context.fillStyle=e,this.context.fillRect(0,0,this.canvas.width,this.canvas.height),this.dirty=!0,this},drawFrame(e,t,s,h,S,E,n,T,i,f){var y=this.scene.sys.textures.getFrame(e,t);if(!y)return this;var c=y.cutWidth,o=y.cutHeight;s===void 0&&(s=0),h===void 0&&(h=0),S===void 0&&(S=c),E===void 0&&(E=o),n===void 0&&(n=0),T===void 0&&(T=0),i===void 0&&(i=c),f===void 0&&(f=o);var l=y.cutX+n,a=y.cutY+T;return this.context.drawImage(y.source.image,l,a,i,f,s,h,S,E),this.dirty=!0,this},getDataURL(e,t){return this.canvas.toDataURL(e,t)},getPixel(e,t,s){s===void 0&&(s=new mO);var h=this.context.getImageData(e,t,1,1);return s.setTo(h.data[0],h.data[1],h.data[2],h.data[3]),s},setPixel(e,t,s,h,S,E){if(typeof s!="number"){var n=s;s=n.red,h=n.green,S=n.blue,E=n.alpha}E===void 0&&(E=s!==0||h!==0||S!==0?255:0);var T=this.context.createImageData(1,1);return T.data[0]=s,T.data[1]=h,T.data[2]=S,T.data[3]=E,this.context.putImageData(T,e,t),this.dirty=!0,this}};var LE=r(function(e,t,s,h,S,E,n){var T=e.sys.textures,i=e.renderer;h===void 0&&(h=0),S===void 0&&(S=0),E===void 0&&(E=t.width),n===void 0&&(n=t.height);var f;T.exists(s)?f=T.get(s):f=T.createCanvas(s,E,n);var y=f.getSourceImage();y.width!==E&&(y.width=E),y.height!==n&&(y.height=n);var c=y.getContext("2d",{willReadFrequently:!0});c.clearRect(0,0,E,n),c.drawImage(t,h,S,E,n),i.gl&&f&&i.canvasToTexture(y,f.source[0].glTexture,!0,0)},"CopyCanvasToTexture");const yO={updateTexture(e,t){e&&(t?e.call(t,this.canvas,this.context):e(this.canvas,this.context)),(this.canvas.width!==this.frame.width||this.canvas.height!==this.frame.height)&&this.frame.setSize(this.canvas.width,this.canvas.height),this.renderer&&this.renderer.gl&&(this.frame.source.glTexture=this.renderer.canvasToTexture(this.canvas,this.frame.source.glTexture,!0),this.frame.glTexture.spectorMetadata={textureKey:"Canvas Game Object"}),this.dirty=!1;var s=this.input;return s&&!s.customHitArea&&(s.hitArea.width=this.width,s.hitArea.height=this.height),this},generateTexture(e,t,s,h,S){var E=this.canvas;return h===void 0?h=E.width:h*=this.resolution,S===void 0?S=E.height:S*=this.resolution,LE(this.scene,E,e,t,s,h,S),this},loadTexture(e,t){var s=this.scene.sys.textures.getFrame(e,t);return s?(this.width!==s.cutWidth||this.height!==s.cutHeight?this.setSize(s.cutWidth,s.cutHeight):this.clear(),this.drawFrame(e,t),this.dirty=!0,this):this}};Md();const eS=Phaser.Display.Canvas.CanvasPool,SO=Phaser.GameObjects.GameObject,TO=Phaser.Utils.String.UUID;var Rn;let Vs=(Rn=class extends SO{constructor(t,s,h,S,E){s===void 0&&(s=0),h===void 0&&(h=0),S===void 0&&(S=1),E===void 0&&(E=1),super(t,"rexCanvas"),this.renderer=t.sys.game.renderer,this.resolution=1,this._width=S,this._height=E,S=Math.max(Math.ceil(S*this.resolution),1),E=Math.max(Math.ceil(E*this.resolution),1),this.canvas=eS.create(this,S,E),this.context=this.canvas.getContext("2d",{willReadFrequently:!0}),this.dirty=!1,this.setPosition(s,h),this.setOrigin(.5,.5),this.initPipeline(),this.initPostPipeline(!0),this._crop=this.resetCropObject(),this._textureKey=TO(),this.texture=t.sys.textures.addCanvas(this._textureKey,this.canvas),this.frame=this.texture.get(),this.frame.source.resolution=this.resolution,this.renderer&&this.renderer.gl&&(this.renderer.deleteTexture(this.frame.source.glTexture),this.frame.source.glTexture=null),this.dirty=!0}preDestroy(){eS.remove(this.canvas),this.canvas=null,this.context=null;var t=this.texture;t&&t.destroy()}get width(){return this._width}set width(t){this.setSize(t,this._height)}get height(){return this._height}set height(t){this.setSize(this._width,t)}setCanvasSize(t,s){return this._width===t&&this._height===s?this:(this._width=t,this._height=s,this.updateDisplayOrigin(),t=Math.max(Math.ceil(t*this.resolution),1),s=Math.max(Math.ceil(s*this.resolution),1),this.canvas.width=t,this.canvas.height=s,this.frame.setSize(t,s),this.dirty=!0,this)}setSize(t,s){return this.setCanvasSize(t,s),this}get displayWidth(){return this.scaleX*this._width}set displayWidth(t){this.scaleX=t/this._width}get displayHeight(){return this.scaleY*this._height}set displayHeight(t){this.scaleY=t/this._height}setDisplaySize(t,s){return this.displayWidth=t,this.displayHeight=s,this}getCanvas(t){return t||(this.dirty=!0),this.canvas}getContext(t){return t||(this.dirty=!0),this.context}needRedraw(){return this.dirty=!0,this}resize(t,s){return this.setSize(t,s),this}},r(Rn,"Canvas"),Rn);const Le=Phaser.GameObjects.Components;Phaser.Class.mixin(Vs,[Le.Alpha,Le.BlendMode,Le.Crop,Le.Depth,Le.Flip,Le.GetBounds,Le.Mask,Le.Origin,Le.Pipeline,Le.PostPipeline,Le.ScrollFactor,Le.Tint,Le.Transform,Le.Visible,gO,xO,yO]);const CO=Phaser.Utils.String.Pad;var pt=r(function(e,t,s){if(e==null)return e;switch(typeof e){case"string":return e;case"number":return`#${CO(Math.floor(e).toString(16),6,"0",1)}`;case"function":return e(t,s);case"object":return e.hasOwnProperty("r")?e.hasOwnProperty("a")?`rgba(${e.r},${e.g},${e.b},${e.a})`:`rgb(${e.r},${e.g},${e.b})`:e.hasOwnProperty("h")?e.hasOwnProperty("a")?`hsla(${e.h},${e.s},${e.l},${e.a})`:`hsl(${e.h},${e.s},${e.l})`:e;default:return e}},"GetStyle");const iS=Phaser.Math.DegToRad;var OE=r(function(e,t,s,h,S,E,n){var T=new RE(t,s,h,S,E),i=T.minWidth,f=T.minHeight,y=h>=i?1:h/i,c=S>=f?1:S/f,o=T.cornerRadius,l,a,u,v,d,p,g;e.save(),e.beginPath(),e.translate(t,s),l=o.tl,el(l)?(a=l.x*y,u=l.y*c,tl(l)?(v=a,d=u,cs(e,v,d,a,u,180,270,!1,n)):(v=0,d=0,cs(e,v,d,a,u,90,0,!0,n)),p=0,g=u):(e.lineTo(0,0),p=0,g=0),l=o.tr,el(l)?(a=l.x*y,u=l.y*c,tl(l)?(v=h-a,d=u,cs(e,v,d,a,u,270,360,!1,n)):(v=h,d=0,cs(e,v,d,a,u,180,90,!0,n))):e.lineTo(h,0),l=o.br,el(l)?(a=l.x*y,u=l.y*c,tl(l)?(v=h-a,d=S-u,cs(e,v,d,a,u,0,90,!1,n)):(v=h,d=S,cs(e,v,d,a,u,270,180,!0,n))):e.lineTo(h,S),l=o.bl,el(l)?(a=l.x*y,u=l.y*c,tl(l)?(v=a,d=S-u,cs(e,v,d,a,u,90,180,!1,n)):(v=0,d=S,cs(e,v,d,a,u,360,270,!0,n))):e.lineTo(0,S),e.lineTo(p,g),e.closePath(),e.restore()},"AddRoundRectanglePath"),tl=r(function(e){return!e.hasOwnProperty("convex")||e.convex},"IsConvexArc"),el=r(function(e){return e.x>0&&e.y>0},"IsArcCorner"),cs=r(function(e,t,s,h,S,E,n,T,i){if(T&&n>E?n-=360:!T&&n<E&&(n+=360),E=iS(E),n=iS(n),i==null)e.ellipse(t,s,h,S,0,E,n,T);else{i+=1;for(var f,y,c,o=(n-E)/i,l=0;l<=i;l++)c=E+o*l,f=t+h*Math.cos(c),y=s+S*Math.sin(c),e.lineTo(f,y)}},"ArcTo"),EO=r(function(e,t,s,h,S,E,n,T,i,f,y,c,o){if(OE(t,s,h,S,E,n,o),T!=null){if(y!=null){var l;c?l=t.createLinearGradient(0,0,S,0):l=t.createLinearGradient(0,0,0,E),l.addColorStop(0,T),l.addColorStop(1,y),T=l}t.fillStyle=T,t.fill()}i!=null&&f>0&&(t.strokeStyle=i,t.lineWidth=f,t.stroke())},"DrawRoundRectangle"),wp=r(function(e,t,s,h,S,E,n,T){if(!(t==null&&s==null)){var i=e.canvas.width,f=e.canvas.height;s==null&&(h=0);var y=h/2;i=Math.max(1,i-h),f=Math.max(1,f-h),EO(e.canvas,e.context,y,y,i,f,S,t,s,h,E,n,T)}},"DrawRoundRectangleBackground"),PO=r(function(){wp(this,this.fillStyle,this.strokeStyle,this.lineWidth,this.radius,this.fillColor2,this.isHorizontalGradient,this.iteration)},"DrawContent$2");const sS=Phaser.Utils.Objects.GetValue;var An;let wE=(An=class extends Vs{constructor(t,s,h,S,E,n,T,i,f,y,c){s===void 0&&(s=0),h===void 0&&(h=0),S===void 0&&(S=1),E===void 0&&(E=S),n===void 0&&(n=0),super(t,s,h,S,E),this.type="rexRoundRectangleCanvas";var o=sS(n,"radius",n),l=sS(n,"iteration",void 0);this.setRadius(o),this.setIteration(l),this.setFillStyle(T,y,c),this.setStrokeStyle(i,f)}get radius(){return this._radius}set radius(t){this.dirty|=this._radius!=t,this._radius=t}setRadius(t){return this.radius=t,this}get iteration(){return this._iteration}set iteration(t){this.dirty|=this._iteration!=t,this._iteration=t}setIteration(t){return this.iteration=t,this}get fillStyle(){return this._fillStyle}set fillStyle(t){t=pt(t,this.canvas,this.context),this.dirty|=this._fillStyle!=t,this._fillStyle=t}get fillColor2(){return this._fillColor2}set fillColor2(t){t=pt(t,this.canvas,this.context),this.dirty|=this._fillColor2!=t,this._fillColor2=t}get isHorizontalGradient(){return this._isHorizontalGradient}set isHorizontalGradient(t){this.dirty|=this._isHorizontalGradient!=t,this._isHorizontalGradient=t}setFillStyle(t,s,h){return h===void 0&&(h=!0),this.fillStyle=t,this.fillColor2=s,this.isHorizontalGradient=h,this}get strokeStyle(){return this._strokeStyle}set strokeStyle(t){t=pt(t,this.canvas,this.context),this.dirty|=this._strokeStyle!=t,this._strokeStyle=t}get lineWidth(){return this._lineWidth}set lineWidth(t){this.dirty|=this._lineWidth!=t,this._lineWidth=t}setStrokeStyle(t,s){return this.strokeStyle=t,this.lineWidth=s,this}updateTexture(){return this.clear(),PO.call(this),super.updateTexture(),this}},r(An,"RoundRectangle"),An);st.register("roundRectangleCanvas",function(e,t,s,h,S,E,n,T,i,f){var y=new wE(this.scene,e,t,s,h,S,E,n,T,i,f);return this.scene.add.existing(y),y});it(window,"RexPlugins.UI.RoundRectangleCanvas",wE);var At=r(function(e,t){if(!e)return!1;if(e.hasOwnProperty(t))return!0;for(;e;){if(Object.getOwnPropertyDescriptor(e,t))return!0;e=e.__proto__}return!1},"HasProperty"),vs=r(function(e,t,s){!t||At(e,`${t}X`)||(Object.defineProperty(e,`${t}X`,{get:r(function(){return s.x},"get"),set:r(function(h){s.x=h,e.dirty=!0},"set")}),Object.defineProperty(e,`${t}Y`,{get:r(function(){return s.y},"get"),set:r(function(h){s.y=h,e.dirty=!0},"set")}),Object.defineProperty(e,`${t}T`,{get:r(function(){return s.t},"get"),set:r(function(h){s.t=h,e.dirty=!0},"set")}))},"InjectPointAccessProperties");const RO={setTLPosition(e,t){return this.geom.setTLPosition(e,t),this.dirty=!0,this},setTRPosition(e,t){return this.geom.setTRPosition(e,t),this.dirty=!0,this},setBLPosition(e,t){return this.geom.setBLPosition(e,t),this.dirty=!0,this},setBRPosition(e,t){return this.geom.setBRPosition(e,t),this.dirty=!0,this},resetCornerPosition(){return this.geom.resetCornerPosition(),this.dirty=!0,this},insertTopSidePoint(e,t,s,h){var S=this.geom.topSidePoints;if(Array.isArray(e))for(var S=e,E,n=0,T=S.length;n<T;n++)E=S[n],this.geom.insertTopSidePoint(E.t,E.x,E.y),vs(this,E.key,S[S.length-1]);else this.geom.insertTopSidePoint(e,t,s),vs(this,h,S[S.length-1]);return this.dirty=!0,this},insertRightSidePoint(e,t,s,h){var S=this.geom.rightSidePoints;if(Array.isArray(e))for(var S=e,E,n=0,T=S.length;n<T;n++)E=S[n],this.geom.insertRightSidePoint(E.t,E.x,E.y),vs(this,E.key,S[S.length-1]);else this.geom.insertRightSidePoint(e,t,s),vs(this,h,S[S.length-1]);return this.dirty=!0,this},insertBottomSidePoint(e,t,s,h){var S=this.geom.bottomSidePoints;if(Array.isArray(e))for(var S=e,E,n=0,T=S.length;n<T;n++)E=S[n],this.geom.insertBottomSidePoint(E.t,E.x,E.y),vs(this,E.key,S[S.length-1]);else this.geom.insertBottomSidePoint(e,t,s),vs(this,h,S[S.length-1]);return this.dirty=!0,this},insertLeftSidePoint(e,t,s,h){var S=this.geom.leftSidePoints;if(Array.isArray(e))for(var S=e,E,n=0,T=S.length;n<T;n++)E=S[n],this.geom.insertLeftSidePoint(E.t,E.x,E.y),vs(this,E.key,S[S.length-1]);else this.geom.insertLeftSidePoint(e,t,s),vs(this,h,S[S.length-1]);return this.dirty=!0,this},clearTopSidePoints(){return this.geom.clearTopSidePoints(),this.dirty=!0,this},clearRightSidePoints(){return this.geom.clearRightSidePoints(),this.dirty=!0,this},clearBottomSidePoints(){return this.geom.clearBottomSidePoints(),this.dirty=!0,this},clearLeftSidePoints(){return this.geom.clearLeftSidePoints(),this.dirty=!0,this},clearAllSidesPoints(){return this.geom.clearAllSidesPoints(),this.dirty=!0,this}},zg=class zg{constructor(t,s,h,S){t===void 0&&(t=0),s===void 0&&(s=t),h===void 0&&(h=0),S===void 0&&(S=0),this.setTo(t,s,h,S),this.tlx=0,this.tly=0,this.trx=0,this.try=0,this.blx=0,this.bly=0,this.brx=0,this.bry=0,this.topSidePoints=[],this.rightSidePoints=[],this.bottomSidePoints=[],this.leftSidePoints=[]}setTo(t,s,h,S){return this.setPosition(t,s),this.setSize(h,S),this}setPosition(t,s){return this.x=t,this.y=s,this}setSize(t,s){return this.width=t,this.height=s,this}setTLPosition(t,s){return this.tlx=t,this.tly=s,this}setTRPosition(t,s){return this.trx=t,this.try=s,this}setBLPosition(t,s){return this.blx=t,this.bly=s,this}setBRPosition(t,s){return this.brx=t,this.bry=s,this}resetCornerPosition(){return this.setTLPosition(0,0).setTRPosition(0,0).setBLPosition(0,0).setBRPosition(0,0),this}insertTopSidePoint(t,s,h){return il(this.topSidePoints,t,s,h),this}insertRightSidePoint(t,s,h){return il(this.rightSidePoints,t,s,h),this}insertBottomSidePoint(t,s,h){return il(this.bottomSidePoints,t,s,h),this}insertLeftSidePoint(t,s,h){return il(this.leftSidePoints,t,s,h),this}clearTopSidePoints(){return this.topSidePoints.length=0,this}clearRightSidePoints(){return this.rightSidePoints.length=0,this}clearBottomSidePoints(){return this.bottomSidePoints.length=0,this}clearLeftSidePoints(){return this.leftSidePoints.length=0,this}clearAllSidesPoints(){return this.clearTopSidePoints().clearRightSidePoints().clearBottomSidePoints().clearLeftSidePoints(),this}};r(zg,"QuadGeom");let $c=zg;var il=r(function(e,t,s,h){if(typeof t!="number"){var S=t;t=S.t,s=S.x,h=S.y}e.push({t,x:s,y:h})},"AddPoint");const AO=Phaser.Utils.Objects.IsPlainObject,Ze=Phaser.Utils.Objects.GetValue,ps=Phaser.Math.Linear,LO=Phaser.Geom.Polygon.Earcut,Yg=class Yg extends Ih{constructor(t,s,h,S,E,n,T){var i,f,y;if(AO(s)){var c=s;s=c.x,h=c.y,S=c.width,E=c.height,n=c.color,T=c.alpha,i=c.strokeColor,f=c.strokeAlpha,y=c.strokeWidth}s===void 0&&(s=0),h===void 0&&(h=0),S===void 0&&(S=1),E===void 0&&(E=S);var o=new $c;super(t,"rexQuadShape",o),o.setTo(0,0,S,E),this.setPosition(s,h),this.setFillStyle(n,T),i!==void 0&&y===void 0&&(y=2),this.setStrokeStyle(y,i,f),this.setTLPosition(Ze(c,"tlx",0),Ze(c,"tly",0)).setTRPosition(Ze(c,"trx",0),Ze(c,"try",0)).setBLPosition(Ze(c,"blx",0),Ze(c,"bly",0)).setBRPosition(Ze(c,"brx",0),Ze(c,"bry",0));var l=Ze(c,"leftSidePoints");l&&this.insertLeftSidePoint(l);var a=Ze(c,"topSidePoints");a&&this.insertTopSidePoint(a);var u=Ze(c,"rightSidePoints");u&&this.insertRightSidePoint(u);var v=Ze(c,"bottomSidePoints");v&&this.insertBottomSidePoint(v),this.updateDisplayOrigin(),this.dirty=!0}updateData(){var t=this.geom,s=this.pathData;s.length=0;var h=t.width,S=t.height,E=0+t.tlx,n=0+t.tly,T=h+t.trx,i=0+t.try,f=h+t.brx,y=S+t.bry,c=0+t.blx,o=S+t.bly,l=t.topSidePoints,a=t.rightSidePoints,u=t.bottomSidePoints,v=t.leftSidePoints;ae(E,n,s),sl(l);for(var d=0,p=l.length;d<p;d++){var g=l[d],m=ps(E,T,g.t)+g.x,x=ps(n,i,g.t)+g.y;ae(m,x,s)}ae(T,i,s),sl(a);for(var d=0,p=a.length;d<p;d++){var g=a[d],m=ps(T,f,g.t)+g.x,x=ps(i,y,g.t)+g.y;ae(m,x,s)}ae(f,y,s),sl(u);for(var d=u.length-1;d>=0;d--){var g=u[d],m=ps(c,f,g.t)+g.x,x=ps(o,y,g.t)+g.y;ae(m,x,s)}ae(c,o,s),sl(v);for(var d=v.length-1;d>=0;d--){var g=v[d],m=ps(E,c,g.t)+g.x,x=ps(n,o,g.t)+g.y;ae(m,x,s)}return s.push(s[0],s[1]),this.pathIndexes=LO(s),this}get tlx(){return this.geom.tlx}set tlx(t){this.geom.tlx=t,this.dirty=!0}get tly(){return this.geom.tly}set tly(t){this.geom.tly=t,this.dirty=!0}get trx(){return this.geom.trx}set trx(t){this.geom.trx=t,this.dirty=!0}get try(){return this.geom.try}set try(t){this.geom.try=t,this.dirty=!0}get blx(){return this.geom.blx}set blx(t){this.geom.blx=t,this.dirty=!0}get bly(){return this.geom.bly}set bly(t){this.geom.bly=t,this.dirty=!0}get brx(){return this.geom.brx}set brx(t){this.geom.brx=t,this.dirty=!0}get bry(){return this.geom.bry}set bry(t){this.geom.bry=t,this.dirty=!0}get leftSidePoints(){return this.geom.leftSidePoints}get topSidePoints(){return this.geom.topSidePoints}get bottomSidePoints(){return this.geom.bottomSidePoints}get rightSidePoints(){return this.geom.rightSidePoints}};r(Yg,"Quad");let Fh=Yg;var sl=r(function(e){e.length<=1||e.sort(function(t,s){return t.t-s.t})},"SortPoints");Object.assign(Fh.prototype,RO);st.register("QuadShape",function(e,t,s,h,S,E){var n=new Fh(this.scene,e,t,s,h,S,E);return this.scene.add.existing(n),n});it(window,"RexPlugins.UI.QuadShape",Fh);var OO=Phaser.Renderer.WebGL.Utils,wO=r(function(e,t,s,h){if(!(t.width===0||t.height===0)){s.addToRenderList(t);var S=t.frame,E=S.width,n=S.height,T=OO.getTintAppendFloatAlpha,i=e.pipelines.set(t.pipeline,t),f=i.setTexture2D(S.glTexture,t);e.pipelines.preBatch(t),i.batchTexture(t,S.glTexture,E,n,t.x,t.y,E/t.style.resolution,n/t.style.resolution,t.scaleX,t.scaleY,t.rotation,t.flipX,t.flipY,t.scrollFactorX,t.scrollFactorY,t.displayOriginX,t.displayOriginY,0,0,E,n,T(t.tintTopLeft,s.alpha*t._alphaTL),T(t.tintTopRight,s.alpha*t._alphaTR),T(t.tintBottomLeft,s.alpha*t._alphaBL),T(t.tintBottomRight,s.alpha*t._alphaBR),t.tintFill,0,0,s,h,!1,f),e.pipelines.postBatch(t)}},"WebGLRenderer$1"),MO=r(function(e,t,s,h){t.width===0||t.height===0||(s.addToRenderList(t),e.batchSprite(t,t.frame,s,h))},"CanvasRenderer$1");const bO={renderWebGL:wO,renderCanvas:MO},tf=Phaser.Display.Canvas.CanvasPool;var IO=r(function(e,t,s){s===void 0&&(s={});var h=tf.create(this),S=h.getContext("2d",{willReadFrequently:!0});e.syncFont(h,S);var E=S.measureText(t),n=Math.ceil(E.width*e.baselineX),T=n,i=2*T;if(T=T*e.baselineY|0,h.width=n,h.height=i,S.fillStyle="#f00",S.fillRect(0,0,n,i),S.font=e._font,S.textBaseline="alphabetic",S.fillStyle="#000",S.fillText(e.testString,0,T),s.left=0,n===0||i===0||!S.getImageData(0,0,n,i))return tf.remove(h),s;for(var f=S.getImageData(0,0,n,i).data,y=!1,c=0;c<n;c++){for(var o=0;o<i;o++){var l=(o*n+c)*4;if(f[l]!==255){s.left=c,y=!0;break}}if(y)break}return tf.remove(h),s},"MeasureTextMargins");Md();const FO=Phaser.GameObjects.GameObject,kg=class kg extends FO{setStyle(t){return this.style.setStyle(t)}setFont(t){return this.style.setFont(t)}setFontFamily(t){return this.style.setFontFamily(t)}setFontSize(t){return this.style.setFontSize(t)}setFontStyle(t){return this.style.setFontStyle(t)}setTestString(t){return this.style.setTestString(t)}setFixedSize(t,s){return this.style.setFixedSize(t,s)}setBackgroundColor(t,s,h){return this.style.setBackgroundColor(t,s,h)}setBackgroundStrokeColor(t,s){return this.style.setBackgroundStrokeColor(t,s)}setBackgroundCornerRadius(t,s){return this.style.setBackgroundCornerRadius(t,s)}setFill(t){return this.style.setFill(t)}setColor(t){return this.style.setColor(t)}setStroke(t,s){return this.style.setStroke(t,s)}setShadow(t,s,h,S,E,n){return this.style.setShadow(t,s,h,S,E,n)}setShadowOffset(t,s){return this.style.setShadowOffset(t,s)}setShadowColor(t){return this.style.setShadowColor(t)}setShadowBlur(t){return this.style.setShadowBlur(t)}setShadowStroke(t){return this.style.setShadowStroke(t)}setShadowFill(t){return this.style.setShadowFill(t)}setWrapMode(t){return this.style.setWrapMode(t)}setWrapWidth(t){return this.style.setWrapWidth(t)}setWordWrapWidth(t){return this.style.setWrapWidth(t)}setAlign(t){return this.style.setHAlign(t)}setHAlign(t){return this.style.setHAlign(t)}setVAlign(t){return this.style.setVAlign(t)}setLineSpacing(t){return this.lineSpacing=t,this.updateText(!1),this}setXOffset(t){return this.style.setXOffset(t)}setMaxLines(t){return this.style.setMaxLines(t)}setResolution(t){return this.style.setResolution(t)}getTextMetrics(){return this.style.getTextMetrics()}setTextMetrics(t,s){return this.style.setTextMetrics(t,s)}measureTextMargins(t,s){return IO(this.style,t,s)}};r(kg,"TextBase");let gu=kg;const Te=Phaser.GameObjects.Components;Phaser.Class.mixin(gu,[Te.Alpha,Te.BlendMode,Te.ComputedSize,Te.Crop,Te.Depth,Te.Flip,Te.GetBounds,Te.Mask,Te.Origin,Te.Pipeline,Te.PostPipeline,Te.ScrollFactor,Te.Tint,Te.Transform,Te.Visible,bO]);var DO={backgroundColor:["backgroundColor",null,pt],backgroundColor2:["backgroundColor2",null,pt],backgroundHorizontalGradient:["backgroundHorizontalGradient",!0,null],backgroundStrokeColor:["backgroundStrokeColor",null,pt],backgroundStrokeLineWidth:["backgroundStrokeLineWidth",2,null],backgroundCornerRadius:["backgroundCornerRadius",0,null],backgroundCornerIteration:["backgroundCornerIteration",null,null],fontFamily:["fontFamily","Courier",null],fontSize:["fontSize","16px",null],fontStyle:["fontStyle","",null],color:["color","#fff",pt],stroke:["stroke","#fff",pt],strokeThickness:["strokeThickness",0,null],shadowOffsetX:["shadow.offsetX",0,null],shadowOffsetY:["shadow.offsetY",0,null],shadowColor:["shadow.color","#000",pt],shadowBlur:["shadow.blur",0,null],shadowStroke:["shadow.stroke",!1,null],shadowFill:["shadow.fill",!1,null],underlineColor:["underline.color","#000",pt],underlineThickness:["underline.thickness",0,null],underlineOffset:["underline.offset",0,null],strikethroughColor:["strikethrough.color","#000",pt],strikethroughThickness:["strikethrough.thickness",0,null],strikethroughOffset:["strikethrough.offset",0,null],halign:["halign","left",null],valign:["valign","top",null],maxLines:["maxLines",0,null],fixedWidth:["fixedWidth",0,null],fixedHeight:["fixedHeight",0,null],resolution:["resolution",0,null],lineSpacing:["lineSpacing",0,null],xOffset:["xOffset",0,null],rtl:["rtl",!1,null],testString:["testString","|Mqgy",null],baselineX:["baselineX",1.2,null],baselineY:["baselineY",1.4,null],wrapMode:["wrap.mode",0,null],wrapWidth:["wrap.width",0,null],wrapCallback:["wrap.callback",null],wrapCallbackScope:["wrap.callbackScope",null]};/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */const rl=Phaser.Display.Canvas.CanvasPool;var rS=r(function(e){var t=rl.create(this),s=t.getContext("2d",{willReadFrequently:!0});e.syncFont(t,s);var h=s.measureText(e.testString);if("actualBoundingBoxAscent"in h){var S=h.actualBoundingBoxAscent,E=h.actualBoundingBoxDescent,f={ascent:S,descent:E,fontSize:S+E};return rl.remove(t),f}var n=Math.ceil(h.width*e.baselineX),T=n,i=2*T;T=T*e.baselineY|0,t.width=n,t.height=i,s.fillStyle="#f00",s.fillRect(0,0,n,i),s.font=e._font,s.textBaseline="alphabetic",s.fillStyle="#000",s.fillText(e.testString,0,T);var f={ascent:0,descent:0,fontSize:0};if(!s.getImageData(0,0,n,i))return f.ascent=T,f.descent=T+6,f.fontSize=f.ascent+f.descent,rl.remove(t),f;var y=s.getImageData(0,0,n,i).data,c=y.length,o=n*4,l,a,u=0,v=!1;for(l=0;l<T;l++){for(a=0;a<o;a+=4)if(y[u+a]!==255){v=!0;break}if(!v)u+=o;else break}for(f.ascent=T-l,u=c-o,v=!1,l=i;l>T;l--){for(a=0;a<o;a+=4)if(y[u+a]!==255){v=!0;break}if(!v)u-=o;else break}return f.descent=l-T,f.fontSize=f.ascent+f.descent,rl.remove(t),f},"MeasureText"),jt={NO_NEWLINE:0,RAW_NEWLINE:1,WRAPPED_NEWLINE:2,NO_WRAP:0,WORD_WRAP:1,CHAR_WRAP:2,MIX_WRAP:3,SPLITREGEXP:/(?:\r\n|\r|\n)/};const mu={none:jt.NO_WRAP,word:jt.WORD_WRAP,char:jt.CHAR_WRAP,character:jt.CHAR_WRAP,mix:jt.MIX_WRAP},BO=Phaser.Utils.Objects.GetAdvancedValue,Ve=Phaser.Utils.Objects.GetValue;var Ln;let Mp=(Ln=class{constructor(t,s,h){this.parent=t,h===void 0&&(h=DO),this.propertyMap=h,this.backgroundColor,this.backgroundColor2,this.backgroundHorizontalGradient,this.backgroundStrokeColor,this.backgroundStrokeLineWidth,this.backgroundCornerRadius,this.backgroundCornerIteration,this.fontFamily,this.fontSize,this.fontStyle,this.color,this.stroke,this.strokeThickness,this.shadowOffsetX,this.shadowOffsetY,this.shadowColor,this.shadowBlur,this.shadowStroke,this.shadowFill,this.underlineColor,this.underlineThickness,this.underlineOffset,this.strikethroughColor,this.strikethroughThickness,this.strikethroughOffset,this.halign,this.valign,this.maxLines,this.fixedWidth,this.fixedHeight,this.resolution,this.xOffset,this.rtl,this.testString,this.baselineX,this.baselineY,this.wrapMode,this.wrapWidth,this.wrapCallback,this.wrapCallbackScope,this._font,this.setStyle(s,!1,!0)}get isWrapFitMode(){return this.fixedWidth>0&&this.wrapMode!==jt.NO_WRAP&&this.wrapWidth===0}setStyle(t,s,h){if(s===void 0&&(s=!0),h===void 0&&(h=!1),t&&t.hasOwnProperty("wordWrap")){var S=t.wordWrap;S.hasOwnProperty("width")&&(t.wrap={mode:"word",width:S.width})}if(t&&t.hasOwnProperty("wrap")){var E=t.wrap;if(E.hasOwnProperty("mode")){var n=E.mode;typeof n=="string"&&(E.mode=mu[n])}else E.hasOwnProperty("width")&&(E.mode=1)}t&&t.rtl&&h&&!t.hasOwnProperty("halign")&&(t.halign="right"),t&&t.hasOwnProperty("fontSize")&&typeof t.fontSize=="number"&&(t.fontSize=t.fontSize.toString()+"px");var T=this.propertyMap;for(var i in T){var f=T[i],y=f[0],c=h?f[1]:this[i],o=f[2];if(i==="wrapCallback"||i==="wrapCallbackScope")this[i]=Ve(t,y,c);else{var l=BO(t,y,c);o&&(l=o(l)),this[i]=l}}var a=Ve(t,"font",null);a===null?this._font=this.fontStyle+" "+this.fontSize+" "+this.fontFamily:this._font=a;var u=Ve(t,"fill",null);u!==null&&(this.color=pt(u));var v=Ve(t,"metrics",!1);return v?this.metrics={ascent:Ve(v,"ascent",0),descent:Ve(v,"descent",0),fontSize:Ve(v,"fontSize",0)}:(s||!this.metrics)&&(this.metrics=rS(this)),s?this.parent.updateText():this.parent}syncFont(t,s){s.font=this._font}syncStyle(t,s){s.textBaseline="alphabetic",s.fillStyle=this.color,s.strokeStyle=this.stroke,s.lineWidth=this.strokeThickness,s.lineCap="round",s.lineJoin="round"}syncShadow(t,s){s?(t.shadowOffsetX=this.shadowOffsetX,t.shadowOffsetY=this.shadowOffsetY,t.shadowColor=this.shadowColor,t.shadowBlur=this.shadowBlur):(t.shadowOffsetX=0,t.shadowOffsetY=0,t.shadowColor=0,t.shadowBlur=0)}update(t){return t&&(this._font=`${this.fontStyle} ${this.fontSize} ${this.fontFamily}`.trim(),this.metrics=rS(this)),this.parent.updateText(t)}buildFont(){var t=`${this.fontStyle} ${this.fontSize} ${this.fontFamily}`.trim();return t!==this._font&&(this._font=t),this}setFont(t){return typeof t=="string"?(this.fontFamily=t,this.fontSize="",this.fontStyle=""):(this.fontFamily=Ve(t,"fontFamily","Courier"),this.fontSize=Ve(t,"fontSize","16px"),this.fontStyle=Ve(t,"fontStyle","")),this.update(!0)}setFontFamily(t){return this.fontFamily=t,this.update(!0)}setFontStyle(t){return this.fontStyle=t,this.update(!0)}setFontSize(t){return typeof t=="number"&&(t=t.toString()+"px"),this.fontSize=t,this.update(!0)}setTestString(t){return this.testString=t,this.update(!0)}setFixedSize(t,s){return this.fixedWidth=t,this.fixedHeight=s,t&&(this.parent.width=t),s&&(this.parent.height=s),this.update(this.isWrapFitMode)}setResolution(t){return this.resolution=t,this.update(!1)}setXOffset(t){return this.xOffset=t,this.update(!1)}setBackgroundColor(t,s,h){return h===void 0&&(h=!0),this.backgroundColor=pt(t,this.parent.canvas,this.parent.context),this.backgroundColor2=pt(s,this.parent.canvas,this.parent.context),this.backgroundHorizontalGradient=h,this.update(!1)}setBackgroundStrokeColor(t,s){return this.backgroundStrokeColor=pt(t,this.parent.canvas,this.parent.context),this.backgroundStrokeLineWidth=s,this.update(!1)}setBackgroundCornerRadius(t,s){return this.backgroundCornerRadius=t,this.backgroundCornerIteration=s,this.update(!1)}setFill(t){return this.color=pt(t,this.parent.canvas,this.parent.context),this.update(!1)}setColor(t){return this.color=pt(t,this.parent.canvas,this.parent.context),this.update(!1)}setStroke(t,s){return t===void 0?this.strokeThickness=0:(s===void 0&&(s=this.strokeThickness),this.stroke=pt(t,this.parent.canvas,this.parent.context),this.strokeThickness=s),this.update(!0)}setShadow(t,s,h,S,E,n){return t===void 0&&(t=0),s===void 0&&(s=0),h===void 0&&(h="#000"),S===void 0&&(S=0),E===void 0&&(E=!1),n===void 0&&(n=!0),this.shadowOffsetX=t,this.shadowOffsetY=s,this.shadowColor=pt(h,this.parent.canvas,this.parent.context),this.shadowBlur=S,this.shadowStroke=E,this.shadowFill=n,this.update(!1)}setShadowOffset(t,s){return t===void 0&&(t=0),s===void 0&&(s=t),this.shadowOffsetX=t,this.shadowOffsetY=s,this.update(!1)}setShadowColor(t){return t===void 0&&(t="#000"),this.shadowColor=pt(t,this.parent.canvas,this.parent.context),this.update(!1)}setShadowBlur(t){return t===void 0&&(t=0),this.shadowBlur=t,this.update(!1)}setShadowStroke(t){return this.shadowStroke=t,this.update(!1)}setShadowFill(t){return this.shadowFill=t,this.update(!1)}setUnderline(t,s,h){return t===void 0&&(t="#000"),s===void 0&&(s=0),h===void 0&&(h=0),this.underlineColor=pt(t,this.parent.canvas,this.parent.context),this.underlineThickness=s,this.underlineOffset=h,this.update(!1)}setUnderlineColor(t){return t===void 0&&(t="#000"),this.underlineColor=pt(t,this.parent.canvas,this.parent.context),this.update(!1)}setUnderlineThickness(t){return t===void 0&&(t=0),this.underlineThickness=t,this.update(!1)}setUnderlineOffset(t){return t===void 0&&(t=0),this.underlineOffset=t,this.update(!1)}setStrikethrough(t,s,h){return t===void 0&&(t="#000"),s===void 0&&(s=0),h===void 0&&(h=0),this.strikethroughColor=pt(t,this.parent.canvas,this.parent.context),this.strikethroughThickness=s,this.strikethroughOffset=h,this.update(!1)}setStrikethroughColor(t){return t===void 0&&(t="#000"),this.strikethroughColor=pt(t,this.parent.canvas,this.parent.context),this.update(!1)}setStrikethroughThickness(t){return t===void 0&&(t=0),this.strikethroughThickness=t,this.update(!1)}setStrikethroughOffset(t){return t===void 0&&(t=0),this.strikethroughOffset=t,this.update(!1)}setWrapMode(t){return typeof t=="string"&&(t=mu[t.toLowerCase()]||0),this.wrapMode=t,this.update(!0)}setWrapWidth(t){return this.wrapWidth=t,this.update(!1)}setAlign(t,s){return t===void 0&&(t="left"),s===void 0&&(s="top"),this.halign=t,this.valign=s,this.update(!1)}setHAlign(t){return t===void 0&&(t="left"),this.halign=t,this.update(!1)}setVAlign(t){return t===void 0&&(t="top"),this.valign=t,this.update(!1)}setMaxLines(t){return t===void 0&&(t=0),this.maxLines=t,this.update(!1)}getTextMetrics(){var t=this.metrics;return{ascent:t.ascent,descent:t.descent,fontSize:t.fontSize}}setTextMetrics(t,s){return this.metrics.ascent=t.ascent,this.metrics.descent=t.descent,this.metrics.fontSize=t.fontSize,s&&(typeof s=="string"?(this.fontFamily=s,this.fontSize="",this.fontStyle=""):(this.fontFamily=Ve(s,"fontFamily",this.fontFamily),this.fontSize=Ve(s,"fontSize",this.fontSize),this.fontStyle=Ve(s,"fontStyle",this.fontStyle))),this.parent.updateText(!0)}get lineHeight(){return this.metrics.fontSize+this.strokeThickness+this.parent.lineSpacing}toJSON(){var t={},s=this.propertyMap;for(var h in s)t[h]=this[h];return t.metrics=this.getTextMetrics(),t}destroy(){this.parent=void 0}},r(Ln,"TextStyle"),Ln);const GO={draw(e,t,s,h){var S=this.penManager;this.hitAreaManager.clear();var E=this.context;E.save();var n=this.defaultStyle;this.clear(),wp(this,n.backgroundColor,n.backgroundStrokeColor,n.backgroundStrokeLineWidth,n.backgroundCornerRadius,n.backgroundColor2,n.backgroundHorizontalGradient,n.backgroundCornerIteration),e+=this.startXOffset,t+=this.startYOffset;var T=n.halign,i=n.valign,f,y=n.lineHeight,c=S.lines,o=c.length,l=n.maxLines,a,u,v;l>0&&o>l?(a=l,i==="center"?u=Math.floor((o-a)/2):i==="bottom"?u=o-a:u=0):(a=o,u=0),v=u+a;var d,p,g=this.rtl,m=g?this.parent.width:void 0;i==="center"?p=Math.max((h-a*y)/2,0):i==="bottom"?p=Math.max(h-a*y-2,0):p=0,p+=t;for(var x=u;x<v;x++)if(f=S.getLineWidth(x),f!==0){for(var C=c[x],P=C.length,A=T,R=0;R<P;R++){var L=C[R].prop.align;if(L!==void 0){A=L;break}}A==="center"?d=(s-f)/2:A==="right"?d=g?0:s-f:d=g?s-f:0,d+=e;for(var R=0;R<P;R++)this.drawPen(C[R],d,p,m)}E.restore()},drawPen(e,t,s,h){t+=e.x,s+=e.y+(e.prop.y||0),h!==void 0&&(t=h-t);var S=this.canvas,E=this.context;E.save();var n=this.parser.propToContextStyle(this.defaultStyle,e.prop);if(n.bgcolor!==null&&e.width>0){var T=this.defaultStyle.metrics,i=s-T.ascent,f=T.fontSize;this.drawRectangle(t,i,e.width,f,n.bgcolor,n)}if(n.underlineThickness>0&&e.width>0){var y=s+n.underlineOffset-n.underlineThickness/2;this.drawLine(t,y,e.width,n.underlineThickness,n.underlineColor,n)}if(e.isTextPen&&(n.buildFont(),n.syncFont(S,E),n.syncStyle(S,E),this.drawText(t,s,e.text,n)),e.isImagePen&&this.drawImage(t,s,e.prop.img,e.prop.color,n),n.strikethroughThickness>0&&e.width>0){var y=s+n.strikethroughOffset-n.strikethroughThickness/2;this.drawLine(t,y,e.width,n.strikethroughThickness,n.strikethroughColor,n)}if(E.restore(),e.hasAreaMarker&&e.width>0){var c,o=e.prop.area;if(o)c={key:o};else{var l=e.prop.url;c={key:`url:${l}`,url:l}}this.hitAreaManager.add(t,s-this.startYOffset,e.width,this.defaultStyle.lineHeight,c)}},clear(){var e=this.canvas;this.context.clearRect(0,0,e.width,e.height)},drawRectangle(e,t,s,h,S,E){this.autoRound&&(e=Math.round(e),t=Math.round(t));var n=this.context;n.fillStyle=S,n.fillRect(e,t,s,h)},drawLine(e,t,s,h,S,E){this.autoRound&&(e=Math.round(e),t=Math.round(t));var n=this.context;E.syncShadow(n,E.shadowStroke);var T=n.lineCap;n.lineCap="butt",n.strokeStyle=S,n.lineWidth=h,n.beginPath(),n.moveTo(e,t),n.lineTo(e+s,t),n.stroke(),n.lineCap=T},drawText(e,t,s,h){this.autoRound&&(e=Math.round(e),t=Math.round(t));var S=this.context;h.stroke&&h.stroke!=="none"&&h.strokeThickness>0&&(h.syncShadow(S,h.shadowStroke),S.strokeText(s,e,t)),h.color&&h.color!=="none"&&(h.syncShadow(S,h.shadowFill),S.fillText(s,e,t))},drawImage(e,t,s,h,S){t-=this.startYOffset,this.parent.imageManager.draw(s,this.context,e,t,h,this.autoRound)}},$s=Phaser.Utils.Objects.GetValue,NO=jt.NO_NEWLINE,nS=jt.RAW_NEWLINE,Hg=class Hg{constructor(t){this.prop={},this.resetFromJSON(t)}resetFromJSON(t){this.text=$s(t,"text",""),this.x=$s(t,"x",0),this.y=$s(t,"y",0),this.width=$s(t,"width",0);var s=$s(t,"prop",null);s===null&&(s={}),this.prop=s,this.newLineMode=$s(t,"newLineMode",0),this.startIndex=$s(t,"startIndex",0)}get plainText(){var t=this.text;return this.newLineMode===nS&&(t+=`
`),t}get wrapText(){var t=this.text;return this.newLineMode!==NO&&(t+=`
`),t}get rawTextLength(){var t=this.text.length;return this.newLineMode===nS&&(t+=1),t}get endIndex(){return this.startIndex+this.rawTextLength}get lastX(){return this.x+this.width}get isTextPen(){return this.text!==""}get isImagePen(){return!!this.prop.img}get hasAreaMarker(){return!!this.prop.area||!!this.prop.url}};r(Hg,"Pen");let Kc=Hg;var Fi=r(function(e,t){var s=Array.isArray(e);if(t===void 0?t=s?[]:{}:ji(t),s){t.length=e.length;for(var h=0,S=e.length;h<S;h++)t[h]=e[h]}else for(var E in e)t[E]=e[E];return t},"Clone$2");const aS=Phaser.Utils.Objects.GetFastValue,hS=jt.NO_NEWLINE,UO=jt.WRAPPED_NEWLINE,Pd=class Pd{constructor(t){this.pens=[],this.lines=[],this.maxLinesWidth=void 0,this.pensPool=t.pensPool,this.linesPool=t.linesPool,this.tagToText=aS(t,"tagToText",ee),this.tagToTextScope=aS(t,"tagToTextScope",void 0)}destroy(){this.clear(),this.tagToText=void 0,this.tagToTextScope=void 0}clear(){for(var t=0,s=this.lines.length;t<s;t++)this.lines[t].length=0;this.pensPool.pushMultiple(this.pens),this.linesPool.pushMultiple(this.lines),this.maxLinesWidth=void 0}addTextPen(t,s,h,S,E,n){var T=this.pensPool.pop();return T==null&&(T=new Kc),Ks.text=t,Ks.x=s,Ks.y=h,Ks.width=S,Ks.prop=E,Ks.newLineMode=n,T.resetFromJSON(Ks),this.addPen(T),this}addImagePen(t,s,h,S){return this.addTextPen("",t,s,h,S,hS),this}addNewLinePen(){var t=this.lastPen,s=t?t.lastX:0,h=t?t.y:0,S=t?Fi(t.prop):null;return this.addTextPen("",s,h,0,S,UO),this}addPen(t){var s=this.lastPen;s==null?t.startIndex=0:t.startIndex=s.endIndex,this.pens.push(t);var h=this.lastLine;h==null&&(h=this.linesPool.pop()||[],this.lines.push(h)),h.push(t),t.newLineMode!==hS&&(h=this.linesPool.pop()||[],this.lines.push(h)),this.maxLinesWidth=void 0}clone(t){t==null&&(t=new Pd),t.clear();for(var s=0,h=this.lines.length;s<h;s++)for(var S=this.lines[s],E=0,n=S.length;E<n;E++){var T=S[E];t.addPen(T.text,T.x,T.y,T.width,Fi(T.prop),T.newLineMode)}return t}get lastPen(){return this.pens[this.pens.length-1]}get lastLine(){return this.lines[this.lines.length-1]}getLineStartIndex(t){if(t>=this.lines.length)return this.getLineEndIndex(t);var s=this.lines[t];return s&&s[0]?s[0].startIndex:0}getLineEndIndex(t){t>=this.lines.length&&(t=this.lines.length-1);var s,h=!1,S;for(s=t;s>=0&&(S=this.lines[s],h=S!=null&&S.length>0,!h);s--);if(!h)return 0;var E=S[S.length-1];return E.endIndex}getLineWidth(t){var s=this.lines[t];if(!s)return 0;var h=s[s.length-1];if(h==null)return 0;var S=h.lastX;return S}getMaxLineWidth(){if(this.maxLinesWidth!==void 0)return this.maxLinesWidth;for(var t,s=0,h=0,S=this.lines.length;h<S;h++)t=this.getLineWidth(h),t>s&&(s=t);return this.maxLinesWidth=s,s}getLineWidths(){for(var t=[],s=0,h=this.lines.length;s<h;s++)t.push(this.getLineWidth(s));return t}get linesCount(){return this.lines.length}get plainText(){for(var t="",s=this.pens,h=0,S=s.length;h<S;h++)t+=s[h].plainText;return t}get rawTextLength(){for(var t=0,s=this.pens,h=0,S=this.pens.length;h<S;h++)t+=s[h].rawTextLength;return t}getSliceTagText(t,s,h){var S=this.lastPen;if(S==null)return"";var E=S.endIndex;(t===void 0||t===0)&&(t=-1),(s===void 0||s===E)&&(s=E+1),h===void 0&&(h=!1);for(var n="",T,i,f,y,c,o,l,a=0,u=this.pens.length;a<u&&(T=this.pens[a],y=T.endIndex,!(!(y<=t)&&(T=this.pens[a],i=h?T.wrapText:T.plainText,o=T.prop,f=T.startIndex,c=f>=t&&y<=s,c||(i=i.substring(t-f,s-f)),this.tagToTextScope?n+=this.tagToText.call(this.tagToTextScope,i,o,l):n+=this.tagToText(i,o,l),l=o,y>=s)));a++);return n}get length(){return this.lines.length}set length(t){this.clear()}};r(Pd,"PenManager");let Zc=Pd;var Ks={};const VO=Phaser.Geom.Rectangle;var oS=new ei;const Xg=class Xg{constructor(){this.hitAreas=[]}destroy(){this.clear()}clear(){for(var t=0,s=this.hitAreas.length;t<s;t++)ji(this.hitAreas[t].data);return oS.pushMultiple(this.hitAreas),this}add(t,s,h,S,E){var n=oS.pop();return n===null?n=new VO(t,s,h,S):n.setTo(t,s,h,S),n.data=E,this.hitAreas.push(n),this}getFirst(t,s){for(var h=0,S=this.hitAreas.length;h<S;h++){var E=this.hitAreas[h];if(E.contains(t,s))return E}return null}getByKey(t){for(var s=0,h=this.hitAreas.length;s<h;s++){var S=this.hitAreas[s];if(S.data.key===t)return S}return null}drawBounds(t,s,h){s===void 0&&(s=16777215),h&&t.save().scaleCanvas(h.scaleX,h.scaleY).rotateCanvas(h.rotation).translateCanvas(h.x,h.y);for(var S=0,E=this.hitAreas.length;S<E;S++){var n=this.hitAreas[S];t.lineStyle(1,s).strokeRect(n.x,n.y,n.width,n.height)}return h&&t.restore(),this}};r(Xg,"HitAreaManager");let Jc=Xg;var WO=r(function(){this.parent.on("pointerdown",zO,this).on("pointerup",YO,this).on("pointermove",ef,this).on("pointerover",ef,this).on("pointerout",function(e,t){ef.call(this,e,null,null,t)},this)},"SetInteractive$1"),zO=r(function(e,t,s,h){var S=this.hitAreaManager.getFirst(t,s);if(S!==null){var E=S.data.key;gn.call(this,"areadown",E,e,t,s,h),S.data.isDown=!0}},"OnAreaDown"),YO=r(function(e,t,s,h){var S=this.hitAreaManager.getFirst(t,s);if(S!==null){var E=S.data,n=E.key;if(gn.call(this,"areaup",n,e,t,s,h),E.isDown){gn.call(this,"areaclick",n,e,t,s,h);var T=E.url;T&&window.open(T,"_blank")}E.isDown=!1}},"OnAreaUp"),ef=r(function(e,t,s,h){if(t===null){this.lastHitAreaKey!==null&&(gn.call(this,"areaout",this.lastHitAreaKey,e,t,s,h),this.hitAreaManager.getByKey(this.lastHitAreaKey).isDown=!1,this.lastHitAreaKey=null);return}var S=this.hitAreaManager.getFirst(t,s),E=S?S.data.key:null;if(this.lastHitAreaKey!==E){if(this.lastHitAreaKey!==null){gn.call(this,"areaout",this.lastHitAreaKey,e,t,s,h);var n=this.hitAreaManager.getByKey(this.lastHitAreaKey);this.urlTagCursorStyle&&n.data.url&&(this.scene.input.manager.canvas.style.cursor=""),n.isDown=!1}E!==null&&(gn.call(this,"areaover",E,e,t,s,h),this.urlTagCursorStyle&&S.data.url&&(this.scene.input.manager.canvas.style.cursor=this.urlTagCursorStyle)),this.lastHitAreaKey=E}},"OnAreaOverOut"),gn=r(function(e,t,s,h,S,E){this.parent.emit(`${e}-${t}`,s,h,S,E),this.parent.emit(e,t,s,h,S,E)},"FireEvent$2"),kO=/^[\x00-\x7F]+$/,Dh=r(function(e){return kO.test(e)},"IsASCIIString");const HO=jt.NO_NEWLINE,XO=jt.RAW_NEWLINE,sf=jt.WRAPPED_NEWLINE,lS=jt.NO_WRAP,$O=jt.WORD_WRAP,ME=jt.CHAR_WRAP,KO=jt.SPLITREGEXP;var bE=r(function(e,t,s,h,S,E){h<=0&&(s=lS);var n=[];if(!e||!e.length)return n;for(var T=s===lS,i=e.split(KO),f,y,c,o=0,l=i.length;o<l;o++){if(f=i[o],c=o===l-1?HO:XO,T){var a=t(f);n.push(E.getLine(f,a,c));continue}if(y=o===0?h-S:h,f.length<=100){var a=t(f);if(a<=y){n.push(E.getLine(f,a,c));continue}}for(var u=ZO(f,s),v,d,p="",g=0,m,x=0,C=u.length;x<C;x++){if(v=u[x],d=t(v),d>h&&JO(v)){p!==""?n.push(E.getLine(p,g,sf)):x===0&&S>0&&n.push(E.getLine("",0,sf)),n.push(...bE(v,t,ME,h,0,E));var P=n.pop();p=P.text,g=P.width,E.freeLine(P),p===" "&&(p="",g=0);continue}m=g+d,m>y?(n.push(E.getLine(p,g,sf)),p=v,g=d,y=h):(p+=v,g=m),x===C-1&&n.push(E.getLine(p,g,c))}}return n},"WrapText"),ZO=r(function(e,t){var s;switch(t){case $O:s=[],e=e.split(" ");for(var h=0,S=e.length;h<S;h++){var E=e[h];h<S-1?s.push(E+" "):E!==""&&s.push(E)}break;case ME:s=e.split("");break;default:s=[],e=e.split(" ");for(var h=0,S=e.length;h<S;h++){var E=e[h];h<S-1?Dh(E)?s.push(E+" "):(s.push(...E.split("")),s.push(" ")):E!==""&&(Dh(E)?s.push(E):s.push(...E.split("")))}break}return s},"ParseLine"),JO=r(function(e){switch(e.length){case 1:return!1;case 2:return e.charAt(1)!==" ";default:return!0}},"IsWord");const rf=Phaser.Utils.Objects.GetValue,QO=jt.NO_WRAP,jO=jt.NO_NEWLINE,$g=class $g{constructor(t){this.parent=t.parent,this.scene=this.parent.scene,this.context=rf(t,"context",null),this.canvas=this.context.canvas,this.parser=rf(t,"parser",null),this.defaultStyle=rf(t,"style",null),this.autoRound=!0,this.pensPool=t.pensPool,this.linesPool=t.linesPool,this.wrapTextLinesPool=t.wrapTextLinesPool,this.penManager=this.newPenManager(),this._tmpPenManager=null,this.hitAreaManager=new Jc,this.lastHitAreaKey=null,this.urlTagCursorStyle=null;var s=this.context;this.getTextWidth=function(h){return s.measureText(h).width}}destroy(){this.parent=void 0,this.scene=void 0,this.context=void 0,this.canvas=void 0,this.parser=void 0,this.defaultStyle=void 0,this.penManager&&(this.penManager.destroy(),this.penManager=void 0),this._tmpPenManager&&(this._tmpPenManager.destroy(),this._tmpPenManager=void 0),this.hitAreaManager&&(this.hitAreaManager.destroy(),this.hitAreaManager=void 0),this.pensPool=void 0,this.linesPool=void 0,this.wrapTextLinesPool=void 0}updatePenManager(t,s,h,S,E){if(E===void 0&&(E=this.penManager),E.clear(),t==="")return E;var n=this.parent.style;if(n.isWrapFitMode){var T=this.parent.padding;h=n.fixedWidth-T.left-T.right}for(var i=this.canvas,f=this.context,y=r(function(M){return f.measureText(M).width},"MeasureText"),c=0,o=0,l=n.wrapCallback,a=n.wrapCallbackScope,u=!0,v,d,p,g=this.parser.splitText(t),m,x,C=this.wrapTextLinesPool,P=0,A=g.length;P<A;P++)if(m=this.parser.tagTextToProp(g[P],d),v=m.plainText,d=m.prop,d.img){var R=this.imageManager.getOuterWidth(d.img);h>0&&s!==QO&&h<c+R&&(E.addNewLinePen(),o+=S,c=0),E.addImagePen(c,o,R,Fi(d)),c+=R}else if(v!==""){if(f.save(),p=this.parser.propToContextStyle(this.defaultStyle,d),p.buildFont(),p.syncFont(i,f),p.syncStyle(i,f),!l)x=bE(v,y,s,h,c,C);else{x=l.call(a,v,y,h,c),typeof x=="string"&&(x=x.split(`
`));for(var w,L=0,O=x.length;L<O;L++)w=x[L],typeof w=="string"?x[L]=C.getLine(w,y(w),L<O-1?2:0):u=!1}for(var w,L=0,O=x.length;L<O;L++)w=x[L],E.addTextPen(w.text,c,o,w.width,Fi(d),w.newLineMode),w.newLineMode!==jO?(c=0,o+=S):c+=w.width;u&&C.freeLines(x),x=null,f.restore()}for(var P=0,A=this.lines.length;P<A;P++){var b=this.lines[P],F=b[b.length-1];F&&(F.width+=this.parser.getStrokeThinkness(this.defaultStyle,F.prop))}return E}get startXOffset(){return this.defaultStyle.xOffset}get startYOffset(){return this.defaultStyle.metrics.ascent}get lines(){return this.penManager.lines}get desplayLinesCount(){var t=this.penManager.linesCount,s=this.defaultStyle.maxLines;return s>0&&t>s&&(t=s),t}get linesWidth(){return Math.ceil(this.penManager.getMaxLineWidth())}get linesHeight(){var t=this.desplayLinesCount,s=this.defaultStyle.lineHeight*t;return t>0&&(s-=this.defaultStyle.lineSpacing),s}get imageManager(){return this.parent.imageManager}get rtl(){return this.parent.style.rtl}newPenManager(){return new Zc({pensPool:this.pensPool,linesPool:this.linesPool,tagToText:this.parser.propToTagText,tagToTextScope:this.parser})}get tmpPenManager(){return this._tmpPenManager===null&&(this._tmpPenManager=this.newPenManager()),this._tmpPenManager}getPlainText(t,s,h){var S;if(t==null)S=this.penManager.plainText;else{var E=this.parser.splitText(t,1);S="";for(var n=0,T=E.length;n<T;n++)S+=E[n]}return(s!=null||h!=null)&&(s==null&&(s=0),h==null&&(h=S.length),S=S.substring(s,h)),S}getPenManager(t,s){if(t===void 0)return this.copyPenManager(s,this.penManager);s===void 0&&(s=this.newPenManager());var h=this.defaultStyle;return this.updatePenManager(t,h.wrapMode,h.wrapWidth,h.lineHeight,s),s}getText(t,s,h,S){if(t==null)return this.penManager.getSliceTagText(s,h,S);var E=this.tmpPenManager,n=this.defaultStyle;return this.updatePenManager(t,n.wrapMode,n.wrapWidth,n.lineHeight,E),E.getSliceTagText(s,h,S)}copyPenManager(t,s){return s===void 0&&(s=this.penManager),s.copy(t)}getTextWidth(t){return t===void 0&&(t=this.penManager),t.getMaxLineWidth()}getLastPen(t){return t===void 0&&(t=this.penManager),t.lastPen}};r($g,"CanvasText");let xu=$g;var qO={setInteractive:WO};Object.assign(xu.prototype,GO,qO);const Kg=class Kg extends ei{freeLine(t){if(t)return this.push(t),this}freeLines(t){if(t)return this.pushMultiple(t),this}getLine(t,s,h){var S=this.pop();return S===null&&(S={}),S.text=t,S.width=s,S.newLineMode=h,S}};r(Kg,"WrapTextLinesPool");let yu=Kg;const _O=Phaser.Utils.Objects.IsPlainObject,Gr=Phaser.Utils.Objects.GetValue;var nf=r(function(e,t){_O(e)?(t=e,e=t.key):t===void 0&&(t={key:e}),t.hasOwnProperty("key")||(t.key=e);var s=t.key,h=t.frame,S=t.width,E=t.height;if(S===void 0||E===void 0){var n=this.textureManager.getFrame(s,h),T=n?n.cutWidth:0,i=n?n.cutHeight:0;S===void 0&&E===void 0?(S=T,E=i):S===void 0?S=T*(E/i):E===void 0&&(E=i*(S/T))}this.images[e]={key:s,frame:h,width:S,height:E,y:Gr(t,"y",0),left:Gr(t,"left",0),right:Gr(t,"right",0),originX:Gr(t,"originX",0),originY:Gr(t,"originY",0),tintFill:Gr(t,"tintFill",!1)}},"AddImage$1");const uS=Phaser.Display.Canvas.CanvasPool;var IE=r(function(e,t,s,h,S,E,n,T){s===void 0&&(s=0),h===void 0&&(h=0),S===void 0&&(S=e.cutWidth),E===void 0&&(E=e.cutHeight),T===void 0&&(T=!1),T&&(s=Math.round(s),h=Math.round(h));var i=t.getContext("2d",{willReadFrequently:!0});if(n){var f=uS.create(null,S,E,Phaser.CANVAS,!0),y=f.getContext("2d",{willReadFrequently:!0});y.drawImage(e.source.image,e.cutX,e.cutY,e.cutWidth,e.cutHeight,0,0,S,E),y.globalCompositeOperation="source-in",y.fillStyle=n,y.fillRect(0,0,S,E),i.drawImage(f,0,0,S,E,s,h,S,E),uS.remove(f)}else i.drawImage(e.source.image,e.cutX,e.cutY,e.cutWidth,e.cutHeight,s,h,S,E)},"DrawFrameToCanvas"),tw=r(function(e,t,s,h,S,E){var n=this.get(e);if(n){var T=this.textureManager.getFrame(n.key,n.frame),i=n.width,f=n.height;s+=n.left-n.originX*i,h+=n.y-n.originY*f,n.tintFill||(S=void 0),IE(T,t.canvas,s,h,i,f,S,E)}},"DrawImage");const Zg=class Zg{constructor(t){this.textureManager=t.sys.textures,this.images={}}destroy(){this.textureManager=void 0,this.images=void 0}add(t,s){if(typeof t=="string")nf.call(this,t,s);else if(Array.isArray(t))for(var h=t,S=0,E=h.length;S<E;S++)nf.call(this,h[S]);else{var h=t;for(var t in h)nf.call(this,t,h[t])}return this}has(t){return this.images.hasOwnProperty(t)}remove(t){return this.has(t)&&delete this.images[t],this}get(t){return this.has(t)||this.textureManager.exists(t)&&this.add(t),this.images[t]}getOuterWidth(t){var s=this.get(t);return s?s.width+s.left+s.right:0}getFrame(t){var s=this.get(t);return s?this.textureManager.getFrame(s.key,s.frame):void 0}hasTexture(t){return!!this.getFrame(t)}};r(Zg,"ImageManager");let Bh=Zg;var ew={draw:tw};Object.assign(Bh.prototype,ew);var FE=r(function(e,t){!e&&e!==0&&(e=""),t===void 0&&(t=!0),Array.isArray(e)&&(e=e.join(`
`));var s;return t?s=`${this.text}
${e}`:s=`${this.text}${e}`,s!=this.text&&this.setText(s),this},"AppendText$2");const iw=Phaser.Utils.Objects.IsPlainObject,dS=Phaser.DOM.AddToDOM,fS=Phaser.Display.Canvas.CanvasPool,sw=Phaser.GameObjects.GameObject,Oe=Phaser.Utils.Objects.GetValue,rw=Phaser.DOM.RemoveFromDOM,nw=jt.SPLITREGEXP,aw=Phaser.Utils.String.UUID;var Nr=null,af=null,hf=null;const Jg=class Jg extends gu{constructor(t,s,h,S,E,n,T){if(iw(s)){var i=s;s=Oe(i,"x",0),h=Oe(i,"y",0),S=Oe(i,"text",""),E=Oe(i,"style")}if(s===void 0&&(s=0),h===void 0&&(h=0),super(t,n),this.renderer=t.sys.game.renderer,this.setPosition(s,h),this.setOrigin(0,0),this.initPipeline(),this.initPostPipeline(!0),this.canvas=fS.create(this),this.context=this.canvas.getContext("2d",{willReadFrequently:!0}),this._imageManager=void 0,E){if(E.hasOwnProperty("align")){var f=E.align;delete E.align,E.halign=f}E.hasOwnProperty("stroke")&&!E.hasOwnProperty("strokeThickness")&&(E.strokeThickness=1)}this.style=new Mp(this,E);var y=Oe(E,"images",void 0);y&&this.addImage(y),this.autoRound=!0,this._text=void 0,this.padding={left:0,right:0,top:0,bottom:0},this.width=1,this.height=1,this.lineSpacing=0,this.dirty=!1,this.style.resolution===0&&(this.style.resolution=1),this._crop=this.resetCropObject(),this._textureKey=aw(),this.texture=t.sys.textures.addCanvas(this._textureKey,this.canvas),this.frame=this.texture.get(),this.frame.source.resolution=this.style.resolution,this.renderer&&this.renderer.gl&&(this.renderer.deleteTexture(this.frame.source.glTexture),this.frame.source.glTexture=null);var c=Oe(E,"sharedPool",!0),o,l,a;c?(Nr||(Nr={},af=new ei,hf=new yu,this.scene.game.events.once("destroy",function(){Nr=null,af=null,hf=null})),Nr.hasOwnProperty(n)||(Nr[n]=new ei),o=Nr[n],l=af,a=hf):(o=new ei,l=new ei,a=new yu),this.canvasText=new xu({parent:this,context:this.context,parser:T,style:this.style,pensPool:o,linesPool:l,wrapTextLinesPool:a}),this.parser=T,this.initRTL(),E&&E.padding&&this.setPadding(E.padding),E&&E.lineSpacing&&this.setLineSpacing(E.lineSpacing),this.setText(S),this.setUrlTagCursorStyle(Oe(E,"urlTagCursorStyle","pointer")),Oe(E,"interactive",!1)&&this.setInteractive()}preDestroy(){rw(this.canvas),this.canvasText.destroy(),this.canvasText=void 0,this._imageManager&&(this._imageManager.destroy(),this._imageManager=void 0),fS.remove(this.canvas);var t=this.texture;t&&t.destroy()}set text(t){this.setText(t)}get text(){return this._text}initRTL(){this.style.rtl&&(this.canvas.dir="rtl",this.context.direction="rtl",this.canvas.style.display="none",dS(this.canvas,this.scene.sys.canvas),this.originX=1)}setRTL(t){t===void 0&&(t=!0);var s=this.style;if(s.rtl===t)return this;if(s.rtl=t,t?(this.canvas.dir="rtl",this.context.direction="rtl",this.canvas.style.display="none",dS(this.canvas,this.scene.sys.canvas)):(this.canvas.dir="ltr",this.context.direction="ltr"),s.halign==="left"?s.halign="right":s.halign==="right"&&(s.halign="left"),this._imageManager){var h=this._imageManager.images;for(var S in h)h[S].originX=1-h[S].originX}return this}setText(t){return t==null?t="":Array.isArray(t)?t=t.join(`
`):t=t.toString(),t===this._text?this:(this._text=t,this.updateText(),this)}setPadding(t,s,h,S){if(typeof t=="object"){var E=t,n=Oe(E,"x",null);n!==null?(t=n,h=n):(t=Oe(E,"left",0),h=Oe(E,"right",t));var T=Oe(E,"y",null);T!==null?(s=T,S=T):(s=Oe(E,"top",0),S=Oe(E,"bottom",s))}else t===void 0&&(t=0),s===void 0&&(s=t),h===void 0&&(h=t),S===void 0&&(S=s);return this.padding.left=t,this.padding.top=s,this.padding.right=h,this.padding.bottom=S,this.updateText(!1)}updateText(t){t===void 0&&(t=!0);var s=this.canvasText,h=this.style;t&&s.updatePenManager(this._text,h.wrapMode,h.wrapWidth,h.lineHeight);var S=this.padding,E,n,T=Math.ceil(s.linesWidth);h.fixedWidth===0?(this.width=T+S.left+S.right,E=T):(this.width=h.fixedWidth,E=this.width-S.left-S.right,E<T&&(E=T)),h.fixedHeight===0?(this.height=s.linesHeight+S.top+S.bottom,n=s.linesHeight):(this.height=h.fixedHeight,n=this.height-S.top-S.bottom,n<s.linesHeight&&(n=s.linesHeight));var i=this.width,f=this.height;this.updateDisplayOrigin();var y=h.resolution;i*=y,f*=y,i=Math.max(Math.ceil(i),1),f=Math.max(Math.ceil(f),1);var c=this.canvas,o=this.context;c.width!==i||c.height!==f?(c.width=i,c.height=f,this.frame.setSize(i,f)):o.clearRect(0,0,i,f),o.save(),o.scale(y,y);var l=this.style.rtl?S.right:S.left,a=S.top;s.draw(l,a,E,n),o.restore(),this.renderer&&this.renderer.gl&&(this.frame.source.glTexture=this.renderer.canvasToTexture(c,this.frame.source.glTexture,!0),this.frame.glTexture.spectorMetadata={textureKey:"BBCodeText Game Object"}),this.dirty=!0;var u=this.input;return u&&!u.customHitArea&&(u.hitArea.width=this.width,u.hitArea.height=this.height),this}toJSON(){var t=Components.ToJSON(this),s={autoRound:this.autoRound,text:this._text,style:this.style.toJSON(),resolution:this.resolution,padding:{left:this.padding.left,right:this.padding.right,top:this.padding.top,bottom:this.padding.bottom}};return t.data=s,t}setInteractive(t,s,h){var S=!!this.input;return sw.prototype.setInteractive.call(this,t,s,h),S||this.canvasText.setInteractive(),this}setUrlTagCursorStyle(t){return this.urlTagCursorStyle=t,this}get urlTagCursorStyle(){return this.canvasText.urlTagCursorStyle}set urlTagCursorStyle(t){this.canvasText.urlTagCursorStyle=t}getWrappedText(t,s,h){return typeof t=="number"&&(h=s,s=t,t=void 0),t=this.canvasText.getText(t,s,h,!0),t.split(nw)}getPlainText(t,s,h){return typeof t=="number"&&(h=s,s=t,t=void 0),this.canvasText.getPlainText(t,s,h)}getText(t,s,h,S){return typeof t=="number"&&(S=h,h=s,s=t,t=void 0),S===void 0&&(S=!1),this.canvasText.getText(t,s,h,S)}getSubString(t,s,h){return typeof t=="number"&&(h=s,s=t,t=void 0),this.getText(t,s,h)}copyPenManager(t){return this.canvasText.copyPenManager(t)}getPenManager(t,s){return this.canvasText.getPenManager(t,s)}setSize(t,s){return this.setFixedSize(t,s)}resize(t,s){return this.setFixedSize(t,s)}get imageManager(){return this._imageManager||(this._imageManager=new Bh(this.scene)),this._imageManager}addImage(t,s){return this.imageManager.add(t,s),this}drawAreaBounds(t,s){return this.canvasText.hitAreaManager.drawBounds(t,s,this),this}generateTexture(t,s,h,S,E){var n=this.canvas;return S===void 0?S=n.width:S*=this.resolution,E===void 0?E=n.height:E*=this.resolution,LE(this.scene,n,t,s,h,S,E),this}};r(Jg,"Text");let Gh=Jg;var hw={appendText:FE};Object.assign(Gh.prototype,hw);var ow=r(function(e,t){for(var s=this.tagRegex,h=[],S=0,E=!1,n=!1;;){var T=s.RE_SPLITTEXT.exec(e);if(!T)break;var i=T[0];if(n)if(s.RE_ESC_CLOSE.test(i))n=!1;else continue;else if(E)if(s.RE_RAW_CLOSE.test(i))E=!1;else continue;else s.RE_ESC_OPEN.test(i)?n=!0:s.RE_RAW_OPEN.test(i)&&(E=!0);var f=s.RE_SPLITTEXT.lastIndex,y=f-i.length;if(S<y){var c=e.substring(S,y);h.push(c)}t===void 0&&h.push(i),S=f}var o=e.length;return S<o&&h.push(e.substring(S,o)),h},"SplitText");const $t=!1,Vt=!0;var lw={plainText:null,prevProp:null},uw=r(function(e,t){var s=this.tagRegex;t==null&&(t={});var h="";if(t.img&&gt(t,$t,"img"),t.esc)s.RE_ESC_CLOSE.test(e)?gt(t,$t,"esc"):h=e;else if(t.raw)s.RE_RAW_CLOSE.test(e)?gt(t,$t,"raw"):h=e;else if(s.RE_ESC_OPEN.test(e))gt(t,Vt,"esc",!0);else if(s.RE_ESC_CLOSE.test(e))gt(t,$t,"esc");else if(s.RE_RAW_OPEN.test(e))gt(t,Vt,"raw",!0);else if(s.RE_RAW_CLOSE.test(e))gt(t,$t,"raw");else if(s.RE_BLOD_OPEN.test(e))gt(t,Vt,"b",!0);else if(s.RE_BLOD_CLOSE.test(e))gt(t,$t,"b");else if(s.RE_ITALICS_OPEN.test(e))gt(t,Vt,"i",!0);else if(s.RE_ITALICS_CLOSE.test(e))gt(t,$t,"i");else if(s.RE_WEIGHT_OPEN.test(e)){var S=e.match(s.RE_WEIGHT_OPEN);gt(t,Vt,"weight",S[1])}else if(s.RE_WEIGHT_CLOSE.test(e))gt(t,$t,"weight");else if(s.RE_SIZE_OPEN.test(e)){var S=e.match(s.RE_SIZE_OPEN);gt(t,Vt,"size",`${S[1]}px`)}else if(s.RE_SIZE_CLOSE.test(e))gt(t,$t,"size");else if(s.RE_COLOR_OPEN.test(e)){var S=e.match(s.RE_COLOR_OPEN);gt(t,Vt,"color",S[1])}else if(s.RE_COLOR_CLOSE.test(e))gt(t,$t,"color");else if(s.RE_UNDERLINE_OPEN.test(e))gt(t,Vt,"u",!0);else if(s.RE_UNDERLINE_OPENC.test(e)){var S=e.match(s.RE_UNDERLINE_OPENC);gt(t,Vt,"u",S[1])}else if(s.RE_UNDERLINE_CLOSE.test(e))gt(t,$t,"u");else if(s.RE_STRIKETHROUGH_OPEN.test(e))gt(t,Vt,"s",!0);else if(s.RE_STRIKETHROUGH_OPENC.test(e)){var S=e.match(s.RE_STRIKETHROUGH_OPENC);gt(t,Vt,"s",S[1])}else if(s.RE_STRIKETHROUGH_CLOSE.test(e))gt(t,$t,"s");else if(s.RE_SHADOW_OPEN.test(e))gt(t,Vt,"shadow",!0);else if(s.RE_SHADOW_OPENC.test(e)){var S=e.match(s.RE_SHADOW_OPENC);gt(t,Vt,"shadow",S[1])}else if(s.RE_SHADOW_CLOSE.test(e))gt(t,$t,"shadow");else if(s.RE_STROKE_OPEN.test(e))gt(t,Vt,"stroke",!0);else if(s.RE_STROKE_OPENC.test(e)){var S=e.match(s.RE_STROKE_OPENC);gt(t,Vt,"stroke",S[1])}else if(s.RE_STROKE_CLOSE.test(e))gt(t,$t,"stroke");else if(s.RE_BGCOLOR_OPEN.test(e)){var S=e.match(s.RE_BGCOLOR_OPEN);gt(t,Vt,"bgcolor",S[1])}else if(s.RE_BGCOLOR_CLOSE.test(e))gt(t,$t,"bgcolor");else if(s.RE_OFFSETY_OPEN.test(e)){var S=e.match(s.RE_OFFSETY_OPEN);gt(t,Vt,"y",parseFloat(S[1]))}else if(s.RE_OFFSETY_CLOSE.test(e))gt(t,$t,"y");else if(s.RE_IMAGE_OPEN.test(e)){var S=e.match(s.RE_IMAGE_OPEN);gt(t,Vt,"img",S[1])}else if(s.RE_IMAGE_CLOSE.test(e))gt(t,$t,"img");else if(s.RE_AREA_OPEN.test(e)){var S=e.match(s.RE_AREA_OPEN);gt(t,Vt,"area",S[1])}else if(s.RE_AREA_CLOSE.test(e))gt(t,$t,"area");else if(s.RE_URL_OPEN.test(e)){var S=e.match(s.RE_URL_OPEN);gt(t,Vt,"url",S[1])}else if(s.RE_URL_CLOSE.test(e))gt(t,$t,"url");else if(s.RE_ALIGN_OPEN.test(e)){var S=e.match(s.RE_ALIGN_OPEN);gt(t,Vt,"align",S[1])}else if(s.RE_ALIGN_CLOSE.test(e))gt(t,$t,"align");else if(s.RE_ID_OPEN.test(e)){var S=e.match(s.RE_ID_OPEN);gt(t,Vt,"id",S[1])}else s.RE_ID_CLOSE.test(e)?gt(t,$t,"id"):h=e;var E=lw;return E.plainText=h,E.prop=t,E},"TagTextToProp"),gt=r(function(e,t,s,h){return t===Vt?e[s]=h:e.hasOwnProperty(s)&&delete e[s],e},"UpdateProp"),dw=r(function(e,t){var s=cw;if(t.hasOwnProperty("img"))s.image=t.img;else{if(s.image=null,t.hasOwnProperty("family")?s.fontFamily=t.family:s.fontFamily=e.fontFamily,t.hasOwnProperty("size")){var h=t.size;typeof h=="number"&&(h=`${h}px`),s.fontSize=h}else s.fontSize=e.fontSize;s.fontStyle=fw(t),t.hasOwnProperty("color")?s.color=t.color:s.color=e.color,t.hasOwnProperty("stroke")?t.stroke===!0?(s.stroke=e.stroke,s.strokeThickness=e.strokeThickness):(s.stroke=t.stroke,s.strokeThickness=e.strokeThickness):(s.stroke=e.stroke,s.strokeThickness=0)}return t.hasOwnProperty("shadow")?t.shadow===!0?(s.shadowColor=e.shadowColor,s.shadowOffsetX=e.shadowOffsetX,s.shadowOffsetY=e.shadowOffsetY,s.shadowBlur=e.shadowBlur,s.shadowStroke=!0,s.shadowFill=!0):(s.shadowColor=t.shadow,s.shadowOffsetX=e.shadowOffsetX,s.shadowOffsetY=e.shadowOffsetY,s.shadowBlur=e.shadowBlur,s.shadowStroke=!0,s.shadowFill=!0):(s.shadowColor="#000",s.shadowOffsetX=0,s.shadowOffsetY=0,s.shadowBlur=0,s.shadowStroke=!1,s.shadowFill=!1),t.hasOwnProperty("u")?t.u===!0?(s.underlineColor=e.underlineColor,s.underlineThickness=e.underlineThickness,s.underlineOffset=e.underlineOffset):(s.underlineColor=t.u,s.underlineThickness=e.underlineThickness,s.underlineOffset=e.underlineOffset):(s.underlineColor="#000",s.underlineThickness=0,s.underlineOffset=0),t.hasOwnProperty("s")?t.s===!0?(s.strikethroughColor=e.strikethroughColor,s.strikethroughThickness=e.strikethroughThickness,s.strikethroughOffset=e.strikethroughOffset):(s.strikethroughColor=t.s,s.strikethroughThickness=e.strikethroughThickness,s.strikethroughOffset=e.strikethroughOffset):(s.strikethroughColor="#000",s.strikethroughThickness=0,s.strikethroughOffset=0),t.hasOwnProperty("bgcolor")?s.bgcolor=t.bgcolor:s.bgcolor=null,s},"PropToContextStyle"),fw=r(function(e){var t=e.b,s=e.weight,h=e.i;return t||s||h?h?t?"bold italic":s?`${s} italic`:"italic":t?"bold":s.toString():""},"GetFontStyle"),cw=new Mp,vw=r(function(e,t,s){s==null&&(s=pw);var h=this.delimiters[0],S=this.delimiters[1],E=[];for(var n in s)t.hasOwnProperty(n)||E.push(`${h}/${n}${S}`);for(var n in t){var T=t[n];if(n!=="img"){if(s[n]===T)continue}switch(n){case"size":E.push(`${h}size=${T.replace("px","")}${S}`);break;case"color":case"weight":case"stroke":case"bgcolor":case"y":case"img":case"area":case"url":case"align":case"id":E.push(`${h}${n}=${T}${S}`);break;case"u":case"s":T===!0?E.push(`${h}${n}${S}`):E.push(`${h}${n}=${T}${S}`);break;default:E.push(`${h}${n}${S}`);break}}return E.push(e),E.join("")},"PropToTagText"),pw={},la=r(function(e){return e.replace(gw,"\\$&").replace(mw,"\\x2d")},"EscapeRegex"),gw=/[|\\{}()[\]^$+*?.]/g,mw=/-/g,cS,vS,xt={},Wt=r(function(e,t,s,h){return h===void 0?`${e}${s}${t}`:`${e}${s}=(${h})${t}`},"GetOpenTagRegString"),se=r(function(e,t,s){return`${e}/${s}${t}`},"GetCloseTagRegString"),xw=r(function(e){return`[^${e}]+`},"GenerateStringRegEx"),of="[-.0-9]+",yw=["[a-zA-Z]+","#[0-9abcdef]+","rgba?\\(s*[.0-9]+s*(,s*[.0-9]+s*){2,3}\\)"],Ur=yw.join("|"),DE=r(function(e,t){if(t===void 0){var s=e;e=s[0],t=s[1]}if(cS===e&&vS===t)return!1;cS=e,vS=t,e=la(e),t=la(t);var h=xw(t),S="esc",E=Wt(e,t,S),n=se(e,t,S),T="raw",i=Wt(e,t,T),f=se(e,t,T),y="b",c=Wt(e,t,y),o=se(e,t,y),l="i",a=Wt(e,t,l),u=se(e,t,l),v="weight",d=Wt(e,t,v,of),p=se(e,t,v),g="size",m=Wt(e,t,g,of),x=se(e,t,g),C="color",P=Wt(e,t,C,Ur),A=se(e,t,C),R="u",L=Wt(e,t,R),O=Wt(e,t,R,Ur),w=se(e,t,R),b="s",F=Wt(e,t,b),M=Wt(e,t,b,Ur),I=se(e,t,b),B="shadow",G=Wt(e,t,B),N=Wt(e,t,B,Ur),z=se(e,t,B),H="stroke",$=Wt(e,t,H),V=Wt(e,t,H,Ur),Y=se(e,t,H),D="bgcolor",U=Wt(e,t,D,Ur),W=se(e,t,D),k="y",X=Wt(e,t,k,of),K=se(e,t,k),Z="img",J=Wt(e,t,Z,h),Q=se(e,t,Z),j="area",q=Wt(e,t,j,h),tt=se(e,t,j),_="url",rt=Wt(e,t,_,h),ht=se(e,t,_),lt="align",ot=Wt(e,t,lt,h),et=se(e,t,lt),at="id",nt=Wt(e,t,at,h),vt=se(e,t,at);return xt.RE_ESC_OPEN=new RegExp(E,"i"),xt.RE_ESC_CLOSE=new RegExp(n,"i"),xt.RE_RAW_OPEN=new RegExp(i,"i"),xt.RE_RAW_CLOSE=new RegExp(f,"i"),xt.RE_BLOD_OPEN=new RegExp(c,"i"),xt.RE_BLOD_CLOSE=new RegExp(o,"i"),xt.RE_ITALICS_OPEN=new RegExp(a,"i"),xt.RE_ITALICS_CLOSE=new RegExp(u,"i"),xt.RE_WEIGHT_OPEN=new RegExp(d,"i"),xt.RE_WEIGHT_CLOSE=new RegExp(p,"i"),xt.RE_SIZE_OPEN=new RegExp(m,"i"),xt.RE_SIZE_CLOSE=new RegExp(x,"i"),xt.RE_COLOR_OPEN=new RegExp(P,"i"),xt.RE_COLOR_CLOSE=new RegExp(A,"i"),xt.RE_UNDERLINE_OPEN=new RegExp(L,"i"),xt.RE_UNDERLINE_OPENC=new RegExp(O,"i"),xt.RE_UNDERLINE_CLOSE=new RegExp(w,"i"),xt.RE_STRIKETHROUGH_OPEN=new RegExp(F,"i"),xt.RE_STRIKETHROUGH_OPENC=new RegExp(M,"i"),xt.RE_STRIKETHROUGH_CLOSE=new RegExp(I,"i"),xt.RE_SHADOW_OPEN=new RegExp(G,"i"),xt.RE_SHADOW_OPENC=new RegExp(N,"i"),xt.RE_SHADOW_CLOSE=new RegExp(z,"i"),xt.RE_STROKE_OPEN=new RegExp($,"i"),xt.RE_STROKE_OPENC=new RegExp(V,"i"),xt.RE_STROKE_CLOSE=new RegExp(Y,"i"),xt.RE_BGCOLOR_OPEN=new RegExp(U,"i"),xt.RE_BGCOLOR_CLOSE=new RegExp(W,"i"),xt.RE_OFFSETY_OPEN=new RegExp(X,"i"),xt.RE_OFFSETY_CLOSE=new RegExp(K,"i"),xt.RE_IMAGE_OPEN=new RegExp(J,"i"),xt.RE_IMAGE_CLOSE=new RegExp(Q,"i"),xt.RE_AREA_OPEN=new RegExp(q,"i"),xt.RE_AREA_CLOSE=new RegExp(tt,"i"),xt.RE_URL_OPEN=new RegExp(rt,"i"),xt.RE_URL_CLOSE=new RegExp(ht,"i"),xt.RE_ALIGN_OPEN=new RegExp(ot,"i"),xt.RE_ALIGN_CLOSE=new RegExp(et,"i"),xt.RE_ID_OPEN=new RegExp(nt,"i"),xt.RE_ID_CLOSE=new RegExp(vt,"i"),xt.RE_SPLITTEXT=new RegExp([i,f,E,n,c,o,a,u,d,p,m,x,P,A,L,O,w,F,M,I,G,N,z,$,V,Y,U,W,X,K,J,Q,q,tt,rt,ht,ot,et,nt,vt].join("|"),"ig"),!0},"SetDelimiters"),pS=r(function(e,t){return e!==void 0&&DE(e,t),Object.assign({},xt)},"GetTagRegex");const Sw=Phaser.Utils.Objects.GetValue;var On;let BE=(On=class{constructor(t){var s=Sw(t,"delimiters","[]");this.tagRegex=pS(s),this.delimiters=s}getStrokeThinkness(t,s){var h;return s.hasOwnProperty("stroke")?h=t.strokeThickness:h=0,h}setDelimiters(t,s){return DE(t,s)&&(this.tagRegex=pS()),this}},r(On,"Parser"),On);var Tw={splitText:ow,tagTextToProp:uw,propToContextStyle:dw,propToTagText:vw};Object.assign(BE.prototype,Tw);const Qg=class Qg extends Gh{constructor(t,s,h,S,E){var n=new BE(E);super(t,s,h,S,E,"rexBBCodeText",n)}setDelimiters(t,s){return this.parse.setDelimiters(t,s),this}};r(Qg,"BBCodeText");let Is=Qg;st.register("BBCodeText",function(e,t,s,h){var S=new Is(this.scene,e,t,s,h);return this.scene.add.existing(S),S});it(window,"RexPlugins.UI.BBCodeText",Is);var Cw={plainText:null,prevProp:null},Ew=new Mp,wn;let Pw=(wn=class{constructor(t){t===void 0&&(t={}),this.tags=t}addTag(t,s){this.tags[t]=s}getTag(t){return this.tags[t]}splitText(t,s){for(var h=[],S=0;;){var E=lf.exec(t);if(!E)break;var n=E[0],T=lf.lastIndex-n.length;if(S<T&&h.push(t.substring(S,T)),s===void 0)h.push(n);else if(s===1){if(mS.test(n)){var i=n.match(xS);h.push(i[2])}else if(yS.test(n)){var i=n.match(SS);h.push(i[2])}}S=lf.lastIndex}var f=t.length;return S<f&&h.push(t.substring(S,f)),h}tagTextToProp(t,s){var h,S;if(mS.test(t)){var E=t.match(xS);if(E!=null){var n=E[1],T=this.tags;T.hasOwnProperty(n)?S=T[n]:S={},S._class=n,h=E[2]}}else if(yS.test(t)){var E=t.match(SS);if(E!=null){var i=E[1];S=Rw(i),S._style=i,h=E[2]}}h==null&&(h=t),S==null&&(S={});var f=Cw;return f.plainText=h,f.prop=S,f}propToContextStyle(t,s){var h=Ew;if(s.hasOwnProperty("img"))h.image=s.img;else{if(h.image=null,s.hasOwnProperty("family")||s.hasOwnProperty("fontFamily")||s.hasOwnProperty("font-family")){var S=s.hasOwnProperty("family")?s.family:s.hasOwnProperty("fontFamily")?s.fontFamily:s["font-family"];h.fontFamily=S}else h.fontFamily=t.fontFamily;if(s.hasOwnProperty("size")||s.hasOwnProperty("fontSize")||s.hasOwnProperty("font-size")){var E=s.hasOwnProperty("size")?s.size:s.hasOwnProperty("fontSize")?s.fontSize:s["font-size"];typeof E=="number"&&(E=`${E}px`),h.fontSize=E}else h.fontSize=t.fontSize;if(s.hasOwnProperty("style")||s.hasOwnProperty("fontStyle")||s.hasOwnProperty("font-style")){var n=s.hasOwnProperty("style")?s.style:s.hasOwnProperty("fontStyle")?s.fontStyle:s["font-style"];h.fontStyle=n}else h.fontStyle=t.fontStyle;if(s.hasOwnProperty("color")||s.hasOwnProperty("font-color")){var T=s.hasOwnProperty("color")?s.color:s["font-color"];h.color=T}else h.color=t.color;if(s.hasOwnProperty("stroke")){var i=s.stroke;h.stroke=i.hasOwnProperty("color")?i.color:t.stroke,h.strokeThickness=i.hasOwnProperty("thickness")?i.thickness:t.strokeThickness}else h.stroke=t.stroke,h.strokeThickness=t.strokeThickness}if(s.hasOwnProperty("shadow")){var f=s.shadow;h.shadowColor=f.hasOwnProperty("color")?f.color:t.shadowColor,h.shadowOffsetX=f.hasOwnProperty("offsetX")?f.offsetX:t.shadowOffsetX,h.shadowOffsetY=f.hasOwnProperty("offsetY")?f.offsetY:t.shadowOffsetY,h.shadowBlur=f.hasOwnProperty("blur")?f.blur:t.shadowBlur,h.shadowStroke=!0,h.shadowFill=!0}else h.shadowColor=t.shadowColor,h.shadowOffsetX=t.shadowOffsetX,h.shadowOffsetY=t.shadowOffsetY,h.shadowBlur=t.shadowBlur,h.shadowStroke=t.shadowStroke,h.shadowFill=t.shadowFill;if(s.hasOwnProperty("u")||s.hasOwnProperty("underline")){var y=s.hasOwnProperty("u")?s.u:s.underline;h.underlineColor=y.hasOwnProperty("color")?y.color:t.underlineColor,h.underlineThickness=y.hasOwnProperty("thickness")?y.thickness:t.underlineThickness,h.underlineOffset=y.hasOwnProperty("offset")?y.offset:t.underlineOffset}else h.underlineColor=t.underlineColor,h.underlineThickness=t.underlineThickness,h.underlineOffset=t.underlineOffset;if(s.hasOwnProperty("s")||s.hasOwnProperty("strikethrough")){var c=s.hasOwnProperty("s")?s.s:s.strikethrough;h.strikethroughColor=c.hasOwnProperty("color")?c.color:t.strikethroughColor,h.strikethroughThickness=c.hasOwnProperty("thickness")?c.thickness:t.strikethroughThickness,h.strikethroughOffset=c.hasOwnProperty("offset")?c.offset:t.strikethroughOffset}else h.strikethroughColor=t.strikethroughColor,h.strikethroughThickness=t.strikethroughThickness,h.strikethroughOffset=t.strikethroughOffset;return h}getStrokeThinkness(t,s){var h;if(s.hasOwnProperty("stroke")){var S=s.stroke;h=S.hasOwnProperty("thickness")?S.thickness:t.strokeThickness}else h=t.strokeThickness;return h}propToTagText(t,s,h){return s.hasOwnProperty("_class")?t===""&&this.isTextTag(s._class)?"":`<class='${s._class}'>${t}</class>`:s.hasOwnProperty("_style")?`<style='${s._style}'>${t}</style>`:t}destroy(){this.tags=void 0}isTextTag(t){var s=this.tags[t];return s?s.img==null:!1}},r(wn,"Parser"),wn);var Rw=r(function(e){e=e.split(";");for(var t={},s,h,S,E=0,n=e.length;E<n;E++)if(s=e[E].split(":"),h=s[0],S=s[1],!(gS(h)||gS(S))){switch(h){case"stroke":var T=S.split(" "),i=T.length;S={},i>=1&&(S.color=T[0]),i>=2&&(S.thickness=parseInt(T[1].replace("px","")));break;case"shadow":var T=S.split(" "),i=T.length;S={},i>=1&&(S.color=T[0]),i>=2&&(S.offsetX=parseInt(T[1].replace("px",""))),i>=3&&(S.offsetY=parseInt(T[2].replace("px",""))),i>=4&&(S.blur=parseInt(T[3].replace("px","")));break;case"u":case"underline":case"s":case"strikethrough":var T=S.split(" "),i=T.length;S={},i>=1&&(S.color=T[0]),i>=2&&(S.thickness=parseInt(T[1].replace("px",""))),i>=3&&(S.offset=parseInt(T[2].replace("px",""))),h==="underline"?h="u":h==="strikethrough"&&(h="s");break;case"y":S=parseFloat(S);break}t[h]=S}return t},"StyleToProp"),gS=r(function(e){return e=e.replace(Aw,""),e.length===0},"isEmpty"),lf=/<\s*class=["|']([^"|']+)["|']\s*\>([\s\S]*?)<\s*\/class\s*\>|<\s*style=["|']([^"|']+)["|']\s*\>([\s\S]*?)<\s*\/style\s*\>/g,mS=/<\s*class=/i,xS=/<\s*class=["|']([^"|']+)["|']\s*\>([\s\S]*?)<\s*\/class\s*\>/,yS=/<\s*style=/i,SS=/<\s*style=["|']([^"|']+)["|']\s*\>([\s\S]*?)<\s*\/style\s*\>/,Aw=/^\s+|\s+$/;const Lw=Phaser.Utils.Objects.GetValue,jg=class jg extends Gh{constructor(t,s,h,S,E){var n=Lw(E,"tags",void 0),T=new Pw(n);super(t,s,h,S,E,"rexTagText",T)}addTag(t,s){return this.parser.addTag(t,s),this.updateText(!0)}addTags(t){for(var s in t)this.parser.addTag(s,t[s]);return this.updateText(!0)}getTag(t){return this.parser.getTag(t)}preDestroy(){super.preDestroy(),this.parser.destroy(),this.parser=void 0}};r(jg,"TagText");let Su=jg;st.register("tagText",function(e,t,s,h){var S=new Su(this.scene,e,t,s,h);return this.scene.add.existing(S),S});it(window,"RexPlugins.UI.TagText",Su);const nl=Phaser.Utils.Objects.GetValue;var uu=r(function(e,t){return t===void 0?e:e[t]},"GetPadding$1"),Ms=r(function(e,t,s){e===void 0&&(e={}),t===void 0&&(t=0);var h=typeof t;return h==="string"?e[t]=s:h==="number"?(e.left=t,e.right=t,e.top=t,e.bottom=t):(e.left=nl(t,"left",0),e.right=nl(t,"right",0),e.top=nl(t,"top",0),e.bottom=nl(t,"bottom",0)),e},"SetPadding$1"),Mn;let bp=(Mn=class{constructor(t,s){this.setParent(t),this.type=s,this.renderable=!1,this.reset().setActive()}destroy(){this.parent.removeChild(this)}setParent(t){return this.parent=t,this}get scene(){return this.parent.scene}get canvas(){return this.parent?this.parent.canvas:null}get context(){return this.parent?this.parent.context:null}setDirty(t){return t&&this.parent&&(this.parent.dirty=!0),this}get active(){return this._active}set active(t){this.setDirty(this._active!=t),this._active=t}setActive(t){return t===void 0&&(t=!0),this.active=t,this}modifyPorperties(t){return this}onFree(){this.reset().setParent()}reset(){return this}render(){}contains(t,s){return!1}},r(Mn,"Base"),Mn);Object.assign(bp.prototype,bd);const Ow={renderContent(){},render(){if(!this.willRender)return this;var e=this.context;if(e.save(),e.globalAlpha=this.alpha,this.toLocalPosition){var t=this.drawX,s=this.drawY;this.autoRound&&(t=Math.round(t),s=Math.round(s)),e.translate(t,s),e.scale(this.scaleX,this.scaleY),e.rotate(this.rotation)}return this.drawBelowCallback&&this.drawBelowCallback(this),this.renderContent(),this.drawAboveCallback&&this.drawAboveCallback(this),e.restore(),this}},ww=Phaser.Math.RotateAround;var Mw=r(function(e,t,s,h){return h===void 0?h={}:h===!0&&(uf===void 0&&(uf={}),h=uf),h.x=(e-s.drawX)/s.scaleX,h.y=(t-s.drawY)/s.scaleY,s.rotation!==0&&ww(h,0,0,-s.rotation),h},"CanvasPositionToBobPosition"),uf;const bw=Phaser.Geom.Rectangle;var Iw=r(function(e,t){if(this.width===0||this.height===0)return!1;var s=Mw(e,t,this,!0);return Fw(this).contains(s.x,s.y)},"Contains$1"),Fw=r(function(e){al===void 0&&(al=new bw);var t=e.drawTLX,s=e.drawTLY;return al.setTo(t,s,e.drawTRX-t,e.drawBLY-s),al},"GetBobBounds"),al;const Dw=Phaser.Math.RotateAround;var GE=r(function(e,t,s,h){return h===void 0?h={}:h===!0&&(df===void 0&&(df={}),h=df),h.x=t,h.y=s,e.rotation!==0&&Dw(h,0,0,e.rotation),h.x=h.x*e.scaleX+e.drawX,h.y=h.y*e.scaleY+e.drawY,h},"BobPositionToCanvasPosition"),df;const TS=Phaser.GameObjects.Components.TransformMatrix;var Bw=r(function(e,t,s,h){h===void 0?h={}:h===!0&&(h=Gw);var S=t-e.width*e.originX,E=s-e.height*e.originY;return qa===void 0&&(qa=new TS,CS=new TS),e.parentContainer?e.getWorldTransformMatrix(qa,CS):qa.applyITRS(e.x,e.y,e.rotation,e.scaleX,e.scaleY),qa.transformPoint(S,E,h),h},"GameObjectLocalXYToWorldXY"),qa,CS,Gw={},Nw=r(function(e,t,s,h,S){var E=GE(t,s,h,!0),n=Bw(e,E.x,E.y,S);return n},"BobPositionToWorldPosition"),NE=r(function(e,t,s,h,S){typeof s!="number"&&(S=s,s=0,h=0);var E=t.drawCenterX+s,n=t.drawCenterY+h;return Nw(e,t,E,n,S)},"GetBobWorldPosition"),Uw=r(function(e,t,s){return NE(this.parent,this,e,t,s)},"GetWorldPosition"),UE={contains:Iw,getWorldPosition:Uw};Object.assign(UE,Ow);const Vw=Phaser.Math.DegToRad,Ww=Phaser.Math.RadToDeg,hl=Phaser.Utils.Objects.GetValue,qg=class qg extends bp{constructor(t,s){super(t,s),this.renderable=!0,this.scrollFactorX=1,this.scrollFactorY=1,this.toLocalPosition=!0,this.originX=0,this.offsetX=0,this.offsetY=0}get visible(){return this._visible}set visible(t){this.setDirty(this._visible!=t),this._visible=t}setVisible(t){return t===void 0&&(t=!0),this.visible=t,this}get alpha(){return this._alpha}set alpha(t){this.setDirty(this._alpha!=t),this._alpha=t}setAlpha(t){return this.alpha=t,this}get x(){return this._x}set x(t){this.setDirty(this._x!=t),this._x=t}setX(t){return this.x=t,this}get y(){return this._y}set y(t){this.setDirty(this._y!=t),this._y=t}setY(t){return this.y=t,this}setPosition(t,s){return this.x=t,this.y=s,this}setInitialPosition(t,s){return this.x0=t,this.y0=s,this}setScrollFactorX(t){return this.scrollFactorX=t,this}setScrollFactorY(t){return this.scrollFactorY=t,this}setScrollFactor(t,s){return s===void 0&&(s=t),this.scrollFactorX=t,this.scrollFactorY=s,this}get rotation(){return this._rotation}set rotation(t){this.setDirty(this._rotation!=t),this._rotation=t}setRotation(t){return this.rotation=t,this}get angle(){return Ww(this._rotation)}set angle(t){this.rotation=Vw(t)}setAngle(t){return this.angle=t,this}get scaleX(){return this._scaleX}set scaleX(t){this.setDirty(this._scaleX!==t),this._scaleX=t}setScaleX(t){return this.scaleX=t,this}get width(){return 0}set width(t){}setWidth(t,s){return s===void 0&&(s=!1),this.width=t,s&&(this.scaleY=this.scaleX),this}get leftSpace(){return this._leftSpace}set leftSpace(t){this.setDirty(this._leftSpace!==t),this._leftSpace=t}setLeftSpace(t){return this.leftSpace=t,this}get rightSpace(){return this._rightSpace}set rightSpace(t){this.setDirty(this._rightSpace!==t),this._rightSpace=t}setRightSpace(t){return this.rightSpace=t,this}get outerWidth(){return this.width+this.leftSpace+this.rightSpace}get scaleY(){return this._scaleY}set scaleY(t){this.setDirty(this._scaleY!==t),this._scaleY=t}setScaleY(t){return this.scaleY=t,this}get height(){return 0}set height(t){}setHeight(t,s){return s===void 0&&(s=!1),this.height=t,s&&(this.scaleX=this.scaleY),this}setScale(t,s){return s===void 0&&(s=t),this.scaleX=t,this.scaleY=s,this}setOrigin(t){return this.originX=t,this}setAlign(t){return this.align=t,this}modifyPorperties(t){if(!t)return this;t.hasOwnProperty("x")&&this.setX(t.x),t.hasOwnProperty("y")&&this.setY(t.y),t.hasOwnProperty("rotation")?this.setRotation(t.rotation):t.hasOwnProperty("angle")&&this.setAngle(t.angle),t.hasOwnProperty("alpha")&&this.setAlpha(t.alpha);var s=hl(t,"width",void 0),h=hl(t,"height",void 0),S=hl(t,"scaleX",void 0),E=hl(t,"scaleY",void 0);return s!==void 0?h===void 0&&E===void 0?this.setWidth(s,!0):this.setWidth(s):S!==void 0&&this.setScaleX(S),h!==void 0?s===void 0&&S===void 0?this.setHeight(h,!0):this.setHeight(h):E!==void 0&&this.setScaleY(E),t.hasOwnProperty("leftSpace")&&this.setLeftSpace(t.leftSpace),t.hasOwnProperty("rightSpace")&&this.setRightSpace(t.rightSpace),t.hasOwnProperty("align")&&this.setAlign(t.align),this}setDrawBelowCallback(t){return this.drawBelowCallback=t,this}setDrawAboveCallback(t){return this.drawAboveCallback=t,this}reset(){return this.setVisible().setAlpha(1).setPosition(0,0).setRotation(0).setScale(1,1).setLeftSpace(0).setRightSpace(0).setOrigin(0).setAlign().setDrawBelowCallback().setDrawAboveCallback(),this}get willRender(){return this.visible&&this.alpha>0}get drawX(){var t=this.x+this.leftSpace+this.offsetX-this.originX*this.width;return this.parent._textOX*this.scrollFactorX+t}get drawY(){var t=this.y+this.offsetY;return this.parent._textOY*this.scrollFactorY+t}get drawTLX(){return 0}get drawTLY(){return 0}get drawBLX(){return 0}get drawBLY(){return 0}get drawTRX(){return 0}get drawTRY(){return 0}get drawBRX(){return 0}get drawBRY(){return 0}get drawCenterX(){return(this.drawTRX+this.drawTLX)/2}get drawCenterY(){return(this.drawBLY+this.drawTLY)/2}};r(qg,"RenderBase");let es=qg;Object.assign(es.prototype,UE);var ws=r(function(e,t,s){return t.hasOwnProperty(e)?t[e]:s[e]},"GetProperty");const Zs=Phaser.Utils.Objects.GetValue,_g=class _g extends es{constructor(t,s){super(t,"background"),this.setScrollFactor(0),this.setColor(Zs(s,"color",null),Zs(s,"color2",null),Zs(s,"horizontalGradient",!0)),this.setStroke(Zs(s,"stroke",null),Zs(s,"strokeThickness",2)),this.setCornerRadius(Zs(s,"cornerRadius",0),Zs(s,"cornerIteration",null))}set color(t){t=pt(t,this.canvas,this.context),this.setDirty(this._color!=t),this._color=t}get color(){return this._color}set color2(t){t=pt(t,this.canvas,this.context),this.setDirty(this._color2!=t),this._color2=t}get color2(){return this._color2}set horizontalGradient(t){this.setDirty(this._horizontalGradient!=t),this._horizontalGradient=t}get horizontalGradient(){return this._horizontalGradient}setColor(t,s,h){return h===void 0&&(h=!0),this.color=t,this.color2=s,this.horizontalGradient=h,this}set stroke(t){t=pt(t,this.canvas,this.context),this.setDirty(this._stroke!=t),this._stroke=t}get stroke(){return this._stroke}set strokeThickness(t){this.setDirty(this._strokeThickness!=t),this._strokeThickness=t}get strokeThickness(){return this._strokeThickness}setStroke(t,s){return t!=null&&s===void 0&&(s=2),this.stroke=t,this.strokeThickness=s,this}set cornerRadius(t){this.setDirty(this._cornerRadius!=t),this._cornerRadius=t}get cornerRadius(){return this._cornerRadius}set cornerIteration(t){this.setDirty(this._cornerIteration!=t),this._cornerIteration=t}get cornerIteration(){return this._cornerIteration}modifyStyle(t){return t.hasOwnProperty("color")&&this.setColor(t.color,ws("color2",t,this),ws("horizontalGradient",t,this)),t.hasOwnProperty("stroke")&&this.setStroke(t.stroke,ws("strokeThickness",t,this)),t.hasOwnProperty("cornerRadius")&&this.setCornerRadius(t.cornerRadius,ws("cornerIteration",t,this)),this}modifyPorperties(t){return super.modifyPorperties(t),this.modifyStyle(t),this}setCornerRadius(t,s){return this.cornerRadius=t,this.cornerIteration=s,this}renderContent(){wp(this.parent,this.color,this.stroke,this.strokeThickness,this.cornerRadius,this.color2,this.horizontalGradient,this.cornerIteration)}};r(_g,"Background");let Qc=_g;const gs=Phaser.Utils.Objects.GetValue,t0=class t0 extends es{constructor(t,s){super(t,"innerbounds"),this.setScrollFactor(0),this.setColor(gs(s,"color",null),gs(s,"color2",null),gs(s,"horizontalGradient",!0)),this.setStroke(gs(s,"stroke",null),gs(s,"strokeThickness",2))}set color(t){t=pt(t,this.canvas,this.context),this.setDirty(this._color!=t),this._color=t}get color(){return this._color}set color2(t){t=pt(t,this.canvas,this.context),this.setDirty(this._color2!=t),this._color2=t}get color2(){return this._color2}set horizontalGradient(t){this.setDirty(this._horizontalGradient!=t),this._horizontalGradient=t}get horizontalGradient(){return this._horizontalGradient}setColor(t,s,h){return h===void 0&&(h=!0),this.color=t,this.color2=s,this.horizontalGradient=h,this}set stroke(t){t=pt(t,this.canvas,this.context),this.setDirty(this._stroke!=t),this._stroke=t}get stroke(){return this._stroke}set strokeThickness(t){this.setDirty(this._strokeThickness!=t),this._strokeThickness=t}get strokeThickness(){return this._strokeThickness}setStroke(t,s){return t!=null&&s===void 0&&(s=2),this.stroke=t,this.strokeThickness=s,this}modifyPorperties(t){super.modifyPorperties(t),t.hasOwnProperty("color")&&this.setColor(t.color,gs(t,"color2",null),gs(t,"horizontalGradient",!0)),t.hasOwnProperty("stroke")&&this.setStroke(t.stroke,gs(t,"strokeThickness",2))}renderContent(){var t=this.parent.padding,s=t.left,h=t.top,S=this.parent.width-t.left-t.right,E=this.parent.height-t.top-t.bottom,n=this.context;if(this.color!=null){var T;if(this.color2!=null){var i;this.horizontalGradient?i=n.createLinearGradient(0,0,S,0):i=n.createLinearGradient(0,0,0,E),i.addColorStop(0,this.color),i.addColorStop(1,this.color2),T=i}else T=this.color;n.fillStyle=T,n.fillRect(s,h,S,E)}this.stroke!=null&&this.strokeThickness>0&&(n.strokeStyle=this.stroke,n.lineWidth=this.strokeThickness,n.strokeRect(s,h,S,E))}};r(t0,"InnerBounds");let jc=t0;const qt=Phaser.Utils.Objects.GetValue,Rd=class Rd{constructor(t,s){this.parent=t,this.set(s)}toJSON(){return{bold:this.bold,italic:this.italic,fontSize:this.fontSize,fontFamily:this.fontFamily,color:this.color,stroke:this.stroke,strokeThickness:this.strokeThickness,shaodwColor:this.shadowColor,shadowBlur:this.shadowBlur,shadowOffsetX:this.shadowOffsetX,shadowOffsetY:this.shadowOffsetY,offsetX:this.offsetX,offsetY:this.offsetY,leftSpace:this.leftSpace,rightSpace:this.rightSpace,backgroundHeight:this.backgroundHeight,backgroundBottomY:this.backgroundBottomY,align:this.align}}set(t){return this.setBold(qt(t,"bold",!1)),this.setItalic(qt(t,"italic",!1)),this.setFontSize(qt(t,"fontSize","16px")),this.setFontFamily(qt(t,"fontFamily","Courier")),this.setColor(qt(t,"color","#fff")),this.setStrokeStyle(qt(t,"stroke",null),qt(t,"strokeThickness",0)),this.setShadow(qt(t,"shadowColor",null),qt(t,"shadowOffsetX",0),qt(t,"shadowOffsetY",0),qt(t,"shadowBlur",0)),this.setOffset(qt(t,"offsetX",0),qt(t,"offsetY",0)),this.setSpace(qt(t,"leftSpace",0),qt(t,"rightSpace",0)),this.setAlign(qt(t,"align",void 0)),this.setBackgroundColor(qt(t,"backgroundColor",null)),this.setBackgroundHeight(qt(t,"backgroundHeight",void 0)),this.setBackgroundBottomY(qt(t,"backgroundBottomY",void 0)),this}modify(t){return t.hasOwnProperty("bold")&&this.setBold(t.bold),t.hasOwnProperty("italic")&&this.setItalic(t.italic),t.hasOwnProperty("fontSize")&&this.setFontSize(t.fontSize),t.hasOwnProperty("fontFamily")&&this.setFontFamily(t.fontFamily),t.hasOwnProperty("color")&&this.setColor(t.color),(t.hasOwnProperty("stroke")||t.hasOwnProperty("strokeThickness"))&&this.setStrokeStyle(ws("stroke",t,this),ws("strokeThickness",t,this)),t.hasOwnProperty("shadowColor")&&this.setShadowColor(t.shadowColor),(t.hasOwnProperty("shadowOffsetX")||t.hasOwnProperty("shadowOffsetY"))&&this.setShadowOffset(ws("shadowOffsetX",t,this),ws("shadowOffsetY",t,this)),t.hasOwnProperty("shadowBlur")&&this.setShadowBlur(t.shaodwBlur),t.hasOwnProperty("offsetX")&&this.setOffsetX(t.offsetX),t.hasOwnProperty("offsetY")&&this.setOffsetY(t.offsetY),t.hasOwnProperty("leftSpace")&&this.setLeftSpace(t.leftSpace),t.hasOwnProperty("rightSpace")&&this.setRightSpace(t.rightSpace),t.hasOwnProperty("align")&&this.setAlign(t.align),t.hasOwnProperty("backgroundColor")&&this.setBackgroundColor(t.backgroundColor),t.hasOwnProperty("backgroundHeight")&&this.setBackgroundHeight(t.backgroundHeight),t.hasOwnProperty("backgroundBottomY")&&this.setBackgroundBottomY(t.backgroundBottomY),this}setUpdateTextFlag(){return this.parent&&(this.parent.updateTextFlag=!0),this}clone(){return new Rd(null,this.toJSON())}copyFrom(t){return this.set(t.toJSON()),this}copyTo(t){return t.set(this.toJSON()),this}setBold(t){return t===void 0&&(t=!0),this.bold=t,this.setUpdateTextFlag(),this}setItalic(t){return t===void 0&&(t=!0),this.italic=t,this.setUpdateTextFlag(),this}get fontStyle(){return this.bold&&this.italic?"bold italic":this.bold?"bold":this.italic?"italic":""}setFontSize(t){return typeof t=="number"&&(t=`${t}px`),this.fontSize=t,this.setUpdateTextFlag(),this}setFontFamily(t){return this.fontFamily=t,this.setUpdateTextFlag(),this}get font(){return`${this.fontStyle} ${this.fontSize} ${this.fontFamily}`}setColor(t){return this.color=pt(t),this}get hasFill(){return this.color!=null}setStrokeStyle(t,s){return this.stroke=pt(t),s!==void 0&&(this.strokeThickness=s),this}setStrokeThickness(t){return this.strokeThickness=t,this}get hasStroke(){return this.stroke!=null&&this.strokeThickness>0}setShadowColor(t){return this.shadowColor=pt(t),this}setShadowOffset(t,s){return t===void 0&&(t=0),s===void 0&&(s=0),this.shadowOffsetX=t,this.shadowOffsetY=s,this}setShadowBlur(t){return t===void 0&&(t=0),this.shaodwBlur=t,this}setShadow(t,s,h,S){return this.setShadowColor(t).setShadowOffset(s,h).setShadowBlur(S),this}setBackgroundColor(t){return this.backgroundColor=pt(t),this}get hasBackgroundColor(){return this.backgroundColor!=null}setBackgroundHeight(t){return this.backgroundHeight=t,this}setBackgroundBottomY(t){return this.backgroundBottomY=t,this}setOffsetX(t){return t===void 0&&(t=0),this.offsetX=t,this}setOffsetY(t){return t===void 0&&(t=0),this.offsetY=t,this}setOffset(t,s){return this.setOffsetX(t).setOffsetY(s),this}setLeftSpace(t){return t===void 0&&(t=0),this.leftSpace=t,this}setRightSpace(t){return t===void 0&&(t=0),this.rightSpace=t,this}setSpace(t,s){return this.setLeftSpace(t).setRightSpace(s),this}setAlign(t){return this.align=t,this}syncFont(t){return t.font=this.font,this}syncStyle(t){t.textBaseline="alphabetic";var s=this.hasFill,h=this.hasStroke;return t.fillStyle=s?this.color:"#000",t.strokeStyle=h?this.stroke:"#000",t.lineWidth=h?this.strokeThickness:0,t.lineCap="round",t.lineJoin="round",this}syncShadow(t){t.shadowColor!=null?(t.shadowColor=this.shadowColor,t.shadowOffsetX=this.shadowOffsetX,t.shadowOffsetY=this.shadowOffsetY,t.shadowBlur=this.shadowBlur):(t.shadowColor=0,t.shadowOffsetX=0,t.shadowOffsetY=0,t.shadowBlur=0)}getTextMetrics(t,s){return this.syncFont(t).syncStyle(t),t.measureText(s)}};r(Rd,"TextStyle");let Tu=Rd;var zw=r(function(e,t){return e===void 0&&(e=0),t===void 0&&(t=0),this.fixedWidth===e&&this.fixedHeight===t?this:(this.fixedWidth=e,this.fixedHeight=t,this.dirty=!0,this.setCanvasSize(e>0?e:this.width,t>0?t:this.height),this)},"SetFixedSize"),Yw=r(function(e,t){var s=this.padding,h=s.left,S=s.right,E=s.top,n=s.bottom;return Ms(s,e,t),this.dirty=this.dirty||h!=s.left||S!=s.right||E!=s.top||n!=s.bottom,this},"SetPadding"),kw=r(function(e){return uu(this.padding,e)},"GetPadding"),Hw=r(function(e){return this.textStyle.modify(e),this},"ModifyTextStyle"),Xw=r(function(e){return this.defaultTextStyle.modify(e),this},"ModifyDefaultTextStyle"),$w=r(function(){return this.textStyle.copyFrom(this.defaultTextStyle),this},"ResetTextStyle"),Kw=r(function(e){return this.testString=e,this},"SetTestString");const Zw=Phaser.Utils.Array.Remove;var Jw=r(function(e){return this.poolManager.free(e),Zw(this.children,e),this.lastAppendedChildren.length=0,this.lastOverChild=null,this.dirty=!0,this},"RemoveChild$2"),Qw=r(function(){return this.poolManager.freeMultiple(this.children),this.children.length=0,this.lastAppendedChildren.length=0,this.lastOverChild=null,this.dirty=!0,this},"RemoveChildren");const jw=Phaser.Utils.Array.Remove;var qw=r(function(e){return jw(this.children,e),this.lastAppendedChildren.length=0,this.lastOverChild=null,this.dirty=!0,this},"PopChild"),_w=r(function(){return this.setText(),this},"ClearContent"),t2=r(function(e,t){var s=Array.isArray(e);return t===void 0||t===this.children.length?s?this.children.push(...e):this.children.push(e):s?this.children.splice(t,0,...e):this.children.splice(t,0,e),this.lastAppendedChildren.length=0,s?this.lastAppendedChildren.push(...e):this.lastAppendedChildren.push(e),this},"AddChild$3");const is="text",VE="image",WE="drawer",zE="space",Ip="command";var YE=r(function(e){return e.type===is&&e.text===`
`},"IsNewLineChar"),kE=r(function(e){return e.type===is&&e.text==="\f"},"IsPageBreakChar"),e2=r(function(e){return e.type===is&&e.text===" "},"IsSpaceChar"),ua=r(function(e){return e.type===is},"IsChar"),i2=r(function(e){return e.type===Ip},"IsCommand");const e0=class e0 extends es{constructor(t,s,h){super(t,is),this.updateTextFlag=!1,this.style=new Tu(this,h),this.setText(s)}get autoRound(){return this.parent.autoRound}get offsetX(){return this.style.offsetX}set offsetX(t){this.style&&(this.style.offsetX=t)}get offsetY(){return this.style.offsetY}set offsetY(t){this.style&&(this.style.offsetY=t)}get leftSpace(){return this.style.leftSpace*this.scaleX}set leftSpace(t){this.style&&(this.style.leftSpace=t),super.leftSpace=t}get rightSpace(){return this.style.rightSpace*this.scaleX}set rightSpace(t){this.style&&(this.style.rightSpace=t),super.rightSpace=t}get align(){return this.style.align}set align(t){this.style&&(this.style.align=t)}modifyStyle(t){return this.setDirty(!0),this.style.modify(t),this.updateTextFlag&&this.updateTextSize(),this}modifyPorperties(t){return t?(this.modifyStyle(t),super.modifyPorperties(t),this):this}setText(t){return this.setDirty(this.text!=t),this.text=t,this.updateTextSize(),this}updateTextSize(){var t=this.text;if(t===`
`||t==="\f"||t==="")this.clearTextSize();else{var s=this.style.getTextMetrics(this.context,this.text);this.textWidth=s.width;var h,S;"actualBoundingBoxAscent"in s?(h=s.actualBoundingBoxAscent,S=s.actualBoundingBoxDescent):(h=0,S=0),this.textHeight=h+S,this.ascent=h,this.descent=S}return this.updateTextFlag=!1,this}clearTextSize(){return this.textWidth=0,this.textHeight=0,this.ascent=0,this.descent=0,this}copyTextSize(t){return this.textWidth=t.textWidth,this.textHeight=t.textHeight,this.ascent=t.ascent,this.descent=t.descent,this}get width(){return this.textWidth*this.scaleX}set width(t){this.textWidth>0?this.scaleX=t/this.textWidth:this.scaleX=1}get height(){return this.textHeight*this.scaleY}set height(t){this.textHeight>0?this.scaleY=t/this.textHeight:this.scaleY=1}get willRender(){return this.textWidth===0?!1:super.willRender}renderContent(){var t=this.context,s=this.style;if(s.hasBackgroundColor){t.fillStyle=s.backgroundColor;var h=this.drawTLX,S=this.drawTRX-h,E=s.backgroundBottomY;E==null&&(E=this.drawBLY);var n=s.backgroundHeight;n==null&&(n=E-this.drawTLY);var T=E-n;t.fillRect(h,T,S,n)}var i=s.hasFill,f=s.hasStroke;!i&&!f||(s.syncFont(t).syncStyle(t),f&&(s.syncShadow(t),t.strokeText(this.text,0,0)),i&&(s.syncShadow(t),t.fillText(this.text,0,0)))}get drawTLX(){return-this.leftSpace}get drawTLY(){return-this.ascent}get drawBLX(){return-this.leftSpace}get drawBLY(){return this.descent}get drawTRX(){return this.textWidth+this.rightSpace}get drawTRY(){return-this.ascent}get drawBRX(){return this.textWidth+this.rightSpace}get drawBRY(){return this.descent}};r(e0,"CharData");let Cu=e0;var s2=r(function(e,t){t&&this.textStyle.modify(t);var s=this.poolManager.allocate(is);return s===null?s=new Cu(this,e,this.textStyle):s.setParent(this).setActive().modifyStyle(this.textStyle).setText(e),s},"CreateCharChild"),r2=r(function(e,t){t&&this.textStyle.modify(t);for(var s=[],h=0,S=e.length;h<S;h++){var E=e.charAt(h),n=this.poolManager.allocate(is);n===null?n=new Cu(this,E,this.textStyle):n.setParent(this).setActive().modifyStyle(this.textStyle).setText(E),s.push(n)}return s},"CreateCharChildren"),No=r(function(e,t){var s=this.createCharChildren(e,t);return this.addChild(s),this},"AppendText$1"),n2=r(function(e,t){return e===void 0&&(e=""),this.removeChildren(),No.call(this,e,t),this.dirty=!0,this},"SetText$2"),a2=r(function(e,t,s){var h=this.createCharChildren(t,s);return e=this.getCharChildIndex(e,!0),this.addChild(h,e),this},"InsertText"),h2=r(function(e,t){t===void 0&&(t=1);for(var s=0;s<t;s++){var h=this.getCharChildIndex(e,!0);if(h===void 0)break;this.removeChild(this.children[h])}return this},"RemoveText"),o2=r(function(e){var t="";return this.forEachCharChild(function(s){t+=s.text},void 0,e),t},"GetText");Phaser.Display.Canvas.CanvasPool;const i0=class i0 extends es{constructor(t,s,h){super(t,VE),this.setTexture(s,h),this.color=void 0}get frameWidth(){return this.frameObj?this.frameObj.cutWidth:0}get frameHeight(){return this.frameObj?this.frameObj.cutHeight:0}get offsetY(){return-this.height}set offsetY(t){}get key(){return this._key}set key(t){this.setDirty(this._key!=t),this._key=t}get frame(){return this._frame}set frame(t){this.setDirty(this._frame!=t),this._frame=t}setTexture(t,s){return this.key=t,this.frame=s,this.frameObj=this.scene.sys.textures.getFrame(t,s),this}get width(){return this.frameWidth*this.scaleX}set width(t){this.setDirty(this.width!==t),this.scaleX=t/this.frameWidth}get height(){return this.frameHeight*this.scaleY}set height(t){this.setDirty(this.height!==t),this.scaleY=t/this.frameHeight}setHeight(t,s){return s===void 0&&(s=!1),this.height=t,s&&(this.scaleX=this.scaleY),this}setColor(t){return this.color=t,this}modifyPorperties(t){return t.hasOwnProperty("color")&&this.setColor(t.color),super.modifyPorperties(t),this}renderContent(){IE(this.frameObj,this.canvas,0,0,this.frameWidth,this.frameHeight,this.color,!1)}get drawTLX(){return-this.leftSpace}get drawTLY(){return 0}get drawBLX(){return-this.leftSpace}get drawBLY(){return this.frameHeight}get drawTRX(){return this.frameWidth+this.rightSpace}get drawTRY(){return 0}get drawBRX(){return this.frameWidth+this.rightSpace}get drawBRY(){return this.frameHeight}};r(i0,"ImageData");let qc=i0;var l2=r(function(e,t,s){var h=this.poolManager.allocate(VE);return h===null?h=new qc(this,e,t):h.setParent(this).setActive().setTexture(e,t),h.modifyPorperties(s),h},"CreateImageChild"),HE=r(function(e,t,s){var h=this.createImageChild(e,t,s);return this.addChild(h),this},"AppendImage");const s0=class s0 extends es{constructor(t,s,h,S){super(t,WE),this.setRenderCallback(s),this.setDrawerSize(h,S)}setRenderCallback(t){return t?this.renderContent=t.bind(this):delete this.renderContent,this}setDrawerSize(t,s){return t===!0?(this.toLocalPosition=!1,t=void 0,s=void 0):this.toLocalPosition=!0,t===void 0&&(t=0),s===void 0&&(s=t),this.drawerWidth=t,this.drawerHeight=s,this}onFree(){super.onFree(),this.setRenderCallback()}get width(){return this.drawerWidth*this.scaleX}set width(t){this.setDirty(this.width!==t),this.scaleX=this.drawerWidth>0?t/this.drawerWidth:1}get height(){return this.drawerHeight*this.scaleY}set height(t){this.setDirty(this.height!==t),this.scaleY=this.drawerHeight>0?t/this.drawerHeight:1}get offsetY(){return-this.height}set offsetY(t){}get drawTLX(){return-this.leftSpace}get drawTLY(){return 0}get drawBLX(){return-this.leftSpace}get drawBLY(){return this.drawerHeight}get drawTRX(){return this.drawerWidth+this.rightSpace}get drawTRY(){return 0}get drawBRX(){return this.drawerWidth+this.rightSpace}get drawBRY(){return this.drawerHeight}};r(s0,"Drawer");let _c=s0;var u2=r(function(e,t,s){var h=this.poolManager.allocate(WE);return h===null?h=new _c(this,e,t,s):h.setParent(this).setActive().setRenderCallback(e).setDrawerSize(t,s),h},"CreateDrawerChild"),d2=r(function(e,t,s){var h=this.createDrawerChild(e,t,s);return this.addChild(h),this},"AppendDrawer"),bn;let f2=(bn=class extends es{constructor(t,s){super(t,zE),this.setSpaceWidth(s)}get width(){return this.spaceWidth*this.scaleX}set width(t){this.spaceWidth>0?this.scaleX=t/this.spaceWidth:this.scaleX=1}setSpaceWidth(t){return this.spaceWidth=t,this}},r(bn,"Space"),bn);var c2=r(function(e){var t=this.poolManager.allocate(zE);return t===null?t=new f2(this,e):t.setParent(this).setActive().setSpaceWidth(e),t},"CreateSpaceChild"),XE=r(function(e){var t=this.createSpaceChild(e);return this.addChild(t),this},"AppendSpace");const r0=class r0 extends bp{constructor(t,s,h,S,E){super(t,Ip),this.setName(s).setParameter(S).setCallback(h,E)}setName(t){return this.name=t,this}setParameter(t){return this.param=t,this}setCallback(t,s){return this.callback=t,this.scope=s,this}exec(){var t;return this.scope?t=this.callback.call(this.scope,this.param,this.name):t=this.callback(this.param,this.name),t}onFree(){super.onFree(),this.setName().setCallback().setParameter()}};r(r0,"Command");let tv=r0;var v2=r(function(e,t,s,h){var S=this.poolManager.allocate(Ip);return S===null?S=new tv(this,e,t,s,h):S.setParent(this).setActive().setName(e).setCallback(t,h).setParameter(s),S},"CreateCommandChild"),dt=r(function(e,t,s,h){var S=this.createCommandChild(e,t,s,h);return this.addChild(S),this},"AppendCommand$3"),p2=r(function(e){return e===void 0?e={}:typeof e=="object"&&(e=ce(e)),this.wrapConfig=e,this},"SetWrapConfig"),$E=r(function(e){var t={callback:void 0,start:0,isLastPage:!1,maxLines:void 0,padding:void 0,letterSpacing:void 0,hAlign:void 0,vAlign:void 0,children:[],lines:[],maxLineWidth:0,linesHeight:0,lineHeight:void 0,maxLineHeight:0,linesWidth:0,lineWidth:void 0};return Object.assign(t,e)},"CreateWrapResultData");const g2={none:0,word:1,char:2,character:2,mix:3};var m2=r(function(e,t,s,h){h===void 0&&(h={word:[],width:0}),h.word.length=0;for(var S=s===2,E=s===3,n=!S&&!E,T=e.length,i=t,f=h.word,y=0,c=!1;i<T;){var o=e[i];if(!o.renderable){f.push(o),i++;continue}var l=o.type===is?o.text:null;if(l===null||l===`
`||l==="\f"){i===t&&(f.push(o),y+=o.outerWidth);break}if(n){if(f.push(o),y+=o.outerWidth,l===" ")break;i++}else if(S){f.push(o),y+=o.outerWidth;break}else if(E)if(Dh(l)){if(f.push(o),y+=o.outerWidth,l===" ")break;i++,c=!0}else{if(c)break;f.push(o),y+=o.outerWidth;var a=e[i+1];a&&a.type===is&&a.text===" "&&(f.push(a),y+=a.outerWidth);break}}return h.width=y,h},"GetWord"),KE=r(function(e){for(var t=0,s=e.length;t<s;t++){var h=e[t];if(h.align!==void 0)return h.align}},"GetChildrenAlign"),ZE=r(function(e,t,s){if(!(t===0&&s===0))for(var h=0,S=e.length;h<S;h++){var E=e[h];E.renderable&&(E.x+=t,E.y+=s)}},"OffsetChildren"),x2=r(function(e,t,s){for(var h=e.hAlign,S=e.vAlign,E=e.justifyPercentage,n=e.lines,T,i,f=0,y=n.length;f<y;f++){var c=n[f],o=c.width,l=c.children,a=KE(l);switch(a===void 0&&(a=h),a){case 0:case"left":T=0;break;case 1:case"center":var u=t-o;T=u/2;break;case 2:case"right":var u=t-o;T=u;break;case 3:case"justify":case"justify-left":var u=t-o,v=u/t;v<E&&ff(l,u),T=0;break;case 4:case"justify-center":var u=t-o,v=u/t;v<E?(ff(l,u),T=0):T=u/2;break;case 5:case"justify-right":var u=t-o,v=u/t;v<E?(ff(l,u),T=0):T=u;break;default:T=0;break}var d=e.linesHeight;switch(S){case 1:case"center":i=(s-d)/2;break;case 2:case"bottom":i=s-d;break;default:i=0;break}ZE(l,T,i)}},"AlignLines$1"),ff=r(function(e,t){for(var s=t/e.length,h=0,S=e.length;h<S;h++){var E=e[h];E.renderable&&(E.x+=s*h)}},"JustifyChildren"),ES=r(function(){var e=this.defaultTextStyle.getTextMetrics(this.context,this.testString),t,s;return"actualBoundingBoxAscent"in e?(t=e.actualBoundingBoxAscent,s=e.actualBoundingBoxDescent):(t=0,s=0),ol.ascent=t,ol.descent=s,ol.height=t+s,ol},"GetDefaultTextHeight"),ol={};const Ce=Phaser.Utils.Objects.GetValue;var y2=r(function(e){var t=Ce(e,"start",0);Ms(this.wrapPadding,Ce(e,"padding",0));var s=this.padding.top+this.padding.bottom+this.wrapPadding.top+this.wrapPadding.bottom,h=this.padding.left+this.padding.right+this.wrapPadding.left+this.wrapPadding.right,S=Ce(e,"lineHeight"),E=Ce(e,"ascent",S),n;if(S===void 0){var T=Ce(e,"useDefaultTextHeight",!1);if(n=Ce(e,"maxLines",0),this.fixedHeight>0&&!T){var K=this.fixedHeight-s;if(n>0)S=K/n;else{var i=ES.call(this);S=i.height,E=i.ascent,n=Math.floor((K-E)/S)}}else{var i=ES.call(this);S=i.height,E=i.ascent}}else if(this.fixedHeight>0){if(n=Ce(e,"maxLines"),n===void 0){var K=this.fixedHeight-s;n=Math.floor(K/S)}}else n=Ce(e,"maxLines",0);E===void 0&&(E=S);var f=n===0,y=Ce(e,"wrapMode");if(y===void 0){var c=Ce(e,"charWrap",!1);y=c?"char":"word"}typeof y=="string"&&(y=g2[y]);var o=Ce(e,"wrapWidth",void 0);o===void 0&&(this.fixedWidth>0?o=this.fixedWidth-h:(o=1/0,y=0));for(var l=Ce(e,"letterSpacing",0),a=Ce(e,"hAlign",0),u=Ce(e,"vAlign",0),v=Ce(e,"justifyPercentage",.25),d=$E({callback:"runWordWrap",start:t,padding:this.wrapPadding,letterSpacing:l,maxLines:n,hAlign:a,vAlign:u,justifyPercentage:v,ascent:E,lineHeight:S,wrapWidth:o,wrapMode:y}),p=this.children,g=0,m=p.length;g<m;g++)p[g].setActive(!1);o+=l;for(var x=this.padding.left+this.wrapPadding.left,C=this.padding.top+this.wrapPadding.top+E,P=x,A=C,R=o,L=t,O=p.length,w=d.children,b=d.lines,F=[],M=0,I=0,B,G=!1;L<O;){B=m2(p,L,y,B);var N=B.word,z=N.length,H=B.width+z*l;L+=z;var $=YE(N[0]);G=kE(N[0]);var V=$||G;if(R<H||V){if(V){var Y=N[0];Y.setActive().setPosition(P,A),w.push(Y),F.push(Y)}P=x,A+=S,R=o,b.push({children:F,width:M}),I=Math.max(I,M),M=0,F=[];var D=G||!f&&b.length===n;if(D)break;if(V)continue}R-=H,M+=H;for(var g=0,m=N.length;g<m;g++){var U=N[g];U.setActive(),w.push(U),F.push(U),U.renderable&&(U.setPosition(P,A),P+=U.outerWidth+l)}}F.length>0&&(b.push({children:F,width:M}),I=Math.max(I,M)),d.start+=w.length,d.isLastPage=!G&&d.start===O,d.maxLineWidth=I,d.linesHeight=b.length*S;var W=this.fixedWidth>0?this.fixedWidth:d.maxLineWidth+h,k=this.fixedHeight>0?this.fixedHeight:d.linesHeight+s,X=W-h,K=k-s;x2(d,X,K),this.setCanvasSize(W,k);for(var g=0,m=w.length;g<m;g++){var U=w[g];U.renderable&&(U.x0=U.x,U.y0=U.y)}return d},"RunWordWrap$1");const S2=Phaser.Utils.Objects.Merge;var T2=r(function(e){return e===void 0&&(e={}),y2.call(this,S2(e,this.wrapConfig))},"RunWordWrap"),C2=r(function(e,t,s){var h=e.hAlign,S=e.vAlign,E,n,T=e.rtl,i=e.lines,f=e.lineWidth,y=e.linesWidth;switch(h){case 1:case"center":E=(t-y)/2;break;case 2:case"right":E=t-y;break;default:E=0;break}T&&(E+=f);for(var c=0,o=i.length;c<o;c++){var l=i[T?o-c-1:c],a=l.children,u=l.height,v=KE(a);switch(v===void 0&&(v=S),v){case 1:case"center":n=(s-u)/2;break;case 2:case"bottom":n=s-u;break;default:n=0;break}ZE(a,E,n),E+=f}},"AlignLines");const We=Phaser.Utils.Objects.GetValue;var E2=r(function(e){var t=We(e,"start",0);Ms(this.wrapPadding,We(e,"padding",0));var s=this.padding.top+this.padding.bottom+this.wrapPadding.top+this.wrapPadding.bottom,h=this.padding.left+this.padding.right+this.wrapPadding.left+this.wrapPadding.right,S=We(e,"lineWidth",void 0),E;if(S===void 0)if(E=We(e,"maxLines",0),this.fixedWidth>0){var $=this.fixedWidth-h;S=$/E}else S=0;else if(this.fixedWidth>0){if(E=We(e,"maxLines",void 0),E===void 0){var $=this.fixedWidth-h;E=Math.floor($/S)+1}}else E=We(e,"maxLines",0);var n=E===0,T=We(e,"fixedCharacterHeight",void 0);if(T===void 0){var i=We(e,"charPerLine",void 0);if(i!==void 0){var V=this.fixedHeight-s;T=Math.floor(V/i)}}var f=We(e,"wrapHeight",void 0);f===void 0&&(this.fixedHeight>0?f=this.fixedHeight-s:f=1/0);for(var y=We(e,"letterSpacing",0),c=We(e,"rtl",!0),o=We(e,"hAlign",c?2:0),l=We(e,"vAlign",0),a=$E({callback:"runVerticalWrap",start:t,padding:this.wrapPadding,letterSpacing:y,maxLines:E,hAlign:o,vAlign:l,lineWidth:S,fixedCharacterHeight:T,wrapHeight:f,rtl:c}),u=this.children,v=0,d=u.length;v<d;v++)u[v].setActive(!1);f+=y;for(var p=this.padding.left+this.wrapPadding.left,g=this.padding.top+this.wrapPadding.top,m=p,x=g,C=f,P=t,A=u.length,R=a.children,L=a.lines,O=[],w=0,b=0;P<A;){var F=u[P];if(P++,!F.renderable){F.setActive(),R.push(F),O.push(F);continue}var M=(T!==void 0?T:F.height)+y,I=YE(F),B=kE(F),G=I||B;if(C<M||G){I&&(F.setActive().setPosition(m,x).setOrigin(.5),R.push(F),O.push(F)),m=p,x=g,C=f,L.push({children:O,height:w}),b=Math.max(b,w),w=0,O=[];var N=B||!n&&L.length===E;if(N)break;if(G)continue}C-=M,w+=M,F.setActive().setPosition(m,x).setOrigin(.5),R.push(F),O.push(F),x+=M}O.length>0&&(L.push({children:O,height:w}),b=Math.max(b,w)),a.start+=R.length,a.isLastPage=a.start===A,a.maxLineHeight=b,a.linesWidth=L.length*S;var z=this.fixedWidth>0?this.fixedWidth:a.linesWidth+h,H=this.fixedHeight>0?this.fixedHeight:a.maxLineHeight+s,$=z-h,V=H-s;C2(a,$,V),this.setCanvasSize(z,H);for(var v=0,d=R.length;v<d;v++){var F=R[v];F.renderable&&(F.x0=F.x,F.y0=F.y)}return a},"RunVerticalWrap$1");const P2=Phaser.Utils.Objects.Merge;var R2=r(function(e){return e===void 0&&(e={}),E2.call(this,P2(e,this.wrapConfig))},"RunVerticalWrap");const PS=Phaser.Utils.Objects.GetValue;var A2=r(function(e){var t=PS(this.wrapConfig,"callback");return t||(t=PS(e,"callback",this.runWordWrap)),typeof t=="string"&&(t=this[t]),t.call(this,e)},"RunWrap");const L2={setVAlign(e){return this.wrapConfig.vAlign=e,this},setHAlign(e){return this.wrapConfig.hAlign=e,this}},O2={setTextOX(e){return e===this._textOX?this:(this._textOX=e,this)},setTextOY(e){return e===this._textOY?this:(this._textOY=e,this)},setTextOXY(e,t){if(!(e===this._textOX&&t===this._textOY))return this._textOX=e,this._textOY=t,this},addTextOX(e){return this.setTextOX(this._textOX+e),this},addTextOY(e){return this.setTextOY(this._textOY+e),this},addTextOXY(e,t){return this.setTextOXY(this._textOX+e,this._textOY+t),this}};var w2=r(function(){this.clear(),this.setCanvasSize(this.width,this.height),this.background.active&&this.background.render();for(var e,t=0,s=this.children.length;t<s;t++)e=this.children[t],e.active&&e.render();this.innerBounds.active&&this.innerBounds.render()},"RenderContent"),M2=r(function(e,t,s){s===void 0&&(s=!0);for(var h=this.children,S=0,E=0,n=h.length;E<n;E++){var T=h[E];if(!(s&&!T.active)){var i;if(t?i=e.call(this,T,S,h):i=e(T,S,h),S++,i)break}}return this},"ForEachChild"),b2=r(function(e,t,s){s===void 0&&(s=!0);for(var h=this.children,S=0,E=0,n=h.length;E<n;E++){var T=h[E];if(!(s&&!T.active)&&T.renderable&&!T.removed){var i;if(t?i=e.call(this,T,S,h):i=e(T,S,h),S++,i)break}}return this},"ForEachRenderableChild"),I2=r(function(e,t,s){s===void 0&&(s=!0);for(var h=this.children,S=0,E=0,n=h.length;E<n;E++){var T=h[E];if(!(s&&!T.active)&&ua(T)&&!T.removed){var i;if(t?i=e.call(this,T,S,h):i=e(T,S,h),S++,i)break}}return this},"ForEachCharChild"),F2=r(function(){return this.children},"GetChildren");const D2=Phaser.Utils.Array.GetAll;var B2=r(function(){return D2(this.children,"active",!0)},"GetActiveChildren"),G2=r(function(e,t){return t===void 0&&(t=[]),this.forEachCharChild(function(s){t.push(s)},void 0,e),t},"GetCharChildren"),N2=r(function(){return this.lastAppendedChildren},"GetLastAppendedChildren"),U2=r(function(e,t,s,h){typeof t!="number"&&(h=t,t=0,s=0);var S=e.drawCenterX+t,E=e.drawCenterY+s;return GE(e,S,E,h)},"GetBobCenterPosition");const V2=Phaser.Math.Distance.BetweenPointsSquared;var W2=r(function(e,t){var s={x:e,y:t},h=1/0,S=null;return this.forEachRenderableChild(function(E){var n=V2(s,U2(E,!0));h>n&&(h=n,S=E)}),S},"GetNearestChild"),z2=r(function(e,t,s,h){return typeof e=="number"&&(e=this.getCharChild(e,!0)),NE(this,e,t,s,h)},"GetCharWorldPosition"),Y2=r(function(){for(var e=this.children,t=0,s=0,h=0,S=e.length;h<S;h++){var E=e[h];if(!(!E.renderable||!E.active||!E.visible)){var n=E.x0!==void 0?E.x0:E.x,T=E.y0!==void 0?E.y0:E.y;t=Math.max(t,n),s=Math.max(s,T)}}var i=t+this.padding.left+this.padding.right+this.wrapPadding.left+this.wrapPadding.right,f=s+this.padding.top+this.padding.bottom+this.wrapPadding.top+this.wrapPadding.bottom;return(this.width!==i||this.height!==f)&&(this.dirty=!0,this.setCanvasSize(i,f)),this},"SetToMinSize"),k2=r(function(e,t){t===void 0&&(t=!0);for(var s=this.children,h=0,S=s.length;h<S;h++){var E=s[h];if(!(t&&!E.active)&&ua(E)&&!E.removed){if(e===0)return h;e--}}},"GetCharChildIndex"),H2=r(function(e,t){t===void 0&&(t=!0);for(var s=this.children,h=0,S=s.length;h<S;h++){var E=s[h];if(!(t&&!E.active)&&ua(E)&&!E.removed){if(e===0)return E;e--}}},"GetCharChild"),X2=r(function(e,t){if(typeof e!="number"&&(e=this.children.indexOf(e),e<0))return null;t===void 0&&(t=!0);var s=this.children;e>=s.length&&(e=s.length);for(var h=0,S=0;S<e;S++){var E=s[S];t&&!E.active||ua(E)&&!E.removed&&h++}return h},"GetCharIndex"),$2=r(function(e){return e===void 0&&(e=!0),this.childrenInteractiveEnable!==e&&(this.lastOverChild=null),this.childrenInteractiveEnable=e,this},"SetChildrenInteractiveEnable"),Fp=r(function(h,t,s){for(var h=h,S=0,E=h.length;S<E;S++){var n=h[S];if(!(!n.active||!n.renderable)&&n.contains(t,s))return n}return null},"GetFirstChildContains"),K2=r(function(){return this.on("pointerdown",Z2,this).on("pointerdown",J2,this).on("pointermove",cf,this).on("pointerover",cf,this).on("pointerout",function(e,t){cf.call(this,e,null,null,t)},this),this},"SetChildrenInteractive$1"),Z2=r(function(e,t,s,h){if(this.childrenInteractiveEnable){var S=Fp(this.children,t,s);S&&this.emit("child.pointerdown",S,e,t,s,h)}},"OnPointerDown$1"),J2=r(function(e,t,s,h){if(this.childrenInteractiveEnable){var S=Fp(this.children,t,s);S&&this.emit("child.pointerup",S,e,t,s,h)}},"OnPointerUp$1"),cf=r(function(e,t,s,h){if(this.childrenInteractiveEnable){if(t===null){this.lastOverChild!==null&&(this.emit("child.pointerout",this.lastOverChild,e,t,s,h),this.lastOverChild=null);return}var S=Fp(this.children,t,s);S!==this.lastOverChild&&(this.lastOverChild!==null&&this.emit("child.pointerout",this.lastOverChild,e,t,s,h),S!==null&&this.emit("child.pointerover",S,e,t,s,h),this.lastOverChild=S)}},"OnPointOverOut");const Q2=Phaser.GameObjects.GameObject;var j2=r(function(e,t,s){var h=!!this.input;return Q2.prototype.setInteractive.call(this,e,t,s),h||K2.call(this),this},"SetInteractive");const q2=Phaser.Utils.Array.BringToTop,_2=Phaser.Utils.Array.SendToBack,tM=Phaser.Utils.Array.MoveUp,eM=Phaser.Utils.Array.MoveDown,iM=Phaser.Utils.Array.MoveAbove,sM=Phaser.Utils.Array.MoveBelow,rM={moveChildToFist(e){return _2(this.children,e),this},moveChildToLast(e){return q2(this.children,e),this},movechildUp(e){return tM(this.children,e),this},movechildDown(e){return eM(this.children,e),this},movechildAbove(e,t){return iM(this.children,e,t),this},movechildBelow(e,t){return sM(this.children,e,t),this}},nM={setBackgroundColor(e,t,s){return this.background.setColor(e,t,s),this},setBackgroundStroke(e,t){return this.background.setStroke(e,t),this},setBackgroundCornerRadius(e,t){return this.background.setCornerRadius(e,t),this}},aM={setInnerBoundsColor(e,t,s){return this.innerBounds.setColor(e,t,s),this},setInnerBoundsStroke(e,t){return this.innerBounds.setStroke(e,t),this}};var JE={setFixedSize:zw,setPadding:Yw,getPadding:kw,modifyTextStyle:Hw,modifyDefaultTextStyle:Xw,resetTextStyle:$w,setTestString:Kw,removeChild:Jw,removeChildren:Qw,popChild:qw,clearContent:_w,addChild:t2,createCharChild:s2,createCharChildren:r2,setText:n2,appendText:No,insertText:a2,removeText:h2,getText:o2,createImageChild:l2,appendImage:HE,createDrawerChild:u2,appendDrawer:d2,createSpaceChild:c2,appendSpace:XE,createCommandChild:v2,appendCommand:dt,setWrapConfig:p2,runWordWrap:T2,runVerticalWrap:R2,runWrap:A2,renderContent:w2,forEachChild:M2,forEachRenderableChild:b2,forEachCharChild:I2,getChildren:F2,getActiveChildren:B2,getCharChildren:G2,getLastAppendedChildren:N2,getNearestChild:W2,getCharWorldPosition:z2,setToMinSize:Y2,getCharChildIndex:k2,getCharChild:H2,getCharIndex:X2,setChildrenInteractiveEnable:$2,setInteractive:j2};Object.assign(JE,rM,nM,aM,L2,O2);const hM=Phaser.Utils.Objects.GetFastValue;var oM={};const n0=class n0{constructor(t){this.pools=hM(t,"pools",oM)}free(t){if(!this.pools)return this;var s=t.type;return this.pools.hasOwnProperty(s)||(this.pools[s]=new ei),this.pools[s].push(t),t.onFree(),this}freeMultiple(t){if(!this.pools)return this;for(var s=0,h=t.length;s<h;s++)this.free(t[s]);return this}allocate(t){return!this.pools||!this.pools.hasOwnProperty(t)?null:this.pools[t].pop()}};r(n0,"PoolManager");let ev=n0;const RS=Phaser.Utils.Objects.IsPlainObject,we=Phaser.Utils.Objects.GetValue,a0=class a0 extends Vs{constructor(t,s,h,S,E,n){RS(s)?(n=s,s=we(n,"x",0),h=we(n,"y",0),S=we(n,"width",0),E=we(n,"height",0)):RS(S)&&(n=S,S=we(n,"width",0),E=we(n,"height",0));var T=S===0?1:S,i=E===0?1:E;super(t,s,h,T,i),this.type="rexDynamicText",this.autoRound=!0,this.padding=Ms(),this.wrapPadding=Ms();var f=we(n,"style",void 0);this.defaultTextStyle=new Tu(null,f),this.textStyle=this.defaultTextStyle.clone(),this.setTestString(we(n,"testString","|Mqgy")),this._textOX=0,this._textOY=0,this.background=new Qc(this,we(n,"background",void 0)),this.innerBounds=new jc(this,we(n,"innerBounds",void 0)),this.children=[],this.lastAppendedChildren=[],this.lastOverChild=null,this.poolManager=new ev(n),this.setFixedSize(S,E),this.setPadding(we(n,"padding",0)),this.setWrapConfig(we(n,"wrap",void 0)),this.setChildrenInteractiveEnable(we(n,"childrenInteractive",!1));var y=we(n,"text",void 0);y&&this.setText(y)}updateTexture(){return this.renderContent(),super.updateTexture(),this}get text(){return this.getText(!0)}set text(t){this.setText(t)}setSize(t,s){return this.setFixedSize(t,s),this}get textOX(){return this._textOX}set textOX(t){this.setTextOX(t)}get textOY(){return this._textOY}set textOY(t){this.setTextOY(t)}};r(a0,"DynamicText");let Fs=a0;Object.assign(Fs.prototype,JE);st.register("dynamicText",function(e,t,s,h,S){var E=new Fs(this.scene,e,t,s,h,S);return this.scene.add.existing(E),E});it(window,"RexPlugins.UI.DynamicText",Fs);const Uo={setEventEmitter(e,t){return t===void 0&&(t=Phaser.Events.EventEmitter),this._privateEE=e===!0||e===void 0,this._eventEmitter=this._privateEE?new t:e,this},destroyEventEmitter(){return this._eventEmitter&&this._privateEE&&this._eventEmitter.shutdown(),this},getEventEmitter(){return this._eventEmitter},on(){return this._eventEmitter&&this._eventEmitter.on.apply(this._eventEmitter,arguments),this},once(){return this._eventEmitter&&this._eventEmitter.once.apply(this._eventEmitter,arguments),this},off(){return this._eventEmitter&&this._eventEmitter.off.apply(this._eventEmitter,arguments),this},emit(e){return this._eventEmitter&&e&&this._eventEmitter.emit.apply(this._eventEmitter,arguments),this},addListener(){return this._eventEmitter&&this._eventEmitter.addListener.apply(this._eventEmitter,arguments),this},removeListener(){return this._eventEmitter&&this._eventEmitter.removeListener.apply(this._eventEmitter,arguments),this},removeAllListeners(){return this._eventEmitter&&this._eventEmitter.removeAllListeners.apply(this._eventEmitter,arguments),this},listenerCount(){return this._eventEmitter?this._eventEmitter.listenerCount.apply(this._eventEmitter,arguments):0},listeners(){return this._eventEmitter?this._eventEmitter.listeners.apply(this._eventEmitter,arguments):[]},eventNames(){return this._eventEmitter?this._eventEmitter.eventNames.apply(this._eventEmitter,arguments):[]}},lM={hasProperty(e){var t=this.gameObject;if(t.hasOwnProperty(e))return!0;var s=t[e];return s!==void 0},getProperty(e){return this.gameObject[e]},setProperty(e,t){return this.gameObject[e]=t,this},easeProperty(o){var t=o.property,s=o.value,h=o.duration,S=o.delay,E=o.ease,n=o.repeat,T=o.yoyo,i=o.from,f=o.complete,y=o.target;if(h===void 0&&(h=1e3),S===void 0&&(S=0),E===void 0&&(E="Linear"),n===void 0&&(n=0),T===void 0&&(T=!1),y===void 0&&(y=this.gameObject),i){var c=s;s=y[t],y[t]=c}var o={targets:y,duration:h,delay:S,ease:E,repeat:n,yoyo:T,onComplete:f};return o[t]=s,this.addTweenTask(t,o),this},addTweenTask(e,t){var s=this.tweens,h=s[e];h&&h.remove();var S=t.onComplete;return t.onComplete=function(){s[e].remove(),s[e]=null,S&&S(t.targets,e)},h=this.scene.tweens.add(t),h.timeScale=this.timeScale,s[e]=h,this},getTweenTask(e){return this.tweens[e]},freeTweens(){var e=this.tweens,t;for(var s in e)t=e[s],t&&t.remove(),e[s]=null;return this}},uM={hasMethod(e){return typeof this.gameObject[e]=="function"},call(e,...t){if(!this.hasMethod(e))return console.warn(`[GameObjectManager] Game object '${this.name}' does not have method '${e}'`),this;var s=this.gameObject;return s[e].apply(s,t),this}},dM={hasData(e){var t=this.gameObject;return t.data?t.data.has(e):!1},getData(e){return this.gameObject.getData(e)},setData(e,t){return this.gameObject.setData(e,t),this}},h0=class h0{constructor(t,s,h){this.GOManager=t,this.tweens={},this.effects={},this.setGO(s,h)}get scene(){return this.GOManager.scene}get timeScale(){return this.GOManager.timeScale}destroy(){this.freeGO(),this.GOManager=void 0}freeGO(){return this.freeTweens(),this.gameObject.bob=void 0,this.gameObject.destroy(),this.gameObject=void 0,this}setGO(t,s){return t.goName=s,t.goType=this.GOManager.name,t.bob=this,this.gameObject=t,this.name=s,this.freeTweens(),this}setTimeScale(t){var s=this.tweens;for(var h in s){var S=s[h];S&&(S.timeScale=t)}return this}};r(h0,"BobBase");let Nh=h0;Object.assign(Nh.prototype,lM,uM,dM);var Dp=r(function(e){for(var t in e)return!1;return!0},"IsEmpty"),ur=r(function(e){return e&&e.charAt(0)!=="!"},"IsSingleBob");const fM={has(e){return this.bobs.hasOwnProperty(e)},exists(e){return this.bobs.hasOwnProperty(e)},get(e,t){if(ur(e))return this.bobs[e];t===void 0&&(t=[]),e&&(e=e.substring(1));for(var s in this.bobs)e&&s===e||t.push(this.bobs[s]);return t},getFitst(e){e&&e.charAt(0)==="!"&&(e=e.substring(1));for(var t in this.bobs)if(!(e&&e===t))return this.bobs[t];return null},getGO(e,t){var s=this.get(e);if(s)if(Array.isArray(s)){t===void 0&&(t=[]);var h=s;return h.forEach(function(S){t.push(S.gameObject)}),t}else return s.gameObject;else return null},forEachGO(e,t){for(var s in this.bobs){var h=this.bobs[s].gameObject,S;if(t?S=e.call(t,h,s,this):S=e(h,s,this),S)break}return this},getAllGO(e){e===void 0&&(e=[]);for(var t in this.bobs){var s=this.bobs[t].gameObject;e.push(s)}return e}};var Uh=r(function(e){return e>>16&255},"GetR"),Vh=r(function(e){return e>>8&255},"GetG"),Wh=r(function(e){return e&255},"GetB");const cM=~(255<<16)&16777215,vM=16711935,pM=16776960;var gM=r(function(e,t){return(t&255)<<16|e&cM},"SetR"),mM=r(function(e,t){return(t&255)<<8|e&vM},"SetG"),xM=r(function(e,t){return t&255|e&pM},"SetB"),yM=r(function(e,t,s,h){return(t&255)<<16|(s&255)<<8|h&255},"SetRGB"),SM=r(function(e,t){if(e.hasOwnProperty("tintR"))return e;t===void 0&&(t=16777215);var s=Uh(t),h=Vh(t),S=Wh(t);return Object.defineProperty(e,"tint",{get:r(function(){return t},"get"),set:r(function(E){E=Math.floor(E)&16777215,e.setTint&&e.setTint(E),t!==E&&(t=E,s=Uh(t),h=Vh(t),S=Wh(t))},"set")}),Object.defineProperty(e,"tintR",{get:r(function(){return s},"get"),set:r(function(E){E=Math.floor(E)&255,s!==E&&(s=E,e.tint=gM(t,E))},"set")}),Object.defineProperty(e,"tintG",{get:r(function(){return h},"get"),set:r(function(E){E=Math.floor(E)&255,h!==E&&(h=E,e.tint=mM(t,E))},"set")}),Object.defineProperty(e,"tintB",{get:r(function(){return S},"get"),set:r(function(E){E=Math.floor(E)&255,S!==E&&(S=E,e.tint=xM(t,E))},"set")}),Object.defineProperty(e,"tintGray",{get:r(function(){return Math.floor((s+h+S)/3)},"get"),set:r(function(E){E=Math.floor(E)&255,(s!==E||h!==E||S!==E)&&(s=E,h=E,S=E,e.tint=yM(t,E,E,E))},"set")}),e.tint=t,e},"AddTintRGBProperties");const TM=Phaser.Events.EventEmitter;var CM=r(function(e){if(e.events)return e;var t=new TM,s=e.x;Object.defineProperty(e,"x",{get:r(function(){return s},"get"),set:r(function(n){s!==n&&(s=n,t.emit("update",e))},"set")});var h=e.y;Object.defineProperty(e,"y",{get:r(function(){return h},"get"),set:r(function(n){h!==n&&(h=n,t.emit("update",e))},"set")});var S=e.width;Object.defineProperty(e,"width",{get:r(function(){return S},"get"),set:r(function(n){S!==n&&(S=n,t.emit("update",e))},"set")});var E=e.height;return Object.defineProperty(e,"height",{get:r(function(){return E},"get"),set:r(function(n){E!==n&&(E=n,t.emit("update",e))},"set")}),e.events=t,e},"MonitorViewport"),EM=r(function(e,t,s,h,S,E){return E===void 0?E={}:E===!0&&(E=PM),typeof s!="number"&&(s=0,h=0),E.x=S.x+S.width*e+s,E.y=S.y+S.height*t+h,E},"VPXYToXY"),PM={},RM=r(function(e,t,s,h,S,E,n){if(e.hasOwnProperty("vp"))return e;typeof s=="function"&&(n=s,s=void 0),typeof S=="function"&&(n=S,S=void 0),s===void 0&&(s=.5),h===void 0&&(h=.5),S===void 0&&(S=0),E===void 0&&(E=0),n===void 0&&(n=EM),CM(t);var T=t.events;e.vp=t;var i=r(function(){n(s,h,S,E,t,e)},"Transform");T.on("update",i),e.once("destroy",function(){T.off("update",i),e.vp=void 0}),Object.defineProperty(e,"vpx",{get:r(function(){return s},"get"),set:r(function(f){s!==f&&(s=f,i())},"set")}),Object.defineProperty(e,"vpy",{get:r(function(){return h},"get"),set:r(function(f){h!==f&&(h=f,i())},"set")}),Object.defineProperty(e,"vpxOffset",{get:r(function(){return S},"get"),set:r(function(f){S!==f&&(S=f,i())},"set")}),Object.defineProperty(e,"vpyOffset",{get:r(function(){return E},"get"),set:r(function(f){E!==f&&(E=f,i())},"set")}),i()},"AddViewportCoordinateProperties"),Se=r(function(e){return e.preFX?e.preFX:e.postFX?e.postFX:null},"GetFXFactory"),Ht=r(function(e,t){e._effectSwitchNames||(e._effectSwitchNames=[],e.clearAllEffects=function(){for(var s=e._effectSwitchNames,h=0,S=s.length;h<S;h++)e[s[h]]=null;return e},e.on("destroy",e.clearAllEffects,e)),e._effectSwitchNames.push(t)},"AddClearEffectCallback"),AM=r(function(e){if(At(e,"barrel"))return e;var t=Se(e);if(!t)return e;var s;return Object.defineProperty(e,"barrel",{get:r(function(){return s},"get"),set:r(function(h){s!==h&&(s=h,s===null||s===!1?e._barrelEffect&&(t.remove(e._barrelEffect),e._barrelEffect=void 0):(e._barrelEffect||(e._barrelEffect=t.addBarrel()),e._barrelEffect.amount=s))},"set")}),e.barrel=null,Ht(e,"barrel"),e},"AddBarrelProperties"),ve=r(function(e,t,s){if(At(e,t))return e;var h=Se(e);if(!h)return e;var S=`_${t}Effect`,E;return Object.defineProperty(e,t,{get:r(function(){return E},"get"),set:r(function(n){if(E!==n)if(E=n,E===null||E===!1)e[S]&&(h.remove(e[S]),e[S]=void 0);else{e[S]||(e[S]=h.addColorMatrix());var T=e[S];T[t](s===1?n:void 0)}},"set")}),e[t]=null,Ht(e,t),e},"AddColorMatrixEffectPropertiesBase"),LM=r(function(e){return ve(e,"blackWhite"),e},"AddBlackWhiteProperties"),OM=r(function(e){if(At(e,"bloomColor"))return e;var t=Se(e);if(!t)return e;var s,h=1,S=1,E=1,n=1,T=4;return Object.defineProperty(e,"bloomColor",{get:r(function(){return s},"get"),set:r(function(i){s!==i&&(s=i,s===null||s===!1?e._bloom&&(t.remove(e._bloom),e._bloom=void 0,t.setPadding(0)):(e._bloom||(e._bloom=t.addBloom(s,h,S,E,n,T),t.setPadding(Math.max(h,S)+1)),e._bloom.color=s))},"set")}),Object.defineProperty(e,"bloomOffsetX",{get:r(function(){return h},"get"),set:r(function(i){if(h!==i&&(h=i,e._bloom)){var f=Math.max(h,S);t.setPadding(f+1),e._bloom.offsetX=h}},"set")}),Object.defineProperty(e,"bloomOffsetY",{get:r(function(){return S},"get"),set:r(function(i){if(S!==i&&(S=i,e._bloom)){var f=Math.max(h,S);t.setPadding(f+1),e._bloom.offsetY=S}},"set")}),Object.defineProperty(e,"bloomBlurStrength",{get:r(function(){return E},"get"),set:r(function(i){E!==i&&(E=i,e._bloom&&(e._bloom.blurStrength=E))},"set")}),Object.defineProperty(e,"bloomStrength",{get:r(function(){return n},"get"),set:r(function(i){n!==i&&(n=i,e._bloom&&(e._bloom.strength=n))},"set")}),Object.defineProperty(e,"bloomSteps",{get:r(function(){return T},"get"),set:r(function(i){T!==i&&(T=i,e._bloom&&(e._bloom.steps=T))},"set")}),e.bloomColor=null,Ht(e,"bloomColor"),e},"AddBloomProperties"),wM=r(function(e){if(At(e,"blurColor"))return e;var t=Se(e);if(!t)return e;var s,h=0,S=1,E=1,n=1,T=4;return Object.defineProperty(e,"blurColor",{get:r(function(){return s},"get"),set:r(function(i){s!==i&&(s=i,s===null||s===!1?e._blur&&(t.remove(e._blur),e._blur=void 0,t.setPadding(0)):(e._blur||(e._blur=t.addBlur(h,S,E,n,s,T),t.setPadding(Math.max(S,E)+1)),e._blur.color=s))},"set")}),Object.defineProperty(e,"blurQuality",{get:r(function(){return h},"get"),set:r(function(i){h!==i&&(h=i,e._blur&&(e._blur.quality=h))},"set")}),Object.defineProperty(e,"blurX",{get:r(function(){return S},"get"),set:r(function(i){if(S!==i&&(S=i,e._blur)){var f=Math.max(S,E);t.setPadding(f+1),e._blur.x=S}},"set")}),Object.defineProperty(e,"blurY",{get:r(function(){return E},"get"),set:r(function(i){if(E!==i&&(E=i,e._blur)){var f=Math.max(S,E);t.setPadding(f+1),e._blur.y=E}},"set")}),Object.defineProperty(e,"blurStrength",{get:r(function(){return n},"get"),set:r(function(i){n!==i&&(n=i,e._blur&&(e._blur.strength=n))},"set")}),Object.defineProperty(e,"blurSteps",{get:r(function(){return T},"get"),set:r(function(i){T!==i&&(T=i,e._blur&&(e._blur.steps=T))},"set")}),e.blurColor=null,Ht(e,"blurColor"),e},"AddBlurProperties"),MM=r(function(e){if(At(e,"bokehRadius"))return e;var t=Se(e);if(!t)return e;var s,h=1,S=.2;return Object.defineProperty(e,"bokehRadius",{get:r(function(){return s},"get"),set:r(function(E){s!==E&&(s=E,s===null||s===!1?e._bokeh&&(t.remove(e._bokeh),e._bokeh=void 0):(e._bokeh||(e._bokeh=t.addBokeh(s,h,S)),e._bokeh.radius=s))},"set")}),Object.defineProperty(e,"bokehAmount",{get:r(function(){return h},"get"),set:r(function(E){h!==E&&(h=E,e._bokeh&&(e._bokeh.amount=h))},"set")}),Object.defineProperty(e,"bokehContrast",{get:r(function(){return S},"get"),set:r(function(E){S!==E&&(S=E,e._bokeh&&(e._bokeh.contrast=S))},"set")}),e.bokehRadius=null,Ht(e,"bokehRadius"),e},"AddBokehProperties"),bM=r(function(e){return ve(e,"brightness",1),e},"AddBrightnessProperties"),IM=r(function(e){return ve(e,"brown"),e},"AddBrownProperties"),FM=r(function(e){if(At(e,"circleColor"))return e;var t=Se(e);if(!t)return e;var s,h=8,S=0,E=.4,n=1,T=.005;return Object.defineProperty(e,"circleColor",{get:r(function(){return s},"get"),set:r(function(i){s!==i&&(s=i,s===null||s===!1?e._circle&&(t.remove(e._circle),e._circle=void 0):(e._circle||(e._circle=t.addCircle(h,s,S,n,T),e.circleBackgroundAlpha=E),e._circle.color=s))},"set")}),Object.defineProperty(e,"circleThickness",{get:r(function(){return h},"get"),set:r(function(i){h!==i&&(h=i,e._circle&&(e._circle.thickness=h))},"set")}),Object.defineProperty(e,"circleBackgroundColor",{get:r(function(){return S},"get"),set:r(function(i){S!==i&&(S=i,e._circle&&(e._circle.backgroundColor=S))},"set")}),Object.defineProperty(e,"circleBackgroundAlpha",{get:r(function(){return E},"get"),set:r(function(i){E!==i&&(E=i,e._circle&&(e._circle.glcolor2[3]=E))},"set")}),Object.defineProperty(e,"circleScale",{get:r(function(){return n},"get"),set:r(function(i){n!==i&&(n=i,e._circle&&(e._circle.scale=n))},"set")}),Object.defineProperty(e,"circleFeather",{get:r(function(){return T},"get"),set:r(function(i){T!==i&&(T=i,e._circle&&(e._circle.feather=T))},"set")}),e.circleColor=null,Ht(e,"circleColor"),e},"AddCircleProperties"),DM=r(function(e){return ve(e,"contrast",1),e},"AddContrastProperties"),BM=r(function(e){return ve(e,"desaturate",1),e},"AddDesaturateProperties"),GM=r(function(e){return ve(e,"desaturateLuminance"),e},"AddDesaturateLuminanceProperties"),NM=r(function(e){if(At(e,"displacementKey"))return e;var t=Se(e);if(!t)return e;var s,h=.005,S=.005;return Object.defineProperty(e,"displacementKey",{get:r(function(){return s},"get"),set:r(function(E){s!==E&&(s=E,s===null||s===!1?e._displacement&&(t.remove(e._displacement),e._displacement=void 0):(e._displacement||(e._displacement=t.addDisplacement(s,h,S)),e._displacement.setTexture(s)))},"set")}),Object.defineProperty(e,"displacementX",{get:r(function(){return h},"get"),set:r(function(E){h!==E&&(h=E,e._displacement&&(e._displacement.x=h))},"set")}),Object.defineProperty(e,"displacementY",{get:r(function(){return S},"get"),set:r(function(E){S!==E&&(S=E,e._displacement&&(e._displacement.y=S))},"set")}),e.displacementKey=null,Ht(e,"displacementKey"),e},"AddDisplacementProperties"),UM=r(function(e){if(At(e,"glowColor"))return e;var t=Se(e);if(!t)return e;var s,h=4,S=0;return Object.defineProperty(e,"glowColor",{get:r(function(){return s},"get"),set:r(function(E){s!==E&&(s=E,s===null||s===!1?e._glow&&(t.remove(e._glow),e._glow=void 0,t.setPadding(0)):(e._glow||(e._glow=t.addGlow(s,h,S),t.setPadding(h+1)),e._glow.color=s))},"set")}),Object.defineProperty(e,"glowOuterStrength",{get:r(function(){return h},"get"),set:r(function(E){h!==E&&(h=E,e._glow&&(t.setPadding(h+1),e._glow.outerStrength=h))},"set")}),Object.defineProperty(e,"glowInnerStrength",{get:r(function(){return S},"get"),set:r(function(E){S!==E&&(S=E,e._glow&&(e._glow.innerStrength=S))},"set")}),e.glowColor=null,Ht(e,"glowColor"),e},"AddGlowProperties"),VM=r(function(e){if(At(e,"gradientColor"))return e;var t=Se(e);if(!t)return e;var s,h,S=.5,E=0,n=0,T=0,i=1,f=0;return Object.defineProperty(e,"gradientColor",{get:r(function(){return[s,h]},"get"),set:r(function(y){var c,o;y===null||y===!1?(c=null,o=null):(c=y[0],o=y[1]),!(s===c&&h===o)&&(s=c,h=o,s===null||s===!1?e._gradient&&(t.remove(e._gradient),e._gradient=void 0):(e._gradient||(e._gradient=t.addGradient(s,h,S,E,n,T,i,f)),e._gradient.color1=s,e._gradient.color2=h))},"set")}),Object.defineProperty(e,"gradientColor1",{get:r(function(){return s},"get"),set:r(function(y){if(y===null||y===!1){e.gradientColor=y;return}s!==y&&(s=y,e._gradient&&(e._gradient.color1=s))},"set")}),Object.defineProperty(e,"gradientColor2",{get:r(function(){return h},"get"),set:r(function(y){if(y===null||y===!1){e.gradientColor=y;return}h!==y&&(h=y,e._gradient&&(e._gradient.color2=h))},"set")}),Object.defineProperty(e,"gradientAlpha",{get:r(function(){return S},"get"),set:r(function(y){S!==y&&(S=y,e._gradient&&(e._gradient.alpha=S))},"set")}),Object.defineProperty(e,"gradientFromX",{get:r(function(){return E},"get"),set:r(function(y){E!==y&&(E=y,e._gradient&&(e._gradient.fromX=E))},"set")}),Object.defineProperty(e,"gradientFromY",{get:r(function(){return n},"get"),set:r(function(y){n!==y&&(n=y,e._gradient&&(e._gradient.fromY=n))},"set")}),Object.defineProperty(e,"gradientToX",{get:r(function(){return T},"get"),set:r(function(y){T!==y&&(T=y,e._gradient&&(e._gradient.toX=T))},"set")}),Object.defineProperty(e,"gradientToY",{get:r(function(){return i},"get"),set:r(function(y){i!==y&&(i=y,e._gradient&&(e._gradient.toY=i))},"set")}),Object.defineProperty(e,"gradientSize",{get:r(function(){return f},"get"),set:r(function(y){f!==y&&(f=y,e._gradient&&(e._gradient.size=f))},"set")}),e.gradientColor=null,Ht(e,"gradientColor"),e},"AddGradientProperties"),WM=r(function(e){return ve(e,"grayscale",1),e},"AddGrayscaleProperties"),zM=r(function(e){return ve(e,"hue",1),e},"AddHueProperties"),YM=r(function(e){return ve(e,"kodachrome"),e},"AddKodachromeProperties"),kM=r(function(e){return ve(e,"lsd"),e},"AddLSDProperties"),HM=r(function(e){return ve(e,"negative"),e},"AddNegativeProperties"),XM=r(function(e){if(At(e,"pixelate"))return e;var t=Se(e);if(!t)return e;var s;return Object.defineProperty(e,"pixelate",{get:r(function(){return s},"get"),set:r(function(h){s!==h&&(s=h,s===null||s===!1?e._pixelateEffect&&(t.remove(e._pixelateEffect),e._pixelateEffect=void 0):(e._pixelateEffect||(e._pixelateEffect=t.addPixelate()),e._pixelateEffect.amount=s))},"set")}),e.pixelate=null,Ht(e,"pixelate"),e},"AddPixelateProperties"),$M=r(function(e){return ve(e,"polaroid"),e},"AddPolaroidProperties"),KM=r(function(e){if(At(e,"revealLeft"))return e;var t=Se(e);if(!t)return e;var s,h,S,E,n=.1,T=r(function(){s=null,h=null,S=null,E=null},"ClearRevealFlags"),i=r(function(f){f._revealEffect&&(t.remove(f._revealEffect),f._revealEffect=void 0)},"RemoveEffect");return Object.defineProperty(e,"revealLeft",{get:r(function(){return s},"get"),set:r(function(f){s!==f&&(T(),s=f,s===null||s===!1?i(e):(e._revealEffect||(e._revealEffect=t.addReveal(n,0,0)),e._revealEffect.direction=1,e._revealEffect.axis=0,e._revealEffect.progress=s))},"set")}),Object.defineProperty(e,"revealRight",{get:r(function(){return h},"get"),set:r(function(f){h!==f&&(T(),h=f,h===null||h===!1?i(e):(e._revealEffect||(e._revealEffect=t.addReveal(n,0,0)),e._revealEffect.direction=0,e._revealEffect.axis=0,e._revealEffect.progress=h))},"set")}),Object.defineProperty(e,"revealUp",{get:r(function(){return S},"get"),set:r(function(f){S!==f&&(T(),S=f,S===null||S===!1?i(e):(e._revealEffect||(e._revealEffect=t.addReveal(n,0,0)),e._revealEffect.direction=1,e._revealEffect.axis=1,e._revealEffect.progress=S))},"set")}),Object.defineProperty(e,"revealDown",{get:r(function(){return E},"get"),set:r(function(f){E!==f&&(T(),E=f,E===null||E===!1?i(e):(e._revealEffect||(e._revealEffect=t.addReveal(n,0,0)),e._revealEffect.direction=0,e._revealEffect.axis=1,e._revealEffect.progress=E))},"set")}),Object.defineProperty(e,"revealWidth",{get:r(function(){return n},"get"),set:r(function(f){n!==f&&(n=f,e._revealEffect&&(e._revealEffect.wipeWidth=n))},"set")}),e.revealLeft=null,Ht(e,"revealLeft"),Ht(e,"revealRight"),Ht(e,"revealUp"),Ht(e,"revealDown"),e},"AddRevealProperties"),ZM=r(function(e){return ve(e,"saturate",1),e},"AddSaturateProperties"),JM=r(function(e){return ve(e,"sepia"),e},"AddSepiaProperties"),QM=r(function(e){if(At(e,"shadowColor"))return e;var t=Se(e);if(!t)return e;var s,h=0,S=0,E=.1,n=1,T=6,i=1;return Object.defineProperty(e,"shadowColor",{get:r(function(){return s},"get"),set:r(function(f){s!==f&&(s=f,s===null||s===!1?e._shadow&&(t.remove(e._shadow),e._shadow=void 0):(e._shadow||(e._shadow=t.addShadow(h,S,E,n,s,T,i)),e._shadow.color=s))},"set")}),Object.defineProperty(e,"shadowX",{get:r(function(){return h},"get"),set:r(function(f){h!==f&&(h=f,e._shadow&&(e._shadow.x=h))},"set")}),Object.defineProperty(e,"shadowY",{get:r(function(){return S},"get"),set:r(function(f){S!==f&&(S=f,e._shadow&&(e._shadow.y=S))},"set")}),Object.defineProperty(e,"decay",{get:r(function(){return E},"get"),set:r(function(f){E!==f&&(E=f,e._shadow&&(e._shadow.decay=E))},"set")}),Object.defineProperty(e,"shadowPower",{get:r(function(){return n},"get"),set:r(function(f){n!==f&&(n=f,e._shadow&&(e._shadow.power=n))},"set")}),Object.defineProperty(e,"shadowSamples",{get:r(function(){return T},"get"),set:r(function(f){T!==f&&(T=f,e._shadow&&(e._shadow.samples=T))},"set")}),Object.defineProperty(e,"shadowIntensity",{get:r(function(){return i},"get"),set:r(function(f){i!==f&&(i=f,e._shadow&&(e._shadow.intensity=i))},"set")}),e.shadowColor=null,Ht(e,"shadowColor"),e},"AddShadowProperties"),jM=r(function(e){return ve(e,"shiftToBGR"),e},"AddShiftToBGRProperties"),qM=r(function(e){if(At(e,"shineSpeed"))return e;var t=Se(e);if(!t)return e;var s,h=.5,S=3;return Object.defineProperty(e,"shineSpeed",{get:r(function(){return s},"get"),set:r(function(E){s!==E&&(s=E,s===null||s===!1?e._shine&&(t.remove(e._shine),e._shine=void 0):(e._shine||(e._shine=t.addShine(s,h,S)),e._shine.speed=s))},"set")}),Object.defineProperty(e,"shineLineWidth",{get:r(function(){return h},"get"),set:r(function(E){h!==E&&(h=E,e._shine&&(e._shine.lineWidth=h))},"set")}),Object.defineProperty(e,"shineGradient",{get:r(function(){return S},"get"),set:r(function(E){S!==E&&(S=E,e._shine&&(e._shine.gradient=S))},"set")}),e.shineSpeed=null,Ht(e,"shineSpeed"),e},"AddShineProperties"),_M=r(function(e){return ve(e,"technicolor"),e},"AddTechnicolorProperties"),tb=r(function(e){if(At(e,"tiltShiftRadius"))return e;var t=Se(e);if(!t)return e;var s,h=1,S=.2,E=1,n=1,T=1;return Object.defineProperty(e,"tiltShiftRadius",{get:r(function(){return s},"get"),set:r(function(i){s!==i&&(s=i,s===null||s===!1?e._tiltShift&&(t.remove(e._tiltShift),e._tiltShift=void 0):(e._tiltShift||(e._tiltShift=t.addTiltShift(s,h,S,E,n,T)),e._tiltShift.radius=s))},"set")}),Object.defineProperty(e,"tiltShiftAmount",{get:r(function(){return h},"get"),set:r(function(i){h!==i&&(h=i,e._tiltShift&&(e._tiltShift.amount=h))},"set")}),Object.defineProperty(e,"tiltShiftContrast",{get:r(function(){return S},"get"),set:r(function(i){S!==i&&(S=i,e._tiltShift&&(e._tiltShift.contrast=S))},"set")}),Object.defineProperty(e,"tiltShiftBlurX",{get:r(function(){return E},"get"),set:r(function(i){E!==i&&(E=i,e._tiltShift&&(e._tiltShift.blurX=E))},"set")}),Object.defineProperty(e,"tiltShiftBlurY",{get:r(function(){return n},"get"),set:r(function(i){n!==i&&(n=i,e._tiltShift&&(e._tiltShift.blurY=n))},"set")}),Object.defineProperty(e,"tiltShiftStrength",{get:r(function(){return T},"get"),set:r(function(i){T!==i&&(T=i,e._tiltShift&&(e._tiltShift.strength=T))},"set")}),e.tiltShiftRadius=null,Ht(e,"tiltShiftRadius"),e},"AddTiltShiftProperties"),eb=r(function(e){if(At(e,"vignetteRadius"))return e;var t=Se(e);if(!t)return e;var s,h=.5,S=.5,E=.5;return Object.defineProperty(e,"vignetteRadius",{get:r(function(){return s},"get"),set:r(function(n){s!==n&&(s=n,s===null||s===!1?e._vignette&&(t.remove(e._vignette),e._vignette=void 0):(e._vignette||(e._vignette=t.addVignette(h,S,s,E)),e._vignette.radius=s))},"set")}),Object.defineProperty(e,"vignetteX",{get:r(function(){return h},"get"),set:r(function(n){h!==n&&(h=n,e._vignette&&(e._vignette.x=h))},"set")}),Object.defineProperty(e,"vignetteY",{get:r(function(){return S},"get"),set:r(function(n){S!==n&&(S=n,e._vignette&&(e._vignette.y=S))},"set")}),Object.defineProperty(e,"vignetteStrength",{get:r(function(){return E},"get"),set:r(function(n){E!==n&&(E=n,e._vignette&&(e._vignette.strength=E))},"set")}),e.vignetteRadius=null,Ht(e,"vignetteRadius"),e},"AddVignetteProperties"),ib=r(function(e){return ve(e,"vintagePinhole"),e},"AddVintagePinholeProperties"),sb=r(function(e){if(At(e,"wipeLeft"))return e;var t=Se(e);if(!t)return e;var s,h,S,E,n=.1,T=r(function(){s=null,h=null,S=null,E=null},"ClearWipeFlags"),i=r(function(f){f._wipeEffect&&(t.remove(f._wipeEffect),f._wipeEffect=void 0)},"RemoveEffect");return Object.defineProperty(e,"wipeLeft",{get:r(function(){return s},"get"),set:r(function(f){s!==f&&(T(),s=f,s===null||s===!1?i(e):(e._wipeEffect||(e._wipeEffect=t.addWipe(n,0,0)),e._wipeEffect.direction=1,e._wipeEffect.axis=0,e._wipeEffect.progress=s))},"set")}),Object.defineProperty(e,"wipeRight",{get:r(function(){return h},"get"),set:r(function(f){h!==f&&(T(),h=f,h===null||h===!1?i(e):(e._wipeEffect||(e._wipeEffect=t.addWipe(n,0,0)),e._wipeEffect.direction=0,e._wipeEffect.axis=0,e._wipeEffect.progress=h))},"set")}),Object.defineProperty(e,"wipeUp",{get:r(function(){return S},"get"),set:r(function(f){S!==f&&(T(),S=f,S===null||S===!1?i(e):(e._wipeEffect||(e._wipeEffect=t.addWipe(n,0,0)),e._wipeEffect.direction=1,e._wipeEffect.axis=1,e._wipeEffect.progress=S))},"set")}),Object.defineProperty(e,"wipeDown",{get:r(function(){return E},"get"),set:r(function(f){E!==f&&(T(),E=f,E===null||E===!1?i(e):(e._wipeEffect||(e._wipeEffect=t.addWipe(n,0,0)),e._wipeEffect.direction=0,e._wipeEffect.axis=1,e._wipeEffect.progress=E))},"set")}),Object.defineProperty(e,"wipeWidth",{get:r(function(){return n},"get"),set:r(function(f){n!==f&&(n=f,e._wipeEffect&&(e._wipeEffect.wipeWidth=n))},"set")}),e.wipeLeft=null,Ht(e,"wipeLeft"),Ht(e,"wipeRight"),Ht(e,"wipeUp"),Ht(e,"wipeDown"),e},"AddWipeProperties");const ll={barrel:AM,blackWhite:LM,bloom:OM,blur:wM,bokeh:MM,brightness:bM,brown:IM,circle:FM,contrast:DM,desaturate:BM,desaturateLuminance:GM,displacement:NM,glow:UM,gradient:VM,grayscale:WM,hue:zM,kodachrome:YM,lsd:kM,negative:HM,pixelate:XM,polaroid:$M,reveal:KM,saturate:ZM,sepia:JM,shadow:QM,shiftToBGR:jM,shine:qM,technicolor:_M,tiltShift:tb,vignette:eb,vintagePinhole:ib,wipe:sb};var Ya=r(function(e,t){if(t===void 0)t=!0;else if(typeof t=="string")t={config:!0};else if(Array.isArray(t))for(var s=t,t={},h=0,S=s.length;h<S;h++)t[s[h]]=!0;if(t===!0)for(var E in ll)ll[E](e);else for(var E in t)t[E]&&ll[E]&&ll[E](e);return e},"AddEffectProperties");const rb=Phaser.Utils.Array.Remove,nb={addGO(e,t){this.remove(e,!0),this.useTintFadeEffect(t)&&SM(t),this.viewportCoordinateEnable&&RM(t,this.viewport),this.effectPropertiesConfig&&Ya(t,this.effectPropertiesConfig),t.setName(e).once("destroy",function(){rb(this.removedGOs,t),this.isEmpty&&this.emit("empty")},this);var s=new this.BobClass(this,t,e);return this.bobs[e]=s,this},add(e,...t){var s=this.createGameObjectCallback,h=this.createGameObjectScope,S=s.call(h,this.scene,...t);this.addGO(e,S),this.gameObjectDepth!=null&&S.setDepth(this.gameObjectDepth);var E=this.get(e);return this.fadeBob(E,0,1),this}},ab={remove(e,t){var s=this.get(e);if(s)Array.isArray(s)||(s=[s]);else return this;var h=this;return s.forEach(function(S){delete h.bobs[S.name];var E=S.gameObject;h.removedGOs.push(E),E.setName(),t?S.destroy():h.fadeBob(S,void 0,0,function(){S.destroy()})}),this},removeAll(){var e=this.bobs;for(var t in e)this.remove(t);return this},clear(e){e===void 0&&(e=!0);var t=this.bobs;for(var s in t)e&&t[s].destroy(),delete t[s];return this.removedGOs.length=0,this}},hb={hasProperty(e,t){var s=ur(e)?this.get(e):this.getFitst(e);return s?s.hasProperty(t):!1},getProperty(e,t){var s=ur(e)?this.get(e):this.getFitst(e);if(s)return s.getProperty(t)},isNumberProperty(e,t){var s=this.getProperty(e,t);return typeof s=="number"},setProperty(e,t,s){var h=this.get(e);if(h)Array.isArray(h)||(h=[h]);else return this;return this.symbols&&typeof s=="string"&&this.isNumberProperty(e,t)&&(s in this.symbols?s=this.symbols[s]:console.warn(`Can't find symbol ${s}`)),h.forEach(function(S){S.setProperty(t,s)}),this},easeProperty(e,t){var s=this.get(e);if(s)Array.isArray(s)||(s=[s]);else return this;var h=t.value,S=t.property;return this.symbols&&typeof h=="string"&&this.isNumberProperty(e,S)&&h in this.symbols&&(t.value=this.symbols[h]),s.forEach(function(E){E.easeProperty(t)}),this},hasTweenTask(e,t){var s=ur(e)?this.get(e):this.getFitst(e);return s?s.tweens.hasOwnProperty(t):!1},getTweenTask(e,t){var s=ur(e)?this.get(e):this.getFitst(e);return s&&s.tweens[t]||null}},ob={hasMethod(e,t){var s=ur(e)?this.get(e):this.getFitst(e);return s?s.hasMethod(t):!1},call(e,t,...s){var h=this.get(e);if(h)Array.isArray(h)||(h=[h]);else return this;return h.forEach(function(S){S.call(t,...s)}),this}},lb={hasData(e,t){var s=ur(e)?this.get(e):this.getFitst(e);return s?s.hasData(t):!1},getData(e,t){if(this.has(e))return this.get(e).getData(t)},setData(e,t,s){var h=this.get(e);if(h)Array.isArray(h)||(h=[h]);else return this;return h.forEach(function(S){S.setData(t,s)}),this}},QE=0,jE=1,iv=2,qE=3,_E=4,sv=5,ub={tint:QE,alpha:jE,revealUp:iv,revealDown:qE,revealLeft:_E,revealRight:sv},db={setGOFadeMode(e){return typeof e=="string"&&(e=ub[e]),this.fadeMode=e,this},setGOFadeTime(e){return this.fadeTime=e,this},useTintFadeEffect(e){return(this.fadeMode===void 0||this.fadeMode===QE)&&this.fadeTime>0&&e.setTint!==void 0},useAlphaFadeEffect(e){return(this.fadeMode===void 0||this.fadeMode===jE)&&this.fadeTime>0&&e.setAlpha!==void 0},useRevealEffect(e){return this.fadeMode>=iv&&this.fadeMode<=sv&&this.fadeTime>0&&(e.preFX||e.postFX)},fadeBob(e,t,s,h){var S=e.gameObject;if(this.useTintFadeEffect(S))t!==void 0&&e.setProperty("tintGray",255*t),e.easeProperty({property:"tintGray",value:Math.floor(255*s),duration:this.fadeTime,delay:0,ease:"Linear",repeat:0,yoyo:!1,from:!1,complete:h});else if(this.useAlphaFadeEffect(S))t!==void 0&&e.setProperty("alpha",t),e.easeProperty({property:"alpha",value:s,duration:this.fadeTime,delay:0,ease:"Linear",repeat:0,yoyo:!1,from:!1,complete:h});else if(this.useRevealEffect(S)){Ya(S,"reveal");var E;switch(this.fadeMode){case iv:E="revealUp";break;case qE:E="revealDown";break;case _E:E="revealLeft";break;case sv:E="revealRight";break}t===void 0&&(t=0),S[E]=t,e.easeProperty({property:E,value:s,duration:this.fadeTime,delay:0,ease:"Linear",repeat:0,yoyo:!1,from:!1,complete:h}),e.getTweenTask(E).once("complete",function(){S[E]=null})}else h&&h(S);return this}};var wt=r(function(e){return e.displayWidth!==void 0?e.displayWidth:e.width},"GetDisplayWidth"),Mt=r(function(e){return e.displayHeight!==void 0?e.displayHeight:e.height},"GetDisplayHeight");const AS=Phaser.Geom.Rectangle,Di=Phaser.Math.Vector2,fb=Phaser.Math.RotateAround;var Bp=r(function(e,t){if(t===void 0?t=new AS:t===!0&&(vf===void 0&&(vf=new AS),t=vf),e.getBounds)return e.getBounds(t);var s,h,S,E,n,T,i,f;if(e.parentContainer){var y=e.parentContainer.getBoundsTransformMatrix();dr(e,t),y.transformPoint(t.x,t.y,t),s=t.x,h=t.y,zh(e,t),y.transformPoint(t.x,t.y,t),S=t.x,E=t.y,Yh(e,t),y.transformPoint(t.x,t.y,t),n=t.x,T=t.y,rv(e,t),y.transformPoint(t.x,t.y,t),i=t.x,f=t.y}else dr(e,t),s=t.x,h=t.y,zh(e,t),S=t.x,E=t.y,Yh(e,t),n=t.x,T=t.y,rv(e,t),i=t.x,f=t.y;return t.x=Math.min(s,S,n,i),t.y=Math.min(h,E,T,f),t.width=Math.max(s,S,n,i)-t.x,t.height=Math.max(h,E,T,f)-t.y,t},"GetBounds"),vf=void 0,dr=r(function(e,t,s){return t===void 0?t=new Di:t===!0&&(Re===void 0&&(Re=new Di),t=Re),e.getTopLeft?e.getTopLeft(t):(t.x=e.x-wt(e)*e.originX,t.y=e.y-Mt(e)*e.originY,Vo(e,t,s))},"GetTopLeft"),zh=r(function(e,t,s){return t===void 0?t=new Di:t===!0&&(Re===void 0&&(Re=new Di),t=Re),e.getTopRight?e.getTopRight(t):(t.x=e.x-wt(e)*e.originX+wt(e),t.y=e.y-Mt(e)*e.originY,Vo(e,t,s))},"GetTopRight"),Yh=r(function(e,t,s){return t===void 0?t=new Di:t===!0&&(Re===void 0&&(Re=new Di),t=Re),e.getBottomLeft?e.getBottomLeft(t):(t.x=e.x-wt(e)*e.originX,t.y=e.y-Mt(e)*e.originY+Mt(e),Vo(e,t,s))},"GetBottomLeft"),rv=r(function(e,t,s){return t===void 0?t=new Di:t===!0&&(Re===void 0&&(Re=new Di),t=Re),e.getBottomRight?e.getBottomRight(t):(t.x=e.x-wt(e)*e.originX+wt(e),t.y=e.y-Mt(e)*e.originY+Mt(e),Vo(e,t,s))},"GetBottomRight"),LS=r(function(e,t,s){t===void 0?t=new Di:t===!0&&(Re===void 0&&(Re=new Di),t=Re);var h=wt(e),S=Mt(e);return t.x=e.x+h*(.5-e.originX),t.y=e.y+S*(.5-e.originY),Vo(e,t,s)},"GetCenter"),Re=void 0,Vo=r(function(e,t,s){if(s===void 0&&(s=!1),e.rotation!==0&&fb(t,e.x,e.y,e.rotation),s&&e.parentContainer){var h=e.parentContainer.getBoundsTransformMatrix();h.transformPoint(t.x,t.y,t)}return t},"PrepareBoundsOutput");const _a=Phaser.Utils.Objects.GetValue;var tP=r(function(e,t,s){var h,S,E,n,T;if(typeof s=="number"?h=s:(h=_a(s,"color"),S=_a(s,"lineWidth"),E=_a(s,"fillColor"),n=_a(s,"fillAlpha",1),T=_a(s,"padding",0)),Array.isArray(e))for(var i=0,f=e.length;i<f;i++)OS(e[i],t,h,S,E,n,T);else OS(e,t,h,S,E,n,T)},"DrawBounds$2"),OS=r(function(e,t,s,h,S,E,n){var T=e.getBounds||e.width!==void 0&&e.height!==void 0;if(T){s===void 0&&(s=16777215),h===void 0&&(h=1),S===void 0&&(S=null),E===void 0&&(E=1),n===void 0&&(n=0);var i=dr(e,Vr[0]);i.x-=n,i.y-=n;var f=zh(e,Vr[1]);f.x+=n,f.y-=n;var y=rv(e,Vr[2]);y.x+=n,y.y+=n;var c=Yh(e,Vr[3]);c.x-=n,c.y+=n,S!==null&&t.fillStyle(S,E).fillPoints(Vr,!0,!0),s!==null&&t.lineStyle(h,s).strokePoints(Vr,!0,!0)}},"Draw"),Vr=[{x:0,y:0},{x:0,y:0},{x:0,y:0},{x:0,y:0}],cb=r(function(e,t){return this.forEachGO(function(s){s.drawBounds?s.drawBounds(e,t):tP(s,e,t)}),this},"DrawGameObjectsBounds"),eP=r(function(e,t){var s=e.cameras,h;if(t===void 0)h=s.main;else{var S=typeof t;switch(S){case"string":h=s.getCamera(t);break;case"number":h=s.cameras[t];break;default:h=t;break}}return h},"GetCameraByName");const vb={setCamera(e,t){var s=this.get(e);if(!s)return this;var h=eP(this.scene,t);return h?(s.gameObject.cameraFilter=4294967295^h.id,s.camera=h,this):this},getCamera(e){var t=this.get(e);return t?t.camera:null}};var iP={drawGameObjectsBounds:cb};Object.assign(iP,fM,nb,ab,hb,ob,lb,db,vb);const pb=Phaser.Cameras.Scene2D.BaseCamera;var gb=r(function(e){return e instanceof pb},"IsCameraObject");const sP=Phaser.Geom.Rectangle;var ka=r(function(e,t,s){return gb(t)||(s=t,t=void 0),s===void 0?s=new sP:s===!0&&(s=mb),t?e.scale.getViewPort(t,s):e.scale.getViewPort(s)},"GetViewport"),mb=new sP;const Me=Phaser.Utils.Objects.GetValue,o0=class o0{constructor(t,s){this.scene=t,this.BobClass=Me(s,"BobClass",Nh),this.setCreateGameObjectCallback(Me(s,"createGameObject"),Me(s,"createGameObjectScope")),this.setEventEmitter(Me(s,"eventEmitter",void 0)),this.setGameObjectDepth(Me(s,"depth",void 0));var h=Me(s,"fade",500);typeof h=="number"?(this.setGOFadeMode(),this.setGOFadeTime(h)):(this.setGOFadeMode(Me(h,"mode")),this.setGOFadeTime(Me(h,"time",500)));var S=Me(s,"viewportCoordinate",!1);S!==!1?(this.setViewportCoordinateEnable(Me(s,"enable",!0)),this.setViewport(Me(S,"viewport"))):this.setViewportCoordinateEnable(!1);var E=Me(s,"effectProperties",!1);this.setEffectPropertiesConfig(E),this.setSymbols(Me(s,"symbols")),this.bobs={},this.removedGOs=[],this._timeScale=1,this.name=Me(s,"name")}destroy(t){this.clear(!t),this.createGameObjectCallback=void 0,this.viewport=void 0,this.scene=void 0}set timeScale(t){if(this._timeScale!==t){this._timeScale=t;var s=this.bobs;for(var h in s)s[h].setTimeScale(t)}}get timeScale(){return this._timeScale}setTimeScale(t){return this.timeScale=t,this}setCreateGameObjectCallback(t,s){return this.createGameObjectCallback=t,this.createGameObjectScope=s,this}setGameObjectDepth(t){return this.gameObjectDepth=t,this}setViewportCoordinateEnable(t){return t===void 0&&(t=!0),this.viewportCoordinateEnable=t,this}setEffectPropertiesConfig(t){return t===void 0&&(t=!0),this.effectPropertiesConfig=t,this}setViewport(t){return t===void 0&&(t=ka(this.scene,this.scene.cameras.main)),this.viewport=t,this}setSymbols(t){return this.symbols=t,this}get isEmpty(){return Dp(this.bobs)&&this.removedGOs.length===0}};r(o0,"GOManager");let Ds=o0;Object.assign(Ds.prototype,Uo,iP);const xb=Phaser.GameObjects.GameObject;var Be=r(function(e){return e instanceof xb},"IsGameObject");const yb=Phaser.GameObjects.Layer;var Ah=r(function(e){return e instanceof yb},"IsLayerGameObject"),rP=r(function(e){var t=e.displayList;return Ah(t)?t:null},"GetLayer"),ti=r(function(e,t){if(e.length<=1)return e;t===void 0&&(t=!1);for(var s,h=0,S=e.length;h<S;h++){var E=e[h];if(E.displayList?s=E.displayList:E.parentContainer&&(s=E.parentContainer.list),s)break}return s||(s=E.scene.sys.displayList),s.depthSort&&(s.depthSort(),s=s.list),t?e.sort(function(n,T){return s.indexOf(T)-s.indexOf(n)}):e.sort(function(n,T){return s.indexOf(n)-s.indexOf(T)}),e},"SortGameObjectsByDepth");const Sb={getLayer(e){return this.getGO(e)},getLayers(e){return e===void 0&&(e=[]),this.forEachGO(function(t){e.push(t)}),ti(e,!1),e},addToLayer(e,t){var s=this.getGO(e);if(!s){console.warn(`[LayerManager] Can't get layer "${e}"`);return}Array.isArray(t)||(t=[t]);for(var h=0,S=t.length;h<S;h++){var E=t[h];E.isRexContainerLite?E.addToLayer(s):s.add(E)}return s.scrollFactorX!==void 0&&E.setScrollFactor(s.scrollFactorX,s.scrollFactorY),this},removeFromLayer(e,t,s){var h=this.getGO(e);if(!h){console.warn(`[LayerManager] Can't get layer "${e}"`);return}return s===void 0&&(s=!0),t.isRexContainerLite?t.removeFromLayer(h,s):(h.remove(t),s&&t.addToDisplayList()),this},clearLayer(e,t){t===void 0&&(t=!0);var s=this.getGO(e);if(!s){console.warn(`Can't get layer "${e}"`);return}if(t)for(var h=s.getAll(),S=0,E=h.length;S<E;S++)h[S].destroy();else s.removeAll();return this}},Tb={setScrollFactor(e,t,s){s===void 0&&(s=t);var h=this.getLayer(e);if(!h)return this;h.scrollFactorX=t,h.scrollFactorY=s;for(var S=h.getAll(),E=0,n=S.length;E<n;E++)S[E].setScrollFactor(t,s);return this}},Fd=Phaser.Utils.Array,Cb=r(function(){var e;return this.parentContainer?e=this.parentContainer.list:this.displayList&&(e=this.displayList.list),e?(Fd.BringToTop(e,this),this):this},"BringMeToTop"),Eb=r(function(){var e;return this.parentContainer?e=this.parentContainer.list:this.displayList&&(e=this.displayList.list),e?(Fd.SendToBack(e,this),this):this},"SendMeToBack"),nP=r(function(e){var t;return e.parentContainer?(t=e.parentContainer.list,t.indexOf(this)===-1&&e.parentContainer.add(this)):e.displayList&&(t=e.displayList.list,t.indexOf(this)===-1&&e.displayList.add(this)),t?(Fd.MoveBelow(t,this,e),this):this},"MoveMyDepthBelow"),aP=r(function(e){var t;return e.parentContainer?(t=e.parentContainer.list,t.indexOf(this)===-1&&(e.isRexContainerLite?e.addToContainer(e.parentContainer):e.parentContainer.add(e))):e.displayList&&(t=e.displayList.list,t.indexOf(this)===-1&&(e.isRexContainerLite?e.addToLayer(e.displayList):e.displayList.add(e))),t?(Fd.MoveAbove(t,this,e),this):this},"MoveMyDepthAbove"),ul={bringMeToTop:Cb,sendMeToBack:Eb,moveMyDepthBelow:nP,moveMyDepthAbove:aP},Pb={bringLayerToTop(e){var t=this.getLayer(e);return t?(ul.bringMeToTop.call(t),this):this},sendLayerToBack(e){var t=this.getLayer(e);return t?(ul.sendMeToBack.call(t),this):this},moveLayerBelow(e,t){if(e===t)return this;var s=this.getLayer(e),h=this.getLayer(t);return!s||!h?this:(ul.moveMyDepthBelow.call(s,h),this)},moveLayerAbove(e,t){if(e===t)return this;var s=this.getLayer(e),h=this.getLayer(t);return!s||!h?this:(ul.moveMyDepthAbove.call(s,h),this)}},Rb=Ds.prototype.setCamera,Ab={setCamera(e,t){var s=eP(this.scene,t);return s||(s=this.scene.cameras.add(void 0,void 0,void 0,void 0,!1,t)),Rb.call(this,e,s),this}};var hP={};Object.assign(hP,Sb,Tb,Pb,Ab);const dl=Phaser.Utils.Objects.GetValue,l0=class l0 extends Ds{constructor(t,s){s===void 0?s={}:Array.isArray(s)&&(s={layers:s}),s.hasOwnProperty("fade")||(s.fade=0),s.viewportCoordinate=!1,super(t,s);var h=dl(s,"rootLayer");this.setRootLayer(h);var S=dl(s,"layers");if(S)for(var E=0,n=S.length;E<n;E++){var T=S[E];if(typeof T=="string")this.add(T);else{var i=T.name;this.add(i);var f=T.scrollFactor,y=dl(T,"scrollFactorX",f),c=dl(T,"scrollFactorY",f);y!==void 0&&this.setScrollFactor(i,y,c),this.setCamera(i,T.cameraName)}}}setCreateGameObjectCallback(t,s){return t||(t=Lb),super.setCreateGameObjectCallback(t,s),this}setRootLayer(t){if(t===this.rootLayer)return this;var s=this.getAllGO();return t?t.add(s):this.scene.displayList.add(s),this.rootLayer=t,this}addGO(t,s){return super.addGO(t,s),s.name=t,this.rootLayer&&this.rootLayer.add(s),this}get(t,s){if(Be(t)){var h=rP(t);if(!h||(t=h.name,!t))return}return super.get(t,s)}};r(l0,"LayerManager");let da=l0;var Lb=r(function(e,t){var s=e.add.layer();return t!==void 0&&s.setDepth(t),s},"CreateLayer");Object.assign(da.prototype,hP);var Ob=r(function(e){return cr(e)?e.sys.sound:e.sound},"GetSoundManager"),wb=r(function(e){return this.sound.game.cache.audio.has(e)},"HasaAudio"),Ha=r(function(e){return e==null||typeof e!="object"?null:cr(e)?e:e.scene&&cr(e.scene)?e.scene:e.parent&&e.parent.scene&&cr(e.parent.scene)?e.parent.scene:null},"GetSceneObject");const Mb=Phaser.Utils.Objects.GetValue,u0=class u0{constructor(t,s){this.setParent(t),this.isShutdown=!1,this.setEventEmitter(Mb(s,"eventEmitter",!0)),this.parent&&(this.parent===this.scene?this.scene.sys.events.once("shutdown",this.onEnvDestroy,this):this.parent===this.game?this.game.events.once("shutdown",this.onEnvDestroy,this):this.parent.once&&this.parent.once("destroy",this.onParentDestroy,this))}shutdown(t){this.isShutdown||(this.parent&&(this.parent===this.scene?this.scene.sys.events.off("shutdown",this.onEnvDestroy,this):this.parent===this.game?this.game.events.off("shutdown",this.onEnvDestroy,this):this.parent.once&&this.parent.off("destroy",this.onParentDestroy,this)),this.destroyEventEmitter(),this.parent=void 0,this.scene=void 0,this.game=void 0,this.isShutdown=!0)}destroy(t){this.shutdown(t)}onEnvDestroy(){this.destroy(!0)}onParentDestroy(t,s){this.destroy(s)}setParent(t){return this.parent=t,this.scene=Ha(t),this.game=vr(t),this}};r(u0,"ComponentBase");let Gt=u0;Object.assign(Gt.prototype,Uo);const bb=Phaser.Utils.Objects.GetValue,d0=class d0 extends Gt{constructor(t,s){super(t,s),this._isRunning=!1,this.isPaused=!1,this.tickingState=!1,this.setTickingMode(bb(s,"tickingMode",1))}boot(){this.tickingMode===2&&!this.tickingState&&this.startTicking()}shutdown(t){this.isShutdown||(this.stop(),this.tickingState&&this.stopTicking(),super.shutdown(t))}setTickingMode(t){typeof t=="string"&&(t=Ib[t]),this.tickingMode=t}startTicking(){this.tickingState=!0}stopTicking(){this.tickingState=!1}get isRunning(){return this._isRunning}set isRunning(t){this._isRunning!==t&&(this._isRunning=t,this.tickingMode===1&&t!=this.tickingState&&(t?this.startTicking():this.stopTicking()))}start(){return this.isPaused=!1,this.isRunning=!0,this}pause(){return this.isRunning&&(this.isPaused=!0,this.isRunning=!1),this}resume(){return this.isPaused&&(this.isRunning=!0),this}stop(){return this.isPaused=!1,this.isRunning=!1,this}complete(){this.isPaused=!1,this.isRunning=!1,this.emit("complete",this.parent,this)}};r(d0,"TickTask");let fa=d0;const Ib={no:0,lazy:1,always:2},Fb=Phaser.Utils.Objects.GetValue,f0=class f0 extends fa{constructor(t,s){super(t,s);var h=this.scene?"update":"step";this.tickEventName=Fb(s,"tickEventName",h),this.isSceneTicker=!Db(this.tickEventName)}startTicking(){super.startTicking(),this.isSceneTicker?this.scene.sys.events.on(this.tickEventName,this.update,this):this.game.events.on(this.tickEventName,this.update,this)}stopTicking(){super.stopTicking(),this.isSceneTicker&&this.scene?this.scene.sys.events.off(this.tickEventName,this.update,this):this.game&&this.game.events.off(this.tickEventName,this.update,this)}};r(f0,"SceneUpdateTickTask");let nv=f0;var Db=r(function(e){return e==="step"||e==="poststep"},"IsGameUpdateEvent");const zi=Phaser.Utils.Objects.GetValue,wS=Phaser.Math.Clamp;var In;let oP=(In=class{constructor(t){this.resetFromJSON(t)}resetFromJSON(t){this.state=zi(t,"state",th),this.timeScale=zi(t,"timeScale",1),this.delay=zi(t,"delay",0),this.repeat=zi(t,"repeat",0),this.repeatCounter=zi(t,"repeatCounter",0),this.repeatDelay=zi(t,"repeatDelay",0),this.duration=zi(t,"duration",0),this.nowTime=zi(t,"nowTime",0),this.justRestart=zi(t,"justRestart",!1)}toJSON(){return{state:this.state,timeScale:this.timeScale,delay:this.delay,repeat:this.repeat,repeatCounter:this.repeatCounter,repeatDelay:this.repeatDelay,duration:this.duration,nowTime:this.nowTime,justRestart:this.justRestart}}destroy(){}setTimeScale(t){return this.timeScale=t,this}setDelay(t){return t===void 0&&(t=0),this.delay=t,this}setDuration(t){return this.duration=t,this}setRepeat(t){return this.repeat=t,this}setRepeatInfinity(){return this.repeat=-1,this}setRepeatDelay(t){return this.repeatDelay=t,this}start(){return this.nowTime=this.delay>0?-this.delay:0,this.state=this.nowTime>=0?Wr:eh,this.repeatCounter=0,this}stop(){return this.state=th,this}update(t,s){this.state===th||this.state===fl||s===0||this.timeScale===0||(this.nowTime+=s*this.timeScale,this.justRestart=!1,this.nowTime>=this.duration?this.repeat===-1||this.repeatCounter<this.repeat?(this.repeatCounter++,this.justRestart=!0,this.nowTime-=this.duration,this.repeatDelay>0&&(this.nowTime-=this.repeatDelay,this.state=MS)):(this.nowTime=this.duration,this.state=fl):this.nowTime>=0&&(this.state=Wr))}get t(){var t;switch(this.state){case th:case eh:case MS:t=0;break;case Wr:t=this.nowTime/this.duration;break;case fl:t=1;break}return wS(t,0,1)}set t(t){t=wS(t,-1,1),t<0?(this.state=eh,this.nowTime=-this.delay*t):(this.state=Wr,this.nowTime=this.duration*t,t===1&&this.repeat!==0&&this.repeatCounter++)}setT(t){return this.t=t,this}get isIdle(){return this.state===th}get isDelay(){return this.state===eh}get isCountDown(){return this.state===Wr}get isRunning(){return this.state===eh||this.state===Wr}get isDone(){return this.state===fl}get isOddIteration(){return(this.repeatCounter&1)===1}get isEvenIteration(){return(this.repeatCounter&1)===0}},r(In,"Timer"),In);const th=0,eh=1,Wr=2,MS=3,fl=-1,c0=class c0 extends nv{constructor(t,s){super(t,s),this.timer=new oP}shutdown(t){this.isShutdown||(super.shutdown(t),this.timer.destroy(),this.timer=void 0)}start(){return this.timer.start(),super.start(),this}stop(){return this.timer.stop(),super.stop(),this}complete(){return this.timer.stop(),super.complete(),this}};r(c0,"TimerTickTask");let av=c0;const ih=Phaser.Utils.Objects.GetValue,bS=Phaser.Utils.Objects.GetAdvancedValue,Bb=Phaser.Tweens.Builders.GetEaseFunction,v0=class v0 extends av{resetFromJSON(t){return this.timer.resetFromJSON(ih(t,"timer")),this.setEnable(ih(t,"enable",!0)),this.setTarget(ih(t,"target",this.parent)),this.setDelay(bS(t,"delay",0)),this.setDuration(bS(t,"duration",1e3)),this.setEase(ih(t,"ease","Linear")),this.setRepeat(ih(t,"repeat",0)),this}setEnable(t){return t==null&&(t=!0),this.enable=t,this}setTarget(t){return t===void 0&&(t=this.parent),this.target=t,this}setDelay(t){return this.delay=t,this}setDuration(t){return this.duration=t,this}setRepeat(t){return this.repeat=t,this}setRepeatDelay(t){return this.repeatDelay=t,this}setEase(t){return t===void 0&&(t="Linear"),this.ease=t,this.easeFn=Bb(t),this}start(){return this.timer.isRunning?this:(super.start(),this)}restart(){return this.timer.stop(),this.start.apply(this,arguments),this}stop(t){return t===void 0&&(t=!1),super.stop(),t&&(this.timer.setT(1),this.updateTarget(this.target,this.timer),this.complete()),this}update(t,s){if(!this.isRunning||!this.enable||this.parent.hasOwnProperty("active")&&!this.parent.active)return this;var h=this.target,S=this.timer;return S.update(t,s),S.isDelay||this.updateTarget(h,S),this.emit("update",h,this),S.isDone&&this.complete(),this}updateTarget(t,s){}};r(v0,"EaseValueTaskBase");let ss=v0;const Gb=Phaser.Sound.BaseSound;var Gp=r(function(e){return e instanceof Gb},"IsSoundObject");const IS=Phaser.Utils.Objects.GetValue,FS=Phaser.Utils.Objects.GetAdvancedValue,Nb=Phaser.Math.Linear;var Fn;let lP=(Fn=class extends ss{constructor(t,s,h){Gp(t)&&(h=s,s=t,t=void 0),s.active=!0,s.scene=t,s.game=s.manager.game,super(s,h),this.volume={},this.resetFromJSON(h)}resetFromJSON(t){return super.resetFromJSON(t),this.setMode(IS(t,"mode",0)),this.setEnable(IS(t,"enable",!0)),this.setVolumeRange(FS(t,"volume.start",this.parent.volume),FS(t,"volume.end",0)),this}setMode(t){return typeof t=="string"&&(t=Ub[t]),this.mode=t,this}setVolumeRange(t,s){return this.volume.start=t,this.volume.end=s,this}start(){return this.timer.isRunning?this:(this.parent.setVolume(this.volume.start),this.timer.setDelay(this.delay).setDuration(this.duration),super.start(),this)}updateTarget(t,s){t.volume=Nb(this.volume.start,this.volume.end,s.t)}complete(){switch(super.complete(),this.mode){case 1:this.parent.stop();break;case 2:this.parent.stop(),this.parent.destroy();break}return this}},r(Fn,"Fade"),Fn);const Ub={stop:1,destroy:2};var Dd=r(function(e,t,s,h,S){Gp(e)&&(S=h,h=s,s=t,t=e,e=void 0),h===void 0&&(h=1),S===void 0&&(S=0);var E={mode:0,volume:{start:S,end:h},duration:s};typeof t=="string"&&(t=e.sys.sound.add(t));var n;return t.hasOwnProperty("_fade")?(n=t._fade,n.stop().resetFromJSON(E)):(n=new lP(e,t,E),t._fade=n),n.start(),t.isPlaying||t.setVolume(S).play(),t},"FadeIn$1"),ca=r(function(e,t,s,h){Gp(e)&&(h=s,s=t,t=e,e=void 0),h===void 0&&(h=!0);var S={mode:h?2:1,volume:{start:t.volume,end:0},duration:s},E;return t.hasOwnProperty("_fade")?(E=t._fade,E.stop().resetFromJSON(S)):(E=new lP(e,t,S),t._fade=E),E.start(),t.isPlaying||t.play(),t},"FadeOut");const sh=Phaser.Utils.Objects.GetValue,Vb={setBackgroundMusicLoop(e){return e===void 0&&(e=!0),this.backgroundMusicLoop=e,this},setBackgroundMusicFadeTime(e){return this.backgroundMusicFadeTime=e,this},getBackgroundMusic(){return this.backgroundMusic},setCurrentBackgroundMusic(e){return this.backgroundMusic=e,e&&(e.once("complete",function(){this.backgroundMusic===e&&(this.backgroundMusic.destroy(),this.backgroundMusic=void 0)},this).once("destroy",function(){this.backgroundMusic===e&&(this.backgroundMusic=void 0)},this),e.isPlaying||e.play()),this},playBackgroundMusic(e,t){if(!this.hasAudio(e))return console.error(`[Sound manager] Audio key'${e}' is not existed`),this;if(this.backgroundMusic&&this.backgroundMusic.key===e)return this;this.stopBackgroundMusic();var s=this.sound.add(e,{loop:sh(t,"loop",this.backgroundMusicLoop),mute:sh(t,"mute",this.backgroundMusicMute),volume:sh(t,"volume",this.backgroundMusicVolume),detune:sh(t,"detune",0),rate:sh(t,"rate",1)});return this.setCurrentBackgroundMusic(s),this.backgroundMusicFadeTime>0&&this.fadeInBackgroundMusic(this.backgroundMusicFadeTime),this},pauseBackgroundMusic(){return this.backgroundMusic&&this.backgroundMusic.pause(),this},resumeBackgroundMusic(){return this.backgroundMusic&&this.backgroundMusic.resume(),this},stopBackgroundMusic(){return this.backgroundMusic&&(this.backgroundMusicFadeTime>0?this.fadeOutBackgroundMusic(this.backgroundMusicFadeTime,!0):(this.backgroundMusic.stop(),this.backgroundMusic.destroy(),this.backgroundMusic=void 0)),this},fadeInBackgroundMusic(e){return this.backgroundMusic&&Dd(this.backgroundMusic,e,this.backgroundMusicVolume,0),this},fadeOutBackgroundMusic(e,t){return this.backgroundMusic&&ca(this.backgroundMusic,e,t),this},crossFadeBackgroundMusic(e,t){if(!this.hasAudio(e))return console.error(`[Sound manager] Audio key'${e}' is not existed`),this;var s=this.backgroundMusicFadeTime;return this.backgroundMusicFadeTime=0,this.fadeOutBackgroundMusic(t,!0).playBackgroundMusic(e).fadeInBackgroundMusic(t),this.backgroundMusicFadeTime=s,this},setBackgroundMusicMute(e){return e===void 0&&(e=!0),this.backgroundMusicMute=e,this},setBackgroundMusicVolume(e){return this.backgroundMusicVolume=e,this},setBackgroundMusicRate(e){return this.backgroundMusic&&this.backgroundMusic.setRate(e),this},setBackgroundMusicDetune(e){return this.backgroundMusic&&this.backgroundMusic.setDetune(e),this}},rh=Phaser.Utils.Objects.GetValue,Wb={setBackgroundMusic2Loop(e){return e===void 0&&(e=!0),this.backgroundMusic2Loop=e,this},setBackgroundMusic2FadeTime(e){return this.backgroundMusic2FadeTime=e,this},getBackgroundMusic2(){return this.backgroundMusic2},setCurrentBackgroundMusic2(e){return this.backgroundMusic2=e,e&&(e.once("complete",function(){this.backgroundMusic2===e&&(this.backgroundMusic2.destroy(),this.backgroundMusic2=void 0)},this).once("destroy",function(){this.backgroundMusic2===e&&(this.backgroundMusic2=void 0)},this),e.isPlaying||e.play()),this},playBackgroundMusic2(e,t){if(!this.hasAudio(e))return console.error(`[Sound manager] Audio key'${e}' is not existed`),this;if(this.backgroundMusic2&&this.backgroundMusic2.key===e)return this;this.stopBackgroundMusic2();var s=this.sound.add(e,{loop:rh(t,"loop",this.backgroundMusicLoop),mute:rh(t,"mute",this.backgroundMusic2Mute),volume:rh(t,"volume",this.backgroundMusic2Volume),detune:rh(t,"detune",0),rate:rh(t,"rate",1)});return this.setCurrentBackgroundMusic2(s),this.backgroundMusic2FadeTime>0&&this.fadeInBackgroundMusic2(this.backgroundMusic2FadeTime),this},pauseBackgroundMusic2(){return this.backgroundMusic2&&this.backgroundMusic2.pause(),this},resumeBackgroundMusic2(){return this.backgroundMusic2&&this.backgroundMusic2.resume(),this},stopBackgroundMusic2(){return this.backgroundMusic2&&(this.backgroundMusic2FadeTime>0?this.fadeOutBackgroundMusic2(this.backgroundMusic2FadeTime,!0):(this.backgroundMusic2.stop(),this.backgroundMusic2.destroy(),this.backgroundMusic2=void 0)),this},fadeInBackgroundMusic2(e){return this.backgroundMusic2&&Dd(this.backgroundMusic2,e,this.backgroundMusic2Volume,0),this},fadeOutBackgroundMusic2(e,t){return this.backgroundMusic2&&ca(this.backgroundMusic2,e,t),this},crossFadeBackgroundMusic2(e,t){if(!this.hasAudio(e))return console.error(`[Sound manager] Audio key'${e}' is not existed`),this;var s=this.backgroundMusic2FadeTime;return this.backgroundMusic2FadeTime=0,this.fadeOutBackgroundMusic2(t,!0).playBackgroundMusic2(e).fadeInBackgroundMusic2(t),this.backgroundMusic2FadeTime=s,this},setBackgroundMusic2Mute(e){return e===void 0&&(e=!0),this.backgroundMusic2Mute=e,this},setBackgroundMusic2Volume(e){return this.backgroundMusic2Volume=e,this},setBackgroundMusic2Rate(e){return this.backgroundMusic2&&this.backgroundMusic2.setRate(e),this},setBackgroundMusic2Detune(e){return this.backgroundMusic2&&this.backgroundMusic2.setDetune(e),this}},DS=Phaser.Utils.Array.Remove,cl=Phaser.Utils.Objects.GetValue,zb={getSoundEffects(){return this.soundEffects},getLastSoundEffect(){return this.soundEffects[this.soundEffects.length-1]},playSoundEffect(e,t){if(!this.hasAudio(e))return console.error(`[Sound manager] Audio key'${e}' is not existed`),this;var s=this.sound.add(e,{mute:cl(t,"mute",this.soundEffectsMute),volume:cl(t,"volume",this.soundEffectsVolume),detune:cl(t,"detune",0),rate:cl(t,"rate",1)});return this.soundEffects.push(s),s.once("complete",function(){s.destroy(),this.sound&&DS(this.soundEffects,s)},this).once("destroy",function(){this.sound&&DS(this.soundEffects,s)},this).play(),this},stopAllSoundEffects(){for(var e=this.soundEffects.length-1;e>=0;e--){var t=this.soundEffects[e];t.stop(),t.destroy()}return this},fadeInSoundEffect(e){var t=this.getLastSoundEffect();return t&&Dd(t,e,this.soundEffectsVolume,0),this},fadeOutSoundEffect(e,t){var s=this.getLastSoundEffect();return s&&ca(s,e,t),this},fadeOutAllSoundEffects(e,t){for(var s=this.soundEffects.length-1;s>=0;s--)ca(this.soundEffects[s],e,t);return this},setSoundEffectMute(e,t){if(e===void 0&&(e=!0),t===void 0&&(t=!1),t){var s=this.getLastSoundEffect();s&&s.setMute(e)}else this.soundEffectsMute=e;return this},setSoundEffectVolume(e,t){if(t===void 0&&(t=!1),t){var s=this.getLastSoundEffect();s&&s.setVolume(e)}else this.soundEffectsVolume=e;return this},setSoundEffectDetune(e,t){t===void 0&&(t=!1);var s;t?s=[this.getLastSoundEffect()]:s=this.soundEffects;for(var h=0,S=s.length;h<S;h++)s[h].setDetune(e);return this},setSoundEffectRate(e,t){t===void 0&&(t=!1);var s;t?s=[this.getLastSoundEffect()]:s=this.soundEffects;for(var h=0,S=s.length;h<S;h++)s[h].setRate(e);return this}},BS=Phaser.Utils.Array.Remove,vl=Phaser.Utils.Objects.GetValue,Yb={getSoundEffects2(){return this.soundEffects2},getLastSoundEffect2(){return this.soundEffects2[this.soundEffects2.length-1]},playSoundEffect2(e,t){if(!this.hasAudio(e))return console.error(`[Sound manager] Audio key'${e}' is not existed`),this;var s=this.sound.add(e,{mute:vl(t,"mute",this.soundEffects2Mute),volume:vl(t,"volume",this.soundEffects2Volume),detune:vl(t,"detune",0),rate:vl(t,"rate",1)});return this.soundEffects2.push(s),s.once("complete",function(){s.destroy(),this.sound&&BS(this.soundEffects2,s)},this).once("destroy",function(){this.sound&&BS(this.soundEffects2,s)},this).play(),this},stopAllSoundEffects2(){for(var e=this.soundEffects.length-1;e>=0;e--){var t=this.soundEffects[e];t.stop(),t.destroy()}return this},fadeInSoundEffect2(e){var t=this.getLastSoundEffect2();return t&&Dd(t,e,this.soundEffects2Volume,0),this},fadeOutSoundEffect2(e,t){var s=this.getLastSoundEffect2();return s&&ca(s,e,t),this},fadeOutAllSoundEffects2(e,t){for(var s=this.soundEffects2.length-1;s>=0;s--)ca(this.soundEffects2[s],e,t);return this},setSoundEffect2Mute(e,t){if(e===void 0&&(e=!0),t===void 0&&(t=!1),t){var s=this.getLastSoundEffect2();s&&s.setMute(e)}else this.soundEffects2Mute=e;return this},setSoundEffect2Volume(e,t){if(t===void 0&&(t=!1),t){var s=this.getLastSoundEffect2();s&&s.setVolume(e)}else this.soundEffects2Volume=e;return this},setSoundEffect2Detune(e,t){t===void 0&&(t=!1);var s;t?s=[this.getLastSoundEffect2()]:s=this.soundEffects2;for(var h=0,S=s.length;h<S;h++)s[h].setDetune(e);return this},setSoundEffect2Rate(e,t){t===void 0&&(t=!1);var s;t?s=[this.getLastSoundEffect2()]:s=this.soundEffects2;for(var h=0,S=s.length;h<S;h++)s[h].setRate(e);return this}};var uP={hasAudio:wb};Object.assign(uP,Vb,Wb,zb,Yb);const Je=Phaser.Utils.Objects.GetValue,p0=class p0{constructor(t,s){this.sound=Ob(t),this.backgroundMusic=void 0,this._backgroundMusicVolume=Je(s,"bgm.volume",1),this._backgroundMusicMute=Je(s,"bgm.mute",!1),this.setBackgroundMusicLoop(Je(s,"bgm.loop",!0)),this.setBackgroundMusicFadeTime(Je(s,"bgm.fade",500)),this.backgroundMusic2=void 0,this._backgroundMusic2Volume=Je(s,"bgm2.volume",1),this._backgroundMusic2Mute=Je(s,"bgm2.mute",!1),this.setBackgroundMusic2Loop(Je(s,"bgm2.loop",!0)),this.setBackgroundMusic2FadeTime(Je(s,"bgm2.fade",500)),this.soundEffects=[],this._soundEffectsVolume=Je(s,"soundEffect.volume",1),this.soundEffects2=[],this._soundEffects2Volume=Je(s,"soundEffect2.volume",1);var h=Je(s,"bgm.initial",void 0);h&&this.setCurrentBackgroundMusic(h);var S=Je(s,"bgm2.initial",void 0);S&&this.setCurrentBackgroundMusic2(S)}destroy(){if(this.backgroundMusic&&this.backgroundMusic.destroy(),this.backgroundMusic=void 0,this.backgroundMusic2&&this.backgroundMusic2.destroy(),this.backgroundMusic2=void 0,this.soundEffects.length)for(var t=this.soundEffects.length-1;t>=0;t--)this.soundEffects[t].destroy();if(this.soundEffects.length=0,this.soundEffects2.length)for(var t=this.soundEffects2.length-1;t>=0;t--)this.soundEffects2[t].destroy();return this.soundEffects2.length=0,this.sound=void 0,this}get backgroundMusicMute(){return this._backgroundMusicMute}set backgroundMusicMute(t){this._backgroundMusicMute=t,this.backgroundMusic&&this.backgroundMusic.setMute(mute)}get backgroundMusicVolume(){return this._backgroundMusicVolume}set backgroundMusicVolume(t){this._backgroundMusicVolume=t,this.backgroundMusic&&this.backgroundMusic.setVolume(t)}get backgroundMusic2Mute(){return this._backgroundMusic2Mute}set backgroundMusic2Mute(t){this._backgroundMusic2Mute=t,this.backgroundMusic2&&this.backgroundMusic2.setMute(mute)}get backgroundMusic2Volume(){return this._backgroundMusic2Volume}set backgroundMusic2Volume(t){this._backgroundMusic2Volume=t,this.backgroundMusic2&&this.backgroundMusic2.setVolume(t)}get soundEffectsMute(){return this._soundEffectsMute}set soundEffectsMute(t){this._soundEffectsMute=t;for(var s=this.soundEffects,h=0,S=s.length;h<S;h++)s[h].setMute(t)}get soundEffectsVolume(){return this._soundEffectsVolume}set soundEffectsVolume(t){this._soundEffectsVolume=t;for(var s=this.soundEffects,h=0,S=s.length;h<S;h++)s[h].setVolume(t)}get soundEffects2Mute(){return this._soundEffects2Mute}set soundEffects2Mute(t){this._soundEffects2Mute=t;for(var s=this.soundEffects,h=0,S=soundEffects2.length;h<S;h++)s[h].setMute(t)}get soundEffects2Volume(){return this._soundEffects2Volume}set soundEffects2Volume(t){this._soundEffects2Volume=t;for(var s=this.soundEffects2,h=0,S=s.length;h<S;h++)s[h].setVolume(t)}};r(p0,"SoundManager");let Eu=p0;Object.assign(Eu.prototype,uP);const pf=Phaser.Utils.Objects.GetValue,g0=class g0 extends fa{constructor(t,s){super(t,s),this.resetFromJSON(s),this.boot()}resetFromJSON(t){return this.isRunning=pf(t,"isRunning",!1),this.timeScale=pf(t,"timeScale",1),this.now=pf(t,"now",0),this}toJSON(){return{isRunning:this.isRunning,timeScale:this.timeScale,now:this.now,tickingMode:this.tickingMode}}start(t){return t===void 0&&(t=0),this.delta=0,this.now=t,super.start(),this}seek(t){return this.now=t,this}setTimeScale(t){return this.timeScale=t,this}tick(t){return t*=this.timeScale,this.now+=t,this.delta=t,this.emit("update",this.now,this.delta),this}};r(g0,"BaseClock");let hv=g0;const m0=class m0 extends hv{startTicking(){super.startTicking(),this.scene.sys.events.on("update",this.update,this)}stopTicking(){super.stopTicking(),this.scene&&this.scene.sys.events.off("update",this.update,this)}update(t,s){return!this.isRunning||this.timeScale===0?this:(this.tick(s),this)}};r(m0,"Clock");let Pu=m0;var It=r(function(e,t){return t===void 0&&(t=.5),e<=t?e=e/t:e=1-(e-t)/(1-t),e},"Yoyo$1");const GS=Phaser.Math.Clamp,x0=class x0{constructor(t,s){this.setTimeline(t).reset(s)}setTimeline(t){return this.timeline=t,this}setName(t){return this.name=t,this}setCallbacks(t,s,h,S){return this.target=t,this.onStart=s,this.onProgress=h,this.onComplete=S,this}setDuration(t,s){return s===void 0&&(s=!1),this.duration=t,this.remainder=t,this.t=0,this.yoyo=s,this}setPaused(t){return this.isPaused=t,this}pause(){return this.isPaused=!0,this}resume(){return this.isPaused=!1,this}setRemoved(t){return this.removed=t,this}remove(){return this.removed=!0,this}seek(t){return this.remainder=this.duration*(1-t),this}reset(t){return this.setName(t.name).setDuration(t.duration,t.yoyo).setCallbacks(t.target,t.onStart,t.onProgress,t.onComplete).setPaused(!1).setRemoved(!1),this}onFree(){this.setTimeline().setCallbacks()}getProgress(){var t=1-this.remainder/this.duration;return t=GS(t,0,1),this.yoyo&&(t=It(t)),t}setProgress(t){t=GS(t,0,1),this.remainder=this.duration*(1-t)}runCallback(t){t&&t(this.target,this.t,this)}update(t,s){if(this.removed)return!0;if(this.isPaused)return!1;this.remainder-=s,this.t=this.getProgress(),this.runCallback(this.onProgress);var h=this.remainder<=0;return h&&this.runCallback(this.onComplete),h}};r(x0,"Timer");let ov=x0;var Dn;let kb=(Dn=class extends ei{allocate(){return this.pop()}free(t){t.onFree(),this.push(t)}freeMultiple(t){for(var s=0,h=t.length;s<h;s++)this.free(t[s]);return this}},r(Dn,"TimerPool"),Dn);const Hb=Phaser.Utils.Objects.GetValue,Xb=new kb,y0=class y0 extends Pu{constructor(t,s){super(t,s),this.addedTimers=[],this.timers=[],this.timerPool=Hb(s,"pool",Xb)}shutdown(){this.isShutdown||(this.timerPool.freeMultiple(this.addedTimers).freeMultiple(this.timers),this.timerPool=void 0,this.addedTimers=void 0,this.timers=void 0,super.shutdown())}addTimer(t){var s=this.timerPool.allocate();return s?s.setTimeline(this).reset(t):s=new ov(this,t),this.addedTimers.push(s),s.runCallback(s.onStart),this.isRunning||this.start(),s}delayCall(t,s,h,S){var E=this.addTimer({duration:t,onComplete:r(function(n,T,i){h===void 0&&(h=[]),h.push(i),s.apply(S,h)},"onComplete")});return E}delayEvent(t,s){this.removeDelayEvent(s);var h=this.delayCall(t,function(){this.removeDelayEvent(s),this.emit(s)},[],this);return this.once(`_remove.${s}`,function(){h.remove(),h=void 0}),this}removeDelayEvent(t){return this.emit(`_remove.${t}`),this}getTimers(t){for(var s=[],h=[this.addedTimers,this.timers],S=0,E=h.length;S<E;S++)for(var n=h[S],T=0,i=n.length;T<i;T++){var f=n[T];f.name===t&&s.push(f)}return s}update(t,s){if(super.update(t,s),!!this.isRunning){this.timers.push(...this.addedTimers),this.addedTimers.length=0;for(var h=[],S=0,E=this.timers.length;S<E;S++){var n=this.timers[S],T=n.update(this.now,this.delta);T?this.timerPool.free(n):h.push(n)}this.timers=h,this.timers.length===0&&this.addedTimers.length===0&&this.complete()}}};r(y0,"Timeline");let lv=y0;const $b="_wait.complete",Kb="_remove.wait";var Zb=r(function(e,t,s,h,S){var E=Ha(e),n=E.time.delayedCall(t,function(){E.sys.events.once("preupdate",function(){s.call(h,S)})});return n},"PreUpdateDelayCall"),Bn;let dP=(Bn=class{constructor(t){t||(this.setEventEmitter(!0),t=this),this.parent=t,this.waitId=0,this.waitCompleteEventName=$b,this.removeWaitEventsEventName=Kb}destroy(){this.removeWaitEvents(),this.clearWaitCompleteCallbacks(),this.parent=null}waitEvent(t,s,h){var S=this.getWaitCompleteTriggerCallback(h);return t.once(s,S,this),this.parent.once(this.removeWaitEventsEventName,function(){t.off(s,S,this)}),this.parent}getWaitCompleteTriggerCallback(t){t===void 0&&(t=!0);var s=this.waitId,h=this,S=r(function(){s<h.waitId||(h.waitId++,h.removeWaitEvents(),h.parent.emit(h.waitCompleteEventName))},"completeCallback");if(t){var E=r(function(){Zb(h.parent,0,S)},"completeCallbackNextTick");return E}else return S}removeWaitEvents(){return this.parent.emit(this.removeWaitEventsEventName),this}addWaitCompleteCallback(t,s){return this.parent.on(this.waitCompleteEventName,t,s),this}clearWaitCompleteCallbacks(){return this.parent.off(this.waitCompleteEventName),this}},r(Bn,"WaitEvent"),Bn);Object.assign(dP.prototype,Uo);const Jb={waitTime(e){var t=this.parent.timeline;return t.delayEvent(e,"delay"),this.parent.once(this.removeWaitEventsEventName,function(){t.removeDelayEvent("delay")}),this.waitEvent(t,"delay")}};var Qb=r(function(e,t){var s=`(?<!\\\\)\\${t}`,h=`\\${t}`;return e.split(new RegExp(s,"g")).map(function(S){return S.replace(h,t)})},"Split");const jb={setClickTarget(e){return this.clickTarget=e,e?cr(e)?this.touchEE=e.input:this.touchEE=e.setInteractive():this.touchEE=null,this},clearClickTarget(){return this.setClickTarget(),this},setClickShortcutKeys(e){return this.clickShortcutKeys=e,this},clearClickShortcutKeys(){return this.setShortcutKeys(),this},waitClick(){var e=this.touchEE,t=this.clickShortcutKeys;return e||t?(e&&this.waitEvent(e,"pointerdown"),t&&this.waitKeyDown(t)):this.waitTime(0),this},waitKeyDown(e){var t=this.scene.input.keyboard;if(typeof e=="string"){if(e.indexOf("|")===-1)return this.waitEvent(t,`keydown-${e.toUpperCase()}`);for(var s=Qb(e,"|"),h=0,S=s.length;h<S;h++)this.waitEvent(t,`keydown-${s[h].toUpperCase()}`);return this.parent}else return this.waitEvent(t,"keydown")}},qb={waitGameObjectTweenComplete(e,t,s){var h=this.parent.getGameObjectTweenTask(e,t,s);return h?this.waitEvent(h,"complete"):this.waitTime(0)},waitGameObjectDataFlag(e,t,s,h){var S=this.parent.getGameObject(e,t);if(!S)return this.waitTime(0);if(S.getData(s)===h)return this.waitTime(0);var E=`changedata-${s}`,n=r(function(T,i,f){i=!!i,i===h&&T.emit("_dataFlagMatch")},"callback");return S.on(E,n),this.parent.once(this.removeWaitEventsEventName,function(){S.off(E,n)}),this.waitEvent(S,"_dataFlagMatch")},waitGameObjectDestroy(e,t){var s=this.parent.getGameObject(e,t);return s?this.waitEvent(s,"destroy"):this.waitTime(0)},waitGameObjectManagerEmpty(e){if(e){var t=this.parent.getGameObjectManager(e);return t?this.waitEvent(t,"empty"):this.waitTime(0)}else{var s=this.parent.gameObjectManagers,h=!1;for(var S in s)h=!0,this.waitEvent(s[S],"empty");return h?this.parent:this.waitTime(0)}}},_b={setCameraTarget(e){return this.cameraTarget=e,this},clearCameraTarget(){return this.setCameraTarget(),this},waitCameraEffectComplete(e,t){var s;if(t?s=this.scene.cameras.getCamera(t):s=this.cameraTarget,!s)return this.waitTime(0);var h,S;switch(e){case"camera.fadein":h=s.fadeEffect,S="camerafadeincomplete";break;case"camera.fadeout":h=s.fadeEffect,S="camerafadeoutcomplete";break;case"camera.flash":h=s.flashEffect,S="cameraflashcomplete";break;case"camera.shake":h=s.shakeEffect,S="camerashakecomplete";break;case"camera.zoom":h=s.zoomEffect,S="camerazoomcomplete";break;case"camera.rotate":h=s.rotateToEffect,S="camerarotatecomplete";break;case"camera.scroll":h=s.panEffect,S="camerapancomplete";break}return h.isRunning?this.waitEvent(s,S):this.waitTime(0)}},tI={waitSoundEffectComplete(){if(!this.parent.soundManager)return this.waitTime(0);var e=this.parent.soundManager.getLastSoundEffect();return e?this.waitEvent(e,"complete"):this.waitTime(0)},waitSoundEffect2Complete(){if(!this.parent.soundManager)return this.waitTime(0);var e=this.parent.soundManager.getLastSoundEffect2();return e?this.waitEvent(e,"complete"):this.waitTime(0)},waitBackgroundMusicComplete(){if(!this.parent.soundManager)return this.waitTime(0);var e=this.parent.soundManager.getBackgroundMusic();return e?this.waitEvent(e,"complete"):this.waitTime(0)},waitBackgroundMusic2Complete(){if(!this.parent.soundManager)return this.waitTime(0);var e=this.parent.soundManager.getBackgroundMusic2();return e?this.waitEvent(e,"complete"):this.waitTime(0)}};var eI=r(function(e){if(!e)return this.waitTime(0);var t=!1;for(var s in e)switch(s){case"time":t=!0,this.waitTime(e.time);break;case"click":t=!0,this.waitClick();break;case"key":t=!0,this.waitKeyDown(e.key);break;case"bgm":t=!0,this.waitBackgroundMusicComplete();break;case"bgm2":t=!0,this.waitBackgroundMusic2Complete();break;case"se":t=!0,this.waitSoundEffectComplete();break;case"se2":t=!0,this.waitSoundEffect2Complete();break;case"camera":t=!0,this.waitCameraEffectComplete(`camera.${e.camera.toLowerCase()}`,e.cameraName);break;default:var h=s.split(".");if(h.length===2){var S=h[0],E=h[1],n=this.parent.getGameObjectManager(void 0,S);if(!n)continue;if(E==="destroy")return this.waitGameObjectDestroy(void 0,S);var T=n.getProperty(S,E);if(typeof T=="number"){t=!0,this.waitGameObjectTweenComplete(void 0,S,E);continue}var i=E,f=i.startsWith("!");if(f&&(i=i.substring(1)),n.hasData(S,E)){t=!0,this.waitGameObjectDataFlag(void 0,S,i,!f);continue}this.waitEvent(gameObject,E);continue}else h.length;break}return t||this.waitTime(0),this.parent},"WaitAny$1"),fP={waitAny:eI};Object.assign(fP,Jb,jb,qb,_b,tI);const S0=class S0 extends dP{constructor(t,s){super(t),this.waitCompleteEventName=Lt(s,"completeEventName",this.waitCompleteEventName),this.setClickTarget(Lt(s,"clickTarget",this.scene)),this.setClickShortcutKeys(Lt(s,"clickShortcutKeys",void 0)),this.setCameraTarget(Lt(s,"camera",this.scene.cameras.main))}get clickTarget(){return this.parent.clickTarget}set clickTarget(t){this.parent.clickTarget=t}get clickShortcutKeys(){return this.parent.clickShortcutKeys}set clickShortcutKeys(t){this.parent.clickShortcutKeys=t}get cameraTarget(){return this.parent.cameraTarget}set cameraTarget(t){this.parent.cameraTarget=t}destroy(){this.clearClickTarget(),this.clearClickShortcutKeys(),this.clearCameraTarget(),super.destroy()}get scene(){return this.parent.managersScene}};r(S0,"WaitEventManager");let Ru=S0;Object.assign(Ru.prototype,fP);const pl=Phaser.Utils.Objects.GetValue;var iI=r(function(e,t){this.clickTarget=void 0,this.clickShortcutKeys=void 0,this.cameraTarget=void 0,this.managersScene=e,this.gameObjectManagers={};var s=pl(t,"layers",!1);if(s!==!1){var h=new da(e,{name:"LAYER",layers:s,rootLayer:pl(t,"rootLayer",void 0),depth:pl(t,"layerDepth",void 0)});this.addGameObjectManager(h),this.layerManager=h}var S=pl(t,"sounds");return S!==!1&&(this.soundManager=new Eu(e,S)),this.timeline=new lv(this),this.waitEventManager=new Ru(this,t),this},"InitManagers"),sI=r(function(e){this.timeline.timeScale=e;for(var t in this.gameObjectManagers)this.gameObjectManagers[t].setTimeScale(e);return this},"SetTimeScale"),rI=r(function(){return this.timeline.timeScale},"GetTimeScale"),nI=r(function(e){this.waitEventManager.destroy(),this.waitEventManager=void 0,delete this.gameObjectManagers.layer;for(var t in this.gameObjectManagers)this.gameObjectManagers[t].destroy(e),delete this.gameObjectManagers[t];this.layerManager&&(this.layerManager.destroy(e),this.layerManager=void 0),this.soundManager&&(this.soundManager.destroy(),this.soundManager=void 0),this.timeline&&(this.timeline.destroy(),this.timeline=void 0),this.clickTarget=void 0,this.clickShortcutKeys=void 0,this.cameraTarget=void 0,this.managersScene=void 0},"DestroyManagers");const cP={addGameObjectManager(e,t){var s;return e instanceof Ds?s=e:typeof e=="string"?(s=t,s.name=e):(e===void 0&&(e={}),t===void 0&&(t=Ds),e.createGameObjectScope||(e.createGameObjectScope=this),s=new t(this.managersScene,e)),this.gameObjectManagers[s.name]=s,this},getGameObjectManager(e,t){if(e){var s=this.gameObjectManagers[e];return s}else{t&&t.charAt(0)==="!"&&(t=t.substring(1));for(var e in this.gameObjectManagers){var s=this.gameObjectManagers[e];if(s.has(t))return s}}},getGameObjectManagerNames(){var e=[];for(var t in this.gameObjectManagers)e.push(t);return e},getGameObjectManagerName(e){var t=this.getGameObjectManager(void 0,e);if(t)return t.name},hasGameObjectMananger(e){return e in this.gameObjectManagers}},aI={createGameObject(e,t,...s){return this.getGameObjectManager(e,t).add(t,...s),this},destroyGameObject(e,t){var s=this.getGameObjectManager(e,t);return t===void 0?s.removeAll():s.remove(t),this},hasGameObject(e,t){return!!this.getGameObjectManager(e,t)},callGameObjectMethod(e,t,s,...h){return this.getGameObjectManager(e,t).call(t,s,...h),this},setGameObjectProperty(e,t,s,h){return this.getGameObjectManager(e,t).setProperty(t,s,h),this},easeGameObjectProperty(e,t,s){return this.getGameObjectManager(e,t).easeProperty(t,s),this},getGameObjectTweenTask(e,t,s){return this.getGameObjectManager(e,t).getTweenTask(t,s)},getGameObject(e,t,s){var h=this.getGameObjectManager(e,t);if(!h)return s;if(typeof t=="string")return h.getGO(t);s===void 0&&(s=[]);var S=t;S===void 0&&(S=Object.keys(h.bobs));for(var E=Array.isArray(s),n=0,T=S.length;n<T;n++){t=S[n];var i=h.getGO(t);i&&(E?s.push(i):s[t]=i)}return s},addGameObject(e,t,s){var h=this.getGameObjectManager(e,t);if(typeof t=="string")h.addGO(t,s);else{var S=t;for(t in S)h.addGO(t,S[t])}return this},drawGameObjectsBounds(e,t,s){e instanceof Phaser.GameObjects.Graphics&&(s=t,t=e,e=void 0),e===void 0&&(e=this.getGameObjectManagerNames()),Array.isArray(e)||(e=[e]);for(var h=0,S=e.length;h<S;h++)this.getGameObjectManager(e[h]).drawGameObjectsBounds(t,s);return this}};var hI=r(function(e){const h=class h extends e{};r(h,"Managers");let t=h;var s={initManagers:iI,setTimeScale:sI,getTimeScale:rI,destroyManagers:nI};return Object.assign(t.prototype,s,cP,aI),t},"Extend"),vP={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,s="~";function h(){}r(h,"Events"),Object.create&&(h.prototype=Object.create(null),new h().__proto__||(s=!1));function S(i,f,y){this.fn=i,this.context=f,this.once=y||!1}r(S,"EE");function E(i,f,y,c,o){if(typeof y!="function")throw new TypeError("The listener must be a function");var l=new S(y,c||i,o),a=s?s+f:f;return i._events[a]?i._events[a].fn?i._events[a]=[i._events[a],l]:i._events[a].push(l):(i._events[a]=l,i._eventsCount++),i}r(E,"addListener");function n(i,f){--i._eventsCount===0?i._events=new h:delete i._events[f]}r(n,"clearEvent");function T(){this._events=new h,this._eventsCount=0}r(T,"EventEmitter"),T.prototype.eventNames=r(function(){var f=[],y,c;if(this._eventsCount===0)return f;for(c in y=this._events)t.call(y,c)&&f.push(s?c.slice(1):c);return Object.getOwnPropertySymbols?f.concat(Object.getOwnPropertySymbols(y)):f},"eventNames"),T.prototype.listeners=r(function(f){var y=s?s+f:f,c=this._events[y];if(!c)return[];if(c.fn)return[c.fn];for(var o=0,l=c.length,a=new Array(l);o<l;o++)a[o]=c[o].fn;return a},"listeners"),T.prototype.listenerCount=r(function(f){var y=s?s+f:f,c=this._events[y];return c?c.fn?1:c.length:0},"listenerCount"),T.prototype.emit=r(function(f,y,c,o,l,a){var u=s?s+f:f;if(!this._events[u])return!1;var v=this._events[u],d=arguments.length,p,g;if(v.fn){switch(v.once&&this.removeListener(f,v.fn,void 0,!0),d){case 1:return v.fn.call(v.context),!0;case 2:return v.fn.call(v.context,y),!0;case 3:return v.fn.call(v.context,y,c),!0;case 4:return v.fn.call(v.context,y,c,o),!0;case 5:return v.fn.call(v.context,y,c,o,l),!0;case 6:return v.fn.call(v.context,y,c,o,l,a),!0}for(g=1,p=new Array(d-1);g<d;g++)p[g-1]=arguments[g];v.fn.apply(v.context,p)}else{var m=v.length,x;for(g=0;g<m;g++)switch(v[g].once&&this.removeListener(f,v[g].fn,void 0,!0),d){case 1:v[g].fn.call(v[g].context);break;case 2:v[g].fn.call(v[g].context,y);break;case 3:v[g].fn.call(v[g].context,y,c);break;case 4:v[g].fn.call(v[g].context,y,c,o);break;default:if(!p)for(x=1,p=new Array(d-1);x<d;x++)p[x-1]=arguments[x];v[g].fn.apply(v[g].context,p)}}return!0},"emit"),T.prototype.on=r(function(f,y,c){return E(this,f,y,c,!1)},"on"),T.prototype.once=r(function(f,y,c){return E(this,f,y,c,!0)},"once"),T.prototype.removeListener=r(function(f,y,c,o){var l=s?s+f:f;if(!this._events[l])return this;if(!y)return n(this,l),this;var a=this._events[l];if(a.fn)a.fn===y&&(!o||a.once)&&(!c||a.context===c)&&n(this,l);else{for(var u=0,v=[],d=a.length;u<d;u++)(a[u].fn!==y||o&&!a[u].once||c&&a[u].context!==c)&&v.push(a[u]);v.length?this._events[l]=v.length===1?v[0]:v:n(this,l)}return this},"removeListener"),T.prototype.removeAllListeners=r(function(f){var y;return f?(y=s?s+f:f,this._events[y]&&n(this,y)):(this._events=new h,this._eventsCount=0),this},"removeAllListeners"),T.prototype.off=T.prototype.removeListener,T.prototype.addListener=T.prototype.on,T.prefixed=s,T.EventEmitter=T,e.exports=T})(vP);var oI=vP.exports;const lI=Od(oI);var Gn;let pP=(Gn=class extends lI{shutdown(){this.removeAllListeners()}destroy(){this.removeAllListeners()}},r(Gn,"EventEmitter"),Gn);const gP={setEventEmitter(e,t){return t===void 0&&(t=pP),this._privateEE=e===!0||e===void 0,this._eventEmitter=this._privateEE?new t:e,this},destroyEventEmitter(){return this._eventEmitter&&this._privateEE&&this._eventEmitter.shutdown(),this},getEventEmitter(){return this._eventEmitter},on:r(function(){return this._eventEmitter&&this._eventEmitter.on.apply(this._eventEmitter,arguments),this},"on"),once:r(function(){return this._eventEmitter&&this._eventEmitter.once.apply(this._eventEmitter,arguments),this},"once"),off:r(function(){return this._eventEmitter&&this._eventEmitter.off.apply(this._eventEmitter,arguments),this},"off"),emit:r(function(e){return this._eventEmitter&&e&&this._eventEmitter.emit.apply(this._eventEmitter,arguments),this},"emit"),addListener:r(function(){return this._eventEmitter&&this._eventEmitter.addListener.apply(this._eventEmitter,arguments),this},"addListener"),removeListener:r(function(){return this._eventEmitter&&this._eventEmitter.removeListener.apply(this._eventEmitter,arguments),this},"removeListener"),removeAllListeners:r(function(){return this._eventEmitter&&this._eventEmitter.removeAllListeners.apply(this._eventEmitter,arguments),this},"removeAllListeners"),listenerCount:r(function(){return this._eventEmitter?this._eventEmitter.listenerCount.apply(this._eventEmitter,arguments):0},"listenerCount"),listeners:r(function(){return this._eventEmitter?this._eventEmitter.listeners.apply(this._eventEmitter,arguments):[]},"listeners"),eventNames:r(function(){return this._eventEmitter?this._eventEmitter.eventNames.apply(this._eventEmitter,arguments):[]},"eventNames")};var uI=/^\s*-?(\d*\.?\d+|\d+\.?\d*)(e[-+]?\d+)?\s*$/i,dI=/^0x[0-9A-F]+$/i,Np=r(function(e){if(typeof e!="string")return e;if(e==="")e=null;else if(uI.test(e))e=parseFloat(e);else if(dI.test(e))e=parseInt(e,16);else switch(e){case"false":e=!1;break;case"true":e=!0;break;case"null":e=null;break;case"undefined":e=void 0;break}return e},"TypeConvert"),Nn;let mP=(Nn=class{constructor(t){this.setEventEmitter(Lt(t,"eventEmitter",void 0)),this.setValueConverter(Lt(t,"valueConvert",!0)),this.setLoopEnable(Lt(t,"loop",!1)),this.setMultipleLinesTagEnable(Lt(t,"multipleLinesTag",!1));var s=Lt(t,"delimiters","<>");this.setDelimiters(s[0],s[1]),this.setTranslateTagNameCallback(Lt(t,"translateTagNameCallback")),this.isRunning=!1,this.isPaused=!1,this.skipEventFlag=!1,this.justCompleted=!1,this.lastTagStart=null,this.lastTagEnd=null,this.lastContent=null}shutdown(){this.destroyEventEmitter()}destroy(){this.shutdown()}setMultipleLinesTagEnable(t){return t===void 0&&(t=!0),this.multipleLinesTagEnable=t,this}setDelimiters(t,s){s===void 0&&(s=t[1],t=t[0]),this.delimiterLeft=t,this.delimiterRight=s,t=la(this.delimiterLeft),s=la(this.delimiterRight);var h=this.multipleLinesTagEnable?"gs":"gi";return this.reSplit=RegExp(`${t}(.+?)${s}`,h),this}setTranslateTagNameCallback(t){return this.translateTagNameCallback=t,this}setValueConverter(t){return t===!0?t=Np:t||(t=fI),this.valueConverter=t,this}setLoopEnable(t){return t===void 0&&(t=!0),this.loopEnable=t,this}setSource(t){return this.source=t,this}resetIndex(t){return t===void 0&&(t=0),this.progressIndex=t,this.reSplit.lastIndex=t,this.lastTagStart=null,this.lastTagEnd=null,this.lastContent=null,this.justCompleted=!1,this.isRunning=!1,this}start(t){return this.setSource(t).restart(),this}restart(){this.resetIndex().next()}next(){if(this.isPaused&&this.onResume(),this.isRunning)return this;if(this.isRunning=!0,this.justCompleted)return this.isRunning=!1,this;this.reSplit.lastIndex===0&&this.onStart();var t=this.source,s=t.length;for(this.reSplit.lastIndex=this.progressIndex;;){var h=this.reSplit.exec(t);if(!h){if(this.progressIndex<s&&(this.onContent(t.substring(this.progressIndex,s)),this.isPaused)){this.progressIndex=s;break}this.onComplete(),this.isRunning=!1;return}var S=this.reSplit.lastIndex,E=S-h[0].length;if(this.progressIndex<E&&(this.onContent(t.substring(this.progressIndex,E)),this.isPaused)){this.progressIndex=E;break}if(this.lastTagSource=h[0],this.onTag(h[1]),this.lastTagSource=void 0,this.progressIndex=S,this.isPaused)break}return this.isRunning=!1,this}skipEvent(){return this.skipEventFlag=!0,this}pause(){return this.isPaused||this.onPause(),this}pauseUntilEvent(t,s){return this.isPaused?this:(this.pause(),t.once(s,function(){this.next()},this),this)}onContent(t){this.skipEventFlag=!1,this.emit("content",t),this.lastContent=t}onTag(t){}onStart(){this.isRunning=!0,this.emit("start",this)}onComplete(){this.isRunning=!1,this.justCompleted=!0,this.emit("complete",this),this.loopEnable&&this.resetIndex()}onPause(){this.isPaused=!0,this.emit("pause",this)}onResume(){this.isPaused=!1,this.emit("resume",this)}},r(Nn,"BracketParser"),Nn);const fI=r(function(e){return e},"BypassValueConverter");Object.assign(mP.prototype,gP);var cI=r(function(e,t,s){if(e==null)return[];t===void 0&&(t=Np),s===void 0&&(s=",");for(var h=e.split(s),S=0,E=h.length;S<E;S++)h[S]=t(h[S]);return h},"StringToValues");const T0=class T0 extends mP{constructor(t){t===void 0&&(t={}),t.hasOwnProperty("multipleLinesTag")||(t.multipleLinesTag=!1),super(t),this.setTagExpression(Lt(t,"regex.tag",void 0)),this.setValueExpression(Lt(t,"regex.value",void 0));var s=Lt(t,"delimiters","<>");this.setDelimiters(s[0],s[1])}setTagExpression(t){return t||(t=gl),this.tagExpression=t,this}setValueExpression(t){return t||(t=gl),this.valueExpression=t,this}setDelimiters(t,s){super.setDelimiters(t,s);var h=`(${this.tagExpression})(=(${this.valueExpression}))?`;if(this.reTag=RegExp(h,"i"),this.tagExpression!==gl||this.valueExpression!==gl){var S=`${this.tagExpression}(=${this.valueExpression})?`,E=`/${this.tagExpression}`;t=la(this.delimiterLeft),s=la(this.delimiterRight);var n=this.multipleLinesTagEnable?"gs":"gi";this.reSplit=RegExp(`${t}((${S})|(${E}))${s}`,n)}return this}onTag(t){var s=t.match(this.reTag),h=s[1],S=h.charAt(0)==="/";if(S&&(h=h.substring(1,h.length)),this.translateTagNameCallback&&(h=this.translateTagNameCallback(h)),this.skipEventFlag=!1,S)this.emit(`-${h}`),this.skipEventFlag||this.emit("-",h),this.lastTagEnd=h;else{var E=cI(s[3],this.valueConverter);this.emit(`+${h}`,...E),this.skipEventFlag||this.emit("+",h,...E),this.lastTagStart=h}}};r(T0,"BracketParser");let uv=T0;const gl="[^=]+";var vI=r(function(e,t,s){var h="color",S;t.on("start",function(){S=e.textStyle.color}).on(`+${h}`,function(E){e.textStyle.setColor(E),t.skipEvent()}).on(`-${h}`,function(){e.textStyle.setColor(S),t.skipEvent()}).on("complete",function(){e.textStyle.setColor(S)})},"OnParseColorTag"),pI=r(function(e,t,s){var h="stroke",S;t.on("start",function(){S=e.textStyle.stroke,e.textStyle.setStrokeStyle(null)}).on(`+${h}`,function(E){E===void 0&&(E=S),e.textStyle.setStrokeStyle(E),t.skipEvent()}).on(`-${h}`,function(){e.textStyle.setStrokeStyle(null),t.skipEvent()}).on("complete",function(){e.textStyle.setStrokeStyle(S)})},"OnParseStrokeColorTag"),gI=r(function(e,t,s){var h="b";t.on("start",function(){e.textStyle.setBold(!1)}).on(`+${h}`,function(){e.textStyle.setBold(!0),t.skipEvent()}).on(`-${h}`,function(){e.textStyle.setBold(!1),t.skipEvent()})},"OnParseBoldTag"),mI=r(function(e,t,s){var h="i";t.on("start",function(){e.textStyle.setItalic(!1)}).on(`+${h}`,function(){e.textStyle.setItalic(!0),t.skipEvent()}).on(`-${h}`,function(){e.textStyle.setItalic(!1),t.skipEvent()})},"OnParseItalicTag"),xI=r(function(e,t,s){var h="size",S;t.on("start",function(){S=e.textStyle.fontSize}).on(`+${h}`,function(E){e.textStyle.setFontSize(E),t.skipEvent()}).on(`-${h}`,function(){e.textStyle.setFontSize(S),t.skipEvent()}).on("complete",function(){e.textStyle.setFontSize(S)})},"OnParseFontSizeTag"),yI=r(function(e,t,s){var h="y",S;t.on("start",function(){S=e.textStyle.offsetY,e.textStyle.setOffsetY(0)}).on(`+${h}`,function(E){E===void 0&&(E=S),e.textStyle.setOffsetY(E),t.skipEvent()}).on(`-${h}`,function(){e.textStyle.setOffsetY(0),t.skipEvent()}).on("complete",function(){e.textStyle.setOffsetY(0)})},"OnParseOffsetYTag"),SI=r(function(e,t,s){var h="x",S;t.on("start",function(){S=e.textStyle.offsetY,e.textStyle.setOffsetX(0)}).on(`+${h}`,function(E){E===void 0&&(E=S),e.textStyle.setOffsetX(E),t.skipEvent()}).on(`-${h}`,function(){e.textStyle.setOffsetX(0),t.skipEvent()}).on("complete",function(){e.textStyle.setOffsetX(0)})},"OnParseOffsetXTag"),TI=r(function(e,t,s){var h="left",S;t.on("start",function(){S=e.textStyle.leftSpace,e.textStyle.setLeftSpace(0)}).on(`+${h}`,function(E){E===void 0&&(E=S),e.textStyle.setLeftSpace(E),t.skipEvent()}).on(`-${h}`,function(){e.textStyle.setLeftSpace(0),t.skipEvent()}).on("complete",function(){e.textStyle.setLeftSpace(0)})},"OnParseLeftSpaceTag"),CI=r(function(e,t,s){var h="right",S;t.on("start",function(){S=e.textStyle.rightSpace,e.textStyle.setRightSpace(0)}).on(`+${h}`,function(E){E===void 0&&(E=S),e.textStyle.setRightSpace(E),t.skipEvent()}).on(`-${h}`,function(){e.textStyle.setRightSpace(0),t.skipEvent()}).on("complete",function(){e.textStyle.setRightSpace(0)})},"OnParseRightSpaceTag"),EI=r(function(e,t,s){var h="shadow",S;t.on("start",function(){S=e.textStyle.shadowColor,e.textStyle.setShadowColor(null)}).on(`+${h}`,function(E){E===void 0&&(E=S),e.textStyle.setShadowColor(E),t.skipEvent()}).on(`-${h}`,function(){e.textStyle.setShadowColor(null),t.skipEvent()}).on("complete",function(){e.textStyle.setShadowColor(S)})},"OnParseShadowColorTag"),PI=r(function(e,t,s){var h="align";t.on(`+${h}`,function(S){e.textStyle.setAlign(S),t.skipEvent()}).on(`-${h}`,function(){e.textStyle.setAlign(),t.skipEvent()}).on("complete",function(){e.textStyle.setAlign()})},"OnParseAlignTag"),RI=r(function(e,t,s){var h="img";t.on(`+${h}`,function(S){var E=e.imageManager.get(S);E&&HE.call(e,E.key,E.frame,{width:E.width,hieght:E.height,leftSpace:E.left,rightSpace:E.right,color:E.tintFill?e.textStyle.color:void 0}),t.skipEvent()}).on(`-${h}`,function(){t.skipEvent()})},"OnParseImageTag$1"),AI=r(function(e,t,s){var h="space";t.on(`+${h}`,function(S){XE.call(e,S),t.skipEvent()}).on(`-${h}`,function(){t.skipEvent()})},"OnParseImageTag"),LI=r(function(e,t,s){var h="speed";t.on(`+${h}`,function(S){NS(e,S),t.skipEvent()}).on(`-${h}`,function(){NS(e,void 0),t.skipEvent()})},"OnParseTypingSpeedTag"),OI=r(function(e){this.typeWriter.setTypingSpeed(e)},"SetTypingSpeed"),NS=r(function(e,t){dt.call(e,"speed",OI,t,e)},"AppendCommand$2"),wI=r(function(e,t,s){var h="se";t.on(`+${h}`,function(S,E){dt.call(e,h,MI,[S,E],e),t.skipEvent()}).on(`-${h}`,function(){t.skipEvent()});var h="se2";t.on(`+${h}`,function(S,E){dt.call(e,h,bI,[S,E],e),t.skipEvent()}).on(`-${h}`,function(){t.skipEvent()})},"OnParsePlaySoundEffectTag"),MI=r(function(e){if(!this.skipSoundEffect){var t=e[0],s=e[1];this.soundManager.playSoundEffect(t),s&&this.soundManager.fadeInSoundEffect(s)}},"PlaySoundEffect"),bI=r(function(e){if(!this.skipSoundEffect){var t=e[0],s=e[1];this.soundManager.playSoundEffect2(t),s&&this.soundManager.fadeInSoundEffect2(s)}},"PlaySoundEffect2"),II=r(function(e,t,s){var h="se.fadein";t.on(`+${h}`,function(S){dt.call(e,h,FI,S,e),t.skipEvent()}).on(`-${h}`,function(){t.skipEvent()});var h="se2.fadein";t.on(`+${h}`,function(S){dt.call(e,h,DI,S,e),t.skipEvent()}).on(`-${h}`,function(){t.skipEvent()})},"OnParseFadeInSoundEffectTag"),FI=r(function(e){this.soundManager.fadeInSoundEffect(e)},"FadeInSoundEffect"),DI=r(function(e){this.soundManager.fadeInSoundEffect2(e)},"FadeInSoundEffect2"),BI=r(function(e,t,s){var h="se.fadeout";t.on(`+${h}`,function(S,E){E=E==="stop",dt.call(e,h,GI,[S,E],e),t.skipEvent()}).on(`-${h}`,function(){t.skipEvent()});var h="se2.fadeout";t.on(`+${h}`,function(S,E){E=E==="stop",dt.call(e,h,NI,[S,E],e),t.skipEvent()}).on(`-${h}`,function(){t.skipEvent()})},"OnParseFadeOutSoundEffectTag"),GI=r(function(e){this.soundManager.fadeOutSoundEffect(...e)},"FadeOutSoundEffect"),NI=r(function(e){this.soundManager.fadeOutSoundEffect2(...e)},"FadeOutSoundEffect2"),UI=r(function(e,t,s){var h="se.volume";t.on(`+${h}`,function(S){dt.call(e,h,VI,S,e),t.skipEvent()}).on(`-${h}`,function(){t.skipEvent()});var h="se2.volume";t.on(`+${h}`,function(S){dt.call(e,h,WI,S,e),t.skipEvent()}).on(`-${h}`,function(){t.skipEvent()})},"OnParseSetSoundEffectVolumeTag"),VI=r(function(e){this.soundManager.setSoundEffectVolume(e,!0)},"SetSoundEffectVolume"),WI=r(function(e){this.soundManager.setSoundEffectVolume2(e,!0)},"SetSoundEffectVolume2"),zI=r(function(e,t,s){var h="se.mute";t.on(`+${h}`,function(){dt.call(e,h,YI,void 0,e),t.skipEvent()}).on(`-${h}`,function(){t.skipEvent()});var h="se2.mute";t.on(`+${h}`,function(){dt.call(e,h,kI,void 0,e),t.skipEvent()}).on(`-${h}`,function(){t.skipEvent()});var h="se.unmute";t.on(`+${h}`,function(){dt.call(e,h,HI,void 0,e),t.skipEvent()}).on(`-${h}`,function(){t.skipEvent()});var h="se2.unmute";t.on(`+${h}`,function(){dt.call(e,h,XI,void 0,e),t.skipEvent()}).on(`-${h}`,function(){t.skipEvent()})},"OnParseSetSoundEffectMuteTag"),YI=r(function(){this.soundManager.setSoundEffectMute(!0)},"SetSoundEffectMute"),kI=r(function(){this.soundManager.setSoundEffect2Mute(!0)},"SetSoundEffect2Mute"),HI=r(function(){this.soundManager.setSoundEffectMute(!1)},"SetSoundEffectUnMute"),XI=r(function(){this.soundManager.setSoundEffect2Mute(!1)},"SetSoundEffect2UnMute"),$I=r(function(e,t,s){var h="bgm";t.on(`+${h}`,function(S,E){dt.call(e,h,KI,[S,E],e),t.skipEvent()}).on(`-${h}`,function(){dt.call(e,"bgm.stop",ZI,void 0,e),t.skipEvent()});var h="bgm2";t.on(`+${h}`,function(S,E){dt.call(e,h,JI,[S,E],e),t.skipEvent()}).on(`-${h}`,function(){dt.call(e,"bgm2.stop",QI,void 0,e),t.skipEvent()})},"OnParsePlayBackgroundMusicTag"),KI=r(function(e){var t=e[0],s=e[1];this.soundManager.playBackgroundMusic(t),s&&this.soundManager.fadeInBackgroundMusic(s)},"PlayBackgroundMusic"),ZI=r(function(){this.soundManager.stopBackgroundMusic()},"StopBackgroundMusic"),JI=r(function(e){var t=e[0],s=e[1];this.soundManager.playBackgroundMusic2(t),s&&this.soundManager.fadeInBackgroundMusic2(s)},"PlayBackgroundMusic2"),QI=r(function(){this.soundManager.stopBackgroundMusic2()},"StopBackgroundMusic2"),jI=r(function(e,t,s){var h="bgm.fadein";t.on(`+${h}`,function(S){dt.call(e,h,qI,S,e),t.skipEvent()}).on(`-${h}`,function(){t.skipEvent()});var h="bgm2.fadein";t.on(`+${h}`,function(S){dt.call(e,h,_I,S,e),t.skipEvent()}).on(`-${h}`,function(){t.skipEvent()})},"OnParseFadeInBackgroundMusicTag"),qI=r(function(e){this.soundManager.fadeInBackgroundMusic(e)},"FadeInBackgroundMusic"),_I=r(function(e){this.soundManager.fadeInBackgroundMusic2(e)},"FadeInBackgroundMusic2"),tF=r(function(e,t,s){var h="bgm.fadeout";t.on(`+${h}`,function(S,E){E=E==="stop",dt.call(e,h,eF,[S,E],e),t.skipEvent()}).on(`-${h}`,function(){t.skipEvent()});var h="bgm2.fadeout";t.on(`+${h}`,function(S,E){E=E==="stop",dt.call(e,h,iF,[S,E],e),t.skipEvent()}).on(`-${h}`,function(){t.skipEvent()})},"OnParseFadeOutBackgroundMusicTag"),eF=r(function(e){this.soundManager.fadeOutBackgroundMusic(...e)},"FadeOutBackgroundMusic"),iF=r(function(e){this.soundManager.fadeOutBackgroundMusic2(...e)},"FadeOutBackgroundMusic2"),sF=r(function(e,t,s){var h="bgm.cross";t.on(`+${h}`,function(S,E){dt.call(e,h,rF,[S,E],e),t.skipEvent()}).on(`-${h}`,function(){t.skipEvent()});var h="bgm2.cross";t.on(`+${h}`,function(S,E){dt.call(e,h,nF,[S,E],e),t.skipEvent()}).on(`-${h}`,function(){t.skipEvent()})},"OnParseCrossFadeBackgroundMusicTag"),rF=r(function(e){this.soundManager.crossFadeBackgroundMusic(...e)},"CrossFadeBackgroundMusic"),nF=r(function(e){this.soundManager.crossFadeBackgroundMusic2(...e)},"CrossFadeBackgroundMusic2"),aF=r(function(e,t,s){var h="bgm.pause";t.on(`+${h}`,function(){dt.call(e,h,hF,void 0,e),t.skipEvent()}).on(`-${h}`,function(){dt.call(e,"bgm.resume",oF,void 0,e),t.skipEvent()});var h="bgm2.pause";t.on(`+${h}`,function(){dt.call(e,h,lF,void 0,e),t.skipEvent()}).on(`-${h}`,function(){dt.call(e,"bgm2.resume",uF,void 0,e),t.skipEvent()})},"OnParsePauseBackgroundMusicTag"),hF=r(function(){this.soundManager.pauseBackgroundMusic()},"PauseBackgroundMusic"),oF=r(function(){this.soundManager.resumeBackgroundMusic()},"ResumeBackgroundMusic"),lF=r(function(){this.soundManager.pauseBackgroundMusic2()},"PauseBackgroundMusic2"),uF=r(function(){this.soundManager.resumeBackgroundMusic2()},"ResumeBackgroundMusic2"),dF=r(function(e,t,s){var h="bgm.volume";t.on(`+${h}`,function(S){dt.call(e,h,fF,S,e),t.skipEvent()}).on(`-${h}`,function(){t.skipEvent()});var h="bgm2.volume";t.on(`+${h}`,function(S){dt.call(e,h,cF,S,e),t.skipEvent()}).on(`-${h}`,function(){t.skipEvent()})},"OnParseSetBackgroundMusicVolumeTag"),fF=r(function(e){this.soundManager.setBackgroundMusicVolume(e)},"SetBackgroundMusicVolume"),cF=r(function(e){this.soundManager.setBackgroundMusicVolume2(e)},"SetBackgroundMusicVolume2"),vF=r(function(e,t,s){var h="bgm.mute";t.on(`+${h}`,function(){dt.call(e,h,pF,void 0,e),t.skipEvent()}).on(`-${h}`,function(){t.skipEvent()});var h="bgm2.mute";t.on(`+${h}`,function(){dt.call(e,h,gF,void 0,e),t.skipEvent()}).on(`-${h}`,function(){t.skipEvent()});var h="bgm.unmute";t.on(`+${h}`,function(){dt.call(e,h,mF,void 0,e),t.skipEvent()}).on(`-${h}`,function(){t.skipEvent()});var h="bgm2.unmute";t.on(`+${h}`,function(){dt.call(e,h,xF,void 0,e),t.skipEvent()}).on(`-${h}`,function(){t.skipEvent()})},"OnParseSetBackgroundMusicMuteTag"),pF=r(function(){this.soundManager.setBackgroundMusicMute(!0)},"SetBackgroundMusicMute"),gF=r(function(){this.soundManager.setBackgroundMusic2Mute(!0)},"SetBackgroundMusic2Mute"),mF=r(function(){this.soundManager.setBackgroundMusicMute(!1)},"SetBackgroundMusicUnMute"),xF=r(function(){this.soundManager.setBackgroundMusic2Mute(!1)},"SetBackgroundMusic2UnMute"),yF=r(function(e,t,s){var h="camera.fadein";t.on(`+${h}`,function(S,E,n,T){dt.call(e,h,SF,[S,E,n,T],e),t.skipEvent()})},"OnParseFadeInCameraTag"),SF=r(function(e){this.cameraTarget.fadeIn(...e)},"PlayFadeInEffect"),TF=r(function(e,t,s){var h="camera.fadeout";t.on(`+${h}`,function(S,E,n,T){dt.call(e,h,CF,[S,E,n,T],e),t.skipEvent()})},"OnParseFadeOutCameraTag"),CF=r(function(e){this.cameraTarget.fadeOut(...e)},"PlayFadeOutEffect"),EF=r(function(e,t,s){var h="camera.shake";t.on(`+${h}`,function(S,E){dt.call(e,h,PF,[S,E],e),t.skipEvent()})},"OnParseShakeCameraTag"),PF=r(function(e){this.cameraTarget.shake(...e)},"PlayShakeEffect"),RF=r(function(e,t,s){var h="camera.flash";t.on(`+${h}`,function(S,E,n,T){dt.call(e,h,AF,[S,E,n,T],e),t.skipEvent()})},"OnParseFlashCameraTag"),AF=r(function(e){this.cameraTarget.flash(...e)},"PlayFlashEffect"),LF=r(function(e,t,s){var h="camera.zoom";t.on(`+${h}`,function(S){dt.call(e,h,OF,S,e),t.skipEvent()}).on(`+${h}.to`,function(S,E,n){dt.call(e,"camera.zoom.to",wF,[S,E,n],e),t.skipEvent()})},"OnParseZoomCameraTag"),OF=r(function(e){this.cameraTarget.setZoom(e)},"Zoom"),wF=r(function(e){this.cameraTarget.zoomTo(...e)},"ZoomTo");const US=Phaser.Math.DegToRad;var MF=r(function(e,t,s){var h="camera.rotate";t.on(`+${h}`,function(S){S=US(S),dt.call(e,h,bF,S,e),t.skipEvent()}).on(`+${h}.to`,function(S,E,n){S=US(S),dt.call(e,"camera.rotate.to",IF,[S,E,n],e),t.skipEvent()})},"OnParseRotateCameraTag"),bF=r(function(e){this.cameraTarget.setRotation(e)},"Rotate$1"),IF=r(function(e){var t=e[0],s=e[1],h=e[2];this.cameraTarget.rotateTo(t,!1,s,h)},"RotateTo"),FF=r(function(e,t,s){var h="camera.scroll";t.on(`+${h}`,function(S,E){dt.call(e,h,DF,[S,E],e),t.skipEvent()}).on(`+${h}.to`,function(S,E,n,T){dt.call(e,"camera.scroll.to",BF,[S,E,n,T],e),t.skipEvent()})},"OnParseScrollCameraTag"),DF=r(function(e){this.cameraTarget.setScroll(...e)},"Scroll"),BF=r(function(e){var t=e[0],s=e[1],h=e[2],S=e[3],E=this.cameraTarget,n=E.scrollX,T=E.scrollY;E.setScroll(t,s),t+=E.centerX,s+=E.centerY,E.setScroll(n,T),E.pan(t,s,h,S)},"ScrollTo"),GF=r(function(e,t,s){var h="wait",S="click";t.on(`+${h}`,function(E){VS(e,E),t.skipEvent()}).on(`-${h}`,function(){t.skipEvent()}).on(`+${S}`,function(){VS(e,"click"),t.skipEvent()}).on(`-${S}`,function(){t.skipEvent()})},"OnParseWaitTag"),NF=r(function(e){this.typeWriter.wait(e)},"Wait$2"),VS=r(function(e,t){dt.call(e,"wait",NF,t,e)},"AppendCommand$1"),UF=r(function(e,t,s){var h="r";t.on(`+${h}`,function(){No.call(e,`
`),t.skipEvent()}).on(`-${h}`,function(){t.skipEvent()})},"OnParseNewLineTag"),VF=r(function(e,t,s){for(var h=["pagebreak","pb"],S=0,E=h.length;S<E;S++){var n=h[S];t.on(`+${n}`,function(){No.call(e,"\f"),t.skipEvent()}).on(`-${n}`,function(){t.skipEvent()})}},"OnParsePageBreakTag"),WF=r(function(e,t,s){var h="content.off";t.on(`+${h}`,function(){t.setContentOutputEnable(!1),t.skipEvent()})},"OnParseContentOff"),zF=r(function(e,t,s){var h="content.on";t.on(`+${h}`,function(){t.setContentOutputEnable(),t.skipEvent()})},"OnParseContentOn"),YF=r(function(e,t,s){t.on("content",function(h){if(t.contentOutputEnable)No.call(e,h);else{var S=`+${t.lastTagStart}`;e.emit(`parser.${S}#content`,t,h)}})},"OnParseContent"),kF=r(function(e,t,s){t.on("start",function(){e.emit("parser.start",t)}).on("+",function(h,...S){if(!t.skipEventFlag){var E=`+${h}`,n=S;e.emit(`parser.${E}`,t,...S,n),WS(e,E,n)}}).on("-",function(h){if(!t.skipEventFlag){var S=`-${h}`,E=[];e.emit(`parser.${S}`,t,E),WS(e,S,E)}}).on("complete",function(){e.emit("parser.complete",t)})},"OnParseCustomTag"),HF=r(function(e,t){var s=`tag.${t}`;e==null?this.emit(s):this.emit(s,...e)},"FireEvent$1"),WS=r(function(e,t,s){dt.call(e,t,HF,s,e)},"AppendCommand");const zS=[vI,pI,gI,mI,xI,EI,PI,yI,SI,TI,CI,RI,AI,LI,wI,II,BI,UI,zI,$I,jI,tF,sF,aF,dF,vF,yF,TF,EF,RF,LF,MF,FF,GF,UF,VF,WF,zF,YF,kF];var XF=r(function(e,t,s){for(var h=0,S=zS.length;h<S;h++)zS[h](e,t,s)},"AddParseCallbacks"),$F=r(function(e,t){for(var s=e.commentLineStart,h=t.split(`
`),S=0,E=h.length;S<E;S++){var n=h[S];n===""||(n.trim().length===0||s&&n.startsWith(s))&&(h[S]="")}return h.join("")},"PreProcess");const KF=Phaser.Utils.Objects.GetValue,C0=class C0 extends uv{constructor(t,s){s===void 0&&(s={}),s.hasOwnProperty("delimiters")||(s.delimiters="[]"),super(s),XF(t,this,s),this.setCommentLineStartSymbol(KF(s,"comment","//")),this.setContentOutputEnable()}setCommentLineStartSymbol(t){return this.commentLineStart=t,this}setContentOutputEnable(t){return t===void 0&&(t=!0),this.contentOutputEnable=t,this}start(t){return super.start($F(this,t)),this}};r(C0,"Parser");let dv=C0;const ZF={setDefaultTypingSpeed(e){return this.defaultSpeed=e,this},setTypingSpeed(e){return e===void 0&&(e=this.defaultSpeed),this.speed=e,this}},lr="page.fadeout",fv="_remove.play",YS=[lr,fv];var JF=r(function(){if(!this.fadeOutPageCallback||!this.children)return this.emit(lr),this;var e=this.children.filter(function(h){return h.renderable}),t=this.fadeOutPageCallback(e,this.fadeOutPageDuration);if(!t)this.emit(lr);else if(t.once)t.once("complete",function(){this.emit(lr)},this);else if(t.then){var s=this;t.then(function(){s.emit(lr)})}else this.emit(lr);return this},"FadeOutPage"),Bd=r(function(e,t){return new Promise(function(s,h){e.once(t,function(){s()})})},"WaitEvent"),fe=r(function(e){return Bd(e,"complete")},"WaitComplete"),QF=r(function(e){return this.children=e,this.index=0,this.isPageTyping=!0,this.onTypeStart&&this.onTypeStart(e),this.typing(),fe(this)},"Start$1");const jF="delay",xP="anim";var yP=r(function(e){e===void 0&&(e=0);var t=0;for(this.inTypingProcessLoop=!0;this.inTypingProcessLoop;){var s=this.getNextChild();if(!s){this.timeline.isRunning?this.timeline.once("complete",function(){this.isPageTyping=!1,this.emit("complete")},this):(this.isPageTyping=!1,this.emit("complete"));break}if(s.renderable){var h=this.animationConfig;if(h.duration>0){var S=this.timeline.addTimer({name:xP,target:s,duration:h.duration,yoyo:h.yoyo,onStart:h.onStart,onProgress:h.onProgress,onComplete:h.onComplete});this.skipTypingAnimation&&S.seek(1)}else h.onStart&&h.onStart(s,0);this.minSizeEnable&&this.textPlayer.setToMinSize(),this.textPlayer.emit("typing",s);var E=this.nextChild;if(E&&!(this.skipSpaceEnable&&e2(E))){if(t+=this.speed+e,e=0,t>0){this.typingTimer=this.timeline.addTimer({name:jF,target:this,duration:t,onComplete:r(function(n,T,i){n.typingTimer=void 0,yP.call(n,i.remainder)},"onComplete")});break}}}else i2(s)&&s.exec()}this.minSizeEnable&&this.textPlayer.setToMinSize(),this.inTypingProcessLoop=!1},"Typing"),qF=r(function(){return this.timeline.pause(),this},"Pause$1"),_F=r(function(){return this.timeline.resume(),this},"Resume$1"),t3=r(function(){return this.isTypingPaused?this:(this.typingTimer?(this.typingTimer.pause(),this.isTypingPaused=!0):this.inTypingProcessLoop&&(this.inTypingProcessLoop=!1,this.isTypingPaused=!0),this)},"PauseTyping$1"),e3=r(function(e){return this.isTypingPaused?(e===void 0&&(e=0),this.typingTimer?(this.isTypingPaused=!1,this.typingTimer.resume(),this.typingTimer.remainder+=e):this.isTypingPaused&&(this.isTypingPaused=!1,this.typing(e)),this):this},"ResumeTyping$1"),i3=r(function(e){switch(e){case"camera.fadein":case"camera.fadeout":case"camera.flash":case"camera.shake":case"camera.zoom":case"camera.rotate":case"camera.scroll":return!0;default:return!1}},"IsWaitCameraEffect"),s3=r(function(e,t){var s=t.split(".");return e.gameObjectManagers.hasOwnProperty(s[0])},"IsWaitGameObject"),r3=r(function(e,t,s,h){var S=e.waitEventManager,E=t.split("."),n=E[0],T=e.getGameObjectManager(n),i=`wait.${n}`;switch(E.length){case 1:S.waitGameObjectManagerEmpty(n),e.emit(i);return;case 2:var f=E[1];S.waitGameObjectDestroy(n,f),e.emit(i,f);return;case 3:var f=E[1],y=E[2],c=T.getProperty(f,y);if(typeof c=="number"){S.waitGameObjectTweenComplete(n,f,y),e.emit(i,f,y);return}var o=y,l=o.startsWith("!");if(l&&(o=o.substring(1)),T.hasData(f,o)){S.waitGameObjectDataFlag(n,f,o,!l),e.emit(i,f,o);return}else{S.waitTime(0);return}}},"WaitGameObject");const n3=Phaser.Input.Keyboard.KeyCodes;var SP=r(function(e,t,s,h){var S=e.waitEventManager;S.clearWaitCompleteCallbacks().addWaitCompleteCallback(s,h),typeof t=="string"&&t.length>1&&t.indexOf("|")!==-1?t=t.split("|"):t=[t];for(var E=0,n=t.length;E<n;E++){var T=t[E];if(T==null||T==="wait"){var i=e.waitEventManager.getWaitCompleteTriggerCallback();e.emit("wait",i)}else if(typeof T=="number"||!isNaN(T)){var f=parseFloat(T);S.waitTime(f),e.emit("wait.time",f)}else if(T==="click")S.waitClick(),e.emit("wait.click");else if(T==="se"){S.waitSoundEffectComplete();var y=e.soundManager.getLastSoundEffect();e.emit("wait.music",y)}else if(T==="se2"){S.waitSoundEffect2Complete();var y=e.soundManager.getLastSoundEffect2();e.emit("wait.music",y)}else if(T==="bgm"){S.waitBackgroundMusicComplete();var y=e.soundManager.getBackgroundMusic();e.emit("wait.music",y)}else if(T==="bgm2"){S.waitBackgroundMusic2Complete();var y=e.soundManager.getBackgroundMusic2();e.emit("wait.music",y)}else if(n3.hasOwnProperty(T.toUpperCase()))S.waitKeyDown(T),e.emit("wait.keydown",T);else if(i3(T))S.waitCameraEffectComplete(T),e.emit("wait.camera",T);else if(s3(e,T))r3(e,T);else{var i=e.waitEventManager.getWaitCompleteTriggerCallback();e.emit(`wait.${T}`,i)}}},"WaitAny"),a3=r(function(e){return this.ignoreWait?this:(this.pauseTyping(),SP(this.textPlayer,e,this.resumeTyping,this),this)},"Wait$1"),h3=r(function(e){return e===void 0&&(e=!0),this.ignoreWait=e,this},"SetIgnoreWait$1"),o3=r(function(e){return e===void 0&&(e=!0),this.skipSpaceEnable=e,this},"SetSkipSpaceEnable"),l3=r(function(e){if(e===void 0&&(e=!0),this.skipTypingAnimation=e,e)for(var t=this.timeline.getTimers(xP),s=0,h=t.length;s<h;s++)t[s].seek(1);return this},"SetSkipTypingAnimation"),u3=r(function(e){if(e===void 0&&(e=!0),this.skipSoundEffect=e,e){var t=this.textPlayer._soundManager;t&&t.fadeOutAllSoundEffects(100,!0)}return this},"SetSkipSoundEffect"),d3=r(function(){return this.typingTimer&&this.typingTimer.seek(1),this},"SkipCurrentTypingDelay"),TP={fadeOutPage:JF,start:QF,typing:yP,pause:qF,resume:_F,pauseTyping:t3,resumeTyping:e3,wait:a3,setIgnoreWait:h3,setSkipSpaceEnable:o3,setSkipTypingAnimation:l3,setSkipSoundEffect:u3,skipCurrentTypingDelay:d3};Object.assign(TP,ZF);const zr=Phaser.Utils.Objects.GetValue,E0=class E0{constructor(t,s){this.setEventEmitter(),this.textPlayer=t,this.isPageTyping=!1,this.typingTimer=void 0,this.pauseTypingTimer=void 0,this.inTypingProcessLoop=!1,this.isTypingPaused=!1,this.setIgnoreWait(!1),this.setSkipTypingAnimation(!1),this.setTypingStartCallback(zr(s,"onTypingStart",c3)),this.setDefaultTypingSpeed(zr(s,"speed",250)),this.setTypingSpeed(),this.setSkipSpaceEnable(zr(s,"skipSpace",!1)),this.setAnimationConfig(zr(s,"animation",void 0)),this.setMinSizeEnable(zr(s,"minSizeEnable",!1)),this.setFadeOutPageCallback(zr(s,"fadeOutPage"))}destroy(){this.destroyEventEmitter(),this.textPlayer=void 0,this.typingTimer=void 0,this.pauseTypingTimer=void 0,this.onTypeStart=void 0,this.animationConfig=void 0}get timeline(){return this.textPlayer.timeline}setTypingStartCallback(t){return this.onTypeStart=t,this}setAnimationConfig(t){return t||(t={}),t.hasOwnProperty("duration")||(t.duration=0),t.hasOwnProperty("onStart")||(t.onStart=f3),this.animationConfig=t,this}setFadeOutPageCallback(t){return this.fadeOutPageCallback=t,this}setMinSizeEnable(t){return t===void 0&&(t=!0),this.minSizeEnable=t,this}getNextChild(){var t=this.nextChild;return this.index=Math.min(this.index+1,this.children.length),this._nextChild=void 0,t}get nextChild(){return this._nextChild||(this._nextChild=this.children[this.index]),this._nextChild}};r(E0,"TypeWriter");let Au=E0;var f3=r(function(e){e.setVisible&&e.setVisible()},"SetChildVisible"),c3=r(function(e){for(var t=0,s=e.length;t<s;t++){var h=e[t];h.setVisible&&h.setVisible(!1)}},"SetChildrenInvisible");Object.assign(Au.prototype,Uo,TP);const P0=class P0 extends Nh{playAnimation(t){return this.gameObject.anims.timeScale=this.timeScale,this.gameObject.play(t),this}stopAnimation(){return this.gameObject.stop(),this}chainAnimation(t){return this.gameObject.chain(t),this}pauseAnimation(){return this.gameObject.anims.pause(),this}setTimeScale(t){return super.setTimeScale(t),this.gameObject.anims&&(this.gameObject.anims.timeScale=t),this}};r(P0,"SpriteBob");let cv=P0;const v3={playAnimation(e,t){return this.has(e)||this.add(e),this.get(e).playAnimation(t),this},stopAnimation(e){return this.has(e)?(this.get(e).stopAnimation(),this):this},chainAnimation(e,t){return this.has(e)?(this.get(e).chainAnimation(t),this):this},pauseAnimation(e){return this.has(e)?(this.get(e).pauseAnimation(),this):this}};var CP={};Object.assign(CP,v3);const R0=class R0 extends Ds{constructor(t,s){s===void 0&&(s={}),s.BobClass=cv,super(t,s)}setCreateGameObjectCallback(t,s){return!t||t==="sprite"?t=p3:t==="image"&&(t=g3),super.setCreateGameObjectCallback(t,s),this}};r(R0,"SpriteManager");let Lu=R0;var p3=r(function(e,t,s){return typeof s!="string"&&typeof s!="number"&&(s=void 0),e.add.sprite(0,0,t,s)},"CreateSprite"),g3=r(function(e,t,s){return typeof s!="string"&&typeof s!="number"&&(s=void 0),e.add.image(0,0,t,s)},"CreateImage$1");Object.assign(Lu.prototype,CP);var kS=r(function(e,t){return e.length===3&&e[0]===t&&e[2]==="play"},"IsPlayAnimationTag"),m3=r(function(e,t){return e.length===3&&e[0]===t&&e[2]==="stop"},"IsStopAnimationTag"),x3=r(function(e,t,s){var h=s.name;t.on("+",function(S,...E){if(!t.skipEventFlag){var n=S.split("."),T;if(kS(n,h))T=n[1];else return;dt.call(e,`${h}.play`,y3,[h,T,E],e),t.skipEvent()}}).on("+",function(S){if(!t.skipEventFlag){var E=S.split("."),n;if(m3(E,h))n=E[1];else return;dt.call(e,`${h}.stop`,HS,[h,n],e),t.skipEvent()}}).on("-",function(S){if(!t.skipEventFlag){var E=S.split("."),n;if(kS(E,h))n=E[1];else return;dt.call(e,`${h}.stop`,HS,[h,n],e),t.skipEvent()}})},"OnParsePlayAnimationTag"),y3=r(function(e){var t,s,h;[t,s,h]=e;var S=h.shift(),E=this.getGameObjectManager(t);E.playAnimation(s,S),h.length>0&&E.chainAnimation(s,h)},"PlayAnimation"),HS=r(function(e){var t,s;[t,...s]=e;var h=this.getGameObjectManager(t);h.stopAnimation(...s)},"StopAnimation"),S3=r(function(e,t){return e.length===3&&e[0]===t&&e[2]==="pause"},"IsPauseAnimationTag"),T3=r(function(e,t,s){var h=s.name;t.on("+",function(S){if(!t.skipEventFlag){var E=S.split("."),n;if(S3(E,h))n=E[1];else return;dt.call(e,`${h}.pause`,C3,[h,n],e),t.skipEvent()}})},"OnParsePauseAnimationTag"),C3=r(function(e){var t,s;[t,...s]=e;var h=this.getGameObjectManager(t);h.pauseAnimation(...s)},"PauseAnimation"),E3=r(function(e,t){return e.length===3&&e[0]===t&&e[2]==="chain"},"IsChainAnimationTag"),P3=r(function(e,t,s){var h=s.name;t.on("+",function(S){if(!t.skipEventFlag){var E=S.split("."),n;if(E3(E,h))n=E[1];else return;var T=Array.prototype.slice.call(arguments,1);dt.call(e,`${h}.chain`,R3,[h,n,T],e),t.skipEvent()}})},"OnParseChainAnimationTag"),R3=r(function(e){var t,s;[t,...s]=e;var h=this.getGameObjectManager(t);h.chainAnimation(...s)},"ChainAnimation");const A3=[x3,T3,P3];var L3=r(function(e){e===void 0&&(e={}),e.name="sprite",e.parseCallbacks=A3,this.addGameObjectManager(e,Lu)},"AddSpriteManager"),XS=r(function(e,t){return e.length===2&&e[0]===t},"IsAddGameObjectTag"),O3=r(function(e,t,s){var h=s.name;t.on("+",function(S,...E){if(!t.skipEventFlag){var n=S.split("."),T;if(XS(n,h))T=n[1];else return;dt.call(e,`${h}.add`,w3,[h,T,...E],e),t.skipEvent()}}).on("-",function(S){if(!t.skipEventFlag){var E=S.split("."),n;if(XS(E,h))n=E[1];else return;dt.call(e,`${h}.remove`,M3,[h,n],e),t.skipEvent()}})},"OnParseAddGameObjectTag"),w3=r(function(e){var t,s;[t,...s]=e;var h=this.getGameObjectManager(t);h.add(...s)},"AddGameObject"),M3=r(function(e){var t,s;[t,...s]=e;var h=this.getGameObjectManager(t);h.remove(...s)},"RemoveGameObject"),b3=r(function(e,t,s){var h=s.name;t.on("-",function(S){t.skipEventFlag||S===h&&(dt.call(e,`${h}.removeall`,I3,h,e),t.skipEvent())})},"OnParseRemoveAllGameObjectsTag"),I3=r(function(e){var t=this.getGameObjectManager(e);t.removeAll()},"RemoveAllSprites"),F3=r(function(e,t){return e.length===3&&e[0]===t},"IsPropTag"),D3=r(function(e,t,s){var h=s.name;t.on("+",function(S,...E){if(!t.skipEventFlag){var n=S.split("."),T,i;if(F3(n,h))T=n[1],i=n[2];else return;dt.call(e,`${h}.call`,B3,[h,T,i,...E],e),t.skipEvent()}})},"OnParseCallGameObjectMethodTag"),B3=r(function(e){var t,s,h,S;[t,s,h,...S]=e;var E=`${t}.${h}`;if(this.emit(E,s,...S),!(this.listenerCount(E)>0)){var n=this.getGameObjectManager(t);n.hasMethod(s,h)?n.call(s,h,...S):n.setProperty(s,h,S[0])}},"CallMethod"),G3={to:!0,yoyo:!0,from:!0,toLeft:!0,toRight:!0,toUp:!0,toDown:!0,yoyoLeft:!0,yoyoRight:!0,yoyoUp:!0,yoyoDown:!0,fromLeft:!0,fromRight:!0,fromUp:!0,fromDown:!0},N3=r(function(e,t){return e.length===4&&e[0]===t&&G3[e[3]]},"IsEasePropertyTag"),U3=r(function(e,t,s){var h=s.name;e.getGameObjectManager(h),t.on("+",function(S,E,n,T,i){if(!t.skipEventFlag){var f=S.split("."),y,c,o;if(N3(f,h))y=f[1],c=f[2],o=f[3];else return;typeof T=="number"&&(i=T,T=void 0),dt.call(e,`${h}.ease`,V3,[h,y,c,E,n,T,i,o],e),t.skipEvent()}})},"OnParseEaseGameObjectPropertyTag"),V3=r(function(e){var t,s,h,S,E,n,T,i;[t,s,h,S,E,n,T,i]=e;var f=this.getGameObjectManager(t),y=f.getProperty(s,h);if(typeof y=="number"){i.endsWith("Left")||i.endsWith("Up")?i.startsWith("to")||i.startsWith("yoyo")?S=y-S:i.startsWith("from")&&(f.setProperty(s,h,y-S),S=y):i.endsWith("Right")||i.endsWith("Down")?i.startsWith("to")||i.startsWith("yoyo")?S=y+S:i.startsWith("from")&&(f.setProperty(s,h,y+S),S=y):i==="from"&&(f.setProperty(s,h,S),S=y);var c=i.startsWith("yoyo");f.easeProperty(s,h,S,E,n,T,c)}},"EaseProperty");const $S=[O3,b3,D3,U3],W3=cP.addGameObjectManager,z3={addGameObjectManager(e,t){e=e?Fi(e):{};var s=e.name;s||console.warn("[TextPlayer] Parameter 'name' is required in addGameObjectManager(config) method");var h=e.defaultLayer,S=e.createGameObject,E=this.layerManager;e.createGameObject=function(f,...y){var c=S.call(this,f,...y);return h&&E&&E.addToLayer(h,c),c},W3.call(this,e,t);var n=e.parseCallbacks;n?n=[...n,...$S]:n=$S;for(var T=0,i=n.length;T<i;T++)n[T](this,this.parser,e);return this}};var Y3=r(function(e){return this.waitEventManager.setClickTarget(e),this},"SetClickTarget"),k3=r(function(e){return this.waitEventManager.setCameraTarget(e),this},"SetCameraTarget"),H3=r(function(e){var t=this;e?typeof e=="function"?this.nextPageInput=function(s,h){var S=t.waitEventManager;S.clearWaitCompleteCallbacks().addWaitCompleteCallback(s,h);var E=S.getWaitCompleteTriggerCallback();e.call(t,E)}:this.nextPageInput=function(s,h){SP(t,e,s,h)}:this.nextPageInput=null},"SetNextPageInput"),X3=r(function(e,t){return this.imageManager.add(e,t),this},"AddImage");const $3={play(e){return this.isPlaying?this:(this.removeChildren(),this.parser.start(e),this.isPlaying=!0,this.once("complete",function(){this.isPlaying=!1},this),this.lastWrapResult=void 0,this.typingNextPage(),this)},playPromise(e){var t=fe(this);return this.play(e),t}};var vv=r(function(){return!this.isPlaying||this.isPageTyping?this:(this.typeWriter.once(lr,K3,this).fadeOutPage(),this)},"TypingNextPage"),K3=r(function(){var e=this.runWrap(this.lastWrapResult);this.lastWrapResult=e,this.emit("page.start");var t=r(function(){this.emit(fv),e.isLastPage?this.emit("complete"):(this.emit("page.complete"),this.ignoreNextPageInput?vv.call(this):this.nextPageInput&&this.nextPageInput(vv,this))},"OnTypingPageComplete");this.once(fv,function(){this.typeWriter.off("complete",t,this)},this),this.typeWriter.once("complete",t,this).start(e.children)},"_TypingNextPage");const Z3={pause(){return this.timeline.pause(),this},pauseTyping(){return this.typeWriter.pauseTyping(),this}},J3={resume(){return this.timeline.resume(),this},resumeTyping(e){return this.typeWriter.resumeTyping(e),this}};var Q3=r(function(e){return this.typeWriter.wait(e),this},"Wait");const j3={setDefaultTypingSpeed(e){return this.defaultTypingSpeed=e,this},setTypingSpeed(e){return this.typingSpeed=e,this}};var q3=r(function(e){return this.typeWriter.setIgnoreWait(e),this},"SetIgnoreWait"),_3=r(function(e){return e===void 0&&(e=!0),this.ignoreNextPageInput=e,this},"SetIgnoreNextPageInput"),tD=r(function(){if(!this.isPlaying||!this.isPageTyping)return this;var e=this.typeWriter.speed,t=this.typeWriter.ignoreWait,s=this.typeWriter.skipTypingAnimation,h=this.typeWriter.skipSoundEffect;return this.typeWriter.once("complete",function(){this.typeWriter.setTypingSpeed(e).setIgnoreWait(t).setSkipTypingAnimation(s).setSkipSoundEffect(h)},this).setTypingSpeed(0).skipCurrentTypingDelay().setIgnoreWait(!0).setSkipTypingAnimation(!0).setSkipSoundEffect(!0),this},"ShowPage");const eD={getSprite(e){return this.getGameObject("sprite",e)},addSprite(e,t){return this.addGameObject("sprite",e,t),this}},iD={setContentOutputEnable(e){return this.parser.setContentOutputEnable(e),this},setContentCallback(e,t){return this.contentCallback=e,this.contentCallbackScope=t,this}};var EP={setClickTarget:Y3,setCameraTarget:k3,setNextPageInput:H3,addImage:X3,typingNextPage:vv,wait:Q3,setIgnoreWait:q3,setIgnoreNextPageInput:_3,showPage:tD};Object.assign(EP,z3,$3,Z3,J3,j3,eD,iD);var sD=r(function(e){for(var t=0,s=YS.length;t<s;t++)e.emit(YS[t])},"ClearEvents");const KS=Phaser.Utils.Objects.IsPlainObject,Yr=Phaser.Utils.Objects.GetValue,A0=class A0 extends hI(Fs){constructor(t,s,h,S,E,n){KS(s)?n=s:KS(S)&&(n=S),n===void 0&&(n={});var T=n.text;delete n.text,super(t,s,h,S,E,n),this.type="rexTextPlayer",this.initManagers(t,n),this.parser=new dv(this,Yr(n,"parser",void 0)),this.typeWriter=new Au(this,Yr(n,"typing",void 0)),this._imageManager=void 0;var i=Yr(n,"images",void 0);i&&this.addImage(i);var f=Yr(n,"sprites");f!==!1&&f!==null&&L3.call(this,f),this.setIgnoreNextPageInput(Yr(n,"ignoreNextPageInput",!1)),this.setNextPageInput(Yr(n,"nextPageInput",null)),this.isPlaying=!1,T&&this.play(T)}get imageManager(){return this._imageManager===void 0&&(this._imageManager=new Bh(this.scene)),this._imageManager}get spriteManager(){return this.getGameObjectManager("sprite")}destroy(t){!this.scene||this.ignoreDestroy||(sD(this),this.parser.destroy(),this.parser=void 0,this.typeWriter.destroy(t),this.typeWriter=void 0,this._imageManager&&this._imageManager.destroy(t),this._imageManager=void 0,this.destroyManagers(t),super.destroy(t))}get isPageTyping(){return this.typeWriter.isPageTyping}set defaultTypingSpeed(t){this.typeWriter.setDefaultTypingSpeed(t)}get defaultTypingSpeed(){return this.typeWriter.defaultTypingSpeed}set typingSpeed(t){this.typeWriter.setTypingSpeed(t)}get typingSpeed(){return this.typeWriter.speed}set timeScale(t){this.setTimeScale(t)}get timeScale(){return this.getTimeScale()}};r(A0,"TextPlayer");let kh=A0;Object.assign(kh.prototype,EP);st.register("textPlayer",function(e,t,s,h,S){var E=new kh(this.scene,e,t,s,h,S);return this.scene.add.existing(E),E});it(window,"RexPlugins.UI.TextPlayer",kh);const PP={maxLength:["maxLength",void 0],minLength:["minLength",void 0],readOnly:["readOnly",!1]},RP={direction:["direction",void 0]};var As=r(function(e,t,s){if(typeof s=="string")e.hasOwnProperty(s)&&(t[s]=e[s]);else{var h=s;if(Array.isArray(h))for(var S=0,E=h.length;S<E;S++)As(e,t,h[S]);else for(var s in h)As(e,t,s)}},"CopyProperty"),rD=r(function(e){e===void 0&&(e={});var t={};return As(e,t,"inputType"),As(e,t,"type"),As(e,t,"style"),As(e,t,RP),As(e,t,PP),t},"CopyElementConfig"),Up=r(function(e,t,s,h,S){if(t)return!(s&&!s(e,t)||!ZS(e,t)||h&&!h(e,t));S===void 0&&(S=!1);for(var E=e.scene.input.manager,n=E.pointersTotal,T=E.pointers,t,i=0;i<n;i++)if(t=T[i],!(s&&!s(e,t))&&ZS(e,t)&&!(h&&!h(e,t)))return S?t:!0;return!1},"IsPointerInHitArea"),ZS=r(function(e,t){for(var s=e.scene,h=s.input.cameras.getCamerasBelowPointer(t),S=s.input.manager,E=[e],n=0,T=h.length;n<T;n++)if(S.hitTest(t,E,h[n],ml),ml.length>0)return ml.length=0,!0;return ml.length=0,!1},"HitTest"),ml=[],vn=void 0,nD=r(function(e){e!==vn&&(vn!==void 0&&vn.close(),vn=e)},"SetLastOpenedEditor$1"),aD=r(function(e){e===vn&&(vn=void 0)},"CloseLastOpenEditor$1");const hD=Phaser.Utils.Objects.GetValue;var Ou=r(function(e,t,s){s===void 0&&(s={});var h,S;for(var E in e)h=e[E],S=hD(t,E,h[1]),S!==void 0&&(s[h[0]]=S);return s},"SetProperties"),AP=r(function(e){e.addEventListener("touchstart",kr,!1),e.addEventListener("touchmove",kr,!1),e.addEventListener("touchend",kr,!1),e.addEventListener("mousedown",kr,!1),e.addEventListener("mouseup",kr,!1),e.addEventListener("mousemove",kr,!1)},"StopPropagationTouchEvents"),kr=r(function(e){e.stopPropagation()},"callback"),oD=r(function(){return this.close(),this.emit("keydown-ENTER",this.parent,this),this},"EnterClose"),lD=r(function(){this.isOpened=!0,this.initText(),this.enterCloseEnable&&this.scene.input.keyboard.once("keydown-ENTER",oD,this),this.scene.sys.events.on("postupdate",this.updateText,this),this.clickOutSideTarget?(aP.call(this.clickOutSideTarget,this.parent),nP.call(this.clickOutSideTarget,this.parent),this.clickOutSideTarget.setInteractive().on("pointerdown",this.onClickOutside,this)):this.scene.input.on("pointerdown",this.onClickOutside,this),this.onOpenCallback&&this.onOpenCallback(this.parent,this),this.emit("open",this)},"OnOpen"),uD=r(function(e){if(e){var t=e.parentElement;t&&t.removeChild(e)}},"RemoveElement"),dD=r(function(){this.isOpened=!1,this.updateText(),this.scene.sys.events.off("postupdate",this.updateText,this),this.clickOutSideTarget?this.clickOutSideTarget.disableInteractive().off("pointerdown",this.onClickOutside,this):this.scene.input.off("pointerdown",this.onClickOutside,this),this.onCloseCallback&&this.onCloseCallback(this.parent,this),uD(this.node),this.node=void 0,this.emit("close",this)},"OnClose");const gf=Phaser.Utils.Objects.GetValue;var fD=r(function(e,t){var s,h=gf(t,"inputType",void 0);h===void 0&&(h=gf(t,"type","text")),h==="textarea"?(s=document.createElement("textarea"),s.style.resize="none"):(s=document.createElement("input"),s.type=h);var S=gf(t,"style",void 0),E=s.style;Ou(RP,S,E),E.position="absolute",E.opacity=0,E.pointerEvents="none",E.zIndex=0,E.transform="scale(0)",Ou(PP,t,s),AP(s);var n=e.scene.sys.scale,T=n.isFullscreen?n.fullscreenTarget:document.body;return T.appendChild(s),s.addEventListener("focus",function(i){lD.call(e)}),s.addEventListener("blur",function(i){dD.call(e)}),s},"CreateElement"),cD=r(function(){return this.isOpened?this:this.readOnly?this:(nD(this),this.node||(this.node=fD(this,this.nodeConfig)),this.setFocus(),this)},"Open$2"),vD=r(function(){return this.isOpened?(aD(this),this.setBlur(),this):this},"Close$1"),pD={open:cD,close:vD};const Yi=Phaser.Utils.Objects.GetValue,L0=class L0 extends Gt{constructor(t,s){super(t);var h=Yi(s,"inputType",void 0);h===void 0&&(h=Yi(s,"type","text")),this.setEnterCloseEnable(Yi(s,"enterClose",h!=="textarea"));var S=Yi(s,"onOpen",void 0);S||(S=Yi(s,"onFocus",void 0)),this.onOpenCallback=S,this.clickOutSideTarget=Yi(s,"clickOutSideTarget",void 0);var E=Yi(s,"onClose",void 0);E||(E=Yi(s,"onBlur",void 0)),this.onCloseCallback=E,this.onUpdateCallback=Yi(s,"onUpdate",void 0),this.isOpened=!1,t.on("pointerdown",function(){this.open()},this).setInteractive(),this.nodeConfig=rD(s),this.node=void 0}destroy(){this.close(),this.clickOutSideTarget&&this.clickOutSideTarget.destroy(),super.destroy()}onClickOutside(t){Up(this.parent,t)||this.close()}setEnterCloseEnable(t){return t===void 0&&(t=!0),this.enterCloseEnable=t,this}initText(){}updateText(){}get text(){return this.node?this.node.value:""}set text(t){this.node&&(this.node.value=t)}setText(t){return this.text=t,this}get maxLength(){return this.nodeConfig.maxLength}set maxLength(t){this.nodeConfig.maxLength=t,this.node&&(this.node.maxLength=t)}setMaxLength(t){return this.maxLength=t,this}get minLength(){return this.nodeConfig.minLength}set minLength(t){this.nodeConfig.minLength=t,this.node&&(this.node.minLength=t)}setMinLength(t){return this.minLength=t,this}get placeholder(){return this.node.placeholder}set placeholder(t){this.node&&(this.node.placeholder=t)}setPlaceholder(t){return this.placeholder=t,this}selectText(t,s){return this.node?(t===void 0?this.node.select():this.node.setSelectionRange(t,s),this):this}selectAll(){return this.selectText(),this}get selectionStart(){return this.node?this.node.selectionStart:0}get selectionEnd(){return this.node?this.node.selectionEnd:0}get selectedText(){if(!this.node)return"";var t=this.node;return t.value.substring(t.selectionStart,t.selectionEnd)}get cursorPosition(){return this.node?this.node.selectionStart:0}set cursorPosition(t){this.node&&this.node.setSelectionRange(t,t)}setCursorPosition(t){return t===void 0?t=this.text.length:t<0&&(t=this.text.length+t),this.cursorPosition=t,this}get tooltip(){return this.node?this.node.title:""}set tooltip(t){if(!this.node)return this;this.node.title=t}setTooltip(t){return this.tooltip=t,this}setTextChangedCallback(t){return this.onTextChanged=t,this}get readOnly(){return this.nodeConfig.readOnly}set readOnly(t){this.nodeConfig.readOnly=t,this.node&&(this.node.readOnly=t)}setReadOnly(t){return t===void 0&&(t=!0),this.readOnly=t,this}get spellCheck(){return this.node?this.node.spellcheck:""}set spellCheck(t){this.node&&(this.node.spellcheck=t)}setSpellCheck(t){return this.spellCheck=t,this}get fontColor(){if(this.node)return this.node.style.color}set fontColor(t){this.node&&(this.node.style.color=t)}setFontColor(t){return this.fontColor=t,this}setStyle(t,s){return this.node?(this.node.style[t]=s,this):this}getStyle(t){if(this.node)return this.node.style[t]}scrollToBottom(){return this.node?(this.node.scrollTop=this.node.scrollHeight,this):this}setEnabled(t){return this.node?(t===void 0&&(t=!0),this.node.disabled=!t,this):this}setBlur(){return this.node?(this.node.blur(),this):this}setFocus(){return this.node?(this.node.focus(),this):this}get isFocused(){return this.isOpened}};r(L0,"HiddenTextEditBase");let Hh=L0;Object.assign(Hh.prototype,pD);var LP=r(function(e,t,s){e=e.replace(" ","");var h=s.previousText;if(e===h)return e;if(isNaN(e)){s.emit("nan",e,s),e=h;var S=s.cursorPosition-1;s.setText(e),s.setCursorPosition(S)}else s.previousText=e;return e},"NumberInputUpdateCallback"),gD=r(function(e){var t=e.parent,s=e.isOpened?e.selectionStart:null,h=e.isOpened?e.selectionEnd:null,S=e.prevSelectionStart,E=e.prevSelectionEnd;if(!(S===s&&E===h)){var n,T;S===null?(n=s,T=h):s===null?(n=S,T=E):(n=Math.min(S,s),T=Math.max(E,h));for(var i=n;i<T;i++){var f;S===null?f=!1:f=i>=S&&i<E;var y;if(s===null?y=!1:y=i>=s&&i<h,f!==y){var c=t.getCharChild(i);if(c){var o=f?"cursorout":"cursorin";t.emit(o,c,i,t)}}}e.prevSelectionStart=s,e.prevSelectionEnd=h}},"SelectRange"),mD=r(function(e){var t=e.parent,s=0,h=t.width,S=0,E=t.height,n=e.drawX,T=e.drawY,i=n+e.drawTLX,f=n+e.drawTRX,y=T+e.drawTLY,c=T+e.drawBLY,o;i<s?o=s-i:f>h?o=h-f:o=0;var l;y<S?l=S-y:c>E?l=E-c:l=0,t._textOX+=o,t._textOY+=l},"ScrollToBob"),xD=r(function(e){var t=e.parent,s=t.text,h=e.cursorPosition;if(e.prevCursorPosition!==h){if(e.prevCursorPosition!==null&&e.prevCursorPosition>s.length&&(e.prevCursorPosition=null),e.prevCursorPosition!==null){var S=t.getCharChild(e.prevCursorPosition);S&&(S.text===`
`&&S.clearTextSize(),t.emit("cursorout",S,e.prevCursorPosition,t))}if(h!=null){var S=t.getCharChild(h);S&&(S.text===`
`&&S.copyTextSize(t.lastInsertCursor),mD(S),t.emit("cursorin",S,h,t))}t.emit("movecursor",h,e.prevCursorPosition,t),e.prevCursorPosition=h}},"MoveCursor"),JS=r(function(e){var t=e.prevSelectionStart;if(t!==null){for(var s=e.prevSelectionEnd,h=e.parent,S=t;S<s;S++){var E=h.getCharChild(S);E&&h.emit("cursorout",E,S,h)}e.prevSelectionStart=null,e.prevSelectionEnd=null}},"ClearSelectRange"),QS=r(function(e){var t=e.prevCursorPosition;if(t!==null){var s=e.parent,h=s.getCharChild(t);h&&s.emit("cursorout",h,t,s),e.prevCursorPosition=null}},"ClearCursor");const yD=Phaser.Utils.Objects.GetValue;var Un;let SD=(Un=class extends Hh{constructor(t,s){super(t,s),this.setSelectAllWhenFocusEnable(yD(s,"selectAll",!1)),this.cursorMoveStartIndex=null,this.prevCursorPosition=null,this.prevSelectionStart=null,this.prevSelectionEnd=null,this.firstClickAfterOpen=!1,t.on("pointerdown",function(h,S,E,n){var T=t.getNearestChild(S,E),i=t.getCharIndex(T);(!this.selectAllWhenFocus||!this.firstClickAfterOpen)&&this.setCursorPosition(i),this.cursorMoveStartIndex=i,this.firstClickAfterOpen=!1},this).on("pointermove",function(h,S,E,n){if(h.isDown){var T=t.getNearestChild(S,E),i=t.getCharIndex(T);this.cursorMoveStartIndex<i?this.selectText(this.cursorMoveStartIndex,i+1):this.selectText(i,this.cursorMoveStartIndex+1)}},this),this.on("open",function(){this.selectAllWhenFocus&&this.selectAll(),this.firstClickAfterOpen=!0,t.emit("open")},this).on("close",function(){t.emit("close")}).on("keydown-ENTER",function(){t.emit("keydown-ENTER")})}initText(){var t=this.parent;return this.prevCursorPosition=null,this.setText(t.text),this}updateText(){var t=this.parent,s=this.text;if(this.onUpdateCallback){var h=this.onUpdateCallback(s,t,this);h!=null&&(s=h)}return t.text!==s&&t.setText(s),this.isOpened?this.selectionStart!==this.selectionEnd?(QS(this),gD(this)):(JS(this),xD(this)):(JS(this),QS(this)),this}setNumberInput(){return this.onUpdateCallback=LP,this}setSelectAllWhenFocusEnable(t){return t===void 0&&(t=!0),this.selectAllWhenFocus=t,this}},r(Un,"HiddenTextEdit"),Un);const TD=Phaser.Utils.Objects.GetValue,CD=["inputType","onOpen","clickOutSideTarget","onFocus","onClose","onBlur","onUpdate","enterClose","readOnly","maxLength","minLength","selectAll"];var ED=r(function(e,t){var s=TD(t,"edit");return s===void 0&&(s={}),As(t,s,CD),new SD(e,s)},"CreateHiddenTextEdit"),Zi=r(function(e,t){if(!e||typeof e=="number")return!1;if(e.hasOwnProperty(t))return!0;if(t.indexOf(".")!==-1){for(var s=t.split("."),h=e,S=0;S<s.length;S++)if(h.hasOwnProperty(s[S]))h=h[s[S]];else return!1;return!0}else return!1},"HasValue"),pv=r(function(e){if(e.parentContainer)return pv(e.parentContainer);var t=rP(e);return t?pv(t):e},"GetRootGameObject"),PD=r(function(e){for(var t=pv(e).cameraFilter,s=e.scene.sys.cameras.cameras,h,S,E=0,n=s.length;E<n;E++)if(h=s[E],S=(t&h.id)>0,!S)return h;return null},"GetFirstRenderCamera");const O0=class O0 extends Gt{constructor(t,s){super(t),this.targetCamera=void 0,this.boot()}boot(){this.scene.sys.events.on("prerender",this.resize,this)}destroy(){this.scene&&(this.scene.sys.events.off("prerender",this.resize,this),super.destroy())}resize(){var t=this.scene,s=this.parent,h=PD(s);if(h){s.setScrollFactor(0).setOrigin(.5);var S=t.sys.scale.gameSize,E=S.width,n=S.height,T=1/h.zoom,i=E/2,f=n/2,y=E*T,c=n*T;(s.x!==i||s.y!==f)&&s.setPosition(i,f),(s.width!==y||s.height!==c)&&s.setSize(y,c)}}};r(O0,"FullWindow");let wu=O0;const RD=Phaser.GameObjects.Zone;var Vn;let Vp=(Vn=class extends RD{constructor(t){super(t,0,0,2,2),this.fullWindow=new wu(this)}},r(Vn,"FullWindowRectangle"),Vn);var AD=r(function(e,t){var s=!t.textArea;if(!Zi(t,"wrap.vAlign")){var h=s?"center":"top";it(t,"wrap.vAlign",h)}if(Zi(t,"wrap.wrapMode")||it(t,"wrap.wrapMode","char"),!Zi(t,"wrap.maxLines")){var h=s?1:void 0;it(t,"wrap.maxLines",h)}if(s&&it(t,"wrap.wrapWidth",1/0),Zi(t,"wrap.useDefaultTextHeight")||it(t,"wrap.useDefaultTextHeight",!0),t.edit||(t.edit={}),!Zi(t.edit,"inputType")){var h=s?"text":"textarea";it(t.edit,"inputType",h)}if(t.clickOutSideTarget===!0){var S=new Vp(e);e.add.existing(S),t.clickOutSideTarget=S}return t},"InjectDefaultConfig"),gv=r(function(e,t,s,h){if(s===void 0&&(s="."),h===void 0&&(h={}),!e)return h;if(t in e)return Object.assign(h,e[t]);t+=s;for(var S in e)S.startsWith(t)&&(h[S.replace(t,"")]=e[S]);return h},"ExtractByPrefix"),Wp=r(function(e,t,s){if(s===void 0&&(s={}),Array.isArray(t))for(var h,S=0,E=t.length;S<E;S++)h=t[S],s[h]=e[h];else for(var h in t)s[h]=e[h];return s},"GetPartialData"),Gd=r(function(e,t){for(var s in e)if(!(s in t)||e[s]!==t[s])return!1;for(var s in t)if(!(s in e))return!1;return!0},"IsKeyValueEqual"),LD=r(function(e){Dp(e)||this.setCursorStyle(e).on("cursorin",function(t){var s=this.cursorStyle,h=Wp(t.style,s);Gd(s,h)||(t.styleSave=h,t.modifyStyle(s))},this).on("cursorout",function(t){t.styleSave&&(t.modifyStyle(t.styleSave),t.styleSave=void 0)},this)},"RegisterCursorStyle"),OD=r(function(e){Dp(e)||this.setFocusStyle(e).on("open",function(){var t=this.background,s=this.focusStyle,h=Wp(t,s);Gd(s,h)||(t.styleSave=h,t.modifyStyle(s))},this).on("close",function(){var t=this.background;t.styleSave&&(t.modifyStyle(t.styleSave),t.styleSave=void 0)},this)},"RegisterFocusStyle"),wD=r(function(e){var t=e.createCharChild("|");return t.text="",t},"CreateInsertCursorChild");function ls(){}r(ls,"Diff");ls.prototype={diff(e,t,s={}){let h=s.callback;typeof s=="function"&&(h=s,s={}),this.options=s;let S=this;function E(l){return h?(setTimeout(function(){h(void 0,l)},0),!0):l}r(E,"done"),e=this.castInput(e),t=this.castInput(t),e=this.removeEmpty(this.tokenize(e)),t=this.removeEmpty(this.tokenize(t));let n=t.length,T=e.length,i=1,f=n+T;s.maxEditLength&&(f=Math.min(f,s.maxEditLength));let y=[{newPos:-1,components:[]}],c=this.extractCommon(y[0],t,e,0);if(y[0].newPos+1>=n&&c+1>=T)return E([{value:this.join(t),count:t.length}]);function o(){for(let l=-1*i;l<=i;l+=2){let a,u=y[l-1],v=y[l+1],d=(v?v.newPos:0)-l;u&&(y[l-1]=void 0);let p=u&&u.newPos+1<n,g=v&&0<=d&&d<T;if(!p&&!g){y[l]=void 0;continue}if(!p||g&&u.newPos<v.newPos?(a=bD(v),S.pushComponent(a.components,void 0,!0)):(a=u,a.newPos++,S.pushComponent(a.components,!0,void 0)),d=S.extractCommon(a,t,e,l),a.newPos+1>=n&&d+1>=T)return E(MD(S,a.components,t,e,S.useLongestToken));y[l]=a}i++}if(r(o,"execEditLength"),h)r(function l(){setTimeout(function(){if(i>f)return h();o()||l()},0)},"exec")();else for(;i<=f;){let l=o();if(l)return l}},pushComponent(e,t,s){let h=e[e.length-1];h&&h.added===t&&h.removed===s?e[e.length-1]={count:h.count+1,added:t,removed:s}:e.push({count:1,added:t,removed:s})},extractCommon(e,t,s,h){let S=t.length,E=s.length,n=e.newPos,T=n-h,i=0;for(;n+1<S&&T+1<E&&this.equals(t[n+1],s[T+1]);)n++,T++,i++;return i&&e.components.push({count:i}),e.newPos=n,T},equals(e,t){return this.options.comparator?this.options.comparator(e,t):e===t||this.options.ignoreCase&&e.toLowerCase()===t.toLowerCase()},removeEmpty(e){let t=[];for(let s=0;s<e.length;s++)e[s]&&t.push(e[s]);return t},castInput(e){return e},tokenize(e){return e.split("")},join(e){return e.join("")}};function MD(e,t,s,h,S){let E=0,n=t.length,T=0,i=0;for(;E<n;E++){let y=t[E];if(y.removed){if(y.value=e.join(h.slice(i,i+y.count)),i+=y.count,E&&t[E-1].added){let c=t[E-1];t[E-1]=t[E],t[E]=c}}else{if(!y.added&&S){let c=s.slice(T,T+y.count);c=c.map(function(o,l){let a=h[i+l];return a.length>o.length?a:o}),y.value=e.join(c)}else y.value=e.join(s.slice(T,T+y.count));T+=y.count,y.added||(i+=y.count)}}let f=t[n-1];return n>1&&typeof f.value=="string"&&(f.added||f.removed)&&e.equals("",f.value)&&(t[n-2].value+=f.value,t.pop()),t}r(MD,"buildValues");function bD(e){return{newPos:e.newPos,components:e.components.slice(0)}}r(bD,"clonePath");const ID=new ls;function FD(e,t,s){return ID.diff(e,t,s)}r(FD,"diffChars");const jS=/^[a-zA-Z\u{C0}-\u{FF}\u{D8}-\u{F6}\u{F8}-\u{2C6}\u{2C8}-\u{2D7}\u{2DE}-\u{2FF}\u{1E00}-\u{1EFF}]+$/u,qS=/\S/,OP=new ls;OP.equals=function(e,t){return this.options.ignoreCase&&(e=e.toLowerCase(),t=t.toLowerCase()),e===t||this.options.ignoreWhitespace&&!qS.test(e)&&!qS.test(t)};OP.tokenize=function(e){let t=e.split(/([^\S\r\n]+|[()[\]{}'"\r\n]|\b)/);for(let s=0;s<t.length-1;s++)!t[s+1]&&t[s+2]&&jS.test(t[s])&&jS.test(t[s+2])&&(t[s]+=t[s+2],t.splice(s+1,2),s--);return t};const wP=new ls;wP.tokenize=function(e){let t=[],s=e.split(/(\n|\r\n)/);s[s.length-1]||s.pop();for(let h=0;h<s.length;h++){let S=s[h];h%2&&!this.options.newlineIsToken?t[t.length-1]+=S:(this.options.ignoreWhitespace&&(S=S.trim()),t.push(S))}return t};const DD=new ls;DD.tokenize=function(e){return e.split(/(\S.+?[.!?])(?=\s+|$)/)};const BD=new ls;BD.tokenize=function(e){return e.split(/([{}:;,]|\s+)/)};const GD=Object.prototype.toString,Xh=new ls;Xh.useLongestToken=!0;Xh.tokenize=wP.tokenize;Xh.castInput=function(e){const{undefinedReplacement:t,stringifyReplacer:s=r((h,S)=>typeof S>"u"?t:S,"stringifyReplacer")}=this.options;return typeof e=="string"?e:JSON.stringify(mv(e,null,null,s),s,"  ")};Xh.equals=function(e,t){return ls.prototype.equals.call(Xh,e.replace(/,([\r\n])/g,"$1"),t.replace(/,([\r\n])/g,"$1"))};function mv(e,t,s,h,S){t=t||[],s=s||[],h&&(e=h(S,e));let E;for(E=0;E<t.length;E+=1)if(t[E]===e)return s[E];let n;if(GD.call(e)==="[object Array]"){for(t.push(e),n=new Array(e.length),s.push(n),E=0;E<e.length;E+=1)n[E]=mv(e[E],t,s,h,S);return t.pop(),s.pop(),n}if(e&&e.toJSON&&(e=e.toJSON()),typeof e=="object"&&e!==null){t.push(e),n={},s.push(n);let T=[],i;for(i in e)e.hasOwnProperty(i)&&T.push(i);for(T.sort(),E=0;E<T.length;E+=1)i=T[E],n[i]=mv(e[i],t,s,h,i);t.pop(),s.pop()}else n=e;return n}r(mv,"canonicalize");const xv=new ls;xv.tokenize=function(e){return e.slice()};xv.join=xv.removeEmpty=function(e){return e};const ND=Phaser.Utils.Array.Remove;var UD=r(function(e,t){var s=e.text;if(t!==s){if(s==null&&(s=""),ND(e.children,e.lastInsertCursor),t==="")e.removeChildren();else for(var h=FD(s,t),S=0,E=0,n=h.length;E<n;E++){var T=h[E];T.removed?e.removeText(S,T.count):(T.added&&e.insertText(S,T.value),S+=T.count)}e.children.push(e.lastInsertCursor),e.runWrap(),e.emit("textchange",t,e)}},"SetText$1");const VD={setTextOYByPercentage(e){return this.setTextOY(-this.textVisibleHeight*e),this},getTextOYPercentage(){var e=this.textVisibleHeight;return e===0?0:this._textOY/-e},setTextOXByPercentage(e){return this.setTextOX(-this.textVisibleWidth*e),this},getTextOXPercentage(){var e=this.textVisibleWidth;return e===0?0:this._textOX/-e}},_S=Phaser.Utils.Objects.IsPlainObject,w0=class w0 extends Fs{constructor(t,s,h,S,E,n){_S(s)?n=s:_S(S)&&(n=S),n===void 0&&(n={}),AD(t,n);var T=n.text;T&&delete n.text;var i=gv(n.background,"focus"),f=gv(n.style,"cursor");super(t,s,h,S,E,n),this.type="rexCanvasInput",this.contentWidth=void 0,this.contentHeight=void 0,this.lineHeight=void 0,this.linesCount=void 0,this._text,this.textEdit=ED(this,n),n.focusStyle&&Object.assign(i,n.focusStyle),OD.call(this,i),n.cursorStyle&&Object.assign(f,n.cursorStyle),LD.call(this,f);var y=n.onAddChar;y&&this.on("addchar",y);var c=n.onCursorOut;c&&this.on("cursorout",c);var o=n.onCursorIn;o&&this.on("cursorin",o);var l=n.onMoveCursor;l&&this.on("movecursor",l),this.setParseTextCallback(n.parseTextCallback),this.lastInsertCursor=wD(this),T||(T=""),this.setText(T)}addChild(t,s){if(super.addChild(t,s),Array.isArray(t))for(var h=t,S=0,E=h.length;S<E;S++){var t=h[S];ua(t)&&this.emit("addchar",t,s+S,this)}else ua(t)&&this.emit("addchar",t,s,this);return this}get text(){return this._text}set text(t){t==null?t="":t=t.toString(),this._text!==t&&(UD(this,t),this._text=t)}setText(t){return this.text=t,this}appendText(t){return this.setText(this.text+t),this}runWrap(t){var s=super.runWrap(t);return this.contentWidth=s.maxLineWidth,this.contentHeight=s.linesHeight,this.lineHeight=s.lineHeight,this.linesCount=s.lines.length,s}setSize(t,s){return this.width===t&&this.height===s?this:(super.setSize(t,s),this.runWrap(),this)}get displayText(){return this.text}set displayText(t){this.text=t}setDisplayText(t){return this.displayText=t,this}get inputText(){return this.textEdit.text}set inputText(t){this.textEdit.text=t}setInputText(t){return this.inputText=t,this}setParseTextCallback(t){return t||(t=WD),this.parseTextCallback=t,this}get value(){return this.parseTextCallback(this.text)}set value(t){this.setText(t)}getValue(){return this.value}setValue(t){return this.value=t,this}get readOnly(){return this.textEdit.readOnly}set readOnly(t){this.textEdit.readOnly=t}setReadOnly(t){return this.textEdit.setReadOnly(t),this}open(t){return t&&this.textEdit.once("close",t),this.textEdit.open(),this}close(){return this.textEdit.close(),this}get isOpened(){return this.textEdit.isOpened}setFocusStyle(t){return this.focusStyle=t,this}setCursorStyle(t){return this.cursorStyle=t,this}setNumberInput(){return this.textEdit.setNumberInput().setSelectAllWhenFocusEnable(),this.parseTextCallback=Number,this}get maxLength(){return this.textEdit.maxLength}set maxLength(t){this.textEdit.maxLength=t}setMaxLength(t){return this.maxLength=t,this}get minLength(){return this.textEdit.minLength}set minLength(t){this.textEdit.minLength=t}setMinLength(t){return this.minLength=t,this}get topTextOY(){return 0}get bottomTextOY(){return-this.tableVisibleHeight}get leftTextOX(){return 0}get rightTextOX(){return-this.textVisibleWidth}get textVisibleHeight(){var t=this.contentHeight-this.height;return t<0&&(t=0),t}get textVisibleWidth(){var t=this.contentWidth-this.width;return t<0&&(t=0),t}set t(t){this.setTextOYByPercentage(t).updateTexture()}get t(){return this.getTextOYPercentage()}set s(t){this.setTextOXByPercentage(t).updateTexture()}get s(){return this.getTextOXPercentage()}};r(w0,"CanvasInput");let pr=w0;var WD=r(function(e){return e},"DefaultParseTextCallback");Object.assign(pr.prototype,VD);st.register("canvasInput",function(e,t,s,h,S){var E=new pr(this.scene,e,t,s,h,S);return this.scene.add.existing(E),E});it(window,"RexPlugins.UI.CanvasInput",pr);var zp=r(function(e){return vr(e).loop.delta},"GetTickDelta");const tT=Phaser.Utils.Objects.GetValue,zD=Phaser.Math.Wrap,M0=class M0 extends Hh{constructor(t,s){s===void 0&&(s={}),s.onUpdate==="number"&&(s.onUpdate=LP),super(t,s),this.setCursor(tT(s,"cursor","|")),this.setCursorFlashDuration(tT(s,"cursorFlashDuration",1e3)),this.cursorFlashTimer=0}initText(){return this.cursorFlashTimer=0,this.prevCursorPosition=void 0,this.setText(this.parent.text),this.setCursorPosition(),this}updateText(){var t=this.parent,s=this.text;if(this.onUpdateCallback){var h=this.onUpdateCallback(s,t,this);h!=null&&(s=h)}if(this.isOpened&&this.hasCursor){var S=this.cursorPosition;s=s.substring(0,S)+this.cursor+s.substring(S),this.prevCursorPosition!==S&&(this.prevCursorPosition=S)}return t.text!==s&&(t.setText(s),this.emit("textchange",s,t,this)),this}setCursor(t){return this._cursor=t,this.hasCursor=t&&t!=="",t}setCursorFlashDuration(t){return this.cursorFlashDuration=t,this}get cursor(){if(!this._isFocused)return this._cursor;var t;this.cursorFlashTimer<this.cursorFlashDuration/2?t=this._cursor:t=" ";var s=this.cursorFlashTimer+zp(this.scene);return this.cursorFlashTimer=zD(s,0,this.cursorFlashDuration),t}};r(M0,"HiddenTextEdit");let Mu=M0;st.register("hiddenEdit",function(e,t){var s=new Mu(e,t);return s});it(window,"RexPlugins.UI.HiddenEdit",Mu);const YD=Phaser.GameObjects.GetCalcMatrix;var kD=r(function(e,t,s,h){t.updateData(),s.addToRenderList(t);var S=e.pipelines.set(t.pipeline),E=YD(t,s,h),n=S.calcMatrix.copyFrom(E.calc),T=t._displayOriginX,i=t._displayOriginY,f=s.alpha*t.alpha;e.pipelines.preBatch(t);for(var y=t.geom,c,o=0,l=y.length;o<l;o++)c=y[o],c.visible&&c.webglRender(S,n,f,T,i);e.pipelines.postBatch(t)},"WebGLRenderer");const HD=Phaser.Renderer.Canvas.SetTransform;var XD=r(function(e,t,s,h){t.updateData(),s.addToRenderList(t);var S=e.currentContext;if(HD(e,S,t,s,h)){for(var E=t._displayOriginX,n=t._displayOriginY,T=t.geom,i,f=0,y=T.length;f<y;f++)i=T[f],i.visible&&i.canvasRender(S,E,n);S.restore()}},"CanvasRenderer");const $D={renderWebGL:kD,renderCanvas:XD},KD=Phaser.GameObjects.Shape,ZD=Phaser.Utils.Array.Remove,b0=class b0 extends KD{constructor(t,s,h,S,E){s===void 0&&(s=0),h===void 0&&(h=0),S===void 0&&(S=2),E===void 0&&(E=S),super(t,"rexShapes",[]),this._width=-1,this._height=-1,this.dirty=!0,this.isSizeChanged=!0,this.shapes={},this.setPosition(s,h),this.setSize(S,E),this.updateDisplayOrigin()}get width(){return this._width}set width(t){this.setSize(t,this._height)}get height(){return this._height}set height(t){this.setSize(this._width,t)}setDirty(t){return t===void 0&&(t=!0),this.dirty=t,this}setSize(t,s){this.isSizeChanged=this.isSizeChanged||this._width!==t||this._height!==s,this.dirty=this.dirty||this.isSizeChanged,this._width=t,this._height=s,this.updateDisplayOrigin();var h=this.input;return h&&!h.customHitArea&&(h.hitArea.width=t,h.hitArea.height=s),this}resize(t,s){return this.setSize(t,s),this}get fillColor(){return this._fillColor}set fillColor(t){this.setFillStyle(t,this._fillAlpha)}get fillAlpha(){return this._fillAlpha}set fillAlpha(t){this.setFillStyle(this._fillColor,t)}setFillStyle(t,s){return s===void 0&&(s=1),this.dirty=this.dirty||this.fillColor!==t||this.fillAlpha!==s,this._fillColor=t,this._fillAlpha=s,this}get lineWidth(){return this._lineWidth}set lineWidth(t){this.setStrokeStyle(t,this._strokeColor,this._strokeAlpha)}get strokeColor(){return this._strokeColor}set strokeColor(t){this.setStrokeStyle(this._lineWidth,t,this._strokeAlpha)}get strokeAlpha(){return this._strokeAlpha}set strokeAlpha(t){this.setStrokeStyle(this._lineWidth,this._strokeColor,t)}setStrokeStyle(t,s,h){return h===void 0&&(h=1),this.dirty=this.dirty||this.lineWidth!==t||this.strokeColor!==s||this.strokeAlpha!==h,this._lineWidth=t,this._strokeColor=s,this._strokeAlpha=h,this}updateShapes(){}updateData(){if(!this.dirty)return this;this.updateShapes();for(var t=this.geom,s=0,h=t.length;s<h;s++){var S=t[s];S.dirty&&S.updateData()}return this.isSizeChanged=!1,this.dirty=!1,this}clear(){return this.geom.length=0,ji(this.shapes),this.dirty=!0,this}getShape(t){return this.shapes[t]}getShapes(){return this.geom}addShape(t){this.geom.push(t);var s=t.name;return s&&(this.shapes[s]=t),this.dirty=!0,this}deleteShape(t){var s=this.getShape(t);return s&&(delete this.shapes[t],ZD(this.geom,s)),this}};r(b0,"BaseShapes");let Bi=b0;Object.assign(Bi.prototype,$D);const JD={setBoxFillStyle(e,t){return t===void 0&&(t=1),this.dirty=this.dirty||this.boxFillColor!==e||this.boxFillAlpha!==t,this.boxFillColor=e,this.boxFillAlpha=t,this},setUncheckedBoxFillStyle(e,t){return t===void 0&&(t=1),this.dirty=this.dirty||this.uncheckedBoxFillColor!==e||this.uncheckedBoxFillAlpha!==t,this.uncheckedBoxFillColor=e,this.uncheckedBoxFillAlpha=t,this},setBoxStrokeStyle(e,t,s){return s===void 0&&(s=1),this.dirty=this.dirty||this.boxLineWidth!==e||this.boxStrokeColor!==t||this.boxStrokeAlpha!==s,this.boxLineWidth=e,this.boxStrokeColor=t,this.boxStrokeAlpha=s,this},setUncheckedBoxStrokeStyle(e,t,s){return s===void 0&&(s=1),this.dirty=this.dirty||this.uncheckedBoxLineWidth!==e||this.uncheckedBoxStrokeColor!==t||this.uncheckedBoxStrokeAlpha!==s,this.uncheckedBoxLineWidth=e,this.uncheckedBoxStrokeColor=t,this.uncheckedBoxStrokeAlpha=s,this},setCheckerStyle(e,t){return t===void 0&&(t=1),this.dirty=this.dirty||this.checkerColor!==e||this.checkAlpha!==t,this.checkerColor=e,this.checkAlpha=t,this},setBoxShape(e){return e===void 0&&(e=!1),this.isCircleShape===e?this:(this.isCircleShape=e,this.isSizeChanged=!0,this.dirty=!0,this)}},QD={setBoxSize(e){return this.dirty=this.dirty||this.boxSize!==e,this.boxSize=e,this},setCheckerSize(e){return this.dirty=this.dirty||this.checkerSize!==e,this.checkerSize=e,this}};var jD=r(function(e,t){return e==null?this.isFilled=!1:(t===void 0&&(t=1),this.isFilled=!0,this.fillColor=e,this.fillAlpha=t),this},"FillStyle"),qD=r(function(e,t,s){return e==null||t==null?this.isStroked=!1:(s===void 0&&(s=1),this.isStroked=!0,this.lineWidth=e,this.strokeColor=t,this.strokeAlpha=s),this},"LineStyle");const _D={fillStyle:jD,lineStyle:qD},I0=class I0{constructor(){this.name=void 0,this.dirty=!0,this.visible=!0,this.data=void 0,this.isFilled=!1,this.fillColor=void 0,this.fillAlpha=1,this.isStroked=!1,this.lineWidth=1,this.strokeColor=void 0,this.strokeAlpha=1}setName(t){return this.name=t,this}setVisible(t){return t===void 0&&(t=!0),this.visible=t,this}reset(){return this.setVisible().fillStyle().lineStyle(),this}webglRender(t,s,h,S,E){}canvasRender(t,s,h){}updateData(){this.dirty=!1}};r(I0,"BaseGeom");let va=I0;Object.assign(va.prototype,_D,bd);const t4=Phaser.Geom.Polygon.Earcut,F0=class F0 extends va{constructor(){super(),this.pathData=[],this.pathIndexes=[],this.closePath=!1}updateData(){return this.pathIndexes=t4(this.pathData),super.updateData(),this}webglRender(t,s,h,S,E){this.isFilled&&PE(t,s,this,h,S,E),this.isStroked&&Id(t,this,h,S,E)}canvasRender(t,s,h){var S=this.pathData,E=S.length-1,n=S[0]-s,T=S[1]-h;t.beginPath(),t.moveTo(n,T),this.closePath||(E-=2);for(var i=2;i<E;i+=2){var f=S[i]-s,y=S[i+1]-h;t.lineTo(f,y)}this.closePath&&t.closePath(),this.isFilled&&(Bo(t,this),t.fill()),this.isStroked&&(Go(t,this),t.stroke())}};r(F0,"PathBase");let gr=F0;const eT=Phaser.Math.DegToRad,D0=class D0 extends gr{constructor(t,s,h,S,E,n,T,i){t===void 0&&(t=0),s===void 0&&(s=0),h===void 0&&(h=0),S===void 0&&(S=0),E===void 0&&(E=0),n===void 0&&(n=360),T===void 0&&(T=!1),i===void 0&&(i=!1),super(),this.setCenterPosition(t,s),this.setRadius(h,S),this.setAngle(E,n,T),this.setPie(i),this.setIterations(32)}get x(){return this._x}set x(t){this.dirty=this.dirty||this._x!==t,this._x=t}get y(){return this._y}set y(t){this.dirty=this.dirty||this._y!==t,this._y=t}setCenterPosition(t,s){return s===void 0&&(s=t),this.x=t,this.y=s,this}get radiusX(){return this._radiusX}set radiusX(t){this.dirty=this.dirty||this._radiusX!==t,this._radiusX=t}get radiusY(){return this._radiusY}set radiusY(t){this.dirty=this.dirty||this._radiusY!==t,this._radiusY=t}setRadius(t,s){return s===void 0&&(s=t),this.radiusX=t,this.radiusY=s,this}get startAngle(){return this._startAngle}set startAngle(t){this.dirty=this.dirty||this._startAngle!==t,this._startAngle=t}get endAngle(){return this._endAngle}set endAngle(t){this.dirty=this.dirty||this._endAngle!==t,this._endAngle=t}get anticlockwise(){return this._anticlockwise}set anticlockwise(t){this.dirty=this.dirty||this._anticlockwise!==t,this._anticlockwise=t}setAngle(t,s,h){return h===void 0&&(h=!1),this.startAngle=t,this.endAngle=s,this.anticlockwise=h,this}get pie(){return this._pie}set pie(t){this.dirty=this.dirty||this._pie!==t,this._pie=t}setPie(t){return t===void 0&&(t=!0),this.pie=t,this}get iterations(){return this._iterations}set iterations(t){this.dirty=this.dirty||this._iterations!==t,this._iterations=t}setIterations(t){return this.iterations=t,this}updateData(){return this.pathData.length=0,this.pie&&this.pathData.push(this.x,this.y),he(this.x,this.y,this.radiusX,this.radiusY,this.startAngle,this.endAngle,this.anticlockwise,this.iterations,this.pathData),this.pie&&this.pathData.push(this.x,this.y),this.pathData.push(this.pathData[0],this.pathData[1]),super.updateData(),this}canvasRender(t,s,h){t.beginPath();var S=this.x-s,E=this.y-h,n=eT(this.startAngle),T=eT(this.endAngle);this.pie&&(t.moveTo(S,E),t.lineTo(S+Math.cos(n)*this.radiusX,E+Math.sin(n)*this.radiusY)),t.ellipse(S,E,this.radiusX,this.radiusY,0,n,T,this.anticlockwise),this.pie&&t.lineTo(S,E),this.isFilled&&(Bo(t,this),t.fill()),this.isStroked&&(Go(t,this),t.stroke())}};r(D0,"Arc");let Bs=D0;const B0=class B0 extends Bs{constructor(t,s,h){super(t,s,h,h,0,360)}};r(B0,"Circle");let Ge=B0;const G0=class G0 extends gr{constructor(t){super(),this.setCurve(t),this.setIterations(32)}get curve(){return this._curve}set curve(t){this.dirty=this.dirty||this._curve!==t,this._curve=t}setCurve(t){return this.curve=t,this}get iterations(){return this._iterations}set iterations(t){this.dirty=this.dirty||this._iterations!==t,this._iterations=t}setIterations(t){return this.iterations=t,this}updateData(){this.pathData.length=0;for(var t=this.curve.getPoints(this.iterations),s=0,h=t.length;s<h;s++)this.pathData.push(t[s].x,t[s].y);return this.pathData.push(t[0].x,t[0].y),super.updateData(),this}};r(G0,"Curve");let yv=G0;const N0=class N0 extends Bs{constructor(t,s,h,S){super(t,s,h,S,0,360)}};r(N0,"Ellipse");let Sv=N0;const U0=class U0 extends gr{constructor(t,s,h,S){t===void 0&&(t=0),s===void 0&&(s=0),h===void 0&&(h=0),S===void 0&&(S=0),super(),this.setP0(t,s),this.setP1(h,S)}get x0(){return this._x0}set x0(t){this.dirty=this.dirty||this._x0!==t,this._x0=t}get y0(){return this._y0}set y0(t){this.dirty=this.dirty||this._y0!==t,this._y0=t}setP0(t,s){return this.x0=t,this.y0=s,this}get x1(){return this._x1}set x1(t){this.dirty=this.dirty||this._x1!==t,this._x1=t}get y1(){return this._y1}set y1(t){this.dirty=this.dirty||this._y1!==t,this._y1=t}setP1(t,s){return this.x1=t,this.y1=s,this}updateData(){return this.pathData.length=0,this.pathData.push(this.x0,this.y0),this.pathData.push(this.x1,this.y1),this.pathData.push(this.x0,this.y0),super.updateData(),this}};r(U0,"Line");let Gi=U0;var e4=r(function(e,t,s){return s.length=0,e!=null&&s.push(e,t),s},"StartAt");const iT=Phaser.Math.Interpolation.QuadraticBezier;var i4=r(function(e,t,s,h,S,E){for(var n=E.length,T=E[n-2],i=E[n-1],f=1,y=S-1;f<=y;f++){var c=f/y;E.push(iT(c,T,e,s),iT(c,i,t,h))}return E},"QuadraticBezierTo");const sT=Phaser.Math.Interpolation.CubicBezier;var s4=r(function(e,t,s,h,S,E,n,T){for(var i=T.length,f=T[i-2],y=T[i-1],c=1,o=n-1;c<=o;c++){var l=c/o;T.push(sT(l,f,e,s,S),sT(l,y,t,h,E))}return T},"CubicBezierCurveTo"),MP=r(function(e){var t=e.length;if(t<2)return e;var s=e[t-2],h=e[t-1];return e.push(s),e.push(h),e},"DuplicateLast");const r4={clear(){return this.start(),this},start(){return this.startAt(),this},startAt(e,t){return this.restorePathData(),this.accumulationLengths=void 0,e4(e,t,this.pathData),this.firstPointX=e,this.firstPointY=t,this.lastPointX=e,this.lastPointY=t,this},lineTo(e,t,s){return s===void 0&&(s=!1),s&&(e+=this.lastPointX,t+=this.lastPointY),ae(e,t,this.pathData),this.lastPointX=e,this.lastPointY=t,this},verticalLineTo(e,t){return this.lineTo(e,this.lastPointY,t),this},horizontalLineTo(e,t){return this.lineTo(this.lastPointX,e,t),this},ellipticalArc(e,t,s,h,S,E,n){return n===void 0&&(n=!1),he(e,t,s,h,S,E,n,this.iterations,this.pathData),this.lastPointX=this.pathData[this.pathData.length-2],this.lastPointY=this.pathData[this.pathData.length-1],this},arc(e,t,s,h,S,E){return this.ellipticalArc(e,t,s,s,h,S,E),this},quadraticBezierTo(e,t,s,h){return i4(e,t,s,h,this.iterations,this.pathData),this.lastPointX=s,this.lastPointY=h,this.lastCX=e,this.lastCY=t,this},smoothQuadraticBezierTo(e,t){var s=this.lastPointX*2-this.lastCX,h=this.lastPointY*2-this.lastCY;return this.quadraticBezierTo(s,h,e,t),this},cubicBezierCurveTo(e,t,s,h,S,E){return s4(e,t,s,h,S,E,this.iterations,this.pathData),this.lastPointX=S,this.lastPointY=E,this.lastCX=s,this.lastCY=h,this},smoothCubicBezierCurveTo(e,t,s,h){var S=this.lastPointX*2-this.lastCX,E=this.lastPointY*2-this.lastCY;return this.cubicBezierCurveTo(S,E,e,t,s,h),this},close(){var e=this.pathData[0],t=this.pathData[1];return(e!==this.lastPointX||t!==this.lastPointY)&&this.lineTo(e,t),this.closePath=!0,this},end(){return MP(this.pathData),this}},n4=Phaser.Math.RotateAround;var a4=r(function(e,t,s,h){for(var S={x:0,y:0},E=0,n=h.length-1;E<n;E+=2)S.x=h[E],S.y=h[E+1],n4(S,e,t,s),h[E]=S.x,h[E+1]=S.y;return h},"RotateAround$5"),h4=r(function(e,t,s,h,S){for(var E=0,n=S.length-1;E<n;E+=2){var T=S[E]-e,i=S[E+1]-t;T*=s,i*=h,S[E]=T+e,S[E+1]=i+t}return S},"Scale$2"),bP=r(function(e,t,s){for(var h=0,S=s.length-1;h<S;h+=2)s[h]+=e,s[h+1]+=t;return s},"Offset");const o4=Phaser.Math.DegToRad,l4=Phaser.Math.RotateAround,u4={rotateAround(e,t,s){if(this.pathData.length===0)return this;s=o4(s),a4(e,t,s,this.pathData);var h=this.pathData.length;if(this.lastPointX=this.pathData[h-2],this.lastPointY=this.pathData[h-1],this.lastCX!==void 0){var S={x:this.lastCX,y:this.lastCY};l4(S,e,t,s),this.lastCX=S.x,this.lastCY=S.y}return this},scale(e,t,s,h){if(this.pathData.length===0)return this;if(h4(e,t,s,h,this.pathData),this.lastPointX=this.pathData[pathDataCnt-2],this.lastPointY=this.pathData[pathDataCnt-1],this.lastCX!==void 0){var S=this.lastCX-e,E=this.lastCY-t;S*=s,E*=h,this.lastCX=S+e,this.lastCY=E+t}return this},offset(e,t){return bP(e,t,this.pathData),this}};var bu=r(function(e,t,s,h){s===void 0&&(s=0),h===void 0&&(h=t.length),e.length=h-s;for(var S=0,E=e.length;S<E;S++)e[S]=t[S+s];return e},"Copy");const d4={savePathData(){return this.pathDataSaved?this:(this.pathDataSave=[...this.pathData],this.pathData.length=0,this.pathDataSaved=!0,this)},restorePathData(){return this.pathDataSaved?(bu(this.pathData,this.pathDataSave),this.pathDataSave=void 0,this.pathDataSaved=!1,this):this}},f4=Phaser.Math.Distance.Between,c4=Phaser.Math.Wrap,v4=Phaser.Math.Linear;var rT=r(function(e,t,s,h,S){if(h===void 0&&(h=s,s=0),s=nT(s),h=nT(h),s!==h){var E=t[t.length-1],n=E*s,T=E*h;s<h?mf(e,t,n,T,S):(mf(e,t,n,E,S),mf(e,t,0,T,S)),MP(S)}},"AppendFromPathSegment"),mf=r(function(e,t,s,h,S){for(var E=s>0,n=0,T=t.length;n<T;n++){var i=n*2,f=t[n];if(E){if(f<s)continue;if(f==s)E=!1;else{var y=f-t[n-1],c=1-(f-s)/y;S.push(xl(e,i-2,i,c)),S.push(xl(e,i-1,i+1,c)),E=!1}}if(f<=h){if(S.push(e[i]),S.push(e[i+1]),f===h)break}else{var y=f-t[n-1],c=1-(f-h)/y;S.push(xl(e,i-2,i,c)),S.push(xl(e,i-1,i+1,c));break}}},"AddPathSegment"),xl=r(function(e,t,s,h){var S=e[t],E=e[s];return v4(S,E,h)},"GetInterpolation"),nT=r(function(e){return e===0?0:e%1===0?1:c4(e,0,1)},"WrapT");const p4={updateAccumulationLengths(){if(this.accumulationLengths==null)this.accumulationLengths=[];else if(this.accumulationLengths.length===this.pathData.length/2)return this;for(var e=this.accumulationLengths,t=this.pathData,s,h,S,E,n,T=0,i=0,f=t.length;i<f;i+=2)S=t[i],E=t[i+1],n=s===void 0?0:f4(s,h,S,E),T+=n,e.push(T),s=S,h=E;return this.totalPathLength=T,this},setDisplayPathSegment(e,t){return this.pathDataSaved||(this.updateAccumulationLengths(),this.savePathData()),this.pathData.length=0,rT(this.pathDataSave,this.accumulationLengths,e,t,this.pathData),this},appendFromPathSegment(e,t,s){return t===void 0?this.pathData.push(...e.pathData):(e.updateAccumulationLengths(),rT(e.pathData,e.accumulationLengths,t,s,this.pathData)),this.firstPointX=this.pathData[0],this.firstPointY=this.pathData[1],this.lastPointX=this.pathData[this.pathData.length-2],this.lastPointY=this.pathData[this.pathData.length-1],this}},g4={draw(e,t,s){var h=this.toPoints();return t&&e.fillPoints(h,this.closePath,this.closePath),s&&e.strokePoints(h,this.closePath,this.closePath),this}};var m4=r(function(e,t){t===void 0&&(t=[]);for(var s=0,h=e.length-1;s<h;s+=2)t.push({x:e[s],y:e[s+1]});return t},"ToPoints");const x4=Phaser.Geom.Polygon;var y4=r(function(e,t){return t===void 0&&(t=new x4),t.setTo(e),t},"ToPolygon");const V0=class V0{constructor(t){t===void 0&&(t=[]),this.pathData=t,this.closePath=!1,this.setIterations(32),this.firstPointX=void 0,this.firstPointY=void 0,this.lastPointX=void 0,this.lastPointY=void 0,this.accumulationLengths=void 0}setIterations(t){return this.iterations=t,this}toPoints(){return m4(this.pathData)}toPolygon(t){return y4(this.pathData,t)}};r(V0,"PathDataBuilder");let Iu=V0;Object.assign(Iu.prototype,r4,u4,d4,p4,g4);const W0=class W0 extends gr{constructor(){super(),this.builder=new Iu(this.pathData)}get iterations(){return this.builder.iterations}set iterations(t){this.dirty=this.dirty||this.builder.iterations!==t,this.builder.setIterations(t)}setIterations(t){return this.iterations=t,this}get lastPointX(){return this.builder.lastPointX}get lastPointY(){return this.builder.lastPointY}start(){return this.builder.start(),this.dirty=!0,this}startAt(t,s){return this.builder.startAt(t,s),this.dirty=!0,this}lineTo(t,s,h){return this.builder.lineTo(t,s,h),this.dirty=!0,this}verticalLineTo(t,s){return this.builder.verticalLineTo(t,s),this.dirty=!0,this}horizontalLineTo(t,s){return this.builder.horizontalLineTo(t,s),this.dirty=!0,this}ellipticalArc(t,s,h,S,E,n,T){return this.builder.ellipticalArc(t,s,h,S,E,n,T),this.dirty=!0,this}arc(t,s,h,S,E,n){return this.builder.arc(t,s,h,S,E,n),this.dirty=!0,this}quadraticBezierTo(t,s,h,S){return this.builder.quadraticBezierTo(t,s,h,S),this.dirty=!0,this}smoothQuadraticBezierTo(t,s){return this.builder.smoothQuadraticBezierTo(t,s),this.dirty=!0,this}cubicBezierCurveTo(t,s,h,S,E,n){return this.builder.cubicBezierCurveTo(t,s,h,S,E,n),this.dirty=!0,this}smoothCubicBezierCurveTo(t,s,h,S){return this.builder.smoothCubicBezierCurveTo(t,s,h,S),this.dirty=!0,this}close(){return this.builder.close(),this.closePath=this.builder.closePath,this.dirty=!0,this}end(){return this.builder.end(),this.dirty=!0,this}rotateAround(t,s,h){return this.builder.rotateAround(t,s,h),this.dirty=!0,this}scale(t,s,h,S){return this.builder.scale(t,s,h,S),this.dirty=!0,this}offset(t,s){return this.builder.offset(t,s),this.dirty=!0,this}toPolygon(t){return this.builder.toPolygon(t)}appendPathFrom(t,s,h){return this.builder.appendFromPathSegment(t.builder,s,h),this}copyPathFrom(t,s,h){return this.builder.clear().appendFromPathSegment(t.builder,s,h),this}setDisplayPathSegment(t,s){return this.builder.setDisplayPathSegment(t,s),this}};r(W0,"Lines");let me=W0;const S4=Phaser.Renderer.WebGL.Utils.getTintAppendFloatAlpha;var Wn;let T4=(Wn=class extends va{constructor(t,s,h,S){t===void 0&&(t=0),s===void 0&&(s=0),h===void 0&&(h=0),S===void 0&&(S=h),super(),this.pathData=[],this.closePath=!0,this.setTopLeftPosition(t,s),this.setSize(h,S)}get x(){return this._x}set x(t){this.dirty=this.dirty||this._x!==t,this._x=t}get y(){return this._y}set y(t){this.dirty=this.dirty||this._y!==t,this._y=t}setTopLeftPosition(t,s){return this.x=t,this.y=s,this}get width(){return this._width}set width(t){this.dirty=this.dirty||this._width!==t,this._width=t}get height(){return this._height}set height(t){this.dirty=this.dirty||this._height!==t,this._height=t}setSize(t,s){return this.width=t,this.height=s,this}get centerX(){return this.x+this.width/2}set centerX(t){this.x=t-this.width/2}get centerY(){return this.y+this.height/2}set centerY(t){this.y=t-this.height/2}setCenterPosition(t,s){return this.centerX=t,this.centerY=s,this}updateData(){this.pathData.length=0;var t=this.x,s=t+this.width,h=this.y,S=h+this.height;return this.pathData.push(t,h),this.pathData.push(s,h),this.pathData.push(s,S),this.pathData.push(t,S),this.pathData.push(t,h),super.updateData(),this}webglRender(t,s,h,S,E){if(this.isFilled){var n=t.fillTint,T=S4(this.fillColor,this.fillAlpha*h);n.TL=T,n.TR=T,n.BL=T,n.BR=T,t.batchFillRect(-S+this.x,-E+this.y,this.width,this.height)}this.isStroked&&Id(t,this,h,S,E)}canvasRender(t,s,h){this.isFilled&&(Bo(t,this),t.fillRect(-s,-h,this.width,this.height)),this.isStroked&&(Go(t,this),t.beginPath(),t.rect(-s,-h,this.width,this.height),t.stroke())}},r(Wn,"Rectangle"),Wn);const yl=Phaser.Utils.Objects.GetValue,z0=class z0 extends gr{constructor(t,s,h,S,E,n){t===void 0&&(t=0),s===void 0&&(s=0),h===void 0&&(h=0),S===void 0&&(S=h),E===void 0&&(E=0),n===void 0&&(n=6),super(),this.setTopLeftPosition(t,s),this.setSize(h,S),this.setRadius(E),this.setIterations(n),this.closePath=!0}get x(){return this._x}set x(t){this.dirty=this.dirty||this._x!==t,this._x=t}get y(){return this._y}set y(t){this.dirty=this.dirty||this._y!==t,this._y=t}setTopLeftPosition(t,s){return this.x=t,this.y=s,this}get width(){return this._width}set width(t){this.dirty=this.dirty||this._width!==t,this._width=t}get height(){return this._height}set height(t){this.dirty=this.dirty||this._height!==t,this._height=t}setSize(t,s){return this.width=t,this.height=s,this}get centerX(){return this.x+this.width/2}set centerX(t){this.x=t-this.width/2}get centerY(){return this.y+this.height/2}set centerY(t){this.y=t-this.height/2}setCenterPosition(t,s){return this.centerX=t,this.centerY=s,this}get radiusTL(){return this._radiusTL}set radiusTL(t){var s=t>0;this.dirty=this.dirty||this._radiusTL!==t||this._convexTL!==s,this._convexTL=s,this._radiusTL=Math.abs(t)}get radiusTR(){return this._radiusTR}set radiusTR(t){var s=t>0;this.dirty=this.dirty||this._radiusTR!==t||this._convexTR!==s,this._convexTR=s,this._radiusTR=Math.abs(t)}get radiusBL(){return this._radiusBL}set radiusBL(t){var s=t>0;this.dirty=this.dirty||this._radiusBL!==t||this._convexBL!==s,this._convexBL=s,this._radiusBL=Math.abs(t)}get radiusBR(){return this._radiusBR}set radiusBR(t){var s=t>0;this.dirty=this.dirty||this._radiusBR!==t||this._convexBR!==s,this._convexBR=s,this._radiusBR=Math.abs(t)}get radius(){return Math.max(this.radiusTL,this.radiusTR,this.radiusBL,this.radiusBR)}set radius(t){typeof t=="number"?(this.radiusTL=t,this.radiusTR=t,this.radiusBL=t,this.radiusBR=t):(this.radiusTL=yl(t,"tl",0),this.radiusTR=yl(t,"tr",0),this.radiusBL=yl(t,"bl",0),this.radiusBR=yl(t,"br",0))}setRadius(t){return t===void 0&&(t=0),this.radius=t,this}get iterations(){return this._iterations}set iterations(t){this.dirty=this.dirty||this._iterations!==t,this._iterations=t}setIterations(t){return this.iterations=t,this}updateData(){var t=this.pathData;t.length=0;var s=this.width,h=this.height,S,E=this.iterations+1;if(S=this.radiusTL,S>0)if(this._convexTL){var n=S,T=S;he(n,T,S,S,180,270,!1,E,t)}else{var n=0,T=0;he(n,T,S,S,90,0,!0,E,t)}else ae(0,0,t);if(S=this.radiusTR,S>0)if(this._convexTR){var n=s-S,T=S;he(n,T,S,S,270,360,!1,E,t)}else{var n=s,T=0;he(n,T,S,S,180,90,!0,E,t)}else ae(s,0,t);if(S=this.radiusBR,S>0)if(this._convexBR){var n=s-S,T=h-S;he(n,T,S,S,0,90,!1,E,t)}else{var n=s,T=h;he(n,T,S,S,270,180,!0,E,t)}else ae(s,h,t);if(S=this.radiusBL,S>0)if(this._convexBL){var n=S,T=h-S;he(n,T,S,S,90,180,!1,E,t)}else{var n=0,T=h;he(n,T,S,S,360,270,!0,E,t)}else ae(0,h,t);return t.push(t[0],t[1]),bP(this.x,this.y,t),super.updateData(),this}};r(z0,"RoundRectangle");let pa=z0;const C4=Phaser.Renderer.WebGL.Utils.getTintAppendFloatAlpha;var zn;let E4=(zn=class extends va{constructor(t,s,h,S,E,n){t===void 0&&(t=0),s===void 0&&(s=0),h===void 0&&(h=0),S===void 0&&(S=0),E===void 0&&(E=0),n===void 0&&(n=0),super(),this.pathData=[],this.closePath=!0,this.setP0(t,s),this.setP1(h,S),this.setP2(E,n)}get x0(){return this._x0}set x0(t){this.dirty=this.dirty||this._x0!==t,this._x0=t}get y0(){return this._y0}set y0(t){this.dirty=this.dirty||this._y0!==t,this._y0=t}setP0(t,s){return this.x0=t,this.y0=s,this}get x1(){return this._x1}set x1(t){this.dirty=this.dirty||this._x1!==t,this._x1=t}get y1(){return this._y1}set y1(t){this.dirty=this.dirty||this._y1!==t,this._y1=t}setP1(t,s){return this.x1=t,this.y1=s,this}get x2(){return this._x2}set x2(t){this.dirty=this.dirty||this._x2!==t,this._x2=t}get y2(){return this._y2}set y2(t){this.dirty=this.dirty||this._y2!==t,this._y2=t}setP2(t,s){return this.dirty=this.dirty||this.x2!==t||this.y2!==s,this.x2=t,this.y2=s,this}updateData(){return this.pathData.length=0,this.pathData.push(this.x0,this.y0),this.pathData.push(this.x1,this.y1),this.pathData.push(this.x2,this.y2),this.pathData.push(this.x0,this.y0),super.updateData(),this}webglRender(t,s,h,S,E){if(this.isFilled){var n=C4(this.fillColor,this.fillAlpha*h),T=this.x0-S,i=this.y0-E,f=this.x1-S,y=this.y1-E,c=this.x2-S,o=this.y2-E,l=s.getX(T,i),a=s.getY(T,i),u=s.getX(f,y),v=s.getY(f,y),d=s.getX(c,o),p=s.getY(c,o);t.batchTri(l,a,u,v,d,p,n,n,n)}this.isStroked&&Id(t,this,h,S,E)}canvasRender(t,s,h){var S=this.x1-s,E=this.y1-h,n=this.x2-s,T=this.y2-h,i=this.x3-s,f=this.y3-h;t.beginPath(),t.moveTo(S,E),t.lineTo(n,T),t.lineTo(i,f),t.closePath(),this.isFilled&&(Bo(t,this),t.fill()),this.isStroked&&(Go(t,this),t.stroke())}},r(zn,"Triangle"),zn);const P4={buildShapes(){this.addShape(new pa().setName("box")).addShape(new me().setName("checker"))},updateShapes(){var e=this.width/2,t=this.height/2,s=Math.min(e,t),h=s*2,S=e-s,E=t-s,n=this.boxLineWidth,T=Math.max(h/10,2),i=this.getShape("box"),f=this.getShape("checker");if(this.isSizeChanged){var o=h*(1-this.boxSize)/2,y=n/2,c=h*this.boxSize-n;i.setTopLeftPosition(S+y+o,E+y+o).setSize(c,c),this.isCircleShape?i.setRadius(c/2):i.setRadius(0);var o=h*(1-this.checkerSize)/2,l=h*this.checkerSize/4,a=l*1,u=l*2,v=l*3;f.startAt(a,u).lineTo(u,v).lineTo(v,a).offset(S+o,E+o).end()}this.checked?(i.fillStyle(this.boxFillColor,this.boxFillAlpha).lineStyle(n,this.boxStrokeColor,this.boxStrokeAlpha),f.lineStyle(T,this.checkerColor)):(i.fillStyle(this.uncheckedBoxFillColor,this.uncheckedBoxFillAlpha).lineStyle(n,this.uncheckedBoxStrokeColor,this.uncheckedBoxStrokeAlpha),f.lineStyle()),this.checked&&f.setDisplayPathSegment(this.checkerAnimProgress)}},ms=Phaser.Utils.Objects.GetValue,R4=Phaser.Math.Linear,Y0=class Y0 extends ss{constructor(t,s){super(t,s),this.resetFromJSON(),this.boot()}start(t){if(this.timer.isRunning)return this;var s=this.target;this.propertyKey=ms(t,"key","value");var h=s[this.propertyKey];return this.fromValue=ms(t,"from",h),this.toValue=ms(t,"to",h),this.setEase(ms(t,"ease",this.ease)),this.setDuration(ms(t,"duration",this.duration)),this.setRepeat(ms(t,"repeat",0)),this.setDelay(ms(t,"delay",0)),this.setRepeatDelay(ms(t,"repeatDelay",0)),this.timer.setDuration(this.duration).setRepeat(this.repeat).setDelay(this.delay).setRepeatDelay(this.repeatDelay),s[this.propertyKey]=this.fromValue,super.start(),this}updateTarget(t,s){var h=s.t;h=this.easeFn(h),t[this.propertyKey]=R4(this.fromValue,this.toValue,h)}};r(Y0,"EaseValueTask");let vi=Y0;const A4={setCheckerAnimationDuration(e){return e===void 0&&(e=0),this.checkerAnimDuration=e,this},playCheckerAnimation(){return this.checkerAnimProgressTask===void 0&&(this.checkerAnimProgressTask=new vi(this,{eventEmitter:null})),this.checkerAnimProgressTask.restart({key:"checkerAnimProgress",from:0,to:1,duration:this.checkerAnimDuration}),this},stopCheckerAnimation(){return this.checkerAnimProgressTask===void 0?this:(this.checkerAnimProgressTask.stop(),this)}};var IP={};Object.assign(IP,JD,QD,P4,A4);const zt=Phaser.Utils.Objects.GetValue,aT=Phaser.Utils.Objects.IsPlainObject,xf=23730,L4=16777215,k0=class k0 extends Bi{constructor(t,s,h,S,E,n,T){aT(s)?(T=s,s=zt(T,"x",0),h=zt(T,"y",0),S=zt(T,"width",2),E=zt(T,"height",2),n=zt(T,"color",xf)):aT(n)&&(T=n,n=zt(T,"color",xf)),super(t,s,h,S,E),this.type="rexCheckbox",n===void 0&&(n=xf),this.setBoxShape(zt(T,"circleBox",!1)),this.setBoxFillStyle(n,zt(T,"boxFillAlpha",1)),this.setUncheckedBoxFillStyle(zt(T,"uncheckedColor",null),zt(T,"uncheckedBoxFillAlpha",1)),this.setBoxStrokeStyle(zt(T,"boxLineWidth",4),zt(T,"boxStrokeColor",n),zt(T,"boxStrokeAlpha",1)),this.setUncheckedBoxStrokeStyle(this.boxLineWidth,zt(T,"uncheckedBoxStrokeColor",this.boxStrokeColor),zt(T,"uncheckedBoxStrokeAlpha",this.boxStrokeAlpha)),this.setCheckerStyle(zt(T,"checkerColor",L4),zt(T,"checkerAlpha",1)),this.setBoxSize(zt(T,"boxSize",1)),this.setCheckerSize(zt(T,"checkerSize",1)),this.setCheckerAnimationDuration(zt(T,"animationDuration",150)),this.buildShapes();var i=zt(T,"checked");i===void 0&&(i=zt(T,"value",!1)),this.setValue(i)}get value(){return this._value}set value(t){t=!!t,this._value!==t&&(this.dirty=!0,this._value=t,t?this.playCheckerAnimation():this.stopCheckerAnimation(),this.emit("valuechange",t))}setValue(t){return this.value=t,this}toggleValue(){return this.setValue(!this.value),this}get checked(){return this.value}set checked(t){this.value=t}setChecked(t){return t===void 0&&(t=!0),this.setValue(t),this}toggleChecked(){return this.toggleValue(),this}get checkerAnimProgress(){return this._checkerAnimProgress}set checkerAnimProgress(t){this._checkerAnimProgress!==t&&(this._checkerAnimProgress=t,this.dirty=!0)}};r(k0,"CheckboxShape");let Fu=k0;Object.assign(Fu.prototype,IP);const nh=Phaser.Utils.Objects.GetValue;var Yn;let us=(Yn=class extends Gt{constructor(t,s){super(t,s),this._enable=void 0,t.setInteractive(nh(s,"inputConfig",void 0)),this.resetFromJSON(s),this.boot()}resetFromJSON(t){return this.pointer=void 0,this.lastClickTime=void 0,this.isDown=!1,this.isOver=!1,this.setEnable(nh(t,"enable",!0)),this.setMode(nh(t,"mode",1)),this.setClickInterval(nh(t,"clickInterval",100)),this.setDragThreshold(nh(t,"threshold",void 0)),this}boot(){var t=this.parent;t.on("pointerdown",this.onPress,this),t.on("pointerup",this.onRelease,this),t.on("pointerout",this.onPointOut,this),t.on("pointermove",this.onMove,this),t.on("pointerover",this.onOver,this),t.on("pointerout",this.onOut,this)}shutdown(t){this.isShutdown||(this.pointer=null,super.shutdown(t))}get enable(){return this._enable}set enable(t){if(this._enable!==t){t||this.cancel(),this._enable=t;var s=t?"enable":"disable";this.emit(s,this,this.parent)}}setEnable(t){return t===void 0&&(t=!0),this.enable=t,this}toggleEnable(){return this.setEnable(!this.enable),this}setMode(t){return typeof t=="string"&&(t=O4[t]),this.mode=t,this}setClickInterval(t){return this.clickInterval=t,this}setDragThreshold(t){return this.dragThreshold=t,this}onPress(t,s,h,S){this.pointer===void 0&&(this.pointer=t,this.isDown=!0,this.emit("down",this,this.parent,t,S),this.mode===0&&this.click(t.downTime,t,S))}onRelease(t,s,h,S){this.pointer===t&&(this.isDown=!1,this.emit("up",this,this.parent,t,S),this.mode===1&&this.click(t.upTime,t,S),this.pointer=void 0)}onPointOut(t,s){this.pointer===t&&this.cancel()}onMove(t,s,h,S){this.pointer===t&&this.dragThreshold!==void 0&&this.mode===1&&t.getDistance()>=this.dragThreshold&&this.cancel()}onOver(t,s,h,S){return this.enable?(this.isOver=!0,this.emit("over",this,this.parent,t,S),this):this}onOut(t,s){return this.enable?(this.isOver=!1,this.emit("out",this,this.parent,t,s),this):this}click(t,s,h){if(!this.enable)return this;if(t===void 0)return this.emit("click",this,this.parent,s,h),this;this.pointer=void 0;var S=this.lastClickTime;return S!==void 0&&t-S<=this.clickInterval?this:(this.lastClickTime=t,this.emit("click",this,this.parent,s,h),this)}cancel(){return this.pointer=void 0,this}},r(Yn,"Button"),Yn);const O4={press:0,pointerdown:0,release:1,pointerup:1},hT=Phaser.Utils.Objects.GetValue,H0=class H0 extends Fu{constructor(t,s,h,S,E,n,T){super(t,s,h,S,E,n,T),this._click=new us(this,hT(T,"click")),this._click.on("click",function(){this.toggleValue()},this),this.setReadOnly(hT(T,"readOnly",!1))}get readOnly(){return!this._click.enable}set readOnly(t){this._click.enable=!t}setReadOnly(t){return t===void 0&&(t=!0),this.readOnly=t,this}};r(H0,"Checkbox");let $h=H0;st.register("checkbox",function(e,t,s,h,S,E){var n=new $h(this.scene,e,t,s,h,S,E);return this.scene.add.existing(n),n});it(window,"RexPlugins.UI.Checkbox",$h);const w4={setTrackFillStyle(e,t){return t===void 0&&(t=1),this.dirty=this.dirty||this.trackFillColor!==e||this.trackFillAlpha!==t,this.trackFillColor=e,this.trackFillAlpha=t,this},setFalseValueTrackFillStyle(e,t){return t===void 0&&(t=1),this.dirty=this.dirty||this.falseValueTrackColor!==e||this.uncheckedTrackFillAlpha!==t,this.falseValueTrackColor=e,this.falseValueTrackFillAlpha=t,this},setThumbStyle(e,t){return t===void 0&&(t=1),this.dirty=this.dirty||this.thumbColor!==e||this.checkAlpha!==t,this.thumbColor=e,this.thumbAlpha=t,this}},M4={setTrackSize(e,t){return this.dirty=this.dirty||this.trackWidth!==e||this.trackHeight!==t,this.trackWidth=e,this.trackHeight=t,this},setTrackRadius(e){return this.dirty=this.dirty||this.trackRadius!==e,this.trackRadius=e,this},setThumbSize(e,t){return t===void 0&&(t=e),this.dirty=this.dirty||this.thumbWidth!==e||this.thumbHeight!==t,this.thumbWidth=e,this.thumbHeight=t,this},setThumbRadius(e){return this.dirty=this.dirty||this.thumbRadius!==e,this.thumbRadius=e,this}},b4={setThumbPosition(e,t){return t===void 0&&(t=1-e),this.thumbLeftX=e,this.thumbRightX=t,this},setRTL(e){return e===void 0&&(e=!0),this.rtl=e,this}};/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var yf=r(function(e,t,s){return(t-e)*s+e},"Linear$l"),I4=r(function(e,t,s){var h=yf(Uh(e),Uh(t),s),S=yf(Vh(e),Vh(t),s),E=yf(Wh(e),Wh(t),s);return(h&255)<<16|(S&255)<<8|E&255},"MixColor");const oT=Phaser.Math.Linear,F4={buildShapes(){this.addShape(new pa().setName("track")).addShape(new pa().setName("thumb"))},updateShapes(){var e=this.width,t=this.height,s=this.value?this.toggleAnimProgress:1-this.toggleAnimProgress,h=this.getShape("track");if(this.isSizeChanged){var S=e*this.trackWidth,E=t*this.trackHeight,n=(e-S)/2,T=(t-E)/2,i=t*this.trackRadius;h.setTopLeftPosition(n,T).setSize(S,E).setRadius(i)}var f=I4(this.falseValueTrackColor,this.trackFillColor,s),y=oT(this.falseValueTrackFillAlpha,this.trackFillAlpha,s);h.fillStyle(f,y);var c=this.getShape("thumb");if(this.isSizeChanged){var o=e*this.thumbWidth,l=t*this.thumbHeight,a=t*this.thumbRadius;c.setSize(o,l).setRadius(a)}var u=oT(this.thumbLeftX,this.thumbRightX,s)*e;this.rtl&&(u=e-u);var v=t/2;c.setCenterPosition(u,v),c.fillStyle(this.thumbColor,this.thumbAlpha)}},D4={setToggleAnimationDuration(e){return e===void 0&&(e=0),this.toggleAnimDuration=e,this},playToggleAnimation(){return this.toggleAnimProgressTask===void 0&&(this.toggleAnimProgressTask=new vi(this,{eventEmitter:null})),this.toggleAnimProgressTask.restart({key:"toggleAnimProgress",from:0,to:1,duration:this.toggleAnimDuration}),this},stopToggleAnimation(){return this.toggleAnimProgressTask===void 0?this:(this.toggleAnimProgressTask.stop(),this)}};var FP={};Object.assign(FP,w4,M4,b4,F4,D4);var B4=r(function(e){var t=.3*Uh(e)+.59*Vh(e)+.11*Wh(e);return(t&255)<<16|(t&255)<<8|t&255},"GrayScale");const Yt=Phaser.Utils.Objects.GetValue,lT=Phaser.Utils.Objects.IsPlainObject,Sf=23730,G4=16777215,X0=class X0 extends Bi{constructor(t,s,h,S,E,n,T){lT(s)?(T=s,s=Yt(T,"x",0),h=Yt(T,"y",0),S=Yt(T,"width",2),E=Yt(T,"height",2),n=Yt(T,"color",Sf)):lT(n)&&(T=n,n=Yt(T,"color",Sf)),super(t,s,h,S,E),this.type="rexToggleSwitch",n===void 0&&(n=Sf),this.setTrackFillStyle(n,Yt(T,"trackFillAlpha",1)),this.setFalseValueTrackFillStyle(Yt(T,"falseValueTrackColor",B4(n)),Yt(T,"falseValueTrackFillAlpha",1)),this.setThumbStyle(Yt(T,"thumbColor",G4),Yt(T,"thumbAlpha",1)),this.setTrackSize(Yt(T,"trackWidth",.9),Yt(T,"trackHeight",.5)),this.setTrackRadius(Yt(T,"trackRadius",this.trackHeight*.5));var i=Yt(T,"thumbHeight",void 0),f=Yt(T,"thumbWidth",i);f===void 0&&(f=this.trackHeight*.9),this.setThumbSize(f,i),this.setThumbRadius(Yt(T,"thumbRadius",this.thumbHeight*.5)),this.setThumbPosition(Yt(T,"thumbLeft",.3),Yt(T,"thumbRight",void 0)),this.setRTL(Yt(T,"rtl",!1)),this.setToggleAnimationDuration(Yt(T,"animationDuration",150)),this.buildShapes(),this.setValue(Yt(T,"value",!1),0)}get value(){return this._value}set value(t){t=!!t,this._value!==t&&(this.dirty=!0,this._value=t,this.playToggleAnimation(),this.emit("valuechange",t))}setValue(t,s){s===void 0&&(s=this.toggleAnimDuration);var h=this.toggleAnimDuration;return this.toggleAnimDuration=s,this.value=t,this.toggleAnimDuration=h,this}toggleValue(t){return this.setValue(!this.value,t),this}get toggleAnimProgress(){return this._toggleAnimProgress}set toggleAnimProgress(t){this._toggleAnimProgress!==t&&(this._toggleAnimProgress=t,this.dirty=!0)}};r(X0,"ToggleSwitchShape");let Du=X0;Object.assign(Du.prototype,FP);const uT=Phaser.Utils.Objects.GetValue,$0=class $0 extends Du{constructor(t,s,h,S,E,n,T){super(t,s,h,S,E,n,T),this._click=new us(this,uT(T,"click")),this._click.on("click",function(){this.toggleValue()},this),this.setReadOnly(uT(T,"readOnly",!1))}get readOnly(){return!this._click.enable}set readOnly(t){this._click.enable=!t}setReadOnly(t){return t===void 0&&(t=!0),this.readOnly=t,this}};r($0,"ToggleSwitch");let Kh=$0;st.register("toggleSwitch",function(e,t,s,h,S,E){var n=new Kh(this.scene,e,t,s,h,S,E);return this.scene.add.existing(n),n});it(window,"RexPlugins.UI.ToggleSwitch",Kh);const N4={loadFromURL(e,t){var s=this,h=new Image;return h.onload=function(){s.width!==h.width||s.height!==h.height?s.resize(h.width,h.height):s.clear(),s.context.drawImage(h,0,0),s.updateTexture(),t&&t(),h.onload=null,h.src="",h.remove()},h.src=e,this},loadFromURLPromise(e){var t=this;return new Promise(function(s,h){t.loadFromURL(e,s)})},loadFromFile(e,t){var s=URL.createObjectURL(e);return this.loadFromURL(s,function(){URL.revokeObjectURL(s),t&&t()}),this},loadFromFilePromise(e){var t=this;return new Promise(function(s,h){t.loadFromFile(e,s)})}},K0=class K0 extends Vs{};r(K0,"Canvas");let rs=K0;Object.assign(rs.prototype,N4);st.register("canvas",function(e,t,s,h){var S=new rs(this.scene,e,t,s,h);return this.scene.add.existing(S),S});it(window,"RexPlugins.UI.Canvas",rs);const Hr=Phaser.Utils.Objects.GetValue,Z0=class Z0 extends Vs{constructor(t,s,h,S,E,n){super(t,s,h),this.type="rexCircleMaskImage",this.setTexture(S,E,n)}setTexture(t,s,h){typeof s=="object"&&(h=s,s=void 0),typeof h=="string"&&(h={maskType:h});var S=Hr(h,"maskType",0),E=Hr(h,"backgroundColor",void 0),n=Hr(h,"strokeColor",void 0),T=n!=null?10:0,i=Hr(h,"strokeWidth",T);if(S===void 0?S=0:typeof S=="string"&&(S=U4[S]),this._textureKey=t,this._frameName=s,S===null)return this.loadTexture(t,s),this.dirty=!0,this;var f=this.scene.sys.textures.getFrame(t,s);if(!f)return this;f.cutWidth!==this.width||f.cutHeight!==this.height?this.setCanvasSize(f.cutWidth,f.cutHeight):this.clear();var y=this.canvas,c=this.context,o=y.width,l=y.height;E!=null&&(c.fillStyle=E,c.fillRect(0,0,o,l)),c.save(),c.beginPath();var a=i/2;switch(S){case 1:var g=Math.floor(o/2),m=Math.floor(l/2),u=g-a,v=m-a;c.ellipse(g,m,u,v,0,0,2*Math.PI);break;case 2:var d=Hr(h,"radius",0),p=Hr(h,"iteration",void 0);OE(c,a,a,o-i,l-i,d,p);break;default:var g=Math.floor(o/2),m=Math.floor(l/2),x=Math.min(g,m)-a;c.arc(g,m,x,0,2*Math.PI);break}return n!=null&&(c.strokeStyle=n,c.lineWidth=i,c.stroke()),c.clip(),this.loadTexture(t,s),c.restore(),this.dirty=!0,this}resize(t,s){return this.setDisplaySize(t,s),this}};r(Z0,"CircleMaskImage");let Bu=Z0;const U4={circle:0,ellipse:1,roundRectangle:2};st.register("circleMaskImage",function(e,t,s,h,S){var E=new Bu(this.scene,e,t,s,h,S);return this.scene.add.existing(E),E});it(window,"RexPlugins.UI.CircleMaskImage",Bu);const ah=Phaser.Utils.Objects.GetValue,J0=class J0 extends Vs{constructor(t,s,h,S,E,n){super(t,s,h),this.type="rexAlphaMaskImage",this.maskFrame=null,this.setTexture(S,E,n)}setTexture(t,s,h){typeof s=="object"&&(h=s,s=void 0),typeof h=="string"&&(h={mask:{key:h}});var S=ah(h,"mask.key"),E=ah(h,"mask.frame"),n=ah(h,"mask.invertAlpha",!1),T=ah(h,"mask.scale"),i=ah(h,"backgroundColor");if(S){this._maskKey=S,this._maskFrame=E,this._maskScale=T;var f=S?this.scene.sys.textures.get(S):null;this.maskFrame=f?f.get(E):null}this._textureKey=t,this._frameName=s;var y=this.maskFrame;if(y===null)return this.loadTexture(t,s),this.dirty=!0,this;var c=i!=null;this.loadTexture(t,s);var o=this.canvas,l=this.context,a=o.width,u=o.height;l.save(),l.globalCompositeOperation=n?"destination-out":"destination-in";var v,d;this._maskScale!=null?(v=y.cutWidth*this._maskScale,d=y.cutHeight*this._maskScale):(v=a,d=u);var p=(a-v)/2,g=(u-d)/2;return this.drawFrame(this._maskKey,this._maskFrame,p,g,v,d),l.restore(),c&&(l.save(),l.globalCompositeOperation="destination-over",l.fillStyle=i,l.fillRect(0,0,a,u),l.restore()),this.dirty=!0,this}resize(t,s){return this.setDisplaySize(t,s),this}};r(J0,"AlphaMaskImage");let Gu=J0;st.register("alphaMaskImage",function(e,t,s,h,S){var E=new Gu(this.scene,e,t,s,h,S);return this.scene.add.existing(E),E});it(window,"RexPlugins.UI.AlphaMaskImage",Gu);const V4=Phaser.Math.Linear,dT=Phaser.Math.Percent,W4={setValue(e,t,s){return e==null?this:(t!==void 0&&(e=dT(e,t,s)),this.value=e,this)},addValue(e,t,s){return t!==void 0&&(e=dT(e,t,s)),this.value+=e,this},getValue(e,t){var s=this.value;return e!==void 0&&(s=V4(e,t,s)),s}},z4=Phaser.Math.Percent;var Y4=r(function(e){return this.easeValuePropName=e,this},"SetEaseValuePropName"),k4=r(function(e){return this.easeValueDuration=e,this},"SetEaseValueDuration"),H4=r(function(e){return this.easeFunction=e,this},"SetEaseValueFunction"),X4=r(function(){return this.easeValueTask&&this.easeValueTask.stop(),this},"StopEaseValue"),$4=r(function(e,t,s){return e==null?this:(t!==void 0&&(e=z4(e,t,s)),this.easeValueTask===void 0&&(this.easeValueTask=new vi(this,{eventEmitter:null})),this.easeValueTask.restart({key:this.easeValuePropName,to:e,duration:this.easeValueDuration,ease:this.easeFunction}),this)},"EaseValueTo"),K4=r(function(e,t,s,h){return s===void 0&&(s=-1),h===void 0&&(h=0),this.easeValueTask===void 0&&(this.easeValueTask=new vi(this,{eventEmitter:null})),this.easeValueTask.restart({key:this.easeValuePropName,from:e,to:t,duration:this.easeValueDuration,ease:this.easeFunction,repeat:s,repeatDelay:h}),this},"EaseValueRepeat");const Z4={setEaseValuePropName:Y4,setEaseValueDuration:k4,setEaseValueFunction:H4,stopEaseValue:X4,easeValueTo:$4,easeValueRepeat:K4},hh=Phaser.Utils.Objects.GetValue,J4=Phaser.Math.Clamp;function Fr(e){const s=class s extends e{bootProgressBase(S){this.eventEmitter=hh(S,"eventEmitter",this);var E=hh(S,"valuechangeCallback",null);if(E!==null){var n=hh(S,"valuechangeCallbackScope",void 0);this.eventEmitter.on("valuechange",E,n)}return this.setEaseValuePropName("value").setEaseValueDuration(hh(S,"easeValue.duration",0)).setEaseValueFunction(hh(S,"easeValue.ease","Linear")),this}get value(){return this._value}set value(S){S=J4(S,0,1);var E=this._value,n=E!=S;this.dirty=this.dirty||n,this._value=S,n&&this.eventEmitter.emit("valuechange",this._value,E,this.eventEmitter)}};r(s,"ProgressBase");let t=s;return Object.assign(t.prototype,W4,Z4),t}r(Fr,"ProgressBase");const Q4=Phaser.Math.RadToDeg,fT=Phaser.Math.DegToRad;var cT=r(function(e,t,s,h,S,E,n,T){var i=Math.abs(n-E)===360,f=fT(E),y=fT(n),c=Math.cos(f),o=Math.sin(f),l=Math.cos(y),a=Math.sin(y);return e.startAt(t+c*h,s+o*h),e.arc(t,s,h,E,n,T),i&&S===0||(e.lineTo(t+l*S,s+a*S),S>0&&e.arc(t,s,S,n,E,!T)),e.close(),e},"FillArc");const j4={buildShapes(){this.addShape(new me().setName("track")).addShape(new me().setName("bar")).addShape(new Ge().setName("center"))},updateShapes(){var e=this.radius,t=this.thickness*this.radius,s=this.radius,h=s-t,S=this.getShape("track");this.trackColor!=null&&this.thickness>0?(S.fillStyle(this.trackColor),cT(S,e,e,s,h,0,360,!1)):S.reset();var E=this.getShape("bar");if(this.barColor!=null&&this.thickness>0){var n,T,i;if(this.value===1)n=!1,T=0,i=360;else{n=this.anticlockwise,T=Q4(this.startAngle);var f=360*(n?1-this.value:this.value);i=f+T}E.fillStyle(this.barColor),cT(E,e,e,s,h,T,i,!1)}else E.reset();var y=this.getShape("center");this.centerColor&&h>0?y.setCenterPosition(e,e).setRadius(h).fillStyle(this.centerColor):y.reset()}},yi=Phaser.Utils.Objects.GetValue,q4=Phaser.Utils.Objects.IsPlainObject,_4=Phaser.Math.Clamp,t5=Phaser.Math.DegToRad(270);var kn;let Nd=(kn=class extends Fr(Bi){constructor(t,s,h,S,E,n,T){q4(s)&&(T=s,s=yi(T,"x",0),h=yi(T,"y",0),S=yi(T,"radius",1),E=yi(T,"barColor",void 0),n=yi(T,"value",0)),S===void 0&&(S=1);var i=S*2;super(t,s,h,i,i),this.type="rexCircularProgress",this.bootProgressBase(T),this.setRadius(S),this.setTrackColor(yi(T,"trackColor",void 0)),this.setBarColor(E),this.setCenterColor(yi(T,"centerColor",void 0)),this.setThickness(yi(T,"thickness",.2)),this.setStartAngle(yi(T,"startAngle",t5)),this.setAnticlockwise(yi(T,"anticlockwise",!1)),this.buildShapes(),this.setValue(n)}resize(t,s){return t=Math.floor(Math.min(t,s)),t===this.width?this:(super.resize(t,t),this.setRadius(t/2),this)}get radius(){return this._radius}set radius(t){this.dirty=this.dirty||this._radius!=t,this._radius=t;var s=t*2;this.resize(s,s)}setRadius(t){return this.radius=t,this}get trackColor(){return this._trackColor}set trackColor(t){this.dirty=this.dirty||this._trackColor!=t,this._trackColor=t}setTrackColor(t){return this.trackColor=t,this}get barColor(){return this._barColor}set barColor(t){this.dirty=this.dirty||this._barColor!=t,this._barColor=t}setBarColor(t){return this.barColor=t,this}get startAngle(){return this._startAngle}set startAngle(t){this.dirty=this.dirty||this._startAngle!=t,this._startAngle=t}setStartAngle(t){return this.startAngle=t,this}get anticlockwise(){return this._anticlockwise}set anticlockwise(t){this.dirty=this.dirty||this._anticlockwise!=t,this._anticlockwise=t}setAnticlockwise(t){return t===void 0&&(t=!0),this.anticlockwise=t,this}get thickness(){return this._thickness}set thickness(t){t=_4(t,0,1),this.dirty=this.dirty||this._thickness!=t,this._thickness=t}setThickness(t){return this.thickness=t,this}get centerColor(){return this._centerColor}set centerColor(t){this.dirty=this.dirty||this._centerColor!=t,this._centerColor=t}setCenterColor(t){return this.centerColor=t,this}},r(kn,"CircularProgress"),kn);Object.assign(Nd.prototype,j4);st.register("circularProgress",function(e,t,s,h,S,E){var n=new Nd(this.scene,e,t,s,h,S,E);return this.scene.add.existing(n),n});it(window,"RexPlugins.UI.CircularProgress",Nd);var Tf=r(function(e,t,s,h,S,E,n,T,i,f,y,c){f===void 0&&(f=0),y===void 0&&(y=2*Math.PI),c===void 0&&(c=!1),t.beginPath(),t.ellipse(s,h,S,E,0,f,y,c),n!=null&&(t.fillStyle=n,t.fill()),T!=null&&(t.strokeStyle=T,t.lineWidth=i,t.stroke())},"DrawCircle"),e5=r(function(e,t,s,h,S,E,n,T,i,f,y){i===void 0&&T!=null&&(i=2),t.font=E,t.textAlign=f,t.textBaseline=y,t.fillStyle=n,t.strokeStyle=T,t.lineWidth=i,t.lineCap="round",t.lineJoin="round",T!=null&&T!=="none"&&i>0&&t.strokeText(S,s,h),n!=null&&n!=="none"&&t.fillText(S,s,h)},"DrawText");const Cf=Phaser.Math.PI2;var i5=r(function(){var e=this.radius,t=this.thickness*this.radius,s=this.radius-t/2,h=this.radius-t,S=this.canvas,E=this.context,n=this.anticlockwise,T=this.startAngle,i=this.endAngle,f=this._deltaAngle;if(this.trackColor&&t>0&&(E.save(),Tf(S,E,e,e,s,s,void 0,this.trackColor,t,T,i,n),E.restore()),this.barColor&&s>0){var y;n?y=(T-f*this.value+Cf)%Cf:y=(T+f*this.value)%Cf,E.save();var c;if(this.barColor2){var o=e+s*Math.cos(T),l=e+s*Math.sin(T),a=e+s*Math.cos(y),u=e+s*Math.sin(y),v=E.createLinearGradient(o,l,a,u);v.addColorStop(0,this.barColor2),v.addColorStop(1,this.barColor),c=v}else c=this.barColor;Tf(S,E,e,e,s,s,void 0,c,t,T,y,n),E.restore()}if(this.centerColor&&h>0){var d;this.centerColor2?(d=this.context.createRadialGradient(e,e,0,e,e,h),d.addColorStop(0,this.centerColor),d.addColorStop(1,this.centerColor2)):d=this.centerColor,E.save(),Tf(S,E,e,e,h,h,d),E.restore()}this.textFormatCallback&&(this.textColor||this.textStrokeColor)&&(E.save(),e5(S,E,e,e,this.getFormatText(),this.textFont,this.textColor,this.textStrokeColor,this.textStrokeThickness,"center","middle"),E.restore())},"DrawContent$1");const Kt=Phaser.Utils.Objects.GetValue,s5=Phaser.Utils.Objects.IsPlainObject,vT=Phaser.Math.Angle.Normalize,r5=Phaser.Math.Clamp,n5=Phaser.Math.DegToRad(270),Tv=Phaser.Math.PI2,Q0=class Q0 extends Fr(Vs){constructor(t,s,h,S,E,n,T){s5(s)&&(T=s,s=Kt(T,"x",0),h=Kt(T,"y",0),S=Kt(T,"radius",1),E=Kt(T,"barColor",void 0),n=Kt(T,"value",0));var i=S*2;super(t,s,h,i,i),this.type="rexCircularProgressCanvas",this.bootProgressBase(T),this.setRadius(S),this.setTrackColor(Kt(T,"trackColor",void 0)),this.setBarColor(E),this.setBarColor2(Kt(T,"barColor2",void 0)),this.setCenterColor(Kt(T,"centerColor",void 0)),this.setThickness(Kt(T,"thickness",.2)),this.setStartAngle(Kt(T,"startAngle",n5)),this.setEndAngle(Kt(T,"endAngle",this.startAngle+Tv)),this.setAnticlockwise(Kt(T,"anticlockwise",!1)),this.setTextColor(Kt(T,"textColor",void 0)),this.setTextStrokeColor(Kt(T,"textStrokeColor",void 0),Kt(T,"textStrokeThickness",void 0));var f=Kt(T,"textFont",void 0);f?this.setTextFont(f):this.setTextFont(Kt(T,"textSize","16px"),Kt(T,"textFamily","Courier"),Kt(T,"textStyle","")),this.setTextFormatCallback(Kt(T,"textFormatCallback",void 0),Kt(T,"textFormatCallbackScope",void 0)),this.setValue(n)}resize(t,s){return t=Math.floor(Math.min(t,s)),t===this.width?this:(super.resize(t,t),this.setRadius(t/2),this)}get radius(){return this._radius}set radius(t){this.dirty=this.dirty||this._radius!=t,this._radius=t;var s=t*2;this.resize(s,s)}setRadius(t){return this.radius=t,this}get trackColor(){return this._trackColor}set trackColor(t){t=pt(t,this.canvas,this.context),this.dirty=this.dirty||this._trackColor!=t,this._trackColor=t}setTrackColor(t){return this.trackColor=t,this}get barColor(){return this._barColor}set barColor(t){t=pt(t,this.canvas,this.context),this.dirty=this.dirty||this._barColor!=t,this._barColor=t}setBarColor(t){return this.barColor=t,this}get barColor2(){return this._barColor2}set barColor2(t){t=pt(t,this.canvas,this.context),this.dirty=this.dirty||this._barColor2!=t,this._barColor2=t}setBarColor2(t){return this.barColor2=t,this}get startAngle(){return this._startAngle}set startAngle(t){t=vT(t),this.dirty=this.dirty||this._startAngle!=t,this._startAngle=t,this._deltaAngle=Ef(this._startAngle,this._endAngle,this._anticlockwise)}setStartAngle(t){return this.startAngle=t,this}get endAngle(){return this._endAngle}set endAngle(t){t=vT(t),this.dirty=this.dirty||this._endAngle!=t,this._endAngle=t,this._deltaAngle=Ef(this._startAngle,this._endAngle,this._anticlockwise)}setEndAngle(t){return this.endAngle=t,this}get anticlockwise(){return this._anticlockwise}set anticlockwise(t){this.dirty=this.dirty||this._anticlockwise!=t,this._anticlockwise=t,this._deltaAngle=Ef(this._startAngle,this._endAngle,this._anticlockwise)}setAnticlockwise(t){return t===void 0&&(t=!0),this.anticlockwise=t,this}get thickness(){return this._thickness}set thickness(t){t=r5(t,0,1),this.dirty=this.dirty||this._thickness!=t,this._thickness=t}setThickness(t){return this.thickness=t,this}get centerColor(){return this._centerColor}set centerColor(t){t=pt(t,this.canvas,this.context),this.dirty=this.dirty||this._centerColor!=t,this._centerColor=t}get centerColor2(){return this._centerColor2}set centerColor2(t){t=pt(t,this.canvas,this.context),this.dirty=this.dirty||this._centerColor2!=t,this._centerColor2=t}setCenterColor(t,s){return this.centerColor=t,this.centerColor2=s,this}get textColor(){return this._textColor}set textColor(t){t=pt(t,this.canvas,this.context),this.dirty=this.dirty||this._textColor!=t,this._textColor=t}setTextColor(t){return this.textColor=t,this}get textStrokeColor(){return this._textStrokeColor}set textStrokeColor(t){t=pt(t,this.canvas,this.context),this.dirty=this.dirty||this._textStrokeColor!=t,this._textStrokeColor=t}get textStrokeThickness(){return this._textStrokeThickness}set textStrokeThickness(t){this.dirty=this.dirty||this._textStrokeThickness!=t,this._textStrokeThickness=t}setTextStrokeColor(t,s){return s===void 0&&(s=2),this.textStrokeColor=t,this.textStrokeThickness=s,this}get textFont(){return this._textFont}set textFont(t){this.dirty=this.dirty||this._textFont!=t,this._textFont=t}setTextFont(t,s,h){var S;return s===void 0?S=t:S=h+" "+t+" "+s,this.textFont=S,this}setTextFormatCallback(t,s){return this.textFormatCallback=t,this.textFormatCallbackScope=s,this}updateTexture(){return this.clear(),i5.call(this),super.updateTexture(),this}getFormatText(t){t===void 0&&(t=this.value);var s;return this.textFormatCallbackScope?s=this.textFormatCallback(t):s=this.textFormatCallback.call(this.textFormatCallbackScope,t),s}};r(Q0,"CircularProgress");let Zh=Q0;var Ef=r(function(e,t,s){return s?e<=t?Tv+e-t:e-t:e>=t?Tv+t-e:t-e},"GetDeltaAngle");st.register("circularProgressCanvas",function(e,t,s,h,S,E){var n=new Zh(this.scene,e,t,s,h,S,E);return this.scene.add.existing(n),n});it(window,"RexPlugins.UI.CircularProgressCanvas",Zh);var a5=r(function(){var e=this.skewX,t=this.width-Math.abs(e),s=this.height,h=this.getShape("trackFill");h.fillStyle(this.trackColor),h.isFilled&&Pf(h,0,0,t,s,e).close();var S=this.getShape("bar");if(S.fillStyle(this.barColor),S.isFilled){var E,n;this.rtl?(E=t*(1-this.value),n=t):(E=0,n=t*this.value),Pf(S,E,0,n,s,e).close()}var T=this.getShape("trackStroke");T.lineStyle(this.trackStrokeThickness,this.trackStrokeColor),T.isStroked&&Pf(T,0,0,t,s,e).end()},"UpdateShapes"),Pf=r(function(e,t,s,h,S,E){var n=(t+h)/2;return E>=0?e.startAt(n+E,s).lineTo(h+E,s).lineTo(h,S).lineTo(t,S).lineTo(t+E,s).lineTo(n+E,s):e.startAt(n,s).lineTo(h,s).lineTo(h-E,S).lineTo(t-E,S).lineTo(t,s).lineTo(n,s),e},"BuildRectangle");const ue=Phaser.Utils.Objects.GetValue,Rf=Phaser.Utils.Objects.IsPlainObject;var Hn;let Yp=(Hn=class extends Fr(Bi){constructor(t,s,h,S,E,n,T,i){Rf(s)?(i=s,s=ue(i,"x",0),h=ue(i,"y",0),S=ue(i,"width",2),E=ue(i,"height",2),n=ue(i,"barColor",void 0),T=ue(i,"value",0)):Rf(S)?(i=S,S=ue(i,"width",2),E=ue(i,"height",2),n=ue(i,"barColor",void 0),T=ue(i,"value",0)):Rf(n)&&(i=n,n=ue(i,"barColor",void 0),T=ue(i,"value",0)),super(t,s,h,S,E,i),this.type="rexLineProgress",this.bootProgressBase(i),this.addShape(new me().setName("trackFill")).addShape(new me().setName("bar")).addShape(new me().setName("trackStroke")),this.setTrackColor(ue(i,"trackColor",void 0)),this.setBarColor(n),this.setTrackStroke(ue(i,"trackStrokeThickness",2),ue(i,"trackStrokeColor",void 0)),this.setSkewX(ue(i,"skewX",0)),this.setRTL(ue(i,"rtl",!1)),this.setValue(T)}get trackColor(){return this._trackColor}set trackColor(t){this.dirty=this.dirty||this._trackColor!=t,this._trackColor=t}setTrackColor(t){return this.trackColor=t,this}get trackStrokeColor(){return this._trackStrokeColor}set trackStrokeColor(t){this.dirty=this.dirty||this._trackStrokeColor!=t,this._trackStrokeColor=t}get trackStrokeThickness(){return this._trackStrokeThickness}set trackStrokeThickness(t){this.dirty=this.dirty||this._trackStrokeThickness!=t,this._trackStrokeThickness=t}setTrackStroke(t,s){return this.trackStrokeThickness=t,this.trackStrokeColor=s,this}get barColor(){return this._barColor}set barColor(t){this.dirty=this.dirty||this._barColor!=t,this._barColor=t}setBarColor(t){return this.barColor=t,this}get skewX(){return this._skewX}set skewX(t){this.dirty=this.dirty||this._skewX!=t,this._skewX=t}setSkewX(t){return this.skewX=t,this}get rtl(){return this._rtl}set rtl(t){t=!!t,this.dirty=this.dirty||this._rtl!=t,this._rtl=t}setRTL(t){return t===void 0&&(t=!0),this.rtl=t,this}},r(Hn,"LineProgress"),Hn);var h5={updateShapes:a5};Object.assign(Yp.prototype,h5);st.register("lineProgress",function(e,t,s,h,S,E,n){var T=new Yp(this.scene,e,t,s,h,S,E,n);return this.scene.add.existing(T),T});it(window,"RexPlugins.UI.LineProgress",Yp);var o5=r(function(e,t){e.save(),e.beginPath();var s=t[0];e.moveTo(s.x,s.y);for(var h=1,S=t.length;h<S;h++)s=t[h],e.lineTo(s.x,s.y);e.closePath(),e.restore()},"AddPolygonPath"),Af=r(function(e,t,s,h,S,E,n){n===void 0&&(n="round"),o5(t,s),t.lineJoin=n,h!=null&&(t.fillStyle=h,t.fill()),S!=null&&(t.strokeStyle=S,t.lineWidth=E,t.stroke())},"DrawPolygon"),l5=r(function(){var e=this.skewX,t=this.width-Math.abs(e),s=this.height,h=this.canvas,S=this.context;(this.trackColor||this.trackStrokeColor)&&pT(0,0,t,s,e,this.trackPoints);var E,n;if(this.barColor&&(this.rtl?(E=t*(1-this.value),n=t):(E=0,n=t*this.value),pT(E,0,n,s,e,this.barPoints)),this.trackColor&&(S.save(),Af(h,S,this.trackPoints,this.trackColor),S.restore()),this.barColor){S.save();var T;if(this.barColor2){var i;if(this.isHorizontalGradient){var f=s/2;i=S.createLinearGradient(E,f,n,f)}else{var y=t/2;i=S.createLinearGradient(y,0,y,s)}i.addColorStop(0,this.rtl?this.barColor:this.barColor2),i.addColorStop(1,this.rtl?this.barColor2:this.barColor),T=i}else T=this.barColor;Af(h,S,this.barPoints,T),S.restore()}this.trackStrokeColor&&this.trackStrokeThickness>0&&(S.save(),Af(h,S,this.trackPoints,void 0,this.trackStrokeColor,this.trackStrokeThickness),S.restore())},"DrawContent"),pT=r(function(e,t,s,h,S,E){E===void 0&&(E=[]),E.length=4;for(var n=0;n<4;n++)E[n]||(E[n]={});var T;return S>=0?(T=E[0],T.x=e+S,T.y=t,T=E[1],T.x=s+S,T.y=t,T=E[2],T.x=s,T.y=h,T=E[3],T.x=e,T.y=h):(T=E[0],T.x=e,T.y=t,T=E[1],T.x=s,T.y=t,T=E[2],T.x=s-S,T.y=h,T=E[3],T.x=e-S,T.y=h),E},"BuildPolygon");const _t=Phaser.Utils.Objects.GetValue,Lf=Phaser.Utils.Objects.IsPlainObject,j0=class j0 extends Fr(Vs){constructor(t,s,h,S,E,n,T,i){Lf(s)?(i=s,s=_t(i,"x",0),h=_t(i,"y",0),S=_t(i,"width",2),E=_t(i,"height",2),n=_t(i,"barColor",void 0),T=_t(i,"value",0)):Lf(S)?(i=S,S=_t(i,"width",2),E=_t(i,"height",2),n=_t(i,"barColor",void 0),T=_t(i,"value",0)):Lf(n)&&(i=n,n=_t(i,"barColor",void 0),T=_t(i,"value",0)),super(t,s,h,S,E),this.type="rexLineProgressCanvas",this.trackPoints=[],this.barPoints=[],this.bootProgressBase(i),this.setTrackColor(_t(i,"trackColor",void 0)),this.setBarColor(n,_t(i,"barColor2",void 0),_t(i,"isHorizontalGradient",void 0)),this.setTrackStroke(_t(i,"trackStrokeThickness",2),_t(i,"trackStrokeColor",void 0)),this.setSkewX(_t(i,"skewX",0)),this.setRTL(_t(i,"rtl",!1)),this.setValue(T)}get trackColor(){return this._trackColor}set trackColor(t){t=pt(t,this.canvas,this.context),this.dirty=this.dirty||this._trackColor!=t,this._trackColor=t}setTrackColor(t){return this.trackColor=t,this}get trackStrokeColor(){return this._trackStrokeColor}set trackStrokeColor(t){t=pt(t,this.canvas,this.context),this.dirty=this.dirty||this._trackStrokeColor!=t,this._trackStrokeColor=t}get trackStrokeThickness(){return this._trackStrokeThickness}set trackStrokeThickness(t){this.dirty=this.dirty||this._trackStrokeThickness!=t,this._trackStrokeThickness=t}setTrackStroke(t,s){return this.trackStrokeThickness=t,this.trackStrokeColor=s,this}get barColor(){return this._barColor}set barColor(t){t=pt(t,this.canvas,this.context),this.dirty=this.dirty||this._barColor!=t,this._barColor=t}get barColor2(){return this._barColor2}set barColor2(t){t=pt(t,this.canvas,this.context),this.dirty=this.dirty||this._barColor2!=t,this._barColor2=t}get isHorizontalGradient(){return this._isHorizontalGradient}set isHorizontalGradient(t){this.dirty|=this._isHorizontalGradient!=t,this._isHorizontalGradient=t}setBarColor(t,s,h){return h===void 0&&(h=!0),this.barColor=t,this.barColor2=s,this.isHorizontalGradient=h,this}get skewX(){return this._skewX}set skewX(t){this.dirty=this.dirty||this._skewX!=t,this._skewX=t}setSkewX(t){return this.skewX=t,this}get rtl(){return this._rtl}set rtl(t){t=!!t,this.dirty=this.dirty||this._rtl!=t,this._rtl=t}setRTL(t){return t===void 0&&(t=!0),this.rtl=t,this}updateTexture(){return this.clear(),l5.call(this),super.updateTexture(),this}};r(j0,"LineProgress");let Jh=j0;st.register("circularProgressCanvas",function(e,t,s,h,S,E,n){var T=new Jh(this.scene,e,t,s,h,S,E,n);return this.scene.add.existing(T),T});it(window,"RexPlugins.UI.LineProgressCanvas",Jh);Phaser.Math.Wrap;const Xr=Phaser.Math.Linear;var u5=r(function(){var e=this.getShape("triangle"),t=this.padding,s=this.width-t.right,h=0+t.left,S=this.height-t.bottom,E=0+t.top,n=(h+s)/2,T=(E+S)/2,i={0:{a:{x:h,y:E},b:{x:s,y:T},c:{x:h,y:S}},1:{a:{x:h,y:E},b:{x:n,y:S},c:{x:s,y:E}},2:{a:{x:s,y:E},b:{x:h,y:T},c:{x:s,y:S}},3:{a:{x:h,y:S},b:{x:n,y:E},c:{x:s,y:S}}},f,y,c,o,l,a;if(this.previousDirection===void 0){var u=i[this.direction],v=u.a,d=u.b,p=u.c;f=v.x,y=v.y,c=d.x,o=d.y,l=p.x,a=p.y}else{var g=i[this.previousDirection],m=i[this.direction],x=this.easeDirectionProgress;f=Xr(g.a.x,m.a.x,x),y=Xr(g.a.y,m.a.y,x),c=Xr(g.b.x,m.b.x,x),o=Xr(g.b.y,m.b.y,x),l=Xr(g.c.x,m.c.x,x),a=Xr(g.c.y,m.c.y,x)}e.startAt(f,y).lineTo(c,o).lineTo(l,a),this.arrowOnly?e.end():e.close()},"DrawFitTriangle");const d5=Phaser.Math.DegToRad,Sl=d5(120);var f5=r(function(t){var t=this.getShape("triangle"),s=this.width/2,h=this.height/2,S=Math.min(s,h)*this.radius,E=this.verticeRotation;t.startAt(s+S*Math.cos(E+Sl),h+S*Math.sin(E+Sl)).lineTo(s+S*Math.cos(E),h+S*Math.sin(E)).lineTo(s+S*Math.cos(E-Sl),h+S*Math.sin(E-Sl)),this.arrowOnly?t.end():t.close()},"DrawCircleVerticesTriangle");const c5={buildShapes(){this.addShape(new me().setName("triangle"))},updateShapes(){var e=this.getShape("triangle");this.arrowOnly?e.fillStyle().lineStyle(this.lineWidth,this.strokeColor,this.strokeAlpha):e.fillStyle(this.fillColor,this.fillAlpha).lineStyle(this.lineWidth,this.strokeColor,this.strokeAlpha),this.shapeMode===0?u5.call(this):f5.call(this)}},v5={setEaseDuration(e){return e===void 0&&(e=0),this.easeDuration=e,this},playEaseDirectionation(){return this.easeDirectionProgressTask===void 0&&(this.easeDirectionProgressTask=new vi(this,{eventEmitter:null})),this.easeDirectionProgressTask.restart({key:"easeDirectionProgress",from:0,to:1,duration:this.easeDuration}),this},stopEaseDirection(){return this.easeDirectionProgressTask===void 0?this:(this.easeDirectionProgressTask.stop(),this)}},$r=Phaser.Utils.Objects.GetValue,p5=Phaser.Utils.Objects.IsPlainObject,g5=Phaser.Math.DegToRad,m5=Phaser.Math.RadToDeg,q0=class q0 extends Bi{constructor(t,s,h,S,E,n,T){var i,f,y,c,o,l,a,u;if(p5(s)){var v=s;s=v.x,h=v.y,S=v.width,E=v.height,n=v.color,T=v.alpha,i=v.strokeColor,f=v.strokeAlpha,y=v.strokeWidth,c=v.arrowOnly,o=v.direction,l=v.easeDuration,a=v.padding,u=v.radius}s===void 0&&(s=0),h===void 0&&(h=0),S===void 0&&(S=1),E===void 0&&(E=S),c===void 0&&(c=!1),o===void 0&&(o=0),l===void 0&&(l=0),a===void 0&&(a=0),u===void 0&&(u=void 0),super(t,s,h,S,E),this.type="rexTriangle",this.setFillStyle(n,T),i!==void 0&&y===void 0&&(y=2),this.setStrokeStyle(y,i,f),this.setArrowOnly(c),this.setDirection(o,l),this.setPadding(a),this.setRadius(u),this.buildShapes()}get arrowOnly(){return this._arrowOnly}set arrowOnly(t){this.dirty=this.dirty||this._arrowOnly!=t,this._arrowOnly=t}setArrowOnly(t){return t===void 0&&(t=!0),this.arrowOnly=t,this}get direction(){return this._direction}set direction(t){t=y5(t),this._direction!==t&&(this.easeDuration>0&&this._direction!==void 0?this.previousDirection=this._direction:this.previousDirection=void 0,this._direction=t,this.verticeAngle=t*90,this.dirty=!0,this.previousDirection!==void 0?this.playEaseDirectionation():this.stopEaseDirection())}setDirection(t,s){return s!==void 0&&this.setEaseDuration(s),this.direction=t,this}toggleDirection(t){return this.setDirection(this.direction+2,t),this}get easeDirectionProgress(){return this._easeDirectionProgress}set easeDirectionProgress(t){this._easeDirectionProgress!==t&&(this._easeDirectionProgress=t,this.dirty=!0)}setPadding(t,s,h,S){if(typeof t=="object"){var E=t,n=$r(E,"x",null);n!==null?(t=n,h=n):(t=$r(E,"left",0),h=$r(E,"right",t));var T=$r(E,"y",null);T!==null?(s=T,S=T):(s=$r(E,"top",0),S=$r(E,"bottom",s))}else t===void 0&&(t=0),s===void 0&&(s=t),h===void 0&&(h=t),S===void 0&&(S=s);return this.padding===void 0&&(this.padding={}),this.dirty=this.dirty||this.padding.left!=t||this.padding.top!=s||this.padding.right!=h||this.padding.bottom!=S,this.padding.left=t,this.padding.top=s,this.padding.right=h,this.padding.bottom=S,this.setRadius(),this}get radius(){return this._radius}set radius(t){this.dirty=this.dirty||this._radius!=t,this._radius=t}setRadius(t){return this.radius=t,this.shapeMode=t==null?0:1,this}get verticeRotation(){return this._verticeRotation}set verticeRotation(t){this.dirty=this.dirty||this._verticeRotation!=t,this._verticeRotation=t}setVerticeRotation(t){return this.verticeRotation=t,this}get verticeAngle(){return m5(this.verticeRotation)}set verticeAngle(t){this.verticeRotation=g5(t)}setVerticeAngle(t){return this.verticeAngle=t,this}};r(q0,"Triangle");let mr=q0;const x5={right:0,down:1,left:2,up:3};var y5=r(function(e){return typeof e=="string"&&(e=x5[e]),e=e%4,e},"ParseDirection");Object.assign(mr.prototype,c5,v5);st.register("triangle",function(e,t,s,h,S,E){var n=new mr(this.scene,e,t,s,h,S,E);return this.scene.add.existing(n),n});it(window,"RexPlugins.UI.Triangle",mr);Md();const S5=Phaser.GameObjects.Zone,T5=Phaser.Utils.Array.Add,C5=Phaser.Utils.Array.Remove;var Xn;let Wo=(Xn=class extends S5{constructor(t,s,h,S,E){s===void 0&&(s=0),h===void 0&&(h=0),S===void 0&&(S=1),E===void 0&&(E=1),super(t,s,h,S,E),this.children=[]}destroy(t){if(!(!this.scene||this.ignoreDestroy)){if(t)for(var s,h=this.children.length-1;h>=0;h--)s=this.children[h],!s.parentContainer&&!s.displayList&&s.destroy(t);this.clear(!t),super.destroy(t)}}contains(t){return this.children.indexOf(t)!==-1}add(t){var s=this;return T5(this.children,t,0,function(h){h.once("destroy",s.onChildDestroy,s)},this),this}remove(t,s){var h=this;return C5(this.children,t,function(S){S.off("destroy",h.onChildDestroy,h),s&&S.destroy()}),this}onChildDestroy(t,s){this.remove(t,!1)}clear(t){for(var s=this,h,S=0,E=this.children.length;S<E;S++)h=this.children[S],h.off("destroy",s.onChildDestroy,s),t&&h.destroy();return this.children.length=0,this}},r(Xn,"Base"),Xn);const gT=Phaser.GameObjects.Components;Phaser.Class.mixin(Wo,[gT.Alpha,gT.Flip]);var Xe=r(function(e,t){var s;if(t===void 0)e.hasOwnProperty("rexContainer")&&(s=e.rexContainer.parent);else for(s=Xe(e);s&&s.name!==t;)s=Xe(s);return s},"GetParent$1"),DP=r(function(e){for(var t=Xe(e);t;)e=t,t=Xe(t);return e},"GetTopmostParent$1");const E5=Phaser.Math.DegToRad,P5=Phaser.Math.RadToDeg;var yt=r(function(e){if(!e.hasOwnProperty("rexContainer")){var t={parent:null,self:null,layer:null,x:0,y:0,syncPosition:!0,rotation:0,syncRotation:!0,scaleX:0,scaleY:0,syncScale:!0,alpha:0,syncAlpha:!0,syncScrollFactor:!0,syncCameraFilter:!0,syncDisplayList:!0,visible:!0,active:!0};Object.defineProperty(t,"angle",{get:r(function(){return P5(this.rotation)},"get"),set:r(function(s){this.rotation=E5(s)},"set")}),Object.defineProperty(t,"displayWidth",{get:r(function(){return e.width*this.scaleX},"get"),set:r(function(s){this.scaleX=s/e.width},"set")}),Object.defineProperty(t,"displayHeight",{get:r(function(){return e.height*this.scaleY},"get"),set:r(function(s){this.scaleY=s/e.height},"set")}),e.rexContainer=t}return e.rexContainer},"GetLocalState");const R5={setParent(e,t){t===void 0&&(t=this);var s=yt(e);return t?(s.parent=t,s.self=e):(s.parent=null,s.self=null),this},getParent(e,t){return typeof e=="string"&&(t=e,e=void 0),e===void 0&&(e=this),Xe(e,t)},getTopmostParent(e){return e===void 0&&(e=this),DP(e)}},Js=Phaser.Utils.Objects.GetValue,BP=Wo.prototype.add;var Of=r(function(e,t){this.setParent(e);var s=yt(e);return GP(s,t),this.resetChildState(e).updateChildVisible(e).updateChildActive(e).updateChildScrollFactor(e).updateChildMask(e).updateCameraFilter(e),BP.call(this,e),NP.call(this,e,s),this},"Add$8"),wf=r(function(e,t){this.setParent(e);var s=yt(e);return GP(s,t),s.x=e.x,s.y=e.y,s.rotation=e.rotation,s.scaleX=e.scaleX,s.scaleY=e.scaleY,s.alpha=e.alpha,s.visible=e.visible,s.active=e.active,this.updateChildPosition(e).updateChildAlpha(e).updateChildVisible(e).updateChildActive(e).updateChildScrollFactor(e).updateChildMask(e),BP.call(this,e),NP.call(this,e,s),this},"AddLocal"),GP=r(function(e,t){t===void 0&&(t=!0),typeof t=="boolean"?(e.syncPosition=t,e.syncRotation=t,e.syncScale=t,e.syncAlpha=t,e.syncScrollFactor=t,e.syncCameraFilter=t,e.syncDisplayList=t):(e.syncPosition=Js(t,"syncPosition",!0),e.syncRotation=Js(t,"syncRotation",!0),e.syncScale=Js(t,"syncScale",!0),e.syncAlpha=Js(t,"syncAlpha",!0),e.syncScrollFactor=Js(t,"syncScrollFactor",!0),e.syncCameraFilter=Js(t,"syncCameraFilter",!0),e.syncDisplayList=Js(t,"syncDisplayList",!0))},"SetupSyncFlags"),NP=r(function(e,t){this.addToParentContainer(e),t.syncDisplayList&&this.addToPatentLayer(e),this.addToRenderLayer(e)},"SyncDisplayList$1");const A5={add(e){return Array.isArray(e)?this.addMultiple(e):Of.call(this,e),this},pin(e,t){return Array.isArray(e)?this.addMultiple(e,t):Of.call(this,e,t),this},addMultiple(e){for(var t=0,s=e.length;t<s;t++)Of.call(this,e[t]);return this},addLocal(e){return Array.isArray(e)?this.addMultiple(e):wf.call(this,e),this},pinLocal(e,t){return Array.isArray(e)?this.addMultiple(e,t):wf.call(this,e,t),this},addLocalMultiple(e){for(var t=0,s=e.length;t<s;t++)wf.call(this,e[t]);return this}},mT=Wo.prototype.remove,L5=Wo.prototype.clear,O5={remove(e,t){return Xe(e)!==this?this:(this.setParent(e,null),t||this.removeFromRenderLayer(e),mT.call(this,e,t),this)},unpin(e,t){return Xe(e)!==this?this:(this.setParent(e,null),t||this.removeFromRenderLayer(e),mT.call(this,e,t),this)},clear(e){for(var t=this.children,s=0,h=t.length;s<h;s++){var S=t[s];this.setParent(S,null),e||this.removeFromRenderLayer(S)}return L5.call(this,e),this}},w5={getLocalState(e){return yt(e)},resetChildState(e){return this.resetChildPositionState(e).resetChildVisibleState(e).resetChildAlphaState(e).resetChildActiveState(e),this},resetChildrenState(e){for(var t=0,s=e.length;t<s;t++)this.resetChildState(e[t]);return this},syncProperties(){return this.syncPosition().syncVisible().syncAlpha().syncActive().syncScrollFactor().syncMask(),this}},M5={worldToLocal(e){e.x-=this.x,e.y-=this.y;var t=Math.cos(-this.rotation),s=Math.sin(-this.rotation),h=e.x,S=e.y;return e.x=h*t-S*s,e.y=h*s+S*t,e.x/=this.scaleX,e.y/=this.scaleY,e},localToWorld(e){e.x*=this.scaleX,e.y*=this.scaleY;var t=Math.cos(this.rotation),s=Math.sin(this.rotation),h=e.x,S=e.y;return e.x=h*t-S*s,e.y=h*s+S*t,e.x+=this.x,e.y+=this.y,e}};var Qh=r(function(e,t){return e===t?1:e/t},"GetScale");const b5={updateChildPosition(e){e.isRexContainerLite&&(e.syncChildrenEnable=!1);var t=yt(e),s=t.parent;return t.syncPosition&&(e.x=t.x,e.y=t.y,s.localToWorld(e)),t.syncRotation&&(e.rotation=t.rotation+s.rotation),t.syncScale&&(e.scaleX=t.scaleX*s.scaleX,e.scaleY=t.scaleY*s.scaleY),e.isRexContainerLite&&(e.syncChildrenEnable=!0,e.syncPosition()),this},syncPosition(){return this.syncChildrenEnable&&this.children.forEach(this.updateChildPosition,this),this},resetChildPositionState(e){var t=yt(e),s=t.parent;return t.x=e.x,t.y=e.y,s.worldToLocal(t),t.scaleX=Qh(e.scaleX,s.scaleX),t.scaleY=Qh(e.scaleY,s.scaleY),t.rotation=e.rotation-s.rotation,this},setChildPosition(e,t,s){return e.x=t,e.y=s,this.resetChildPositionState(e),this},setChildLocalPosition(e,t,s){var h=yt(e);return h.x=t,h.y=s,this.updateChildPosition(e),this},resetLocalPositionState(){var e=yt(this).parent;return e&&e.resetChildPositionState(this),this},getChildLocalX(e){var t=yt(e);return t.x},getChildLocalY(e){var t=yt(e);return t.y}},I5=Phaser.Math.DegToRad,F5={updateChildRotation(e){var t=yt(e),s=t.parent;return t.syncRotation&&(e.rotation=s.rotation+t.rotation),this},syncRotation(){return this.syncChildrenEnable&&this.children.forEach(this.updateChildRotation,this),this},resetChildRotationState(e){var t=yt(e),s=t.parent;return t.rotation=e.rotation-s.rotation,this},setChildRotation(e,t){return e.rotation=t,this.resetChildRotationState(e),this},setChildAngle(e,t){return e.angle=t,this.resetChildRotationState(e),this},setChildLocalRotation(e,t){var s=yt(e);return s.rotation=t,this.updateChildRotation(e),this},setChildLocalAngle(e,t){var s=yt(e);return s.rotation=I5(t),this.updateChildRotation(e),this},resetLocalRotationState(){var e=yt(this).parent;return e&&e.resetChildRotationState(this),this},getChildLocalRotation(e){var t=yt(e);return t.rotation}},D5={updateChildScale(e){var t=yt(e),s=t.parent;return t.syncScale&&(e.scaleX=s.scaleX*t.scaleX,e.scaleY=s.scaleY*t.scaleY),this},syncScale(){return this.syncChildrenEnable&&this.children.forEach(this.updateChildScale,this),this},resetChildScaleState(e){var t=yt(e),s=t.parent;return t.scaleX=Qh(e.scaleX,s.scaleX),t.scaleY=Qh(e.scaleY,s.scaleY),this},setChildScale(e,t,s){return s===void 0&&(s=t),e.scaleX=t,e.scaleY=s,this.resetChildScaleState(e),this},setChildLocalScale(e,t,s){s===void 0&&(s=t);var h=yt(e);return h.scaleX=t,h.scaleY=s,this.updateChildScale(e),this},setChildDisplaySize(e,t,s){return e.setDisplaySize(t,s),this.resetChildScaleState(e),this},resetLocalScaleState(){var e=yt(this).parent;return e&&e.resetChildScaleState(this),this},getChildLocalScaleX(e){var t=yt(e);return t.scaleX},getChildLocalScaleY(e){var t=yt(e);return t.scaleY}},B5={updateChildVisible(e){var t=yt(e),s=t.parent,h=t.hasOwnProperty("maskVisible")?t.maskVisible:!0,S=s?s.visible:!0;return e.visible=S&&t.visible&&h,this},syncVisible(){return this.syncChildrenEnable&&this.children.forEach(this.updateChildVisible,this),this},resetChildVisibleState(e){var t=yt(e);return t.hasOwnProperty("maskVisible")&&delete t.maskVisible,t.visible=e.visible,this},setChildVisible(e,t){return this.setChildLocalVisible(e,t),this},setChildLocalVisible(e,t){t===void 0&&(t=!0);var s=yt(e);return s.visible=t,this.updateChildVisible(e),this},setChildMaskVisible(e,t){t===void 0&&(t=!0);var s=yt(e);return s.maskVisible=t,this.updateChildVisible(e),this},resetLocalVisibleState(){var e=yt(this).parent;return e&&e.resetChildVisibleState(this),this},getChildLocalVisible(e){var t=yt(e);return t.visible}},G5={updateChildAlpha(e){var t=yt(e),s=t.parent;return t.syncAlpha&&(e.alpha=s.alpha*t.alpha),this},syncAlpha(){return this.syncChildrenEnable&&this.children.forEach(this.updateChildAlpha,this),this},resetChildAlphaState(e){var t=yt(e),s=t.parent;return t.alpha=Qh(e.alpha,s.alpha),this},setChildAlpha(e,t){return e.alpha=t,this.resetChildAlphaState(e),this},setChildLocalAlpha(e,t){var s=yt(e);return s.alpha=t,this.updateChildAlpha(e),this},resetLocalAlphaState(){var e=yt(this).parent;return e&&e.resetChildAlphaState(this),this},getChildLocalAlpha(e){var t=yt(e);return t.alpha}},N5={updateChildActive(e){var t=yt(e),s=t.parent;return e.active=s.active&&t.active,this},syncActive(){return this.syncChildrenEnable&&this.children.forEach(this.updateChildActive,this),this},resetChildActiveState(e){var t=yt(e);return t.active=e.active,this},setChildActive(e,t){return e.active=t,this.resetChildActiveState(e),this},setChildLocalActive(e,t){t===void 0&&(t=!0);var s=yt(e);return s.active=t,this.updateChildActive(e),this},resetLocalActiveState(){var e=yt(this).parent;return e&&e.resetChildActiveState(this),this},getChildLocalActive(e){var t=yt(e);return t.active}},U5={updateChildScrollFactor(e){var t=yt(e),s=t.parent;return t.syncScrollFactor&&(e.scrollFactorX=s.scrollFactorX,e.scrollFactorY=s.scrollFactorY),this},syncScrollFactor(){return this.syncChildrenEnable&&this.children.forEach(this.updateChildScrollFactor,this),this}},V5={updateCameraFilter(e){var t=yt(e),s=t.parent;return t.syncCameraFilter&&(e.cameraFilter=s.cameraFilter),this},syncCameraFilter(){return this.syncChildrenEnable&&this.children.forEach(this.updateCameraFilter,this),this}},W5={updateChildMask(e){if(this.mask==null)return this;var t=this.mask.hasOwnProperty("geometryMask")?this.mask.geometryMask:this.mask.bitmapMask;return t!==e&&(e.mask=this.mask),this},syncMask(){return this.syncChildrenEnable&&this.children.forEach(this.updateChildMask,this),this},setMask(e){return this.mask=e,this},clearMask(e){e===void 0&&(e=!1);var t=this;return this._mask=null,this.setChildMaskVisible(this),this.children.forEach(function(s){s.clearMask&&s.clearMask(!1),s.hasOwnProperty("isRexContainerLite")||t.setChildMaskVisible(s)}),e&&this.mask&&this.mask.destroy(),this}};var Tl=r(function(e){return e.filter(function(t){if(t.displayList)return!0;if(t.parentContainer)return!0})},"FilterDisplayGameObjects");const z5={setDepth(e,t){if(this.depth=e,!t&&this.children)for(var s=this.getAllChildren(),h=0,S=s.length;h<S;h++)s[h].depth=e;return this},swapDepth(e){var t=this.depth,s=e.depth;return this.setDepth(s),e.setDepth(t),this},incDepth(e){if(this.depth+=e,this.children)for(var t=this.getAllChildren(),s=0,h=t.length;s<h;s++)t[s].depth+=e;return this},bringToTop(){var e=this.displayList;if(!e)return this;var t=this.getAllChildren([this]);ti(t,!1);for(var s=0,h=t.length;s<h;s++){var S=t[s];e.exists(S)&&e.bringToTop(S)}return this},bringMeToTop(){return this.bringToTop()},sendToBack(){var e=this.displayList;if(!e)return this;var t=this.getAllChildren([this]);ti(t,!0);for(var s=0,h=t.length;s<h;s++){var S=t[s];e.exists(S)&&e.sendToBack(S)}return this},sendMeToBack(){return this.sendToBack()},moveDepthBelow(e){var t=this.displayList;if(!t)return this;if(e.displayList!==t)return this;var s=this.getAllChildren([this]);ti(s,!1);for(var h=0,S=s.length;h<S;h++){var E=s[h];if(t.exists(E)){t.moveBelow(e,E);break}}return this},moveMyDepthBelow(e){return this.moveDepthBelow(e)},moveDepthAbove(e){var t=this.displayList;if(!t)return this;if(e.displayList!==t)return this;var s=this.getAllChildren([this]);ti(s,!0);for(var h=0,S=s.length;h<S;h++){var E=s[h];if(t.exists(E)){t.moveAbove(e,E);break}}return this},moveMyDepthAbove(e){return this.moveDepthAbove(e)},bringChildToTop(e){var t;e.isRexContainerLite?(t=e.getAllChildren([e]),t=Tl(t),t=ti(t,!1)):t=[e];var s=this.getAllChildren([this]);s=Tl(s),s=ti(s,!1);for(var h=s[s.length-1],S=0,E=t.length;S<E;S++){var n=t[S];h===n||h.displayList!==n.displayList||(h.displayList.moveAbove(n,h),h=n)}return this},sendChildToBack(e){var t;e.isRexContainerLite?(t=e.getAllChildren([e]),t=Tl(t),t=ti(t,!1)):t=[e];var s=this.getAllChildren([this]);s=Tl(s),s=ti(s,!1);for(var h=s[0],S=t.length-1;S>=0;S--){var E=t[S];h===E||h.displayList!==E.displayList||(h.displayList.moveBelow(E,h),h=E)}return this}};var UP=r(function(e,t){var s=t(e);if(!s&&e.isRexContainerLite)for(var h=e.children,S=0,E=h.length;S<E;S++)UP(h[S],t)},"DepthFirstSearch"),Mf=r(function(e,t){for(var s=[e];s.length>0;){var h=s.shift(),S=t(h);!S&&h.isRexContainerLite&&s.push(...h.children)}},"BreadthFirstSearch");const Qs=Phaser.Utils.Array,Y5={getChildren(e){if(!e)e=this.children;else for(var t=0,s=this.children.length;t<s;t++)e.push(this.children[t]);return e},getAllChildren(e){e===void 0&&(e=[]);var t=this;return Mf(t,function(s){s!==t&&e.push(s)}),e},getAllVisibleChildren(e){e===void 0&&(e=[]);var t=this;return Mf(t,function(s){if(s!==t){if(!s.visible)return!0;e.push(s)}}),e},bfs(e,t){return t===void 0&&(t=this),Mf(t,e),this},dfs(e,t){return t===void 0&&(t=this),UP(t,e),this},contains(e){var t=Xe(e);return t?t===this?!0:this.contains(t):!1},getByName(e,t){if(t){for(var s=[this],h,S;s.length;){h=s.shift();for(var E=0,n=h.children.length;E<n;E++){if(S=h.children[E],S.name===e)return S;S.isRexContainerLite&&s.push(S)}}return null}else return Qs.GetFirst(this.children,"name",e)},getRandom(e,t){return Qs.GetRandom(this.children,e,t)},getFirst(e,t,s,h){return Qs.GetFirstElement(this.children,e,t,s,h)},getAll(e,t,s,h){return Qs.GetAll(this.children,e,t,s,h)},count(e,t,s,h){return Qs.CountAllMatching(this.children,e,t,s,h)},swap(e,t){return Qs.Swap(this.children,e,t),this},setAll(e,t,s,h){return Qs.SetAll(this.children,e,t,s,h),this}};var xT=r(function(e){for(var t=[],s=0,h=e.length;s<h;s++){var S=e[s];S.hasOwnProperty("rexContainer")&&t.push(S.rexContainer)}return t},"GetLocalStates"),k5=r(function(e){for(var t=0,s=e.length;t<s;t++){var h=e[t].scene;if(h)return h}return null},"GetScene"),yT=r(function(e,t,s){if(!s.parent){e.remove();return}var h=s.parent,S=s.self;switch(t){case"x":case"y":h.updateChildPosition(S);break;case"angle":case"rotation":h.updateChildRotation(S);break;case"scaleX":case"scaleY":case"displayWidth":case"displayHeight":h.updateChildScale(S);break;case"alpha":h.updateChildAlpha(S);break;default:h.updateChildPosition(S),h.updateChildRotation(S),h.updateChildScale(S),h.updateChildAlpha(S);break}},"UpdateChild");const H5={tweenChild(e){var t=e.targets;Array.isArray(t)||(t=[t]);var s=this.scene||k5(t);if(s){e.targets=xT(t);var h=s.tweens.add(e);return h.on("update",yT),h}},tweenSelf(e){return e.targets=[this],this.tweenChild(e)},createTweenChildConfig(e){var t=e.targets;t&&(Array.isArray(t)||(t=[t]),e.targets=xT(t));var s=e.onUpdate;return e.onUpdate=function(h,S){s&&s(h,S),yT(h,void 0,S)},e},tween(e){var t=this.scene;return e.targets||(e.targets=this),t.tweens.add(e)}},X5=Phaser.GameObjects.Container;var $5=r(function(e){return e instanceof X5},"IsContainerGameObject"),VP=r(function(e){var t=e.getAllChildren([e]);return t=t.filter(function(s){return!!s.displayList||!!s.parentContainer}),t},"GetValidChildren"),ST=r(function(e){var t=VP(this);t.indexOf(this)===-1&&t.push(this),ti(t),e.add(t)},"AddToContainer"),TT=r(function(e,t,s){if(this.scene){var h=VP(this);ti(h,t),e.remove(h),s&&h.forEach(function(S){S.addToDisplayList()})}},"RemoveFromContainer");const K5={addToContainer(e){return $5(e)?(this._setParentContainerFlag=!0,ST.call(this,e),this._setParentContainerFlag=!1,this):this},addToLayer(e){return Ah(e)?(ST.call(this,e),this):this},removeFromContainer(){return this.parentContainer?(this._setParentContainerFlag=!0,TT.call(this,this.parentContainer,!0,!1),this._setParentContainerFlag=!1,this):this},removeFromLayer(e){return e===void 0&&(e=!0),Ah(this.displayList)?(TT.call(this,this.displayList,!1,e),this):this},getParentContainer(){if(this.parentContainer)return this.parentContainer;for(var e=this.getParent();e;){var t=e.parentContainer;if(t)return t;e=e.getParent()}return null},addToParentContainer(e){if(!e.displayList)return this;var t=this.getParentContainer();return t?(e.isRexContainerLite?e.addToContainer(t):t.add(e),this):this},addToPatentLayer(e){if(!e.displayList)return this;var t=this.displayList;return t===e.displayList?this:(Ah(t)&&(e.isRexContainerLite?e.addToLayer(t):t.add(e)),this)}},Z5={hasLayer(){return!!this.privateRenderLayer},enableLayer(){if(this.hasLayer())return this;var e=this.scene.add.layer();return this.moveDepthBelow(e),this.addToLayer(e),this.privateRenderLayer=e,this},getLayer(){return this.hasLayer()||this.enableLayer(),this.privateRenderLayer},getRenderLayer(){if(this.hasLayer())return this.privateRenderLayer;for(var e=this.getParent();e;){var t=e.privateRenderLayer;if(t)return t;e=e.getParent()}return null},addToRenderLayer(e){if(!e.displayList)return this;var t=this.getRenderLayer();if(!t)return this;if(t===e.displayList)return this;e.isRexContainerLite?e.addToLayer(t):t.add(e);var s=yt(e);return s.layer=t,this},removeFromRenderLayer(e){var t=yt(e),s=t.layer;return s?(e.isRexContainerLite?e.removeFromLayer(!0):s.remove(e),t.layer=null,this):this}},CT=Phaser.Geom.Rectangle,J5=Phaser.Geom.Rectangle.Union;var Q5=r(function(e,t){t===void 0?t=new CT:t===!0&&(bf===void 0&&(bf=new CT),t=bf),t.setTo(0,0,0,0);for(var s,h=!0,S=0,E=e.length;S<E;S++)if(s=e[S],!!s.getBounds){var n=Bp(s,!0);h?(t.setTo(n.x,n.y,n.width,n.height),h=!1):J5(n,t,t)}return t},"GetBoundsOfGameObjects"),bf,js=Phaser.Utils.Objects.GetValue,kp=r(function(e){if(e){var t=e.gameObjects,s=e.renderTexture,h=e.saveTexture,S=js(e,"x",void 0),E=js(e,"y",void 0),n=js(e,"width",void 0),T=js(e,"height",void 0),i=js(e,"originX",0),f=js(e,"originY",0),y=js(e,"padding",0),c,o;if(n===void 0||T===void 0||S===void 0||E===void 0){var l=Q5(t,!0),a=S!==void 0&&E!==void 0;a?(n=Math.max(S-l.left,l.right-S)*2,T=Math.max(E-l.top,l.bottom-E)*2,i=.5,f=.5):(S=l.x,E=l.y,n=l.width,T=l.height,i=0,f=0),c=l.x,o=l.y}else c=S+(0-i)*n,o=E+(0-f)*T;c-=y,o-=y,n+=y*2,T+=y*2;var u=t[0].scene,v=u.sys.textures;return h&&!s&&(s=v.addDynamicTexture(h,n,T)),s||(s=u.add.renderTexture(0,0,n,T)),s.setPosition&&s.setPosition(S,E),(s.width!==n||s.height!==T)&&s.setSize(n,T),s.setOrigin&&s.setOrigin(i,f),s.camera.setScroll(c,o),t=ti(Fi(t)),s.draw(t),h&&(Be(s)?s.saveTexture(h):s.key!==h&&v.renameTexture(s.key,key)),s}},"Snapshot");const j5={snapshot(e){var t=this.scaleX,s=this.scaleY,h=t===1&&s===1;h||this.setScale(1),e===void 0&&(e={}),e.gameObjects=this.getAllVisibleChildren(),e.x=this.x,e.y=this.y,e.originX=this.originX,e.originY=this.originY;var S=kp(e),E=!!S.scene;return h||(this.setScale(t,s),E&&S.setScale(t,s)),E?S:this}},ET=Phaser.Utils.Objects.GetValue;var q5=r(function(e,t){var s=ET(t,"drawContainer",!0),h=ET(t,"children");return h===void 0&&(h=this.getAllVisibleChildren([this])),s||(h=h.filter(function(S){return!S.isRexContainerLite})),tP(h,e,t),this},"DrawBounds$1");const _5=Phaser.Math.RotateAround;var tB=r(function(e,t,s){s===void 0&&(s=t);var h={x:(t-e.originX)*e.displayWidth,y:(s-e.originY)*e.displayHeight};return _5(h,0,0,e.rotation),e.originX=t,e.originY=s,e.x=e.x+h.x,e.y=e.y+h.y,e},"ChangeOrigin$1"),eB=r(function(e,t){this.syncChildrenEnable=!1,tB(this,e,t),this.syncChildrenEnable=!0;for(var s=this.getAllChildren(),h=0,S=s.length;h<S;h++)this.resetChildPositionState(s[h]);return this},"ChangeOrigin"),WP={changeOrigin:eB,drawBounds:q5};Object.assign(WP,R5,A5,O5,w5,M5,b5,F5,D5,B5,G5,N5,U5,V5,W5,z5,Y5,H5,K5,Z5,j5);const _0=class _0 extends Wo{constructor(t,s,h,S,E,n){Array.isArray(S)&&(n=S,S=void 0,E=void 0),super(t,s,h,S,E),this.type="rexContainerLite",this.isRexContainerLite=!0,this.syncChildrenEnable=!0,this._active=!0,this._mask=null,this._scrollFactorX=1,this._scrollFactorY=1,this._cameraFilter=0,this.privateRenderLayer=void 0,n&&this.add(n)}destroy(t){!this.scene||this.ignoreDestroy||(this.syncChildrenEnable=!1,super.destroy(t),this.privateRenderLayer&&this.privateRenderLayer.scene&&(this.privateRenderLayer.list.length=0,this.privateRenderLayer.destroy()))}resize(t,s){return this.setSize(t,s),this}get x(){return this._x}set x(t){this._x!==t&&(this._x=t,this.syncPosition())}get y(){return this._y}set y(t){this._y!==t&&(this._y=t,this.syncPosition())}get rotation(){return super.rotation}set rotation(t){this.rotation!==t&&(super.rotation=t,this.syncPosition())}get scaleX(){return super.scaleX}set scaleX(t){this.scaleX!==t&&(super.scaleX=t,this.syncPosition())}get scaleY(){return super.scaleY}set scaleY(t){this.scaleY!==t&&(super.scaleY=t,this.syncPosition())}get scale(){return super.scale}set scale(t){this.scale!==t&&(super.scale=t,this.syncPosition())}get visible(){return super.visible}set visible(t){super.visible!==t&&(super.visible=t,this.syncVisible())}get alpha(){return super.alpha}set alpha(t){super.alpha!==t&&(super.alpha=t,this.syncAlpha())}get active(){return this._active}set active(t){this._active!==t&&(this._active=t,this.syncActive())}get mask(){return this._mask}set mask(t){this._mask!==t&&(this._mask=t,this.syncMask())}get scrollFactorX(){return this._scrollFactorX}set scrollFactorX(t){this._scrollFactorX!==t&&(this._scrollFactorX=t,this.syncScrollFactor())}get scrollFactorY(){return this._scrollFactorY}set scrollFactorY(t){this._scrollFactorY!==t&&(this._scrollFactorY=t,this.syncScrollFactor())}get cameraFilter(){return this._cameraFilter}set cameraFilter(t){this._cameraFilter!==t&&(this._cameraFilter=t,this.syncCameraFilter())}get list(){return this.children}static GetParent(t){return Xe(t)}get parentContainer(){return this._parentContainer}set parentContainer(t){if(!this._parentContainer&&!t){this._parentContainer=t;return}if(this.setParentContainerFlag){this._parentContainer=t;return}this._parentContainer&&!t?(this.removeFromContainer(),this._parentContainer=t):t?(this._parentContainer=t,this.addToContainer(t)):this._parentContainer=t}get setParentContainerFlag(){if(this._setParentContainerFlag)return!0;var t=Xe(this);return t?t.setParentContainerFlag:!1}};r(_0,"ContainerLite");let Ae=_0;Object.assign(Ae.prototype,WP);var Ud=r(function(e){return e.hasOwnProperty("rexSizer")||(e.rexSizer={}),e.rexSizer},"GetSizerConfig$1");function iB(e){return e===void 0&&(e=this),Ud(e)}r(iB,"GetSizerConfig");var sB=r(function(e){var t=Ud(e);return t.hasOwnProperty("prevState")||(t.prevState={}),t.prevState},"GetChildPrevState"),rB=r(function(e){return e===void 0&&(e=ka(this.scene)),this.left=Math.max(this.left,e.left),this.right=Math.min(this.right,e.right),this.top=Math.max(this.top,e.top),this.bottom=Math.min(this.bottom,e.bottom),this},"PushIntoBounds");const kt=Phaser.Display.Align,Xa={center:kt.CENTER,left:kt.LEFT_CENTER,right:kt.RIGHT_CENTER,top:kt.TOP_CENTER,bottom:kt.BOTTOM_CENTER,"left-top":kt.TOP_LEFT,"top-left":kt.TOP_LEFT,"left-center":kt.LEFT_CENTER,"center-left":kt.LEFT_CENTER,"left-bottom":kt.BOTTOM_LEFT,"bottom-left":kt.BOTTOM_LEFT,"center-top":kt.TOP_CENTER,"top-center":kt.TOP_CENTER,"center-center":kt.CENTER,"center-bottom":kt.BOTTOM_CENTER,"bottom-center":kt.BOTTOM_CENTER,"right-top":kt.TOP_RIGHT,"top-right":kt.TOP_RIGHT,"right-center":kt.RIGHT_CENTER,"center-right":kt.RIGHT_CENTER,"right-bottom":kt.BOTTOM_RIGHT,"bottom-right":kt.BOTTOM_RIGHT};var Cv=new Phaser.GameObjects.Zone({sys:{queueDepthSort:ee,events:{once:ee}}},0,0,1,1);Cv.setOrigin(0);var ds={TOP_LEFT:0,TOP_CENTER:1,TOP_RIGHT:2,LEFT_TOP:3,LEFT_CENTER:4,LEFT_BOTTOM:5,CENTER:6,RIGHT_TOP:7,RIGHT_CENTER:8,RIGHT_BOTTOM:9,BOTTOM_LEFT:10,BOTTOM_CENTER:11,BOTTOM_RIGHT:12},Hp=r(function(e){var t=Mt(e);return e.y+t-t*e.originY},"GetBottom"),Xp=r(function(e){var t=wt(e);return e.x-t*e.originX+t*.5},"GetCenterX"),$p=r(function(e,t){var s=Mt(e);return e.y=t-s+s*e.originY,e},"SetBottom"),Kp=r(function(e,t){var s=wt(e),h=s*e.originX;return e.x=t+h-s*.5,e},"SetCenterX"),nB=r(function(e,t,s,h){return s===void 0&&(s=0),h===void 0&&(h=0),Kp(e,Xp(t)+s),$p(e,Hp(t)+h),e},"BottomCenter"),Zp=r(function(e){var t=wt(e);return e.x-t*e.originX},"GetLeft"),Jp=r(function(e,t){var s=wt(e);return e.x=t+s*e.originX,e},"SetLeft"),aB=r(function(e,t,s,h){return s===void 0&&(s=0),h===void 0&&(h=0),Jp(e,Zp(t)-s),$p(e,Hp(t)+h),e},"BottomLeft"),Qp=r(function(e){var t=wt(e);return e.x+t-t*e.originX},"GetRight"),jp=r(function(e,t){var s=wt(e);return e.x=t-s+s*e.originX,e},"SetRight"),hB=r(function(e,t,s,h){return s===void 0&&(s=0),h===void 0&&(h=0),jp(e,Qp(t)+s),$p(e,Hp(t)+h),e},"BottomRight"),qp=r(function(e,t){var s=Mt(e),h=s*e.originY;return e.y=t+h-s*.5,e},"SetCenterY"),oB=r(function(e,t,s){return Kp(e,t),qp(e,s)},"CenterOn"),_p=r(function(e){var t=Mt(e);return e.y-t*e.originY+t*.5},"GetCenterY"),lB=r(function(e,t,s,h){return s===void 0&&(s=0),h===void 0&&(h=0),oB(e,Xp(t)+s,_p(t)+h),e},"Center"),uB=r(function(e,t,s,h){return s===void 0&&(s=0),h===void 0&&(h=0),Jp(e,Zp(t)-s),qp(e,_p(t)+h),e},"LeftCenter"),dB=r(function(e,t,s,h){return s===void 0&&(s=0),h===void 0&&(h=0),jp(e,Qp(t)+s),qp(e,_p(t)+h),e},"RightCenter"),tg=r(function(e){var t=Mt(e);return e.y-t*e.originY},"GetTop"),eg=r(function(e,t){var s=Mt(e);return e.y=t+s*e.originY,e},"SetTop"),fB=r(function(e,t,s,h){return s===void 0&&(s=0),h===void 0&&(h=0),Kp(e,Xp(t)+s),eg(e,tg(t)-h),e},"TopCenter"),cB=r(function(e,t,s,h){return s===void 0&&(s=0),h===void 0&&(h=0),Jp(e,Zp(t)-s),eg(e,tg(t)-h),e},"TopLeft"),vB=r(function(e,t,s,h){return s===void 0&&(s=0),h===void 0&&(h=0),jp(e,Qp(t)+s),eg(e,tg(t)-h),e},"TopRight"),Wi=[];Wi[ds.BOTTOM_CENTER]=nB;Wi[ds.BOTTOM_LEFT]=aB;Wi[ds.BOTTOM_RIGHT]=hB;Wi[ds.CENTER]=lB;Wi[ds.LEFT_CENTER]=uB;Wi[ds.RIGHT_CENTER]=dB;Wi[ds.TOP_CENTER]=fB;Wi[ds.TOP_LEFT]=cB;Wi[ds.TOP_RIGHT]=vB;var zP=r(function(e,t,s,h,S){return Wi[s](e,t,h,S)},"QuickSet"),zo=r(function(e,t,s,h,S,E){Cv.setPosition(t,s).setSize(h,S),zP(e,Cv,E)},"AlignIn");const Kr=Phaser.Utils.Objects.GetValue,pB=Phaser.GameObjects.Group;var gB=r(function(e,t){var s=e.scene,h,S,E,n,T;if(typeof t=="number")h=t;else{h=Kr(t,"color"),S=Kr(t,"lineWidth");var i=Kr(t,"name",!1);i&&(E=Kr(i,"createTextCallback",mB),n=Kr(i,"createTextCallbackScope",void 0),T=Kr(i,"align","left-top"),typeof T=="string"&&(T=Xa[T]))}if(h===void 0&&(h=16777215),S===void 0&&(S=1),E&&!e.children){e.children=new pB(s),e.once("destroy",function(u,v){u.children.destroy(!v),u.children=void 0});var f=e.clear.bind(e);e.clear=function(){f(),e.children.clear(!1,!0)}}for(var y=this.getAllShownChildren([this]),c,o,l=0,a=y.length;l<a;l++){if(c=y[l],c.getBounds||c.width!==void 0&&c.height!==void 0)qs=Bp(c,qs);else continue;h!=null&&e.lineStyle(S,h).strokeRectShape(qs),c.name&&E&&(n?o=E.call(n,s):o=E(s),o&&(o.setText(c.name),e.children.add(o),zo(o,qs.x,qs.y,qs.width,qs.height,T)))}return this},"DrawBounds"),mB=r(function(e,t,s){return e.add.text(0,0,"")},"DefaultCreateTextCallback"),qs=void 0;const Cl=Phaser.Utils.Objects.GetValue;var Gs=r(function(e,t){return e===void 0&&(e=0),t===void 0&&(t={}),typeof e=="number"?(t.left=e,t.right=e,t.top=e,t.bottom=e):(t.left=Cl(e,"left",0),t.right=Cl(e,"right",0),t.top=Cl(e,"top",0),t.bottom=Cl(e,"bottom",0)),t},"GetBoundsConfig");const xB=Ae.prototype.add;var Yo=r(function(e){return xB.call(this,e),this.sizerEventsEnable&&(e.emit("sizer.add",e,this),this.emit("add",e,this)),this},"AddChild$1");const yB={addBackground(e,t,s){this.backgroundChildren===void 0&&(this.backgroundChildren=[]),typeof t=="string"&&(s=t,t=void 0),t===void 0&&(t=0),Yo.call(this,e),this.backgroundChildren.push(e);var h=this.getSizerConfig(e);return h.padding=Gs(t),s!==void 0&&this.addChildrenMap(s,e),this},isBackground(e){return this.backgroundChildren===void 0?!1:this.backgroundChildren.indexOf(e)!==-1}};var bs=r(function(e,t){var s=null;if(t===void 0)e.hasOwnProperty("rexContainer")&&(s=e.rexContainer.parent,s?s.isRexSizer||(s=bs(s)):s=null);else for(s=bs(e);s&&s.name!==t;)s=bs(s);return s},"GetParent"),SB=r(function(e){for(var t=bs(e);t;)e=t,t=bs(t);return e},"GetTopmostParent");const $a={getParentSizer(e,t){return typeof e=="string"&&(t=e,e=void 0),e===void 0&&(e=this),bs(e,t)},getTopmostSizer(e){return e===void 0&&(e=this),SB(e)},hasParentSizer(e,t){t===void 0&&(t=this);for(var s=bs(t);s;){if(s===e)return!0;s=bs(s)}return!1},hasChild(e,t){return t===void 0&&(t=this),this.hasParentSizer(t,e)}},TB=Phaser.Utils.Array.Remove,CB=Ae.prototype.remove,PT=$a.getParentSizer;var ko=r(function(e,t){for(var s=PT(e);s;)s.removeChildCallback&&s.removeChildCallback(e,t),s=PT(s);return this.isBackground(e)&&TB(this.backgroundChildren,e),CB.call(this,e,t),!t&&this.sizerEventsEnable&&(e.emit("sizer.remove",e,this),this.emit("remove",e,this)),this},"RemoveChild");const EB=Phaser.Utils.Array.Remove,PB=$a.getParentSizer,RB={removeFromParentSizer(){var e=PB(gameObject);return e&&e.remove(this),this},removeBackground(e,t){return this.backgroundChildren===void 0?this:this.getParentSizer(e)!==this?this:(EB(this.backgroundChildren,e),ko.call(this,e,t),this)},removeAllBackgrounds(e){if(this.backgroundChildren===void 0)return this;for(var t=this.backgroundChildren.length-1;t>=0;t--)this.remove(this.backgroundChildren[t],e);return this}};var RT=r(function(e,t){if(typeof e=="string")this.childrenMap[e]=t;else{var s=e;for(e in s)this.childrenMap[e]=s[e]}return this},"AddChildrenMap"),AB=r(function(e){if(typeof e=="object"){var t=e;for(var e in this.childrenMap)if(this.childrenMap[e]===t)return delete this.childrenMap[e],this}return delete this.childrenMap[e],this},"RemoveChildrenMap"),LB=r(function(e,t){if(typeof e=="string"&&(e=e.split(".")),e.length!==0){t===void 0&&(t=!1);var s=e.shift(),h=null;if(s.charAt(0)==="#")s=s.substring(1),h=this.getByName(s,t);else if(e.length===0&&t){var S=this.childrenMap;if(S)for(var E=[S],n;E.length;){S=E.shift();for(var T in S)if(n=S[T],T===s){h=n;break}else n&&typeof n=="object"&&n.childrenMap&&E.push(n.childrenMap);if(h)break}}else if(s.indexOf("[")===-1)this.childrenMap&&(h=this.childrenMap[s]);else{var i=s.match(OB);if(i!=null&&this.childrenMap){var f=this.childrenMap[i[1]];f&&(h=f[i[2]])}}return e.length===0?h:h&&h.childrenMap?h.getElement(e):null}},"GetElement");const OB=/(\S+)\[(\d+)\]/i;var wB=r(function(e){if(Array.isArray(this.sizerChildren)){var t=this.sizerChildren.indexOf(e);return t===-1&&(t=null),t}else{if(this.getParentSizer(e)!==this)return null;for(var s in this.sizerChildren)if(this.sizerChildre[s]===e)return s;return null}},"GetChildIndex");const MB={getInnerPadding(e){return uu(this.space,e)},setInnerPadding(e,t){return Ms(this.space,e,t),this},getOuterPadding(e){return uu(this.getSizerConfig(this).padding,e)},setOuterPadding(e,t){return Ms(this.getSizerConfig(this).padding,e,t),this},getChildOuterPadding(e,t){return typeof e=="string"&&(e=this.getElement(e)),uu(this.getSizerConfig(e).padding,t)},setChildOuterPadding(e,t,s){return typeof e=="string"&&(e=this.getElement(e)),Ms(this.getSizerConfig(e).padding,t,s),this}};var ig=r(function(e){var t=this.childrenWidth;if(t!==void 0){var s=this.minWidth!==void 0?this.minWidth:0;return e===void 0?(e=Math.max(s,t),this.layoutWarnEnable&&s>0&&t>s&&console.warn(`Layout width warn: ${this.constructor.name}'s minWidth (${s}) < childrenWidth (${t})`)):this.layoutWarnEnable&&(s>e||t>e)&&console.warn(`Layout width warn: ${this.constructor.name}'s minWidth (${s}) or childrenWidth (${t} > targetWidth ${e})`),e}},"ResolveWidth$3"),sg=r(function(){var e;for(var t in this.sizerChildren)if(e=this.sizerChildren[t],!(!e||e.isRexSizer&&e.ignoreLayout||!e.runWidthWrap)&&(!e.hasWidthWrap||e.hasWidthWrap()))return!0;return!1},"HasWidthWrap$2"),bB=r(function(e){var t,s,h;for(var S in this.sizerChildren)t=this.sizerChildren[S],t&&t.isRexSizer&&!t.ignoreLayout&&(s=this.getExpandedChildWidth(t,e),h=t.resolveWidth(s),h===void 0&&(h=s),t.resolveChildrenWidth(h))},"ResolveChildrenWidth$1"),rg=r(function(e){var t,s,h;for(var S in this.sizerChildren)t=this.sizerChildren[S],!(!t||t.isRexSizer&&t.ignoreLayout||!t.runWidthWrap)&&(s=this.getExpandedChildWidth(t,e),t.isRexSizer?(h=t.resolveWidth(s),h===void 0&&(h=s)):h=s,t.runWidthWrap(h));return this},"RunWidthWrap$3"),ng=r(function(e){var t=this.childrenHeight;if(t!==void 0){var s=this.minHeight!==void 0?this.minHeight:0;return e===void 0?(e=Math.max(s,t),this.layoutWarnEnable&&s>0&&t>s&&console.warn(`Layout height warn: ${this.constructor.name}'s minHeight (${s}) < childrenHeight (${t})`)):this.layoutWarnEnable&&(s>e||t>e)&&console.warn(`Layout height warn: ${this.constructor.name}'s minHeight (${s}) or childrenHeight (${t}) > targetHeight (${e})`),e}},"ResolveHeight$3"),ag=r(function(){var e;for(var t in this.sizerChildren)if(e=this.sizerChildren[t],!(!e||e.isRexSizer&&e.ignoreLayout||!e.runHeightWrap)&&(!e.hasHeightWrap||e.hasHeightWrap()))return!0;return!1},"HasHeightWrap$2"),IB=r(function(e){var t,s,h;for(var S in this.sizerChildren)t=this.sizerChildren[S],t&&t.isRexSizer&&!t.ignoreLayout&&(s=this.getExpandedChildHeight(t,e),h=t.resolveHeight(s),h===void 0&&(h=s),t.resolveChildrenHeight(h))},"ResolveChildrenHeight$1"),hg=r(function(e){var t,s,h;for(var S in this.sizerChildren)t=this.sizerChildren[S],!(!t||t.isRexSizer&&t.ignoreLayout||!t.runHeightWrap)&&(s=this.getExpandedChildHeight(t,e),t.isRexSizer?(h=t.resolveHeight(s),h===void 0&&(h=s)):h=s,t.runHeightWrap(h));return this},"RunHeightWrap$3"),FB=r(function(e){var t;if(e.isRexSizer){var s=e.childrenWidth;if(s==null)return;t=Math.max(e.minWidth,s)}else e.minWidth!==void 0?t=e.minWidth:e._minWidth!==void 0?t=e._minWidth:t=wt(e);return t},"GetChildWidth"),DB=r(function(e){var t;if(e.isRexSizer){var s=e.childrenHeight;if(s===void 0)return;t=Math.max(e.minHeight,s)}else e.minHeight!==void 0?t=e.minHeight:e._minHeight!==void 0?t=e._minHeight:t=Mt(e);return t},"GetChildHeight"),BB=r(function(e,t){return t},"GetExpandedChildWidth$3"),GB=r(function(e,t){return t},"GetExpandedChildHeight$3"),NB=r(function(){return 0},"GetChildrenWidth$5"),UB=r(function(){return 0},"GetChildrenHeight$5"),VB=r(function(e){e===void 0&&(e=[]);for(var t=e.length,s=this.getChildrenSizers(e),h=e.length,S=t;S<h;S++)s[S].getAllChildrenSizers(e);return e},"GetAllChildrenSizers"),WB=r(function(e){return e===void 0&&(e=[]),e},"GetChildrenSizers$5");const zB={getShownChildren(e){e===void 0&&(e=[]);for(var t=this.children,s,h=0,S=t.length;h<S;h++)s=t[h],!(s.rexSizer&&s.rexSizer.hidden)&&e.push(s);return e},getAllShownChildren(e){e===void 0&&(e=[]);for(var t=[this];t.length>0;){var s=t.shift();s.rexSizer&&s.rexSizer.hidden||(s!==this&&e.push(s),s.isRexContainerLite&&t.push(...s.children))}return e}};var Ho=r(function(){this._childrenWidth=void 0,this._childrenHeight=void 0;for(var e=this.getChildrenSizers(),t,s=0,h=e.length;s<h;s++)t=e[s],!t.ignoreLayout&&t.preLayout()},"PreLayout$4"),YB=r(function(){if(this.ignoreLayout)return this;var e=this.scaleX,t=this.scaleY,s=e===1&&t===1;return s||this.setScale(1),this.runLayout(),s||this.setScale(e,t),this},"Layout"),kB=r(function(e,t,s){if(this.ignoreLayout)return this;var h=!e;h&&this.preLayout();var S,E,n,T=h&&this.hasWidthWrap(),i=h&&this.hasHeightWrap();return S=HB(this,t,s,T,i),S||console.error("Can't resolve size of ",this),E=S.width,n=S.height,this.resize(E,n),this.sizerEventsEnable&&this.layoutedChildren===void 0&&(this.layoutedChildren=[]),this.layoutChildren(),this.layoutBackgrounds(),this.sizerEventsEnable&&(this.emit("postlayout",this.layoutedChildren,this),this.layoutedChildren.length=0),this.postLayout(),h&&this._postLayout(),this},"RunLayout$1"),HB=r(function(e,t,s,h,S){var E=AT(e,t,h),n=XB(e,s,S);return E===void 0&&(E=AT(e,t,h)),E!==void 0&&n!==void 0?{width:E,height:n}:!1},"ResolveSize"),AT=r(function(e,h,s){var h=e.resolveWidth(h);return h!==void 0&&s&&(e.resolveChildrenWidth(h),e.runWidthWrap(h)),h},"ResolveWidth$2"),XB=r(function(e,h,s){var h=e.resolveHeight(h);return h!==void 0&&s&&(e.resolveChildrenHeight(h),e.runHeightWrap(h)),h},"ResolveHeight$2"),$B=r(function(){},"LayoutChildren$6"),KB=r(function(e,t,s){return this._anchor&&this._anchor.updatePosition(),this},"_PostLayout"),ZB=r(function(e,t,s){return this},"PostLayout"),JB=r(function(e){if(e.resize)return!0;if(!e.setSize)return!1;for(var t=0,s=LT.length;t<s;t++){var h=LT[t];if(h&&e instanceof h)return!1}return!0},"HasResizeMethod"),LT=[Phaser.GameObjects.Image,Phaser.GameObjects.Sprite,Phaser.GameObjects.Mesh,Phaser.GameObjects.Shader,Phaser.GameObjects.Video],QB=r(function(e){if(e.displayWidth===void 0)return!1;for(var t=0,s=OT.length;t<s;t++){var h=OT[t];if(h&&e instanceof h)return!1}return!0},"CanSetDisplaySize"),OT=[Phaser.GameObjects.BitmapText],Pe=r(function(e,t,s){if(!(!e||t===void 0&&s===void 0))if(JB(e))t===void 0&&(t=e.width),s===void 0&&(s=e.height),e.resize?e.resize(t,s):e.setSize(t,s);else{var h=QB(e);t!==void 0&&(h?e.displayWidth=t:e.scaleX=t/e.width),s!==void 0&&(h?e.displayHeight=s:e.scaleY=s/e.height)}},"ResizeGameObject"),jB=r(function(e,t,s,h){Pe(s,e,t)},"DefaultResizeCallback");const El=Phaser.Utils.Objects.GetValue,tm=class tm extends Gt{constructor(t,s){super(t,{eventEmitter:!1}),this.viewport=void 0,this.resetFromJSON(s)}shutdown(t){this.isShutdown||(this.autoAnchor(!1),this.viewport=void 0,this.onUpdateViewportCallback=void 0,this.onUpdateViewportCallbackScope=void 0,this.onResizeCallback=void 0,this.onResizeCallbackScope=void 0,super.shutdown(t))}resetFromJSON(t){t===void 0&&(t={});var s,h;t.x!==void 0?(s=null,h=t.x):t.left!==void 0?(s=0,h=t.left):t.right!==void 0?(s=1,h=t.right):t.centerX!==void 0&&(s=.5,h=t.centerX);var S,E;t.y!==void 0?(S=null,E=t.y):t.top!==void 0?(S=0,E=t.top):t.bottom!==void 0?(S=1,E=t.bottom):t.centerY!==void 0&&(S=.5,E=t.centerY);var n,T;h!==void 0&&(h=h.replace("left","0%").replace("right","100%").replace("center","50%").split("%"),n=parseFloat(h[0])/100,T=h[1]===""?0:parseFloat(h[1]));var i,f;E!==void 0&&(E=E.replace("top","0%").replace("bottom","100%").replace("center","50%").split("%"),i=parseFloat(E[0])/100,f=E[1]===""?0:parseFloat(E[1]));var y=t.width,c,o;y!==void 0&&(y=y.split("%"),c=parseFloat(y[0])/100,o=y[1]===""?0:parseFloat(y[1]));var l=t.height,a,u;l!==void 0&&(l=l.split("%"),a=parseFloat(l[0])/100,u=l[1]===""?0:parseFloat(l[1])),this.setAlign(s,S),this.setPercentage(n,i),this.setOffset(T,f),this.setSizePercentage(c,a),this.setSizePadding(o,u);var v=El(t,"onResizeCallback",jB),d=El(t,"onResizeCallbackScope");this.setResizeCallback(v,d);var p=El(t,"onUpdateViewportCallback"),g=El(t,"onUpdateViewportCallbackScope");return this.setUpdateViewportCallback(p,g),this.autoAnchor(t.enable),this}autoAnchor(t){return t===void 0&&(t=!0),t=!!t,this.autoAnchorEnable===t?this:(t?(this.scene.sys.scale.on("resize",this.anchor,this),this.anchor()):this.scene.sys.scale.off("resize",this.anchor,this),this.autoAnchorEnable=t,this)}setAlign(t,s){return this.alignX=t,this.alignY=s,this}setPercentage(t,s){return this.percentageX=t,this.percentageY=s,this}setOffset(t,s){return this.offsetX=t,this.offsetY=s,this}setSizePercentage(t,s){return this.percentageWidth=t,this.percentageHeight=s,this}setSizePadding(t,s){return this.paddingWidth=t,this.paddingHeight=s,this}setResizeCallback(t,s){return this.onResizeCallback=t,this.onResizeCallbackScope=s,this}setUpdateViewportCallback(t,s){return this.onUpdateViewportCallback=t,this.onUpdateViewportCallbackScope=s,this}anchor(){return this.updateViewport(),this.updateSize(),this.updatePosition(),this}updateSize(){var t=this.onResizeCallback,s=this.onResizeCallbackScope,h=this.anchorWidth,S=this.anchorHeight;if(!(h===void 0&&S===void 0||!t)){var E=this.parent;h===void 0&&(h=E.width),S===void 0&&(S=E.height),s?t.call(s,h,S,E,this):t(h,S,E,this)}}updatePosition(){var t=this.parent;return this.alignX===null?t.x=this.anchorX:this.alignX!==void 0&&(t.x=this.anchorX+t.displayWidth*(t.originX-this.alignX)),this.alignY===null?t.y=this.anchorY:this.alignY!==void 0&&(t.y=this.anchorY+t.displayHeight*(t.originY-this.alignY)),this}get anchorX(){return this.viewport.x+this.viewport.width*this.percentageX+this.offsetX}get anchorY(){return this.viewport.y+this.viewport.height*this.percentageY+this.offsetY}get anchorWidth(){if(this.percentageWidth!==void 0)return this.viewport.width*this.percentageWidth+this.paddingWidth}get anchorHeight(){if(this.percentageHeight!==void 0)return this.viewport.height*this.percentageHeight+this.paddingHeight}updateViewport(){var t=this.parent.scene.cameras.main;this.viewport=ka(this.scene,t,this.viewport);var s=this.viewport,h=this.onUpdateViewportCallback,S=this.onUpdateViewportCallbackScope;h&&(S?h.call(S,s,this.parent,this):h(s,this.parent,this))}};r(tm,"Anchor");let jh=tm;var qB=r(function(e){e===void 0&&(e={});var t=e.hasOwnProperty("width"),s=e.hasOwnProperty("height"),h=e.hasOwnProperty("onResizeCallback");return(t||s)&&!h&&(e.onResizeCallback=function(S,E,n){t&&n.setMinWidth(S),s&&n.setMinHeight(E),n.layout()}),this._anchor===void 0?this._anchor=new jh(this,e):this._anchor.resetFromJSON(e),this},"SetAnchor");const _B=Phaser.Utils.Objects.GetValue,Zr=Phaser.Utils.Objects.GetAdvancedValue,wT=Phaser.Math.Linear,em=class em extends ss{constructor(t,s){super(t,s),this.scaleStart={},this.scaleEnd={},this.resetFromJSON(s),this.boot()}resetFromJSON(t){return super.resetFromJSON(t),this.setMode(_B(t,"mode",0)),this.setScaleRange(Zr(t,"start",void 0),Zr(t,"end",0)),this}setMode(t){return typeof t=="string"&&(t=t9[t]),this.mode=t,this}setScaleRange(t,s){return typeof t=="number"?(this.startX=t,this.startY=t):(this.startX=Zr(t,"x",this.parent.scaleX),this.startY=Zr(t,"y",this.parent.scaleY)),typeof s=="number"?(this.endX=s,this.endY=s):(this.endX=Zr(s,"x",void 0),this.endY=Zr(s,"y",void 0)),this.hasScaleX=this.startX!==void 0&&this.endX!==void 0,this.hasScaleY=this.startY!==void 0&&this.endY!==void 0,this}start(){if(this.timer.isRunning)return this;var t=this.parent;this.hasScaleX&&(t.scaleX=this.startX),this.hasScaleY&&(t.scaleY=this.startY);var s=this.repeat;return this.mode===2&&s!==-1&&(s=(s+1)*2-1),this.timer.setDelay(this.delay).setDuration(this.duration).setRepeat(s),super.start(),this}updateTarget(t,s){var h=s.t;s.isOddIteration&&(h=1-h),h=this.easeFn(h),this.hasScaleX&&(t.scaleX=wT(this.startX,this.endX,h)),this.hasScaleY&&(t.scaleY=wT(this.startY,this.endY,h))}complete(){return super.complete(),this.mode===1&&this.parent.destroy(),this}};r(em,"Scale");let xr=em;const t9={stop:0,destroy:1,yoyo:2};var og=r(function(e,t,s,h,S){h===void 0&&(h="Cubic");var E,n;switch(s){case 0:case"x":E={x:0},n={x:e.scaleX};break;case 1:case"y":E={y:0},n={y:e.scaleY};break;default:E=0,n=e.scale;break}var T={mode:0,start:E,end:n,duration:t,ease:h};return S===void 0?S=new xr(e,T):S.resetFromJSON(T),S.restart(),S},"PopUp$1"),YP=r(function(e,t,s,h,S,E){h===void 0&&(h="Linear"),S instanceof xr&&(E=S,S=void 0),S===void 0&&(S=!0);var n={};switch(n.mode=S?1:0,s){case 0:case"x":n.end={x:0};break;case 1:case"y":n.end={y:0};break;default:n.end=0;break}return n.duration=t,n.ease=h,E===void 0?E=new xr(e,n):E.resetFromJSON(n),E.restart(),E},"ScaleDownDestroy"),e9=r(function(e,t,s,h,S,E,n){s===void 0&&(s=1.2),h===void 0&&(h=0),E===void 0&&(E="Cubic");var T,i;switch(S){case 0:case"x":T={x:e.scaleX},i={x:s};break;case 1:case"y":T={y:e.scaleX},i={y:s};break;default:T=e.scaleX,i=s;break}var f={mode:2,start:T,end:i,duration:t/2,ease:E,repeat:h};return n===void 0?n=new xr(e,f):n.resetFromJSON(f),n.restart(),n},"Yoyo");const If=Phaser.Utils.Objects.IsPlainObject,kP={onInitScale(){var e=this,t=this._scaleBehavior;t.completeEventName=void 0,t.on("complete",function(){t.completeEventName&&(e.emit(t.completeEventName,e),t.completeEventName=void 0)})},popUp(e,t,s){if(If(e)){var h=e;e=h.duration,t=h.orientation,s=h.ease}var S=this._scaleBehavior===void 0;return this._scaleBehavior=og(this,e,t,s,this._scaleBehavior),S&&this.onInitScale(),this._scaleBehavior.completeEventName="popup.complete",this},popUpPromise(e,t,s){return this.popUp(e,t,s),fe(this._scaleBehavior)},isRunningPopUp(){return this._scaleBehavior&&this._scaleBehavior.completeEventName==="popup.complete"},scaleDownDestroy(e,t,s,h){if(If(e)){var S=e;e=S.duration,t=S.orientation,s=S.ease,h=S.destroy}var E=this._scaleBehavior===void 0;return this._scaleBehavior=YP(this,e,t,s,h,this._scaleBehavior),E&&this.onInitScale(),this._scaleBehavior.completeEventName="scaledown.complete",this},scaleDownDestroyPromise(e,t,s,h){return this.scaleDownDestroy(e,t,s,h),fe(this._scaleBehavior)},scaleDown(e,t,s){return this.scaleDownDestroy(e,t,s,!1),this},scaleDownPromise(e,t,s){return this.scaleDown(e,t,s),fe(this._scaleBehavior)},isRunningScaleDown(){return this._scaleBehavior&&this._scaleBehavior.completeEventName==="scaledown.complete"},scaleYoyo(e,t,s,h,S){if(If(e)){var E=e;e=E.duration,t=E.peakValue,s=E.repeat,h=E.orientation,S=E.ease}var n=this._scaleBehavior===void 0;return this._scaleBehavior=e9(this,e,t,s,h,S,this._scaleBehavior),n&&this.onInitScale(),this._scaleBehavior.completeEventName="scaleyoyo.complete",this},scaleYoyoPromise(e,t,s,h,S){return this.scaleYoyo(e,t,s,h,S),fe(this._scaleBehavior)},isRunningScaleYoyo(){return this._scaleBehavior&&(this._scaleBehavior.completeEventName="scaleyoyo.complete")},isRunningEaseScale(){return this.isRunningPopUp()||this.isRunningScaleDown()||this.isRunningScaleYoyo()}};var Ji={};Object.assign(Ji,kP);Ji.onInitScale=function(){kP.onInitScale.call(this);var e=this,t=this._scaleBehavior;t.on("update",function(){var s=$a.getParentSizer(e);s&&s.resetChildPositionState(e)})};const i9=Phaser.Utils.Objects.GetValue,MT=Phaser.Utils.Objects.GetAdvancedValue,s9=Phaser.Math.Linear;var $n;let Ev=($n=class extends ss{constructor(t,s){super(t,s),this.resetFromJSON(s),this.boot()}resetFromJSON(t){return super.resetFromJSON(t),this.setMode(i9(t,"mode",0)),this.setAlphaRange(MT(t,"start",this.parent.alpha),MT(t,"end",0)),this}setMode(t){return typeof t=="string"&&(t=r9[t]),this.mode=t,this}setAlphaRange(t,s){return this.alphaStart=t,this.alphaEnd=s,this}start(){if(this.timer.isRunning)return this;var t=this.parent;return t.setAlpha(this.alphaStart),this.timer.setDelay(this.delay).setDuration(this.duration).setRepeat(this.mode===2?-1:0),super.start(),this}updateTarget(t,s){var h=s.t;s.isOddIteration&&(h=1-h),t.alpha=s9(this.alphaStart,this.alphaEnd,h)}complete(){return super.complete(),this.mode===1&&this.parent.destroy(),this}},r($n,"Fade"),$n);const r9={stop:0,destroy:1,yoyo:2},n9=Phaser.Utils.Objects.IsPlainObject;var Vd=r(function(e,t,s,h){var S,E;n9(s)?(S=s.start,E=s.end):E=s,S===void 0&&(S=0),E===void 0&&(E=1);var n={mode:0,start:S,end:E,duration:t};return h===void 0?h=new Ev(e,n):h.resetFromJSON(n),h.restart(),h},"FadeIn"),Wd=r(function(e,t,s,h){s instanceof Ev&&(h=s,s=void 0),s===void 0&&(s=!0);var S={mode:s?1:0,end:0,duration:t};return h===void 0?h=new Ev(e,S):h.resetFromJSON(S),h.restart(),h},"FadeOutDestroy");const bT=Phaser.Utils.Objects.IsPlainObject,HP={onInitFade(){var e=this,t=this._fade;t.completeEventName=void 0,t.on("complete",function(){t.completeEventName&&(e.emit(t.completeEventName,e),t.completeEventName=void 0)})},fadeIn(e,t){if(bT(e)){var s=e;e=s.duration,t=s.alpha}var h=this._fade===void 0;return this._fade=Vd(this,e,t,this._fade),h&&this.onInitFade(),this._fade.completeEventName="fadein.complete",this},fadeInPromise(e,t){return this.fadeIn(e,t),fe(this._fade)},isRunningFadeIn(){return this._fade&&this._fade.completeEventName==="fadein.complete"},fadeOutDestroy(e,t){if(bT(e)){var s=e;e=s.duration,t=s.destroy}var h=this._fade===void 0;return this._fade=Wd(this,e,t,this._fade),h&&this.onInitFade(),this._fade.completeEventName="fadeout.complete",this},fadeOutDestroyPromise(e,t){return this.fadeOutDestroy(e,t),fe(this._fade)},fadeOut(e){return this.fadeOutDestroy(e,!1),this},fadeOutPromise(e){return this.fadeOut(e),fe(this._fade)},isRunningFadeOut(){return this._fade&&this._fade.completeEventName==="fadeout.complete"},isRunningEaseFade(){return this.isRunningFadeIn()||this.isRunningFadeOut()}};var qh={};Object.assign(qh,HP);qh.onInitFade=function(){HP.onInitFade.call(this);var e=this,t=this._fade;t.on("update",function(){var s=$a.getParentSizer(e);s&&s.resetChildAlphaState(e)})};const a9=Phaser.Utils.Objects.GetValue,Jr=Phaser.Utils.Objects.GetAdvancedValue,IT=Phaser.Math.Linear,im=class im extends ss{constructor(t,s){super(t,s),this.resetFromJSON(s),this.boot()}resetFromJSON(t){if(super.resetFromJSON(t),this.setMode(a9(t,"mode",0)),t&&(t.hasOwnProperty("x")||t.hasOwnProperty("y"))){var s=Jr(t,"x",void 0),h=Jr(t,"y",void 0);this.setTargetPosition(s,h)}else this.setTargetPosition(t);return this}setMode(t){return typeof t=="string"&&(t=h9[t]),this.mode=t,this}setTargetPosition(t,s){if(typeof t=="number"||typeof s=="number")this.startX=this.parent.x,this.startY=this.parent.y,this.endX=t,this.endY=s;else{var h=t;this.startX=Jr(h,"startX",void 0),this.startY=Jr(h,"startY",void 0),this.endX=Jr(h,"endX",void 0),this.endY=Jr(h,"endY",void 0)}return this.hasMoveX=this.startX!==void 0&&this.endX!==void 0,this.hasMoveY=this.startY!==void 0&&this.endY!==void 0,this}start(){if(this.timer.isRunning)return this;var t=this.parent;return this.hasMoveX&&(t.x=this.startX),this.hasMoveY&&(t.y=this.startY),this.timer.setDelay(this.delay).setDuration(this.duration).setRepeat(this.mode===2?-1:0),super.start(),this}updateTarget(t,s){var h=s.t;s.isOddIteration&&(h=1-h),h=this.easeFn(h),this.hasMoveX&&(t.x=IT(this.startX,this.endX,h)),this.hasMoveY&&(t.y=IT(this.startY,this.endY,h))}complete(){return super.complete(),this.mode===1&&this.parent.destroy(),this}};r(im,"EaseMove");let ga=im;const h9={stop:0,destroy:1,yoyo:2};var Nu=r(function(e,t){if(typeof e=="number")return e;var s=e[0],h=parseFloat(e.substr(2));switch(s){case"+":return t+h;case"-":return t-h;case"*":return t*h;case"/":return t/h}},"ParseValue"),XP=r(function(e,t,s,h,S,E,n){E instanceof ga&&(n=E,E=void 0),E===void 0&&(E=!1);var T={};return T.mode=E?1:0,s!==void 0&&(T.startX=e.x,T.endX=Nu(s,e.x)),h!==void 0&&(T.startY=e.y,T.endY=Nu(h,e.y)),T.duration=t,T.ease=S===void 0?"Linear":S,n===void 0?n=new ga(e,T):n.resetFromJSON(T),n.restart(),n},"EaseMoveTo"),$P=r(function(e,t,s,h,S,E,n){E instanceof ga&&(n=E,E=void 0),E===void 0&&(E=!1);var T={};return T.mode=E?1:0,s!==void 0&&(T.startX=Nu(s,e.x),T.endX=e.x),h!==void 0&&(T.startY=Nu(h,e.y),T.endY=e.y),T.duration=t,T.ease=S===void 0?"Linear":S,n===void 0?n=new ga(e,T):n.resetFromJSON(T),n.restart(),n},"EaseMoveFrom");const FT=Phaser.Utils.Objects.IsPlainObject,DT=Phaser.Math.Distance.Between,KP={onInitEaseMove(){var e=this,t=this._easeMove;t.completeEventName=void 0,t.on("complete",function(){t.completeEventName&&(e.emit(t.completeEventName,e),t.completeEventName=void 0)})},moveFrom(e,t,s,h,S){if(FT(e)){var E=e;t=E.x,s=E.y,E.hasOwnProperty("speed")?e=DT(t,s,this.x,this.y)*1e3/E.speed:e=E.duration,h=E.ease}var n=this._easeMove===void 0;return this._easeMove=$P(this,e,t,s,h,S,this._easeMove),n&&this.onInitEaseMove(),this._easeMove.completeEventName="movefrom.complete",this},moveFromPromise(e,t,s,h,S){return this.moveFrom(e,t,s,h,S),fe(this._easeMove)},moveFromDestroy(e,t,s,h){return this.moveFrom(e,t,s,h,!0),this},moveFromDestroyPromise(e,t,s,h){return this.moveFromDestroy(e,t,s,h),fe(this._easeMove)},isRunningMoveFrom(){return this._easeMove&&(this._easeMove.completeEventName="movefrom.complete")},moveTo(e,t,s,h,S){if(FT(e)){var E=e;t=E.x,s=E.y,E.hasOwnProperty("speed")?e=DT(t,s,this.x,this.y)*1e3/E.speed:e=E.duration,h=E.ease}var n=this._easeMove===void 0;return this._easeMove=XP(this,e,t,s,h,S,this._easeMove),n&&this.onInitEaseMove(),this._easeMove.completeEventName,this},moveToPromise(e,t,s,h,S){return this.moveTo(e,t,s,h,S),fe(this._easeMove)},moveToDestroy(e,t,s,h){return this.moveTo(e,t,s,h,!0),this},moveToDestroyPromise(e,t,s,h){return this.moveToDestroy(e,t,s,h,!0),fe(this._easeMove)},isRunningMoveTo(){return this._easeMove&&this._easeMove.completeEventName==="moveto.complete"},isRunningEaseMove(){return this.isRunningMoveFrom()||this.isRunningMoveTo()},moveStop(e){return this._easeMove?(this._easeMove.stop(e),this):this}};var zd={};Object.assign(zd,KP);zd.onInitEaseMove=function(){KP.onInitEaseMove.call(this);var e=this,t=this._easeMove;t.on("update",function(){var s=$a.getParentSizer(e);s&&s.resetChildPositionState(e)})};const Qe=Phaser.Utils.Objects.GetValue,sm=class sm extends fa{constructor(t,s){super(t,s),this.timer=new oP,this.resetFromJSON(s),this.boot()}resetFromJSON(t){return this.timer.resetFromJSON(Qe(t,"timer")),this.setEnable(Qe(t,"enable",!0)),this.setMode(Qe(t,"mode",1)),this.isRunning=Qe(t,"isRunning",!1),this.setMagnitudeMode(Qe(t,"magnitudeMode",1)),this.setAxisMode(Qe(t,"axis",0)),this.setDuration(Qe(t,"duration",500)),this.setMagnitude(Qe(t,"magnitude",10)),this.ox=Qe(t,"ox",void 0),this.oy=Qe(t,"oy",void 0),this}toJSON(){return{timer:this.timer.toJSON(),enable:this.enable,mode:this.mode,isRunning:this.isRunning,magnitudeMode,duration:this.duration,magnitude:this.magnitude,ox:this.ox,oy:this.oy}}shutdown(t){this.isShutdown||(super.shutdown(t),this.timer.destroy(),this.timer=void 0)}startTicking(){super.startTicking(),this.mode===0?(this.scene.game.events.on("poststep",this.update,this),this.scene.game.events.on("prestep",this.backToOrigin,this)):this.scene.sys.events.on("preupdate",this.update,this)}stopTicking(){super.stopTicking(),this.scene&&(this.mode===0?(this.scene.game.events.off("poststep",this.update,this),this.scene.game.events.off("prestep",this.backToOrigin,this)):this.scene.sys.events.off("preupdate",this.update,this))}setEnable(t){return t==null&&(t=!0),this.enable=t,this}setMode(t){return typeof t=="string"&&(t=o9[t]),this.mode=t,this}setMagnitudeMode(t){return typeof t=="string"&&(t=u9[t]),this.magnitudeMode=t,this}setAxisMode(t){return typeof t=="string"&&(t=l9[t]),this.axisMode=t,this}setDuration(t){return this.duration=t,this}setMagnitude(t){return this.magnitude=t,this}start(t,s){if(typeof t!="number"){var h=t;s=Qe(h,"magnitude",void 0),t=Qe(h,"duration",void 0)}return s!==void 0&&this.setMagnitude(s),t!==void 0&&this.setDuration(t),this.timer.setDuration(this.duration).start(),super.start(),this}shake(t,s){return this.start(t,s),this}update(t,s){if(!this.isRunning||!this.enable)return this;var h=this.parent;if(!h.active)return this;if(this.timer.update(t,s),this.timer.isDone)this.backToOrigin(),this.complete();else{this.ox===void 0&&(this.ox=h.x,this.oy=h.y);var S=this.magnitude;this.magnitudeMode===1&&(S*=1-this.timer.t);var E=Math.random()*Math.PI*2,n=this.ox+Math.cos(E)*S,T=this.oy+Math.sin(E)*S;switch(this.axisMode){case 1:h.x=n;break;case 2:h.y=T;break;default:h.x=n,h.y=T;break}}return this}backToOrigin(){if(!this.isRunning||!this.enable)return this;if(this.ox===void 0)return this;var t=this.parent;switch(this.axisMode){case 1:t.x=this.ox;break;case 2:t.y=this.oy;break;default:t.x=this.ox,t.y=this.oy;break}return this.ox=void 0,this.oy=void 0,this}};r(sm,"ShakePosition");let _h=sm;const o9={effect:0,behavior:1},l9={both:0,"h&v":0,"x&y":0,horizontal:1,h:1,x:1,vertical:2,v:2,y:2},u9={constant:0,decay:1},d9=Phaser.Utils.Objects.IsPlainObject;var f9=r(function(e,t){t.on("complete",function(){e.emit("shake.complete",e)})},"OnInitShake");const c9={shake(e,t,s){if(d9(e)){var h=e;e=h.duration,t=h.magnitude,s=h.magnitudeMode}return this._shake===void 0&&(this._shake=new _h(this,{mode:0,magnitudeMode:1}),f9(this,this._shake)),e!==void 0&&this._shake.setDuration(e),t!==void 0&&this._shake.setMagnitude(t),s!==void 0&&this._shake.setMagnitudeMode(s),this._shake.shake(),this},shakePromise(e,t){return this.shake(e,t),fe(this._shake)}},BT=Phaser.Utils.Objects.IsPlainObject,rm=class rm extends Gt{constructor(t,s){super(t,s),this.parent.setDataEnabled(),this.easeTasks={}}complete(t){this.emit(`complete-${t}`,this.parent,this),this.emit("complete",t,this.parent,this)}getEaseTask(t){var s=this.easeTasks[t];return s===void 0&&(s=new vi(this.parent),this.easeTasks[t]=s,s.setTarget(this.parent.data.values).on("complete",function(){this.complete(t)},this)),s}easeTo(t,s,h,S){if(BT(t)){var E=t;t=E.key,s=E.value,h=E.duration,S=E.ease;var n=E.speed;h===void 0&&n!==void 0&&(h=Math.abs(s-this.parent.data.values[t])/n*1e3)}h===void 0&&(h=1e3),S===void 0&&(S="Linear");var T=this.getEaseTask(t);return T.restart({key:t,to:s,duration:h,ease:S}),this}easeFrom(t,s,h,S){if(BT(t)){var E=t;t=E.key,s=E.value,h=E.duration,S=E.ease;var n=E.speed;h===void 0&&n!==void 0&&(h=Math.abs(s-this.parent.data.values[t])/n*1e3)}h===void 0&&(h=1e3),S===void 0&&(S="Linear");var T=this.getEaseTask(t);return T.restart({key:t,from:s,duration:h,ease:S}),this}stopEase(t,s){s===void 0&&(s=!0);var h=this.easeTasks[t];return h&&h.stop(s),this}stopAll(t){t===void 0&&(t=!0);for(var s in this.easeTasks)this.stopEase(s,t);return this}};r(rm,"EaseData");let Pv=rm;var v9=r(function(e,t){t.on("complete",function(s){e.emit(`easedata.${s}.complete`,e),e.emit("easedata.complete",s,e)})},"OnInitEaseData");const p9={easeDataTo(e,t,s,h){return this._easeData||(this._easeData=new Pv(this),v9(this,this._easeData)),this._easeData.easeTo(e,t,s,h),this},easeDataToPromise(e,t,s,h){return this.easeDataTo(e,t,s,h),Bd(this._easeData,`complete-${e}`)},stopEaseData(e,t){return this._easeData?(this._easeData.stopEase(e,t),this):this},stopAllEaseData(e){return this._easeData?(this._easeData.stopAll(e),this):this}};var g9=Phaser.Utils.Array.Remove,m9=r(function(e){e._delayCallTimers=[],e.once("destroy",function(){for(var t=e._delayCallTimers,s=0,h=t.length;s<h;s++)t[s].remove();e._delayCallTimers=void 0})},"OnInitDelayCallTimers");const ZP={delayCall(e,t,s){var h=this._delayCallTimers;h===void 0&&m9(this);var S,E=this,n=r(function(){g9(E._delayCallTimers,S),s?t.call(s):t()},"OnTimeOut");return S=this.scene.time.delayedCall(e,n),this._delayCallTimers.push(S),this}};var Ls=r(function(e){JP(e,!1)},"Show"),Os=r(function(e){JP(e,!0)},"Hide"),lg=r(function(e){if(!e)return!1;var t=Ud(e);return!t.hidden},"IsShown"),JP=r(function(e,t){if(e){var s=Ud(e);s.hidden=t;var h=Xe(e);h?h.setChildVisible(e,!t):e.setVisible(!t)}},"_hide");const x9={show(e){return e===void 0&&(e=this),Ls(e),this},hide(e){return e===void 0&&(e=this),Os(e),this},isShow(e){return e===void 0&&(e=this),lg(e)}},y9=["next","exit","enter"];var Kn;let QP=(Kn=class{constructor(t){var s=Lt(t,"states",void 0);s&&this.addStates(s);var h=Lt(t,"extend",void 0);if(h)for(var S in h)(!this.hasOwnProperty(S)||this[S]===void 0)&&(this[S]=h[S]);var E=Lt(t,"eventEmitter",void 0),n=Lt(t,"EventEmitterClass",void 0);this.setEventEmitter(E,n),this._stateLock=!1,this.resetFromJSON(t)}shutdown(){this.destroyEventEmitter()}destroy(){this.shutdown()}resetFromJSON(t){this.setEnable(Lt(t,"enable",!0)),this.start(Lt(t,"start",void 0));var s=Lt(t,"init",void 0);return s&&s.call(this),this}toJSON(){return{curState:this.state,prevState:this.prevState,enable:this.enable,start:this._start}}setEnable(t){return t===void 0&&(t=!0),this.enable=t,this}toggleEnable(){return this.setEnable(!this.enable),this}set state(t){if(!(!this.enable||this._stateLock)&&this._state!==t){if(this._prevState=this._state,this._state=t,this._stateLock=!0,this.emit("statechange",this),this._prevState!=null){var s="exit_"+this._prevState,h=this[s];h&&h.call(this),this.emit(s,this)}if(this._stateLock=!1,this._state!=null){var S="enter_"+this._state,E=this[S];E&&E.call(this),this.emit(S,this)}}}get state(){return this._state}get prevState(){return this._prevState}start(t){return this._start=t,this._prevState=void 0,this._state=t,this}goto(t){return t!=null&&(this.state=t),this}next(){var t,s=this["next_"+this.state];return s&&(typeof s=="string"?t=s:t=s.call(this)),this.goto(t),this}get stateProperties(){return y9}addState(t,s){typeof t!="string"&&(s=t,t=s.name);for(var h=this.stateProperties,S=0,E=h.length;S<E;S++){var n=h[S],T=s[n];T&&(this[`${n}_${t}`]=T)}return this}addStates(t){if(Array.isArray(t))for(var s=0,h=t.length;s<h;s++)this.addState(t[s]);else for(var S in t)this.addState(S,t[S]);return this}runMethod(t,s,h,S,E,n){var T=this[t+"_"+this.state];if(T){var i=arguments.length;switch(i){case 1:return T.call(this);case 2:return T.call(this,s);case 3:return T.call(this,s,h);case 4:return T.call(this,s,h,S);case 5:return T.call(this,s,h,S,E);case 6:return T.call(this,s,h,S,E,n)}for(var f=new Array(i-1),y=1;y<i;y++)f[y-1]=arguments[y];return T.apply(this,f)}}},r(Kn,"FSM"),Kn);Object.assign(QP.prototype,gP);var Ff=r(function(e,t,s,h,S){S===void 0&&(S=!1);var E=e._events[t];if(!E)return!1;for(var n=0,T=E.length;n<T;n++){var i=E[n];if(i.fn===s&&i.context===h&&i.once===S)return!0}return!1},"HasListener");const S9=["next","exit","enter","update","preupdate","postupdate"],nm=class nm extends QP{shutdown(){this.stopUpdate(),this.stopPreUpdate(),this.stopPostUpdate(),this._scene=void 0,super.shutdown()}resetFromJSON(t){return super.resetFromJSON(t),this._scene=Lt(t,"scene",void 0),this}get stateProperties(){return S9}update(t,s){this.runMethod("update",t,s)}preupdate(t,s){this.runMethod("preupdate",t,s)}postupdate(t,s){this.runMethod("postupdate",t,s)}startUpdate(t){t||(t=this._scene);var s=t.sys.events;return Ff(s,"update",this.update,this)?this:(this._scene=t,s.on("update",this.update,this),this)}stopUpdate(){return this._scene?(this._scene.sys.events.off("update",this.update,this),this):this}startPreUpdate(t){t||(t=this._scene);var s=t.sys.events;return Ff(s,"preupdate",this.preupdate,this)?this:(this._scene=t,s.on("preupdate",this.preupdate,this),this)}stopPreUpdate(){return this._scene?(this._scene.sys.events.off("preupdate",this.preupdate,this),this):this}startPostUpdate(t){t||(t=this._scene);var s=t.sys.events;return Ff(s,"postupdate",this.postupdate,this)?this:(this._scene=t,s.on("postupdate",this.postupdate,this),this)}stopPostUpdate(){return this._scene?(this._scene.sys.events.off("postupdate",this.postupdate,this),this):this}};r(nm,"FSM");let pi=nm;var Zn;let T9=(Zn=class extends pi{constructor(t,s){super(s),this.parent=t;var h=s.initState||"IDLE";this.start(h)}init(){this.start("IDLE")}next_IDLE(){return"TRANS_OPNE"}next_TRANS_OPNE(){return"OPEN"}enter_TRANS_OPNE(){var t=this.parent;if(t.transitInTime>0){var s=t.runTransitionInCallback();t.delayCall(s,this.next,this)}else this.next()}exit_TRANS_OPNE(){var t=this.parent;t.removeDelayCall()}next_OPEN(){return"TRANS_CLOSE"}enter_OPEN(){var t=this.parent;t.onOpen()}exit_OPEN(){var t=this.parent;t.removeDelayCall()}next_TRANS_CLOSE(){return"CLOSE"}enter_TRANS_CLOSE(){var t=this.parent;if(t.transitOutTime>0){var s=t.runTransitionOutCallback();t.delayCall(s,this.next,this)}else this.next()}exit_TRANS_CLOSE(){var t=this.parent;t.removeDelayCall()}next_CLOSE(){return"TRANS_OPNE"}enter_CLOSE(){var t=this.parent;t.onClose()}exit_CLOSE(){}canOpen(){return this.state==="IDLE"||this.state==="CLOSE"}canClose(){return this.state==="IDLE"||this.state==="OPEN"}},r(Zn,"State"),Zn);var C9=r(function(e,t,s,h,S){var E=Ha(e),n=E.time.delayedCall(t,function(){E.game.events.once("poststep",function(){s.call(h,S)})});return n},"PostStepDelayCall");const E9={delayCall(e,t,s){return this.delayCallTimer=C9(this,e,t,s),this},removeDelayCall(){return this.delayCallTimer&&(this.delayCallTimer.remove(!1),this.delayCallTimer=void 0),this}},P9={setTransitInTime(e){return this.transitInTime=e,this},setTransitOutTime(e){return this.transitOutTime=e,this},setTransitInCallback(e){return e||(e=ee),this.transitInCallback=e,this},setTransitOutCallback(e){return e||(e=ee),this.transitOutCallback=e,this}},R9={runTransitionInCallback(){return this.transitInCallback(this.parent,this.transitInTime),this.transitInTime},onOpen(){},requestOpen(e,t){if(!this._state.canOpen())return this;this.openEventData=arguments.length>0?e:this.parent;var s=this.transitInTime;return t!==void 0&&(this.transitInTime=t),this._state.goto("TRANS_OPNE"),this.transitInTime=s,this}},A9={runTransitionOutCallback(){return this.transitOutCallback(this.parent,this.transitOutTime),this.transitOutTime},onClose(){this.oneShotMode&&this.parent.destroy()},requestClose(e,t){if(!this._state.canClose)return this;this.closeEventData=arguments.length>0?e:this.parent;var s=this.transitOutTime;return t!==void 0&&(this.transitOutTime=t),this._state.goto("TRANS_CLOSE"),this.transitOutTime=s,this}};var jP={};Object.assign(jP,E9,P9,R9,A9);const Qr=Phaser.Utils.Objects.GetValue,am=class am extends Gt{constructor(t,s){super(t,s),this.setTransitInTime(Qr(s,"duration.in",200)),this.setTransitOutTime(Qr(s,"duration.out",200)),this.setTransitInCallback(Qr(s,"transitIn")),this.setTransitOutCallback(Qr(s,"transitOut")),this.oneShotMode=Qr(s,"destroy",!1),this.delayCallTimer=void 0,this._state=new T9(this,{eventEmitter:!1,initState:Qr(s,"initState","IDLE")}),this.openEventData=void 0,this.closeEventData=void 0}get state(){return this._state.state}shutdown(t){this.isShutdown||(this.transitInCallback=void 0,this.transitOutCallback=void 0,this.openEventData=void 0,this.closeEventData=void 0,this.removeDelayCall(),super.shutdown(t))}};r(am,"OpenCloseTransition");let ma=am;Object.assign(ma.prototype,jP);const L9=Phaser.GameObjects.Rectangle,hm=class hm extends L9{constructor(t,s,h){super(t,0,0,2,2,s,1),this.fullWindow=new wu(this),this.setAlpha(h)}get tint(){return this.fillColor}set tint(t){this.setFillStyle(t,this.fillAlpha)}};r(hm,"FullWindowRectangle");let to=hm;const Df=Phaser.Utils.Objects.GetValue,om=class om extends Gt{constructor(t,s){super(t,{eventEmitter:!1}),this.resetFromJSON(s),this.boot()}resetFromJSON(t){return this.setHitAreaMode(Df(t,"hitAreaMode",0)),this.setEnable(Df(t,"enable",!0)),this.setStopMode(Df(t,"stopAllLevels",!0)),this}boot(){this.parent.on("pointerdown",function(t,s,h,S){this.stopAllLevels&&S.stopPropagation()},this).on("pointerup",function(t,s,h,S){this.stopAllLevels&&S.stopPropagation()},this).on("pointermove",function(t,s,h,S){this.stopAllLevels&&S.stopPropagation()},this).on("pointerover",function(t,s,h,S){this.stopAllLevels&&S.stopPropagation()},this).on("pointerout",function(t,s){this.stopAllLevels&&s.stopPropagation()},this)}setHitAreaMode(t){typeof t=="string"&&(t=O9[t]);var s=this.parent;return s.input&&s.removeInteractive(),t===0?s.setInteractive():s.setInteractive({hitArea:{},hitAreaCallback:r(function(){return!0},"hitAreaCallback")}),this}setEnable(t){return t===void 0&&(t=!0),t?this.parent.setInteractive():this.parent.disableInteractive(),this.enable=t,this}setStopMode(t){return t===void 0&&(t=!0),this.stopAllLevels=t,this}toggleEnable(){return this.setEnable(!this.enable),this}};r(om,"TouchEventStop");let xa=om;var O9={default:0,fullWindow:1};const GT=Phaser.Utils.Objects.GetValue,lm=class lm extends to{constructor(t,s){var h=GT(s,"color",0),S=GT(s,"alpha",.8);super(t,h,S),this.touchEventStop=new xa(this,{hitAreaMode:1})}};r(lm,"Cover");let eo=lm;var w9=r(function(e,t){var s=e.scene,h=new eo(s,t);return s.add.existing(h),e.isRexContainerLite?(e.pin(h,{syncPosition:!1,syncRotation:!1,syncScale:!1,syncAlpha:!1,syncScrollFactor:!1}),e.moveDepthBelow(h)):s.children.moveBelow(h,e),h},"CreateCover");const Pl={popUp(e,t){e._modalScaleSave!==void 0?(e.scaleX=e._modalScaleSave,e.scaleY=e._modalScaleSave):e._modalScaleSave=e.scaleX,og(e,t)},scaleDown(e,t){YP(e,t,void 0,void 0,!1)},fadeIn(e,t){e._modalAlphaSave!==void 0?e.alpha=e._modalAlphaSave:e._modalAlphaSave=e.alpha,Vd(e,t)},fadeOut(e,t){Wd(e,t,!1)}};var M9=r(function(e,t){e._modalAlphaSave!==void 0?e.alpha=e._modalAlphaSave:e._modalAlphaSave=e.alpha,Vd(e,t,e.alpha)},"DefaultCoverTransitInCallback"),b9=r(function(e,t){Wd(e,t,!1)},"DefaultCoverTransitOutCallback"),fr=r(function(e,t,s,h,S){if(!e||h&&!h(e,t,s))return!1;var E=Bp(e,!0);return!(!E.contains(t,s)||S&&!S(e,t,s))},"IsPointInBounds");const Si=Phaser.Utils.Objects.GetValue;var Jn;let I9=(Jn=class extends ma{constructor(t,s){s===void 0&&(s={}),s.transitIn==null&&(s.transitIn=xs.popUp),s.transitOut==null&&(s.transitOut=xs.scaleDown),s.destroy=Si(s,"destroy",!0),super(t,s);var h=Si(s,"cover");this.cover=h!==!1?w9(t,h):void 0,this.cover&&(this.setCoverTransitInCallback(Si(h,"transitIn",M9)),this.setCoverTransitOutCallback(Si(h,"transitOut",b9)));var S=Si(s,"touchOutsideClose",!1),E=Si(s,"duration.hold",-1),n=Si(s,"timeOutClose",E>=0),T=Si(s,"anyTouchClose",!1),i=Si(s,"manualClose",!1);i&&(S=!1,T=!1,n=!1),T&&(S=!1),n?this.setDisplayTime(E):this.setDisplayTime(-1),T?this.once("open",this.anyTouchClose,this):S&&this.once("open",this.touchOutsideClose,this),Si(s,"openOnStart",!0)&&this.delayCall(0,this.requestOpen,this)}shutdown(t){this.isShutdown||(this.cover||this.scene.input.off("pointerup",this.touchCloseCallback,this),this.cover&&!t&&(this.cover.destroy(),this.cover=void 0),super.shutdown(t))}touchOutsideClose(){return this.cover?this.cover.on("pointerup",this.touchCloseCallback,this):this.scene.input.on("pointerup",this.touchCloseCallback,this),this.clickOutsideTest=!0,this}anyTouchClose(){return this.cover?this.cover.once("pointerup",this.touchCloseCallback,this):this.scene.input.once("pointerup",this.touchCloseCallback,this),this}touchCloseCallback(t){this.clickOutsideTest&&fr(this.parent,t.worldX,t.worldY)||this.requestClose()}runTransitionInCallback(){var t=super.runTransitionInCallback(),s=this.cover;return s&&this.coverTransitInCallback&&this.coverTransitInCallback(s,t),t}runTransitionOutCallback(){var t=super.runTransitionOutCallback(),s=this.cover;return s&&this.coverTransitOutCallback&&this.coverTransitOutCallback(s,t),t}onOpen(){var t=this.displayTime;t>=0&&this.delayCall(t,this.requestClose,this),this.emit("open",this.parent,this),super.onOpen()}onClose(){this.emit("close",this.closeEventData),super.onClose()}setDisplayTime(t){return this.displayTime=t,this}setTransitInCallback(t){switch(typeof t=="string"&&(t=xs[t]),t){case xs.popUp:t=Pl.popUp;break;case xs.fadeIn:t=Pl.fadeIn;break}return super.setTransitInCallback(t),this}setTransitOutCallback(t){switch(typeof t=="string"&&(t=xs[t]),t){case xs.scaleDown:t=Pl.scaleDown;break;case xs.fadeOut:t=Pl.fadeOut;break}return super.setTransitOutCallback(t),this}setCoverTransitInCallback(t){return this.coverTransitInCallback=t,this}setCoverTransitOutCallback(t){return this.coverTransitOutCallback=t,this}},r(Jn,"Modal"),Jn);const xs={popUp:0,fadeIn:1,scaleDown:0,fadeOut:1};var ug=r(function(e,t){var s=new I9(e,t);return s.on("open",function(){e.emit("modal.open",s)}),s.on("close",function(h){e.emit("modal.close",h,s)}),e.on("modal.requestClose",s.requestClose,s),s},"Modal$1"),F9=r(function(e,t){var s=ug(e,t);return new Promise(function(h,S){s.once("close",function(E){h(E)})})},"ModalPromise"),qP=r(function(e,t){e.emit("modal.requestClose",t)},"ModalClose"),ns=r(function(e){return e&&typeof e=="function"},"IsFunction");const dg={modal(e,t){return ns(e)&&(t=e,e=void 0),this._modalBehavior===void 0&&(this.onCreateModalBehavior&&this.onCreateModalBehavior(this,e),this._modalBehavior=ug(this,e)),t&&this._modalBehavior.once("close",t),this._modalBehavior.requestOpen(),this},modalPromise(e){var t=this;return new Promise(function(s,h){t.modal(e,s)})},modalClose(e){return qP(this,e),this}};var Uu=r(function(e,t,s){var h=e.camera;return h?(s===void 0?s={}:s===!0&&(s=D9),h===t?(s.x=e.worldX,s.y=e.worldY):h.getWorldPoint(e.x,e.y,s),s):null},"GetPointerWorldXY"),D9={},yr=r(function(e,t,s,h){var S=e.scene.sys.cameras.main,E,n=e.scrollFactorX===0&&e.scrollFactorY===0;if(t)return n?fr(e,t.x,t.y,s,h):(E=Uu(t,S,!0),E?fr(e,E.x,E.y,s,h):!1);for(var T=e.scene.input.manager,i=T.pointersTotal,f=T.pointers,y=0;y<i;y++)if(t=f[y],n){if(fr(e,t.x,t.y,s,h))return!0}else{if(E=Uu(t,S,!0),!E)continue;if(fr(e,E.x,E.y,s,h))return!0}return!1},"IsPointerInBounds"),B9=r(function(e,t){return(Be(e)||typeof e=="string")&&(t=e,e=void 0),t===void 0?t=this:typeof t=="string"&&(t=this.getElement(t)),yr(t,e)},"IsInTouching"),gi=r(function(e){return Object.prototype.toString.call(e)==="[object Array]"},"IsArray"),Vu=r(function(e,t,s,h,S){return fr(e,t,s,G9(h),N9(S))},"ContainsPoint"),NT=r(function(e){var t=e.rexSizer&&e.rexSizer.hidden;return!t},"IsNotHiddenSizer"),G9=r(function(e){return e?function(t,s,h){return NT(t)?(e(t,s,h),!0):!1}:NT},"GetPreTestCallback"),N9=r(function(e){return e},"GetPostTestCallback"),U9=r(function(e,t,s,h,S){if(ns(s)||(S=s,s=void 0,h=void 0),S===void 0&&(this.sizerChildren?S=this.sizerChildren:S=this.children),gi(S)){for(var E,n=0,T=S.length;n<T;n++)if(E=S[n],Vu(E,e,t,s,h))return E}else{var E;for(var i in S)if(E=S[i],Vu(E,e,t,s,h))return E}return null},"PointToChild$1"),V9=r(function(e,t){return t===void 0?t={}:t===!0&&(t=W9),t.x=e.x,t.y=e.y,t.scaleX=e.scaleX,t.scaleY=e.scaleY,t.width=e.width,t.height=e.height,t.displayWidth=e.displayWidth,t.displayHeight=e.displayHeight,t},"CopyState"),W9={},Xo=r(function(e){this.sizerEventsEnable&&(V9(e,this.getChildPrevState(e)),this.layoutedChildren.push(e))},"PreLayoutChild"),$o=r(function(e,t,s,h,S,E,n,T){zo(e,t,s,h,S,E),n!==void 0&&(e.x+=n),T!==void 0&&(e.y+=T),this.resetChildPositionState(e),this.sizerEventsEnable&&e.emit("sizer.postlayout",e,this)},"LayoutChild");const z9=Phaser.Display.Align.CENTER;var Y9=r(function(){if(this.backgroundChildren!==void 0)for(var e=this.backgroundChildren,t=this.left,s=this.top,h=this.width,S=this.height,E,n,T,i,f,y,c,o=0,l=e.length;o<l;o++)E=e[o],n=E.rexSizer,!n.hidden&&(T=n.padding,Xo.call(this,E),i=t+T.left,f=s+T.top,y=h-T.left-T.right,c=S-T.top-T.bottom,Pe(E,y,c),$o.call(this,E,i,f,y,c,z9))},"LayoutBackgrounds");const k9=Phaser.Utils.Objects.IsPlainObject;var H9=r(function(e,t,s){if(k9(e)){var h=e;e=h.sensor,s=h.target,t=h.draggable}else typeof t!="boolean"&&(s=t,t=void 0);var S=typeof e;if(S==="string"){var E=e;if(e=this.getElement(E),!e)return console.error(`Can get element '${E}'`),this}else(e===void 0||S!="object")&&(t=e,e=this);return t===void 0&&(t=!0),e.input&&e.input._rexUIDragSizer?e.input.draggable=t:t&&(e.setInteractive(),e.scene.input.setDraggable(e),e.on("drag",function(n,T,i){var f=s===void 0?this.getTopmostSizer():s;f.x+=T-e.x,f.y+=i-e.y,f.emit("sizer.drag",n,T,i)},this).on("dragstart",function(n,T,i){var f=s===void 0?this.getTopmostSizer():s;f.emit("sizer.dragstart",n,T,i)},this).on("dragend",function(n,T,i,f){var y=s===void 0?this.getTopmostSizer():s;y.emit("sizer.dragend",n,T,i,f)},this).on("drop",function(n,T){var i=s===void 0?this.getTopmostSizer():s;i.emit("sizer.drop",n,T)}),e.input._rexUIDragSizer=!0),this},"SetDraggable");const fg={onClick(e,t,s,h){return e?(typeof e=="function"&&(h=s,s=t,t=e,e=this),e._click===void 0&&(e._click=new us(e,h)),e._click.on("click",t,s),this):this},offClick(e,t,s){return typeof e=="function"&&(s=t,t=e,e=this),e._click===void 0?this:(e._click.off("click",t,s),this)},enableClick(e,t){return typeof e=="boolean"&&(t=e,e=void 0),e===void 0&&(e=this),e._click===void 0?this:(e._click.setEnable(t),this)},disableClick(e){return e===void 0&&(e=this),e._click===void 0?this:(e._click.setEnable(!1),this)}},oh=Phaser.Utils.Objects.GetValue,um=class um extends Gt{constructor(t,s){super(t,s),this._enable=void 0;var h=oh(s,"inputConfig",void 0);h&&t.setInteractive(h),this.resetFromJSON(s),this.boot()}resetFromJSON(t){return this.pointer=void 0,this.lastClickTime=void 0,this.setEnable(oh(t,"enable",!0)),this.setMode(oh(t,"mode",1)),this.setClickInterval(oh(t,"clickInterval",100)),this.setDragThreshold(oh(t,"threshold",void 0)),this}boot(){var t=this.parent.scene;t.input.on("pointerdown",this.onPress,this),t.input.on("pointerup",this.onRelease,this),t.input.on("pointermove",this.onMove,this)}shutdown(t){if(!this.isShutdown){var s=this.parent.scene;s.input.off("pointerdown",this.onPress,this),s.input.off("pointerup",this.onRelease,this),s.input.off("pointermove",this.onMove,this),this.pointer=null,super.shutdown(t)}}get enable(){return this._enable}set enable(t){if(this._enable!==t){t||this.cancel(),this._enable=t;var s=t?"enable":"disable";this.emit(s,this,this.parent)}}setEnable(t){return t===void 0&&(t=!0),this.enable=t,this}toggleEnable(){return this.setEnable(!this.enable),this}setMode(t){return typeof t=="string"&&(t=X9[t]),this.mode=t,this}setClickInterval(t){return this.clickInterval=t,this}setDragThreshold(t){return this.dragThreshold=t,this}isPointerInside(t){var s=this.parent,h=s.input?Up:yr;return h(s,t)}onPress(t){this.parent.willRender(t.camera)&&this.pointer===void 0&&(this.pointer=t,this.mode===0&&(this.isPointerInside(t)||this.click(t.downTime,t)))}onRelease(t){this.parent.willRender(t.camera)&&this.pointer===t&&(this.mode===1&&(this.isPointerInside(t)||this.click(t.upTime,t)),this.pointer=void 0)}onMove(t,s,h,S){this.pointer===t&&this.dragThreshold!==void 0&&this.mode===1&&(t.getDistance()>=this.dragThreshold||this.isPointerInside(t))&&this.cancel()}click(t,s){if(!this.enable)return this;if(t===void 0)return this.emit("clickoutside",this,this.parent,s),this;this.pointer=void 0;var h=this.lastClickTime;return h!==void 0&&t-h<=this.clickInterval?this:(this.lastClickTime=t,this.emit("clickoutside",this,this.parent,s),this)}cancel(){return this.pointer=void 0,this}};r(um,"ClickOutside");let io=um;const X9={press:0,pointerdown:0,release:1,pointerup:1},$9={onClickOutside(e,t,s,h){return e?(typeof e=="function"&&(h=s,s=t,t=e,e=this),e._clickOutside===void 0&&(e._clickOutside=new io(e,h)),e._clickOutside.on("clickoutside",t,s),this):this},offClickOutside(e,t,s){return typeof e=="function"&&(s=t,t=e,e=this),e._clickOutside===void 0?this:(e._clickOutside.off("clickoutside",t,s),this)},enableClickOutside(e,t){return typeof e=="boolean"&&(t=e,e=void 0),e===void 0&&(e=this),e._clickOutside===void 0?this:(e._clickOutside.setEnable(t),this)},disableClickOutside(e){return e===void 0&&(e=this),e._clickOutside===void 0?this:(e._clickOutside.setEnable(!1),this)}},dm=class dm extends pi{constructor(){super({eventEmitter:!1}),this.goto("IDLE")}setCooldownTime(t){return this.cooldownTime=t,this.cooldownMode=t!==void 0,this}request(){return this.runMethod("request")}update_IDLE(){this.compensationTime=0}request_IDLE(){return this.next(),!0}next_IDLE(){if(this.cooldownMode)return"COOLDOWN"}enter_COOLDOWN(){this.remainderTime=this.cooldownTime+this.compensationTime}update_COOLDOWN(t,s){this.remainderTime-=s,this.remainderTime<0&&(this.compensationTime=this.cooldownTime>s?-this.remainderTime:0,this.goto("IDLE"))}request_COOLDOWN(){return!1}};r(dm,"Cooldown");let Rv=dm;const Bf=Phaser.Utils.Objects.GetValue,fm=class fm extends Gt{constructor(t,s){super(t,s),this._enable=void 0,this.cooldown=new Rv,this.parent.setInteractive(Bf(s,"inputConfig",void 0)),this.resetFromJSON(s),this.boot()}resetFromJSON(t){return this.pointer=void 0,this.prevIsInTouch=!1,this.isInTouching=!1,this.setEnable(Bf(t,"enable",!0)),this.setCooldown(Bf(t,"cooldown",void 0)),this}boot(){var t=this.parent;t.on("pointerdown",this.onPointIn,this),t.on("pointerover",this.onPointIn,this),t.on("pointerup",this.onPointOut,this),t.on("pointerout",this.onPointOut,this),this.scene.sys.events.on("preupdate",this.preupdate,this)}shutdown(t){this.isShutdown||(this.scene.sys.events.off("preupdate",this.preupdate,this),this.pointer=void 0,super.shutdown(t))}get enable(){return this._enable}set enable(t){if(this._enable!==t)return t||(this.prevIsInTouch=!1,this.isInTouching=!1,this.pointer=void 0),this._enable=t,this}setEnable(t){return t===void 0&&(t=!0),this.enable=t,this}get cooldownTime(){return this.cooldown.cooldownTime}set cooldownTime(t){this.cooldown.setCooldownTime(t)}setCooldown(t){return this.cooldownTime=t,this}toggleEnable(){return this.setEnable(!this.enable),this}onPointIn(t,s,h){!this.enable||!t.isDown||this.pointer!==void 0||(this.pointer=t,this.isInTouching=!0)}onPointOut(t){!this.enable||this.pointer!==t||(this.pointer=void 0,this.isInTouching=!1)}preupdate(t,s){this.cooldown.update(t,s),!this.prevIsInTouch&&this.isInTouching&&this.emit("touchstart",this,this.parent),this.isInTouching&&this.cooldown.request()&&this.emit("intouch",this,this.parent,this.pointer),this.prevIsInTouch&&!this.isInTouching&&this.emit("touchend",this,this.parent),this.prevIsInTouch=this.isInTouching}};r(fm,"InTouching");let Ns=fm;const K9={isPointerInBounds(e){return e===void 0?e=this:typeof e=="string"&&(e=this.getElement(e)),e?yr(e):!1},onTouching(e,t,s,h){return e?(typeof e=="function"&&(h=s,s=t,t=e,e=this),e._inTouching===void 0&&(e._inTouching=new Ns(e,h)),e._inTouching.on("intouch",t,s),this):this},offTouching(e,t,s){return typeof e=="function"&&(s=t,t=e,e=this),e._inTouching===void 0?this:(e._inTouching.off("intouch",t,s),this)},onTouchingEnd(e,t,s,h){return e?(typeof e=="function"&&(h=s,s=t,t=e,e=this),e._inTouching===void 0&&(e._inTouching=new Ns(e,h)),e._inTouching.on("touchend",t,s),this):this},offTouchingEnd(e,t,s){return typeof e=="function"&&(s=t,t=e,e=this),e._inTouching===void 0?this:(e._inTouching.off("touchend",t,s),this)},enableTouching(e,t){return typeof e=="boolean"&&(t=e,e=void 0),e===void 0&&(e=this),e._inTouching===void 0?this:(e._inTouching.setEnable(t),this)},disableTouching(e){return e===void 0&&(e=this),e._inTouching===void 0?this:(e._inTouching.setEnable(!1),this)}},Z9={onOver(e,t,s){return e?(typeof e=="function"&&(s=t,t=e,e=this),e.setInteractive().on("pointerover",t,s),this):this},onOut(e,t,s){return e?(typeof e=="function"&&(s=t,t=e,e=this),e.setInteractive().on("pointerout",t,s),this):this}};var _P=r(function(e,t,s){for(var h,S=0,E=e.length;S<E;S++)if(h=e[S],!!Vu(h,t,s))return h.pointToChild(t,s);return null},"PointToChild"),Ni=r(function(e,t,s,h,S,E,n,T){var i;if(E===void 0)i=S;else if(h==="parent")i=_P(s,S,E);else for(var f=0,y=s.length;f<y;f++){var c=s[f];if(Vu(c,S,E)){i=c;break}}i&&e.emit(t,i,n,T)},"EmitChildEvent");const J9=Phaser.Utils.Objects.GetValue;var Q9=r(function(e){var t=J9(e,"down",void 0);t!==!1&&(t===!0&&(t=void 0),this.on("pointerdown",j9,this))},"DownChild"),j9=r(function(e,t,s,h){var S=this._childrenInteractive;Ni(S.eventEmitter,`${S.eventNamePrefix}down`,S.targetSizers,S.targetMode,e.worldX,e.worldY,e,h)},"OnDown");const q9=Phaser.Utils.Objects.GetValue;var _9=r(function(e){var t=q9(e,"up",void 0);t!==!1&&(t===!0&&(t=void 0),this.on("pointerup",tG,this))},"UpChild"),tG=r(function(e,t,s,h){var S=this._childrenInteractive;Ni(S.eventEmitter,`${S.eventNamePrefix}up`,S.targetSizers,S.targetMode,e.worldX,e.worldY,e,h)},"OnUp");const eG=Phaser.Utils.Objects.GetValue;var iG=r(function(e){var t=eG(e,"over",void 0);t!==!1&&(t===!0&&(t=void 0),this.on("pointermove",UT,this).on("pointerover",UT,this).on("pointerout",sG,this))},"OverChild"),UT=r(function(e,t,s,h){var S=this._childrenInteractive,E=_P(S.targetSizers,e.worldX,e.worldY),n=S.lastOverChild;E&&n&&E===n||(S.lastOverChild=E,Ni(S.eventEmitter,`${S.eventNamePrefix}out`,S.targetSizers,S.targetMode,n,void 0,e,h),Ni(S.eventEmitter,`${S.eventNamePrefix}over`,S.targetSizers,S.targetMode,E,void 0,e,h))},"OnMove$1"),sG=r(function(e,t){var s=this._childrenInteractive,h=s.lastOverChild;s.lastOverChild=null,Ni(s.eventEmitter,`${s.eventNamePrefix}out`,s.targetSizers,s.targetMode,h,void 0,e,t)},"OnOut$1");const rG=Phaser.Utils.Objects.GetValue;var nG=r(function(e){var t=rG(e,"click",void 0);if(t!==!1){t===!0&&(t=void 0),t===void 0&&(t={}),t.hasOwnProperty("threshold")||(t.threshold=10);var s=this._childrenInteractive;this._click=new us(this,t),this._click.on("click",function(h,S,E,n){Ni(s.eventEmitter,`${s.eventNamePrefix}click`,s.targetSizers,s.targetMode,E.worldX,E.worldY,E,n)},this)}},"ClickChild");const Gf=Phaser.Utils.Objects.GetValue,cm=class cm extends fa{constructor(t,s){var h=Ha(t);h===t&&(t=void 0),super(h,s),this.gameObject=t,t&&t.setInteractive(Gf(s,"inputConfig",void 0)),this._enable=void 0,this.resetFromJSON(s),this.boot()}resetFromJSON(t){return this.setEnable(Gf(t,"enable",!0)),this.setDetectBounds(),this.gameObject===void 0?this.setDetectBounds(Gf(t,"bounds",void 0)):this.setDetectBounds(),this.tracerState=Nf,this.pointer=void 0,this.lastPointer=void 0,this.movedState=!1,this.isTouchingAnyObject=!1,this}boot(){super.boot(),this.gameObject?this.gameObject.on("pointerdown",this.onPointerDown,this):this.scene.input.on("pointerdown",this.onPointerDown,this),this.scene.input.on("pointerup",this.onPointerUp,this),this.scene.input.on("gameout",this.dragCancel,this),this.scene.input.on("pointermove",this.onPointerMove,this),this.scene.sys.events.once("shutdown",this.destroy,this)}shutdown(t){this.scene&&(this.gameObject||this.scene.input.off("pointerdown",this.onPointerDown,this),this.scene.input.off("pointerup",this.onPointerUp,this),this.scene.input.off("gameout",this.dragCancel,this),this.scene.input.off("pointermove",this.onPointerMove,this),this.scene.sys.events.off("shutdown",this.destroy,this),this.gameObject=void 0,this.bounds=void 0,this.pointer=void 0,this.lastPointer=void 0,this.movedState=!1,super.shutdown(t))}get enable(){return this._enable}set enable(t){if(this._enable!==t)return t||this.dragCancel(),this._enable=t,this}setEnable(t){return t===void 0&&(t=!0),this.enable=t,this}setDetectBounds(t){return this.bounds=t,this}toggleEnable(){return this.setEnable(!this.enable),this}onPointerDown(t,s){if(this.enable&&this.pointer===void 0){var h=this.bounds?this.bounds.contains(t.x,t.y):!0;h&&this.pointer!==t&&(this.pointer=t,this.pointerCamera=t.camera,this.lastPointer=t,this.movedState=!1,this.tracerState=VT,this.gameObject===void 0&&(this.isTouchingAnyObject=s.length>0),this.onDragStart())}}onPointerUp(t){if(this.enable){var s=this.bounds?this.bounds.contains(t.x,t.y):!0;s&&this.pointer===t&&(this.pointer=void 0,this.pointerCamera=void 0,this.movedState=!1,this.tracerState=Nf,this.onDragEnd())}}onPointerMove(t){if(this.enable&&t.isDown){var s=this.bounds?this.bounds.contains(t.x,t.y):!0,h=this.pointer===t;!h&&s||(h&&!s?this.onPointerUp(t):(this.movedState||(this.movedState=t.x!==t.downX||t.y!==t.downY),this.movedState&&this.onDrag()))}}dragCancel(){return this.tracerState===VT&&this.onDragEnd(),this.pointer=void 0,this.tracerState=Nf,this}onDragStart(){this.emit("dragstart",this)}onDragEnd(){this.emit("dragend",this)}onDrag(){this.emit("drag",this)}preUpdate(t,s){}postUpdate(t,s){}startTicking(){super.startTicking(),this.scene.sys.events.on("preupdate",this.preUpdate,this),this.scene.sys.events.on("postupdate",this.postUpdate,this)}stopTicking(){super.stopTicking(),this.scene&&(this.scene.sys.events.off("preupdate",this.preUpdate,this),this.scene.sys.events.off("postupdate",this.postUpdate,this))}setRecongizedStateObject(t){return this.recongizedState=t,this}get state(){return this.recongizedState.state}set state(t){this.recongizedState.state=t}cancel(){return this.state=aG,this}isPointerInGameObject(t,s,h){var S=this.lastPointer;return S?yr(t,S,s,h):!1}};r(cm,"OnePointerTracer");let ya=cm;const Nf=0,VT=1,aG="IDLE",_s=Phaser.Utils.Objects.GetValue,hG=Phaser.Math.Distance.Between,vm=class vm extends ya{constructor(t,s){super(t,s);var h=this,S={states:{IDLE:{enter:r(function(){h.stop(),h.tapsCount=0,h.x=0,h.y=0,h.worldX=0,h.worldY=0,h.lastPointer=void 0},"enter"),exit:r(function(){var E=h.lastPointer;h.x=E.x,h.y=E.y,h.worldX=E.worldX,h.worldY=E.worldY},"exit")},BEGIN:{enter:r(function(){h.start(),h.tapsCount=0,h.emit("tappingstart",h,h.gameObject,h.lastPointer)},"enter")},RECOGNIZED:{enter:r(function(){h.start(),h.emit("tap",h,h.gameObject,h.lastPointer),h.emit(`${h.tapsCount}tap`,h,h.gameObject,h.lastPointer)},"enter")}},init:r(function(){this.state=tr},"init"),eventEmitter:!1};this.setRecongizedStateObject(new pi(S))}resetFromJSON(t){super.resetFromJSON(t),this.setHoldTime(_s(t,"time",250)),this.setTapInterval(_s(t,"tapInterval",200)),this.setDragThreshold(_s(t,"threshold",9)),this.setTapOffset(_s(t,"tapOffset",10));var s=_s(t,"taps",void 0);return s!==void 0?this.setTaps(s):(this.setMaxTaps(_s(t,"maxTaps",void 0)),this.setMinTaps(_s(t,"minTaps",void 0))),this}onDragStart(){switch(this.state){case tr:this.state=jr;break;case jr:var t=this.lastPointer,s=hG(t.upX,t.upY,t.x,t.y);s>this.tapOffset&&(this.state=qr,this.state=jr);break;case qr:this.state=jr;break}}onDragEnd(){this.state===jr&&(this.tapsCount++,this.emit("tapping",this,this.gameObject,this.lastPointer),this.maxTaps!==void 0&&this.tapsCount===this.maxTaps&&(this.state=qr))}onDrag(){this.state!==tr&&this.pointer.getDistance()>this.dragThreshold&&(this.state=tr)}preUpdate(t,s){if(!(!this.isRunning||!this.enable)&&this.state===jr){var h=this.lastPointer;if(h.isDown){var S=t-h.downTime;S>this.holdTime&&(this.state=tr)}else{var E=t-h.upTime;E>this.tapInterval&&(this.minTaps===void 0||this.tapsCount>=this.minTaps?this.state=qr:this.state=tr)}}}postUpdate(t,s){!this.isRunning||!this.enable||this.state===qr&&(this.state=tr)}get isTapped(){return this.state===qr}setHoldTime(t){return this.holdTime=t,this}setTapInterval(t){return this.tapInterval=t,this}setDragThreshold(t){return this.dragThreshold=t,this}setTapOffset(t){return this.tapOffset=t,this}setMaxTaps(t){return this.maxTaps=t,this}setMinTaps(t){return this.minTaps=t,this}setTaps(t,s){return s===void 0&&(s=t),this.setMinTaps(t).setMaxTaps(s),this}};r(vm,"Tap");let Sa=vm;const tr="IDLE",jr="BEGIN",qr="RECOGNIZED",WT=Phaser.Utils.Objects.GetValue,pm=class pm extends ya{constructor(t,s){super(t,s);var h=this,S={states:{IDLE:{enter:r(function(){h.x=0,h.y=0,h.worldX=0,h.worldY=0,h.lastPointer=void 0},"enter"),exit:r(function(){var E=h.lastPointer;h.x=E.x,h.y=E.y,h.worldX=E.worldX,h.worldY=E.worldY},"exit")},BEGIN:{enter:r(function(){h.start()},"enter"),exit:r(function(){h.stop()},"exit")},RECOGNIZED:{enter:r(function(){h.emit("pressstart",h,h.gameObject,h.lastPointer)},"enter"),exit:r(function(){h.emit("pressend",h,h.gameObject,h.lastPointer)},"exit")}},init:r(function(){this.state=Rl},"init"),eventEmitter:!1};this.setRecongizedStateObject(new pi(S))}resetFromJSON(t){return super.resetFromJSON(t),this.setDragThreshold(WT(t,"threshold",9)),this.setHoldTime(WT(t,"time",251)),this}onDragStart(){this.state=zT,this.holdTime===0&&(this.state=Uf)}onDragEnd(){this.state=Rl}onDrag(){this.state!==Rl&&this.pointer.getDistance()>this.dragThreshold&&(this.state=Rl)}preUpdate(t,s){if(!(!this.isRunning||!this.enable)&&this.state===zT){var h=t-this.pointer.downTime;h>=this.holdTime&&(this.state=Uf)}}get isPressed(){return this.state===Uf}setHoldTime(t){return this.holdTime=t,this}setDragThreshold(t){return this.dragThreshold=t,this}};r(pm,"Press");let Ta=pm;const Rl="IDLE",zT="BEGIN",Uf="RECOGNIZED",oG=Phaser.Utils.Objects.GetValue,gm=class gm extends ya{constructor(t,s){super(t,s);var h=this,S={states:{IDLE:{},BEGIN:{enter:r(function(){var E=h.pointer;h.startX=E.x,h.startY=E.y,h.startWorldX=E.worldX,h.startWorldY=E.worldY},"enter")},RECOGNIZED:{enter:r(function(){h.emit("panstart",h,h.gameObject,h.lastPointer)},"enter"),exit:r(function(){var E=h.lastPointer;h.endX=E.x,h.endY=E.y;var n=Uu(E,h.pointerCamera,!0);h.endWorldX=n.x,h.endWorldY=n.y,h.emit("panend",h,h.gameObject,h.lastPointer)},"exit")}},init:r(function(){this.state=YT},"init"),eventEmitter:!1};this.setRecongizedStateObject(new pi(S))}resetFromJSON(t){return super.resetFromJSON(t),this.setDragThreshold(oG(t,"threshold",10)),this}onDragStart(){this.state=kT,this.dragThreshold===0&&(this.state=Al)}onDragEnd(){this.state=YT}onDrag(){switch(this.state){case kT:if(this.pointer.getDistance()>=this.dragThreshold){this.state=Al,this.dx=0,this.dy=0,this.dWorldX=0,this.dWorldY=0;var S=this.pointer;this.x=S.x,this.y=S.y,this.worldX=S.worldX,this.worldY=S.worldY}break;case Al:var t=this.pointerCamera,s=this.pointer.position,h=this.pointer.prevPosition;this.dx=s.x-h.x,this.dy=s.y-h.y,this.dWorldX=this.dx/t.zoom,this.dWorldY=this.dy/t.zoom;var S=this.pointer;this.x=S.x,this.y=S.y;var E=Uu(S,t,!0);this.worldX=E.x,this.worldY=E.y,this.emit("pan",this,this.gameObject,this.lastPointer);break}}get isPanned(){return this.state===Al}setDragThreshold(t){return this.dragThreshold=t,this}};r(gm,"Pan");let Wu=gm;const YT="IDLE",kT="BEGIN",Al="RECOGNIZED",lG=Phaser.Math.Distance.Between,uG=Phaser.Math.Angle.Between,dG={getDt:r(function(){var e=zp(this.scene);return e},"getDt"),getVelocity:r(function(){var e=this.pointer.position,t=this.pointer.prevPosition,s=lG(t.x,t.y,e.x,e.y),h=s/(this.getDt()*.001);return h},"getVelocity"),getVelocityX:r(function(){var e=this.pointer.position,t=this.pointer.prevPosition,s=Math.abs(e.x-t.x),h=s/(this.getDt()*.001);return h},"getVelocityX"),getVelocityY:r(function(){var e=this.pointer.position,t=this.pointer.prevPosition,s=Math.abs(e.y-t.y),h=s/(this.getDt()*.001);return h},"getVelocityY"),getVelocityAngle:r(function(){var e=this.pointer.position,t=this.pointer.prevPosition,s=uG(t.x,t.y,e.x,e.y);return s},"getVelocityAngle")},fG={"up&down":0,"left&right":1,"4dir":2,"8dir":3};var cG=r(function(e,t,s){switch(s===void 0?s={}:s===!0&&(s=vG),s.left=!1,s.right=!1,s.up=!1,s.down=!1,e=(e+360)%360,t){case 0:e<180?s.down=!0:s.up=!0;break;case 1:e>90&&e<=270?s.left=!0:s.right=!0;break;case 2:e>45&&e<=135?s.down=!0:e>135&&e<=225?s.left=!0:e>225&&e<=315?s.up=!0:s.right=!0;break;case 3:e>22.5&&e<=67.5?(s.down=!0,s.right=!0):e>67.5&&e<=112.5?s.down=!0:e>112.5&&e<=157.5?(s.down=!0,s.left=!0):e>157.5&&e<=202.5?s.left=!0:e>202.5&&e<=247.5?(s.left=!0,s.up=!0):e>247.5&&e<=292.5?s.up=!0:(e>292.5&&e<=337.5&&(s.up=!0),s.right=!0);break}return s},"AngleToDirections"),vG={};const Vf=Phaser.Utils.Objects.GetValue,pG=Phaser.Math.RadToDeg,mm=class mm extends ya{constructor(t,s){super(t,s);var h=this,S={states:{IDLE:{enter:r(function(){h.x=0,h.y=0,h.worldX=0,h.worldY=0},"enter"),exit:r(function(){var E=h.lastPointer;h.x=E.x,h.y=E.y,h.worldX=E.worldX,h.worldY=E.worldY},"exit")},BEGIN:{enter:r(function(){h.validDrag=!1},"enter")},RECOGNIZED:{enter:r(function(){h.start(),h.updateDirectionStates(),h.emit("swipe",h,h.gameObject,h.lastPointer)},"enter"),exit:r(function(){h.stop(),h.clearDirectionStates()},"exit")}},init:r(function(){this.state=Wf},"init"),eventEmitter:!1};this.setRecongizedStateObject(new pi(S)),this.clearDirectionStates()}resetFromJSON(t){return super.resetFromJSON(t),this.setDragThreshold(Vf(t,"threshold",10)),this.setVelocityThreshold(Vf(t,"velocityThreshold",1e3)),this.setDirectionMode(Vf(t,"dir","8dir")),this}onDragStart(){this.state=HT}onDragEnd(){this.state=Wf}onDrag(){this.state===HT&&(this.validDrag||(this.validDrag=this.dragThreshold===0||this.pointer.getDistance()>=this.dragThreshold),this.validDrag&&this.dragVelocity>this.velocityThreshold&&(this.state=zf))}postUpdate(t,s){!this.isRunning||!this.enable||this.state===zf&&(this.state=Wf)}get isSwiped(){return this.state===zf}get dragVelocity(){var t;switch(this.dirMode){case 0:t=this.getVelocityY();break;case 1:t=this.getVelocityX();break;default:t=this.getVelocity();break}return t}setDragThreshold(t){return this.dragThreshold=t,this}setVelocityThreshold(t){return this.velocityThreshold=t,this}setDirectionMode(t){return typeof t=="string"&&(t=fG[t]),this.dirMode=t,this}updateDirectionStates(){var t=pG(this.getVelocityAngle());return cG(t,this.dirMode,this),this}clearDirectionStates(){return this.left=!1,this.right=!1,this.up=!1,this.down=!1,this}};r(mm,"Swipe");let Sr=mm;Object.assign(Sr.prototype,dG);const Wf="IDLE",HT="BEGIN",zf="RECOGNIZED",Ll=Phaser.Utils.Objects.GetValue,gG=Phaser.Utils.Array.SpliceOne,mG=Phaser.Math.Distance.Between,xG=Phaser.Math.Angle.Between,xm=class xm{constructor(t,s){var h=Ha(t);h===t&&(t=void 0);var S=h.input.manager.pointersTotal-1;S<2&&h.input.addPointer(2-S),this.scene=h,this.gameObject=t,t&&t.setInteractive(Ll(s,"inputConfig",void 0)),this.setEventEmitter(Ll(s,"eventEmitter",void 0)),this._enable=void 0,this.pointers=[],this.movedState={},this.resetFromJSON(s),this.boot()}resetFromJSON(t){return this.setEnable(Ll(t,"enable",!0)),this.bounds=Ll(t,"bounds",void 0),this.tracerState=Ol,this.pointers.length=0,ji(this.movedState),this}boot(){this.gameObject?this.gameObject.on("pointerdown",this.onPointerDown,this):this.scene.input.on("pointerdown",this.onPointerDown,this),this.scene.input.on("pointerup",this.onPointerUp,this),this.scene.input.on("gameout",this.dragCancel,this),this.scene.input.on("pointermove",this.onPointerMove,this),this.scene.sys.events.once("shutdown",this.destroy,this)}shutdown(){this.scene&&(this.destroyEventEmitter(),this.pointers.length=0,ji(this.movedState),this.gameObject||this.scene.input.off("pointerdown",this.onPointerDown,this),this.scene.input.off("pointerup",this.onPointerUp,this),this.scene.input.off("gameout",this.dragCancel,this),this.scene.input.off("pointermove",this.onPointerMove,this),this.scene.sys.events.off("shutdown",this.destroy,this),this.scene=void 0,this.gameObject=void 0)}destroy(){this.shutdown()}get enable(){return this._enable}set enable(t){if(this._enable!==t)return t||this.dragCancel(),this._enable=t,this}setEnable(t){return t===void 0&&(t=!0),this.enable=t,this}toggleEnable(){return this.setEnable(!this.enable),this}onPointerDown(t){if(this.enable&&this.pointers.length!==2){var s=this.bounds?this.bounds.contains(t.x,t.y):!0;if(s){var h=this.pointers.indexOf(t);if(h===-1)switch(this.movedState[t.id]=!1,this.pointers.push(t),this.pointerCamera=t.camera,this.tracerState){case Ol:this.tracerState=uh,this.onDrag1Start();break;case uh:this.tracerState=Ti,this.onDrag2Start();break}}}}onPointerUp(t){if(this.enable){var s=this.bounds?this.bounds.contains(t.x,t.y):!0;if(s){var h=this.pointers.indexOf(t);if(h!==-1)switch(delete this.movedState[t.id],gG(this.pointers,h),this.tracerState){case uh:this.tracerState=Ol,this.onDrag1End();break;case Ti:this.tracerState=uh,this.onDrag2End(),this.onDrag1Start();break}}}}onPointerMove(t){if(this.enable&&t.isDown){var s=this.bounds?this.bounds.contains(t.x,t.y):!0,h=this.pointers.indexOf(t)!==-1;if(!(!h&&s)){if(h&&!s)this.onPointerUp(t);else if(this.movedState[t.id]||(this.movedState[t.id]=t.x!==t.downX||t.y!==t.downY),this.movedState[t.id])switch(this.tracerState){case uh:this.onDrag1();break;case Ti:this.onDrag2();break}}}}dragCancel(){return this.tracerState===Ti&&this.onDrag2End(),this.pointers.length=0,ji(this.movedState),this.tracerState=Ol,this}onDrag1Start(){this.emit("drag1start",this)}onDrag1End(){this.emit("drag1end",this)}onDrag1(){this.emit("drag1",this)}onDrag2Start(){this.emit("drag2start",this)}onDrag2End(){this.emit("drag2end",this)}onDrag2(){this.emit("drag2",this)}get distanceBetween(){if(this.tracerState!==Ti)return 0;var t=this.pointers[0],s=this.pointers[1];return mG(t.x,t.y,s.x,s.y)}get angleBetween(){if(this.tracerState!==Ti)return 0;var t=this.pointers[0],s=this.pointers[1];return xG(t.x,t.y,s.x,s.y)}get drag1Vector(){var t=this.pointers[0];if(t&&this.movedState[t.id]){var s=t.position,h=t.prevPosition;lh.x=s.x-h.x,lh.y=s.y-h.y}else lh.x=0,lh.y=0;return lh}get centerX(){if(this.tracerState!==Ti)return 0;var t=this.pointers[0].position,s=this.pointers[1].position;return(t.x+s.x)/2}get centerY(){if(this.tracerState!==Ti)return 0;var t=this.pointers[0].position,s=this.pointers[1].position;return(t.y+s.y)/2}get prevCenterX(){if(this.tracerState!==Ti)return 0;var t=this.movedState[this.pointers[0].id]?this.pointers[0].prevPosition:this.pointers[0].position,s=this.movedState[this.pointers[1].id]?this.pointers[1].prevPosition:this.pointers[1].position;return(t.x+s.x)/2}get prevCenterY(){if(this.tracerState!==Ti)return 0;var t=this.movedState[this.pointers[0].id]?this.pointers[0].prevPosition:this.pointers[0].position,s=this.movedState[this.pointers[1].id]?this.pointers[1].prevPosition:this.pointers[1].position;return(t.y+s.y)/2}get movementCenterX(){return this.centerX-this.prevCenterX}get movementCenterY(){return this.centerY-this.prevCenterY}setRecongizedStateObject(t){return this.recongizedState=t,this}get state(){return this.recongizedState.state}set state(t){this.recongizedState.state=t}cancel(){return this.state=yG,this}isPointer0InGameObject(t,s,h){var S=this.pointers[0];return S?yr(t,S,s,h):!1}isPointer1InGameObject(t,s,h){var S=this.pointers[1];return S?yr(t,S,s,h):!1}};r(xm,"TwoPointersTracer");let so=xm;Object.assign(so.prototype,Uo);var lh={};const Ol=0,uh=1,Ti=2,yG="IDLE",SG=Phaser.Utils.Objects.GetValue,ym=class ym extends so{constructor(t,s){super(t,s);var h=this,S={states:{IDLE:{enter:r(function(){h.prevDistance=void 0,h.scaleFactor=1},"enter")},BEGIN:{},RECOGNIZED:{enter:r(function(){h.emit("pinchstart",h)},"enter"),exit:r(function(){h.emit("pinchend",h)},"exit")}},init:r(function(){this.state=XT},"init"),eventEmitter:!1};this.setRecongizedStateObject(new pi(S))}resetFromJSON(t){return super.resetFromJSON(t),this.setDragThreshold(SG(t,"threshold",0)),this}onDrag2Start(){this.scaleFactor=1,this.prevDistance=this.distanceBetween,this.state=$T,this.dragThreshold===0&&(this.state=wl)}onDrag2End(){this.state=XT}onDrag2(){switch(this.state){case $T:if(this.pointers[0].getDistance()>=this.dragThreshold&&this.pointers[1].getDistance()>=this.dragThreshold){var t=this.distanceBetween;this.scaleFactor=t/this.prevDistance,this.prevDistance=t,this.state=wl}break;case wl:var t=this.distanceBetween;this.scaleFactor=t/this.prevDistance,this.emit("pinch",this),this.prevDistance=t;break}}get isPinched(){return this.state===wl}setDragThreshold(t){return this.dragThreshold=t,this}};r(ym,"Pinch");let zu=ym;const XT="IDLE",$T="BEGIN",wl="RECOGNIZED",TG=Phaser.Math.RotateAround;var KT=r(function(e,t,s,h){return TG(e,t,s,h),e.rotation+=h,e},"RotateObjectAround"),CG=r(function(e,t,s,h){return h===void 0?h={}:h===!0&&(h=EG),s.getWorldPoint(e,t,h),h},"ScreenXYToWorldXY"),EG={},PG=r(function(e,t){if(!this.isRotation)return this;t===void 0&&(t=this.pointers[0].camera);var s=this.movementCenterX,h=this.movementCenterY,S=CG(this.centerX,this.centerY,t,!0),E=S.x,n=S.y,T=this.rotation;if(Array.isArray(e))for(var i=e,f=0,y=i.length;f<y;f++)e=i[f],e.x+=s,e.y+=h,KT(e,E,n,T);else e.x+=s,e.y+=h,KT(e,E,n,T);return this},"SpinObject");const RG=Phaser.Utils.Objects.GetValue,Yf=Phaser.Math.Angle.WrapDegrees,ZT=Phaser.Math.Angle.ShortestBetween,kf=Phaser.Math.RadToDeg,AG=Phaser.Math.DegToRad,Sm=class Sm extends so{constructor(t,s){super(t,s);var h=this,S={states:{IDLE:{enter:r(function(){h.prevAngle=void 0,h.angle=0},"enter")},BEGIN:{},RECOGNIZED:{enter:r(function(){h.emit("rotatestart",h)},"enter"),exit:r(function(){h.emit("rotateend",h)},"exit")}},init:r(function(){this.state=JT},"init"),eventEmitter:!1};this.setRecongizedStateObject(new pi(S))}resetFromJSON(t){return super.resetFromJSON(t),this.setDragThreshold(RG(t,"threshold",0)),this}onDrag2Start(){this.prevAngle=Yf(kf(this.angleBetween)),this.state=QT,this.dragThreshold===0&&(this.state=Ml)}onDrag2End(){this.state=JT}onDrag2(){switch(this.state){case QT:if(this.pointers[0].getDistance()>=this.dragThreshold&&this.pointers[1].getDistance()>=this.dragThreshold){var t=Yf(kf(this.angleBetween));this.angle=ZT(this.prevAngle,t),this.prevAngle=t,this.state=Ml}break;case Ml:var t=Yf(kf(this.angleBetween));this.angle=ZT(this.prevAngle,t),this.prevAngle=t,this.emit("rotate",this);break}}get isRotated(){return this.state===Ml}get rotation(){return AG(this.angle)}setDragThreshold(t){return this.dragThreshold=t,this}};r(Sm,"Rotate");let ro=Sm;var LG={spinObject:PG};Object.assign(ro.prototype,LG);const JT="IDLE",QT="BEGIN",Ml="RECOGNIZED",OG=Phaser.Utils.Objects.GetValue;var wG=r(function(e){var t=OG(e,"tap",void 0);if(t!==!1){t===!0&&(t=void 0);var s=this._childrenInteractive;this._tap=new Sa(this,t),this._tap.on("tap",function(h,S,E){Ni(s.eventEmitter,`${s.eventNamePrefix}${h.tapsCount}tap`,s.targetSizers,s.targetMode,h.worldX,h.worldY,E)},this)}},"TapChild");const MG=Phaser.Utils.Objects.GetValue;var bG=r(function(e){var t=MG(e,"press",void 0);if(t!==!1){t===!0&&(t=void 0);var s=this._childrenInteractive;this._press=new Ta(this,t),this._press.on("pressstart",function(h,S,E){Ni(s.eventEmitter,`${s.eventNamePrefix}pressstart`,s.targetSizers,s.targetMode,h.worldX,h.worldY,E)},this).on("pressend",function(h,S,E){Ni(s.eventEmitter,`${s.eventNamePrefix}pressend`,s.targetSizers,s.targetMode,h.worldX,h.worldY,E)},this)}},"PressChild");const IG=Phaser.Utils.Objects.GetValue;var FG=r(function(e){var t=IG(e,"swipe",void 0);if(t!==!1){t===!0&&(t=void 0),t===void 0&&(t={}),t.hasOwnProperty("dir")||(t.dir="4dir");var s=this._childrenInteractive;this._swipe=new Sr(this,t),this._swipe.on("swipe",function(h,S,E){var n=h.left?"left":h.right?"right":h.up?"up":"down";Ni(s.eventEmitter,`${s.eventNamePrefix}swipe${n}`,s.targetSizers,s.targetMode,h.worldX,h.worldY,E)},this)}},"SwipeChild");const dh=Phaser.Utils.Objects.GetValue;var cg=r(function(e,t){return e.setInteractive(),dh(t,"dropZone",!1)&&(e.input.dropZone=!0),e._childrenInteractive={targetSizers:dh(t,"targets",[e]),targetMode:dh(t,"targetMode","parent"),eventEmitter:dh(t,"eventEmitter",e),eventNamePrefix:dh(t,"inputEventPrefix","child.")},Q9.call(e,t),_9.call(e,t),iG.call(e,t),nG.call(e,t),wG.call(e,t),bG.call(e,t),FG.call(e,t),e},"SetChildrenInteractive"),DG=r(function(e){return cg(this,e),this},"SetChildrenInteractiveWrap"),BG=r(function(){for(var e=this.getAllChildren([this]),t=0,s=e.length;t<s;t++){var h=e[t];h.emit.apply(h,arguments)}return this},"BroadcastEvent"),tR={getSizerConfig:iB,getChildPrevState:sB,pushIntoBounds:rB,drawBounds:gB,resolveWidth:ig,hasWidthWrap:sg,resolveChildrenWidth:bB,runWidthWrap:rg,resolveHeight:ng,hasHeightWrap:ag,resolveChildrenHeight:IB,runHeightWrap:hg,getChildWidth:FB,getChildHeight:DB,getExpandedChildWidth:BB,getExpandedChildHeight:GB,getChildrenWidth:NB,getChildrenHeight:UB,addChildrenMap:RT,addElement:RT,removeChildrenMap:AB,getElement:LB,getChildIndex:wB,getAllChildrenSizers:VB,getChildrenSizers:WB,preLayout:Ho,layout:YB,runLayout:kB,layoutChildren:$B,layoutBackgrounds:Y9,postLayout:ZB,_postLayout:KB,setAnchor:qB,isInTouching:B9,pointToChild:U9,setDraggable:H9,setChildrenInteractive:DG,broadcastEvent:BG};Object.assign(tR,MB,yB,RB,$a,Ji,qh,zd,c9,p9,ZP,fg,$9,K9,Z9,x9,dg,zB);const ki=Phaser.Utils.Objects.GetValue;var Qn;let Dr=(Qn=class extends Ae{constructor(t,s,h,S,E,n){super(t,s,h,1,1),this.isRexSizer=!0;var T=ki(n,"origin",.5),i=ki(n,"originX",T),f=ki(n,"originY",T);this.setOrigin(i,f),this.setMinSize(S,E),this.setName(ki(n,"name","")),this.rexSizer={},this.space={},this.backgroundChildren=void 0,this.sizerChildren=void 0,this.childrenMap={},this.layoutedChildren=void 0,this.enableLayoutWarn(!1);var y=ki(n,"anchor",void 0);y&&this.setAnchor(y),this.setInnerPadding(ki(n,"space",0));var c=ki(n,"draggable",!1);c&&this.setDraggable(c),this.setSizerEventsEnable(ki(n,"sizerEvents",!1)),this.setDirty(!0),ki(n,"enableLayer",!1)&&this.enableLayer()}destroy(t){if(!(!this.scene||this.ignoreDestroy)){if(t)for(var s=this.getAllChildrenSizers([this]),h=0,S=s.length;h<S;h++)s[h].sizerEventsEnable=!1;super.destroy(t),ji(this.backgroundChildren),ji(this.sizerChildren),this.childrenMap=void 0,this.space=void 0,this.rexSizer=void 0,this.layoutedChildren=void 0}}setMinSize(t,s){return this.setMinWidth(t).setMinHeight(s),this}setMinWidth(t){return t==null&&(t=0),this.minWidth=t,this}setMinHeight(t){return t==null&&(t=0),this.minHeight=t,this}setDirty(t){return t===void 0&&(t=!0),this.dirty=t,this}setSizerEventsEnable(t){return t===void 0&&(t=!0),this.sizerEventsEnable=t,this}enableLayoutWarn(t){return t===void 0&&(t=!0),this.layoutWarnEnable=t,this}get ignoreLayout(){return this.rexSizer.hidden||!this.dirty}get childrenWidth(){return this._childrenWidth===void 0&&(this._childrenWidth=this.getChildrenWidth()),this._childrenWidth}get childrenHeight(){return this._childrenHeight===void 0&&(this._childrenHeight=this.getChildrenHeight()),this._childrenHeight}get left(){return this.x-wt(this)*this.originX}set left(t){this.x+=t-this.left}alignLeft(t){return this.left=t,this}get right(){return this.left+wt(this)}set right(t){this.x+=t-this.right}alignRight(t){return this.right=t,this}get centerX(){return this.left+wt(this)/2}set centerX(t){this.x+=t-this.centerX}alignCenterX(t){return this.centerX=t,this}get top(){return this.y-Mt(this)*this.originY}set top(t){this.y+=t-this.top}alignTop(t){return this.top=t,this}get bottom(){return this.top+Mt(this)}set bottom(t){this.y+=t-this.bottom}alignBottom(t){return this.bottom=t,this}get centerY(){return this.top+Mt(this)/2}set centerY(t){this.y+=t-this.centerY}alignCenterY(t){return this.centerY=t,this}get innerLeft(){return this.left+this.space.left*this.scaleX}get innerRight(){return this.right-this.space.right*this.scaleX}get innerTop(){return this.top+this.space.top*this.scaleY}get innerBottom(){return this.bottom-this.space.bottom*this.scaleY}get innerWidth(){return(this.width-this.space.left-this.space.right)*this.scaleX}get innerHeight(){return(this.height-this.space.top-this.space.bottom)*this.scaleY}get minInnerWidth(){var t=(this.minWidth-this.space.left-this.space.right)*this.scaleX;return Math.max(t,0)}get minInnerHeight(){var t=(this.minHeight-this.space.top-this.space.bottom)*this.scaleY;return Math.max(t,0)}},r(Qn,"Base"),Qn);Object.assign(Dr.prototype,tR);var GG=r(function(){if(this.rexSizer.hidden)return 0;var e=0,t=this.sizerChildren,s,h,S,E=!1;for(var n in t)s=t[n],S=this.getChildWidth(s),S===void 0&&(E=!0),!E&&(h=s.rexSizer.padding,S+=h.left+h.right,e=Math.max(S,e));if(!E)return e+this.space.left+this.space.right},"GetChildrenWidth$4"),NG=r(function(){if(this.rexSizer.hidden)return 0;var e=0,t=this.sizerChildren,s,h,S,E=!1;for(var n in t)s=t[n],S=this.getChildHeight(s),S===void 0&&(E=!0),!E&&(h=s.rexSizer.padding,S+=h.top+h.bottom,e=Math.max(S,e));if(!E)return e+this.space.top+this.space.bottom},"GetChildrenHeight$4"),UG=r(function(e,t){t===void 0&&(t=this.width);var s,h=e.rexSizer;if(h.expandWidth){var S=this.space,E=t-S.left-S.right,n=h.padding;s=E-n.left-n.right}return s},"GetExpandedChildWidth$2"),VG=r(function(e,t){t===void 0&&(t=this.height);var s,h=e.rexSizer;if(h.expandHeight){var S=this.space,E=t-S.top-S.bottom,n=h.padding;s=E-n.top-n.bottom}return s},"GetExpandedChildHeight$2"),WG=r(function(e){e===void 0&&(e=[]);var t=this.sizerChildren,s;for(var h in t)s=t[h],s.isRexSizer&&e.push(s);return e},"GetChildrenSizers$4"),vg=r(function(e,t,s,h){if(s===void 0)s=0;else{var S=typeof s;S==="boolean"?(h=s,s=0):S==="string"&&(s=zG[s])}h===void 0?h={}:h===!0&&(h=YG);var E=t.width/e.width,n=t.height/e.height,T=s?Math.max(E,n):Math.min(E,n);return h.width=e.width*T,h.height=e.height*T,h},"FitTo");const zG={fit:0,FIT:0,envelop:1,ENVELOP:1};var YG={},pg=r(function(e,t){e.layoutWarnEnable&&(e.width<e.childrenWidth&&console.warn(`Layout width error: Parent=${t.constructor.name}, Child=${e.constructor.name}`),e.height<e.childrenHeight&&console.warn(`Layout height error: Parent=${t.constructor.name}, Child=${e.constructor.name}`))},"CheckSize"),kG=r(function(){var e,t,s,h=this.innerLeft,S=this.innerTop,E=this.innerWidth,n=this.innerHeight,T,i,f,y,c,o,l,a=this.sizerChildren;for(var u in a)e=a[u],!e.rexSizer.hidden&&(t=e.rexSizer,s=t.padding,Xo.call(this,e),c=this.getExpandedChildWidth(e),o=this.getExpandedChildHeight(e),t.aspectRatio>0&&(Hf.width=t.aspectRatio,Hf.height=1,Xf.width=c,Xf.height=o,l=vg(Hf,Xf,"FIT",!0),c=l.width,o=l.height),e.isRexSizer?(e.runLayout(this,c,o),pg(e,this)):Pe(e,c,o),T=h+s.left,f=E-s.left-s.right,i=S+s.top,y=n-s.top-s.bottom,$o.call(this,e,T,i,f,y,t.align,t.alignOffsetX,t.alignOffsetY))},"LayoutChildren$5"),Hf={},Xf={};const jT=Phaser.Utils.Objects.IsPlainObject,si=Phaser.Utils.Objects.GetValue,qT=Phaser.Display.Align.CENTER,HG=Phaser.Utils.String.UUID;var XG=r(function(e,t,s,h,S,E,n,T,i,f){if(Yo.call(this,e),jT(t)){var c=t;t=si(c,"key",void 0),s=si(c,"align",qT),h=si(c,"padding",0),S=si(c,"expand",!0),e.isRexSizer||(E=si(c,"minWidth",e._minWidth),n=si(c,"minHeight",e._minHeighted)),T=si(c,"offsetX",0),i=si(c,"offsetY",0),f=si(c,"aspectRatio",0)}var y=t!==void 0;y||(t=HG()),typeof s=="string"&&(s=Xa[s]),s===void 0&&(s=qT),h===void 0&&(h=0),S===void 0&&(S=!0),e.isRexSizer||(E===void 0&&(E=e._minWidth),n===void 0&&(n=e._minHeight)),T===void 0&&(T=0),i===void 0&&(i=0),f===void 0?f=0:f===!0&&(f=wt(e)/Mt(e)),f>0&&(S=!0,E===void 0&&(E=0),n===void 0&&(n=0));var c=this.getSizerConfig(e);return c.align=s,c.padding=Gs(h),jT(S)?(c.expandWidth=si(S,"width",!1),c.expandHeight=si(S,"height",!1)):(c.expandWidth=S,c.expandHeight=S),e.isRexSizer||(c.expandWidth&&(e.minWidth=E===void 0?wt(e):E),c.expandHeight&&(e.minHeight=n===void 0?Mt(e):n)),c.alignOffsetX=T,c.alignOffsetY=i,c.aspectRatio=f,this.sizerChildren.hasOwnProperty(t)&&this.sizerChildren[t].destroy(),this.sizerChildren[t]=e,y&&this.addChildrenMap(t,e),this},"Add$7");const $G={add:XG},KG=Ae.prototype.clear;var Yd=r(function(e){this.backgroundChildren&&(this.backgroundChildren.length=0);var t=!e&&this.sizerEventsEnable,s;if(t&&(s=this.getChildren([])),KG.call(this,e),t)for(var h,S=0,E=s.length;S<E;S++)h=s[S],h.emit("sizer.remove",h,this),this.emit("remove",h,this);return this},"ClearChildren");const ZG={remove(e,t){var s;if(typeof e=="string"){if(s=e,e=this.sizerChildren[s],!e)return this}else{if(this.getParentSizer(e)!==this)return this;s=this.childToKey(e)}return s&&(delete this.sizerChildren[s],this.childrenMap.hasOwnProperty(s)&&delete this.childrenMap[s]),ko.call(this,e,t),this},removeAll(e){for(var t in this.sizerChildren)this.remove(t,e);return this},clear(e){for(var t in this.sizerChildren)delete this.sizerChildren[t],this.childrenMap.hasOwnProperty(t)&&delete this.childrenMap[t];return Yd.call(this,e),this}};var eR={getChildrenWidth:GG,getChildrenHeight:NG,getExpandedChildWidth:UG,getExpandedChildHeight:VG,getChildrenSizers:WG,layoutChildren:kG};Object.assign(eR,$G,ZG);var kd=r(function(e,t){if(Array.isArray(e))return e.indexOf(t);for(var s in e)if(e[s]===t)return s;return null},"IndexOf");const _T=Phaser.Utils.Objects.IsPlainObject,_r=Phaser.Utils.Objects.GetValue,Tm=class Tm extends Dr{constructor(t,s,h,S,E,n){_T(s)?(n=s,s=_r(n,"x",0),h=_r(n,"y",0),S=_r(n,"width",void 0),E=_r(n,"height",void 0)):_T(S)&&(n=S,S=_r(n,"width",void 0),E=_r(n,"height",void 0)),super(t,s,h,S,E,n),this.type="rexOverlapSizer",this.sizerChildren={},this.addChildrenMap("items",this.sizerChildren)}childToKey(t){if(typeof t=="string"){var s=t;if(this.sizerChildren.hasOwnPropery(s))return s}else return kd(this.sizerChildren,t);return null}};r(Tm,"OverlapSizer");let Ne=Tm;Object.assign(Ne.prototype,eR);var JG=Phaser.Math.Distance.Between,Yu=r(function(e,t,s){var h=e.width/2;return JG(h,h,t,s)<=h},"IsLocalPointInKnob");const QG=Phaser.Math.Angle.Between,jG=Phaser.Math.Angle.Normalize;var tC=r(function(e,t,s){if(this.enable&&e.isDown){var h=this.sizerChildren.knob;if(Yu(h,t,s)){var S=h.width/2,E=h.startAngle,n=QG(S,S,t,s),T=h.anticlockwise?E-n:n-E,i=jG(T)/(2*Math.PI);this.stopEaseValue(),this.easeValueDuration===0||Math.abs(this.value-i)<.1?this.value=i:this.easeValueTo(i)}}},"OnTouchPad"),qG=r(function(){var e=this.sizerChildren.knob;e.on("pointerdown",tC,this).on("pointermove",tC,this).setInteractive()},"InstallEvents$1");const eC=Phaser.Math.Angle.Between,_G=Phaser.Math.Angle.Wrap;var t8=r(function(e,t,s){if(!(!this.enable||this.panPointer)){var h=this.sizerChildren.knob;Yu(h,t,s)&&iR.call(this,e)}},"OnPointerDown"),e8=r(function(e,t,s){if(this.enable&&e.isDown){var h=this.sizerChildren.knob;switch(this.panState){case gg:Yu(h,t,s)&&iR.call(this,e);break;case rR:Yu(h,t,s)?s8.call(this):sR.call(this);break}}},"OnPointerMove"),i8=r(function(e,t,s){!this.enable||this.panPointer!==e||sR.call(this)},"OnPointerUp"),iR=r(function(e){this.panPointer=e,this.panState=rR},"OnPanStart"),sR=r(function(){this.panPointer=void 0,this.panState=gg},"OnPanEnd"),s8=r(function(){var e=this.panPointer.prevPosition,t=this.panPointer.position,s=this.sizerChildren.knob,h=eC(s.x,s.y,e.x,e.y),S=eC(s.x,s.y,t.x,t.y),E=s.anticlockwise?h-S:S-h,n=_G(E)/(Math.PI*2);this.stopEaseValue(),this.value+=n},"OnPan");const gg=0,rR=1;var r8=r(function(){var e=this.sizerChildren.knob;e.on("pointerdown",t8,this).on("pointermove",e8,this).on("pointerup",i8,this).setInteractive(),this.panPointer=void 0,this.panState=gg},"InstallEvents"),n8=r(function(e,t){return this.textFormatCallback=e,this.textFormatCallbackScope=t,this},"SetTextFormatCallback"),nR=r(function(e){e===void 0&&(e=this.value);var t;return this.textFormatCallbackScope?t=this.textFormatCallback(e):t=this.textFormatCallback.call(this.textFormatCallbackScope,e),t},"GetFormatText"),a8=r(function(e){var t=this.sizerChildren.text;return t&&this.textFormatCallback&&(t.setText(nR.call(this,e)),t.layout&&t.layout()),this},"UpdateText");const h8={setTextFormatCallback:n8,getFormatText:nR,updateText:a8},ri=Phaser.Utils.Objects.GetValue,o8=Phaser.Math.Snap.To,Cm=class Cm extends Fr(Ne){constructor(t,s){s===void 0&&(s={}),super(t,s),this.type="rexKnob",this.bootProgressBase(s);var h=ri(s,"background",void 0),S=ri(s,"text",void 0);h&&this.addBackground(h),S&&(s.textColor=void 0,s.textStrokeColor=void 0,this.setTextFormatCallback(ri(s,"textFormatCallback",void 0),ri(s,"textFormatCallbackScope",void 0)));var E=new Nd(t,s);E.setDepth(ri(s,"knobDepth",0)),E._value=-1,t.add.existing(E),this.add(E,"knob"),S&&(this.add(S,"text","center",0,!1),t.children.moveBelow(E,S)),this.addChildrenMap("background",h),this.addChildrenMap("knob",E),this.addChildrenMap("text",S),this.setEnable(ri(s,"enable",void 0)),this.setGap(ri(s,"gap",void 0)),this.setValue(ri(s,"value",0),ri(s,"min",void 0),ri(s,"max",void 0));var n=ri(s,"input",0);switch(typeof n=="string"&&(n=l8[n]),n){case 0:r8.call(this);break;case 1:qG.call(this);break}}setEnable(t){return t===void 0&&(t=!0),this.enable=t,this}setGap(t){return this.gap=t,this}get value(){return this.sizerChildren.knob.value}set value(t){this.gap!==void 0&&(t=o8(t,this.gap));var s=this.value;this.sizerChildren.knob.value=t;var h=this.value;s!==h&&(this.updateText(),this.eventEmitter.emit("valuechange",h,s,this.eventEmitter))}};r(Cm,"Knob");let no=Cm;const l8={pan:0,drag:0,click:1,none:-1};Object.assign(no.prototype,h8);st.register("knob",function(e){var t=new no(this.scene,e);return this.scene.add.existing(t),t});it(window,"RexPlugins.UI.Knob",no);const u8={arc:Bs,circle:Ge,curve:yv,ellipse:Sv,line:Gi,lines:me,rectangle:T4,roundRectangle:pa,triangle:E4},iC=Phaser.Utils.Objects.GetValue,d8=Phaser.Utils.Objects.IsPlainObject,f8=r(function(){for(var e=this.getShapes(),t=0,s=e.length;t<s;t++)e[t].lineStyle().fillStyle()},"ClearAll"),c8={createShape(e,t){var s=u8[e],h=new s;return t&&h.setName(t),h},buildShapes(e){var t=iC(e,"create",void 0);if(d8(t)){var s=t;for(var h in s){var S=s[h];switch(typeof S){case"number":for(var E=0;E<S;E++)this.addShape(this.createShape(h));break;case"string":this.addShape(this.createShape(h,S));break;default:for(var n=S,E=0,T=n.length;E<T;E++)this.addShape(this.createShape(h,n[E]));break}}}else if(Array.isArray(t))for(var s=t,E=0,T=s.length;E<T;E++){var i=s[E];this.addShape(this.createShape(i.type,i.name))}else typeof t=="function"&&t.call(this);this.setUpdateShapesCallback(iC(e,"update"))},setUpdateShapesCallback(e){return e===void 0&&(e=f8),this.dirty=this.dirty||this.updateCallback!==e,this.updateCallback=e,this},updateShapes(){this.updateCallback.call(this)}},sC=Phaser.GameObjects.Components.TransformMatrix,v8=Phaser.Math.TransformXY;var p8=r(function(e,t,s,h,S){h===void 0&&(h=e.scene.cameras.main),S===void 0?S={}:S===!0&&(S=g8);var E=h.scrollX,n=h.scrollY,T=t+E*e.scrollFactorX-E,i=s+n*e.scrollFactorY-n;return e.parentContainer?(bl===void 0&&(bl=new sC,rC=new sC),e.getWorldTransformMatrix(bl,rC),bl.applyInverse(T,i,S)):v8(T,i,e.x,e.y,e.rotation,e.scaleX,e.scaleY,S),S.x+=e.displayOriginX,S.y+=e.displayOriginY,S},"WorldXYToGameObjectLocalXY"),bl,rC,g8={};const fh=Phaser.Utils.Objects.GetValue,m8=Phaser.Utils.Objects.IsPlainObject,Em=class Em extends Bi{constructor(t,s,h,S,E,n){m8(s)&&(n=s,s=fh(n,"x",0),h=fh(n,"y",0),S=fh(n,"width",2),E=fh(n,"height",2)),super(t,s,h,S,E),this.type=fh(n,"type","rexCustomShapes"),this.buildShapes(n)}get centerX(){return this.width/2}get centerY(){return this.height/2}worldToLocalXY(t,s,h,S){return typeof h=="boolean"&&(S=h,h=void 0),p8(this,t,s,h,S)}};r(Em,"CustomShapes");let Ca=Em;Object.assign(Ca.prototype,c8);st.register("customShapes",function(e,t,s,h,S){var E=new Ca(this.scene,e,t,s,h,S);return this.scene.add.existing(E),E});it(window,"RexPlugins.UI.CustomShapes",Ca);const ch=Phaser.Utils.Objects.GetValue,x8=Phaser.Utils.Objects.IsPlainObject,Pm=class Pm extends Fr(Ca){constructor(t,s,h,S,E,n){x8(s)&&(n=s,s=ch(n,"x",0),h=ch(n,"y",0),S=ch(n,"width",2),E=ch(n,"height",2)),n===void 0&&(n={}),n.type||(n.type="rexCustomProgress"),super(t,s,h,S,E,n),this.bootProgressBase(n),this.setValue(ch(n,"value",0))}get centerX(){return this.width/2}get centerY(){return this.height/2}get radius(){return Math.min(this.centerX,this.centerY)}};r(Pm,"CustomProgress");let ii=Pm;st.register("customProgress",function(e,t,s,h,S){var E=new ii(this.scene,e,t,s,h,S);return this.scene.add.existing(E),E});it(window,"RexPlugins.UI.CustomProgress",ii);var y8=r(function(e){return this.easeValueTask||(this.easeValueTask=new vi(this,{eventEmitter:null})),e!==void 0&&(this.duration=e,this.easeValueTask.stop()),this.easeValueTask.isRunning?this:(this.easeValueTask.restart({key:"value",from:0,to:1,duration:this.duration,ease:this.ease,repeat:-1,delay:this.delay,repeatDelay:this.repeatDelay}),this.setDirty(),this)},"Start"),S8=r(function(){return this.easeValueTask?(this.easeValueTask.stop(),this.setDirty(),this):this},"Stop"),T8=r(function(){return this.easeValueTask?(this.easeValueTask.pause(),this.setDirty(),this):this},"Pause"),C8=r(function(){return this.easeValueTask?(this.easeValueTask.pause(),this.setDirty(),this):this},"Resume");const E8={start:y8,stop:S8,pause:T8,resume:C8},ni=Phaser.Utils.Objects.GetValue,Rm=class Rm extends Bi{constructor(t,s){var h=ni(s,"x",0),S=ni(s,"y",0),E=ni(s,"width",64),n=ni(s,"height",64);super(t,h,S,E,n),this.resetFromConfig(s,!0),this.buildShapes(s),ni(s,"start",!0)&&this.start()}resetFromConfig(t,s){s===void 0&&(s=!1);var h;return h=s?1e3:this.duration,this.setDuration(ni(t,"duration",h)),h=s?"Linear":this.ease,this.setEase(ni(t,"ease",h)),h=s?0:this.delay,this.setDelay(ni(t,"delay",h)),h=s?0:this.repeatDelay,this.setRepeatDelay(ni(t,"repeatDelay",h)),h=s?16777215:this.color,this.setColor(ni(t,"color",h)),h=s?0:this.value,this.setValue(ni(t,"value",h)),this}buildShapes(){}get centerX(){return this.width/2}get centerY(){return this.height/2}get radius(){return Math.min(this.centerX,this.centerY)}get color(){return this._color}set color(t){this.isColorChanged=this.isColorChanged||this._color!==t,this.dirty=this.dirty||this.isColorChanged,this._color=t,this.setShapesColor(t)}setColor(t){return this.color=t,this}setShapesColor(t){}get value(){return this._value}set value(t){t=Phaser.Math.Clamp(t,0,1),this.dirty=this.dirty||this._value!=t,this._value=t}setValue(t){return this.value=t,this}setDuration(t){return this.duration=t,this}setDelay(t){return this.delay=t,this}setRepeatDelay(t){return this.repeatDelay=t,this}setEase(t){return this.ease=t,this}get isRunning(){return this.tweenTask?this.tweenTask.isRunning:!1}};r(Rm,"Base");let ku=Rm;Object.assign(ku.prototype,E8);const ys=Phaser.Math.DegToRad,P8=Phaser.Math.Linear,R8=Phaser.Math.Easing.Expo.In,A8={right:0,down:1,left:2,up:3};var L8=r(function(e,t,s,h,S,E,n,T,i,f,y){var c=tn(t,0,h,S,E,n,T,i,f,y);e.startAt(c.x,c.y);var o=tn(s,0,h,S,E,n,T,i,f,y);e.lineTo(o.x,o.y);var l=tn(s,s,h,S,E,n,T,i,f,y);e.lineTo(l.x,l.y);var a=tn(0,s,h,S,E,n,T,i,f,y);e.lineTo(a.x,a.y);var u=tn(0,t,h,S,E,n,T,i,f,y);e.lineTo(u.x,u.y);var v=tn(t,t,h,S,E,n,T,i,f,y);e.lineTo(v.x,v.y),e.close()},"ArrowPolygon"),$f={},tn=r(function(e,t,s,h,S,E,n,T,i,f){var y=e*s,c=t*h;return $f.x=n*y+T*c+S,$f.y=i*y+f*c+E,$f},"Transform");const Il={setDirection(e){return typeof e=="string"&&(e=A8[e]),this.direction=e,this},buildShapes(){for(var e=0;e<3;e++)this.addShape(new me)},updateShapes(){var e,t,s,h,S,E;switch(this.direction){case 1:e=this.centerX,t=this.centerY-this.radius;var n=ys(315);s=Math.cos(n),h=Math.sin(n);var T=ys(45);S=Math.cos(T),E=Math.sin(T);break;case 3:e=this.centerX,t=this.centerY+this.radius;var n=ys(135);s=Math.cos(n),h=Math.sin(n);var T=ys(225);S=Math.cos(T),E=Math.sin(T);break;case 2:e=this.centerX+this.radius,t=this.centerY;var n=ys(225);s=Math.cos(n),h=Math.sin(n);var T=ys(315);S=Math.cos(T),E=Math.sin(T);break;default:e=this.centerX-this.radius,t=this.centerY;var n=ys(45);s=Math.cos(n),h=Math.sin(n);var T=ys(135);S=Math.cos(T),E=Math.sin(T);break}for(var i=this.radius/7,f=this.getShapes(),y=0,c=f.length;y<c;y++){var o=f[y],l=(this.value+(c-y)*.1)%1;l=R8(It(l));var a=P8(.25,1,l);o.fillStyle(this.color,a);var u=y*3+1,v=u+2;L8(o,u,v,i,i,e,t,s,h,S,E)}}},O8=Phaser.Math.Linear,w8={buildShapes(){for(var e=0;e<4;e++)this.addShape(new Gi);this.prevValue=void 0},updateShapes(){var e=this.centerX,t=this.centerY,s=this.radius,h=e-s,S=t+s,E=s*2,n=this.getShapes(),T=n.length,i=s*2/T,f=i*.7;if(this.prevValue===void 0||this.prevValue>this.value)for(var y=0;y<T;y++){var c=n[y],o=this.prevValue===void 0?Math.random():c.getData("to");c.setData("from",o).setData("to",Math.random())}this.prevValue=this.value;for(var y=0;y<T;y++){var c=n[y],o=c.getData("from"),l=c.getData("to"),a=O8(o,l,this.value),u=a*E,v=h+i*(y+.5);c.lineStyle(f,this.color,1).setP0(v,S).setP1(v,S-u)}}},M8=Phaser.Math.Linear,b8={buildShapes(){for(var e=0;e<3;e++)this.addShape(new Ge)},updateShapes(){for(var e=this.centerX,t=this.centerY,s=this.radius,h=s*.1,S=Math.ceil(h*.25),E=1-It(this.value),n=M8(.3,.9,E)*s,T=this.getShapes(),i=0,f=T.length;i<f;i++){var y=T[i],E=(this.value+i/f)%1,c=Math.PI*2*E;y.lineStyle(S,this.color).setRadius(h).setCenterPosition(e+Math.cos(c)*n,t+Math.sin(c)*n)}}},I8=Phaser.Math.Linear,F8=Phaser.Math.Easing.Expo.In,D8={buildShapes(){for(var e=5,t=0;t<e;t++){var s=new Gi;this.addShape(s);var h=It(t/(e-1))/2;s.setData("offset",h)}},updateShapes(){for(var e=this.centerX,t=this.centerY,s=this.radius,h=e-s,S=s*2,E=this.getShapes(),n=E.length,T=s*2/n,i=T*.7,f=0;f<n;f++){var y=E[f],c=(this.value+y.getData("offset"))%1;c=F8(It(c));var o=I8(.4,1,c)*S,l=h+T*(f+.5);y.lineStyle(i,this.color,1).setP0(l,t-o/2).setP1(l,t+o/2)}}},B8={buildShapes(){this.addShape(new me().setName("border")),this.addShape(new me().setName("fill"))},updateShapes(){var e=this.centerX,t=this.centerY,s=this.radius,h=s*.7,S=e-h,E=t-h,n=h*2;if(this.getShape("border").lineStyle(2,this.color,1).startAt(S,E).lineTo(n,0,!0).lineTo(0,n,!0).lineTo(-n,0,!0).lineTo(0,-n,!0).close(),this.value<.5){var T=(.5-this.value)*2,i=n*T;this.getShape("fill").fillStyle(this.color,1).startAt(S,E).lineTo(n,0,!0).lineTo(0,i,!0).lineTo(-n,0,!0).lineTo(0,-i,!0).close()}else{var T=(this.value-.5)*2,f=180*T;this.getShape("border").rotateAround(e,t,f),this.getShape("fill").fillStyle().lineStyle()}}},nC=Phaser.Math.RadToDeg,aC=Phaser.Math.Angle.WrapDegrees,G8=Phaser.Math.Angle.Wrap,N8=Phaser.Math.Angle.ShortestBetween,U8=Phaser.Math.DegToRad,hC=Phaser.Math.DegToRad(270),V8={buildShapes(){this.addShape(new Ge().setName("border")),this.addShape(new Gi().setName("minuteHand")),this.addShape(new Gi().setName("hourHand")),this.minuteHandAngle=0,this.hourHandAngle=0},updateShapes(){var e=this.centerX,t=this.centerY,s=this.radius,h=Math.ceil(s/25),S=s-h/2,E=s*.8,n=s*.5,T=this.minuteHandAngle;this.minuteHandAngle=Math.PI*2*this.value;var i=aC(nC(T)),f=aC(nC(this.minuteHandAngle)),y=N8(i,f);this.hourHandAngle=G8(this.hourHandAngle+U8(y)/12),this.getShape("border").lineStyle(h,this.color).setRadius(S).setCenterPosition(e,t);var c=this.minuteHandAngle+hC;this.getShape("minuteHand").lineStyle(h,this.color).setP0(e,t).setP1(e+Math.cos(c)*E,t+Math.sin(c)*E);var c=this.hourHandAngle+hC;this.getShape("hourHand").lineStyle(h,this.color).setP0(e,t).setP1(e+Math.cos(c)*n,t+Math.sin(c)*n)}},oC=Phaser.Math.Linear,W8=Phaser.Math.Easing.Expo.In,Kf=2,Zf=2,z8={buildShapes(){for(var e=Kf*Zf,t=0;t<e;t++){var s=new Gi;this.addShape(s)}},updateShapes(){for(var e=this.centerX,t=this.centerY,s=this.radius,h=e-s,S=t-s,E=s*2/Zf,n=s*2/Kf,T=this.getShapes(),i=T.length,f=0;f<i;f++){var y=f%Zf,c=Math.floor(f/Kf),o=h+E*(y+.5),l=S+n*(c+.5),a=T[f],u=(this.value+(i-f)*.1)%1;u=W8(It(u));var v=(i-f)/i,d=oC(.7,1,u)*n,p=oC(.7,1,u)*E;a.lineStyle(p,this.color,v).setP0(o-d/2,l).setP1(o+d/2,l)}}},lC=Phaser.Math.Linear,Y8={buildShapes(){for(var e=3,t=0;t<e;t++){var s=new Ge;this.addShape(s);var h=It(t/(e-1))/2;s.setData("offset",h)}},updateShapes(){for(var e=this.centerX,t=this.centerY,s=this.radius,h=e-s,S=this.getShapes(),E=S.length,n=s*2/E,T=n/2,i=0;i<E;i++){var f=S[i],y=(this.value+f.getData("offset"))%1;y=It(y);var c=lC(.25,1,y),o=lC(.5,1,y)*T;f.fillStyle(this.color,c).setRadius(o).setCenterPosition(h+n*(i+.5),t)}}},uC=Phaser.Math.Linear,k8=Phaser.Math.Easing.Expo.In,H8={buildShapes(){for(var e=0;e<3;e++){var t=new Gi;this.addShape(t)}},updateShapes(){for(var e=this.centerX,t=this.centerY,s=this.radius,h=e-s,S=this.getShapes(),E=S.length,n=s*2/E,T=s*2,i=0;i<E;i++){var f=S[i],y=(this.value+(E-i)*.1)%1;y=k8(It(y));var c=(i+1)/E,o=uC(.7,1,y)*T,l=uC(.7,1,y)*n,a=h+n*(i+.5);f.lineStyle(l,this.color,c).setP0(a,t-o/2).setP1(a,t+o/2)}}},X8=Phaser.Math.Linear,Jf=3,Qf=3,$8={buildShapes(){for(var e=Jf*Qf,t=0;t<e;t++){var s=new Ge;this.addShape(s),s.setData("offset",Math.random())}this.isInitialize=!0},updateShapes(){for(var e=this.centerX,t=this.centerY,s=this.radius,h=this.isInitialize||this.isSizeChanged,S=e-s,E=t-s,n=s*2/Qf,T=s*2/Jf,i=Math.min(n,T)/2*.8,f=this.getShapes(),y=0,c=f.length;y<c;y++){var o=y%Qf,l=Math.floor(y/Jf),a=S+n*(o+.5),u=E+T*(l+.5),v=f[y],d=(this.value+v.getData("offset"))%1;d=It(d),v.fillStyle(this.color,X8(.25,1,d)),h&&v.setRadius(i).setCenterPosition(a,u)}this.isInitialize=!1}},K8={buildShapes(){for(var e=0;e<2;e++)this.addShape(new me)},updateShapes(){for(var e=this.centerX,t=this.centerY,s=this.radius,h=Math.ceil(s/25),S=s-h,E=S*.6,n=S*.7,T=S*1.2,i=this.getShapes(),f=0,y=i.length;f<y;f++){var c=i[f],o=(this.value+f/y)%1,l=It(o),a=e,u=t-15*o,v=S*o,d=E*o,p=n*o,g=T*o;c.lineStyle(h,this.color,l).startAt(a,u).cubicBezierCurveTo(a,u-d,a-v,u-d,a-v,u).cubicBezierCurveTo(a-v,u+d,a,u+p,a,u+g).cubicBezierCurveTo(a,u+p,a+v,u+d,a+v,u).cubicBezierCurveTo(a+v,u-d,a,u-d,a,u).close()}}},Z8=Phaser.Math.Linear,J8={buildShapes(){for(var e=0;e<12;e++)this.addShape(new Gi);this.isInitialize=!0},updateShapes(){for(var e=this.centerX,t=this.centerY,s=this.isInitialize||this.isSizeChanged,h=this.radius,S=h/2,E=Math.ceil(h/20),n=this.getShapes(),T=0,i=n.length;T<i;T++){var f=n[T],y=T/i,c=Math.PI*2*y,o=Z8(.25,1,(1-this.value+y)%1);f.lineStyle(E,this.color,o),s&&f.setP0(e+Math.cos(c)*S,t+Math.sin(c)*S).setP1(e+Math.cos(c)*h,t+Math.sin(c)*h)}this.isInitialize=!1}},Q8={buildShapes(){this.addShape(new Ge().setName("track")),this.addShape(new Ge().setName("thumb"))},updateShapes(){var e=this.centerX,t=this.centerY,s=this.radius,h=s*.9,S=Math.ceil(h/25),E=s*.1,n=Math.PI*2*this.value;this.getShape("track").lineStyle(S,this.color,.7).setRadius(h).setCenterPosition(e,t),this.getShape("thumb").fillStyle(this.color).setRadius(E).setCenterPosition(e+Math.cos(n)*h,t+Math.sin(n)*h)}},j8={buildShapes(){this.addShape(new Ge().setName("track")),this.addShape(new Bs().setName("arc"))},updateShapes(){var e=this.centerX,t=this.centerY,s=this.radius,h=Math.ceil(s/25),S=s-h/2;this.getShape("track").lineStyle(h,this.color,.5).setRadius(S).setCenterPosition(e,t);var E=this.value*360,n=E+60;this.getShape("arc").lineStyle(h,this.color,1).setRadius(S).setCenterPosition(e,t).setAngle(E,n)}},q8=Phaser.Math.Linear,_8={buildShapes(){for(var e=0;e<4;e++){var t=new Bs().setPie();this.addShape(t),t.setData("speed",q8(180,360,Math.random()))}this.prevValue=void 0},updateShapes(){var e=this.centerX,t=this.centerY,s=this.radius,h;this.prevValue!==void 0&&(h=this.value-this.prevValue,this.prevValue>this.value&&(h+=1));for(var S=this.getShapes(),E=0,n=S.length;E<n;E++){var T=S[E],i=(E+1)/n;if(this.prevValue===void 0){var f=E/n*360,y=f+90;T.fillStyle(this.color,i).setRadius(s).setCenterPosition(e,t).setAngle(f,y).setData("angle",f)}else{var f=T.getData("angle")+T.getData("speed")*h;f=f%360;var y=f+90;T.fillStyle(this.color,i).setRadius(s).setCenterPosition(e,t).setAngle(f,y).setData("angle",f)}}this.prevValue=this.value}},tN={buildShapes(){this.addShape(new Ge)},updateShapes(){var e=this.centerX,t=this.centerY,s=this.radius,h=s*this.value,S=Math.ceil(s/25),E=It(this.value);this.getShapes()[0].lineStyle(S,this.color,E).setRadius(h).setCenterPosition(e,t)}},eN=Phaser.Math.Linear,iN=Phaser.Math.Easing.Expo.In,sN={buildShapes(){this.addShape(new Ge().setName("center")),this.addShape(new me().setName("arc0")),this.addShape(new me().setName("arc1")),this.isInitialize=!0},updateShapes(){for(var e=this.centerX,t=this.centerY,s=this.radius,h=this.isInitialize||this.isSizeChanged,S=s*2/6,E=e-s+S,n=t+s-S,T=this.getShapes(),i=0,f=T.length;i<f;i++){var y=T[i],c=(this.value+(f-i)*.1)%1;c=iN(It(c));var o=eN(.25,1,c);switch(y.name){case"center":y.fillStyle(this.color,o),h&&y.setRadius(S).setCenterPosition(E,n);break;case"arc0":if(y.fillStyle(this.color,o),h){var l=S*2,a=S*3;y.startAt(E,n-l).lineTo(E,n-a).setIterations(8).arc(E,n,a,270,360).lineTo(E+l,n).setIterations(6).arc(E,n,l,360,270,!0).close()}break;case"arc1":if(y.fillStyle(this.color,o),h){var l=S*4,a=S*5;y.startAt(E,n-l).lineTo(E,n-a).setIterations(8).arc(E,n,a,270,360).lineTo(E+l,n).setIterations(6).arc(E,n,l,360,270,!0).close()}break}}this.isInitialize=!1}},rN={buildShapes(){for(var e=0;e<2;e++)this.addShape(new Ge)},updateShapes(){for(var e=this.centerX,t=this.centerY,s=this.radius,h=Math.ceil(s/25),S=s-h,E=this.getShapes(),n=0,T=E.length;n<T;n++){var i=E[n],f=(this.value+n/T)%1,y=It(f);i.lineStyle(h,this.color,y).setRadius(f*S).setCenterPosition(e,t)}}},nN={buildShapes(){this.addShape(new Bs().setName("arc"))},updateShapes(){var e=this.centerX,t=this.centerY,s=this.radius,h=Math.ceil(s/10),S=s-h,E=this.value*720,n=It(this.value)*180,T=E-n;this.getShape("arc").lineStyle(h,this.color,1).setRadius(S).setCenterPosition(e,t).setAngle(T+315,E+315)}};Phaser.Utils.Objects.GetValue;const Av={leftArrow:Il,rightArrow:Il,upArrow:Il,downArrow:Il,audio:w8,ball:b8,bars:D8,box:B8,clock:V8,cube:z8,dots:Y8,facebook:H8,grid:$8,hearts:K8,ios:J8,oribit:Q8,oval:j8,pie:_8,puff:tN,radio:sN,rings:rN,spinner:nN},Lv=[];for(var aN in Av)Lv.push(aN);const dC=Phaser.Utils.Array.GetRandom,hN={setAnimationMode(e,t){Av.hasOwnProperty(e)||(e=dC(Lv)),this.animationMode=e;var s=Av[e];switch(t&&this.resetFromConfig(t),e){case"leftArrow":s.setDirection.call(this,"left");break;case"rightArrow":s.setDirection.call(this,"right");break;case"upArrow":s.setDirection.call(this,"up");break;case"downArrow":s.setDirection.call(this,"down");break}return this.clear(),s.buildShapes.call(this),this.updateShapes=s.updateShapes.bind(this),this.stop().start(),this},setRandomAnimationMode(e){var t=dC(Lv);return this.setAnimationMode(t,e),this}},oN=Phaser.Utils.Objects.GetValue,Am=class Am extends ku{constructor(t,s){super(t,s),this.type="rexSpinnerAIO",this.setAnimationMode(oN(s,"animationMode"))}};r(Am,"AIO");let ao=Am;Object.assign(ao.prototype,hN);st.register("aioSpinner",function(e){var t=new ao(this.scene,e);return this.scene.add.existing(t),t});it(window,"RexPlugins.UI.AIOSpinner",ao);const lN={setTransitionStartCallback(e,t){return this.onStartCallback=e,this.onStartCallbackScope=t,this},setTransitionProgressCallback(e,t){return this.onProgressCallback=e,this.onProgressCallbackScope=t,this},setTransitionCompleteCallback(e,t){return this.onCompleteCallback=e,this.onCompleteCallbackScope=t,this}};var aR=r(function(){for(var e=this.scaleMode-1,t=0,s=this.images.length;t<s;t++){var h=this.images[t],S=vg(h,this,e,!0),E=S.width/h.width;this.setChildLocalScale(h,E),h.biasScale=E}},"FitImages"),du=r(function(e){this.scaleMode===0?this.resize(e.width,e.height):aR.call(this)},"OnTextureChange");const fC=Phaser.Utils.Objects.IsPlainObject,jf=Phaser.Utils.Objects.GetValue,uN=Phaser.Utils.Array.GetRandom;var dN={out:0,in:1},Ci=r(function(e,t,...s){for(var h=0,S=s.length;h<S;h++){var E=s[h];if(E&&E.hasOwnProperty(e))return E[e]}return t},"GetValueFromConfigs");const fN={setTransitionDirection(e){return typeof e=="string"&&(e=dN[e]),this.dir=e,this},setDuration(e){return this.duration=e,this},setEaseFunction(e){return this.easeFunction=e,this},setNextTexture(e,t){return this.nextImage.setTexture(e,t),du.call(this,this.nextImage),this},transit(e,t,s){if(this.isRunning&&(this.ignoreCompleteEvent=!0,this.stop(),this.ignoreCompleteEvent=!1),s!==void 0&&(e={key:e,frame:t,mode:s}),this.currentTransitionMode=void 0,fC(e)){var h=e;e=jf(h,"key",void 0),t=jf(h,"frame",void 0),s=jf(h,"mode"),Array.isArray(s)&&(s=uN(s));var S;this.transitionModes&&this.transitionModes.hasOwnProperty(s)&&(S=this.transitionModes[s],this.currentTransitionMode=s),this.setDuration(Ci("duration",this.duration,h,S)).setEaseFunction(Ci("ease",this.easeFunction,h,S)).setTransitionDirection(Ci("dir",this.dir,h,S));var E=Ci("mask",void 0,h,S);E&&this.setMaskGameObject(E),this.setMaskEnable(E===!0);var n=Ci("onStart",void 0,h,S),T=Ci("onProgress",void 0,h,S),i=Ci("onComplete",void 0,h,S);(n!==void 0||T!==void 0||i!==void 0)&&this.setTransitionStartCallback(n,Ci("onStartScope",void 0,h,S)).setTransitionProgressCallback(T,Ci("onProgressScope",void 0,h,S)).setTransitionCompleteCallback(i,Ci("onCompleteScope",void 0,h,S))}return this.setNextTexture(e,t),this.start(),this},addTransitionMode(e,t){return this.transitionModes===void 0&&(this.transitionModes={}),fC(e)&&(t=e,e=t.name,delete t.name),this.transitionModes[e]=t,this},start(){return this.easeValueTask===void 0&&(this.easeValueTask=new vi(this,{eventEmitter:null})),this.easeValueTask.restart({key:"t",from:0,to:1,duration:this.duration,ease:this.easeFunction}),this},pause(){return this.easeValueTask&&this.easeValueTask.pause(),this},resume(){return this.easeValueTask&&this.easeValueTask.resume(),this},stop(){return this.easeValueTask&&this.easeValueTask.stop(),this.setT(1),this}};var cC=r(function(e,t,s,h,S){switch(this.clear().fillStyle(16777215),this.shapeType){case 1:s=s.left;var E=Math.min(e,t)/2;this.fillCircle(-e*(h-.5),-t*(S-.5),E+s);break;default:this.fillRect(-(e*h)-s.left,-(t*S)-s.top,e+s.left+s.right,t+s.top+s.bottom);break}},"DrawShape");const cN=Phaser.GameObjects.Graphics,Lm=class Lm extends cN{constructor(t,s,h){s===void 0&&(s=0),typeof s=="string"&&(s=vN[s]),super(t.scene),this.parent=t,this.shapeType=s,this.padding=Gs(h),this.setPosition().resize().setVisible(!1)}destroy(){return this.parent=void 0,super.destroy(),this}setPosition(t,s){var h=this.parent;return t===void 0&&(t=h.x),s===void 0&&(s=h.y),super.setPosition(t,s),this}resize(t,s,h){var S=this.parent;t===void 0&&(t=S.width),s===void 0&&(s=S.height),h===void 0?h=this.padding:typeof h=="number"&&(h=Gs(h));var E=this.width!==t||this.height!==s,n=this.padding!==h&&!Gd(this.padding,h);return!E&&!n?this:(this.width=t,this.height=s,n&&Fi(h,this.padding),this.originX=S.originX,this.originY=S.originY,cC.call(this,t,s,h,S.originX,S.originY),this)}setOrigin(t,s){s===void 0&&(s=t);var h=this.parent;return t===void 0&&(t=h.originX),s===void 0&&(s=h.originY),this.originX===t&&this.originY===s?this:(this.originX=t,this.originY=s,cC.call(this,this.width,this.height,this.padding,t,s),this)}};r(Lm,"DefaultMaskGraphics");let ho=Lm;const vN={rectangle:0,circle:1},pN={setMaskGameObject(e){if(!e)return this.removeMaskGameObject(),this;if(this.maskGameObject){if(e===!0&&this.maskGameObject instanceof ho)return this;if(this.maskGameObject===e)return this;this.removeMaskGameObject()}return e===!0&&(e=new ho(this)),e.resize(this.width,this.height).setOrigin(this.originX,this.originY).setPosition(0,0).setScale(1).setVisible(!1),this.addLocal(e),this.maskGameObject=e,e._maskObject||(e._maskObject=e.createGeometryMask(),e.once("destroy",function(){e._maskObject.destroy(),e._maskObject=void 0})),this.childrenMask=e._maskObject,this},removeMaskGameObject(e){return e===void 0&&(e=!0),this.backImage.clearMask(),this.frontImage.clearMask(),this.childrenMask=void 0,this.remove(this.maskGameObject,e),this.maskGameObject=void 0,this},setImageMaskEnable(e,t,s){return t===void 0&&(t=!0),s===void 0&&(s=!1),t?(this.childrenMask||this.setMaskGameObject(!0),e.setMask(this.childrenMask),this.childrenMask.setInvertAlpha(s)):e.clearMask(),this},setCurrentImageMaskEnable(e,t){return this.setImageMaskEnable(this.currentImage,e,t),this},setNextImageMaskEnable(e,t){return this.setImageMaskEnable(this.nextImage,e,t),this},setCellImagesMaskEnable(e,t){for(var s=this.getCellImages(),h=0,S=s.length;h<S;h++)this.setImageMaskEnable(s[h],e,t);return this},setMaskEnable(e,t){return this.setImageMaskEnable(this.backImage,e,t),this.setImageMaskEnable(this.frontImage,e,t),this.setCellImagesMaskEnable(e,t),this}};var gN=r(function(e,t){typeof e=="object"&&(e=e.name),t===void 0&&(t=",");var s;return e==="__BASE"?s=r(function(h,S){return`${h}${t}${S}`},"callback"):s=r(function(h,S){return`${e}_${h}${t}${S}`},"callback"),s},"GetFrameNameCallback"),mN=r(function(e,t,s,h,S,E){s==null&&(s="__BASE"),E||(E=gN(s,E));for(var n=e.sys.textures.get(t),T=typeof s=="object"?s:n.get(s),i=T.width,f=T.height,y,c,o,l=i/h,a=f/S,u=T.cutX,v=T.cutY,d=0,p=0,g=0;g<S;g++){d=0;for(var m=0;m<h;m++)o=E(m,g),y=d+u,c=p+v,n.add(o,0,y,c,l,a),d+=l;p+=a}return{getFrameNameCallback:E,cellWidth:l,cellHeight:a,columns:h,rows:S}},"GenerateFrames");const Hi=Phaser.Utils.Objects.GetValue,xN=Phaser.GameObjects.Image,yN=Phaser.Utils.Objects.IsPlainObject,SN=Phaser.Math.RotateAround;var TN=r(function(e,t,s,h){yN(t)&&(h=t,t=Hi(h,"columns",1),s=Hi(h,"rows",1));var S=Hi(h,"createImageCallback");if(!S){var E=Hi(h,"ImageClass",xN);S=r(function(B,G,N){return new E(B,0,0,G,N)},"createImageCallback")}for(var n=Hi(h,"originX",.5),T=Hi(h,"originY",.5),i=Hi(h,"add",!0),f=Hi(h,"align",i),y=Hi(h,"objectPool",void 0),c=e.scene,o=e.texture,l=e.frame,a=mN(c,o,l,t,s),u=a.getFrameNameCallback,v=e.scaleX,d=e.scaleY,p=e.rotation,g=e.getTopLeft(),m=g.x,x=g.y,C=[],P=a.cellWidth*v,A=a.cellHeight*d,R=0;R<s;R++)for(var L=0;L<t;L++){var O,w=u(L,R);if(y&&y.length>0?O=y.pop().setTexture(o,w):O=S(c,o,w),i&&c.add.existing(O),f){var b=m+P*L,F=x+A*R,M=b+n*P,I=F+T*A;O.setOrigin(n,T).setPosition(M,I).setScale(v,d).setRotation(p),SN(O,m,x,p)}C.push(O)}return C},"GridCutImage");const CN={gridCutImage(e,t,s,h){h===void 0&&(h={}),h.objectPool=this.imagesPool;for(var S=TN(e,t,s,h),E,n=0,T=S.length;n<T;n++)E=S[n],E.setVisible(!0),this.add(E);return this.cellImages=S,this.setChildLocalVisible(e,!1),S},gridCutCurrentImage(e,t,s){return this.gridCutImage(this.currentImage,e,t,s)},gridCutNextImage(e,t,s){return this.gridCutImage(this.nextImage,e,t,s)},getCellImages(){return this.cellImages},freeCellImages(){if(this.cellImages.length===0)return this;for(var e=this.cellImages[0].texture,t=this.cellImages,s,h,S=0,E=t.length;S<E;S++)s=t[S],this.setChildLocalAlpha(s,1).setChildLocalScale(s,1).setChildLocalVisible(s,!1),s.clearMask(),h=s.frame.name,s.setTexture(),e.remove(h);return this.imagesPool.push(...t),t.length=0,this}},hR={setFlipX(e){return this.flipX=e,this},setFlipY(e){return this.flipY=e,this},toggleFlipX(){return this.flipX=!this.flipX,this},toggleFlipY(){return this.flipY=!this.flipY,this},setFlip(e,t){return this.flipX=e,this.flipY=t,this},resetFlip(){return this.flipX=!1,this.flipY=!1,this}};var oR={};Object.assign(oR,lN,fN,pN,CN,hR);var EN=r(function(e,t,s,h){},"OnStart"),PN=r(function(e,t,s,h){e.setChildLocalAlpha(t,1-h).setChildLocalAlpha(s,h)},"OnProgress"),RN=r(function(e,t,s,h){e.setChildLocalAlpha(t,1)},"OnComplete");const vC=Phaser.Utils.Objects.IsPlainObject,te=Phaser.Utils.Objects.GetValue,AN=Phaser.Math.Clamp,Om=class Om extends Ae{constructor(t,s,h,S,E,n){vC(s)?(n=s,s=te(n,"x",0),h=te(n,"y",0),S=te(n,"key",void 0),E=te(n,"frame",void 0)):vC(E)&&(n=E,E=void 0);var T=te(n,"back",void 0),i=te(n,"front",void 0);T||(T=t.add.image(s,h,S,E)),i||(i=t.add.image(s,h,S,E));var f=te(n,"width",void 0),y=te(n,"height",void 0),c=f!==void 0&&y!==void 0?1:0;f===void 0&&(f=i.width),y===void 0&&(y=i.height),super(t,s,h,f,y),this.type="rexTransitionImage",this._flipX=!1,this._flipY=!1,c=te(n,"scaleMode",c),typeof c=="string"&&(c=LN[c]),this.scaleMode=c,T.setVisible(!1),this.addMultiple([T,i]),this.backImage=T,this.frontImage=i,this.images=[this.backImage,this.frontImage],this.maskGameObject=void 0,this.cellImages=[],this.imagesPool=[],this.transitionModes=void 0,this.currentTransitionMode=void 0;var o=te(n,"onStart",void 0),l=te(n,"onProgress",void 0),a=te(n,"onComplete",void 0),u=te(n,"dir",0);o===void 0&&l===void 0&&a===void 0&&(o=EN,l=PN,a=RN,u=0),this.setTransitionStartCallback(o,te(n,"onStartScope",void 0)).setTransitionProgressCallback(l,te(n,"onProgressScope",void 0)).setTransitionCompleteCallback(a,te(n,"onCompleteScope",void 0)).setTransitionDirection(u).setDuration(te(n,"duration",1e3)).setEaseFunction(te(n,"ease","Linear"));var v=te(n,"mask",void 0);v&&this.setMaskGameObject(v),this.setMaskEnable(!1),this.ignoreCompleteEvent=!1,du.call(this,this.frontImage)}destroy(t){!this.scene||this.ignoreDestroy||(this.childrenMask&&(this.childrenMask.destroy(),this.childrenMask=void 0),this.backImage=void 0,this.frontImage=void 0,this.images.length=0,this.maskGameObject=void 0,this.cellImages.length=0,this.imagesPool.length=0,this.transitionModes=void 0,super.destroy(t),this.onStartCallback=void 0,this.onStartCallbackScope=void 0,this.onProgressCallback=void 0,this.onProgressCallbackScope=void 0,this.onCompleteCallback=void 0,this.onCompleteCallbackScope=void 0,this.easeValueTask=void 0)}get currentImage(){return this.dir===0?this.frontImage:this.backImage}get nextImage(){return this.dir===0?this.backImage:this.frontImage}get texture(){return this.nextImage.texture}get frame(){return this.nextImage.frame}get tint(){return this._tint}set tint(t){this._tint!==t&&(this._tint=t,this.backImage.setTint(t),this.frontImage.setTint(t))}setTint(t){return this.tint=t,this}get flipX(){return this._flipX}set flipX(t){this._flipX!==t&&(this._flipX=t,this.backImage.setFlipX(t),this.frontImage.setFlipX(t))}setFlipX(t){return this.flipX=t,this}toggleFlipX(){return this.flipX=!this.flipX,this}get flipY(){return this._flipY}set flipY(t){this._flipY!==t&&(this._flipY=t,this.backImage.setFlipY(t),this.frontImage.setFlipY(t))}setFlipY(t){return this.flipY=t,this}toggleFlipY(){return this.flipY=!this.flipY,this}setFlip(t,s){return this.flipX=t,this.flipY=s,this}get t(){return this._t}set t(t){if(t=AN(t,0,1),this._t!==t){this._t=t;var s=this.currentImage,h=this.nextImage;if(t===0&&(this.setChildVisible(this.frontImage,!0).setChildVisible(this.backImage,!0),qf.call(this,this.onStartCallback,this.onStartCallbackScope,this,s,h,t)),qf.call(this,this.onProgressCallback,this.onProgressCallbackScope,this,s,h,t),t===1){qf.call(this,this.onCompleteCallback,this.onCompleteCallbackScope,this,s,h,t);var S=h.texture.key,E=h.frame.name;this.frontImage.setTexture(S,E),this.backImage.setTexture(S,E),du.call(this,h),this.setChildVisible(this.frontImage,!0).setChildVisible(this.backImage,!1).setMaskEnable(!1).freeCellImages()}t===1&&!this.ignoreCompleteEvent&&this.emit("complete")}}setT(t){return this.t=t,this}get isRunning(){return this.easeValueTask?this.easeValueTask.isRunning:!1}setOrigin(t,s){return super.setOrigin(t,s),this.backImage.setOrigin(t,s),this.frontImage.setOrigin(t,s),this.maskGameObject&&this.maskGameObject.setOrigin(t,s),this}setTexture(t,s){return this.frontImage.setTexture(t,s),this.backImage.setTexture(t,s).setVisible(!1),du.call(this,this.frontImage),this}setSize(t,s){return super.setSize(t,s),this.scaleMode&&aR.call(this),this}};r(Om,"TransitionImage");let Ea=Om;var qf=r(function(e,t,s,h,S,E){if(e){if(this.scaleMode){var n;h.biasScale>0&&(n=this.getChildLocalScaleX(h),n=n/h.biasScale,this.setChildLocalScale(h,n)),S.biasScale&&(n=this.getChildLocalScaleX(S),n=n/S.biasScale,this.setChildLocalScale(S,n))}if(t?e.call(t,s,h,S,E):e(s,h,S,E),this.scaleMode){var n;h.biasScale>0&&(n=this.getChildLocalScaleX(h),n=n*h.biasScale,this.setChildLocalScale(h,n)),S.biasScale&&(n=this.getChildLocalScaleX(S),n=n*S.biasScale,this.setChildLocalScale(S,n))}}},"RunCallback");Object.assign(Ea.prototype,oR);const LN={fit:1,FIT:1,envelop:2,ENVELOP:2};st.register("transitionImage",function(e,t,s,h,S){var E=new Ea(this.scene,e,t,s,h,S);return this.scene.add.existing(E),E});it(window,"RexPlugins.UI.TransitionImage",Ea);const ON="slideLeft",wN="slideRight",MN="slideUp",bN="slideDown",IN="slideAwayLeft",FN="slideAwayRight",DN="slideAwayUp",BN="slideAwayDown",GN="pushLeft",NN="pushRight",UN="pushUp",VN="pushDown",WN="zoomOut",zN="zoomIn",YN="zoomInOut",kN="fade",HN="crossFade",XN="wipeLeft",$N="wipeRight",KN="wipeUp",ZN="wipeDown",JN="irisOut",QN="irisIn",jN="irisInOut",qN="pieOut",_N="pieIn",t6="pieInOut",e6="blinds",i6="squares",s6="diamonds",r6="circles",n6="curtain",a6="pixellate",h6="dissolve",o6="revealLeft",l6="revealRight",u6="revealUp",d6="revealDown";var f6=r(function(e){e.addTransitionMode(FN,{ease:"Linear",dir:"out",mask:!0,onStart:r(function(t,s,h,S){},"onStart"),onProgress:r(function(t,s,h,S){var E=s.width*S;t.setChildLocalPosition(s,E,0)},"onProgress"),onComplete:r(function(t,s,h,S){t.setChildLocalPosition(s,0,0)},"onComplete")}).addTransitionMode(IN,{ease:"Linear",dir:"out",mask:!0,onStart:r(function(t,s,h,S){},"onStart"),onProgress:r(function(t,s,h,S){var E=s.width*-S;t.setChildLocalPosition(s,E,0)},"onProgress"),onComplete:r(function(t,s,h,S){t.setChildLocalPosition(s,0,0)},"onComplete")}).addTransitionMode(BN,{ease:"Linear",dir:"out",mask:!0,onStart:r(function(t,s,h,S){},"onStart"),onProgress:r(function(t,s,h,S){var E=s.height*S;t.setChildLocalPosition(s,0,E)},"onProgress"),onComplete:r(function(t,s,h,S){t.setChildLocalPosition(s,0,0)},"onComplete")}).addTransitionMode(DN,{ease:"Linear",dir:"out",mask:!0,onStart:r(function(t,s,h,S){},"onStart"),onProgress:r(function(t,s,h,S){var E=s.height*-S;t.setChildLocalPosition(s,0,E)},"onProgress"),onComplete:r(function(t,s,h,S){t.setChildLocalPosition(s,0,0)},"onComplete")})},"AddSlideAwayModes"),c6=r(function(e){e.addTransitionMode(wN,{ease:"Linear",dir:"in",mask:!0,onStart:r(function(t,s,h,S){},"onStart"),onProgress:r(function(t,s,h,S){var E=h.width*(S-1);t.setChildLocalPosition(h,E,0)},"onProgress"),onComplete:r(function(t,s,h,S){t.setChildLocalPosition(h,0,0)},"onComplete")}).addTransitionMode(ON,{ease:"Linear",dir:"in",mask:!0,onStart:r(function(t,s,h,S){},"onStart"),onProgress:r(function(t,s,h,S){var E=h.width*(1-S);t.setChildLocalPosition(h,E,0)},"onProgress"),onComplete:r(function(t,s,h,S){t.setChildLocalPosition(h,0,0)},"onComplete")}).addTransitionMode(bN,{ease:"Linear",dir:"in",mask:!0,onStart:r(function(t,s,h,S){},"onStart"),onProgress:r(function(t,s,h,S){var E=h.height*(S-1);t.setChildLocalPosition(h,0,E)},"onProgress"),onComplete:r(function(t,s,h,S){t.setChildLocalPosition(h,0,0)},"onComplete")}).addTransitionMode(MN,{ease:"Linear",dir:"in",mask:!0,onStart:r(function(t,s,h,S){},"onStart"),onProgress:r(function(t,s,h,S){var E=h.height*(1-S);t.setChildLocalPosition(h,0,E)},"onProgress"),onComplete:r(function(t,s,h,S){t.setChildLocalPosition(h,0,0)},"onComplete")})},"AddSlideModes"),v6=r(function(e){e.addTransitionMode(NN,{ease:"Linear",dir:"out",mask:!0,onStart:r(function(t,s,h,S){},"onStart"),onProgress:r(function(t,s,h,S){var E=s.width*S;t.setChildLocalPosition(s,E,0);var E=h.width*(S-1);t.setChildLocalPosition(h,E,0)},"onProgress"),onComplete:r(function(t,s,h,S){t.setChildLocalPosition(s,0,0),t.setChildLocalPosition(h,0,0)},"onComplete")}).addTransitionMode(GN,{ease:"Linear",dir:"out",mask:!0,onStart:r(function(t,s,h,S){},"onStart"),onProgress:r(function(t,s,h,S){var E=s.width*-S;t.setChildLocalPosition(s,E,0);var E=h.width*(1-S);t.setChildLocalPosition(h,E,0)},"onProgress"),onComplete:r(function(t,s,h,S){t.setChildLocalPosition(s,0,0),t.setChildLocalPosition(h,0,0)},"onComplete")}).addTransitionMode(VN,{ease:"Linear",dir:"out",mask:!0,onStart:r(function(t,s,h,S){},"onStart"),onProgress:r(function(t,s,h,S){var E=s.height*S;t.setChildLocalPosition(s,0,E);var E=h.height*(S-1);t.setChildLocalPosition(h,0,E)},"onProgress"),onComplete:r(function(t,s,h,S){t.setChildLocalPosition(s,0,0),t.setChildLocalPosition(h,0,0)},"onComplete")}).addTransitionMode(UN,{ease:"Linear",dir:"out",mask:!0,onStart:r(function(t,s,h,S){},"onStart"),onProgress:r(function(t,s,h,S){var E=s.height*-S;t.setChildLocalPosition(s,0,E);var E=h.height*(1-S);t.setChildLocalPosition(h,0,E)},"onProgress"),onComplete:r(function(t,s,h,S){t.setChildLocalPosition(s,0,0),t.setChildLocalPosition(h,0,0)},"onComplete")})},"AddSliderModes"),p6=r(function(e){e.addTransitionMode(WN,{ease:"Linear",dir:"out",mask:!1,onStart:r(function(t,s,h,S){},"onStart"),onProgress:r(function(t,s,h,S){var E=1-S;t.setChildLocalScale(s,E,E)},"onProgress"),onComplete:r(function(t,s,h,S){t.setChildLocalScale(s,1,1)},"onComplete")}).addTransitionMode(zN,{ease:"Linear",dir:"in",mask:!1,onStart:r(function(t,s,h,S){},"onStart"),onProgress:r(function(t,s,h,S){var E=S;t.setChildLocalScale(h,E,E)},"onProgress"),onComplete:r(function(t,s,h,S){t.setChildLocalScale(h,1,1)},"onComplete")}).addTransitionMode(YN,{ease:"Linear",dir:"out",mask:!1,onStart:r(function(t,s,h,S){h.tint=0},"onStart"),onProgress:r(function(t,s,h,S){var E;S<.5?(E=1-It(S),t.setChildLocalScale(s,E,E)):(s.visible&&t.setChildVisible(s,!1),E=1-It(S),t.setChildLocalScale(h,E,E))},"onProgress"),onComplete:r(function(t,s,h,S){t.setChildLocalScale(s,1,1),t.setChildVisible(s,!0),s.tint=16777215,t.setChildLocalScale(h,1,1),t.setChildVisible(h,!0),h.tint=16777215},"onComplete")})},"AddZoomModes"),g6=r(function(e){e.addTransitionMode(kN,{ease:"Linear",dir:"out",mask:!1,onStart:r(function(t,s,h,S){h.tint=0},"onStart"),onProgress:r(function(t,s,h,S){var E;S<.5?(S=It(S),E=Math.floor(255*(1-S)),s.tint=(E<<16)+(E<<8)+E):(s.visible&&t.setChildVisible(s,!1),S=It(S),E=Math.floor(255*(1-S)),h.tint=(E<<16)+(E<<8)+E)},"onProgress"),onComplete:r(function(t,s,h,S){t.setChildVisible(s,!0),s.tint=16777215,t.setChildVisible(h,!0),h.tint=16777215},"onComplete")}).addTransitionMode(HN,{ease:"Linear",dir:"out",mask:!1,onStart:r(function(t,s,h,S){},"onStart"),onProgress:r(function(t,s,h,S){t.setChildLocalAlpha(s,1-S),t.setChildLocalAlpha(h,S)},"onProgress"),onComplete:r(function(t,s,h,S){t.setChildLocalAlpha(s,1)},"onComplete")})},"AddFadeModes"),m6=r(function(e){var t=new ii(e,{type:"Graphics",create:[{name:"rect",type:"rectangle"}],update:r(function(){var s=this.getShape("rect").fillStyle(16777215),h=1-this.value;switch(this.wipeMode){case"right":s.setSize(this.width*h,this.height).setTopLeftPosition(this.width-s.width,0);break;case"left":s.setSize(this.width*h,this.height).setTopLeftPosition(0,0);break;case"down":s.setSize(this.width,this.height*h).setTopLeftPosition(0,this.height-s.height);break;case"up":s.setSize(this.width,this.height*h).setTopLeftPosition(0,0);break}},"update")});return t},"CreateMask$7"),x6=r(function(e){var t=m6(e.scene);e.once("destroy",function(){t.destroy()}).addTransitionMode($N,{ease:"Linear",dir:"out",mask:t,onStart:r(function(s,h,S,E){s.setCurrentImageMaskEnable(!0),s.maskGameObject.wipeMode="right"},"onStart"),onProgress:r(function(s,h,S,E){s.maskGameObject.setValue(E)},"onProgress"),onComplete:r(function(s,h,S,E){s.removeMaskGameObject(!1)},"onComplete")}).addTransitionMode(XN,{ease:"Linear",dir:"out",mask:t,onStart:r(function(s,h,S,E){s.setCurrentImageMaskEnable(!0),s.maskGameObject.wipeMode="left"},"onStart"),onProgress:r(function(s,h,S,E){s.maskGameObject.setValue(E)},"onProgress"),onComplete:r(function(s,h,S,E){s.removeMaskGameObject(!1)},"onComplete")}).addTransitionMode(ZN,{ease:"Linear",dir:"out",mask:t,onStart:r(function(s,h,S,E){s.setCurrentImageMaskEnable(!0),s.maskGameObject.wipeMode="down"},"onStart"),onProgress:r(function(s,h,S,E){s.maskGameObject.setValue(E)},"onProgress"),onComplete:r(function(s,h,S,E){s.removeMaskGameObject(!1)},"onComplete")}).addTransitionMode(KN,{ease:"Linear",dir:"out",mask:t,onStart:r(function(s,h,S,E){s.setCurrentImageMaskEnable(!0),s.maskGameObject.wipeMode="up"},"onStart"),onProgress:r(function(s,h,S,E){s.maskGameObject.setValue(E)},"onProgress"),onComplete:r(function(s,h,S,E){s.removeMaskGameObject(!1)},"onComplete")})},"AddWipeModes"),y6=r(function(e){var t=new ii(e,{type:"Graphics",create:[{name:"rect",type:"rectangle"}],update:r(function(){this.getShape("rect").fillStyle(16777215).setSize(this.width*this.value,this.height*this.value).setCenterPosition(this.centerX,this.centerY)},"update")});return t},"CreateMask$6"),S6=r(function(e){var t=y6(e.scene);e.once("destroy",function(){t.destroy()}).addTransitionMode(JN,{ease:"Linear",dir:"out",mask:t,onStart:r(function(s,h,S,E){s.setCurrentImageMaskEnable(!0,!0)},"onStart"),onProgress:r(function(s,h,S,E){s.maskGameObject.setValue(E)},"onProgress"),onComplete:r(function(s,h,S,E){s.removeMaskGameObject(!1)},"onComplete")}).addTransitionMode(QN,{ease:"Linear",dir:"in",mask:t,onStart:r(function(s,h,S,E){s.setNextImageMaskEnable(!0,!0)},"onStart"),onProgress:r(function(s,h,S,E){s.maskGameObject.setValue(1-E)},"onProgress"),onComplete:r(function(s,h,S,E){s.removeMaskGameObject(!1)},"onComplete")}).addTransitionMode(jN,{ease:"Linear",dir:"out",mask:t,onStart:r(function(s,h,S,E){S.tint=0,s.setCurrentImageMaskEnable(!0),s.setNextImageMaskEnable(!0)},"onStart"),onProgress:r(function(s,h,S,E){var n;E<.5?(E=It(E),n=Math.floor(255*(1-E)),s.maskGameObject.setValue(1-E),h.tint=(n<<16)+(n<<8)+n):(h.visible&&s.setChildVisible(h,!1),E=It(E),n=Math.floor(255*(1-E)),s.maskGameObject.setValue(1-E),S.tint=(n<<16)+(n<<8)+n)},"onProgress"),onComplete:r(function(s,h,S,E){s.removeMaskGameObject(!1),s.setChildVisible(h,!0),h.tint=16777215,s.setChildVisible(S,!0),S.tint=16777215},"onComplete")})},"AddIrisModes"),T6=r(function(e){var t=new ii(e,{type:"Graphics",create:[{name:"pie",type:"arc"}],update:r(function(){var s=Math.max(this.width,this.height)*2,h=90*this.value;this.getShape("pie").fillStyle(16777215).setCenterPosition(this.centerX,0).setRadius(s).setAngle(90-h,90+h).setPie()},"update")});return t},"CreateMask$5"),C6=r(function(e){var t=T6(e.scene);e.once("destroy",function(){t.destroy()}).addTransitionMode(qN,{ease:"Linear",dir:"out",mask:t,onStart:r(function(s,h,S,E){s.setCurrentImageMaskEnable(!0,!0)},"onStart"),onProgress:r(function(s,h,S,E){s.maskGameObject.setValue(E)},"onProgress"),onComplete:r(function(s,h,S,E){s.removeMaskGameObject(!1)},"onComplete")}).addTransitionMode(_N,{ease:"Linear",dir:"in",mask:t,onStart:r(function(s,h,S,E){s.setNextImageMaskEnable(!0,!0)},"onStart"),onProgress:r(function(s,h,S,E){s.maskGameObject.setValue(1-E)},"onProgress"),onComplete:r(function(s,h,S,E){s.removeMaskGameObject(!1)},"onComplete")}).addTransitionMode(t6,{ease:"Linear",dir:"out",mask:t,onStart:r(function(s,h,S,E){S.tint=0,s.setCurrentImageMaskEnable(!0),s.setNextImageMaskEnable(!0)},"onStart"),onProgress:r(function(s,h,S,E){var n;E<.5?(E=It(E),n=Math.floor(255*(1-E)),s.maskGameObject.setValue(1-E),h.tint=(n<<16)+(n<<8)+n):(h.visible&&s.setChildVisible(h,!1),E=It(E),n=Math.floor(255*(1-E)),s.maskGameObject.setValue(1-E),S.tint=(n<<16)+(n<<8)+n)},"onProgress"),onComplete:r(function(s,h,S,E){s.removeMaskGameObject(!1),s.setChildVisible(h,!0),h.tint=16777215,s.setChildVisible(S,!0),S.tint=16777215},"onComplete")})},"AddPieModes"),E6=r(function(e,t){var s=new ii(e,{type:"Graphics",create:{rectangle:t},update:r(function(){for(var h=this.getShapes(),S=this.width/t,E=0;E<t;E++)h[E].fillStyle(16777215).setSize(S*this.value,this.height).setTopLeftPosition(S*E,0)},"update")});return s},"CreateMask$4"),P6=r(function(e){var t=E6(e.scene,10);e.once("destroy",function(){t.destroy()}).addTransitionMode(e6,{ease:"Linear",dir:"out",mask:t,onStart:r(function(s,h,S,E){s.setCurrentImageMaskEnable(!0,!0)},"onStart"),onProgress:r(function(s,h,S,E){s.maskGameObject.setValue(E)},"onProgress"),onComplete:r(function(s,h,S,E){s.removeMaskGameObject(!1)},"onComplete")})},"AddBlindsModes"),R6=r(function(e,t,s){var h=new ii(e,{type:"Graphics",create:{rectangle:t*s},update:r(function(){for(var S=this.getShapes(),E=this.width/t,n=this.height/s,T=0;T<s;T++)for(var i=0;i<t;i++)S[i*s+T].fillStyle(16777215).setSize(E*this.value,n*this.value).setCenterPosition(E*(i+.5),n*(T+.5))},"update")});return h},"CreateMask$3"),A6=r(function(e){var t=R6(e.scene,Math.ceil(e.width/40),Math.ceil(e.height/40));e.once("destroy",function(){t.destroy()}).addTransitionMode(i6,{ease:"Linear",dir:"out",mask:t,onStart:r(function(s,h,S,E){s.setCurrentImageMaskEnable(!0,!0)},"onStart"),onProgress:r(function(s,h,S,E){s.maskGameObject.setValue(E)},"onProgress"),onComplete:r(function(s,h,S,E){s.removeMaskGameObject(!1)},"onComplete")})},"AddSquaresModes"),L6=r(function(e,t,s){var h=new ii(e,{type:"Graphics",create:{lines:t*s},update:r(function(){for(var S=this.getShapes(),E=this.width/(t-1),n=this.height/s,T=n*2,i=E*this.value,f=n*this.value,y=0;y<s;y++)for(var c=0;c<t;c++){var o=c*E,l=y*T+c%2*n;S[c*s+y].fillStyle(16777215).start(o+i,l).lineTo(o,l+f).lineTo(o-i,l).lineTo(o,l-f).lineTo(o+i,l).close()}},"update")});return h},"CreateMask$2"),O6=r(function(e){var t=L6(e.scene,Math.ceil(e.width/60),Math.ceil(e.height/60));e.once("destroy",function(){t.destroy()}).addTransitionMode(s6,{ease:"Linear",dir:"out",mask:t,onStart:r(function(s,h,S,E){s.setCurrentImageMaskEnable(!0,!0)},"onStart"),onProgress:r(function(s,h,S,E){s.maskGameObject.setValue(E)},"onProgress"),onComplete:r(function(s,h,S,E){s.removeMaskGameObject(!1)},"onComplete")})},"AddDiamondsMode"),w6=r(function(e,t,s){var h=new ii(e,{type:"Graphics",create:{circle:t*s},update:r(function(){for(var S=this.getShapes(),E=this.width/(t-1),n=this.height/s,T=n*2,i=Math.max(E,n)*this.value,f=0;f<s;f++)for(var y=0;y<t;y++){var c=y*E,o=f*T+y%2*n;S[y*s+f].fillStyle(16777215).setCenterPosition(c,o).setRadius(i)}},"update")});return h},"CreateMask$1"),M6=r(function(e){var t=w6(e.scene,Math.ceil(e.width/60),Math.ceil(e.height/60));e.once("destroy",function(){t.destroy()}).addTransitionMode(r6,{ease:"Linear",dir:"out",mask:t,onStart:r(function(s,h,S,E){s.setCurrentImageMaskEnable(!0,!0)},"onStart"),onProgress:r(function(s,h,S,E){s.maskGameObject.setValue(E)},"onProgress"),onComplete:r(function(s,h,S,E){s.removeMaskGameObject(!1)},"onComplete")})},"AddCirclesMode"),b6=r(function(e,t){var s=new ii(e,{type:"Graphics",create:{lines:t},update:r(function(){for(var h=this.getShapes(),S=this.width/t,E=S/2,n=0;n<t;n++){var T=S*n,i=this.height*this.value,f=T+E;h[n].fillStyle(16777215).start(T,0).horizontalLineTo(i).arc(f,i,E,180,0,!0).horizontalLineTo(-i).lineTo(T,0).close()}},"update")});return s},"CreateMask"),I6=r(function(e){var t=b6(e.scene,10);e.once("destroy",function(){t.destroy()}).addTransitionMode(n6,{ease:"Linear",dir:"out",mask:t,onStart:r(function(s,h,S,E){S.tint=0,s.setCurrentImageMaskEnable(!0,!0),s.setNextImageMaskEnable(!0,!0)},"onStart"),onProgress:r(function(s,h,S,E){var n;E<.5?(E=It(E),n=Math.floor(255*(1-E)),s.maskGameObject.setValue(E),h.tint=(n<<16)+(n<<8)+n):(h.visible&&s.setChildVisible(h,!1),E=It(E),n=Math.floor(255*(1-E)),s.maskGameObject.setValue(E),S.tint=(n<<16)+(n<<8)+n)},"onProgress"),onComplete:r(function(s,h,S,E){s.removeMaskGameObject(!1),s.setChildVisible(h,!0),h.tint=16777215,s.setChildVisible(S,!0),S.tint=16777215},"onComplete")})},"AddCurtainMode"),F6=r(function(e){e.addTransitionMode(a6,{ease:"Linear",dir:"out",mask:!0,onStart:r(function(t,s,h,S){t.setChildVisible(h,!1),s.effect=s.preFX.addPixelate(0),h.effect=h.preFX.addPixelate(0)},"onStart"),onProgress:r(function(t,s,h,S){if(S<.5){S=It(S);var E=Math.min(s.width,s.height)/5;s.effect.amount=Math.ceil(E*S)}else{s.visible&&t.setChildVisible(s,!1),h.visible||t.setChildVisible(h,!0),S=It(S);var E=Math.min(h.width,h.height)/5;h.effect.amount=Math.ceil(E*S)}},"onProgress"),onComplete:r(function(t,s,h,S){s.preFX.remove(s.effect),delete s.effect,t.setChildVisible(s,!0),h.preFX.remove(h.effect),delete h.effect},"onComplete")})},"AddPixellateMode");const D6=`vec3 mod289(vec3 x) { return x - floor(x * (1.0 / 289.0)) * 289.0; }
vec4 mod289(vec4 x) { return x - floor(x * (1.0 / 289.0)) * 289.0; }
vec4 permute(vec4 x) { return mod289(((x*34.0)+1.0)*x); }
vec4 taylorInvSqrt(vec4 r) { return 1.79284291400159 - 0.85373472095314 * r; }
vec3 fade(vec3 t) { return t*t*t*(t*(t*6.0-15.0)+10.0); }
float Perlin(vec3 P) {
    vec3 i0 = mod289(floor(P)), i1 = mod289(i0 + vec3(1.0));
    vec3 f0 = fract(P), f1 = f0 - vec3(1.0), f = fade(f0);
    vec4 ix = vec4(i0.x, i1.x, i0.x, i1.x), iy = vec4(i0.yy, i1.yy);
    vec4 iz0 = i0.zzzz, iz1 = i1.zzzz;
    vec4 ixy = permute(permute(ix) + iy), ixy0 = permute(ixy + iz0), ixy1 = permute(ixy + iz1);
    vec4 gx0 = ixy0 * (1.0 / 7.0), gy0 = fract(floor(gx0) * (1.0 / 7.0)) - 0.5;
    vec4 gx1 = ixy1 * (1.0 / 7.0), gy1 = fract(floor(gx1) * (1.0 / 7.0)) - 0.5;
    gx0 = fract(gx0); gx1 = fract(gx1);
    vec4 gz0 = vec4(0.5) - abs(gx0) - abs(gy0), sz0 = step(gz0, vec4(0.0));
    vec4 gz1 = vec4(0.5) - abs(gx1) - abs(gy1), sz1 = step(gz1, vec4(0.0));
    gx0 -= sz0 * (step(0.0, gx0) - 0.5); gy0 -= sz0 * (step(0.0, gy0) - 0.5);
    gx1 -= sz1 * (step(0.0, gx1) - 0.5); gy1 -= sz1 * (step(0.0, gy1) - 0.5);
    vec3 g0 = vec3(gx0.x,gy0.x,gz0.x), g1 = vec3(gx0.y,gy0.y,gz0.y),
        g2 = vec3(gx0.z,gy0.z,gz0.z), g3 = vec3(gx0.w,gy0.w,gz0.w),
        g4 = vec3(gx1.x,gy1.x,gz1.x), g5 = vec3(gx1.y,gy1.y,gz1.y),
        g6 = vec3(gx1.z,gy1.z,gz1.z), g7 = vec3(gx1.w,gy1.w,gz1.w);
    vec4 norm0 = taylorInvSqrt(vec4(dot(g0,g0), dot(g2,g2), dot(g1,g1), dot(g3,g3)));
    vec4 norm1 = taylorInvSqrt(vec4(dot(g4,g4), dot(g6,g6), dot(g5,g5), dot(g7,g7)));
    g0 *= norm0.x; g2 *= norm0.y; g1 *= norm0.z; g3 *= norm0.w;
    g4 *= norm1.x; g6 *= norm1.y; g5 *= norm1.z; g7 *= norm1.w;
    vec4 nz = mix(vec4(dot(g0, vec3(f0.x, f0.y, f0.z)), dot(g1, vec3(f1.x, f0.y, f0.z)),
        dot(g2, vec3(f0.x, f1.y, f0.z)), dot(g3, vec3(f1.x, f1.y, f0.z))),
        vec4(dot(g4, vec3(f0.x, f0.y, f1.z)), dot(g5, vec3(f1.x, f0.y, f1.z)),
            dot(g6, vec3(f0.x, f1.y, f1.z)), dot(g7, vec3(f1.x, f1.y, f1.z))), f.z);
    return 2.2 * mix(mix(nz.x,nz.z,f.y), mix(nz.y,nz.w,f.y), f.x);
}
float Perlin(vec2 P) { return Perlin(vec3(P, 0.0)); }
`,B6=`#ifdef GL_FRAGMENT_PRECISION_HIGH
#define highmedp highp
#else
#define highmedp mediump
#endif
precision highmedp float;
// Scene buffer
uniform sampler2D uMainSampler;
uniform sampler2D uMainSampler2;

uniform int resizeMode;
uniform float progress;
uniform float fromRatio;
uniform float toRatio;
varying vec2 outFragCoord;
// Effect parameters
uniform float noiseX;
uniform float noiseY;
uniform float noiseZ;
uniform float fromEdgeStart;
uniform float fromEdgeWidth;
uniform float toEdgeStart;
uniform float toEdgeWidth;

${D6}

vec4 getFromColor (vec2 uv) {
  return texture2D(uMainSampler, uv);
}

vec4 getToColor (vec2 uv) {
  if (resizeMode == 2) {
    //  cover
    return texture2D(uMainSampler2, 0.5 + (vec2(uv.x, 1.0 - uv.y) - 0.5) * vec2(min(fromRatio / toRatio, 1.0), min((toRatio / fromRatio), 1.0)));
  } else if (resizeMode == 1) {
    //  contain
    return texture2D(uMainSampler2, 0.5 + (vec2(uv.x, 1.0 - uv.y) - 0.5) * vec2(max(fromRatio / toRatio, 1.0), max((toRatio / fromRatio), 1.0)));
  } else {
    //  stretch
    return texture2D(uMainSampler2, vec2(uv.x, 1.0 - uv.y));
  }
}

vec4 transition (vec2 uv) {    
  vec4 colorFront = getFromColor(uv);
  vec4 colorTo = getToColor(uv);

  float noise = (Perlin(vec3(uv.x * noiseX, uv.y * noiseY, noiseZ)) + 1.0) / 2.0
    * (1.0 - (fromEdgeStart + fromEdgeWidth + toEdgeStart + toEdgeWidth))
    + (fromEdgeStart + fromEdgeWidth + toEdgeStart + toEdgeWidth) * 0.5;
  vec4 colorResult = colorFront * smoothstep(progress - (fromEdgeStart + fromEdgeWidth), progress - fromEdgeStart, noise)
    + colorTo * smoothstep((1.0 - progress) - (toEdgeStart + toEdgeWidth), (1.0 - progress) - toEdgeStart, (1.0 - noise));
  return colorResult;
}

void main () {
  vec2 uv = outFragCoord;
  gl_FragColor = transition(uv);
}
`,G6=Phaser.Renderer.WebGL.Pipelines.PostFXPipeline,ai=Phaser.Utils.Objects.GetValue,N6=Phaser.Math.Clamp,wm=class wm extends G6{constructor(t){super({name:"rexDissolvePostFx",game:t,renderTarget:!0,fragShader:B6}),this._progress=0,this.toFrame=null,this.targetTexture=null,this.resizeMode=1,this.toRatio=1,this.noiseX=0,this.noiseY=0,this.noiseZ=0,this.fromEdgeStart=.01,this.fromEdgeWidth=.05,this.toEdgeStart=.01,this.toEdgeWidth=.05}resetFromJSON(t){return this.setProgress(ai(t,"progress",0)),this.setTransitionTargetTexture(ai(t,"toTexture","__DEFAULT"),ai(t,"toFrame",void 0),ai(t,"resizeMode",1)),this.setNoise(ai(t,"noiseX",void 0),ai(t,"noiseY",void 0),ai(t,"noiseZ",void 0)),this.setFromEdge(ai(t,"fromEdgeStart",.01),ai(t,"fromEdgeWidth",.05)),this.setToEdge(ai(t,"toEdgeStart",.01),ai(t,"toEdgeWidth",.05)),this}onBoot(){}onPreRender(){this.set1f("progress",this.progress),this.set1i("resizeMode",this.resizeMode),this.set1f("noiseX",this.noiseX),this.set1f("noiseY",this.noiseY),this.set1f("noiseZ",this.noiseZ),this.set1f("fromEdgeStart",this.fromEdgeStart),this.set1f("fromEdgeWidth",this.fromEdgeWidth),this.set1f("toEdgeStart",this.toEdgeStart),this.set1f("toEdgeWidth",this.toEdgeWidth)}onDraw(t){this.set1f("fromRatio",t.width/t.height),this.set1f("toRatio",this.toRatio),this.set1i("uMainSampler2",1),this.bindTexture(this.targetTexture,1),this.bindAndDraw(t)}get progress(){return this._progress}set progress(t){this._progress=N6(t,0,1)}setProgress(t){return this.progress=t,this}setTransitionTargetTexture(t,s,h){t===void 0&&(t="__DEFAULT");var S=this.game.textures.getFrame(t,s);return S||(S=this.game.textures.getFrame("__DEFAULT")),this.toRatio=S.width/S.height,this.toFrame=S,this.targetTexture=S.glTexture,h!==void 0&&(this.resizeMode=h),this}setResizeMode(t){return typeof t=="string"&&(t=U6[t]),this.resizeMode=t,this}setNoise(t,s,h){return t===void 0&&(t=4+Math.random()*6),s===void 0&&(s=4+Math.random()*6),h===void 0&&(h=Math.random()*10),this.noiseX=t,this.noiseY=s,this.noiseZ=h,this}setFromEdge(t,s){return this.fromEdgeStart=t,this.fromEdgeWidth=s,this}setToEdge(t,s){return this.toEdgeStart=t,this.toEdgeWidth=s,this}};r(wm,"DissolvePostFxPipeline");let Lh=wm;var U6={stretch:0,contain:1,cover:2},V6=r(function(e,t,s){vr(e).renderer.pipelines.addPostPipeline(t,s)},"RegisterPostPipeline"),W6=r(function(e,t,s){s===void 0&&(s={}),e.setPostPipeline(t);var h=e.postPipelines[e.postPipelines.length-1];return h.resetFromJSON(s),s.name&&(h.name=s.name),h},"AddPostFxPipelineInstance");const z6=Phaser.Utils.Array.SpliceOne;var Y6=r(function(e,t,s){for(var h,S,E,h=e.postPipelines,S=h.length-1;S>=0;S--){var E=h[S];E instanceof t&&(E.destroy(),z6(h,S))}},"RemovePostFxPipelineInstance"),k6=r(function(e){V6(e.scene.game,"rexDissolvePostFx",Lh),e.addTransitionMode(h6,{ease:"Linear",dir:"out",mask:!1,onStart:r(function(t,s,h,S){s.effect=W6(s,Lh)},"onStart"),onProgress:r(function(t,s,h,S){s.effect.setProgress(S)},"onProgress"),onComplete:r(function(t,s,h,S){Y6(s,Lh),delete s.effect},"onComplete")})},"AddDissolveMode");const Fl=.1,H6=0,X6=0,$6=1,K6=1,pC=0,gC=1;var Z6=r(function(e){e.addTransitionMode(l6,{ease:"Linear",dir:"in",mask:!1,onStart:r(function(t,s,h,S){h.effect=h.preFX.addReveal(Fl,H6,pC)},"onStart"),onProgress:r(function(t,s,h,S){h.effect.progress=S},"onProgress"),onComplete:r(function(t,s,h,S){h.preFX.remove(h.effect),delete h.effect},"onComplete")}).addTransitionMode(o6,{ease:"Linear",dir:"in",mask:!1,onStart:r(function(t,s,h,S){h.effect=h.preFX.addReveal(Fl,$6,pC)},"onStart"),onProgress:r(function(t,s,h,S){h.effect.progress=S},"onProgress"),onComplete:r(function(t,s,h,S){h.preFX.remove(h.effect),delete h.effect},"onComplete")}).addTransitionMode(d6,{ease:"Linear",dir:"in",mask:!1,onStart:r(function(t,s,h,S){h.effect=h.preFX.addReveal(Fl,X6,gC)},"onStart"),onProgress:r(function(t,s,h,S){h.effect.progress=S},"onProgress"),onComplete:r(function(t,s,h,S){h.preFX.remove(h.effect),delete h.effect},"onComplete")}).addTransitionMode(u6,{ease:"Linear",dir:"in",mask:!1,onStart:r(function(t,s,h,S){h.effect=h.preFX.addReveal(Fl,K6,gC)},"onStart"),onProgress:r(function(t,s,h,S){h.effect.progress=S},"onProgress"),onComplete:r(function(t,s,h,S){h.preFX.remove(h.effect),delete h.effect},"onComplete")})},"AddRevealModes");const mC=[f6,c6,v6,p6,g6,S6,C6,x6,P6,A6,O6,M6,I6,F6,k6,Z6],Mm=class Mm extends Ea{constructor(t,s,h,S,E,n){super(t,s,h,S,E,n);for(var T=0,i=mC.length;T<i;T++)mC[T](this)}};r(Mm,"TransitionImagePack");let Tr=Mm;st.register("transitionImagePack",function(e,t,s,h,S){var E=new Tr(this.scene,e,t,s,h,S);return this.scene.add.existing(E),E});it(window,"RexPlugins.UI.TransitionImagePack",Tr);var J6=r(function(){var e=this.image;if(!this.scaleUp&&e.width<=this.width&&e.height<=this.height)return this;var t=vg(e,this,"FIT",!0);return e.setDisplaySize(t.width,t.height),this.resetChildScaleState(e),this},"ScaleImage"),lR={scaleImage:J6};Object.assign(lR,hR);var Q6=r(function(){var e=this.background;return e?(e.setOrigin(this.originX,this.originY),e.setPosition(this.x,this.y),Pe(e,this.displayWidth,this.displayHeight),this.resetChildScaleState(e),this):this},"ResizeBackground");const xC=Phaser.Utils.Objects.IsPlainObject,Xi=Phaser.Utils.Objects.GetValue,bm=class bm extends Ae{constructor(t,s,h,S,E,n){xC(s)?(n=s,s=Xi(n,"x",0),h=Xi(n,"y",0),S=Xi(n,"key",void 0),E=Xi(n,"frame",void 0)):xC(E)&&(n=E,E=void 0);var T=Xi(n,"image");T?T.setPosition(s,h).setOrigin(.5):(T=t.add.image(s,h,S,E),S===void 0&&T.setVisible(!1)),super(t,s,h,1,1),this.type="rexImageBox";var i=Xi(n,"background");i&&this.add(i),this.background=i,this.add(T),this.image=T,this.scaleUp=Xi(n,"scaleUp",!1);var f=Xi(n,"width",T.width),y=Xi(n,"height",T.height);this.resize(f,y)}get texture(){return this.image.texture}get frame(){return this.image.frame}get flipX(){return this._flipX}set flipX(t){this._flipX!==t&&(this._flipX=t,this.image.setFlipX(t))}get flipY(){return this._flipY}set flipY(t){this._flipY!==t&&(this._flipY=t,this.image.setFlipY(t))}resize(t,s){return super.resize(t,s),Q6.call(this),this.scaleImage(),this}setTexture(t,s){var h=this.image;return h.setTexture(t,s),t!==null?(this.setChildVisible(h,!0),this.scaleImage()):this.setChildVisible(h,!1),this}};r(bm,"ImageBox");let Pa=bm;Object.assign(Pa.prototype,lR);st.register("imageBox",function(e,t,s,h,S){var E=new Pa(this.scene,e,t,s,h,S);return this.scene.add.existing(E),E});it(window,"RexPlugins.UI.ImageBox",Pa);st.register("fullWindowRectangle",function(e,t){var s=new to(this.scene,e,t);return this.scene.add.existing(s),s});it(window,"RexPlugins.UI.FullWindowRectangle",to);st.register("fullWindowZone",function(){var e=new Vp(this.scene);return this.scene.add.existing(e),e});it(window,"RexPlugins.UI.FullWindowZone",Vp);st.register("cover",function(e){var t=new eo(this.scene,e);return this.scene.add.existing(t),t});it(window,"RexPlugins.UI.Cover",eo);var mg=r(function(e,t){if(this.scene.sys.scale.autoRound&&(e=Math.floor(e),t=Math.floor(t)),this.width===e&&this.height===t)return this;var s=this.node.style;return s.width=`${e}px`,s.height=`${t}px`,this.updateSize(),this},"Resize");const yC={id:["id",void 0],text:["value",void 0],maxLength:["maxLength",void 0],minLength:["minLength",void 0],placeholder:["placeholder",void 0],tooltip:["title",void 0],readOnly:["readOnly",!1],spellCheck:["spellcheck",!1],autoComplete:["autocomplete","off"]},SC={align:["textAlign",void 0],paddingLeft:["padding-left",void 0],paddingRight:["padding-right",void 0],paddingTop:["padding-top",void 0],paddingBottom:["padding-bottom",void 0],fontFamily:["fontFamily",void 0],fontSize:["font-size",void 0],color:["color","#ffffff"],backgroundColor:["backgroundColor","transparent"],border:["border",0],borderColor:["borderColor","transparent"],borderRadius:["border-radius",void 0],outline:["outline","none"],direction:["direction",void 0]},j6={input:"textchange",click:"click",dblclick:"dblclick",mousedown:"pointerdown",mousemove:"pointermove",mouseup:"pointerup",touchstart:"pointerdown",touchmove:"pointermove",touchend:"pointerup",keydown:"keydown",keyup:"keyup",keypress:"keypress",compositionstart:"compositionStart",compositionend:"compositionEnd",compositionupdate:"compositionUpdate",focus:"focus",blur:"blur",select:"select"},TC=Phaser.Utils.Objects.GetValue;var uR=r(function(e,t,s,h){var S=TC(h,"preventDefault",!1),E=TC(h,"preTest");for(let n in s)t.addEventListener(n,function(T){(!E||E(e,n))&&e.emit(s[n],e,T),S&&T.preventDefault()})},"RouteEvents");const q6=Phaser.GameObjects.DOMElement,CC=Phaser.Utils.Objects.IsPlainObject,Ei=Phaser.Utils.Objects.GetValue,Im=class Im extends q6{constructor(t,s,h,S,E,n){CC(s)?(n=s,s=Ei(n,"x",0),h=Ei(n,"y",0),S=Ei(n,"width",0),E=Ei(n,"height",0)):CC(S)&&(n=S,S=Ei(n,"width",0),E=Ei(n,"height",0)),n===void 0&&(n={});var T,i=Ei(n,"inputType",void 0);i===void 0&&(i=Ei(n,"type","text")),i==="textarea"?(T=document.createElement("textarea"),T.style.resize="none"):(T=document.createElement("input"),T.type=i),Ou(yC,n,T);var f=Ei(n,"style",void 0);f=Ou(SC,n,f);var y=T.style;for(var c in n)c in yC||c in SC||c in y&&(f[c]=n[c]);f["box-sizing"]="border-box",super(t,s,h,T,f),this.type="rexInputText",this.resize(S,E),uR(this,T,j6),AP(T),Ei(n,"selectAll",!1)&&this.selectAll(),this._isFocused=!1,this.on("focus",function(){this._isFocused=!0},this).on("blur",function(){this._isFocused=!1},this)}get inputType(){return this.node.tagName.toLowerCase()==="textarea"?"textarea":this.node.type}get text(){return this.node.value}set text(t){this.node.value=t}setText(t){return this.text=t,this}get maxLength(){return this.node.maxLength}set maxLength(t){this.node.maxLength=t}setMaxLength(t){return this.maxLength=t,this}get minLength(){return this.node.minLength}set minLength(t){this.node.minLength=t}setMinLength(t){return this.minLength=t,this}get placeholder(){return this.node.placeholder}set placeholder(t){this.node.placeholder=t}setPlaceholder(t){return this.placeholder=t,this}selectText(t,s){return t===void 0?this.node.select():this.node.setSelectionRange(t,s),this}selectAll(){return this.selectText(),this}get selectionStart(){return this.node.selectionStart}get selectionEnd(){return this.node.selectionEnd}get selectedText(){var t=this.node;return t.value.substring(t.selectionStart,t.selectionEnd)}get cursorPosition(){return this.node.selectionStart}set cursorPosition(t){this.node.setSelectionRange(t,t)}setCursorPosition(t){return t===void 0?t=this.text.length:t<0&&(t=this.text.length+t),this.cursorPosition=t,this}get tooltip(){return this.node.title}set tooltip(t){this.node.title=t}setTooltip(t){return this.tooltip=t,this}setTextChangedCallback(t){return this.onTextChanged=t,this}get readOnly(){return this.node.readOnly}set readOnly(t){this.node.readOnly=t}setReadOnly(t){return t===void 0&&(t=!0),this.readOnly=t,this}get spellCheck(){return this.node.spellcheck}set spellCheck(t){this.node.spellcheck=t}setSpellCheck(t){return this.spellCheck=t,this}get fontColor(){return this.node.style.color}set fontColor(t){this.node.style.color=t}setFontColor(t){return this.fontColor=t,this}setStyle(t,s){return this.node.style[t]=s,this}getStyle(t){return this.node.style[t]}scrollToBottom(){return this.node.scrollTop=this.node.scrollHeight,this}setEnabled(t){return t===void 0&&(t=!0),this.node.disabled=!t,this}setBlur(){return this.node.blur(),this}setFocus(){return this.node.focus(),this}get isFocused(){return this._isFocused}};r(Im,"InputText");let as=Im;var _6={resize:mg};Object.assign(as.prototype,_6);st.register("inputText",function(e){var t=new as(this.scene,e);return this.scene.add.existing(t),t});it(window,"RexPlugins.UI.InputText",as);const EC=Phaser.Utils.Objects.GetValue;var t7=r(function(e,t){var s=document.createElement("input");s.type="file";var h=EC(t,"accept",""),S=EC(t,"multiple",!1);return s.setAttribute("accept",h),S?s.setAttribute("multiple",""):s.removeAttribute("multiple"),s},"CreateFileInput"),dR=r(function(e,t){return e===void 0&&(e=0),new Promise(function(s,h){setTimeout(function(){s(t)},e)})},"Delay"),fR=r(function({game:e,fileInput:t,closeDelay:s}){return Bd(vr(e).events,"focus").then(function(){return dR(s)}).then(function(){var h={files:t.files};return Promise.resolve(h)})},"ClickPromise");const e7=Phaser.Utils.Objects.GetValue,i7=Phaser.DOM.RemoveFromDOM;var cR=r(function(e,t){var s=e7(t,"closeDelay",200),h=t7(e,t);return h.click(),fR({game:e,fileInput:h,closeDelay:s}).then(function(S){return i7(h),h.remove(),Promise.resolve(S)})},"Open$1"),vR=r(function(e){return this.setOrigin(e.originX,e.originY),this.setPosition(e.x,e.y),this.resize(e.displayWidth,e.displayHeight),this},"SyncTo"),s7=r(function(e,t,s){if(s===void 0)switch(t){case"image":case"svg":s="textures";break;case"animation":s="json";break;case"tilemapTiledJSON":case"tilemapCSV":s="tilemap";break;case"glsl":s="shader";break;default:s=t;break}e=vr(e);var h;return s==="textures"?h=e.textures:h=e.cache[s],h},"GetCache"),pR=r(function(e,t,s,h,S,E){if(!(S===null||S===!1))if(ns(S))S();else{var n=s7(e,s,S);n.exists(h)&&n.remove(h)}var T=e.load;if(E&&T.once(`filecomplete-${s}-${h}`,function(f,y,c){E(c)}),ns(t))t();else{var i=window.URL.createObjectURL(t);T[s](h,i)}T.start()},"FileObjectToCache"),r7=r(function(e,t,s,h,S){var E=this.scene;return pR(E,e,t,s,h,S),this},"LoadFile"),n7=r(function(e,t,s,h){var S=this.scene;return new Promise(function(E,n){var T=r(function(i){E(i)},"onComplete");pR(S,e,t,s,h,T)})},"LoadFilePromise");const gR={loadFile:r7,loadFilePromise:n7},a7=Phaser.GameObjects.DOMElement,PC=Phaser.Utils.Objects.IsPlainObject,Pi=Phaser.Utils.Objects.GetValue,Fm=class Fm extends a7{constructor(t,s,h,S,E,n){PC(s)?(n=s,s=Pi(n,"x",0),h=Pi(n,"y",0),S=Pi(n,"width",0),E=Pi(n,"height",0)):PC(S)&&(n=S,S=Pi(n,"width",0),E=Pi(n,"height",0));var T=document.createElement("input");T.type="file";var i=T.style;i.display="none";var f=document.createElement("label");f.appendChild(T);var y=Pi(n,"style",void 0);super(t,s,h,f,y),this.type="rexFileChooser",this.resetFromJSON(n),this.resize(S,E);var c=this;T.onchange=function(){c.emit("change",c)},this.setCloseDelay(Pi(n,"closeDelay",200)),T.onclick=function(){fR({game:t,fileInput:T,closeDelay:c.closeDelay}).then(function(){c.emit("select",c)})}}resetFromJSON(t){return this.setAccept(Pi(t,"accept","")),this.setMultiple(Pi(t,"multiple",!1)),this}setAccept(t){return t===void 0&&(t=""),this.fileInput.setAttribute("accept",t),this}setMultiple(t){return t===void 0&&(t=!0),t?this.fileInput.setAttribute("multiple",""):this.fileInput.removeAttribute("multiple"),this}setCloseDelay(t){return t===void 0&&(t=200),this.closeDelay=t,this}get fileInput(){return this.node.children[0]}open(){return this.fileInput.click(),this}get files(){return this.fileInput.files}setOpenEnable(t){return t===void 0&&(t=!0),this.fileInput.disabled=!t,this}};r(Fm,"FileChooser");let Cr=Fm;var h7={resize:mg,syncTo:vR};Object.assign(Cr.prototype,h7,gR);st.register("fileChooser",function(e){var t=new Cr(this.scene,e);return this.scene.add.existing(t),t});it(window,"RexPlugins.UI.FileChooser",Cr);const o7={setDropEnable(e){return e===void 0&&(e=!0),this.dropEnable=e,this},toggleDropEnable(){return this.dropEnable=!this.dropEnable,this}},l7={addFilter(e,t){return this.filters||(this.filters={}),this.filters[e]=t,this},addFilters(e){this.filters||(this.filters={});for(var t in e)this.filters[t]=e[t];return this}};var mR={resize:mg,syncTo:vR};Object.assign(mR,o7,l7,gR);const u7={dragenter:"dragenter",dragleave:"dragleave",dragover:"dragover",drop:"drop"},d7=Phaser.GameObjects.DOMElement,RC=Phaser.Utils.Objects.IsPlainObject,$i=Phaser.Utils.Objects.GetValue,Dm=class Dm extends d7{constructor(t,s,h,S,E,n){RC(s)?(n=s,s=$i(n,"x",0),h=$i(n,"y",0),S=$i(n,"width",0),E=$i(n,"height",0)):RC(S)&&(n=S,S=$i(n,"width",0),E=$i(n,"height",0)),n===void 0&&(n={});var T=document.createElement("div"),i=$i(n,"style",void 0);super(t,s,h,T,i),this.type="rexFileDropZone",this.resize(S,E),this._files=[],this.setDropEnable($i(n,"dropEnable",!0));var f=$i(n,"filters");f&&this.addFilters(f),uR(this,T,u7,{preventDefault:!0,preTest(y){return y.dropEnable}}),this.on("drop",function(y,c){this._files=c.dataTransfer.files;var o=this._files;if(o&&this.filters)for(var l in this.filters){for(var a=this.filters[l],u=[],v=0,d=o.length;v<d;v++){var p=o[v];a(p,o)&&u.push(p)}u.length>0&&this.emit(`drop.${l}`,u)}},this)}get files(){return this._files}};r(Dm,"FileDropZone");let oo=Dm;Object.assign(oo.prototype,mR);st.register("fileDropZone",function(e){var t=new oo(this.scene,e);return this.scene.add.existing(t),t});it(window,"RexPlugins.UI.FileDropZone",oo);var f7=r(function(e){if(this.rexSizer.hidden)return 0;e===void 0&&(e=!0);var t=0,s=this.sizerChildren,h,S,E,n,T,i=!1;if(this.childrenProportion,this.orientation===0)for(var f=this.space.item,y=!0,c=0,o=s.length;c<o;c++)h=s[c],h.hasOwnProperty("rexSizer")&&(S=h.rexSizer,!S.hidden&&(E=S.proportion,E===0||e?(T=this.getChildWidth(h),S.fitRatio>0&&!S.resolved&&(T=void 0),T===void 0&&(E!==0&&!this.hasProportion0Child?T=0:i=!0)):T=0,!i&&(n=h.rexSizer.padding,T+=n.left+n.right,y?y=!1:T+=f,t+=T)));else for(var c=0,o=s.length;c<o;c++)h=s[c],h.hasOwnProperty("rexSizer")&&(S=h.rexSizer,!S.hidden&&(T=this.getChildWidth(h),T===void 0&&(i=!0),!i&&(n=S.padding,T+=n.left+n.right,t=Math.max(T,t))));if(!i)return t+this.space.left+this.space.right},"GetChildrenWidth$3"),c7=r(function(e){if(this.rexSizer.hidden)return 0;e===void 0&&(e=!0);var t=0,s=this.sizerChildren,h,S,E,n,T,i=!1;if(this.childrenProportion,this.orientation===0)for(var f=0,y=s.length;f<y;f++)h=s[f],h.hasOwnProperty("rexSizer")&&(S=h.rexSizer,!S.hidden&&(T=this.getChildHeight(h),T===void 0&&(i=!0),!i&&(n=S.padding,T+=n.top+n.bottom,t=Math.max(T,t))));else for(var c=this.space.item,o=!0,f=0,y=s.length;f<y;f++)h=s[f],h.hasOwnProperty("rexSizer")&&(S=h.rexSizer,!S.hidden&&(E=S.proportion,E===0||e?(T=this.getChildHeight(h),S.fitRatio>0&&!S.resolved&&(T=void 0),T===void 0&&(E!==0&&!this.hasProportion0Child?T=0:i=!0)):T=0,!i&&(n=S.padding,T+=n.top+n.bottom,o?o=!1:T+=c,t+=T)));if(!i)return t+this.space.top+this.space.bottom},"GetChildrenHeight$3"),v7=r(function(e,t){t===void 0&&(t=this.width);var s,h=e.rexSizer;if(this.orientation===0)h.proportion>0&&this.proportionLength>0&&(s=h.proportion*this.proportionLength);else if(h.expand){var S=this.space,E=t-S.left-S.right,n=h.padding;s=E-n.left-n.right}return s},"GetExpandedChildWidth$1"),p7=r(function(e,t){t===void 0&&(t=this.height);var s,h=e.rexSizer;if(this.orientation===0){if(h.expand){var S=this.space,E=t-S.top-S.bottom,n=h.padding;s=E-n.top-n.bottom}}else h.proportion>0&&this.proportionLength>0&&(s=h.proportion*this.proportionLength);return s},"GetExpandedChildHeight$1"),g7=r(function(e){e===void 0&&(e=[]);for(var t=this.sizerChildren,s,h=0,S=t.length;h<S;h++)s=t[h],s.isRexSizer&&e.push(s);return e},"GetChildrenSizers$3"),m7=r(function(){this.hasRatioFitChild=!1;for(var e,t,s=this.sizerChildren,h=0,S=s.length;h<S;h++)e=s[h],t=e.rexSizer,!t.hidden&&t.fitRatio>0&&(Pe(e,0,0),t.resolved=!1,this.hasRatioFitChild=!0);return this._childrenProportion=void 0,this.hasProportion0Child=!1,this.proportionLength=void 0,Ho.call(this),this},"PreLayout$3");const x7=Phaser.Math.Wrap;var y7=r(function(){for(var e=this.sizerChildren,t,s,h,S=this.innerLeft,E=this.innerTop,n=this.innerWidth,T=this.innerHeight,i=S,f=E,y,c,o,l,a,u,v,d=this.startChildIndex,p=0,g=e.length;p<g;p++)d===0?v=p:v=x7(p+d,0,g),this.rtl&&(v=g-v-1),t=e[v],!t.rexSizer.hidden&&(s=t.rexSizer,h=s.padding,Xo.call(this,t),t.isRexSpace?(a=0,u=0):(a=this.getExpandedChildWidth(t),u=this.getExpandedChildHeight(t)),t.isRexSizer?(t.runLayout(this,a,u),pg(t,this)):Pe(t,a,u),a===void 0&&(a=wt(t)),u===void 0&&(u=Mt(t)),this.orientation===0?(y=i+h.left,s.proportion===0||this.proportionLength===0?o=a:o=s.proportion*this.proportionLength,c=f+h.top,l=T-h.top-h.bottom):(y=i+h.left,o=n-h.left-h.right,c=f+h.top,s.proportion===0||this.proportionLength===0?l=u:l=s.proportion*this.proportionLength),$o.call(this,t,y,c,o,l,s.align),this.orientation===0?i+=o+h.left+h.right+this.space.item:f+=l+h.top+h.bottom+this.space.item)},"LayoutChildren$4"),S7=r(function(t){var t=ig.call(this,t);if(t!==void 0&&this.orientation===0&&this.proportionLength===void 0){var s=t-this.childrenWidth;s>0?(s=t-this.getChildrenWidth(!1),this.proportionLength=s/this.childrenProportion):this.proportionLength=0}return t},"ResolveWidth$1"),T7=r(function(t){var t=ng.call(this,t);if(t!==void 0&&this.orientation===1&&this.proportionLength===void 0){var s=t-this.childrenHeight;s>0?(s=t-this.getChildrenHeight(!1),this.proportionLength=s/this.childrenProportion):this.proportionLength=0}return t},"ResolveHeight$1"),C7=r(function(){return this.hasRatioFitChild&&this.orientation===1?!0:sg.call(this)},"HasWidthWrap$1"),xR=r(function(e,t){if(this.hasRatioFitChild){var s;this.orientation===0?s=t-this.getInnerPadding("top")-this.getInnerPadding("bottom"):e-this.getInnerPadding("left")-this.getInnerPadding("right");for(var h,S,E,n,T=this.sizerChildren,i=0,f=T.length;i<f;i++){var h=T[i],S=h.rexSizer;if(!S.hidden){var y=S.fitRatio;y&&(this.orientation===0?(n=s-this.getChildOuterPadding(h,"top")-this.getChildOuterPadding(h,"bottom"),E=n*y):(E=s-this.getChildOuterPadding(h,"top")-this.getChildOuterPadding(h,"bottom"),n=E/y),Pe(h,E,n),h.isRexSizer&&h.setMinSize(E,n),S.resolved=!0)}}}},"ExpandFitRatioChildren"),E7=r(function(e){this.wrapResult||(this.orientation===1&&xR.call(this,e,void 0),rg.call(this,e))},"RunWidthWrap$2"),P7=r(function(){return this.hasRatioFitChild&&this.orientation===0?!0:ag.call(this)},"HasHeightWrap$1"),R7=r(function(e){this.wrapResult||(this.orientation===0&&xR.call(this,void 0,e),hg.call(this,e))},"RunHeightWrap$2");const A7=Phaser.GameObjects.Zone,Bm=class Bm extends A7{constructor(t){super(t,0,0,1,1),this.isRexSpace=!0}};r(Bm,"Space");let lo=Bm;var L7=r(function(e,t){var s=this.sizerChildren;if(s.length===0)return-1;for(var h=-1,S=1/0,E=0,n=s.length;E<n;E++){var T=s[E],i;this.orientation===0?i=Math.abs(T.left-e):i=Math.abs(T.top-t),S>i&&(S=i,h=E)}var T=s[s.length-1],i;return this.orientation===0?i=Math.abs(T.right-e):i=Math.abs(T.bottom-t),S>i&&(S=i,h=E+1),h},"GetNearestChildIndex$1");const yR=Phaser.Utils.Objects.IsPlainObject,Ki=Phaser.Utils.Objects.GetValue,AC=Phaser.Display.Align.CENTER,O7={min:0,full:-1};var _f=r(function(e,t,s,h,S,E,n,T,i,f){Yo.call(this,e);var y=e.isRexSpace,c=typeof t;if(t===null)return this;if(c!=="number"){if(c==="string")t=O7[t];else if(yR(t)){var o=t;t=Ki(o,"proportion",void 0),s=Ki(o,"align",AC),h=Ki(o,"padding",0),S=Ki(o,"expand",!1),E=Ki(o,"key",void 0),n=Ki(o,"index",void 0),e.isRexSizer||(T=Ki(o,"minWidth",void 0),i=Ki(o,"minHeight",void 0)),f=Ki(o,"fitRatio",0)}}typeof s=="string"&&(s=Xa[s]),t===void 0&&(t=y?1:0),s===void 0&&(s=AC),h===void 0&&(h=0),S===void 0&&(S=!1),T===void 0&&(y?T=0:e.isRexSizer||(T=e._minWidth)),i===void 0&&(y?i=0:e.isRexSizer||(i=e._minHeight)),f===void 0||f===!1?f=0:f===!0&&(f=wt(e)/Mt(e));var o=this.getSizerConfig(e);return o.proportion=t,o.align=s,o.padding=Gs(h),o.expand=S,o.fitRatio=t===0?f:0,n===void 0||n>=this.sizerChildren.length?this.sizerChildren.push(e):this.sizerChildren.splice(n,0,e),e.isRexSizer||(t>0&&(this.orientation===0?e.minWidth=T===void 0?wt(e):T:e.minHeight=i===void 0?Mt(e):i),S&&(this.orientation===0?e.minHeight=i:e.minWidth=T)),E!==void 0&&this.addChildrenMap(E,e),this},"Add$6");const w7={add:_f,addSpace(e){return this.insertSpace(void 0,e),this},insertSpace(e,t){return t===void 0&&(t=1),_f.call(this,new lo(this.scene),{proportion:t,minWidth:0,minHeight:0,index:e}),this},insert(e,t,s,h,S,E,n,T){return yR(s)&&(s.index=e),_f.call(this,t,s,h,S,E,n,e,T),this},insertAtPosition(e,t,s,h,S,E,n,T,i){var f=L7.call(this,e,t);return f===-1&&(f=void 0),this.insert(f,s,h,S,E,n,T,i),this}},M7=Phaser.Utils.Array.Remove,b7={remove(e,t){return this.getParentSizer(e)!==this?this:(M7(this.sizerChildren,e),ko.call(this,e,t),this)},removeAll(e){for(var t=this.sizerChildren.length-1;t>=0;t--)this.remove(this.sizerChildren[t],e);return this},clear(e){return this.sizerChildren.length=0,Yd.call(this,e),this}},I7={getChildAlign(e){return this.getSizerConfig(e).align},setChildAlign(e,t){return typeof t=="string"&&(t=Xa[t]),this.getSizerConfig(e).align=t,this}},F7={getChildProportion(e){return this.getSizerConfig(e).proportion},setChildProportion(e,t){return this.getSizerConfig(e).proportion=t,this}},D7={getChildExpand(e){return this.getSizerConfig(e).expand},setChildExpand(e,t){return this.getSizerConfig(e).expand=t,this}};var B7=r(function(e){e===void 0&&(e="left");var t=this.sizerChildren,s=t[0],h=s&&s.isRexSpace;e==="right"||e==="bottom"||e==="center"?h||this.insertSpace(0):h&&this.remove(s,!0);var S=t.length-1,E=t[S],n=E&&E.isRexSpace;return e==="center"?n||this.insertSpace(S+1):n&&this.remove(E,!0),this},"SetChildrenAlignMode");const xg={sortChildren(e){return this.sizerChildren.sort(e),this},sortChildrenByData(e,t){return this.sizerChildren.sort(function(s,h){var S=s.getData(e),E=h.getData(e);return t?E-S:S-E}),this},sortChildrenByProperty(e,t){return this.sizerChildren.sort(function(s,h){var S=s[e],E=h[e];return t?E-S:S-E}),this}};var SR={getChildrenWidth:f7,getChildrenHeight:c7,getExpandedChildWidth:v7,getExpandedChildHeight:p7,getChildrenSizers:g7,preLayout:m7,layoutChildren:y7,resolveWidth:S7,resolveHeight:T7,hasWidthWrap:C7,runWidthWrap:E7,hasHeightWrap:P7,runHeightWrap:R7,setChildrenAlignMode:B7};Object.assign(SR,w7,b7,I7,F7,D7,xg);var G7=r(function(){for(var e=0,t=this.sizerChildren,s,h,S=0,E=t.length;S<E;S++)s=t[S],!s.rexSizer.hidden&&(h=s.rexSizer.proportion,h>0?e+=h:h===0&&(this.hasProportion0Child=!0));return e},"GetChildrenProportion"),N7={x:0,h:0,horizontal:0,"left-to-right":0,y:1,v:1,vertical:1,"top-to-bottom":1},Ko=r(function(e){return typeof e=="string"&&(e=N7[e]),e},"GetOrientationMode");const tc=Phaser.Utils.Objects.IsPlainObject,je=Phaser.Utils.Objects.GetValue,Gm=class Gm extends Dr{constructor(t,s,h,S,E,n,T){tc(s)?(T=s,s=je(T,"x",0),h=je(T,"y",0),S=je(T,"width",void 0),E=je(T,"height",void 0),n=je(T,"orientation",0)):tc(S)?(T=S,S=je(T,"width",void 0),E=je(T,"height",void 0),n=je(T,"orientation",0)):tc(n)&&(T=n,n=je(T,"orientation",0)),n===void 0&&(n=0),super(t,s,h,S,E,T),this.type="rexSizer",this.sizerChildren=[],this.setOrientation(n),this.setItemSpacing(je(T,"space.item",0)),this.setStartChildIndex(je(T,"startChildIndex",0)),this.setRTL(je(T,"rtl",!1)),this.addChildrenMap("items",this.sizerChildren)}setOrientation(t){return this.orientation=Ko(t),this}setItemSpacing(t){return this.space.item=t,this}setStartChildIndex(t){return this.startChildIndex=t,this}setRTL(t){return t===void 0&&(t=!0),this.rtl=t,this}get childrenProportion(){return this._childrenProportion===void 0&&(this._childrenProportion=G7.call(this)),this._childrenProportion}};r(Gm,"Sizer");let Tt=Gm;Object.assign(Tt.prototype,SR);var Dl=r(function(e,t,s){if(e){var h=t==null,S=s==null;return h&&S||(h||(e.displayWidth=t),S||(e.displayHeight=s),h&&(e.scaleX=e.scaleY),S&&(e.scaleY=e.scaleX)),e}},"SetDisplaySize"),U7=r(function(e){e===void 0?e={}:typeof e=="string"&&(e={text:e});var t=e.text||"";this.setText(t);var s=this.childrenMap.icon;if(s){e.icon?this.show(s):this.hide(s);var h=e.iconSize;h&&(this.setChildDisplaySize(s,h,h),this.iconWidth!==void 0&&this.setIconSize(h)),e.icon!==!0&&this.setIconTexture(e.icon,e.iconFrame)}var S=this.childrenMap.action;if(S){e.action?this.show(S):this.hide(S);var E=e.actionSize;E&&(this.setChildDisplaySize(S,E,E),this.actionWidth!==void 0&&this.setActionSize(E)),e.action!==!0&&this.setActionTexture(e.action,e.actionFrame)}return this},"ResetDisplayContent$1"),V7={appendText:FE,resetDisplayContent:U7};const Nm=class Nm extends Tt{get text(){var t=this.childrenMap.text;return t?t.text:""}set text(t){var s=this.childrenMap.text;s&&s.setText(t)}setText(t){return this.text=t,this}setIconTexture(t,s){var h=this.childrenMap.icon;return!h||!h.setTexture?this:(h.setTexture(t,s),this.iconWidth!==void 0&&this.iconHeight!==void 0&&(Dl(h,this.iconWidth,this.iconHeight),this.resetChildScaleState(h)),this)}setTexture(t,s){return this.setIconTexture(t,s),this}setIconSize(t,s){return s===void 0&&(s=t),this.iconWidth=t,this.iconHeight=s,this}get texture(){var t=this.childrenMap.icon;if(t)return t.texture}get frame(){var t=this.childrenMap.icon;if(t)return t.frame}setActionTexture(t,s){var h=this.childrenMap.action;return!h||!h.setTexture?this:(h.setTexture(t,s),this.actionWidth!==void 0&&this.actionHeight!==void 0&&(Dl(h,this.actionWidth,this.actionHeight),this.resetChildScaleState(h)),this)}get actionTexture(){var t=this.childrenMap.action;if(t)return t.texture}get actionFrame(){var t=this.childrenMap.action;if(t)return t.frame}setActionSize(t,s){return s===void 0&&(s=t),this.actionWidth=t,this.actionHeight=s,this}preLayout(){var t=this.childrenMap.icon;t&&this.iconWidth!==void 0&&this.iconHeight!==void 0&&Dl(t,this.iconWidth,this.iconHeight);var s=this.childrenMap.action;s&&this.actionWidth!==void 0&&this.actionHeight!==void 0&&Dl(s,this.actionWidth,this.actionHeight),super.preLayout()}postLayout(t,s,h){var S=this.childrenMap.iconMask;S&&(S.setPosition(),this.resetChildPositionState(S));var E=this.childrenMap.actionMask;return E&&(E.setPosition(),this.resetChildPositionState(E)),this}resize(t,s){super.resize(t,s);var h=this.childrenMap.iconMask;h&&h.resize();var S=this.childrenMap.actionMask;return S&&S.resize(),this}};r(Nm,"LabelBase");let uo=Nm;Object.assign(uo.prototype,V7);var mi=r(function(e,t,s,h){var S=new ho(t,s,h);if(e&&!e.isRexSizer){var E=S.createGeometryMask();e.setMask(E),this.once("destroy",function(){e.setMask(),E.destroy()})}return this.pin(S),S},"AddChildMask");const W7=Phaser.GameObjects.Text;var yg=r(function(e){return e instanceof W7},"IsTextGameObject");const z7=Phaser.GameObjects.BitmapText;var TR=r(function(e){return e instanceof z7},"IsBitmapTextGameObject");const xe=0,ye=1,He=2;var Ws=r(function(e){var t;return TR(e)?t=He:yg(e)?t=xe:t=ye,t},"GetTextObjectType"),Y7=r(function(e,t){for(var s=[],h=e.split(`
`),S=t.style,E=S.wordWrapWidth,n=S.hasOwnProperty("wrapMode")?S.wrapMode:3,T=t.context,i=0,f=h.length;i<f;i++)H7(T,h[i],E,n,s);return s},"TextWrapByCharCallback"),k7=r(function(e,t){var s;if(t===2)s=e.split("");else{s=[];for(var h=e.split(" "),S,E=0,n=h.length;E<n;E++)S=h[E],E<n-1?Dh(S)?s.push(S+" "):(s.push(...S.split("")),s.push(" ")):S!==""&&(Dh(S)?s.push(S):s.push(...S.split("")))}return s},"GetTokenArray"),H7=r(function(e,t,s,h,S){if(t.length<=100){var E=e.measureText(t).width;if(E<=s)return S.push(t),S}for(var n=k7(t,h),T,i,f=[],y=s,c=0,o=n.length;c<o;c++)T=n[c],i=e.measureText(T).width,y-=i,y<0&&(S.push(f.join("")),f.length=0,y=s-i),f.push(T);return f.length>0&&S.push(f.join("")),S},"WrapLine"),Ov=r(function(e,t){var s=Ws(e);switch(s){case xe:switch(typeof t=="string"&&(t=mu[t]||0),e.style.wrapMode=t,t){case 2:case 3:e.style.wordWrapCallback=Y7;break;case 1:default:e.style.wordWrapCallback=null;break}break;case ye:typeof t=="string"&&(t=mu[t]||0),e.style.wrapMode=t;break}},"SetWrapMode"),X7=r(function(e){var t=r(function(s){var h=e.padding,S=s-h.left-h.right,E=e.style;return yg(e)?(E.wordWrapWidth=S,E.maxLines=0):(E.wrapMode===0&&(E.wrapMode=1),E.wrapWidth=S,E.maxLines=0),E.fixedWidth=s,E.fixedHeight=0,e.updateText(),e.minHeight=e.height,e},"RunWidthWrap");return t},"TextRunWidthWrap"),$7=r(function(e){var t=r(function(s){return e.setFixedSize(s,0).runWordWrap(),e.minHeight=e.height,e},"RunWidthWrap");return t},"DynamicTextRunWidthWrap"),K7=r(function(e){var t=r(function(s){return e.setMaxWidth(s),e.minHeight=e.height,e},"RunWidthWrap");return t},"BitmapTextRunWidthWrap"),Z7=r(function(e){return e instanceof Fs},"IsDynamicTextGameObject"),Hu=r(function(e,t){return t===void 0&&(t=0),e._minWidth=t,e.runWidthWrap=Z7(e)?$7(e):TR(e)?K7(e):X7(e),e},"WrapExpandText");const Rt=Phaser.Utils.Objects.GetValue,Um=class Um extends uo{constructor(t,s){s===void 0&&(s={}),super(t,s),this.type="rexLabel";var h=Rt(s,"background",void 0),S=Rt(s,"icon",void 0),E=Rt(s,"iconMask",void 0),n=Rt(s,"text",void 0),T=Rt(s,"action",void 0),i=Rt(s,"actionMask",void 0),f=Rt(s,"align",void 0);if(h&&this.addBackground(h),S){var y;this.orientation===0?(n||T)&&(y={right:Rt(s,"space.icon",0),top:Rt(s,"space.iconTop",0),bottom:Rt(s,"space.iconBottom",0),left:Rt(s,"space.iconLeft",0)}):(n||T)&&(y={bottom:Rt(s,"space.icon",0),left:Rt(s,"space.iconLeft",0),right:Rt(s,"space.iconRight",0),top:Rt(s,"space.iconTop",0)});var c=Rt(s,"squareFitIcon",!1)?1:0;if(this.add(S,{proportion:0,padding:y,fitRatio:c}),E&&(E=mi.call(this,S,S,1)),!c){var o=Rt(s,"iconSize",void 0);this.setIconSize(Rt(s,"iconWidth",o),Rt(s,"iconHeight",o))}}if(n){var l=Rt(s,"wrapText",!1);l&&(l===!0&&(l="word"),Ov(n,l),s.expandTextWidth=!0,Hu(n));var a=Rt(s,"space.text",0),u=Rt(s,"expandTextWidth",!1),v=Rt(s,"expandTextHeight",!1),d,y,p;this.orientation===0?(d=u?1:0,T&&(y={right:a}),p=v):(d=v?1:0,T&&(y={bottom:a}),p=u),this.add(n,{proportion:d,expand:p,padding:y})}if(T){var y;this.orientation===0?y={top:Rt(s,"space.actionTop",0),bottom:Rt(s,"space.actionBottom",0),right:Rt(s,"space.actionRight",0)}:y={left:Rt(s,"space.actionLeft",0),right:Rt(s,"space.actionRight",0),bottom:Rt(s,"space.actionBottom",0)};var c=Rt(s,"squareFitAction",!1)?1:0;if(this.add(T,{proportion:0,padding:y,fitRatio:c}),i&&(i=mi.call(this,T,T,1)),!c){var g=Rt(s,"actionSize");this.setActionSize(Rt(s,"actionWidth",g),Rt(s,"actionHeight",g))}}this.setChildrenAlignMode(f),this.addChildrenMap("background",h),this.addChildrenMap("icon",S),this.addChildrenMap("iconMask",E),this.addChildrenMap("text",n),this.addChildrenMap("action",T),this.addChildrenMap("actionMask",i)}};r(Um,"Label");let xi=Um;const Ps=Phaser.Utils.Objects.GetValue;var J7=r(function(e,t){var s=Ps(t,"canvas"),h=Ps(s,"width",128),S=Ps(s,"height",128),E=new rs(e,0,0,h,S);e.add.existing(E);var n=Ps(s,"key"),T=Ps(s,"frame"),i=Ps(s,"fill");return i!==void 0?E.fill(i):n!==void 0&&E.loadTexture(n,T),E.setTexture=E.loadTexture.bind(E),E},"CreateCanvas"),Q7=r(function(e,t){var s=new Pa(e,{scaleUp:Ps(t,"scaleUpIcon",!1),background:Ps(t,"iconBackground"),image:J7(e,t)});return e.add.existing(s),s},"CreateImageBox");const j7=Phaser.Utils.Objects.GetValue;var CR=r(function(e,t){var s=j7(t,"clickTarget",this);return typeof s=="string"&&(s=e.getElement(s)),s},"GetClickTarget");const q7=Phaser.Utils.Objects.GetValue;var _7=r(function(e,t){var s=CR(e,t);if(s){var h=q7(t,"click"),S=new us(s,h);return S.on("click",e.open,e),S}},"CreateClickBehavior");const ER={accept:"image/*",multiple:!1};var PR=r(function(e,t){if(t.length!==0){var s=e.childrenMap.icon,h=s.image,S=t[0];return h.loadFromFilePromise(S).then(function(){return s.scaleImage(),e.emit("select",S,e),Promise.resolve(S)})}},"OnSelectFile"),tU=r(function(e,t){var s=e.scene,h=new Cr(s,ER);return s.add.existing(h),e.pin(h),h.on("change",function(){PR(e,h.files)}),h},"CreateFileChooser");const eU={async openPromise(){var e=this;return cR(this.scene.game,ER).then(function(t){return PR(e,t.files)})},open(){return this.openPromise(),this},setClickOpenEnable(e){return e===void 0&&(e=!0),this.clickBehavior&&this.clickBehavior.setEnable(e),this.fileChooser&&this.fileChooser.setOpenEnable(e),this}};var iU=r(function(e){if(!e)return null;var t=e.name;return t.substr(0,t.lastIndexOf("."))},"GetFileName"),sU=r(function(e){var t=this.childrenMap.canvas;return t.generateTexture(e),this},"SaveTexture"),RR={getFileName:iU,saveTexture:sU};Object.assign(RR,eU);const rU=Phaser.Utils.Objects.GetValue,Vm=class Vm extends xi{constructor(t,s){var h=Q7(t,s);s.icon=h,super(t,s),this.type="rexImageFileInputLabel";var S=this.iconWidth,E=this.iconWidth;S!==void 0&&E!==void 0&&h.resize(S,E),this.clickTarget=CR(this,s),this.clickTarget&&(rU(s,"domButton",!0)?this.fileChooser=tU(this):this.clickBehavior=_7(this,s)),this.addChildrenMap("canvas",h.image),this.addChildrenMap("iconBackground",h.background),this.addChildrenMap("fileChooser",this.fileChooser)}postLayout(){this.fileChooser&&(this.fileChooser.syncTo(this.clickTarget),this.resetChildState(this.fileChooser))}};r(Vm,"ImageInputLabel");let fo=Vm;Object.assign(fo.prototype,RR);st.register("imageInputLabel",function(e){var t=new fo(this.scene,e);return this.scene.add.existing(t),t});it(window,"RexPlugins.UI.ImageInputLabel",fo);var jn;let nU=(jn=class extends Gt{constructor(t,s){return super(t),new Proxy(this,this)}get(t,s){if(At(t,s))return t[s];var h=t.parent;if(At(h,s))return h[s]}set(t,s,h){return At(t,s)?t[s]=h:At(t.parent,s)&&(t.parent[s]=h),!0}get key(){return this.parent.texture.key}set key(t){this.parent.setTexture(t,this.frame)}get frame(){return this.parent.frame.name}set frame(t){this.parent.setFrame(t)}get scale(){return this.parent.scaleX}set scale(t){this.parent.setScale(t)}},r(jn,"Style"),jn);const ec=Phaser.Utils.Objects.GetValue,Wm=class Wm extends Gt{constructor(t,s){super(t,s),this.style=ec(s,"style",this);var h=ec(s,"propertiesMap");this.activeStyle=ic(s,"active",h),this.hoverStyle=ic(s,"hover",h),this.disableStyle=ic(s,"disable",h),this.onModifyStyle=ec(s,"onModifyStyle")}getStyle(t){return Wp(this.style,t)}modifyStyle(t){for(var s in t)this.style[s]=t[s];return this.onModifyStyle&&this.onModifyStyle(this.parent,t),this}applyStyle(t){if(t){var s=this.getStyle(t);if(!Gd(s,t))return this.modifyStyle(t),s}}setActiveState(t){return sc.call(this,"active",t),this}setHoverState(t){return sc.call(this,"hover",t),this}setDisableState(t){return sc.call(this,"disable",t),this}};r(Wm,"StyleManager");let wv=Wm;var ic=r(function(e,t,s){var h=gv(e,t);if(s)for(var S in h)s.hasOwnProperty(S)&&(h[s[S]]=h[S],delete h[S]);return h},"ExtractStyle"),sc=r(function(e,t){t===void 0&&(t=!0);var s=`${e}State`,h=`${e}Style`,S=`${e}StyleSave`;this[s]!==t&&(this[s]=t,t?this[S]=this.applyStyle(this[h]):(this.applyStyle(this[S]),this[S]=void 0))},"SetStateEnableMethod");const Ka={addStyleManager(e){return this.styleManager=new wv(this,e),this},setActiveState(e){return this.styleManager.setActiveState(e),this},setHoverState(e){return this.styleManager.setHoverState(e),this},setDisableState(e){return this.styleManager.setDisableState(e),this}},aU=Phaser.GameObjects.Image,vh=Phaser.Utils.Objects.GetValue,zm=class zm extends aU{constructor(t,s){s===void 0&&(s={});var h=vh(s,"x",0),S=vh(s,"y",0),E=vh(s,"key",""),n=vh(s,"frame",void 0);super(t,h,S,E,n),this.type="rexStatesImage";var T=vh(s,"effects",!0);T&&Ya(this,T),this.style=new nU(this,s),s.style=this.style,this.addStyleManager(s),delete s.style}};r(zm,"StatesImage");let Er=zm;Object.assign(Er.prototype,Ka);st.register("statesImage",function(e){var t=new Er(this.scene,e);return this.scene.add.existing(t),t});it(window,"RexPlugins.UI.StatesImage",Er);const Ym=class Ym extends Ir{constructor(t,s){s===void 0&&(s={}),super(t,s),this.type="rexStatesRoundRectangleShape",s.style=this,s.propertiesMap=hU,this.addStyleManager(s),delete s.style,delete s.propertiesMap}};r(Ym,"StatesRoundRectangle");let Pr=Ym;const hU={color:"fillColor",alpha:"fillAlpha",strokeWidth:"lineWidth"};Object.assign(Pr.prototype,Ka);st.register("statesRoundRectangle",function(e){var t=new Pr(this.scene,e);return this.scene.add.existing(t),t});it(window,"RexPlugins.UI.StatesRoundRectangle",Pr);var qn;let oU=(qn=class extends Gt{constructor(t,s){return super(t),new Proxy(this,this)}get(t,s){if(At(t,s))return t[s];var h=t.parent;if(At(h,s))return h[s]}set(t,s,h){return At(t,s)?t[s]=h:At(t.parent,s)&&(t.parent[s]=h),!0}get key(){return this.parent.texture.key}set key(t){this.key!==t&&this.parent.setTexture(t,this.frame)}get frame(){return this.parent.frame.name}set frame(t){this.frame!==t&&this.parent.setFrame(t)}},r(qn,"Style"),qn);const lU=Phaser.GameObjects.NineSlice,hi=Phaser.Utils.Objects.GetValue,km=class km extends lU{constructor(t,s){s===void 0&&(s={});var h=hi(s,"x",0),S=hi(s,"y",0),E=hi(s,"key",null),n=hi(s,"frame",null),T=hi(s,"width",0),i=hi(s,"height",0),f=hi(s,"leftWidth",0),y=hi(s,"rightWidth",0),c=hi(s,"topHeight",0),o=hi(s,"bottomHeight",0);super(t,h,S,E,n,T,i,f,y,c,o),this.type="rexStatesNineSlice";var l=hi(s,"effects",!0);l&&Ya(this,l),this.style=new oU(this,s),s.style=this.style,this.addStyleManager(s),delete s.style}};r(km,"StatesNineSlice");let Rr=km;Object.assign(Rr.prototype,Ka);st.register("statesNineSlice",function(e){var t=new Rr(this.scene,e);return this.scene.add.existing(t),t});it(window,"RexPlugins.UI.StatesNineSlice",Rr);var _n;let uU=(_n=class extends Gt{constructor(t,s){return super(t),new Proxy(this,this)}get(t,s){if(At(t,s))return t[s];var h=t.parent;if(At(h,s))return h[s]}set(t,s,h){return At(t,s)?t[s]=h:At(t.parent,s)&&(t.parent[s]=h),!0}get key(){return this.parent.textureKey}set key(t){this.key!==t&&this.parent.setBaseTexture(t,this.baseFrameName)}get frame(){return this.parent.baseFrameName}set frame(t){this.frame!==t&&this.parent.setBaseTexture(this.parent.textureKey,t)}},r(_n,"Style"),_n);const dU=Phaser.Utils.Objects.GetValue,Hm=class Hm extends wd{constructor(t,s){s===void 0&&(s={}),super(t,s),this.type="rexStatesNinePatch";var h=dU(s,"effects",!0);h&&Ya(this,h),this.style=new uU(this,s),s.style=this.style,this.addStyleManager(s),delete s.style}};r(Hm,"StatesNinePatch");let Ar=Hm;Object.assign(Ar.prototype,Ka);st.register("statesNinePatch",function(e){var t=new Ar(this.scene,e);return this.scene.add.existing(t),t});it(window,"RexPlugins.UI.StatesNinePatch",Ar);const fU=Phaser.GameObjects.Text,rc=Phaser.Utils.Objects.GetValue,Xm=class Xm extends fU{constructor(t,s){s===void 0&&(s={});var h=rc(s,"x",0),S=rc(s,"y",0),E=rc(s,"text","");super(t,h,S,E,s),this.type="rexStatesText",s.style=this.style,s.onModifyStyle=function(n,T){var i=T.hasOwnProperty("fontStyle")||T.hasOwnProperty("fontSize")||T.hasOwnProperty("fontFamily");n.style.update(i)},this.addStyleManager(s),delete s.style}};r(Xm,"StatesText");let Ra=Xm;Object.assign(Ra.prototype,Ka);st.register("statesText",function(e){var t=new Ra(this.scene,e);return this.scene.add.existing(t),t});it(window,"RexPlugins.UI.StatesText",Ra);const $m=class $m extends Gt{constructor(t,s){return super(t),new Proxy(this,this)}get(t,s){if(At(t,s))return t[s];var h=t.parent;if(At(h,s))return h[s]}set(t,s,h){return At(t,s)?t[s]=h:At(t.parent,s)&&(t.parent[s]=h),!0}get key(){return this.parent.texture.key}set key(t){this.parent.setTexture(t,this.frame)}get fontSize(){return this.parent.fontSize}set fontSize(t){this.parent.setFontSize(t)}get tint(){return this.parent.tintTopLeft}set tint(t){this.parent.setTint(t)}get letterSpacing(){return this.parent.letterSpacing}set letterSpacing(t){this.parent.setLetterSpacing(t)}get lineSpacing(){return this.parent.lineSpacing}set lineSpacing(t){this.parent.setLineSpacing(t)}};r($m,"Style");let Mv=$m;const cU=Phaser.GameObjects.BitmapText,er=Phaser.Utils.Objects.GetValue,Km=class Km extends cU{constructor(t,s){s===void 0&&(s={});var h=er(s,"x",0),S=er(s,"y",0),E=er(s,"font",""),n=er(s,"fontSize",!1),T=er(s,"align",0),i=er(s,"tint");super(t,h,S,E,"",n,T),this.type="rexStatesBitmapText",i!==void 0&&this.setTint(i);var f=er(s,"effects",!0);f&&Ya(this,f),this.style=new Mv(this,s),s.style=this.style,this.addStyleManager(s),delete s.style}};r(Km,"StatesBitmapText");let Aa=Km;Object.assign(Aa.prototype,Ka);st.register("statesBitmapText",function(e){var t=new Aa(this.scene,e);return this.scene.add.existing(t),t});it(window,"RexPlugins.UI.StatesBitmapText",Aa);var vU=r(function(e){if(!window.Chart){var t=`Can not find chartjs! Load chartjs in preload stage.
scene.load.script('chartjs', 'https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.8.0/Chart.min.js');`;return console.error(t),this}return this.chart&&this.chart.destroy(),this.chart=new Chart(this.context,pU(this,e)),this},"SetChart"),pU=r(function(e,t){t===void 0&&(t={}),t.options===void 0&&(t.options={});var s=t.options;s.responsive=!1,s.maintainAspectRatio=!1,s.hasOwnProperty("devicePixelRatio")||(s.devicePixelRatio=1);var h=!1;s.animation===void 0?s.animation={}:s.animation===!1&&(h=!0,s.animation={});var S=s.animation;h&&(S.duration=0);var E=S.onProgress;S.onProgress=function(T){E&&E(T),e.needRedraw()};var n=S.onComplete;return S.onComplete=function(T){n&&n(T),e.needRedraw()},t},"FillConfig"),gU=r(function(e){if(this.chart!==void 0)if(typeof e=="string"){for(var t=this.chart.data.datasets,s,h=0,S=t.length;h<S;h++)if(s=t[h],s.label===e)return s}else return this.chart.data.datasets[e]},"GetChartDataset"),mU=r(function(e,t){var s=this.getChartDataset(e);if(s!==void 0){if(typeof t=="string"){var h=this.chart.data.labels;if(t=h.indexOf(t),t===-1)return}return s.data[t]}},"GetChartData"),xU=r(function(e,t,s){if(this.chart===void 0)return this;var h=this.getChartDataset(e);if(typeof t=="string"){var S=this.chart.data.labels;if(t=S.indexOf(t),t===-1)return this}return h.data[t]=s,this},"SetChartData"),yU=r(function(){return this.chart===void 0?this:(this.chart.update(),this)},"UpdateChart"),ta;let Sg=(ta=class extends rs{constructor(t,s,h,S,E,n){super(t,s,h,S,E),this.type="rexChart",this.chart=void 0,n!==void 0&&this.setChart(n)}destroy(t){this.scene&&(this.chart&&(this.chart.destroy(),this.chart=void 0),super.destroy(t))}resize(t,s){if(t===this.width&&s===this.height)return this;if(super.resize(t,s),this.chart){var h=this.chart;h.height=this.canvas.height,h.width=this.canvas.width,h.aspectRatio=h.height?h.width/h.height:null,h.update()}return this}},r(ta,"Chart"),ta);var SU={setChart:vU,getChartDataset:gU,getChartData:mU,setChartData:xU,updateChart:yU};Object.assign(Sg.prototype,SU);st.register("chart",function(e,t,s,h,S){var E=new Sg(this.scene,e,t,s,h,S);return this.scene.add.existing(E),E});it(window,"RexPlugins.UI.Chart",Sg);st.register("container",function(e,t,s,h,S){var E=new Ae(this.scene,e,t,s,h,S);return this.scene.add.existing(E),E});it(window,"RexPlugins.UI.Container",Ae);st.register("sizer",function(e,t,s,h,S,E){var n=new Tt(this.scene,e,t,s,h,S,E);return this.scene.add.existing(n),n});it(window,"RexPlugins.UI.Sizer",Tt);var AR=r(function(){return Array.prototype.reduce.call(arguments,TU,0)},"Sum"),TU=r(function(e,t){return e+t},"Add$5"),CU=r(function(e){if(this.rexSizer.hidden)return 0;e===void 0&&(e=!0);var t=0,s,h=this.sizerChildren,S,E,n,T,i=!1;this.totalColumnProportions;for(var f=0;f<this.columnCount;f++){if(T=this.columnProportions[f],s=0,T===0||e){for(var y=0;y<this.rowCount;y++)S=h[y*this.columnCount+f],S&&(S.rexSizer.hidden||(n=this.getChildWidth(S),n===void 0&&(T!==0&&!this.hasColumnProportion0Child?n=0:i=!0),!i&&(E=S.rexSizer.padding,n+=E.left+E.right,s=Math.max(s,n))));i||(t+=s)}i||e&&(this.columnWidth[f]=s)}if(!i){var c=this.space,o=Math.max(c.indentLeftOdd,c.indentLeftEven);return t+AR(c.left,o,...c.column,c.right)}},"GetChildrenWidth$2"),EU=r(function(e){if(this.rexSizer.hidden)return 0;e===void 0&&(e=!0);var t=0,s,h=this.sizerChildren,S,E,n,T,i=!1;this.totalRowProportions;for(var f=0;f<this.rowCount;f++){if(T=this.rowProportions[f],s=0,T===0||e){for(var y=0;y<this.columnCount;y++)S=h[f*this.columnCount+y],S&&(S.rexSizer.hidden||(n=this.getChildHeight(S),n===void 0&&(T!==0&&!this.hasRowProportion0Child?n=0:i=!0),!i&&(E=S.rexSizer.padding,n+=E.top+E.bottom,s=Math.max(s,n))));i||(t+=s)}i||e&&(this.rowHeight[f]=s)}if(!i){var c=this.space,o=Math.max(c.indentTopOdd,c.indentTopEven);return t+AR(c.top,o,...c.row,c.bottom)}},"GetChildrenHeight$2"),PU=r(function(e,t){var s,h=e.rexSizer;if(h.expandWidth){var S=h.padding;s=t-S.left-S.right}return s},"GetExpandedChildWidth"),RU=r(function(e,t){var s,h=e.rexSizer;if(h.expandHeight){var S=h.padding;s=t-S.top-S.bottom}return s},"GetExpandedChildHeight"),AU=r(function(e){e===void 0&&(e=[]);for(var t=this.sizerChildren,s,h=0,S=t.length;h<S;h++)s=t[h],s&&s.isRexSizer&&e.push(s);return e},"GetChildrenSizers$2"),LU=r(function(){return this._totalColumnProportions=void 0,this._totalRowProportions=void 0,this.hasColumnProportion0Child=!1,this.hasRowProportion0Child=!1,this.proportionWidthLength=void 0,this.proportionHeightLength=void 0,Ho.call(this),this},"PreLayout$2"),OU=r(function(){for(var e,t,s,h=this.innerLeft,S=this.innerTop,E,n=S,T,i,f,y,c,o,l=this.space.column,a=this.space.row,u=this.space.indentLeftOdd,v=this.space.indentLeftEven,d=this.space.indentTopOdd,p=this.space.indentTopEven,g,m,x,C,P=0;P<this.rowCount;P++){m=this.getRowHeight(P),x=P%2?v:u,E=h+x;for(var A=0;A<this.columnCount;A++){if(g=this.getColumnWidth(A),e=this.getChildAt(A,P),!e||e.rexSizer.hidden){E+=g+l[A];continue}Xo.call(this,e),c=this.getExpandedChildWidth(e,g),o=this.getExpandedChildHeight(e,m),e.isRexSizer?(e.runLayout(this,c,o),pg(e,this)):Pe(e,c,o),t=e.rexSizer,s=t.padding,T=E+s.left,f=g-s.left-s.right,C=A%2?p:d,i=n+C+s.top,y=m-s.top-s.bottom,$o.call(this,e,T,i,f,y,t.align),E+=g+l[A]}n+=m+a[P]}},"LayoutChildren$3"),wU=r(function(t){var t=ig.call(this,t);if(t!==void 0&&this.proportionWidthLength===void 0){var s=this.totalColumnProportions;if(s>0){var h=t-this.getChildrenWidth(!1);h>=0&&(this.proportionWidthLength=h/s)}else this.proportionWidthLength=0}return t},"ResolveWidth"),MU=r(function(t){var t=ng.call(this,t);if(t!==void 0&&this.proportionHeightLength===void 0){var s=this.totalRowProportions;if(s>0){var h=t-this.getChildrenHeight(!1);h>=0&&(this.proportionHeightLength=h/s)}else this.proportionHeightLength=0}return t},"ResolveHeight"),bU=r(function(e){var t,s,h,S;for(var E in this.sizerChildren)t=this.sizerChildren[E],t&&t.isRexSizer&&!t.ignoreLayout&&(S=this.getColumnWidth(parseInt(E)%this.columnCount),s=this.getExpandedChildWidth(t,S),h=t.resolveWidth(s),h===void 0&&(h=s),t.resolveChildrenWidth(h))},"ResolveChildrenWidth"),IU=r(function(e){var t,s,h,S;for(var E in this.sizerChildren)t=this.sizerChildren[E],t&&t.isRexSizer&&!t.ignoreLayout&&(S=this.getRowHeight(Math.floor(parseInt(E)/this.rowCount)),s=this.getExpandedChildHeight(t,S),h=t.resolveHeight(s),h===void 0&&(h=s),t.resolveChildrenHeight(h))},"ResolveChildrenHeight"),FU=r(function(e){var t,s,h,S;for(var E in this.sizerChildren)t=this.sizerChildren[E],!(!t||t.isRexSizer&&t.ignoreLayout||!t.runWidthWrap)&&(S=this.getColumnWidth(parseInt(E)%this.columnCount),s=this.getExpandedChildWidth(t,S),t.isRexSizer&&(h=t.resolveWidth(s),h===void 0&&(h=s)),t.runWidthWrap(h));return this},"RunWidthWrap$1"),DU=r(function(e){var t,s,h,S;for(var E in this.sizerChildren)t=this.sizerChildren[E],!(!t||t.isRexSizer&&t.ignoreLayout||!t.runHeightWrap)&&(S=this.getRowHeight(Math.floor(parseInt(E)/this.rowCount)),s=this.getExpandedChildHeight(t,S),t.isRexSizer&&(h=t.resolveHeight(s),h===void 0&&(h=s)),t.runHeightWrap(h));return this},"RunHeightWrap$1");const LC=Phaser.Utils.Objects.IsPlainObject,Ss=Phaser.Utils.Objects.GetValue,OC=Phaser.Display.Align.CENTER;var wC=r(function(e,t,s,h,S){if(typeof e=="number"||typeof t=="number")if(e===void 0){for(var E,n=0;n<h;n++)if(E=t*h+n,!s[E])return E}else if(t===void 0){for(var E,n=0;n<S;n++)if(E=n*h+e,!s[E])return E}else{var E=t*h+e;if(!s[E])return E}else if(t===!0){for(var E,n=0;n<h;n++)for(var T=0;T<S;T++)if(E=T*h+n,!s[E])return E}else for(var n=0,i=s.length;n<i;n++)if(!s[n])return n;return null},"GetEmptyCellIndex"),BU=r(function(e,t,s,h,S,E,n){if(Yo.call(this,e),LC(t)){var i=t;t=Ss(i,"column",void 0),s=Ss(i,"row",void 0),h=Ss(i,"align",OC),S=Ss(i,"padding",0),E=Ss(i,"expand",!1),n=Ss(i,"key",void 0)}var T=wC(t,s,this.sizerChildren,this.columnCount,this.rowCount);if(T===null){if(typeof t=="number"&&typeof s=="number")return this;s===!0||typeof s=="number"?this.addEmptyColumn():this.addEmptyRow(),T=wC(t,s,this.sizerChildren,this.columnCount,this.rowCount)}typeof h=="string"&&(h=Xa[h]),h===void 0&&(h=OC),S===void 0&&(S=0),E===void 0&&(E=!0);var i=this.getSizerConfig(e);return i.align=h,i.padding=Gs(S),LC(E)?(i.expandWidth=Ss(E,"width",!1),i.expandHeight=Ss(E,"height",!1)):(i.expandWidth=E,i.expandHeight=E),this.sizerChildren[T]=e,n!==void 0&&this.addChildrenMap(n,e),this},"Add$4");const GU={add:BU};var mn=r(function(e,t,s,h){s===void 0&&(s=0),h===void 0&&(h=e.length-1);for(var S=s;S<=h;S++)e[S]=t;return e},"Fill");const NU={remove(e,t){if(this.getParentSizer(e)!==this)return this;var s=this.sizerChildren.indexOf(e);return s!==-1&&(this.sizerChildren[s]=null),ko.call(this,e,t),this},removeAt(e,t,s){var h=this.getChildAt(e,t);return h&&this.remove(h,s),this},removeAll(e){for(var t=this.sizerChildren.length-1;t>=0;t--){var s=this.sizerChildren[t];s&&this.remove(s,e)}return this},clear(e){return mn(this.sizerChildren,null),Yd.call(this,e),this}},UU={setColumnSpace(e){if(this.space.column||(this.space.column=[]),this.space.column.length=this.columnCount-1,typeof e=="number")mn(this.space.column,e);else for(var t=0,s=this.columnCount-1;t<s;t++)this.space.column[t]=e[t]||0;return this},setRowSpace(e){if(this.space.row||(this.space.row=[]),this.space.row.length=this.rowCount-1,typeof e=="number")mn(this.space.row,e);else for(var t=0,s=this.rowCount-1;t<s;t++)this.space.row[t]=e[t]||0;return this},setIndentLeft(e,t){return this.space.indentLeftOdd=e,this.space.indentLeftEven=t,this},setIndentTop(e,t){return this.space.indentTopOdd=e,this.space.indentTopEven=t,this}},MC=Phaser.Utils.Objects.GetValue;var VU=r(function(e,t,s,h,S){if(s===void 0&&(s=0),h===void 0&&(h=0),this.columnCount=e,this.rowCount=t,this.gridCount=e*t,this.removeAll(),this.sizerChildren.length=e*t,mn(this.sizerChildren,null),this.columnProportions=[],this.columnProportions.length=e,typeof s=="number")mn(this.columnProportions,s);else for(var E=0;E<e;E++)this.columnProportions[E]=s[E]||0;if(this.rowProportions=[],this.rowProportions.length=t,typeof h=="number")mn(this.rowProportions,h);else for(var E=0;E<t;E++)this.rowProportions[E]=h[E]||0;this.columnWidth=[],this.columnWidth.length=e,this.rowHeight=[],this.rowHeight.length=t,this.setColumnSpace(MC(S,"column",0)),this.setRowSpace(MC(S,"row",0));var n=this.scene,T=this.createCellContainerCallback;if(T)for(var i=0,f=this.rowCount;i<f;i++)for(var y=0,c=this.columnCount;y<c;y++){var o={column:y,row:i},l=T(n,y,i,o);l&&this.add(l,o)}return this},"ResetGrid"),LR=r(function(e,t,s){t===void 0&&(t=this.rowProportions[0]||0),s===void 0&&(s=this.space.row[0]||0),this.rowCount+=1,this.gridCount+=this.columnCount;for(var h=[e*this.columnCount,0],S=0;S<this.columnCount;S++)h.push(null);return this.sizerChildren.splice.apply(this.sizerChildren,h),this.rowProportions.push(t),this.rowHeight.length+=1,this.space.row.splice(e,0,s),this},"InseryEmptyRow"),WU=r(function(e,t){return LR.call(this,this.rowCount,e,t),this},"AddEmptyRow"),OR=r(function(e,t,s){t===void 0&&(t=this.columnProportions[0]||0),s===void 0&&(s=this.space.column[0]||0),this.columnCount+=1,this.gridCount+=this.rowCount;for(var h=this.rowCount-1;h>=0;h--){var S=h*this.columnCount+e;this.sizerChildren.splice(S,0,null)}return this.columnProportions.push(t),this.columnWidth.length+=1,this.space.column.splice(e,0,s),this},"InsertEmptyColumn"),zU=r(function(e,t){return OR.call(this,this.columnCount,e,t),this},"AddEmptyColumn"),wR={getChildrenWidth:CU,getChildrenHeight:EU,getExpandedChildWidth:PU,getExpandedChildHeight:RU,getChildrenSizers:AU,preLayout:LU,layoutChildren:OU,resolveWidth:wU,resolveHeight:MU,resolveChildrenWidth:bU,resolveChildrenHeight:IU,runWidthWrap:FU,runHeightWrap:DU,resetGrid:VU,inseryEmptyRow:LR,addEmptyRow:WU,insertEmptyColumn:OR,addEmptyColumn:zU};Object.assign(wR,GU,NU,UU,xg);var YU=r(function(){for(var e=0,t,s=0;s<this.columnCount;s++)t=this.columnProportions[s],t>0?e+=t:t===0&&(this.hasColumnProportion0Child=!0);return e},"GetTotalColumnProportions"),kU=r(function(){for(var e=0,t,s=0;s<this.rowCount;s++)t=this.rowProportions[s],t>0?e+=t:t===0&&(this.hasRowProportion0Child=!0);return e},"GetTotalRowProportions");const Bl=Phaser.Utils.Objects.IsPlainObject,Dt=Phaser.Utils.Objects.GetValue,Zm=class Zm extends Dr{constructor(t,s,h,S,E,n,T,i,f,y){Bl(s)?(y=s,s=Dt(y,"x",0),h=Dt(y,"y",0),S=Dt(y,"width",void 0),E=Dt(y,"height",void 0),n=Dt(y,"column",y.col||0),T=Dt(y,"row",0),i=Dt(y,"columnProportions",0),f=Dt(y,"rowProportions",0)):Bl(S)?(y=S,S=Dt(y,"width",void 0),E=Dt(y,"height",void 0),n=Dt(y,"column",y.col||0),T=Dt(y,"row",0),i=Dt(y,"columnProportions",0),f=Dt(y,"rowProportions",0)):Bl(n)?(y=n,n=Dt(y,"column",y.col||0),T=Dt(y,"row",0),i=Dt(y,"columnProportions",0),f=Dt(y,"rowProportions",0)):Bl(i)&&(y=i,i=Dt(y,"columnProportions",0),f=Dt(y,"rowProportions",0)),super(t,s,h,S,E,y),this.type="rexGridSizer",this.sizerChildren=[],this.addChildrenMap("items",this.sizerChildren),this.setCreateCellContainerCallback(Dt(y,"createCellContainerCallback")),this.setIndentLeft(Dt(y,"space.indentLeftOdd",0),Dt(y,"space.indentLeftEven",0)),this.setIndentTop(Dt(y,"space.indentTopOdd",0),Dt(y,"space.indentTopEven",0)),this.resetGrid(n,T,i,f,Dt(y,"space",void 0))}destroy(t){!this.scene||this.ignoreDestroy||(super.destroy(t),this.columnProportions=void 0,this.rowProportions=void 0,this.columnWidth=void 0,this.rowHeight=void 0,this.createCellContainerCallback=void 0)}setColumnProportion(t,s){return t>=this.columnProportions.length?this:(this.columnProportions[t]=s,this)}setRowProportion(t,s){return t>=this.rowProportions.length?this:(this.rowProportions[t]=s,this)}get totalColumnProportions(){return this._totalColumnProportions===void 0&&(this._totalColumnProportions=YU.call(this)),this._totalColumnProportions}get totalRowProportions(){return this._totalRowProportions===void 0&&(this._totalRowProportions=kU.call(this)),this._totalRowProportions}getChildAt(t,s){return this.sizerChildren[s*this.columnCount+t]}childToGridIndex(t,s){if(!t)return null;var h=this.sizerChildren.indexOf(t);return h===-1?null:(s===void 0&&(s={}),s.x=h%this.columnCount,s.y=Math.floor(h/this.columnCount),s)}getColumnWidth(t){var s=this.columnProportions[t],h=s===0?this.columnWidth[t]:s*this.proportionWidthLength;return h}getRowHeight(t){var s=this.rowProportions[t],h=s===0?this.rowHeight[t]:s*this.proportionHeightLength;return h}setCreateCellContainerCallback(t){return this.createCellContainerCallback=t,this}};r(Zm,"GridSizer");let $e=Zm;Object.assign($e.prototype,wR);st.register("gridSizer",function(e,t,s,h,S,E,n,T,i){var f=new $e(this.scene,e,t,s,h,S,E,n,T,i);return this.scene.add.existing(f),f});it(window,"RexPlugins.UI.GridSizer",$e);var HU=r(function(e){if(this.rexSizer.hidden)return 0;e===void 0&&(e=!0);var t;if(this.orientation===0?e?t=this.maxChildWidth:t=this.rexSizer.resolved?this.wrapResult.width:void 0:t=this.rexSizer.resolved?this.wrapResult.width:void 0,t!==void 0)return t+this.space.left+this.space.right},"GetChildrenWidth$1"),XU=r(function(e){if(this.rexSizer.hidden)return 0;e===void 0&&(e=!0);var t;if(this.orientation===1?e?t=this.maxChildHeight:t=this.rexSizer.resolved?this.wrapResult.height:void 0:t=this.rexSizer.resolved?this.wrapResult.height:void 0,t!==void 0)return t+this.space.top+this.space.bottom},"GetChildrenHeight$1"),$U=r(function(e){e===void 0&&(e=[]);for(var t=this.sizerChildren,s,h=0,S=t.length;h<S;h++)s=t[h],s!==`
`&&s.isRexSizer&&e.push(s);return e},"GetChildrenSizers$1"),KU=r(function(){return this._maxChildWidth=void 0,this._maxChildHeight=void 0,this.wrapResult=void 0,this.rexSizer.resolved=!1,Ho.call(this),this},"PreLayout$1"),ZU=r(function(){for(var e=this.orientation===0,t=e?this.innerWidth:this.innerHeight,s=this.justifyPercentage,h=this.space.item,S=this.space.line,E=this.space.indentLeftOdd,n=this.space.indentLeftEven,T=this.space.indentTopOdd,i=this.space.indentTopEven,f,y,c,o=0,l,a,u=this.innerLeft,v=this.innerTop,d,p,g,m,x=this.wrapResult.lines,C,P,A,R=u,L=v,O=0,w=x.length;O<w;O++){switch(C=x[O],P=C.children,this.rtl&&P.reverse(),e?(l=O%2?n:E,R=u+l):(a=O%2?i:T,L=v+a),A=t-(e?C.width:C.height),this.align){case 0:break;case 1:e?R+=A:L+=A;break;case 2:e?R+=A/2:L+=A/2;break;case 3:o=nc(t,A,s,P.length);break;case 4:o=nc(t,A,s,P.length),o===0&&(e?R+=A:L+=A);break;case 5:o=nc(t,A,s,P.length),o===0&&(e?R+=A/2:L+=A/2);break}for(var b=!0,F=0,M=P.length;F<M;F++)f=P[F],!f.rexSizer.hidden&&(y=f.rexSizer,c=y.padding,Xo.call(this,f),e?d=R+c.left:p=L+c.top,b?b=!1:e?d+=h:p+=h,g=wt(f),m=Mt(f),e?(a=F%2?i:T,p=L+a+c.top,R=d+g+c.right+o):(l=F%2?n:E,d=R+l+c.left,L=p+m+c.top+o),$o.call(this,f,d,p,g,m,y.align));e?L+=C.height+S:R+=C.width+S}},"LayoutChildren$2"),nc=r(function(e,t,s,h){return t/e<=s?t/(h-1):0},"GetJustifySpace"),JU=r(function(){return this.orientation===0?!0:sg.call(this)},"HasWidthWrap"),MR=r(function(e){var t={lines:[],width:0,height:0},s=this.sizerChildren,h=this.space.item,S=this.space.line,E=this.space.indentLeftOdd,n=this.space.indentLeftEven,T=this.space.indentTopOdd,i=this.space.indentTopEven,f,y,c,o,l=0,a,u,v=t.lines,d=void 0,p;if(this.orientation===0){for(var g=0,m=s.length;g<m;g++){if(f=s[g],f===`
`)f=void 0,c=0,p=!0;else{if(f.rexSizer.hidden)continue;f.isRexSizer&&f.layout(),c=this.getChildWidth(f),y=f.rexSizer.padding,c+=y.left+y.right,p=l<c||d===void 0}p&&(d&&(d.width=e-(l+h),t.width=Math.max(t.width,d.width),t.height+=d.height+S),d={children:[],width:0,height:0},v.push(d),a=v.length%2?E:n,l=e-a),l-=c+h,f&&(d.children.push(f),o=this.getChildHeight(f),y=f.rexSizer.padding,o+=y.top+y.bottom,d.height=Math.max(d.height,o))}d&&(d.width=e-(l+h),t.width=Math.max(t.width,d.width),t.height+=d.height),t.height+=Math.max(T,i)}else{for(var x=e,g=0,m=s.length;g<m;g++){if(f=s[g],f===`
`)f=void 0,c=0,p=!0;else{if(f.rexSizer.hidden)continue;f.isRexSizer&&f.layout(),o=this.getChildHeight(f),y=f.rexSizer.padding,o+=y.top+y.bottom,p=l<o||d===void 0}p&&(d&&(d.height=x-(l+h),t.height=Math.max(t.height,d.height),t.width+=d.width+S),d={children:[],width:0,height:0},v.push(d),u=v.length%2?T:i,l=x-u),l-=o+h,f&&(d.children.push(f),c=this.getChildWidth(f),y=f.rexSizer.padding,c+=y.left+y.right,d.width=Math.max(d.width,c))}d&&(d.height=x-(l+h),t.height=Math.max(t.height,d.height),t.width+=d.width),t.width+=Math.max(E,n)}return t},"RunChildrenWrap"),QU=r(function(e){if(!this.wrapResult&&this.orientation===0){var t=e-this.space.left-this.space.right;this.wrapResult=MR.call(this,t),this.rexSizer.resolved=!0,rg.call(this,e)}},"RunWidthWrap"),jU=r(function(){return this.orientation===1?!0:ag.call(this)},"HasHeightWrap"),qU=r(function(e){if(!this.wrapResult&&this.orientation===1){var t=e-this.space.top-this.space.bottom;this.wrapResult=MR.call(this,t),this.rexSizer.resolved=!0,hg.call(this,e)}},"RunHeightWrap");const bC=Phaser.Math.Distance.Between;var _U=r(function(e,t){var s=this.sizerChildren;if(s.length===0)return-1;for(var h=-1,S=1/0,E=0,n=s.length;E<n;E++){var T=s[E];if(!(Math.abs(T.centerY-t)>T.height/2)){var f=bC(T.left,T.centerY,e,t);S>f&&(S=f,h=E);var i=s[E+1];if(!(i&&i.y===T.y)){var f=bC(T.right,T.centerY,e,t);S>f&&(S=f,h=E+1)}}}return h},"GetNearestChildIndex");const tV=Phaser.Utils.Objects.IsPlainObject,ac=Phaser.Utils.Objects.GetValue,eV=Phaser.Display.Align.CENTER;var hc=r(function(e,t,s,h){if(e===`
`)return this.addNewLine(),this;if(Yo.call(this,e),tV(t)){var S=t;t=ac(S,"padding",0),s=ac(S,"key",void 0),h=ac(S,"index",void 0)}t===void 0&&(t=0);var S=this.getSizerConfig(e);return S.align=eV,S.padding=Gs(t),h===void 0||h>=this.sizerChildren.length?this.sizerChildren.push(e):this.sizerChildren.splice(h,0,e),s!==void 0&&this.addChildrenMap(s,e),this},"Add$3");const iV={add(e,t,s){if(gi(e))for(var h=e,S=0,E=h.length;S<E;S++)hc.call(this,h[S],t);else hc.call(this,e,t,s);return this},addNewLine(){return this.sizerChildren.push(`
`),this},insert(e,t,s,h){return hc.call(this,t,s,h,e),this},insertAtPosition(e,t,s,h,S){var E=_U.call(this,e,t);return E===-1&&(E=void 0),this.insert(E,s,h,S),this}},sV=Phaser.Utils.Array.Remove,rV={remove(e,t){return this.getParentSizer(e)!==this?this:(sV(this.sizerChildren,e),ko.call(this,e,t),this)},removeAll(e){for(var t=this.sizerChildren.length-1;t>=0;t--)this.remove(this.sizerChildren[t],e);return this},clear(e){return this.sizerChildren.length=0,Yd.call(this,e),this}};var bR={getChildrenWidth:HU,getChildrenHeight:XU,getChildrenSizers:$U,preLayout:KU,layoutChildren:ZU,hasWidthWrap:JU,runWidthWrap:QU,hasHeightWrap:jU,runHeightWrap:qU};Object.assign(bR,iV,rV,xg);var nV=r(function(e){e===void 0&&(e=this.sizerChildren);for(var t=0,s,h,S=!1,E=0,n=e.length;E<n;E++)s=e[E],s!==`
`&&(h=this.getChildWidth(s),h===void 0&&(S=!0),!S&&(t=Math.max(h,t)));if(!S)return t},"GetMaxChildWidth"),aV=r(function(e){e===void 0&&(e=this.sizerChildren);for(var t=0,s,h,S=!1,E=0,n=e.length;E<n;E++)s=e[E],s!==`
`&&(h=this.getChildHeight(s),h===void 0&&(S=!0),!S&&(t=Math.max(h,t)));if(!S)return t},"GetMaxChildHeight");const IC=Phaser.Utils.Objects.IsPlainObject,pe=Phaser.Utils.Objects.GetValue,Jm=class Jm extends Dr{constructor(t,s,h,S,E,n){IC(s)?(n=s,s=pe(n,"x",0),h=pe(n,"y",0),S=pe(n,"width",void 0),E=pe(n,"height",void 0)):IC(S)&&(n=S,S=pe(n,"width",void 0),E=pe(n,"height",void 0)),super(t,s,h,S,E,n),this.type="rexFixWidthSizer",this.sizerChildren=[],this.setOrientation(pe(n,"orientation",0)),this.setItemSpacing(pe(n,"space.item",0)),this.setLineSpacing(pe(n,"space.line",0)),this.setIntentLeft(pe(n,"space.indentLeftOdd",0),pe(n,"space.indentLeftEven",0)),this.setIntentTop(pe(n,"space.indentTopOdd",0),pe(n,"space.indentTopEven",0)),this.setAlign(pe(n,"align",0)),this.setJustifyPercentage(pe(n,"justifyPercentage",.25)),this.setRTL(pe(n,"rtl",!1)),this.wrapResult=void 0,this.addChildrenMap("items",this.sizerChildren)}setOrientation(t){return this.orientation=Ko(t),this}setItemSpacing(t){return this.space.item=t,this}setLineSpacing(t){return this.space.line=t,this}setIntentLeft(t,s){return this.space.indentLeftOdd=t,this.space.indentLeftEven=s,this}setIntentTop(t,s){return this.space.indentTopOdd=t,this.space.indentTopEven=s,this}setAlign(t){return typeof t=="string"&&(t=hV[t]),this.align=t,this}setJustifyPercentage(t){return this.justifyPercentage=t,this}setRTL(t){return t===void 0&&(t=!0),this.rtl=t,this}get maxChildWidth(){return this._maxChildWidth===void 0&&(this._maxChildWidth=nV.call(this)),this._maxChildWidth}get maxChildHeight(){return this._maxChildHeight===void 0&&(this._maxChildHeight=aV.call(this)),this._maxChildHeight}};r(Jm,"FixWidthSizer");let hs=Jm;const hV={left:0,top:0,right:1,bottom:1,center:2,justify:3,"justify-left":3,"justify-top":3,"justify-right":4,"justify-bottom":4,"justify-center":5};Object.assign(hs.prototype,bR);st.register("fixWidthSizer",function(e,t,s,h,S){var E=new hs(this.scene,e,t,s,h,S);return this.scene.add.existing(E),E});it(window,"RexPlugins.UI.FixWidthSizer",hs);st.register("overlapSizer",function(e,t,s,h,S){var E=new Ne(this.scene,e,t,s,h,S);return this.scene.add.existing(E),E});it(window,"RexPlugins.UI.OverlapSizer",Ne);st.register("space",function(){var e=new lo(this.scene);return e});it(window,"RexPlugins.UI.Space",lo);st.register("label",function(e){var t=new xi(this.scene,e);return this.scene.add.existing(t),t});it(window,"RexPlugins.UI.Label",xi);const FC=["alpha","tint","flipX","flipY"];var Tg=r(function(e,t){if(!t)return e;for(var s=0,h=FC.length;s<h;s++){var S=FC[s];S in t&&S in e&&(e[S]=t[S])}if("origin"in t&&"originX"in e)e.setOrigin(t.origin);else{var E,n;"originX"in t&&"originX"in e&&(E=t.originX),"originY"in t&&"originY"in e&&(n=t.originY),E!==void 0&&n!==void 0&&e.setOrigin(E,n)}return e},"DecorateGameObject"),Fe=r(function(e,t){var s;t&&(t.hasOwnProperty("$type")?s=t.$type:t.hasOwnProperty("leftWidth")?s="nineSlice":t.hasOwnProperty("key")&&(s="image"));var h;switch(s){case"image":h=new Er(e,t);break;case"nineSlice":t.hasOwnProperty("stretchMode")?h=new Ar(e,t):h=new Rr(e,t);break;default:h=new Pr(e,t);break}return Tg(h,t),e.add.existing(h),h},"CreateBackground$2");const IR={v:0,vertical:0,y:0,h:1,horizontal:1,x:1,xy:2,vh:2};var Cg=r(function(e,t){t===void 0&&(t="scrollMode"),e.hasOwnProperty(t)||(e[t]=oV(e));var s=e[t];return typeof s=="string"&&(s=IR[s]),s},"GetScrollMode"),oV=r(function(e){var t=!!e.sliderY||!!e.scrollerY,s=!!e.sliderX||!!e.scrollerX,h;return t&&s?h=2:t?h=0:s?h=1:h=0,h},"GetDefaultScrollMode");const re=Phaser.Utils.Objects.GetValue;var lV=r(function(e,t,s){var h=re(s,"child"),S=re(h,"gameObject",void 0);if(S){var E=re(s,"space.child",0);e.childMargin={};var n=e.childMargin,T={};if(typeof E=="number")switch(e.scrollMode){case 0:case 1:n.top=0,n.bottom=0,n.left=0,n.right=0;break;default:n.top=E,n.bottom=E,n.left=E,n.right=E;break}else switch(e.scrollMode){case 0:n.top=re(E,"top",0),n.bottom=re(E,"bottom",0),T.left=re(E,"left",0),T.right=re(E,"right",0);break;case 1:n.top=re(E,"left",0),n.bottom=re(E,"right",0),T.top=re(E,"top",0),T.bottom=re(E,"bottom",0);break;default:n.top=re(E,"top",0),n.bottom=re(E,"bottom",0),n.left=re(E,"left",0),n.right=re(E,"right",0);break}t.add(S,{column:1,row:1,align:re(h,"align","center"),padding:T,expand:{width:re(h,"expandWidth",!0),height:re(h,"expandHeight",!0)}})}e.addChildrenMap("child",S)},"AddChild");const DC=Phaser.Math.Percent;var FR=r(function(e,t,s){var h;return e.y===t.y?h=DC(s.x,e.x,t.x):e.x===t.x&&(h=DC(s.y,e.y,t.y)),h},"PositionToPercent"),uV=r(function(e,t,s){if(this.enable){oc.x=t,oc.y=s;var h,S;this.reverseAxis?(h=this.getEndPoint(),S=this.getStartPoint()):(h=this.getStartPoint(),S=this.getEndPoint()),this.value=FR(h,S,oc)}},"OnDragThumb"),oc={},BC=r(function(e,t,s){if(this.enable&&e.isDown){lc.x=e.worldX,lc.y=e.worldY;var h,S;this.reverseAxis?(h=this.getEndPoint(),S=this.getStartPoint()):(h=this.getStartPoint(),S=this.getEndPoint());var E=FR(h,S,lc);this.stopEaseValue(),this.easeValueDuration===0||Math.abs(this.value-E)<.1?this.value=E:this.easeValueTo(E)}},"OnTouchTrack"),lc={},DR=r(function(e,t){t===void 0&&(t=dV);var s=this.childrenMap.thumb,h=s.x,S=s.y;return zo(s,this.innerLeft,this.innerTop,this.innerWidth,this.innerHeight,e),t.x=s.x,t.y=s.y,s.x=h,s.y=S,t},"GetThumbAlignPoint"),dV={};const fV=Phaser.Display.Align.LEFT_CENTER,cV=Phaser.Display.Align.TOP_CENTER;var vV=r(function(e){if(e===void 0&&(e=pV),this.childrenMap.thumb){var t=this.orientation===0?fV:cV;DR.call(this,t,e)}else this.orientation===0?(e.x=this.innerLeft+1,e.y=this.centerY):(e.x=this.centerX,e.y=this.innerTop+1);return e},"GetStartPoint"),pV={};const gV=Phaser.Display.Align.RIGHT_CENTER,mV=Phaser.Display.Align.BOTTOM_CENTER;var xV=r(function(e){if(e===void 0&&(e=yV),this.childrenMap.thumb){var t=this.orientation===0?gV:mV;DR.call(this,t,e)}else this.orientation===0?(e.x=this.innerRight-1,e.y=this.centerY):(e.x=this.centerX,e.y=this.innerBottom-1);return e},"GetEndoint"),yV={};const GC=Phaser.Math.Linear;var SV=r(function(e,t,s,h){return h===void 0&&(h=TV),h.x=GC(t.x,s.x,e),h.y=GC(t.y,s.y,e),h},"PercentToPosition"),TV={},CV=r(function(e){var t=this.childrenMap.thumb;if(t===void 0)return this;e===void 0&&(e=this.value);var s,h;return this.reverseAxis?(s=this.getEndPoint(),h=this.getStartPoint()):(s=this.getStartPoint(),h=this.getEndPoint()),SV(e,s,h,t),t.x+=this.thumbOffsetX,t.y+=this.thumbOffsetY,this.resetChildPositionState(t),this},"UpdateThumb");const EV=Phaser.Display.Align.LEFT_CENTER,PV=Phaser.Display.Align.TOP_CENTER,RV=Phaser.Display.Align.RIGHT_CENTER,AV=Phaser.Display.Align.BOTTOM_CENTER;var LV=r(function(e){var t=this.childrenMap.indicator;if(t===void 0)return this;e===void 0&&(e=this.value);var s=this.reverseAxis,h,S,E=this.childrenMap.thumb;if(E)if(this.orientation===0){var n=wt(E);if(s){var T=E.x-n*E.originX;h=this.right-T}else{var T=E.x-n*E.originX,i=T+n;h=i-this.left}}else{var f=Mt(E);if(s){var y=E.y-f*E.originY;S=this.bottom-y}else{var y=E.y-f*E.originY,c=y+f;S=c-this.top}}else this.orientation===0?h=this.width*e:S=this.height*e;Pe(t,h,S);var o;s?o=this.orientation===0?RV:AV:o=this.orientation===0?EV:PV,zP(t,this,o),this.resetChildPositionState(t)},"UpdateIndicator");const ze=Phaser.Utils.Objects.GetValue,Gl=Phaser.Utils.Objects.IsPlainObject,OV=Phaser.Math.Clamp,wV=Phaser.Math.Snap.To,Qm=class Qm extends Fr(Tt){constructor(t,s){super(t,s),this.type="rexSlider",this.bootProgressBase(s),this.reverseAxis=ze(s,"reverseAxis",!1);var h=ze(s,"background",void 0),S=ze(s,"track",void 0),E=ze(s,"indicator",void 0),n=ze(s,"thumb",void 0);if(h&&(Gl(h)&&(h=Fe(t,h)),this.addBackground(h)),S&&(Gl(S)&&(S=Fe(t,S)),this.add(S,{proportion:1,expand:!0,minWidth:this.orientation===0?0:void 0,minHeight:this.orientation===1?0:void 0})),E&&(Gl(E)&&(E=Fe(t,E)),this.pin(E)),n){Gl(n)&&(n=Fe(t,n)),this.pin(n);var T=ze(s,"thumbOffsetX",0),i=ze(s,"thumbOffsetY",0);this.setThumbOffset(T,i)}var f=ze(s,"input",0);switch(typeof f=="string"&&(f=MV[f]),f){case 0:n&&(n.setInteractive(),this.scene.input.setDraggable(n),n.on("drag",uV,this).on("dragstart",function(y){this.eventEmitter.emit("inputstart",y)},this).on("dragend",function(y){this.eventEmitter.emit("inputend",y)},this));break;case 1:this.on("pointerdown",BC,this).on("pointermove",BC,this).on("pointerdown",function(y){this.eventEmitter.emit("inputstart",y)},this).on("pointerup",function(y){this.eventEmitter.emit("inputend",y)},this).on("pointerover",function(y){y.isDown&&this.eventEmitter.emit("inputstart",y)},this).on("pointerout",function(y){y.isDown&&this.eventEmitter.emit("inputend",y)},this).setInteractive();break}this.addChildrenMap("background",h),this.addChildrenMap("track",S),this.addChildrenMap("indicator",E),this.addChildrenMap("thumb",n),this.setEnable(ze(s,"enable",void 0)),this.setGap(ze(s,"gap",void 0)),this.setValue(ze(s,"value",0),ze(s,"min",void 0),ze(s,"max",void 0))}setEnable(t){return t===void 0&&(t=!0),this.enable=t,this}setGap(t,s,h){return t&&s!==void 0&&(t=t/(h-s)),this.gap=t,this}setThumbOffset(t,s){return this.thumbOffsetX=t,this.thumbOffsetY=s,this}get value(){return this._value}set value(t){this.gap!==void 0&&(t=wV(t,this.gap));var s=this._value;this._value=OV(t,0,1),s!==this._value&&(this.updateThumb(this._value),this.updateIndicator(this._value),this.eventEmitter.emit("valuechange",this._value,s,this.eventEmitter))}postLayout(t,s,h){return this.updateThumb(),this.updateIndicator(),this}};r(Qm,"Slider");let Us=Qm;const MV={pan:0,drag:0,click:1,none:-1};var bV={getStartPoint:vV,getEndPoint:xV,updateThumb:CV,updateIndicator:LV};Object.assign(Us.prototype,bV);const be=Phaser.Utils.Objects.GetValue,jm=class jm extends Tt{constructor(t,s){super(t,s),this.type="rexScrollBar";var h=be(s,"background",void 0),S=be(s,"buttons",void 0),E=be(S,"top",be(S,"left",void 0)),n=be(S,"bottom",be(S,"right",void 0)),T,i=be(s,"slider",void 0);if(h&&this.addBackground(h),E){this.add(E);var f=new Ns(E);f.on("intouch",function(){if(this.enable){var v=T.reverseAxis?this.scrollStep:-this.scrollStep;this.value+=v}},this)}if(i){i.orientation=this.orientation,i.eventEmitter=this,i.value=null;var y;if(this.orientation===0){var c=be(i,"width",void 0);y=c===void 0?1:0}else{var o=be(i,"height",void 0);y=o===void 0?1:0}T=new Us(t,i),t.add.existing(T),this.add(T,{proportion:y})}if(n){this.add(n);var f=new Ns(n);f.on("intouch",function(){if(this.enable){var d=T.reverseAxis?-this.scrollStep:this.scrollStep;this.value+=d}},this)}var l=[E,n];this.addChildrenMap("background",h),this.addChildrenMap("slider",T),this.addChildrenMap("buttons",l);var a=be(s,"valuechangeCallback",null);if(a!==null){var u=be(s,"valuechangeCallbackScope",void 0);this.on("valuechange",a,u)}this.setEnable(be(s,"enable",void 0)),this.setValue(be(s,"value",0)),this.setScrollStep(be(S,"step",.01))}setScrollStep(t){return this.scrollStep=t,this}get enable(){return this.childrenMap.slider?this.childrenMap.slider.enable:!1}set enable(t){this.childrenMap.slider&&this.childrenMap.slider.setEnable(t)}setEnable(t){return t===void 0&&(t=!0),this.enable=t,this}get value(){return this.childrenMap.slider?this.childrenMap.slider.value:0}set value(t){this.childrenMap.slider&&(this.childrenMap.slider.value=t)}setValue(t,s,h){return this.childrenMap.slider&&this.childrenMap.slider.setValue(t,s,h),this}addValue(t,s,h){return this.childrenMap.slider&&this.childrenMap.slider.addValue(t,s,h),this}getValue(t,s){return this.childrenMap.slider?this.childrenMap.slider.getValue(t,s):0}easeValueTo(t,s,h){return this.childrenMap.slider&&this.childrenMap.slider.easeValueTo(t,s,h),this}stopEaseValue(){return this.childrenMap.slider&&this.childrenMap.slider.stopEaseValue(),this}setEaseValueDuration(t){return this.childrenMap.slider&&this.childrenMap.slider.setEaseValueDuration(t),this}setEaseValueFunction(t){return this.childrenMap.slider&&this.childrenMap.slider.setEaseValueFunction(t),this}};r(jm,"ScrollBar");let co=jm;var IV=r(function(e,t){t===void 0&&(t={});var s=Fi(t);t={slider:s},t.orientation=s.orientation,delete s.orientation,t.background=s.background,delete s.background,t.buttons=s.buttons,delete s.buttons,t.value=null;var h=new co(e,t);e.add.existing(h);var S=h.childrenMap.slider;return h.addChildrenMap("track",S.childrenMap.track),h.addChildrenMap("indicator",S.childrenMap.indicator),h.addChildrenMap("thumb",S.childrenMap.thumb),h},"CreateScrollbar");const qm=class qm extends pi{constructor(t,s){super(s),this.parent=t,this.init()}init(){this.start("IDLE")}next_IDLE(){var t,s=this.parent,h=s.dragState;return h.isDown&&(t=s.dragThreshold===0?"DRAG":"DRAGBEGIN"),t}update_IDLE(t,s){this.next()}next_DRAGBEGIN(){var t,s=this.parent,h=s.dragState;return h.isDown?t=h.pointer.getDistance()>=s.dragThreshold?"DRAG":"DRAGBEGIN":t="IDLE",t}update_DRAGBEGIN(t,s){this.next()}next_DRAG(){var t,s=this.parent,h=s.dragState;return h.isUp&&(s.outOfBounds?t="BACK":s.slidingEnable?t="SLIDE":t="IDLE"),t}update_DRAG(t,s){var h=this.parent,S=h.dragState;S.justMoved&&h.dragging(),this.next()}enter_DRAG(){this.parent.onDragStart()}exit_DRAG(){this.parent.onDragEnd()}next_SLIDE(){var t,s=this.parent,h=s.dragState;return h.isDown?t="DRAG":s.isSliding||(t="IDLE"),t}enter_SLIDE(){this.parent.onSliding()}exit_SLIDE(){this.parent.stop()}update_SLIDE(t,s){this.parent.sliding(t,s),this.next()}next_BACK(){var t,s=this.parent,h=s.dragState;return h.isDown?t="DRAG":s.isPullBack||(t="IDLE"),t}enter_BACK(){this.parent.onPullBack()}exit_BACK(){this.parent.stop()}update_BACK(t,s){this.parent.pullBack(t,s),this.next()}};r(qm,"State");let bv=qm;const Nl=Phaser.Utils.Objects.GetValue,FV=Phaser.Math.Distance.Between,_m=class _m extends Gt{constructor(t,s){super(t,s),this._enable=void 0,t.setInteractive(Nl(s,"inputConfig",void 0)),this.resetFromJSON(s),this.boot()}resetFromJSON(t){return this.pointer=void 0,this.isInTouched=!1,this.holdStartTime=void 0,this.x=void 0,this.y=void 0,this.preX=void 0,this.preY=void 0,this.localX=void 0,this.localY=void 0,this.justMoved=!1,this.setEnable(Nl(t,"enable",!0)),this.holdThreshold=Nl(t,"holdThreshold",50),this.pointerOutReleaseEnable=Nl(t,"pointerOutRelease",!0),this}boot(){this.parent.on("pointerdown",this.onPointIn,this),this.parent.on("pointerup",this.onPointOut,this),this.pointerOutReleaseEnable&&this.parent.on("pointerout",this.onPointOut,this),this.parent.on("pointermove",this.onPointerMove,this),this.scene.sys.events.on("preupdate",this.preupdate,this)}shutdown(t){this.isShutdown||(this.scene.sys.events.off("preupdate",this.preupdate,this),this.pointer=void 0,super.shutdown(t))}get enable(){return this._enable}set enable(t){this._enable!==t&&(t||(this.isInTouched=!1,this.pointer=void 0),this._enable=t)}setEnable(t){return t===void 0&&(t=!0),this.enable=t,this}toggleEnable(){return this.setEnable(!this.enable),this}setPointerOutReleaseEnable(t){return t===void 0&&(t=!0),this.pointerOutReleaseEnable=t,this}get isDown(){return this.pointer&&this.pointer.isDown}get isUp(){return!this.isDown}get dx(){return this.x-this.preX}get dy(){return this.y-this.preY}get dt(){var t=zp(this.scene);return t}get speed(){if(this.x===this.preX&&this.y===this.preY)return 0;var t=FV(this.preX,this.preY,this.x,this.y),s=t/(this.dt*.001);return s}get speedX(){return this.dx/(this.dt*.001)}get speedY(){return this.dy/(this.dt*.001)}onPointIn(t,s,h){!this.enable||!t.isDown||this.pointer!==void 0||(this.pointer=t,this.localX=s,this.localY=h)}onPointOut(t){!this.enable||this.pointer!==t||(this.pointer=void 0)}onPointerMove(t,s,h){!this.enable||!t.isDown||this.pointer!==t||(this.localX=s,this.localY=h)}preupdate(t,s){if(this.enable){var h=this.pointer;this.justMoved=!1,h&&!this.isInTouched?(this.x=h.worldX,this.y=h.worldY,this.preX=h.worldX,this.preY=h.worldY,this.isInTouched=!0,this.holdStartTime=void 0,this.emit("touchstart",h,this.localX,this.localY)):h&&this.isInTouched?this.x===h.x&&this.y===h.y?this.holdStartTime===void 0?this.holdStartTime=t:t-this.holdStartTime>this.holdThreshold&&(this.preX=this.x,this.preY=this.y):(this.preX=this.x,this.preY=this.y,this.x=h.worldX,this.y=h.worldY,this.holdStartTime=void 0,this.justMoved=!0,this.emit("touchmove",h,this.localX,this.localY)):!h&&this.isInTouched&&(this.isInTouched=!1,this.holdStartTime=void 0,this.emit("touchend",h))}}};r(_m,"DragSpeed");let Iv=_m;const uc=Phaser.Utils.Objects.GetValue,tx=class tx{constructor(t){this.resetFromJSON(t)}resetFromJSON(t){return this.setValue(uc(t,"value",0)),this.setSpeed(uc(t,"speed",0)),this.setAcceleration(uc(t,"acceleration",0)),this}reset(){this.setValue(0),this.setSpeed(0),this.setAcceleration(0)}setValue(t){return this.value=t,this}setSpeed(t){return this.speed=t,this}setAcceleration(t){return this.acceleration=t,this}updateSpeed(t){return this.acceleration!==0&&(this.speed+=this.acceleration*t,this.speed<0&&(this.speed=0)),this}getDeltaValue(t){return this.updateSpeed(t),this.speed<=0?0:this.speed*t}update(t){return this.updateSpeed(t),this.speed>0&&(this.value+=this.getDeltaValue(t)),this}get isMoving(){return this.speed>0}};r(tx,"Movement");let Fv=tx;const ex=class ex{constructor(){this.value,this.dir,this.movement=new Fv}init(t,s,h,S,E){return this.value=t,this.end=E,E!==void 0?this.dir=t<E:this.dir=s,this.movement.setSpeed(h).setAcceleration(-S),this}stop(){this.movement.reset()}update(t){var s=this.movement.getDeltaValue(t);return this.dir||(s=-s),this.end===void 0?this.value+=s:s===0?this.value=this.end:(this.value+=s,this.dir?this.value>this.end&&(this.value=this.end):this.value<this.end&&(this.value=this.end)),this}get isMoving(){return this.movement.isMoving}};r(ex,"SlowDown");let Dv=ex;const Jt=Phaser.Utils.Objects.GetValue,DV=Phaser.Math.Clamp,ix=class ix extends Gt{constructor(t,s){super(t,s);var h=Jt(s,"enable",!0);this._state=new bv(this,{enable:h,eventEmitter:!1});var S={inputConfig:Jt(s,"inputConfig",void 0),enable:h,pointerOutRelease:Jt(s,"pointerOutRelease",!0),eventEmitter:!1};this.dragState=new Iv(t,S),this._enable=void 0,this._value=void 0,this._slowDown=new Dv;var E=Jt(s,"valuechangeCallback",null);if(E!==null){var n=Jt(s,"valuechangeCallbackScope",void 0);this.on("valuechange",E,n)}if(E=Jt(s,"overmaxCallback",null),E!==null){var n=Jt(s,"overmaxCallbackScope",void 0);this.on("overmax",E,n)}if(E=Jt(s,"overminCallback",null),E!==null){var n=Jt(s,"overminCallbackScope",void 0);this.on("overmin",E,n)}this.resetFromJSON(s),this.boot()}resetFromJSON(t){this.setOrientationMode(Jt(t,"orientation",0)),this.setDragThreshold(Jt(t,"threshold",10)),this.setSlidingDeceleration(Jt(t,"slidingDeceleration",5e3)),this.setBackDeceleration(Jt(t,"backDeceleration",2e3));var s=Jt(t,"dragRate",1);s=s*(Jt(t,"dragReverse",!1)?-1:1),this.setDragRate(s);var h=Jt(t,"bounds",void 0);return h?this.setBounds(h):this.setBounds(Jt(t,"max",0),Jt(t,"min",0)),this.setValue(Jt(t,"value",this.maxValue||0)),this.setEnable(Jt(t,"enable",!0)),this}boot(){this.scene.sys.events.on("preupdate",this._state.update,this._state)}shutdown(t){this.isShutdown||(this.scene.sys.events.off("preupdate",this._state.update,this._state),this._state.destroy(t),this.dragState.destroy(t),this._state=void 0,this.dragState=void 0,super.shutdown(t))}get enable(){return this._enable}set enable(t){if(this._enable!==t)return this._enable=t,this._state.setEnable(t),this.dragState.setEnable(t),this}setEnable(t){return t===void 0&&(t=!0),this.enable=t,this}toggleEnable(){return this.setEnable(!this.enable),this}setOrientationMode(t){return typeof t=="string"&&(t=BV[t]),this.orientationMode=t,this}setDragThreshold(t){return this.dragThreshold=t,this}setSlidingDeceleration(t){return this.slidingDeceleration=t,this}setBackDeceleration(t){return this.backDeceleration=t,this}setDragRate(t){return this.dragRate=t,this}setBounds(t,s){if(Array.isArray(t)){var h=t;t=h[0],s=h[1]}return t<s?(this.minValue=t,this.maxValue=s):(this.minValue=s,this.maxValue=t),this}get value(){return this._value}set value(t){if(t!==this._value){var s=this._value,h=this.overMax(t),S=this.overMin(t);h&&this.emit("overmax",t,s),S&&this.emit("overmin",t,s),this.backEnable||(h&&(t=this.maxValue),S&&(t=this.minValue)),this._value=t,this.emit("valuechange",t,s)}}setValue(t,s){return s===void 0&&(s=!1),s&&(t=DV(t,this.minValue,this.maxValue)),this.value=t,this}addValue(t,s){return this.setValue(this.value+t,s),this}get state(){return this._state.state}get isDragging(){return this.dragState.isInTouched}get outOfMaxBound(){return this.overMax(this.value)}get outOfMinBound(){return this.overMin(this.value)}get outOfBounds(){return this.outOfMinBound||this.outOfMaxBound}overMax(t){return this.maxValue!=null&&t>this.maxValue}overMin(t){return this.minValue!=null&&t<this.minValue}get backEnable(){return typeof this.backDeceleration=="number"}get isPullBack(){return this._slowDown.isMoving}get slidingEnable(){return typeof this.slidingDeceleration=="number"}get isSliding(){return this._slowDown.isMoving}get dragDelta(){var t;return this.orientationMode===0?t=this.dragState.dy:this.orientationMode===1?t=this.dragState.dx:t=0,t*=this.dragRate,t}get dragSpeed(){var t;return this.orientationMode===0?t=this.dragState.speedY:this.orientationMode===1?t=this.dragState.speedX:t=0,t*=this.dragRate,t}onDragStart(){this.emit("dragstart")}onDragEnd(){this.emit("dragend")}dragging(){this.value+=this.dragDelta}onSliding(){var t=this.value,s=this.dragSpeed;if(s===0){this._slowDown.stop(),this._state.next();return}var h=this.slidingDeceleration;this._slowDown.init(t,s>0,Math.abs(s),h)}sliding(t,s){s*=.001;var h=this._slowDown.update(s).value;this.overMax(h)?(this.value=this.maxValue,this._slowDown.stop()):this.overMin(h)?(this.value=this.minValue,this._slowDown.stop()):this.value=h}onPullBack(){var t=this.value,s=this.outOfMinBound?this.minValue:this.maxValue,h=Math.abs(s-t),S=this.backDeceleration,E=Math.sqrt(2*S*h);this._slowDown.init(t,void 0,E,S,s)}pullBack(t,s){s*=.001,this.value=this._slowDown.update(s).value,this._slowDown.isMoving||this._state.next()}stop(){this._slowDown.stop()}};r(ix,"Scroller");let Bv=ix;const BV={y:0,v:0,vertical:0,x:1,h:1,horizontal:1},Ul=Phaser.Utils.Objects.GetValue,sx=class sx extends Gt{constructor(t,s){if(super(t,s),this.parent!==this.scene?this.focusMode=Ul(s,"focus",!0):this.focusMode=!1,this.setSpeed(Ul(s,"speed",.1)),this.setEnable(Ul(s,"enable",!0)),!this.focusMode)this.scene.input.on("wheel",this.onSceneScroll,this);else{var t=this.parent;t.setInteractive(Ul(s,"inputConfig",void 0)).on("wheel",function(S,E,n,T,i){this.enable&&this.scroll(n)},this)}}destroy(){this.focusMode||this.scene.input.off("wheel",this.onSceneScroll,this)}onSceneScroll(t,s,h,S,E,n){this.enable&&this.scroll(S)}setEnable(t){return t===void 0&&(t=!0),this.enable=t,this}setSpeed(t){return this.speed=t,this}scroll(t){t*=this.speed,this.emit("scroll",t,this.parent,this)}};r(sx,"MouseWheelScroller");let Gv=sx;const ne=Phaser.Utils.Objects.GetValue;var Vl=r(function(e,t,s,h){s=s.toUpperCase();var S=s==="Y",E=e.scrollMode===2,n=e.childrenMap.child,T,i,f=`slider${s}`;if(E||h.hasOwnProperty(f)?T=ne(h,f,void 0):T=ne(h,"slider",void 0),T){T===!0&&(T={}),T.orientation=S?1:0,i=IV(e.scene,T);var y,c,o,l=ne(T,"position",0);typeof l=="string"&&(l=GV[l]);var a=ne(h,`space.slider${s}`,void 0),u;a===void 0&&(a=ne(h,"space.slider",void 0),a===void 0&&(E?a=0:u=ne(h,"space.child",0)));var v;u===void 0?v=typeof a=="number":v=typeof u=="number",S?l===0?(y=2,c=1,u===void 0?o=v?{left:a}:a:o={left:ne(u,"right",u)}):(y=0,c=1,u===void 0?o=v?{right:a}:a:o={right:ne(u,"left",u)}):l===0?(y=1,c=2,u===void 0?o=v?{top:a}:a:o={top:ne(u,"bottom",u)}):(y=1,c=0,u===void 0?o=v?{bottom:a}:a:o={bottom:ne(u,"top",u)}),t.add(i,{column:y,row:c,align:"center",padding:o,expand:!0}),e[`hideUnscrollableSlider${s}`]=ne(T,"hideUnscrollableSlider",!1),e[`adaptThumb${s}SizeMode`]=ne(T,"adaptThumbSize",!1),e[`minThumb${s}Size`]=ne(T,"minThumbSize",void 0)}else e[`hideUnscrollableSlider${s}`]=!1,e[`adaptThumb${s}SizeMode`]=!1,e[`minThumb${s}Size`]=void 0;var d,p,g=`scroller${s}`;E||h.hasOwnProperty(g)?d=ne(h,g,!0):d=ne(h,"scroller",!0),d&&n&&(d===!0&&(d={}),d.orientation=S?0:1,p=new Bv(n,d));var m=ne(h,E?`mouseWheelScroller${s}`:"mouseWheelScroller",!1),x;if(m&&n&&(x=new Gv(n,m)),e.addChildrenMap(`slider${s}`,i),e.addChildrenMap(`scroller${s}`,p),e.addChildrenMap(`mouseWheelScroller${s}`,x),(!E||S)&&(e.hideUnscrollableSlider=e[`hideUnscrollableSlider${s}`],e.adaptThumbSizeMode=e[`adaptThumb${s}SizeMode`],e.minThumbSize=e[`minThumb${s}Size`],e.addChildrenMap("slider",i),e.addChildrenMap("scroller",p),e.addChildrenMap("mouseWheelScroller",x)),i){var C,P;E?(C=S?"t":"s",P=`scroll${s}`):(C="t",P="scroll"),i.on("valuechange",function(L){e[C]=L,e.emit(P,e)})}if(p){var A,P;E?(A=`childO${s}`,P=`scroll${s}`):(A="childOY",P="scroll"),p.on("valuechange",function(O){e[A]=O,e.emit(P,e)})}if(x){var R;E?R=`addChildO${s}`:R="addChildOY",x.on("scroll",function(L){e[R](-L,!0)})}},"AddSlider");const GV={right:0,left:1,bottom:0,top:1},Wl=Phaser.Utils.Objects.GetValue;var NV=r(function(e,t){var s=e.scene,h=[0,1,0],S=[0,1,0],E=Wl(t,"width"),n=Wl(t,"height");if(!E){var T=Wl(t,"child.expandWidth",!0);T||(h[1]=0)}if(!n){var i=Wl(t,"child.expandHeight",!0);i||(S[1]=0)}var f=new $e(s,{column:3,row:3,columnProportions:h,rowProportions:S});switch(lV(e,f,t),e.scrollMode){case 0:Vl(e,f,"y",t);break;case 1:Vl(e,f,"x",t);break;default:Vl(e,f,"y",t),Vl(e,f,"x",t);break}return f},"CreateScrollableSizer"),UV=r(function(){switch(this.scrollMode){case 0:case 1:dc.call(this),this.updateController(),fc.call(this),cc.call(this);break;default:dc.call(this,"y"),dc.call(this,"x"),this.updateController(),fc.call(this,"y"),fc.call(this,"x"),cc.call(this,"y"),cc.call(this,"x");break}return this},"ResizeController"),dc=r(function(e){var t,s,h,S;switch(this.scrollMode){case 0:case 1:t=this.topChildOY,s=this.bottomChildOY,h=this.childrenMap.scroller,S=this.childrenMap.slider;break;default:e=e.toUpperCase(),e==="Y"?(t=this.topChildOY,s=this.bottomChildOY):(t=this.leftChildOX,s=this.rightChildOX),h=this.childrenMap[`scroller${e}`],S=this.childrenMap[`slider${e}`]}h&&h.setBounds(t,s),S&&S.setEnable(t!==s)},"SetControllerBounds"),fc=r(function(e){switch(this.scrollMode){case 0:case 1:var t=this.childrenMap.slider;t&&this.hideUnscrollableSlider&&this.setChildVisible(t,this.isOverflow);break;default:e=e.toUpperCase();var t=this.childrenMap[`slider${e}`],s=this[`hideUnscrollableSlider${e}`],h=this[`isOverflow${e}`];t&&s&&this.setChildVisible(t,h);break}},"HideUnscrollableSlider"),cc=r(function(e){switch(this.scrollMode){case 0:case 1:if(!this.adaptThumbSizeMode)return;var E=this.childrenMap.slider;if(!E)return;var t=Math.min(this.childVisibleHeight/this.childHeight,1),n=E.childrenMap.track,T=E.childrenMap.thumb,i=this.minThumbSize;if(this.scrollMode===0){var s=n.displayHeight*t;i!==void 0&&s<i&&(s=i),Pe(T,void 0,s)}else{var h=n.displayWidth*t;i!==void 0&&h<i&&(h=i),Pe(T,h,void 0)}NC(E);break;default:e=e.toUpperCase();var S=this[`adaptThumb${e}SizeMode`];if(!S)return;var E=this.childrenMap[`slider${e}`];if(!E)return;var n=E.childrenMap.track,T=E.childrenMap.thumb,i=this[`minThumb${e}Size`];if(e==="Y"){var t=Math.min(this.childVisibleHeight/this.childHeight,1),s=n.displayHeight*t;i!==void 0&&s<i&&(s=i),Pe(T,void 0,s)}else{var t=Math.min(this.childVisibleWidth/this.childWidth,1),h=n.displayWidth*t;i!==void 0&&h<i&&(h=i),Pe(T,h,void 0)}NC(E);break}},"AdaptThumbSize"),NC=r(function(e){var t=e.minWidth,s=e.minHeight;e.minWidth=e.width,e.minHeight=e.height,e.layout(),e.minWidth=t,e.minHeight=s},"LayoutSlider"),VV=r(function(){switch(this.scrollMode){case 0:case 1:var e=this.childrenMap.scroller,t=this.childrenMap.slider;e&&e.setValue(this.childOY),t&&t.setValue(this.t);break;default:var s=this.childrenMap.scrollerY,h=this.childrenMap.sliderY,S=this.childrenMap.scrollerX,E=this.childrenMap.sliderX;s&&s.setValue(this.childOY),h&&h.setValue(this.t),S&&S.setValue(this.childOX),E&&E.setValue(this.s);break}},"UpdateController");const Ri=Phaser.Utils.Objects.GetValue,zl=Phaser.Math.Clamp,rx=class rx extends Tt{constructor(t,s){s===void 0&&(s={});var h=Cg(s),S=h===1;s.orientation=S?0:1,super(t,s),this.type=Ri(s,"type","rexScrollable"),this.scrollMode=h;var E=Ri(s,"background",void 0);E&&this.addBackground(E);var n=Ri(s,"header",void 0);if(n){var T=Ri(s,"align.header","center"),i=Ri(s,"space.header",0),f;S?f={right:i}:f={bottom:i},this.add(n,{proportion:0,align:T,padding:f,expand:Ri(s,"expand.header",!0)})}var y=NV(this,s);y&&this.add(y,{proportion:1,align:"center",padding:0,expand:!0});var c=Ri(s,"footer",void 0);if(c){var T=Ri(s,"align.footer","center"),o=Ri(s,"space.footer",0),f;S?f={left:o}:f={top:o},this.add(c,{proportion:0,align:T,padding:f,expand:Ri(s,"expand.footer",!0)})}this.addChildrenMap("background",E),this.addChildrenMap("header",n),this.addChildrenMap("footer",c),this.runLayoutFlag=!1}postLayout(t,s,h){var S=0,E=0;return this.runLayoutFlag?(E=this.t,this.scrollMode===2&&(S=this.s)):this.runLayoutFlag=!0,this.resizeController(),this.setT(E),this.scrollMode===2&&this.setS(S),this}set t(t){var s=this.childMargin;if(s.top!==0||s.bottom!==0){var h=this.childrenMap.child,S=h.topChildOY-h.bottomChildOY,E=S+s.top+s.bottom,n=E*t-s.top;t=S!==0?n/S:0}this.childrenMap.child.t=t,this.updateController()}get t(){var t=this.childrenMap.child.t,s=this.childMargin;if(s.top!==0||s.bottom!==0){var h=this.childrenMap.child,S=h.topChildOY-h.bottomChildOY,E=S+s.top+s.bottom,n=S*t+s.top;t=E!==0?n/E:0}return t}set s(t){var s=this.childMargin;if(s.left!==0||s.right!==0){var h=this.childrenMap.child,S=h.leftChildOX-h.rightChildOX,E=S+s.left+s.right,n=E*t-s.left;t=S!==0?n/S:0}this.childrenMap.child.s=t,this.updateController()}get s(){var t=this.childrenMap.child.s,s=this.childMargin;if(s.left!==0||s.right!==0){var h=this.childrenMap.child,S=h.leftChildOX-h.rightChildOX,E=S+s.left+s.right,n=S*t+s.left;t=E!==0?n/E:0}return t}set childOY(t){this.childrenMap.child.childOY=t,this.updateController()}get childOY(){return this.childrenMap.child.childOY}set childOX(t){this.childrenMap.child.childOX=t,this.updateController()}get childOX(){return this.childrenMap.child.childOX}get topChildOY(){return this.childrenMap.child.topChildOY+this.childMargin.top}get bottomChildOY(){return this.childrenMap.child.bottomChildOY-this.childMargin.bottom}get leftChildOX(){return this.childrenMap.child.leftChildOX+this.childMargin.left}get rightChildOX(){return this.childrenMap.child.rightChildOX-this.childMargin.right}get childVisibleHeight(){return this.childrenMap.child.childVisibleHeight}get childHeight(){return this.childrenMap.child.childHeight}get childVisibleWidth(){return this.childrenMap.child.childVisibleWidth}get childWidth(){return this.childrenMap.child.childWidth}get isOverflow(){var t=this.childrenMap.child;return t.topChildOY!==t.bottomChildOY}get isOverflowY(){return this.isOverflow}get isOverflowX(){var t=this.childrenMap.child;return t.leftChildOX!==t.rightChildOX}setChildOY(t,s){return s===void 0&&(s=!1),s&&(t=zl(t,this.bottomChildOY,this.topChildOY)),this.childOY=t,this}addChildOY(t,s){return this.setChildOY(this.childOY+t,s),this}setT(t,s){return s===void 0&&(s=!1),s&&(t=zl(t,0,1)),this.t=t,this}addT(t,s){return this.setT(this.t+t,s),this}scrollToTop(){return this.t=0,this}scrollToBottom(){if(this.t=1,this.t===0)return this;do this.t=1;while(this.t!==1);return this}setChildOX(t,s){return s===void 0&&(s=!1),s&&(t=zl(t,this.leftChildOX,this.rightChildOX)),this.childOX=t,this}addChildOX(t,s){return this.setChildOX(this.childOX+t,s),this}setS(t,s){return s===void 0&&(s=!1),s&&(t=zl(t,0,1)),this.s=t,this}addS(t,s){return this.setS(this.s+t,s),this}scrollToLeft(){return this.s=0,this}scrollToRight(){if(this.s=1,this.s===0)return this;do this.s=1;while(this.s!==1);return this}get sliderEnable(){var t=this.childrenMap.slider;return t?t.enable:!1}set sliderEnable(t){var s=this.childrenMap.slider;s&&s.setEnable(t)}setSliderEnable(t){return t===void 0&&(t=!0),this.sliderEnable=t,this}get sliderYEnable(){return this.sliderEnable}set sliderYEnable(t){this.sliderEnable=t}setSliderYEnable(t){return this.setSliderEnable(t),this}get sliderXEnable(){var t=this.childrenMap.sliderX;return t?t.enable:!1}set sliderXEnable(t){var s=this.childrenMap.sliderX;s&&s.setEnable(t)}setSliderXEnable(t){return t===void 0&&(t=!0),this.sliderXEnable=t,this}get scrollerEnable(){var t=this.childrenMap.scroller;return t?t.enable:!1}set scrollerEnable(t){var s=this.childrenMap.scroller;s&&s.setEnable(t)}setScrollerEnable(t){return t===void 0&&(t=!0),this.scrollerEnable=t,this}get scrollerYEnable(){return this.scrollerEnable}set scrollerYEnable(t){this.scrollerEnable=t}setScrollerYEnable(t){return this.setScrollerEnable(t),this}get scrollerXEnable(){var t=this.childrenMap.scrollerX;return t?t.enable:!1}set scrollerXEnable(t){var s=this.childrenMap.scrollerX;s&&s.setEnable(t)}setScrollerXEnable(t){return t===void 0&&(t=!0),this.scrollerXEnable=t,this}get scrollerXEnable(){var t=this.childrenMap.scrollerX;return t?t.enable:!1}set scrollerXEnable(t){var s=this.childrenMap.scrollerX;s&&s.setEnable(t)}setScrollerXEnable(t){return t===void 0&&(t=!0),this.scrollerXEnable=t,this}get mouseWheelScrollerEnable(){var t=this.childrenMap.mouseWheelScroller;return t?t.enable:!1}set mouseWheelScrollerEnable(t){var s=this.childrenMap.mouseWheelScroller;s&&s.setEnable(t)}setMouseWheelScrollerEnable(t){return t===void 0&&(t=!0),this.mouseWheelScrollerEnable=t,this}get mouseWheelScrollerYEnable(){return this.mouseWheelScrollerEnable}set mouseWheelScrollerYEnable(t){this.mouseWheelScrollerEnable=t}setMouseWheelScrollerYEnable(t){return this.setMouseWheelScrollerEnable(t),this}get mouseWheelScrollerXEnable(){var t=this.childrenMap.mouseWheelScrollerX;return t?t.enable:!1}set mouseWheelScrollerXEnable(t){var s=this.childrenMap.mouseWheelScrollerX;s&&s.setEnable(t)}setMouseWheelScrollerXEnable(t){return t===void 0&&(t=!0),this.mouseWheelScrollerXEnable=t,this}setDropZoneEnable(t){t===void 0&&(t=!0);var s=this.childrenMap.child;return s.setInteractive(),s.input.dropZone=t,this}};r(rx,"Scrollable");let Lr=rx;var WV={resizeController:UV,updateController:VV};Object.assign(Lr.prototype,WV);var Eg=r(function(e,t,s){var h=Ws(e);switch(h){case xe:s=e.getWrappedText(t);break;case ye:s=e.getPenManager(t,s);break;case He:e.maxWidth>0?s=e.setText(t).getTextBounds().wrappedText.split(`
`):s=t.split(`
`);break}return s},"TextToLines"),zV=r(function(e){return e!==void 0&&(this.text=e),this.lines=Eg(this.textObject,this.text,this.lines),this.linesCount=this.lines.length,this._textHeight=void 0,this._textVisibleHeight=void 0,this.updateTextObject(),this},"SetText"),BR=r(function(e){return(e-this.textLineSpacing)/(this.textLineHeight+this.textLineSpacing)},"TextHeightToLinesCount$1"),GR=r(function(e){return e*(this.textLineHeight+this.textLineSpacing)-this.textLineSpacing},"LinesCountToTextHeight"),YV=r(function(e){var t=e+this.visibleLinesCount+1,s;switch(this.textObjectType){case xe:s=this.lines.slice(e,t).join(`
`);break;case ye:var h=this.lines.getLineStartIndex(e),S=this.lines.getLineEndIndex(t-1);s=this.lines.getSliceTagText(h,S,!0);break;case He:s=this.lines.slice(e,t).join(`
`);break}return s},"GetLines$1"),Pg=r(function(e,t){var s=Ws(e);switch(s){case xe:var E=e.style,h=E.wordWrapWidth,S=E.wordWrapCallback;E.wordWrapWidth=0,E.wordWrapCallback=void 0,e.setText(t),E.wordWrapWidth=h,E.wordWrapCallback=S;break;case ye:var E=e.style,n=E.wrapMode;E.wrapMode=0,e.setText(t),E.wrapMode=n;break;case He:var T=e._maxWidth;e._maxWidth=0,e.setText(t),e._maxWidth=T;break}},"SetNoWrapText"),NR=r(function(){var e=this.textObject.rexSizer;this.textObject.y+=e.offsetY-e.preOffsetY,e.preOffsetY=e.offsetY,this.resetChildPositionState(this.textObject),this.textCropEnable&&kV.call(this)},"ResetTextObjectPosition"),kV=r(function(){if(this.textObject.setCrop){var e=this.textObject.rexSizer.offsetY,t,s;e<=0?(t=-e,s=this.height):(t=0,s=this.height-e),this.textObject.setCrop(0,t,this.width,s)}},"CropTextObject"),HV=r(function(){var e=Math.max(Math.floor(BR.call(this,-this.textOY)),0),t=GR.call(this,e)+this.textOY,s=YV.call(this,e);return Pg(this.textObject,s),this.textObject.rexSizer.offsetY=t,NR.call(this),this},"UpdateTextObject"),XV=r(function(){return this._textLineHeight=void 0,this._textLineSpacing=void 0,this._visibleLinesCount=void 0,this._textHeight=void 0,this._textVisibleHeight=void 0,Ho.call(this),this},"PreLayout"),$V=r(function(e,t,s){if(s+=this.textLineHeight+this.textLineSpacing,!(this.textObjectWidth===t&&this._textObjectRealHeight===s)){switch(this.textObjectWidth=t,this._textObjectRealHeight=s,this.textObjectType){case xe:case ye:e.setFixedSize(t,s);var h=e.style,S=Math.max(t,0);this.textObjectType===xe?h.wordWrapWidth=S:(h.wrapMode===0&&(h.wrapMode=1),h.wrapWidth=S);break;case He:e.setMaxWidth(t);break}this.setText()}},"ResizeText"),KV=r(function(){var e,t,s,h=this.left,S=this.top,E,n,T,i;e=this.textObject,e.rexSizer.hidden||(t=e.rexSizer,s=t.padding,E=h+s.left,n=S+s.top,T=this.width-s.left-s.right,i=this.height-s.top-s.bottom,$V.call(this,e,T,i),zo(e,E,n,T,i,t.align),t.preOffsetY=0,NR.call(this),this.textMask&&(this.textMask.setPosition().resize(),this.resetChildPositionState(this.textMask)))},"LayoutChildren$1");const ZV={setText:zV,updateTextObject:HV,preLayout:XV,layoutChildren:KV},UC=Phaser.Utils.Objects.IsPlainObject,Ye=Phaser.Utils.Objects.GetValue,JV=Phaser.Display.Align.TOP_LEFT,nx=class nx extends Dr{constructor(t,s,h,S,E,n){UC(s)?(n=s,s=Ye(n,"x",0),h=Ye(n,"y",0),S=Ye(n,"width",void 0),E=Ye(n,"height",void 0)):UC(S)&&(n=S,S=Ye(n,"width",void 0),E=Ye(n,"height",void 0)),super(t,s,h,S,E,n),this.type="rexTextBlock",this.textObject=void 0,this.linesCount=0,this.textMask=void 0,this.textObjectType=void 0,this._textLineHeight=void 0,this._textLineSpacing=void 0,this._visibleLinesCount=void 0,this._textHeight=void 0,this._textVisibleHeight=void 0,this._textObjectRealHeight=0,this.lines=void 0,this.text=Ye(n,"content",""),this._textOY=0,this.execeedTopState=!1,this.execeedBottomState=!1,this.setClampMode(Ye(n,"clamplTextOY",!0)),this.alwaysScrollable=Ye(n,"alwaysScrollable",!1);var T=Ye(n,"background",void 0),i=Ye(n,"text",void 0);i===void 0&&(i=QV(t)),this.textCropEnable=Ye(n,"textCrop",!!i.setCrop);var f=Ye(n,"textMask",!this.textCropEnable);T&&this.addBackground(T),this.add(i),this.sizerChildren=[i];var y=this.getSizerConfig(i);y.align=JV,y.padding=Gs(0),y.expand=!0,this.textObject=i,this.textObjectType=Ws(i),y.preOffsetY=0,y.offsetY=0,f&&(this.textMask=mi.call(this,this.textObject,this)),this.addChildrenMap("background",T),this.addChildrenMap("text",i)}destroy(t){if(!(!this.scene||this.ignoreDestroy)){if(this.textObject=void 0,this.textMask=void 0,this.lines){switch(this.textObjectType){case xe:this.lines.length=0;break;case ye:this.lines.destroy();break;case He:this.lines.length=0;break}this.lines=void 0}super.destroy(t)}}setClampMode(t){return t===void 0&&(t=!0),this.clampTextOY=t,this}get textLineHeight(){if(this._textLineHeight===void 0){var t;switch(this.textObjectType){case xe:case ye:var s=this.textObject.style;t=s.metrics.fontSize+s.strokeThickness;break;case He:var h=this.textObject.fontSize/this.textObject.fontData.size;t=this.textObject.fontData.lineHeight*h;break}this._textLineHeight=t}return this._textLineHeight}get textLineSpacing(){if(this._textLineSpacing===void 0){var t;switch(this.textObjectType){case xe:case ye:t=this.textObject.lineSpacing;break;case He:t=0;break}this._textLineSpacing=t}return this._textLineSpacing}get visibleLinesCount(){return this._visibleLinesCount===void 0&&(this._visibleLinesCount=Math.floor(BR.call(this,this._textObjectRealHeight))),this._visibleLinesCount}get topTextOY(){return 0}get bottomTextOY(){return-this.textVisibleHeight}get textHeight(){return this._textHeight===void 0&&(this._textHeight=GR.call(this,this.linesCount)),this._textHeight}get textObjectHeight(){return this._textObjectRealHeight-(this.textLineHeight+this.textLineSpacing)}get textVisibleHeight(){if(this._textVisibleHeight===void 0){var t=this.textHeight-this.textObjectHeight;!this.alwaysScrollable&&t<0&&(t=0),this._textVisibleHeight=t}return this._textVisibleHeight}textOYExceedTop(t){return t===void 0&&(t=this.textOY),t>this.topTextOY}textOYExeceedBottom(t){return t===void 0&&(t=this.textOY),t<this.bottomTextOY}get textOY(){return this._textOY}set textOY(t){var s=this.topTextOY,h=this.bottomTextOY,S=this.textOYExceedTop(t),E=this.textOYExeceedBottom(t);this.clampTextOY&&(this.visibleLinesCount>this.linesCount?t=0:S?t=s:E&&(t=h)),this._textOY!==t&&(this._textOY=t,this.updateTextObject()),S&&(this.execeedTopState||this.emit("execeedtop",this,t,s)),this.execeedTopState=S,E&&(this.execeedBottomState||this.emit("execeedbottom",this,t,h)),this.execeedBottomState=E}setTextOY(t){return this.textOY=t,this}set t(t){this.textOY=-this.textVisibleHeight*t}get t(){var t=this.textVisibleHeight;return t===0?0:this.textOY/-t}setTextOYByPercentage(t){return this.t=t,this}};r(nx,"TextBlock");let Xu=nx;var QV=r(function(e){return e.add.text(0,0,"")},"CreateDefaultTextObject");Object.assign(Xu.prototype,ZV);var jV=r(function(e){Object.defineProperty(e,"childOY",{configurable:!0,get:r(function(){return e.textOY},"get"),set:r(function(t){e.textOY=t},"set")}),Object.defineProperty(e,"topChildOY",{get:r(function(){return e.topTextOY},"get")}),Object.defineProperty(e,"bottomChildOY",{get:r(function(){return e.bottomTextOY},"get")}),Object.defineProperty(e,"childVisibleHeight",{get:r(function(){return e.textObjectHeight},"get")}),Object.defineProperty(e,"childHeight",{get:r(function(){return e.textHeight},"get")})},"InjectProperties$2");const qV={setText(e){var t=this.childrenMap.child;return t.setText(e),this.resizeController(),this},appendText(e){return this.setText(this.text+e),this}},_V={scrollToLine(e){return this.setChildOY(-this.lineHeight*e),this},scrollToNextLine(e){e===void 0&&(e=1);var t=this.lineIndex+e;return this.scrollToLine(t),this}},Ai=Phaser.Utils.Objects.GetValue,ax=class ax extends Lr{constructor(t,s){s===void 0&&(s={});var h=Ai(s,"text",void 0),S=Ai(s,"textWidth",void 0),E=Ai(s,"textHeight",void 0),n=Ai(s,"textCrop",!!h.setCrop),T=Ai(s,"textMask",!n),i=Ai(s,"content",""),f=new Xu(t,{width:S,height:E,text:h,textMask:T,textCrop:n&&!T,content:i,clamplTextOY:Ai(s,"clamplChildOY",!1),alwaysScrollable:Ai(s,"alwaysScrollable",!1)});t.add.existing(f),jV(f),s.scrollMode=0,s.type="rexTextArea",s.child={gameObject:f,expandWidth:S===void 0,expandHeight:E===void 0};var y=Ai(s,"space",void 0);y&&(y.child=Ai(y,"text",0)),super(t,s),this.addChildrenMap("text",h)}get text(){return this.childrenMap.child.text}get lineHeight(){var t=this.childrenMap.child;return t.textLineHeight+t.textLineSpacing}get lineIndex(){return Math.floor(-this.childOY/this.lineHeight)}get linesCount(){var t=this.childrenMap.child;return t.linesCount}get contentHeight(){var t=this.childrenMap.child;return t.textHeight}};r(ax,"TextArea");let Or=ax;Object.assign(Or.prototype,qV,_V);const Yl=Phaser.Utils.Objects.GetValue;var UR=r(function(e,t,s){t=t?ce(t):{};var h=Yl(s,"background",Fe),S=Yl(s,"text",Rg),E=Yl(s,"track",Fe),n=Yl(s,"thumb",Fe);h?t.background=h(e,t.background):delete t.background,S?t.text=S(e,t.text):delete t.text;var T=t.slider;T!==!1&&T!==null&&(T===void 0&&(T={}),E?T.track=E(e,T.track):delete T.track,n?T.thumb=n(e,T.thumb):delete T.thumb,t.slider=T);var i=new Or(e,t);return e.add.existing(i),i},"CreateTextArea"),Rg=r(function(e,t){var s;t&&(t.hasOwnProperty("$type")?s=t.$type:t.hasOwnProperty("key")&&(s="bitmaptext"));var h;switch(s){case"bitmaptext":case"bitmap":h=new Aa(e,t);break;case"bbcodetext":case"bbcode":h=new Is(e,0,0,"",t);break;case"label":h=new wr(e,t);break;case"textarea":h=UR(e,t);break;default:h=new Ra(e,t);break}return Tg(h,t),e.add.existing(h),h},"CreateText"),VC=r(function(e,t){var s;t&&(t.hasOwnProperty("$type")?s=t.$type:t.hasOwnProperty("leftWidth")?s="nineSlice":(t.hasOwnProperty("color")||t.hasOwnProperty("strokeColor"))&&(s="roundRectangle"));var h;switch(s){case"nineSlice":t.hasOwnProperty("stretchMode")?h=new Ar(e,t):h=new Rr(e,t);break;case"roundRectangle":h=new Pr(e,t);break;default:h=new Er(e,t);break}return Tg(h,t),e.add.existing(h),h},"CreateImage");const kl=Phaser.Utils.Objects.GetValue;var Hd=r(function(e,t,s){t=t?ce(t):{};var h=kl(s,"background",Fe),S=kl(s,"text",Rg),E=kl(s,"icon",VC),n=kl(s,"action",VC);return t.background!==null&&h?t.background=h(e,t.background):delete t.background,t.text!==null&&S?t.text=S(e,t.text):delete t.text,t.icon!==null&&E?t.icon=E(e,t.icon):delete t.icon,t.action!==null&&n?t.action=n(e,t.action):delete t.action,t},"BuildLabelConfig");const hx=class hx extends xi{constructor(t,s,h){s=Hd(t,s,h),super(t,s),this.type="rexSimpleLabel"}setActiveState(t){return vc(this.getChildren(),"setActiveState",t),this}setHoverState(t){return vc(this.getChildren(),"setHoverState",t),this}setDisableState(t){return vc(this.getChildren(),"setDisableState",t),this}};r(hx,"SimpleLabel");let wr=hx;var vc=r(function(e,t,s){for(var h=0,S=e.length;h<S;h++){var E=e[h];E&&E[t]&&E[t](s)}},"RunMethod$1");st.register("simpleLabel",function(e,t){var s=new wr(this.scene,e,t);return this.scene.add.existing(s),s});it(window,"RexPlugins.UI.SimpleLabel",wr);const ct=Phaser.Utils.Objects.GetValue;var tW=r(function(e){var t=this.scene,s=ct(e,"orientation",0);this.setOrientation(s);var h=ct(e,"icon",void 0),S=ct(e,"iconMask",void 0),E=ct(e,"innerBackground",void 0),n=ct(e,"title",void 0),T=ct(e,"separator",void 0),i=ct(e,"text",void 0),f=ct(e,"action",void 0),y=ct(e,"actionMask",void 0);if(h){var c=ct(e,"align.icon","center"),C;this.orientation===0?C={right:ct(e,"space.icon",0),top:ct(e,"space.iconTop",0),bottom:ct(e,"space.iconBottom",0),left:ct(e,"space.iconLeft",0)}:C={bottom:ct(e,"space.icon",0),left:ct(e,"space.iconLeft",0),right:ct(e,"space.iconRight",0),top:ct(e,"space.iconTop",0)};var o=ct(e,"squareFitIcon",!1)?1:0;if(this.add(h,{proportion:0,align:c,padding:C,fitRatio:o}),S&&(S=mi.call(this,h,h,1)),!o){var l=ct(e,"iconSize",void 0);this.setIconSize(ct(e,"iconWidth",l),ct(e,"iconHeight",l))}}var a=new Tt(t,{orientation:1});E&&a.addBackground(E);var u=ct(e,"space.separator",0);if(n){var c=ct(e,"align.title","left"),v=ct(e,"expandTitleWidth",!1),d=ct(e,"expandTitleHeight",!1),p,C,g;p=d?1:0,g=v,C={bottom:!T&&i?u:0,left:ct(e,"space.titleLeft",0),right:ct(e,"space.titleRight",0)},a.add(n,{proportion:p,expand:g,align:c,padding:C})}if(T){var C={top:n?u:0,bottom:i?u:0,left:ct(e,"space.separatorLeft",0),right:ct(e,"space.separatorRight",0)};a.add(T,{expand:!0,padding:C})}if(i){var c=ct(e,"align.text","left"),m=ct(e,"expandTextWidth",!1),x=ct(e,"expandTextHeight",!1),p,C,g;p=x?1:0,g=m,C={left:ct(e,"space.textLeft",0),right:ct(e,"space.textRight",0)},a.add(i,{proportion:p,expand:g,align:c,padding:C})}var C=void 0;if(f&&(C={right:ct(e,"space.text",0)}),this.add(a,{proportion:1,padding:C}),f){var c=ct(e,"align.action","center"),C;this.orientation===0?C={top:ct(e,"space.actionTop",0),bottom:ct(e,"space.actionBottom",0),right:ct(e,"space.actionRight",0)}:C={left:ct(e,"space.actionLeft",0),right:ct(e,"space.actionRight",0),bottom:ct(e,"space.actionBottom",0)};var o=ct(e,"squareFitAction",!1)?1:0;if(this.add(f,{proportion:0,align:c,padding:C,fitRatio:o}),y&&(y=mi.call(this,f,f,1)),!o){var P=ct(e,"actionSize");this.setActionSize(ct(e,"actionWidth",P),ct(e,"actionHeight",P))}}this.addChildrenMap("icon",h),this.addChildrenMap("iconMask",S),this.addChildrenMap("innerSizer",a),this.addChildrenMap("innerBackground",E),this.addChildrenMap("title",n),this.addChildrenMap("separator",T),this.addChildrenMap("text",i),this.addChildrenMap("action",f),this.addChildrenMap("actionMask",y)},"LayoutMode0$2");const ft=Phaser.Utils.Objects.GetValue;var eW=r(function(e){this.setOrientation(1),this.setRTL(!1);var t=this.scene,s=ft(e,"title",void 0),h=ft(e,"separator",void 0),S=ft(e,"innerBackground",void 0),E=ft(e,"icon",void 0),n=ft(e,"iconMask",void 0),T=ft(e,"text",void 0),i=ft(e,"action",void 0),f=ft(e,"actionMask",void 0);if(s){var y=ft(e,"align.title","left"),c=ft(e,"expandTitleWidth",!1),o=ft(e,"expandTitleHeight",!1),l,a,u;l=o?1:0,u=c,a={bottom:ft(e,"space.title",0),left:ft(e,"space.titleLeft",0),right:ft(e,"space.titleRight",0)},this.add(s,{proportion:l,expand:u,align:y,padding:a})}if(h){var v=ft(e,"space.separator",0),a={top:s?v:0,bottom:T?v:0,left:ft(e,"space.separatorLeft",0),right:ft(e,"space.separatorRight",0)};this.add(h,{proportion:0,expand:!0,padding:a})}var d=ft(e,"orientation",0),p=new Tt(t,{orientation:d,rtl:ft(e,"rtl",!1),space:{left:ft(e,"space.innerLeft",0),right:ft(e,"space.innerRight",0),top:ft(e,"space.innerTop",0),bottom:ft(e,"space.innerBottom",0)}});if(S&&p.addBackground(S),this.add(p,{proportion:1,expand:!0}),E){var y=ft(e,"align.icon","center"),a;p.orientation===0?a={right:ft(e,"space.icon",0),top:ft(e,"space.iconTop",0),bottom:ft(e,"space.iconBottom",0),left:ft(e,"space.iconLeft",0)}:a={bottom:ft(e,"space.icon",0),left:ft(e,"space.iconLeft",0),right:ft(e,"space.iconRight",0),top:ft(e,"space.iconTop",0)};var g=ft(e,"squareFitIcon",!1)?1:0;if(p.add(E,{proportion:0,align:y,padding:a,fitRatio:g}),n&&(n=mi.call(this,E,E,1)),!g){var m=ft(e,"iconSize",void 0);this.setIconSize(ft(e,"iconWidth",m),ft(e,"iconHeight",m))}}if(T){var y=ft(e,"align.text","left"),x=ft(e,"space.text",0),C=ft(e,"expandTextWidth",!1),P=ft(e,"expandTextHeight",!1),l,a,u;p.orientation===0?(l=C?1:0,i&&(a={right:x}),u=P):(l=P?1:0,i&&(a={bottom:x}),u=C),p.add(T,{proportion:l,expand:u,align:y,padding:a})}if(i){var y=ft(e,"align.action","center"),a;p.orientation===0?a={top:ft(e,"space.actionTop",0),bottom:ft(e,"space.actionBottom",0),right:ft(e,"space.actionRight",0)}:a={left:ft(e,"space.actionLeft",0),right:ft(e,"space.actionRight",0),bottom:ft(e,"space.actionBottom",0)};var g=ft(e,"squareFitAction",!1)?1:0;if(p.add(i,{proportion:0,align:y,padding:a,fitRatio:g}),f&&(f=mi.call(this,i,i,1)),!g){var A=ft(e,"actionSize");this.setActionSize(ft(e,"actionWidth",A),ft(e,"actionHeight",A))}}this.addChildrenMap("title",s),this.addChildrenMap("separator",h),this.addChildrenMap("innerSizer",p),this.addChildrenMap("innerBackground",S),this.addChildrenMap("icon",E),this.addChildrenMap("iconMask",n),this.addChildrenMap("text",T),this.addChildrenMap("action",i),this.addChildrenMap("actionMask",f)},"LayoutMode1$1");const en=Phaser.Utils.Objects.GetValue,WC=[tW,eW],ox=class ox extends uo{constructor(t,s){s===void 0&&(s={}),super(t,s),this.type="rexTitleLabel";var h=en(s,"background",void 0);h&&this.addBackground(h);var S=en(s,"title",void 0),E=en(s,"text",void 0);if(S){var n=en(s,"wrapTitle",!1);n&&(n===!0&&(n="word"),Ov(S,n),s.expandTitleWidth=!0,Hu(S))}if(E){var T=en(s,"wrapText",!1);T&&(T===!0&&(T="word"),Ov(E,T),s.expandTextWidth=!0,Hu(E))}var i=en(s,"layoutMode",0),f=WC[i]||WC[0];f.call(this,s),this.addChildrenMap("background",s.background)}get title(){var t=this.childrenMap.title;return t?t.title:""}set title(t){var s=this.childrenMap.title;s&&s.setText(t)}setTitle(t){return this.title=t,this}resetDisplayContent(t){t===void 0?t={}:typeof t=="string"&&(t={text:t}),super.resetDisplayContent(t);var s=this.childrenMap.title;return s&&(t.title===void 0||(t.title?(this.show(s),this.setTitle(t.title)):this.hide(s))),this}};r(ox,"TitleLabel");let La=ox;st.register("titleLabel",function(e){var t=new La(this.scene,e);return this.scene.add.existing(t),t});it(window,"RexPlugins.UI.TitleLabel",La);const pc=Phaser.Utils.Objects.GetValue;var VR=r(function(e,t,s){var h=pc(s,"innerBackground",Fe),S=pc(s,"separator",Fe),E=pc(s,"title",Rg),n,T;t.innerBackground!==null&&h&&(n=h(e,t.innerBackground)),t.separator!==null&&S&&(T=S(e,t.separator)),t=Hd(e,t,s),n?t.innerBackground=n:delete t.innerBackground,T?t.separator=T:delete t.separator,t.title!==null&&E?t.title=E(e,t.title):delete t.title;var i=t.background;return i&&(n?e.children.moveBelow(i,n):T&&e.children.moveBelow(i,T)),t},"BuildTitleLabelConfig");const lx=class lx extends La{constructor(t,s,h){s=VR(t,s,h),super(t,s),this.type="rexSimpleTitleLabel"}setActiveState(t){return gc(this.getChildren(),"setActiveState",t),this}setHoverState(t){return gc(this.getChildren(),"setHoverState",t),this}setDisableState(t){return gc(this.getChildren(),"setDisableState",t),this}};r(lx,"SimpleTitleLabel");let $u=lx;var gc=r(function(e,t,s){for(var h=0,S=e.length;h<S;h++){var E=e[h];E&&E[t]&&E[t](s)}},"RunMethod");st.register("simpleTitleLabel",function(e,t){var s=new $u(this.scene,e,t);return this.scene.add.existing(s),s});it(window,"RexPlugins.UI.SimpleTitleLabel",$u);const Pt=Phaser.Utils.Objects.GetValue,iW=Phaser.Utils.Objects.IsPlainObject;var sW=r(function(e,t){var s=Pt(t,"background",void 0),h=Pt(t,"icon",void 0),S=Pt(t,"iconMask",void 0),E=Pt(t,"nameText",void 0),n=Pt(t,"valueText",void 0),T=Pt(t,"bar",void 0),i=Pt(t,"action",void 0),f=Pt(t,"actionMask",void 0),y=Pt(t,"barShape","line")==="line";if(iW(T)){var c=y?Jh:Zh;T=new c(e,T),e.add.existing(T),E&&e.children.moveBelow(T,E),n&&e.children.moveBelow(T,n)}var o=E||n||T;if(s&&this.addBackground(s),h){var l=void 0;this.orientation===0?(o||i)&&(l={right:Pt(t,"space.icon",0),top:Pt(t,"space.iconTop",0),bottom:Pt(t,"space.iconBottom",0)}):(o||i)&&(l={bottom:Pt(t,"space.icon",0),left:Pt(t,"space.iconLeft",0),right:Pt(t,"space.iconRight",0)}),this.add(h,{proportion:0,padding:l}),S&&(S=mi.call(this,h,h,1))}if(o){var a=new Tt(e,{orientation:1}),u;if(E||n){if(u=new Tt(e,{orientation:0}),E){E.text===""&&E.setText(" "),E.setOrigin(0,E.originY);var l={left:Pt(t,"space.name",0)};u.add(E,{padding:l})}if(n){n.text===""&&n.setText(" "),n.setOrigin(1,n.originY),u.addSpace();var l={right:Pt(t,"space.value",0)};u.add(n,{padding:l}),this.setValueTextFormatCallback(Pt(t,"valueTextFormatCallback",rW),Pt(t,"valueTextFormatCallbackScope",void 0))}a.add(u,{expand:!0})}if(T)if(y){var v=u?Pt(t,"space.bar"):0;v===void 0&&(v=Pt(t,"space.barTop",0));var l={top:v,bottom:Pt(t,"space.barBottom",0),left:Pt(t,"space.barLeft",0),right:Pt(t,"space.barRight",0)};a.add(T,{expand:!0,padding:l})}else{var l={top:Pt(t,"space.barTop",0),bottom:Pt(t,"space.barBottom",0),left:Pt(t,"space.barLeft",0),right:Pt(t,"space.barRight",0)};this.addBackground(T,l)}var l=void 0;i&&(l={right:Pt(t,"space.text",0)});var d=Pt(t,"align.text","bottom");this.add(a,{proportion:1,align:d,padding:l})}if(i){var l;this.orientation===0?l={top:Pt(t,"space.actionTop",0),bottom:Pt(t,"space.actionBottom",0)}:l={left:Pt(t,"space.actionLeft",0),right:Pt(t,"space.actionRight",0)},this.add(i,{proportion:0,padding:l}),f&&(f=mi.call(this,i,i,1))}this.addChildrenMap("background",s),this.addChildrenMap("icon",h),this.addChildrenMap("iconMask",S),this.addChildrenMap("name",E),this.addChildrenMap("value",n),this.addChildrenMap("bar",T),this.addChildrenMap("action",i),this.addChildrenMap("actionMask",f)},"Build$1"),rW=r(function(e,t,s){return e.toString()},"DefaultValueTextFormatCallback");const nW=Phaser.Math.Clamp,aW={setValueTextFormatCallback(e,t){return this.valueTextFormatCallback=e,this.valueTextFormatCallbackScope=t,this},getFormatValueText(e,t,s){e===void 0&&(e=this.value),t===void 0&&(t=this.minValue),s===void 0&&(s=this.maxValue);var h;return this.valueTextFormatCallbackScope?h=this.valueTextFormatCallback(e,t,s):h=this.valueTextFormatCallback.call(this.valueTextFormatCallbackScope,e,t,s),h},updateValueText(e,t,s){var h=this.childrenMap.value;return h&&this.valueTextFormatCallback&&(h.setText(this.getFormatValueText(e,t,s)),h.layout&&h.layout()),this},setValue(e,t,s){return t===void 0?t=this.minValue:this.minValue=t,s===void 0?s=this.maxValue:this.maxValue=s,e=nW(e,t,s),this.value=e,this.updateValueText(e,t,s),this.setBarValue(e,t,s),this},setEaseValueDuration(e){return this.easeValueDuration=e,this},easeValueTo(e,t,s){return t===void 0?t=this.minValue:this.minValue=t,s===void 0?s=this.maxValue:this.maxValue=s,this.easeValueTask===void 0&&(this.easeValueTask=new vi(this),this.easeValueTask.on("update",function(){this.setValue(this.value,this.minValue,this.maxValue)},this)),this.easeValueTask.restart({key:"value",to:e,duration:this.easeValueDuration}),this}},ux=class ux extends Tt{constructor(t,s){super(t,s),this.type="rexNameValueLabel",sW.call(this,t,s),this.setEaseValueDuration(1e3)}get nameText(){var t=this.childrenMap.name;return t===void 0?"":t.text}set nameText(t){var s=this.childrenMap.name;s!==void 0&&s.setText(t)}setNameText(t){return this.nameText=t,this}get valueText(){var t=this.childrenMap.value;return t===void 0?"":t.text}set valueText(t){var s=this.childrenMap.value;s!==void 0&&s.setText(t)}setValueText(t){return this.valueText=t,this}get barValue(){var t=this.childrenMap.bar;if(t!==void 0)return t.value}set barValue(t){var s=this.childrenMap.bar;s!==void 0&&s.setValue(t)}setBarValue(t,s,h){var S=this.childrenMap.bar;return S===void 0?this:(S.setValue(t,s,h),this)}easeBarValueTo(t,s,h){var S=this.childrenMap.bar;return S===void 0?this:(S.easeValueTo(t,s,h),this)}setTexture(t,s){var h=this.childrenMap.icon;if(h!==void 0)return h.setTexture(t,s),this}get texture(){var t=this.childrenMap.icon;if(t!==void 0)return t.texture}get frame(){var t=this.childrenMap.icon;if(t!==void 0)return t.frame}postLayout(t,s,h){var S=this.childrenMap.iconMask;S&&(S.setPosition(),this.resetChildPositionState(S));var E=this.childrenMap.actionMask;return E&&(E.setPosition(),this.resetChildPositionState(E)),this}resize(t,s){super.resize(t,s);var h=this.childrenMap.iconMask;h&&h.resize();var S=this.childrenMap.actionMask;return S&&S.resize(),this}};r(ux,"NameValueLabel");let Oa=ux;Object.assign(Oa.prototype,aW);st.register("nameValueLabel",function(e){var t=new Oa(this.scene,e);return this.scene.add.existing(t),t});it(window,"RexPlugins.UI.NameValueLabel",Oa);const dx=class dx extends pP{constructor(t){super(),this.setTable(Lt(t,"table")),this.setMaxLevel(Lt(t,"maxLevel"));var s=Lt(t,"exp",0),h=Lt(t,"level",void 0);h!==void 0&&!this.checkLevel(h,s)&&(console.error(`Level ${h} and Exp ${s} are mismatch`),h=void 0),this.resetExp(s,h)}setTable(t){return this.levelTable=t,this.isLevelMapFunction=ns(t),this}setMaxLevel(t){t===void 0&&(Array.isArray(this.levelTable)?t=this.levelTable.length-1:t=-1);var s;return t!==-1?s=this.getExp(t):s=-1,this.hasMaxLevel=t!==-1,this.maxLevel=t,this.maxExp=s,this}resetExp(t,s){return this.hasMaxLevel&&t>this.maxExp&&(t=this.maxExp),s===void 0&&(s=this.getLevel(t)),this._exp=t,this._level=s,this._requiredExp=this.getRequiredExpToNextLevel(s,t),this}get exp(){return this._exp}set exp(t){if(this.hasMaxLevel&&t>this.maxExp&&(t=this.maxExp),t<this._exp){this.resetExp(t);return}if(t!==this._exp){for(var s=this.getLevel(t,this._level),h=this._level,S=this._exp,E;;){var n=this.getExp(h),T=this.getExp(h+1);if(E=Math.min(T,t),this.emit("levelup",h,S,E,n,T),h===s&&E===t)break;h++,S=T}this.resetExp(t,s)}}get level(){return this._level}set level(t){this.hasMaxLevel&&t>this.maxLevel?this.exp=this.maxExp:this.exp=this.getExp(t)}get requiredExp(){return this._requiredExp}getExp(t){return t===void 0?this._exp:this.isLevelMapFunction?this.levelTable(t):(this.hasMaxLevel&&t>this.maxLevel&&(t=this.maxLevel),this.levelTable[t])}getLevel(t,s){if(t===void 0)return this._level;for(s===void 0&&(s=0);;){var h=this.getExp(s+1);if(h>t||(s++,this.hasMaxLevel&&h===this.maxExp))break}return s}getRequiredExpToNextLevel(t,s){return t===void 0&&(t=this.level),s===void 0&&(s=this.exp),this.getExp(t+1)-s}checkLevel(t,s){return s>=this.getExp(t)&&s<this.getExp(t+1)}gainExp(t,s,h){return s&&this.on("levelup",s,h),this.exp+=t,s&&this.off("levelup",s,h),this}setExp(t,s,h){return s&&this.on("levelup",s,h),this.exp=t,s&&this.off("levelup",s,h),this}setLevel(t,s,h){return s&&this.on("levelup",s,h),this.level=t,s&&this.off("levelup",s,h),this}};r(dx,"LevelCounter");let Nv=dx;var Uv=r(function(e,t,s){var h=Lt(s,"reverse",!1),S;if(gi(e[0]))if(h)for(var n=e.length,E=n-1;E>=0;E--)S=Uv(e[E],t,s);else for(var E=0,n=e.length;E<n;E++)S=Uv(e[E],t,s);else S=hW(e,t,s);return S},"RunCommands"),hW=r(function(e,t,s){var h=Lt(s,"argsConvert",void 0),S=Lt(s,"argsConvertScope",void 0),E=e[0];if(Ts=bu(Ts,e,1),h){h===!0&&(h=Np,S=void 0);for(var n=0,T=Ts.length;n<T;n++)S?Ts[n]=h.call(S,Ts[n],e):Ts[n]=h(Ts[n],e)}var i;typeof E=="string"?(i=t[E],i==null&&(i=Lt(t,E,null))):i=E;var f=i.apply(t,Ts);return f},"RunCommand"),Ts=[];const oi=Phaser.Utils.Objects.GetValue,fx=class fx extends Gt{constructor(t,s){super(t,s);var h=oi(s,"clock",void 0);h||(h=new Pu(t)),this.clock=h,this.clock.on("update",this.update,this),this.commands=[],this.resetFromJSON(s)}resetFromJSON(t){return this.clock.resetFromJSON(oi(t,"clock",void 0)),this.state=oi(t,"state",0),this.commands=oi(t,"commands",[]),this.scope=oi(t,"scope",void 0),this.setTimeUnit(oi(t,"timeUnit",0)),this.setDtMode(oi(t,"dtMode",0)),this.index=oi(t,"index",0),this.nextTime=oi(t,"nextTime",0),this}toJSON(){return{clock:this.clock.toJSON(),state:this.state,commands:this.commands,scope:this.scope,timeUnit:this.timeUnit,dtMode:this.dtMode,index:this.index,nextTime:this.nextTime}}shutdown(t){this.isShutdown||(this.clock.shutdown(t),this.commands=void 0,super.shutdown(t))}load(t,s,h){this.stop();var S=oi(h,"timeUnit",void 0);S!==void 0&&this.setTimeUnit(S);var E=oi(h,"dtMode",void 0);return E!==void 0&&this.setDtMode(E),t=t.filter(function(n){var T=n[0];return!isNaN(T)}).map(function(n){var T=n[0];return typeof T=="string"&&(n[0]=parseFloat(n[0])),n}),this.dtMode===0&&t.sort(function(n,T){var i=n[0],f=T[0];return i>f?1:i<f?-1:0}),bu(this.commands,t),this.scope=s,this}clear(){return this.commands.length=0,this}append(t,s,...h){var S;return Array.isArray(s)?S=s:S=[s,...h],this.commands.push([t,S]),this}start(t){return t===void 0&&(t=0),this.stop(),this.index=0,this.state=1,this.nextTime=this.getNextDt(0),this.clock.start(t),this.update(t),this.emit("start",this.parent,this),this}pause(){return this.clock.pause(),this.emit("pause",this.parent,this),this}resume(){return this.clock.resume(),this.emit("resume",this.parent,this),this}stop(){return this.clock.stop(),this.state=0,this.emit("stop",this.parent,this),this}seek(t){return this.clock.seek(t),this}seekToNext(){return this.seek(this.nextTime),this}get isPlaying(){return this.clock.isRunning}get completed(){return this.state===2}get timeScale(){return this.clock.timeScale}set timeScale(t){this.clock.timeScale=t}setTimeScale(t){return this.timeScale=t,this}get now(){return this.clock.now}update(t){if(this.nextTime>t)return this;for(var s=this.commands;;){var h=s[this.index],S=h[1];if(gi(S)||(S=bu(oW,h,1)),Uv(S,this.scope),this.emit("runcommand",S,this.scope),this.index>=s.length-1)return this.nextTime=0,this.complete(),this;if(this.index++,this.nextTime=this.getNextDt(this.nextTime),this.nextTime>t)return this}}complete(){this.clock.stop(),this.state=2,this.emit("complete",this.parent,this)}getNextDt(t){var s=this.commands[this.index][0];return this.timeUnit===1&&(s=s*1e3),this.dtMode===1&&(s+=t),s}setDtMode(t){return typeof t=="string"&&(t=uW[t]),this.dtMode=t,this}setTimeUnit(t){return typeof t=="string"&&(t=lW[t]),this.timeUnit=t,this}};r(fx,"Player");let Ku=fx;var oW=[];const lW={ms:0,s:1,sec:1},uW={abs:0,absolute:0,inc:1,increment:1};var dW=r(function(e,t,s,h,S){var E=(s-t)/(S-h)*this.totalEaseDuration,n=s===S?e+1:e;this.player.append(0,this.setEaseValueDuration,E).append(0,this.easeValueTo,s,h,S).append(0,this.emit,"levelup.start",e,t,s,this).append(E,ee).append(0,this.emit,"levelup.end",n,t,s,this),this.player.isPlaying||this.player.start()},"OnLevelUp");const fW={setExpTable(e){return this.levelCounter.setTable(e),this},resetExp(e){return this.levelCounter.resetExp(e),this.setValue(this.exp,this.getExp(this.level),this.getExp(this.level+1)),this},getExp(e){return this.levelCounter.getExp(e)},getLevel(e,t){return this.levelCounter.getLevel(e,t)},getRequiredExpToNextLevel(e,t){return this.levelCounter.getRequiredExpToNextLevel(e,t)},gainExp(e){return this.levelCounter.gainExp(e),this},setExp(e){return this.levelCounter.setExp(e),this},setLevel(e){return this.levelCounter.setLevel(e),this}},zC=Phaser.Utils.Objects.GetValue,cx=class cx extends Oa{constructor(t,s){super(t,s),this.type="rexExpBar",this.setTotalEaseDuration(zC(s,"easeDuration",1e3)),this.levelCounter=new Nv(zC(s,"levelCounter")),this.player=new Ku(this,{scope:this,dtMode:1}),this.levelCounter.on("levelup",dW,this),this.player.on("complete",function(){this.player.clear(),this.emit("levelup.complete",this.level,this)},this),this.setValue(this.exp,this.getExp(this.level),this.getExp(this.level+1))}destroy(t){!this.scene||this.ignoreDestroy||(this.levelCounter.destroy(),this.levelCounter=void 0,this.player.destroy(),this.player=void 0,super.destroy(t))}get exp(){return this.levelCounter.exp}set exp(t){this.levelCounter.exp=t}get level(){return this.levelCounter.level}set level(t){this.levelCounter.level=t}get requiredExp(){return this.levelCounter.requiredExp}setTotalEaseDuration(t){return this.totalEaseDuration=t,this}};r(cx,"ExpBar");let vo=cx;Object.assign(vo.prototype,fW);st.register("expBar",function(e){var t=new vo(this.scene,e);return this.scene.add.existing(t),t});it(window,"RexPlugins.UI.ExpBar",vo);const Hl=Tt.prototype.add,YC=Tt.prototype.addSpace;var mc=r(function(e){var t=!e.isRexSpace,s=!t||this.buttonsExpand?1:0;if(this.sizerChildren.length===0)if(t){var h=!this.buttonsExpand&&(this.buttonsAlign==="right"||this.buttonsAlign==="center"||this.buttonsAlign==="bottom");h&&YC.call(this),Hl.call(this,e,{proportion:s,expand:!0});var S=!this.buttonsExpand&&this.buttonsAlign==="center";S&&YC.call(this),this.hasTailSpace=S}else Hl.call(this,e,{proportion:s,expand:!0}),this.hasTailSpace=!1;else if(this.hasTailSpace){var E=this.sizerChildren.length-1;Hl.call(this,e,{index:E,proportion:s,expand:!0})}else Hl.call(this,e,{proportion:s,expand:!0});return t&&this.buttonGroup.add(e),this},"Add$2");const cW={addButton(e){if(gi(e))for(var t=e,s=0,h=t.length;s<h;s++)mc.call(this,t[s]);else mc.call(this,e);return this},addButtons(e){for(var t=0,s=e.length;t<s;t++)mc.call(this,e[t]);return this}},vW=Tt.prototype.remove,pW=Tt.prototype.clear;var xc=r(function(e,t){return this.getParentSizer(e)!==this?this:(this.buttonGroup.remove(e),vW.call(this,e,t),this)},"Remove$3");const gW={remove(e,t){if(gi(e))for(var s=e,h=0,S=s.length;h<S;h++)xc.call(this,s[h],t);else xc.call(this,e,t);return this},clear(e){var t=this.buttonGroup.buttons;return t.length=0,pW.call(this,e),this},removeButton(s,t){var s=this.getButton(s);return s?(this.remove(s,t),this):this},clearButtons(e){for(var t=this.buttonGroup.buttons,s=t.length-1;s>=0;s--)xc.call(this,t[s],e);return this}};var mW=r(function(e,t,s){if(e){var h=this.setValueCallback,S=this.setValueCallbackScope;h&&(S?h.call(S,e,t,s):h(e,t,s)),this.fireEvent("button.statechange",e,t,s)}},"OnButtonStateChange"),xW=r(function(e){var t=this;e._selected=void 0,Object.defineProperty(e,"selected",{get:r(function(){return e._selected},"get"),set:r(function(s){if(e._selected!==s){var h=e._selected;e._selected=s,mW.call(t,e,s,h)}},"set"),enumerable:!0,configurable:!0}),e.selected=!1},"InjectSelectedProperty");const yW={add(e){return this.buttons.push(e),e._click||(e._click=new us(e,this.clickConfig),e._click.on("click",function(t,s,h,S){this.fireEvent("button.click",s,h,S)},this).on("enable",function(t,s){this.fireEvent("button.enable",s)},this).on("disable",function(t,s){this.fireEvent("button.disable",s)},this).on("over",function(t,s,h,S){this.fireEvent("button.over",s,h,S)},this).on("out",function(t,s,h,S){this.fireEvent("button.out",s,h,S)},this).on("down",function(t,s,h,S){this.fireEvent("button.down",s,h,S)},this).on("up",function(t,s,h,S){this.fireEvent("button.up",s,h,S)},this)),this.buttonsType&&(e.name===void 0&&console.error(`${this.parent.constructor.name}: Option button miss value`),xW.call(this,e)),this},addMultiple(e){for(var t=0,s=e.length;t<s;t++)this.add(e[t]);return this}},SW=Phaser.Utils.Array.Remove,TW={remove(e){return this.buttonsType&&delete e.selected,SW(this.buttons,e),this},clear(){if(this.buttonsType)for(var e=this.buttons,t=0,s=e.length;t<s;t++)delete e[t].selected;return this.buttons.length=0,this}};var CW=r(function(e,t,...s){if(this.buttons){var h;if(typeof t=="number"){if(h=t,t=this.buttons[h],!t)return}else if(h=this.buttons.indexOf(t),h===-1)return;this.eventEmitter!==this.parent&&this.parent.emit(e,t,h,...s),this.groupName!==void 0?this.eventEmitter.emit(e,t,this.groupName,h,...s):this.eventEmitter.emit(e,t,h,...s)}},"FireEvent");const ph=Phaser.Utils.Objects.GetValue,EW={setButtonsType(e){e===void 0&&(e={});var t=ph(e,"buttonsType",e.type);if(this.buttonsType=t,!this.buttonsType)return this;var s,h;switch(s=ph(e,"setValueCallback",void 0),h=ph(e,"setValueCallbackScope",void 0),s===void 0&&(s=ph(e,"setButtonStateCallback",void 0),h=ph(e,"setButtonStateCallbackScope",void 0)),this.setValueCallback=s,this.setValueCallbackScope=h,t){case"radio":this.setRadioType();break;case"checkboxes":this.setCheckboxesType();break}return this},setRadioType(){var e=this.parent,t=this.buttons;e._value=void 0;var s=void 0;return Object.defineProperty(e,"value",{get:r(function(){return e._value},"get"),set:r(function(h){if(e._value!==h){e._value=h;for(var S=0,E=t.length;S<E;S++){var n=t[S];n.rexSizer.hidden||(s===void 0?n.name===h?n.selected=!0:n.selected=!1:s===S?n.selected=!0:n.selected=!1)}}},"set"),enumerable:!0,configurable:!0}),e.on("button.click",function(h){s=this.buttons.indexOf(h),e.value=h.name,s=void 0},this),this},setCheckboxesType(){var e=this.parent;return e.on("button.click",function(t){t.selected=!t.selected}),this},clearAllButtonsState(){for(var e=this.buttons,t=0,s=e.length;t<s;t++){var h=e[t];h.selected=!1}return this},getAllButtonsState(){for(var e={},t=this.buttons,s=0,h=t.length;s<h;s++){var S=t[s];S.rexSizer.hidden||(e[S.name]=S.selected)}return e},setSelectedButtonName(e){return this.parent.value=e,this},getSelectedButtonName(){return this.parent.value},setButtonState(e,t){t===void 0&&(t=!0);for(var s=this.buttons,h=0,S=s.length;h<S;h++){var E=s[h];if(!E.rexSizer.hidden&&E.name===e){E.selected=t;break}}return this},getButtonState(e){for(var t=this.buttons,s=0,h=t.length;s<h;s++){var S=t[s];if(!S.rexSizer.hidden&&S.name===e)return S.selected}}};var PW=r(function(e,t){if(e)if(gi(e)){for(var s,h=0,S=e.length;h<S;h++)if(s=kC(e[h],t),s)return s}else{var s;for(var E in e)if(s=kC(e[E],t),s)return s}else return null},"GetGameObjectByName"),kC=r(function(e,t){return e?e.hasOwnProperty("name")?e.name===t?e:null:GetElementByName(e,t):null},"TestName");const Xd={getButton(e){var t=this.buttons,s,h=typeof e;switch(h){case"number":s=t[e];break;case"string":s=PW(t,e);break;default:s=e,t.indexOf(s)===-1&&(s=void 0);break}return s},getButtons(){return this.buttons},hasAnyButton(){return this.buttons.length>0},setButtonEnable(e,t){var s=this.buttons;if(e===void 0||typeof e=="boolean"){t=e;for(var h=0,S=s.length;h<S;h++)s[h]._click.setEnable(t)}else this.getButton(e)._click.setEnable(t);return this},toggleButtonEnable(e){var t=this.buttons;if(e===void 0||typeof e=="boolean")for(var s=0,h=t.length;s<h;s++)t[s]._click.toggleEnable();else this.getButton(e)._click.toggleEnable();return this},getButtonEnable(e){return e===void 0&&(e=0),this.getButton(e)._click.enable},emitButtonClick(e){var t=this.buttonGroup?this.buttonGroup:this;return t.fireEvent("button.click",e),this},emitButtonOver(e){for(var t=this.buttonGroup?this.buttonGroup:this,s=this.buttons,h=0,S=s.length;h<S;h++){var E=s[h];E._click.isOver&&(E._click.isOver=!1,t.fireEvent("button.out",E))}var E=this.getButton(e);return E&&(E._click.isOver=!0,t.fireEvent("button.over",E)),this},showButton(e){return Ls(this.getButton(e)),this},hideButton(e){return Os(this.getButton(e)),this},isButtonShown(e){return lg(this.getButton(e)),this},forEachButtton(e,t){for(var s=this.buttons,h=0,S=s.length;h<S;h++)t?e.call(t,s[h],h,s):e(s[h],h,s);return this}},vx=class vx{constructor(t){this.parent=t.parent,this.eventEmitter=t.eventEmitter,this.groupName=t.groupName,this.clickConfig=t.clickConfig,this.buttonsType=void 0,this.buttons=[]}destroy(){this.parent=void 0,this.eventEmitter=void 0,this.clickConfig=void 0,this.buttons=void 0}};r(vx,"ButtonGroup");let wa=vx;var RW={fireEvent:CW};Object.assign(wa.prototype,yW,TW,EW,Xd,RW);const Ag={clearAllButtonsState(){return this.buttonGroup.clearAllButtonsState(),this},getAllButtonsState(){return this.buttonGroup.getAllButtonsState()},setSelectedButtonName(e){return this.buttonGroup.setSelectedButtonName(e),this},getSelectedButtonName(){return this.buttonGroup.getSelectedButtonName()},setButtonState(e,t){return this.buttonGroup.setButtonState(e,t),this},getButtonState(e){return this.buttonGroup.getButtonState(e)}},ir=Phaser.Utils.Objects.GetValue;var ea;let oe=(ea=class extends Tt{constructor(t,s){s===void 0&&(s={});var h=s.space;typeof h=="number"&&(s.space={item:h}),super(t,s),this.type="rexButtons",this.buttonGroup=new wa({parent:this,eventEmitter:ir(s,"eventEmitter",this),groupName:ir(s,"groupName",void 0),clickConfig:ir(s,"click",void 0)}).setButtonsType(s);var S=ir(s,"background",void 0),E=ir(s,"buttons",void 0);this.buttonsExpand=ir(s,"expand",!1),this.buttonsAlign=ir(s,"align",void 0),S&&this.addBackground(S),E&&this.addButtons(E),this.addChildrenMap("background",S),this.addChildrenMap("buttons",this.buttonGroup.buttons)}destroy(t){!this.scene||this.ignoreDestroy||(super.destroy(t),this.buttonGroup.destroy(),this.buttonGroup=void 0)}get buttons(){return this.buttonGroup.buttons}get groupName(){return this.buttonGroup.groupName}set groupName(t){this.buttonGroup.groupName=t}get eventEmitter(){return this.buttonGroup.eventEmitter}},r(ea,"Buttons"),ea);Object.assign(oe.prototype,cW,gW,Xd,Ag);st.register("buttons",function(e){var t=new oe(this.scene,e);return this.scene.add.existing(t),t});it(window,"RexPlugins.UI.Buttons",oe);const AW=$e.prototype.add,LW={addButton(e,t,s){return AW.call(this,e,t,s,void 0,0,this.buttonsExpand),this.buttonGroup.add(e),this},addButtons(e,t){for(var s=0,h=e;s<h;s++)this.addButton(e[s],void 0,t);return this}},OW=$e.prototype.remove,wW=$e.prototype.clear;var yc=r(function(s,t){var s=this.getButton(s);return s?(this.buttonGroup.remove(s),OW.call(this,s,t),this):this},"Remove$2");const MW={remove(e,t){if(gi(e))for(var s=e,h=0,S=s.length;h<S;h++)yc.call(this,s[h],t);else yc.call(this,e,t);return this},clear(e){var t=this.buttonGroup.buttons;return t.length=0,wW.call(this,e),this},removeButton(e,t){return this.remove(e,t),this},clearButtons(e){for(var t=this.buttonGroup.buttons,s=t.length-1;s>=0;s--)yc.call(this,t[s],e);return this}},Li=Phaser.Utils.Objects.GetValue,px=class px extends $e{constructor(t,s){s===void 0&&(s={});var h=Li(s,"row",0),S=Li(s,"column",s.col||0),E=Li(s,"createCellContainerCallback"),n=Li(s,"buttons",void 0),T=Li(s,"expand",!0),i=T?1:0;if(E&&(s.createCellContainerCallback=void 0),n!==void 0){h=Math.max(h,n.length);for(var f=0,y=n.length;f<y;f++)S=Math.max(S,n[f].length)}s.row=h,s.column=S,s.columnProportions=i,s.rowProportions=i,super(t,s),this.type="rexGridButtons",this.buttonGroup=new wa({parent:this,eventEmitter:Li(s,"eventEmitter",this),groupName:Li(s,"groupName",void 0),clickConfig:Li(s,"click",void 0)}).setButtonsType(s);var c=Li(s,"background",void 0);if(this.buttonsExpand=T,Li(s,"space",void 0),c&&this.addBackground(c),n)for(var o,l,a=0,u=n.length;a<u;a++){o=n[a];for(var v=0,d=o.length;v<d;v++)l=o[v],l&&this.addButton(l,v,a)}else if(E)for(var p=0;p<h;p++)for(var g=0;g<S;g++){var l=E(t,g,p);l&&this.addButton(l,g,p)}this.addChildrenMap("background",c),this.addChildrenMap("buttons",this.buttonGroup.buttons)}destroy(t){!this.scene||this.ignoreDestroy||(super.destroy(t),this.buttonGroup.destroy(),this.buttonGroup=void 0)}get buttons(){return this.buttonGroup.buttons}get groupName(){return this.buttonGroup.groupName}set groupName(t){this.buttonGroup.groupName=t}get eventEmitter(){return this.buttonGroup.eventEmitter}};r(px,"GridButtons");let Ma=px;Object.assign(Ma.prototype,LW,MW,Xd,Ag);st.register("gridButtons",function(e){var t=new Ma(this.scene,e);return this.scene.add.existing(t),t});it(window,"RexPlugins.UI.GridButtons",Ma);const WR=hs.prototype.add;var Xl=r(function(e){return WR.call(this,e),this.buttonGroup.add(e),this},"Add$1");const bW={addButton(e){if(gi(e))for(var t=e,s=0,h=t.length;s<h;s++)Xl.call(this,t[s]);else Xl.call(this,e);return this},addButtons(e){if(gi(e[0]))for(var t=e,s,h=0,S=t.length-1;h<=S;h++){s=t[h];for(var E=0,n=s.length;E<n;E++)Xl.call(this,s[E]);h>S&&WR.addNewLine(this)}else for(var E=0,n=e.length;E<n;E++)Xl.call(this,e[E]);return this}},IW=hs.prototype.remove,FW=hs.prototype.clear;var Sc=r(function(s,t){var s=this.getButton(s);return s?(this.buttonGroup.remove(s),IW.call(this,s,t),this):this},"Remove$1");const DW={remove(e,t){if(gi(e))for(var s=e,h=0,S=s.length;h<S;h++)Sc.call(this,s[h],t);else Sc.call(this,e,t);return this},clear(e){var t=this.buttonGroup.buttons;return t.length=0,FW.call(this,e),this},removeButton(e,t){return this.remove(e,t),this},clearButtons(e){for(var t=this.buttonGroup.buttons,s=t.length-1;s>=0;s--)Sc.call(this,t[s],e);return this}},sn=Phaser.Utils.Objects.GetValue,gx=class gx extends hs{constructor(t,s){s===void 0&&(s={});var h=s.space;typeof h=="number"&&(s.space={item:h,line:h}),super(t,s),this.type="rexFixWidthButtons",this.buttonGroup=new wa({parent:this,eventEmitter:sn(s,"eventEmitter",this),groupName:sn(s,"groupName",void 0),clickConfig:sn(s,"click",void 0)}).setButtonsType(s);var S=sn(s,"background",void 0),E=sn(s,"buttons",void 0);this.buttonsAlign=sn(s,"align",void 0),S&&this.addBackground(S),E&&this.addButtons(E),this.addChildrenMap("background",S),this.addChildrenMap("buttons",this.buttonGroup.buttons)}destroy(t){!this.scene||this.ignoreDestroy||(super.destroy(t),this.buttonGroup.destroy(),this.buttonGroup=void 0)}get buttons(){return this.buttonGroup.buttons}get groupName(){return this.buttonGroup.groupName}set groupName(t){this.buttonGroup.groupName=t}get eventEmitter(){return this.buttonGroup.eventEmitter}};r(gx,"Buttons");let Ui=gx;Object.assign(Ui.prototype,bW,DW,Xd,Ag);st.register("fixWidthButtons",function(e){var t=new Ui(this.scene,e);return this.scene.add.existing(t),t});it(window,"RexPlugins.UI.FixWidthButtons",Ui);const BW={setAccept(e){return this.childrenMap.fileChooser.setAccept(e),this},setMultiple(e){return this.childrenMap.fileChooser.setMultiple(e),this},loadFile(e,t,s,h,S){return this.childrenMap.fileChooser.loadFile(e,t,s,h,S),this},loadFilePromise(e,t,s,h){return this.childrenMap.fileChooser.loadFilePromise(e,t,s,h)}},HC=Phaser.Utils.Objects.GetValue,mx=class mx extends xi{constructor(t,s){super(t,s),this.type="rexFileSelectorButton";var h=new Cr(t);t.add.existing(h),this.addBackground(h),this.addChildrenMap("fileChooser",h),this.setAccept(HC(s,"accept","")),this.setMultiple(HC(s,"multiple",!1)),h.on("change",function(S){var E=S.files;E.length!==0&&(E=Array.from(E),this.emit("select",E,this))},this)}get files(){return this.childrenMap.fileChooser.files}};r(mx,"FileSelectorButton");let po=mx;Object.assign(po.prototype,BW);st.register("fileSelectorButton",function(e){var t=new po(this.scene,e);return this.scene.add.existing(t),t});it(window,"RexPlugins.UI.FileSelectorButton",po);const GW={getChoice(e){var t=this.childrenMap.choicesSizer;if(t)return t.getButton(e)},getAction(e){return this.childrenMap.actionsSizer.getButton(e)},getToolbar(e){return this.childrenMap.toolbarSizer.getButton(e)},getLeftToolbar(e){return this.childrenMap.leftToolbarSizer.getButton(e)},setChoiceEnable(e,t){var s=this.childrenMap.choicesSizer;return s&&s.setButtonEnable(e,t),this},setActionEnable(e,t){return this.childrenMap.actionsSizer.setButtonEnable(e,t),this},setToolbarEnable(e,t){return this.childrenMap.toolbarSizer.setButtonEnable(e,t),this},setLeftToolbarEnable(e,t){return this.childrenMap.leftToolbarSizer.setButtonEnable(e,t),this},toggleChoiceEnable(e){var t=this.childrenMap.choicesSizer;return t&&t.toggleButtonEnable(e),this},toggleActionEnable(e){return this.childrenMap.actionsSizer.toggleButtonEnable(e),this},toggleToolbarEnable(e){return this.childrenMap.toolbarSizer.toggleButtonEnable(e),this},toggleLeftToolbarEnable(e){return this.childrenMap.leftToolbarSizer.toggleButtonEnable(e),this},getChoiceEnable(e){var t=this.childrenMap.choicesSizer;return t?t.getButtonEnable(e):!1},getActionEnable(e){return this.childrenMap.actionsSizer.getButtonEnable(e)},getToolbarEnable(e){return this.childrenMap.toolbarSizer.getButtonEnable(e)},getLeftToolbarEnable(e){return this.childrenMap.leftToolbarSizer.getButtonEnable(e)},emitChoiceClick(e){var t=this.childrenMap.choicesSizer;return t&&t.emitButtonClick(e),this},emitActionClick(e){return this.childrenMap.actionsSizer.emitButtonClick(e),this},emitToolbarClick(e){return this.childrenMap.toolbarSizer.emitButtonClick(e),this},emitLeftToolbarClick(e){return this.childrenMap.leftToolbarSizer.emitButtonClick(e),this},showChoice(e){var t=this.childrenMap.choicesSizer;return t&&t.showButton(e),this},showAction(e){return this.childrenMap.actionsSizer.showButton(e),this},showToolbar(e){return this.childrenMap.toolbarSizer.showButton(e),this},showLeftToolbar(e){return this.childrenMap.leftToolbarSizer.showButton(e),this},hideChoice(e){var t=this.childrenMap.choicesSizer;return t&&t.hideButton(e),this},hideAction(e){return this.childrenMap.actionsSizer.hideButton(e),this},hideToolbar(e){return this.childrenMap.toolbarSizer.hideButton(e),this},hideLeftToolbar(e){return this.childrenMap.leftToolbarSizer.hideButton(e),this},addChoice(e){var t=this.childrenMap.choicesSizer;return t&&t.addButton(e),this},addAction(e){return this.childrenMap.actionsSizer.addButton(e),this},addToolbar(e){return this.childrenMap.toolbarSizer.addButton(e),this},addLeftToolbar(e){return this.childrenMap.leftToolbarSizer.addButton(e),this},removeChoice(e,t){var s=this.childrenMap.choicesSizer;return s&&s.removeButton(e,t),this},removeAction(e,t){return this.childrenMap.actionsSizer.removeButton(e,t),this},removeToolbar(e,t){return this.childrenMap.toolbarSizer.removeButton(e,t),this},removeLeftToolbar(e,t){return this.childrenMap.leftToolbarSizer.removeButton(e,t),this},clearChoices(e){var t=this.childrenMap.choicesSizer;return t&&t.clearButtons(e),this},clearActions(e){return this.childrenMap.actionsSizer.clearButtons(e),this},clearToolbar(e){return this.childrenMap.toolbarSizer.clearButtons(e),this},clearLeftToolbar(e){return this.childrenMap.leftToolbarSizer.clearButtons(e),this},forEachChoice(e,t){var s=this.childrenMap.choicesSizer;return s&&s.forEachButtton(e,t),this},forEachAction(e,t){return this.childrenMap.actionsSizer.forEachButtton(e,t),this},forEachToolbar(e,t){return this.childrenMap.toolbarSizer.forEachButtton(e,t),this},forEachLeftToolbar(e,t){return this.childrenMap.leftToolbarSizer.forEachButtton(e,t),this},setAllButtonsEnable(e){return e===void 0&&(e=!0),this.childrenMap.toolbarSizer&&this.setToolbarEnable(e),this.childrenMap.leftToolbarSizer&&this.setLeftToolbarEnable(e),this.childrenMap.actionsSizer&&this.setActionEnable(e),this.childrenMap.choicesSizer&&this.setChoiceEnable(e),this},getChoicesButtonStates(){var e=this.childrenMap.choicesSizer;return e?e.getAllButtonsState():{}},getChoicesButtonState(e){var t=this.childrenMap.choicesSizer;return e===void 0?t?t.getAllButtonsState():{}:t?t.getButtonState(e):!1},setChoicesButtonState(e,t){var s=this.childrenMap.choicesSizer;return s&&s.setButtonState(e,t),this},clearChoicesButtonStates(){var e=this.childrenMap.choicesSizer;return e&&e.clearAllButtonsState(),this},getChoicesSelectedButtonName(){var e=this.childrenMap.choicesSizer;return e?e.getSelectedButtonName():""},setChoicesSelectedButtonName(e){var t=this.childrenMap.choicesSizer;return t&&t.setSelectedButtonName(e),this},hasAnyChoice(){var e=this.childrenMap.choicesSizer;return e?e.hasAnyButton():!1},hasAnyAction(){var e=this.childrenMap.actionsSizer;return e?e.hasAnyButton():!1},hasAnyToolbar(){var e=this.childrenMap.toolbarSizer;return e?e.hasAnyButton():!1},hasAnyLeftToolbar(){var e=this.childrenMap.leftToolbarSizer;return e?e.hasAnyButton():!1}},NW={onCreateModalBehavior(e){e.on("button.click",function(t,s,h,S,E){var n=!1;switch(s){case"actions":n=!0;break;case"choices":e.hasAnyAction()||(n=!0);break}if(n){var T={index:h,text:t.text,button:t,dialog:e};switch(e.buttonsType){case"radio":T.value=e.getChoicesSelectedButtonName();break;case"checkboxes":T.value=e.getChoicesButtonStates();break;default:T.value=void 0}e.modalClose(T)}})},modal(e,t){return e&&e.defaultBehavior===!1?this.onCreateModalBehavior=!1:delete this.onCreateModalBehavior,dg.modal.call(this,e,t),this}};var zR={};Object.assign(zR,GW,NW);const ut=Phaser.Utils.Objects.GetValue,xx=class xx extends Tt{constructor(t,s){s===void 0&&(s={}),s.orientation=1,super(t,s),this.type="rexDialog",this.eventEmitter=ut(s,"eventEmitter",this);var h=ut(s,"background",void 0),S=ut(s,"title",void 0),E=ut(s,"toolbar",void 0),n=ut(s,"toolbarBackground",void 0),T=ut(s,"leftToolbar",void 0),i=ut(s,"leftToolbarBackground",void 0),f=ut(s,"content",void 0),y=ut(s,"description",void 0),c,o=ut(s,"choices",void 0),l=ut(s,"choicesBackground",void 0),a,u=ut(s,"actions",void 0),v=ut(s,"actionsBackground",void 0),d=ut(s,"click",void 0);h&&this.addBackground(h);var p;E&&(p=new oe(t,{groupName:"toolbar",background:n,buttons:E,orientation:0,space:{item:ut(s,"space.toolbarItem",0)},click:d,eventEmitter:this.eventEmitter}),t.add.existing(p));var g;if(T&&(g=new oe(t,{groupName:"leftToolbar",background:i,buttons:T,orientation:0,space:{item:ut(s,"space.leftToolbarItem",0)},click:d,eventEmitter:this.eventEmitter}),t.add.existing(g)),S||E||T){var m=!!S&&ut(s,"expand.title",!0),x=ut(s,"align.title","center"),C=S&&!m&&x==="center"||!S&&(E||T),P=!C,A;P?A=new Tt(t,{orientation:0}):A=new Ne(t),t.add.existing(A);var R=P?!0:{height:!0};if(g&&A.add(g,{align:"left",expand:R}),S){P&&!m&&x==="right"&&A.addSpace();var L={left:ut(s,"space.titleLeft",0),right:ut(s,"space.titleRight",0)},O=m?1:0;A.add(S,{align:x,proportion:O,expand:R,padding:L}),P&&!m&&x==="left"&&A.addSpace()}p&&(P&&!S&&A.addSpace(),A.add(p,{align:"right",expand:R}));var L;(f||y||o||u)&&(L={bottom:ut(s,"space.title",0),top:ut(s,"space.titleTop",0)});var O=ut(s,"proportion.title",0);this.add(A,{padding:L,proportion:O,expand:!0})}if(f){var w=ut(s,"align.content","center"),b=ut(s,"space.content",0),L={left:ut(s,"space.contentLeft",0),right:ut(s,"space.contentRight",0),bottom:y||o||u?b:0},O=ut(s,"proportion.content",0),F=ut(s,"expand.content",!0);this.add(f,{align:w,padding:L,proportion:O,expand:F})}if(y){var w=ut(s,"align.description","center"),M=ut(s,"space.description",0),L={left:ut(s,"space.descriptionLeft",0),right:ut(s,"space.descriptionRight",0),bottom:o||u?M:0},O=ut(s,"proportion.description",0),F=ut(s,"expand.description",!0);this.add(y,{align:w,padding:L,proportion:O,expand:F})}if(o){var I=ut(s,"choicesType","").split("-"),B=gh(I,"wrap")?Ui:gh(I,"grid")?Ma:oe,G=gh(I,"radio")?"radio":gh(I,"checkboxes")?"checkboxes":void 0,N={left:ut(s,"space.choicesBackgroundLeft",0),right:ut(s,"space.choicesBackgroundRight",0),top:ut(s,"space.choicesBackgroundTop",0),bottom:ut(s,"space.choicesBackgroundBottom",0)},z=ut(s,"space.choice",0);B===oe?N.item=z:B===Ui?(N.item=z,N.line=ut(s,"space.choiceLine",z)):(N.column=ut(s,"space.choiceColumn",z),N.row=ut(s,"space.choiceRow",z));var H={width:ut(s,"choicesWidth",void 0),height:ut(s,"choicesHeight",void 0),groupName:"choices",buttonsType:G,background:l,buttons:o,space:N,click:d,eventEmitter:this.eventEmitter,setValueCallback:ut(s,"choicesSetValueCallback",void 0),setValueCallbackScope:ut(s,"choicesSetValueCallbackScope",void 0)};B===oe&&(H.orientation=gh(I,"x")?0:1),c=new B(t,H),t.add.existing(c);var $=ut(s,"space.choices",0),L={left:ut(s,"space.choicesLeft",0),right:ut(s,"space.choicesRight",0),bottom:u?$:0},w=ut(s,"align.choices","center"),O=ut(s,"proportion.choices",0),F=ut(s,"expand.choices",!0);this.add(c,{align:w,padding:L,proportion:O,expand:F}),this.buttonsType=G}if(u){a=new oe(t,{groupName:"actions",background:v,buttons:u,orientation:0,space:{item:ut(s,"space.action",0)},expand:ut(s,"expand.actions",!1),align:ut(s,"align.actions","center"),click:d,eventEmitter:this.eventEmitter}),t.add.existing(a);var L={left:ut(s,"space.actionsLeft",0),right:ut(s,"space.actionsRight",0),bottom:ut(s,"space.actionsBottom",0)},O=ut(s,"proportion.action",0);this.add(a,{align:"center",padding:L,proportion:O,expand:!0})}mh(this,"click"),mh(this,"over"),mh(this,"out"),mh(this,"enable"),mh(this,"disable"),this.addChildrenMap("background",h),this.addChildrenMap("title",S),this.addChildrenMap("toolbar",E),this.addChildrenMap("leftToolbar",T),this.addChildrenMap("content",f),this.addChildrenMap("description",y),this.addChildrenMap("choices",c?c.buttons:void 0),this.addChildrenMap("actions",a?a.buttons:void 0),this.addChildrenMap("choicesSizer",c),this.addChildrenMap("actionsSizer",a),this.addChildrenMap("toolbarSizer",p),this.addChildrenMap("leftToolbarSizer",g)}};r(xx,"Dialog");let ba=xx;var gh=r(function(e,t){return e.indexOf(t)!==-1},"Contains"),XC={actions:"action",choices:"choice",toolbar:"toolbar",leftToolbar:"leftToolbar"},mh=r(function(e,t){e.on(`button.${t}`,function(s,h,S,E,n){XC.hasOwnProperty(h)&&e.emit(`${XC[h]}.${t}`,s,S,E,n)})},"EmitButtonEvent");Object.assign(ba.prototype,zR);st.register("dialog",function(e){var t=new ba(this.scene,e);return this.scene.add.existing(t),t});it(window,"RexPlugins.UI.Dialog",ba);var De=r(function(e,t,s){var h=new wr(e,t,s);return e.add.existing(h),h},"CreateLabel"),UW=r(function(e){return e===void 0&&(e={}),VW.call(this,e),WW.call(this,e),zW.call(this,e),YW.call(this,e),this},"ResetDisplayContent"),VW=r(function(e){var t=this.childrenMap.title;e=e.title,e===null?t.hide():(t.show(),t.resetDisplayContent(e))},"ResetTitle"),WW=r(function(e){var t=this.childrenMap.content;if(e=e.content,e===null)t.hide();else if(t.show(),t.resetDisplayContent)t.resetDisplayContent(e);else{var s=e||"";t.setText(s)}},"ResetContent"),zW=r(function(e){var t=this.childrenMap.actions;if(t){var s=e.buttons;if(s){for(var E=this.scene,n=this.defaultActionConfig,T=this.defaultActionButtonCreator,i=0,f=s.length;i<f;i++){var y=s[i],c=t[i];c||(c=De(E,n,T),this.addAction(c)),c.show().resetDisplayContent(y)}this.buttonMode=s.length;for(var i=s.length,f=t.length;i<f;i++)t[i].hide()}else{var h=t[0];h&&(e.buttonA===null?h.hide():(h.show(),h.resetDisplayContent(e.buttonA)));var S=t[1];S&&(e.buttonB===null?S.hide():(S.show(),S.resetDisplayContent(e.buttonB)))}}},"ResetActions"),YW=r(function(e){var t=this.childrenMap.choices;if(t){var s=e.choices;s||(s=[]);for(var h=this.scene,S=this.defaultChoiceConfig,E=this.defaultActionButtonCreator,n=0,T=s.length;n<T;n++){var i=s[n];typeof i=="string"&&(i={text:i});var f=t[n];f||(f=De(h,S,E),this.addChoice(f)),f.show().resetDisplayContent(i);var y;i.hasOwnProperty("value")?y=i.value:y=i.text,f.setName(y)}for(var n=s.length,T=t.length;n<T;n++)t[n].hide()}},"ResetChoices");Phaser.Utils.Objects.GetValue;const kW=Phaser.Utils.Objects.Merge;var HW=r(function(e,t){ns(e)&&(t=e,e=void 0),e===void 0&&(e={}),e=kW(e,this.modalStyle);var s;this.buttonMode===0?this.hasAnyChoice()?s=!1:s=!0:s=!1,e.hasOwnProperty("anyTouchClose")||(e.anyTouchClose=s),e.hasOwnProperty("manualClose")||(e.manualClose=!s);var h=this,S=r(function(E){var n=E.index;n===h.confirmButtonIndex?h.emit("confirm",E):n===h.cancelButtonIndex&&h.emit("cancel",E),t&&t(E)},"onCloseWrap");return dg.modal.call(this,e,S),this},"Modal");const XW={setConfirmButtonIndex(e){return this.confirmButtonIndex=e,this},setCancelButtonIndex(e){return this.cancelButtonIndex=e,this}};var YR={resetDisplayContent:UW,modal:HW};Object.assign(YR,XW);var $W=r(function(e){e.setHoverState&&e.setHoverState(!0)},"OnPointerOverCallback"),KW=r(function(e){e.setHoverState&&e.setHoverState(!1)},"OnPointerOutCallback"),ZW=r(function(e,t,s,h){e.setActiveState&&e.setActiveState(h)},"OnChoiceButtonStateChange"),JW=r(function(e){e.setDisableState&&e.setDisableState(!1)},"OnButtonEnable"),QW=r(function(e){e.setDisableState&&e.setDisableState(!0)},"OnButtonDisable"),jW=r(function(){this.on("button.over",$W).on("button.out",KW).on("button.enable",JW).on("button.disable",QW).on("button.statechange",ZW)},"RegisterEvents");const qW=Phaser.Utils.Objects.GetValue;var _W=r(function(e,t,s){var h=qW(t,"$type");h===void 0&&t&&(t.hasOwnProperty("slider")||t.hasOwnProperty("scroller"))&&(h="textarea");var S;switch(h){case"textarea":S=new UR(e,t,s);break;default:S=new De(e,t,s);break}return e.add.existing(S),S},"CreateContent");const Tc=Phaser.Utils.Objects.GetValue,yx=class yx extends ba{constructor(t,s,h){s=s?ce(s):{},h===void 0&&(h={});var S=Tc(h,"background",Fe);S?s.background=S(t,s.background):delete s.background,s.title=De(t,s.title,h.title),s.content=_W(t,s.content,h.content),s.content instanceof Or&&Zi(s,"height")&&!Zi(s,"proportion.content")&&it(s,"proportion.content",1);var E=s.button,n=s.buttonA||E,T=s.buttonB||E,i=s.buttonMode;i===void 0&&(i=n&&T?2:n?1:0);var f=h.button,y=h.buttonA||f,c=h.buttonB||f;switch(i){case 2:s.actions=[De(t,n,y),De(t,T,c)];break;case 1:s.actions=[De(t,n,y)];break;case 0:break;default:s.actions=[];break}var o=s.choice;o&&(s.choices=[]),super(t,s),this.type="rexConfirmDialog",this.buttonMode=i,this.defaultActionConfig=E,this.defaultActionButtonCreator=f,this.defaultChoiceConfig=o,this.defaultChoiceCreator=h.choice;var l=this.childrenMap.actions;this.addChildrenMap("buttonA",l?l[0]:null),this.addChildrenMap("buttonB",l?l[1]:null),jW.call(this),this.setConfirmButtonIndex(Tc(s,"confirmButtonIndex",0)),this.setCancelButtonIndex(Tc(s,"cancelButtonIndex",1)),this.modalStyle=s.modal||{}}};r(yx,"ConfirmDialog");let Ia=yx;Object.assign(Ia.prototype,YR);st.register("confirmDialog",function(e,t){var s=new Ia(this.scene,e,t);return this.scene.add.existing(s),s});it(window,"RexPlugins.UI.ConfirmDialog",Ia);const $C=Phaser.Utils.Objects.GetValue;var kR=r(function(e,t){var s=t.dialog,h=!s;if(h){var S=t.style;S.buttonMode=2,s=new Ia(e,S,t.creators),e.add.existing(s)}s.setConfirmButtonIndex($C(t,"confirmButtonIndex",0)).setCancelButtonIndex($C(t,"cancelButtonIndex",1)).resetDisplayContent(t.content).layout(),h&&t.onCreateDialog&&t.onCreateDialog(s);var E=t.modal;E&&!E.hasOwnProperty("destroy")&&(E.destroy=h);var n=t.confirm,T=t.cancel,i=t.confirmScope,f=t.cancelScope;n&&s.once("confirm",n,i),T&&s.once("cancel",T,f);var y=r(function(c){s.off("confirm",n,i),s.off("cancel",T,f)},"onClose");return s.modal(E,y),s},"ConfirmAction");const Sx=class Sx extends xi{constructor(t,s){s===void 0&&(s={}),super(t,s),this.type="rexConfirmActionButton",this.setConfirmDialogEnable(),this.confirmActionConfig=Fi(s.confirmDialog||{}),s.confirm&&this.setConfirmCallback(s.confirm,s.confirmScope),s.cancel&&this.setCancelCallback(s.cancel,s.cancelScope),this.onClickCallback=function(){if(this.confirmDialogEnable){if(this.confirmDialog)return;this.confirmDialog=kR(t,this.confirmActionConfig),this.confirmDialog.once("destroy",function(){this.confirmDialog=void 0},this)}else this.runConfirmCallback()},this.onClick(this.onClickCallback,this)}destroy(t){!this.scene||this.ignoreDestroy||(this.confirmDialog&&this.confirmDialog.destroy(),super.destroy(t),this.confirmActionConfig=void 0,this.onClickCallback=void 0,this.confirmDialog=void 0)}setConfirmCallback(t,s){return this.confirmActionConfig.confirm=t,this.confirmActionConfig.confirmScope=s,this}setCancelCallback(t,s){return this.confirmActionConfig.cancel=t,this.confirmActionConfig.cancelScope=s,this}setConfirmDialogContent(t){return this.confirmActionConfig.content=t,this}setConfitmDialogStyle(t){return this.confirmActionConfig.style=t,this}setConfitmDialogModalConfig(t){return this.confirmActionConfig.modal=t,this}setConfirmDialogEnable(t){return t===void 0&&(t=!0),this.confirmDialogEnable=t,this}runConfirmCallback(){var t=this.confirmActionConfig.confirm,s=this.confirmActionConfig.confirmScope;return t&&t.call(s),this}};r(Sx,"ConfirmActionButton");let Zu=Sx;st.register("confirmActionButton",function(e){var t=new Zu(this.scene,e);return this.scene.add.existing(t),t});it(window,"RexPlugins.UI.ConfirmActionButton",Zu);var or=r(function(e,t){if(e){var s=Xe(e);s&&s.remove(e,t)}},"RemoveFromParent");const $l=Phaser.Utils.Objects.GetValue;var Zo=r(function(e,t,s){var h=$l(e,`proportion.${t}`,s.proportion),S=$l(e,`align.${t}`,"center"),E=$l(e,`space.${t}`,void 0);if(typeof E=="number"&&s.paddingKey){var n=E;E={},E[s.paddingKey]=n}var T=$l(e,`expand.${t}`,!0);return{proportion:h,align:S,padding:E,expand:T}},"GetAddChildConfig"),$d=r(function(e){return Zo(e,"header",{proportion:0,paddingKey:"bottom"})},"GetAddHeaderConfig"),Kd=r(function(e){return Zo(e,"leftSide",{proportion:0,paddingKey:"right"})},"GetAddLeftSideConfig"),Zd=r(function(e){return Zo(e,"content",{proportion:1})},"GetAddContentConfig"),Jd=r(function(e){return Zo(e,"rightSide",{proportion:0,paddingKey:"left"})},"GetAddRightSideConfig"),Qd=r(function(e){return Zo(e,"footer",{proportion:0,paddingKey:"top"})},"GetAddFooterConfig"),qi=r(function(e){return{proportion:1,align:"center",padding:0,expand:!0}},"GetAddContainerConfig"),_i=r(function(e,t){var s=new Tt(e,{orientation:t});return e.add.existing(s),s},"CreatExpandContainer"),tz=r(function(e){var t=this.scene,s=e.header;s&&this.add(s,$d(e));var h=_i(t,0);this.add(h,qi());var S=e.leftSide;S&&h.add(S,Kd(e));var E=e.content;E&&h.add(E,Zd(e));var n=e.rightSide;n&&h.add(n,Jd(e));var T=e.footer;T&&this.add(T,Qd(e))},"LayoutMode0$1"),ez=r(function(e){var t=this.scene,s=e.header;s&&this.add(s,$d(e));var h=_i(t,0);this.add(h,qi());var S=e.leftSide;S&&h.add(S,Kd(e));var E=_i(t,1);h.add(E,qi());var n=_i(t,0);E.add(n,qi());var T=e.content;T&&n.add(T,Zd(e));var i=e.rightSide;i&&n.add(i,Jd(e));var f=e.footer;f&&E.add(f,Qd(e))},"LayoutMode1"),iz=r(function(e){var t=this.scene,s=e.header;s&&this.add(s,$d(e));var h=_i(t,0);this.add(h,qi());var S=_i(t,1);h.add(S,qi());var E=_i(t,0);S.add(E,qi());var n=e.leftSide;n&&E.add(n,Kd(e));var T=e.content;T&&E.add(T,Zd(e));var i=e.footer;i&&S.add(i,Qd(e));var f=e.rightSide;f&&h.add(f,Jd(e))},"LayoutMode2"),sz=r(function(e){var t=this.scene,s=e.header;s&&this.add(s,$d(e));var h=_i(t,0);this.add(h,qi());var S=e.leftSide;S&&h.add(S,Kd(e));var E=_i(t,1);h.add(E,qi());var n=e.content;n&&E.add(n,Zd(e));var T=e.footer;T&&E.add(T,Qd(e));var i=e.rightSide;i&&h.add(i,Jd(e))},"LayoutMode0");const rz=Phaser.Utils.Objects.GetValue,KC=[tz,ez,iz,sz];var nz=r(function(e){e===void 0&&(e={});var t=e.background,s=e.header,h=e.leftSide,S=e.content,E=e.rightSide,n=e.footer;or(t),or(s),or(h),or(S),or(E),or(n),this.clear(!0),t&&this.addBackground(t);var T=rz(e,"layoutMode",0);typeof T=="string"&&(T=az[T.toUpperCase()]);var i=KC[T]||KC[0];return i.call(this,e),this.addChildrenMap("background",t),this.addChildrenMap("header",s),this.addChildrenMap("leftSide",h),this.addChildrenMap("content",S),this.addChildrenMap("rightSide",E),this.addChildrenMap("footer",n),this},"Build");const az={FFF:0,LFF:1,FFR:2,LFR:3},Tx=class Tx extends Tt{constructor(t,s){s===void 0&&(s={}),s.orientation=1,super(t,s),this.type="rexHolyGrail",this.build(s)}};r(Tx,"HolyGrail");let go=Tx;var hz={build:nz};Object.assign(go.prototype,hz);st.register("holyGrail",function(e){var t=new go(this.scene,e);return this.scene.add.existing(t),t});it(window,"RexPlugins.UI.HolyGrail",go);const oz={getButtonsSizer(e){return this.childrenMap[`${e}ButtonsSizer`]},getButton(e,t){var s=this.getButtonsSizer(e);return s?s.getButton(t):void 0},setButtonEnable(e,t,s){return this.getButtonsSizer(e).setButtonEnable(t,s),this},setLeftButtonEnable(e,t){return this.childrenMap.leftButtonsSizer.setButtonEnable(e,t),this},setRightButtonEnable(e,t){return this.childrenMap.rightButtonsSizer.setButtonEnable(e,t),this},setTopButtonEnable(e,t){return this.childrenMap.topButtonsSizer.setButtonEnable(e,t),this},setBottomButtonEnable(e,t){return this.childrenMap.bottomButtonsSizer.setButtonEnable(e,t),this},toggleButtonEnable(e,t){return this.getButtonsSizer(e).toggleButtonEnable(t),this},toggleLeftButtonEnable(e){return this.childrenMap.leftButtonsSizer.toggleButtonEnable(e),this},toggleRightButtonEnable(e){return this.childrenMap.rightButtonsSizer.toggleButtonEnable(e),this},toggleTopButtonEnable(e){return this.childrenMap.topButtonsSizer.toggleButtonEnable(e),this},toggleBottomButtonEnable(e){return this.childrenMap.bottomButtonsSizer.toggleButtonEnable(e),this},getButtonEnable(e,t){return this.getButtonsSizer(e).getButtonEnable(t)},getLeftButtonEnable(e){return this.childrenMap.leftButtonsSizer.getButtonEnable(e)},getRightButtonEnable(e){return this.childrenMap.rightButtonsSizer.getButtonEnable(e)},getTopButtonEnable(e){return this.childrenMap.topButtonsSizer.getButtonEnable(e)},getBottomButtonEnable(e){return this.childrenMap.bottomButtonsSizer.getButtonEnable(e)},emitButtonClick(e,t){var s=this.getButtonsSizer(e);return s?(s.emitButtonClick(t),this):this},emitLeftButtonClick(e){return this.childrenMap.leftButtonsSizer.emitButtonClick(e),this},emitRightButtonClick(e){return this.childrenMap.rightButtonsSizer.emitButtonClick(e),this},emitTopButtonClick(e){return this.childrenMap.topButtonsSizer.emitButtonClick(e),this},emitBottomButtonClick(e){return this.childrenMap.bottomButtonsSizer.emitButtonClick(e),this},getLeftButton(e){return this.childrenMap.leftButtonsSizer.getButton(e)},getRightButton(e){return this.childrenMap.rightButtonsSizer.getButton(e)},getTopButton(e){return this.childrenMap.topButtonsSizer.getButton(e)},getBottomButton(e){return this.childrenMap.bottomButtonsSizer.getButton(e)},showButton(e,t){return Ls(this.getButton(e,t)),this},showLeftButton(e){return Ls(this.getLeftButton(e)),this},showRightButton(e){return Ls(this.getRightButton(e)),this},showTopButton(e){return Ls(this.getTopButton(e)),this},showBottomButton(e){return Ls(this.getBottomButton(e)),this},hideButton(e,t){return Os(this.getButton(e,t)),this},hideLeftButton(e){return Os(this.getLeftButton(e)),this},hideRightButton(e){return Os(this.getRightButton(e)),this},hideTopButton(e){return Os(this.getTopButton(e)),this},hideBottomButton(e){return Os(this.getBottomButton(e)),this},addButton(e,t){return this.getButtonsSizer(e).addButton(t),this},addLeftButton(e){return this.addButton("left",e),this},addRightButton(e){return this.addButton("right",e),this},addTopButton(e){return this.addButton("top",e),this},removeButton(e,t,s){return this.getButtonsSizer(e).removeButton(t,s),this},removeLeftButton(e,t){return this.removeButton("left",e,t),this},removeRightButton(e,t){return this.removeButton("right",e,t),this},removeTopButton(e,t){return this.removeButton("top",e,t),this},removeBottomButton(e,t){return this.removeButton("bottom",e,t),this},clearButtons(e,t){return this.getButtonsSizer(e).clearButtons(t),this},clearLeftButtons(e){return this.clearButtons("left",e),this},clearRightButtons(e){return this.clearButtons("right",e),this},clearTopButtons(e){return this.clearButtons("top",e),this},clearBottomButtonss(e){return this.clearButtons("bottom",e),this},forEachButton(e,t,s){return this.getButtonsSizer(e).forEachButtton(t,s),this},forEachLeftButton(e,t){return this.childrenMap.leftButtonsSizer.forEachButtton(e,t),this},forEachRightButton(e,t){return this.childrenMap.rightButtonsSizer.forEachButtton(e,t),this},forEachTopButton(e,t){return this.childrenMap.topButtonsSizer.forEachButtton(e,t),this},forEachBottomButton(e,t){return this.childrenMap.bottomButtonsSizer.forEachButtton(e,t),this}},Ot=Phaser.Utils.Objects.GetValue,Cx=class Cx extends $e{constructor(t,s){s===void 0&&(s={}),s.column=3,s.row=3,s.columnProportions=[0,0,0],s.rowProportions=[0,0,0];var h=Ot(s,"expand.panel",!1);h&&(s.columnProportions[1]=1,s.rowProportions[1]=1),super(t,s),this.type="rexTabs",this.eventEmitter=Ot(s,"eventEmitter",this);var S=Ot(s,"background",void 0),E=Ot(s,"panel",void 0),n=Ot(s,"leftButtons",void 0),T=Ot(s,"leftButtonsBackground",void 0),i,f=Ot(s,"rightButtons",void 0),y=Ot(s,"rightButtonsBackground",void 0),c,o=Ot(s,"topButtons",void 0),l=Ot(s,"topButtonsBackground",void 0),a,u=Ot(s,"bottomButtons",void 0),v=Ot(s,"bottomButtonsBackground",void 0),d,p=Ot(s,"click",void 0);if(S&&this.addBackground(S),E&&this.add(E,{column:1,row:1,expand:h}),n){var g=Ot(s,"space.leftButtonsOffset",0),m=Ot(s,"space.leftButton",0),x=Ot(s,"expand.leftButtons",!1),C=Ot(s,"align.leftButtons","top");i=new oe(t,{groupName:"left",background:T,buttons:n,orientation:"y",space:{item:m},expand:x,click:p,eventEmitter:this.eventEmitter}),this.add(i,{column:0,row:1,align:C,padding:{top:g},expand:x})}if(f){var P=Ot(s,"space.rightButtonsOffset",0),A=Ot(s,"space.rightButton",0),R=Ot(s,"expand.rightButtons",!1),L=Ot(s,"align.rightButtons","top");c=new oe(t,{groupName:"right",background:y,buttons:f,orientation:"y",space:{item:A},expand:R,click:p,eventEmitter:this.eventEmitter}),this.add(c,{column:2,row:1,align:L,padding:{top:P},expand:R})}if(o){var O=Ot(s,"space.topButtonsOffset",0),w=Ot(s,"space.topButton",0),b=Ot(s,"expand.topButtons",!1),F=Ot(s,"align.topButtons","left");a=new oe(t,{groupName:"top",background:l,buttons:o,orientation:"x",space:{item:w},expand:b,align:Ot(s,"align.topButtons",void 0),click:p,eventEmitter:this.eventEmitter}),this.add(a,{column:1,row:0,align:F,padding:{left:O},expand:b})}if(u){var M=Ot(s,"space.bottomButtonsOffset",0),I=Ot(s,"space.bottomButton",0),B=Ot(s,"expand.bottomButtons",!1),G=Ot(s,"align.bottomButtons","left");d=new oe(t,{groupName:"bottom",background:v,buttons:u,orientation:"x",space:{item:I},expand:B,align:Ot(s,"align.bottomButtons",void 0),click:p,eventEmitter:this.eventEmitter}),this.add(d,{column:1,row:2,align:G,padding:{left:M},expand:B})}this.addChildrenMap("background",S),this.addChildrenMap("panel",E),this.addChildrenMap("leftButtons",n),this.addChildrenMap("rightButtons",f),this.addChildrenMap("topButtons",o),this.addChildrenMap("bottomButtons",u),this.addChildrenMap("leftButtonsSizer",i),this.addChildrenMap("rightButtonsSizer",c),this.addChildrenMap("topButtonsSizer",a),this.addChildrenMap("bottomButtonsSizer",d)}};r(Cx,"Tabs");let mo=Cx;Object.assign(mo.prototype,oz);st.register("tabs",function(e){var t=new mo(this.scene,e);return this.scene.add.existing(t),t});it(window,"RexPlugins.UI.Tabs",mo);st.register("slider",function(e){var t=new Us(this.scene,e);return this.scene.add.existing(t),t});it(window,"RexPlugins.UI.Slider",Us);const Ex=class Ex{constructor(t,s){this.container=null,this._deltaHeight=0,this.setParent(t)}setParent(t){this.parent=t,this.parentContainer=t.getParentContainer()}destroy(t){t===void 0&&(t=!1),t||this.destroyContainer(),this.deltaHeight=0,this.data=void 0,this.container=null,this.parent=void 0,this.parentContainer=void 0}get table(){return this.parent}get scrollMode(){return this.parentContainer.scrollMode}get colIndx(){return this.parent.cellIndxeToColIndex(this.index)}get rowIndx(){return this.parent.cellIndxeToRowIndex(this.index)}getContainer(){return this.container}setContainer(t){return t?(this.container&&this.container.destroy(),this.container=t,this.parentContainer.add(t),this):(this.destroyContainer(),this)}destroyContainer(){return this.container&&(this.container.destroy(),this.container=null),this}popContainer(){if(this.container){var t=this.container;return this.container=null,this.parentContainer.remove(t),t}else return null}setXY(t,s){return this.container&&this.parentContainer.setChildLocalPosition(this.container,t,s),this}setCellContainerAlign(t){return typeof t=="string"&&(t=Xa[t]),this.cellContainerAlign=t,this}get deltaHeight(){return this._deltaHeight}set deltaHeight(t){t==null&&(t=0);var s=this.parent;this._deltaHeight===0&&t!==0?s.nonZeroDeltaHeightCount++:this._deltaHeight!==0&&t===0&&s.nonZeroDeltaHeightCount--;var h=this._deltaHeight!==t;if(this._deltaHeight=t,h){s.resetTotalRowsHeight();var S=this.scrollMode===0?"cellheightchange":"cellwidthchange";this.parentContainer.emit(S,this,this.container,this.parentContainer)}}get deltaWidth(){return this.deltaHeight}set deltaWidth(t){this.deltaHeight=t}setDeltaHeight(t){return this.deltaHeight=t,this}setDeltaWidth(t){return this.deltaHeight=t,this}get height(){return this.scrollMode===0?this.deltaHeight+this.parent.defaultCellHeight:this.parent.defaultCellWidth}set height(t){this.scrollMode!==1&&this.setDeltaHeight(t-this.parent.defaultCellHeight)}setHeight(t){return this.height=t,this}get width(){return this.scrollMode===0?this.parent.defaultCellWidth:this.deltaHeight+this.parent.defaultCellHeight}set width(t){this.scrollMode!==0&&this.setDeltaHeight(t-this.parent.defaultCellHeight)}setWidth(t){return this.width=t,this}get scene(){return this.parentContainer.scene}};r(Ex,"Cell");let Ju=Ex;Object.assign(Ju.prototype,bd);const ZC=Phaser.Utils.Objects.GetValue,lz=Phaser.Utils.Array.SpliceOne,Px=class Px{constructor(t,s){this.parent=t,this.cells=[],this.cellPool=new ei,this.resetFromJSON(s)}resetFromJSON(t){t===void 0&&(t={}),this.colCount=void 0,this.nonZeroDeltaHeightCount=0,this.resetTotalRowsHeight();var s=t.cellHeight;s===void 0&&(s=30);var h=t.cellWidth;return h===void 0&&(h=30),this.setDefaultCellHeight(s),this.setDefaultCellWidth(h),this.initCells(ZC(t,"cellsCount",0)),this.setColumnCount(ZC(t,"columns",1)),this}destroy(t){this.cellPool.destroy(),this.cells=void 0,this.parent=void 0}get defaultCellHeightMode(){return this.nonZeroDeltaHeightCount===0}setDefaultCellHeight(t){return this.defaultCellHeight=t,this}setDefaultCellWidth(t){return this.defaultCellWidth=t,this}initCells(t){var s=this.cells;s.length=t;for(var h=0;h<t;h++)s[h]=null;return this}insertNewCells(t,s){var h=this.cells;if(t===h.length){var S=t+s;h.legth=S;for(var E=t;E<S;E++)h[E]=null}else{var n=[];n.length=s;for(var E=0;E<s;E++)n[E]=null;this.cells.splice(t,0,...n)}return this.resetTotalRowsHeight(),this}removeCells(t,s){for(var h=t+s,S=t;S<h;S++)this.freeCell(S);return h===this.cells.length?this.cells.length=t:(s===1?lz(this.cells,t):this.cells.splice(t,s),this.buildCellIndex(t)),this.resetTotalRowsHeight(),this}setColumnCount(t){this.colCount=t,this.resetTotalRowsHeight();var s=this.parent;if(s.expandCellSize){var h=s.scrollMode===0?s.width:s.height,S=h/t;this.setDefaultCellWidth(S)}return this}get rowCount(){return Math.ceil(this.cells.length/this.colCount)}get cellsCount(){return this.cells.length}isValidCellIdx(t){return t>=0&&t<this.cells.length}heightToRowIndex(t,s){if(s===void 0&&(s=0),t===0)return 0;if(this.defaultCellHeightMode){var T=t/this.defaultCellHeight;switch(s){case 1:T=Math.ceil(T);break;default:T=Math.floor(T);break}return T}for(var h=this.rowCount,S=t,E,n,T=0;;)if(n=this.getRowHeight(T),S-=n,E=T>=0&&T<h,S>0&&E)T+=1;else{if(S===0)return s===2&&(T+=1),T;if(s===1){var i=T;T+=1,E=T>=0&&T<h,E||(T=i)}return T}}widthToColIndex(t,s){if(t===0)return 0;var h=t/this.defaultCellWidth;return s?h=Math.ceil(h):h=Math.floor(h),h}colRowToCellIndex(t,s){return t>=this.colCount?null:s*this.colCount+t}rowIndexToHeight(t,s){if(this.defaultCellHeightMode)return(s-t+1)*this.defaultCellHeight;for(var h,S=0,E=t;E<=s;E++)h=this.getRowHeight(E),S+=h;return S}colIndexToWidth(t,s){return(s-t+1)*this.defaultCellWidth}getRowHeight(t){var s=this.colCount;if(s<=1)return this.getCellHeight(this.colRowToCellIndex(0,t));for(var h=0,S,E=0;E<s;E++)S=this.getCellHeight(this.colRowToCellIndex(E,t)),h<S&&(h=S);return h}getColWidth(t){return this.defaultCellWidth}getCellHeight(t){if(!this.isValidCellIdx(t))return 0;var s;if(this.defaultCellHeightMode)s=this.defaultCellHeight;else{var h=this.getCell(t,!1),S=h?h.deltaHeight:0;s=this.defaultCellHeight+S}return s}resetTotalRowsHeight(){this._totalRowsHeight=null}get totalRowsHeight(){return this._totalRowsHeight===null&&(this._totalRowsHeight=this.rowIndexToHeight(0,this.rowCount-1)),this._totalRowsHeight}get totalColumnWidth(){return this.colCount*this.defaultCellWidth}cellIndxeToColIndex(t){return t%this.colCount}cellIndxeToRowIndex(t){return Math.floor(t/this.colCount)}getCell(t,s){if(!this.isValidCellIdx(t))return null;if(s===void 0&&(s=!0),this.cells[t]===null&&s){var h=this.newCell(t);this.cells[t]=h}return this.cells[t]}newCell(t){var s=this.cellPool.pop();return s===null?s=new Ju(this):s.setParent(this),s.index=t,s}buildCellIndex(t){t===void 0&&(t=0);for(var s=this.cells,h,S=t,E=s.length;S<E;S++)h=s[S],h&&(h.index=S);return this}getParentContainer(){return this.parent}freeCell(t){return typeof t=="number"&&(t=this.cells[t]),t?(t.destroy(),this.cellPool.push(t),this):this}};r(Px,"Table");let Vv=Px;var uz=r(function(e){var t=this.table,s=this.topTableOY,h=this.bottomTableOY,S=e>this.topTableOY,E=e<this.bottomTableOY;if(this.clampTableOXY){var n=t.rowCount,T=t.heightToRowIndex(this.instHeight,1);n<T?e=0:S?e=s:E&&(e=h)}return this._tableOY!==e&&(this._tableOY=e),S&&(this.execeedTopState||this.emit("execeedtop",this,e,s)),this.execeedTopState=S,E&&(this.execeedBottomState||this.emit("execeedbottom",this,e,h)),this.execeedBottomState=E,this},"SetTableOY"),dz=r(function(e){var t=this.table,s=this.leftTableOX,h=this.rightTableOX,S=e>this.leftTableOX,E=e<this.rightTableOX;if(this.clampTableOXY){var n=t.colCount,T=t.widthToColIndex(this.instWidth,!0);n<T?e=0:S?e=s:E&&(e=h)}return this._tableOX!==e&&(this._tableOX=e),S&&(this.execeedLeftState||this.emit("execeedleft",this,e,s)),this.execeedLeftState=S,E&&(this.execeedRightState||this.emit("execeedright",this,e,h)),this.execeedRightState=E,this},"SetTableOX"),Lg=r(function(e){return e.hasOwnProperty("geometryMask")?e.geometryMask:e.bitmapMask},"MaskToGameObject");const fz=Phaser.Geom.Intersects.RectangleToRectangle,cz=Phaser.Geom.Rectangle.Overlaps;var vz=r(function(e,t,s){if(t){s===void 0&&(s=e.getAllChildren());for(var h=e.getBounds(),S=Lg(t),E,n,T,i=0,f=s.length;i<f;i++)if(E=s[i],E!==S&&pz(E))if(E.getBounds)switch(n=E.getBounds(n),T=gz(h,n),T){case 4:mz(e,E);break;case 0:fz(h,n)||cz(h,n)?Cc(e,E,t):xz(e,E);break;default:Cc(e,E,t);break}else Cc(e,E,t)}},"MaskChildren"),pz=r(function(e){if(!e.displayList)return!1;for(;;){var t=e.rexContainer;if(t)if(t.visible){var s=t.parent;if(s){e=s;continue}else return!0}else return!1;else return e.visible}},"IsVisible"),gz=r(function(e,t){var s=t.top,h=t.bottom,S=t.left,E=t.right,n=0;return n+=e.contains(S,s)?1:0,n+=e.contains(S,h)?1:0,n+=e.contains(E,s)?1:0,n+=e.contains(E,h)?1:0,n},"ContainsPoints"),mz=r(function(e,t,s){t.hasOwnProperty("isRexContainerLite")?(t.syncChildrenEnable=!1,e.setChildMaskVisible(t,!0),t.syncChildrenEnable=!0):(t.clearMask&&t.clearMask(),e.setChildMaskVisible(t,!0))},"ShowAll"),Cc=r(function(e,t,s){t.hasOwnProperty("isRexContainerLite")?(t.syncChildrenEnable=!1,e.setChildMaskVisible(t,!0),t.syncChildrenEnable=!0):(t.setMask&&t.setMask(s),e.setChildMaskVisible(t,!0))},"ShowSome"),xz=r(function(e,t,s){t.hasOwnProperty("isRexContainerLite")?(t.syncChildrenEnable=!1,e.setChildMaskVisible(t,!1),t.syncChildrenEnable=!0):(t.clearMask&&t.clearMask(),e.setChildMaskVisible(t,!1))},"ShowNone");const Ec=Phaser.Utils.Objects.GetValue,yz={update:0,everyTick:1},HR={setupChildrenMask(e){return e===!1?this:(this.setMaskUpdateMode(Ec(e,"updateMode",0)),this.enableChildrenMask(Ec(e,"padding",0)),this.setMaskLayer(Ec(e,"layer",void 0)),this.startMaskUpdate(),this)},destroyChildrenMask(){return this.childrenMask?(this.stopMaskUpdate(),this.childrenMask.destroy(),this.childrenMask=void 0,this):this},setMaskUpdateMode(e){return typeof e=="string"&&(e=yz[e]),this.maskUpdateMode=e,this},startMaskUpdate(){this.scene.game.events.on("poststep",this.maskChildren,this)},stopMaskUpdate(){this.scene.game.events.off("poststep",this.maskChildren,this)},enableChildrenMask(e){var t=mi.call(this,null,this,0,e);return this.childrenMask=t.createGeometryMask(),this},setMaskChildrenFlag(e){return e===void 0&&(e=!0),this.maskChildrenFlag=e,this},setMaskLayer(e){return this.maskLayer=e,this},maskChildren(){return!this.childrenMask||!this.maskChildrenFlag||this.alpha===0||!this.visible?this:(this.privateRenderLayer?this.privateRenderLayer.setMask(this.childrenMask):this.maskLayer?(this.addToLayer(this.maskLayer),this.maskLayer.setMask(this.childrenMask)):vz(this,this.childrenMask),this.maskUpdateMode===0&&(this.maskChildrenFlag=!1),this)},layoutChildrenMask(){if(!this.childrenMask)return this;var e=Lg(this.childrenMask);return e.setPosition().resize(),this.resetChildPositionState(e),this}};var Sz=r(function(){if(this.cellsCount!==0){var e=this.scaleX,t=this.scaleY,s=e===1&&t===1;s||this.setScale(1);var h=this.table;this.startRowIndex=Math.max(h.heightToRowIndex(-this.tableOY,2),0);for(var S=this.startRowIndex,E=Math.max(h.widthToColIndex(-this.tableOX),0),n=E,T=h.colRowToCellIndex(n,S),i=this.bottomBound,f=this.rightBound,y=h.cellsCount-1,c=h.colCount-1,o=this.getCellTLX(n),l=o,a=this.getCellTLY(S);a<i&&T<=y;){if(this.table.isValidCellIdx(T)){var u=h.getCell(T,!0);this.visibleCells.set(u),this.preVisibleCells.contains(u)||this.showCell(u);var v,d;if(this.scrollMode===0?(v=l,d=a):(v=a,d=l),u.cellContainerAlign==null)u.setXY(v,d);else{var p=u.getContainer();zo(p,v,d,u.width,u.height,u.cellContainerAlign),u.setXY(p.x,p.y)}}l<f&&n<c?(l+=h.getColWidth(n),n+=1):(l=o,a+=h.getRowHeight(S),n=E,S+=1),T=h.colRowToCellIndex(n,S)}s||this.setScale(e,t)}},"ShowCells"),XR=r(function(e){var t=null,s=e.getContainer();if(s?(t=s,e.popContainer()):this.cellContainersPool&&(t=this.cellContainersPool.getFirstDead(),t!==null&&t.setActive(!0).setVisible(!0)),this.emit("cellvisible",e,t,this),this.cellContainersPool){var s=e.getContainer();s?t===null?this.cellContainersPool.add(s):t!==s&&(this.cellContainersPool.add(s),this.cellContainersPool.killAndHide(t)):t!==null&&this.cellContainersPool.killAndHide(t)}},"ShowCell"),Tz=r(function(e){var t=this.scrollMode===0?this.topLeftX:this.topLeftY,s=this.tableOX+this.table.colIndexToWidth(0,e-1)+t;return s},"GetCellTLX"),Cz=r(function(e){var t=this.scrollMode===0?this.topLeftY:this.topLeftX,s=this.tableOY+this.table.rowIndexToHeight(0,e-1)+t;return s},"GetCellTLY"),Ez=r(function(){var e=this.preVisibleCells,t=this.visibleCells;e.iterate(function(s){t.contains(s)||this.hideCell(s)},this)},"HideCells"),$R=r(function(e){if(this.emit("cellinvisible",e),this.cellContainersPool){var t=e.popContainer();t&&(t.setScale(1).setAlpha(1),this.cellContainersPool.killAndHide(t))}e.destroyContainer()},"HideCell"),Pz=r(function(e){return e===void 0&&(e=!1),e&&(JC.call(this),this.hideCells()),JC.call(this),this.showCells(),this.hideCells(),this.setMaskChildrenFlag(),this},"UpdateTable"),JC=r(function(){var e=this.preVisibleCells;this.preVisibleCells=this.visibleCells,this.visibleCells=e,this.visibleCells.clear()},"ClearVisibleCellIndexes"),Rz=r(function(e){var t=this.table.getCell(e,!1);return t&&this.visibleCells.contains(t)},"IsCellVisible"),KR=r(function(e,t){t-=this.y+this.topLeftY,e-=this.x+this.topLeftX;var s=this.tableOY-(this.scrollMode===0?t:e),h=this.tableOX-(this.scrollMode===0?e:t),S=this.table,E=S.heightToRowIndex(-s,0),n=S.widthToColIndex(-h),T=S.colRowToCellIndex(n,E);return T===null||!this.isCellVisible(T)?null:T},"PointToCellIndex"),Az=r(function(e,t){var s=KR.call(this,e,t);if(s!==null)return this.getCellContainer(s)},"PointToCellContainer"),Lz=r(function(e,t){return this.visibleCells.each(e,t),this},"EachVisibleCell"),Oz=r(function(e,t){return this.visibleCells.iterate(e,t),this},"IterateVisibleCell"),wz=r(function(e,t){return this.table.cells.slice().forEach(e,t),this},"EachCell"),Mz=r(function(e,t){return this.table.cells.forEach(e,t),this},"IterateCell"),bz=r(function(e){var t=this.cellsCount;return t===e?this:(t>e?this.removeCells(e,t-e):this.insertNewCells(t,e-t),this)},"SetCellsCount");const Iz=Phaser.Math.Clamp;var Fz=r(function(e,t){return typeof e=="object"&&(e=e.index),t===void 0&&(t=1),t<=0?this:(e=Iz(e,0,this.cellsCount),this.table.insertNewCells(e,t),this)},"InsertNewCells"),Dz=r(function(e,t){if(typeof e=="object"&&(e=e.index),t===void 0&&(t=1),e<0&&(t+=e,e=0),t<=0)return this;if(e>this.cellsCount)return this;for(var s,h=e,S=e+t;h<S;h++)s=this.getCell(h,!1),s&&(this.visibleCells.contains(s)&&($R.call(this,s),this.visibleCells.delete(s)),this.preVisibleCells.delete(s));return this.table.removeCells(e,t),this},"RemoveCells"),Bz=r(function(e){return this.table.colCount===e?this:(this.table.setColumnCount(e),this)},"SetColumnCount"),Gz=r(function(e,t){return this.setCellsCount(e*t),this.table.setColumnCount(e),this},"SetGridSize"),Nz=r(function(e){var t=this.table.getCell(e,!1);return!t||!t.container?this:(XR.call(this,t),this)},"UpdateVisibleCell"),ZR={setTableOY:uz,setTableOX:dz,showCells:Sz,showCell:XR,getCellTLX:Tz,getCellTLY:Cz,hideCells:Ez,hideCell:$R,updateTable:Pz,isCellVisible:Rz,pointToCellIndex:KR,pointToCellContainer:Az,eachVisibleCell:Lz,iterateVisibleCell:Oz,eachCell:wz,iterateCell:Mz,setCellsCount:bz,insertNewCells:Fz,removeCells:Dz,setColumnCount:Bz,setGridSize:Gz,updateVisibleCell:Nz};Object.assign(ZR,HR);const Uz=Phaser.GameObjects.Group,QC=Phaser.Structs.Set,Oi=Phaser.Utils.Objects.GetValue;var ia;let JR=(ia=class extends Ae{constructor(t,s,h,S,E,n){n===void 0&&(n={}),super(t,s,h,S,E),this.type="rexGridTable",this._tableOX=0,this._tableOY=0,this.visibleCells=new QC,this.preVisibleCells=new QC,this.execeedTopState=!1,this.execeedBottomState=!1,this.execeedLeftState=!1,this.execeedRightState=!1;var T=Oi(n,"reuseCellContainer",!1);T&&(this.cellContainersPool=new Uz(t));var i=Oi(n,"cellVisibleCallback",null);if(i!==null){var f=Oi(n,"cellVisibleCallbackScope",void 0);this.on("cellvisible",i,f)}if(i=Oi(n,"cellInvisibleCallback",null),i!==null){var f=Oi(n,"cellInvisibleCallbackScope",void 0);this.on("cellinvisible",i,f)}Oi(n,"enableLayer",!1)&&this.enableLayer(),this.setupChildrenMask(Oi(n,"mask",void 0)),this.setScrollMode(Oi(n,"scrollMode",0)),this.setClampMode(Oi(n,"clamplTableOXY",!0));var y,c,o,l=this.scrollMode===0;if(l?(y=n.cellWidth,c=n.cellHeight,o=n.columns):(y=n.cellHeight,c=n.cellWidth,o=Oi(n,"rows",n.columns)),o||(o=1),this.expandCellSize=y===void 0,this.expandCellSize){var S=l?this.width:this.height;y=S/o}n.cellWidth=y,n.cellHeight=c,n.columns=o,this.table=new Vv(this,n),this.updateTable()}destroy(t){!this.scene||this.ignoreDestroy||(this.destroyChildrenMask(),this.table.destroy(t),this.table=void 0,this.cellContainersPool&&(this.cellContainersPool.destroy(!0),this.cellContainersPool=void 0),super.destroy(t))}setScrollMode(t){return typeof t=="string"&&(t=Vz[t.toLowerCase()]),this.scrollMode=t,this}setClampMode(t){return t===void 0&&(t=!0),this.clampTableOXY=t,this}get tableOY(){return this._tableOY}get tableOX(){return this._tableOX}set tableOY(t){this.setTableOY(t).updateTable()}set tableOX(t){this.setTableOX(t).updateTable()}setTableOXY(t,s){return this.setTableOY(s).setTableOX(t),this}addTableOY(t){return this.setTableOY(this.tableOY+t),this}addTableOX(t){return this.setTableOX(this.tableOX+t),this}addTableOXY(t,s){return this.addTableOY(s).addTableOX(t),this}setTableOYByPercentage(t){return this.setTableOY(-this.tableVisibleHeight*t),this}getTableOYPercentage(){var t=this.tableVisibleHeight;return t===0?0:this.tableOY/-t}setTableOXByPercentage(t){return this.setTableOX(-this.tableVisibleWidth*t),this}getTableOXPercentage(){var t=this.tableVisibleWidth;return t===0?0:this.tableOX/-t}set t(t){this.setTableOYByPercentage(t).updateTable()}get t(){return this.getTableOYPercentage()}set s(t){this.setTableOXByPercentage(t).updateTable()}get s(){return this.getTableOXPercentage()}scrollToBottom(){if(this.t=1,this.t===0)return this;do this.t=1;while(this.t!==1);return this}scrollToRow(t){this.scrollToBottom();var s=this.table.rowIndexToHeight(0,t-1);return this.setTableOY(-s).updateTable(),this}scrollToNextRow(t){return t===void 0&&(t=1),this.scrollToRow(this.startRowIndex+t),this}getCell(t){return this.table.getCell(t,!0)}getCellContainer(t){var s=this.table.getCell(t,!1),h;return s&&(h=s.getContainer()),h}get cellsCount(){return this.table.cellsCount}get columnCount(){return this.table.colCount}setCellHeight(t,s){var h;return typeof t=="number"?h=this.table.getCell(t,!0):h=t,h.height=s,this}setCellWidth(t,s){var h;return typeof t=="number"?h=this.table.getCell(t,!0):h=t,h.width=s,this}get instHeight(){return this.scrollMode===0?this.height:this.width}get instWidth(){return this.scrollMode===0?this.width:this.height}get tableHeight(){return this.table.totalRowsHeight}get tableWidth(){return this.table.totalColumnWidth}get topTableOY(){return 0}get bottomTableOY(){return-this.tableVisibleHeight}get leftTableOX(){return 0}get rightTableOX(){return-this.tableVisibleWidth}get tableVisibleHeight(){var t=this.tableHeight-this.instHeight;return t<0&&(t=0),t}get tableVisibleWidth(){var t=this.tableWidth-this.instWidth;return t<0&&(t=0),t}get bottomLeftY(){return-(this.displayHeight*this.originY)+this.displayHeight}get topRightX(){return-(this.displayWidth*this.originX)+this.displayWidth}get topLeftX(){return-(this.displayWidth*this.originX)}get topLeftY(){return-(this.displayHeight*this.originY)}get bottomBound(){return this.scrollMode===0?this.bottomLeftY:this.topRightX}get rightBound(){return this.scrollMode===0?this.topRightX:this.bottomLeftY}resize(t,s){return this.width===t&&this.height===s?this:(super.resize(t,s),this.expandCellSize&&this.table.setDefaultCellWidth(this.instWidth/this.table.colCount),this.updateTable(!0),this.layoutChildrenMask(),this.maskChildren(),this)}},r(ia,"GridTable"),ia);Object.assign(JR.prototype,ZR);const Vz={v:0,vertical:0,h:1,horizontal:1};var Wz=r(function(e){Object.defineProperty(e,"childOY",{configurable:!0,get:r(function(){return e.tableOY},"get"),set:r(function(t){e.tableOY=t},"set")}),Object.defineProperty(e,"childOX",{configurable:!0,get:r(function(){return e.tableOX},"get"),set:r(function(t){e.tableOX=t},"set")}),Object.defineProperty(e,"topChildOY",{get:r(function(){return e.topTableOY},"get")}),Object.defineProperty(e,"bottomChildOY",{get:r(function(){return e.bottomTableOY},"get")}),Object.defineProperty(e,"leftChildOX",{get:r(function(){return e.leftTableOX},"get")}),Object.defineProperty(e,"rightChildOX",{get:r(function(){return e.rightTableOX},"get")}),Object.defineProperty(e,"childVisibleHeight",{get:r(function(){return e.instHeight},"get")}),Object.defineProperty(e,"childHeight",{get:r(function(){return e.tableHeight},"get")}),Object.defineProperty(e,"childVisibleWidth",{get:r(function(){return e.instWidth},"get")}),Object.defineProperty(e,"childWidth",{get:r(function(){return e.tableWidth},"get")})},"InjectProperties$1"),zz=r(function(e){e.on("cellvisible",function(t,n,h){var S=this.createCellContainerCallback,E=this.createCellContainerCallbackScope;t.item=this.items[t.index],t.items=this.items;var n;E?n=S.call(E,t,n,h):n=S(t,n,h),n&&(t.cellContainerAlign==null&&n.setOrigin&&n.setOrigin(0),n.isRexSizer&&n.layout()),t.item=void 0,t.items=void 0,t.setContainer(n)},this)},"TableOnCellVisible"),Vi=r(function(e,t,s,h,S,E,n){var T;if(S===void 0?T=h:T=s.pointToCellIndex(h,S),T!=null){var i=s.getCellContainer(T);i&&e.emit(t,i,T,E,n)}},"EmitCellEvent"),Yz=r(function(e,t){e.on("pointerdown",function(s,h,S,E){Vi(this.eventEmitter,"cell.down",e,s.worldX,s.worldY,s,E)},this).on("pointerup",function(s,h,S,E){Vi(this.eventEmitter,"cell.up",e,s.worldX,s.worldY,s,E)},this)},"PointerUpDownCell"),kz=r(function(e,t){e.on("pointermove",jC,this).on("pointerover",jC,this).on("pointerout",Hz,this)},"OverCell"),jC=r(function(e,t,s,h){var S=this.childrenMap.child,E=S.pointToCellIndex(e.worldX,e.worldY);if(E!==S.input.lastOverCellIndex){var n=S.input.lastOverCellIndex;S.input.lastOverCellIndex=E,Vi(this.eventEmitter,"cell.out",S,n,void 0,e,h),Vi(this.eventEmitter,"cell.over",S,E,void 0,e,h)}},"OnMove"),Hz=r(function(e,t){var s=this.childrenMap.child,h=s.input.lastOverCellIndex;s.input.lastOverCellIndex=void 0,Vi(this.eventEmitter,"cell.out",s,h,void 0,e,t)},"OnOut");const Xz=Phaser.Utils.Objects.GetValue;var $z=r(function(e,t){var s=Xz(t,"click",void 0);s!==!1&&(s===void 0&&(s={}),s.threshold=10,e._click=new us(e,s),e._click.on("click",function(h,S,E,n){Vi(this.eventEmitter,"cell.click",S,E.worldX,E.worldY,E,n)},this))},"ClickCell");const Kz=Phaser.Utils.Objects.GetValue;var Zz=r(function(e,t){var s=Kz(t,"tap",void 0);s!==!1&&(e._tap=new Sa(e,s),e._tap.on("tap",function(h,S,E){var n=`cell.${h.tapsCount}tap`;Vi(this.eventEmitter,n,h.gameObject,h.worldX,h.worldY,E)},this))},"TapCell");const Jz=Phaser.Utils.Objects.GetValue;var Qz=r(function(e,t){var s=Jz(t,"press",void 0);s!==!1&&(e._press=new Ta(e,s),e._press.on("pressstart",function(h,S,E){Vi(this.eventEmitter,"cell.pressstart",e,h.worldX,h.worldY,E)},this).on("pressend",function(h,S,E){Vi(this.eventEmitter,"cell.pressend",e,h.worldX,h.worldY,E)},this))},"PressCell");const jz=Phaser.Utils.Objects.GetValue;var qz=r(function(e,t){var s=jz(t,"swipe",void 0);s!==!1&&(s===void 0&&(s={}),s.dir="4dir",e._swipe=new Sr(e,s),e._swipe.on("swipe",function(h,S,E){var n=h.left?"left":h.right?"right":h.up?"up":"down";Vi(this.eventEmitter,`cell.swipe${n}`,e,h.worldX,h.worldY,E)},this))},"SwipeCell"),_z=r(function(e,t){e.setInteractive(),Yz.call(this,e,t),kz.call(this,e,t),$z.call(this,e,t),Zz.call(this,e,t),Qz.call(this,e,t),qz.call(this,e,t)},"TableSetInteractive"),tY=r(function(e,t){e===void 0?this.items=[]:this.items=e,t===void 0&&(t=!0);var s=this.childrenMap.child;return s.setCellsCount(this.items.length),t&&(s.updateTable(!0),this.resizeController()),this},"SetItems");const eY={scrollToRow(e){var t=this.childrenMap.child;return t.scrollToRow(e),this},scrollToNextRow(e){var t=this.childrenMap.child;return t.scrollToNextRow(e),this}},li=Phaser.Utils.Objects.GetValue,Rx=class Rx extends Lr{constructor(t,s){s===void 0&&(s={});var h=Cg(s),S=li(s,"table",void 0);S===void 0&&(S={}),S.scrollMode=h===2?0:h,S.clamplTableOXY=li(s,"clamplChildOY",!1);var E=li(S,"width",void 0),n=li(S,"height",void 0),T=new JR(t,0,0,E,n,S);t.add.existing(T);var i,f;S.scrollMode===0?(i=E===void 0,f=n===void 0):(i=n===void 0,f=E===void 0),Wz(T),T._minWidth=E===void 0?0:void 0,T._minHeight=n===void 0?0:void 0,s.type="rexGridTable",s.child={gameObject:T,expandWidth:i,expandHeight:f};var y=li(s,"space",void 0);y&&(y.child=li(y,"table",0)),super(t,s),this.addChildrenMap("table",T),this.addChildrenMap("tableLayer",T.maskLayer),this.eventEmitter=li(s,"eventEmitter",this);var c=li(s,"createCellContainerCallback",ee),o=li(s,"createCellContainerCallbackScope",void 0);this.setCreateCellContainerCallback(c,o),zz.call(this,T),this.resizeControllerFlag=!1;var l=h===0?"cellheightchange":"cellwidthchange";T.on(l,function(){this.resizeControllerFlag=!0},this),li(S,"interactive",!0)&&_z.call(this,T,S),this.setItems(li(s,"items",[]),!1),t.game.events.on("poststep",this.onPostStep,this)}destroy(t){!this.scene||this.ignoreDestroy||(this.scene.game.events.off("poststep",this.onPostStep,this),super.destroy(t))}setCreateCellContainerCallback(t,s){return this.createCellContainerCallback=t,this.createCellContainerCallbackScope=s,this}refresh(){return this.setItems(this.items),this}getCell(t){var s=this.childrenMap.child;return s.getCell(t)}getCellContainer(t){var s=this.childrenMap.child;return s.getCellContainer(t)}updateVisibleCell(t){var s=this.childrenMap.child;return s.updateVisibleCell(t)}onPostStep(){this.resizeControllerFlag&&(this.resizeController(),this.resizeControllerFlag=!1)}get startRowIndex(){var t=this.childrenMap.child;return t.startRowIndex}};r(Rx,"GridTable");let xo=Rx;var iY={setItems:tY};Object.assign(xo.prototype,eY,iY);st.register("gridTable",function(e){var t=new xo(this.scene,e);return this.scene.add.existing(t),t});it(window,"RexPlugins.UI.GridTable",xo);var Og=r(function(e,t){return e.sameOrientation?e.orientation=t.orientation:e.orientation=t.orientation===0?1:0,e},"GetEaseConfig"),sY=r(function(e,t){e.popUp(Og(e.root.easeIn,e))},"PopUp"),rY=r(function(e,t){e.scaleDown(Og(e.root.easeOut,e))},"ScaleDown$1");const nY={setTransitInCallback(e){return e===void 0&&(e=sY),this.transitInCallback=e,this},setTransitOutCallback(e){return e===void 0&&(e=rY),this.transitOutCallback=e,this}};var aY=r(function(e,t,s,h,S){var E=Ha(e),n=E.time.delayedCall(t,function(){E.sys.events.once("postupdate",function(){s.call(h,S)})});return n},"PostUpdateDelayCall");const hY={delayCall(e,t,s){return this.timer=aY(this,e,t,s),this},removeDelayCall(){return this.timer&&(this.timer.remove(!1),this.timer=void 0),this}};var oY=r(function(e,t){var h=this.childrenMap.subMenu;if(h&&h.parentButton===e)return this;this.collapseSubMenu();var s;this.root.toggleOrientation?s=this.orientation===0?1:0:s=this.orientation;var h=new this.constructor(this.scene,{items:t,orientation:s,space:this.space,createBackgroundCallback:this.root.createBackgroundCallback,createBackgroundCallbackScope:this.root.createBackgroundCallbackScope,createButtonCallback:this.root.createButtonCallback,createButtonCallbackScope:this.root.createButtonCallbackScope,easeIn:this.root.easeIn,easeOut:this.root.easeOut,_rootMenu:this.root,_parentMenu:this,_parentButton:e});return this.pin(h),this.childrenMap.subMenu=h,this.root.emit("expand",h,e,this),this},"ExpandSubMenu"),lY=r(function(){var e=this.root;e.emit("collapse",this,this.parentButton,e);var t=e.easeOut.duration;return e.transitOutCallback(this,t),this.collapseSubMenu(),this.delayCall(t,this.destroy,this),this},"Collapse"),uY=r(function(){var e=this.childrenMap.subMenu;return e===void 0?this:(this.childrenMap.subMenu=void 0,this.remove(e),e.collapse(),this)},"CollapseSubMenu"),QR={expandSubMenu:oY,collapse:lY,collapseSubMenu:uY};Object.assign(QR,nY,hY);var dY=r(function(e,t,s,h){var S;return s&&(t.scene=e,h?S=s.call(h,t):S=s(t),t.scene=void 0),S},"CreateBackground$1"),fY=r(function(e,t,s,h){var S,E=[],n;if(t&&s)for(var T=0,i=t.length;T<i;T++)S=t[T],S.scene=e,h?n=s.call(h,S,T,t):n=s(S,T,t),S.scene=void 0,E.push(n);return E},"CreateButtons$3"),cY=r(function(e){e.on(e.root.expandEventName,function(t,s){if(!this._isPassedEvent){var h=this.root.childrenKey,S=this.items[s][h];S&&this.expandSubMenu(t,S)}},e).on("button.click",function(t,s,h,S){this!==this.root&&(this.root._isPassedEvent=!0,this.root.emit("button.click",t,s,h,S),this.root._isPassedEvent=!1)},e).on("button.over",function(t,s,h,S){this!==this.root&&(this.root._isPassedEvent=!0,this.root.emit("button.over",t,s,h,S),this.root._isPassedEvent=!1)},e).on("button.out",function(t,s,h,S){this!==this.root&&(this.root._isPassedEvent=!0,this.root.emit("button.out",t,s,h,S),this.root._isPassedEvent=!1)},e)},"MenuSetInteractive"),qC=r(function(e,t){return typeof t=="number"&&(t={duration:t}),t.hasOwnProperty("orientation")&&t.orientation!==void 0?t.sameOrientation=Ko(t.orientation)===e.orientation:t.sameOrientation=!0,t.destroy=!1,t},"ParseEaseConfig"),vY=r(function(){var e=this.root,t=e.easeIn.duration;e.transitInCallback(this,t),this!==this.root&&this.delayCall(t,function(){this.root.emit("popup.complete",this)},this)},"Expand");const Ee=Phaser.Utils.Objects.GetValue,Ax=class Ax extends oe{constructor(t,s){s===void 0&&(s={}),s.hasOwnProperty("orientation")||(s.orientation=1);var h=s._rootMenu,S=s._parentMenu,E=s._parentButton,n=Ee(s,"popup",!0),T=Ee(s,"items",void 0),i=Ee(s,"createBackgroundCallback",void 0),f=Ee(s,"createBackgroundCallbackScope",void 0);s.background=dY(t,T,i,f);var y=Ee(s,"createButtonCallback",void 0),c=Ee(s,"createButtonCallbackScope",void 0);if(s.buttons=fY(t,T,y,c),super(t,s),this.type="rexMenu",this.items=T,this.root=h===void 0?this:h,this.isRoot=this.root===this,this.parentMenu=S,this.parentButton=E,this.timer=void 0,this.isRoot){this.isPopUpMode=n;var o=s.bounds;o===void 0&&(o=ka(t)),this.bounds=o,this.subMenuSide=[this.y<o.centerY?zv:cu,this.x<o.centerX?Wv:fu];var l=Ee(s,"subMenuSide",void 0);l!==void 0&&(typeof l=="string"&&(l=pY[l]),this.subMenuSide[this.orientation]=l),this.toggleOrientation=Ee(s,"toggleOrientation",!1),this.expandEventName=Ee(s,"expandEvent","button.click"),this.easeIn=qC(this,Ee(s,"easeIn",0)),this.easeOut=qC(this,Ee(s,"easeOut",0)),this.setTransitInCallback(Ee(s,"transitIn")),this.setTransitOutCallback(Ee(s,"transitOut")),this.createBackgroundCallback=i,this.createBackgroundCallbackScope=f,this.createButtonCallback=y,this.createButtonCallbackScope=c,this.childrenKey=Ee(s,"childrenKey","children"),this._isPassedEvent=!1,this.pointerDownOutsideCollapsing=Ee(s,"pointerDownOutsideCollapsing",!0),this.pointerDownOutsideCollapsing&&t.input.on("pointerdown",this.onPointerDownOutside,this)}var a=0,u=0;if(!this.root.easeIn.sameOrientation){var v=Og(this.root.easeIn,this).orientation,d=S?S.orientation:this.orientation,l=this.root.subMenuSide[d];v===0&&l===fu&&(a=1),v===1&&l===cu&&(u=1)}if(n&&this.setOrigin(a,u).layout(),!this.isRoot){this.setScale(this.root.scaleX,this.root.scaleY);var l=this.root.subMenuSide[S.orientation];switch(l){case fu:this.alignTop(E.top).alignRight(E.left);break;case Wv:this.alignTop(E.top).alignLeft(E.right);break;case cu:this.alignLeft(E.left).alignBottom(E.top);break;case zv:this.alignLeft(E.left).alignTop(E.bottom);break}}cY(this),n&&(this.pushIntoBounds(this.root.bounds),vY.call(this))}destroy(t){!this.scene||this.ignoreDestroy||(this.isRoot&&this.pointerDownOutsideCollapsing&&this.scene.input.off("pointerdown",this.onPointerDownOutside,this),super.destroy(t),this.removeDelayCall())}isInTouching(t){return super.isInTouching(t)?!0:this.childrenMap.subMenu?this.childrenMap.subMenu.isInTouching(t):!1}onPointerDownOutside(t){this.isInTouching(t)||(this.isPopUpMode?this.collapse():this.collapseSubMenu())}};r(Ax,"Menu");let yo=Ax;const fu=2,Wv=0,cu=3,zv=1,pY={up:cu,down:zv,left:fu,right:Wv};Object.assign(yo.prototype,QR);st.register("menu",function(e){var t=new yo(this.scene,e);return this.scene.add.existing(t),t});it(window,"RexPlugins.UI.Menu",yo);var gY={setWrapEnable(e){return e===void 0&&(e=!0),this.listWrapEnable=e,this},setCreateButtonCallback(e){return this.listCreateButtonCallback=e,this},setCreateListBackgroundCallback(e){return this.listCreateBackgroundCallback=e,this},setButtonClickCallback(e){return this.listOnButtonClick=e,this},setButtonOverCallback(e){return this.listOnButtonOver=e,this},setButtonOutCallback(e){return this.listOnButtonOut=e,this},setListExpandDirection(e){return typeof e=="string"&&(e=mY[e]),this.listExpandDirection=e,this},setListEaseInDuration(e){return e===void 0&&(e=0),this.listEaseInDuration=e,this},setListEaseOutDuration(e){return e===void 0&&(e=0),this.listEaseOutDuration=e,this},setListTransitInCallback(e){return this.listTransitInCallback=e,this},settListTransitOutCallback(e){return this.listTransitOutCallback=e,this},setListBounds(e){return this.listBounds=e,this},setListWidth(e){return this.listWidth=e,this},setListHeight(e){return this.listHeight=e,this},setListSize(e,t){return this.setListWidth(e).setListHeight(t),this},setListAlignmentMode(e){return this.listAlignMode=e,this},setListAlignmentSide(e){return e===void 0&&(e=""),this.listAlignSide=e,this},setListSpace(e){return e===void 0&&(e={}),this.listSpace=e,this},setListDraggable(e){return e===void 0&&(e=!0),this.listDraggable=e,this}};const mY={down:0,up:1};var xY=r(function(){var e=this.scene,t,s=this.listCreateBackgroundCallback;s&&(t=s.call(this,e),e.add.existing(t));var h=[],S=this.listCreateButtonCallback;if(S)for(var E=this.options,n=0,T=E.length;n<T;n++){var i=S.call(this,e,E[n],n,E);i&&(e.add.existing(i),h.push(i))}var f=this.listWidth;f===void 0&&(this.listAlignMode==="text"?f=this.getElement("text").width:f=this.width);var y=this.listHeight,c;return this.listWrapEnable?c=new Ui(e,{width:f,height:y,background:t,buttons:h,space:this.listSpace,draggable:this.listDraggable}):c=new oe(e,{width:f,height:y,orientation:"y",background:t,buttons:h,space:this.listSpace,draggable:this.listDraggable}),e.add.existing(c),c},"CreateListPanel"),yY=r(function(e,t,s,h,S){var E={};switch(E.mode=0,s){case 0:case"x":E.end={x:0};break;case 1:case"y":E.end={y:0};break;default:E.end=0;break}return E.duration=t,E.ease=h,S===void 0?S=new xr(e,E):S.resetFromJSON(E),S.restart(),S},"ScaleDown"),SY=r(function(e,t,s,h,S){return Zi(e,t)?Lt(e,t):Zi(e,s)?Lt(e,s):S},"GetValueFromAliasKeys");const rn=Phaser.Utils.Objects.GetValue;var TY=r(function(e,t){var s=rn(t,"expandDirection",void 0);typeof s=="string"&&(s=CY[s]);var h=SY(t,"alignTarget","alignTargetX"),S=rn(t,"alignTargetY",h),E=rn(t,"alignOffsetX",0),n=rn(t,"alignOffsetY",0),T=rn(t,"alignSide",""),i=T.includes("right"),f=rn(t,"bounds"),y=s===0,c=s===1,o=!y&&!c,l=i?1:0,a=y||o?0:1;e.setOrigin(l,a);var u,v;i?u=h.getTopRight().x:u=h.getTopLeft().x,v=S.getBottomLeft().y,e.setPosition(u+E,v+n);var d=f;d||(d=ka(e.scene)),o&&e.getBottomLeft().y>d.bottom&&(v=S.getTopLeft().y,e.setOrigin(0,1).setPosition(u+E,v+n))},"SetPosition");const CY={down:0,up:1},_C=Phaser.Utils.Objects.GetValue,Lx=class Lx extends ma{constructor(t,s){s===void 0&&(s={}),s.transitIn==null&&(s.transitIn=function(E,n){og(E,n,"y","Cubic")}),s.transitOut==null&&(s.transitOut=function(E,n){yY(E,n,"y","Linear")}),s.manualClose=!0,s.clickOutsideClose=!0,s.destroy=!0,super(t,s),TY(t,s),t.isRexSizer&&t.layout();var h=_C(s,"touchOutsideClose",!1),S=_C(s,"anyTouchClose",!1);S&&(h=!1),S?this.once("open",this.anyTouchClose,this):h&&this.once("open",this.touchOutsideClose,this),this.requestOpen()}shutdown(t){this.isShutdown||(this.scene.input.off("pointerup",this.touchCloseCallback,this),super.shutdown(t))}touchOutsideClose(){return this.scene.input.on("pointerup",this.touchCloseCallback,this),this.clickOutsideTest=!0,this}anyTouchClose(){return this.scene.input.once("pointerup",this.touchCloseCallback,this),this}touchCloseCallback(t){this.clickOutsideTest&&fr(this.parent,t.worldX,t.worldY)||this.requestClose()}onOpen(){this.emit("open",this.parent,this),super.onOpen()}onClose(){this.emit("close",this.parent,this),super.onClose()}};r(Lx,"DropDown");let Qu=Lx;var EY=r(function(){if(this.listPanel)return this;var e=xY.call(this);e.on("button.over",function(h,S,E,n){this.currentOverIndex=S,this.listOnButtonOver&&this.listOnButtonOver.call(this,h,S,E,n),this.emit("button.over",this,e,h,S,E,n)},this).on("button.out",function(h,S,E,n){this.currentOverIndex===S&&(this.currentOverIndex=void 0),this.listOnButtonOut&&this.listOnButtonOut.call(this,h,S,E,n),this.emit("button.out",this,e,h,S,E,n)},this);var t;!this.listAlignMode||this.listAlignMode==="label"?t=this:t=this.getElement(this.listAlignMode);var s=new Qu(e,{duration:{in:this.listEaseInDuration,out:this.listEaseOutDuration},transitIn:this.listTransitInCallback,transitOut:this.listTransitOutCallback,expandDirection:this.listExpandDirection,alignTargetX:t,alignTargetY:this,alignSide:this.listAlignSide,bounds:this.listBounds,anyTouchClose:!0}).on("open",function(){e.on("button.click",function(h,S,E,n){this.listOnButtonClick&&this.listOnButtonClick.call(this,h,S,E,n),this.emit("button.click",this,e,h,S,E,n)},this),this.emit("list.open",this,e)},this).on("close",function(){this.listPanel=void 0,this.dropDownBehavior=void 0,this.emit("list.close",this)},this);return this.listPanel=e,this.dropDownBehavior=s,this.pin(e),this},"OpenListPanel"),PY=r(function(){return this.dropDownBehavior?(this.dropDownBehavior.requestClose(),this.currentOverIndex=void 0,this):this},"CloseListPanel"),RY=r(function(){return this.listPanel?this.closeListPanel():this.openListPanel(),this},"ToggleListPanel"),AY=r(function(e){if(e===void 0&&(e=this.currentOverIndex),e===void 0)return this;var t=this.listPanel,s=t?t.getButton(e):this.options[e];return this.listOnButtonClick&&this.listOnButtonClick.call(this,s,e),this.emit("button.click",this,t,s,e),this},"EmitListButtonClick"),LY=r(function(e){var t=this.listPanel;return t?(t.emitButtonOver(e),this):this},"EmitButtonOver");const OY={focusNextButton(){if(!this.isOpened)return this;var e=this.currentOverIndex,t;if(e===void 0)t=0;else{var s=this.listPanel.getButtons().length;t=(e+1)%s}return this.emitButtonOver(t),this},focusPrevButton(){if(!this.isOpened)return this;var e=this.currentOverIndex,t;if(e===void 0)t=0;else{var s=this.listPanel.getButtons().length;t=(e-1+s)%s}return this.emitButtonOver(t),this}};var jR={openListPanel:EY,closeListPanel:PY,toggleListPanel:RY,emitButtonClick:AY,emitButtonOver:LY};Object.assign(jR,gY,OY);const Ut=Phaser.Utils.Objects.GetValue,Ox=class Ox extends xi{constructor(t,s){super(t,s),this.type="rexDropDownList",this.timer=void 0,this.listPanel=void 0,this.currentOverIndex=void 0,this.setOptions(Ut(s,"options"));var h=Ut(s,"list");this.setWrapEnable(Ut(h,"wrap",!1)),this.setCreateButtonCallback(Ut(h,"createButtonCallback")),this.setCreateListBackgroundCallback(Ut(h,"createBackgroundCallback")),this.setButtonClickCallback(Ut(h,"onButtonClick")),this.setButtonOverCallback(Ut(h,"onButtonOver")),this.setButtonOutCallback(Ut(h,"onButtonOut")),this.setListExpandDirection(Ut(h,"expandDirection")),this.setListEaseInDuration(Ut(h,"easeIn",500)),this.setListEaseOutDuration(Ut(h,"easeOut",100)),this.setListTransitInCallback(Ut(h,"transitIn")),this.settListTransitOutCallback(Ut(h,"transitOut")),this.setListSize(Ut(h,"width"),Ut(h,"height")),this.setListAlignmentMode(Ut(h,"alignParent","text")),this.setListAlignmentSide(Ut(h,"alignSide","")),this.setListBounds(Ut(h,"bounds")),this.setListSpace(Ut(h,"space")),this.setListDraggable(Ut(h,"draggable",!1)),this.setValueChangeCallback(Ut(s,"setValueCallback"),Ut(s,"setValueCallbackScope")),this.setValue(Ut(s,"value")),this.onClick(this.toggleListPanel,this)}destroy(t){!this.scene||this.ignoreDestroy||(this.listPanel&&(this.listPanel.destroy(t),this.listPanel=void 0),super.destroy(t))}get isOpened(){return!!this.listPanel}setOptions(t){return t===void 0&&(t=[]),this.options=t,this}setValueChangeCallback(t,s){return this.valueChangeCallback=t,this.valueChangeCallbackScope=s,this}setValue(t){return this.value=t,this}get value(){return this._value}set value(t){if(this._value!==t){var s=this._value;this._value=t;var h=this.valueChangeCallback,S=this.valueChangeCallbackScope;h&&(S?h.call(S,this,t,s):h(this,t,s)),this.emit("valuechange",this,t,s)}}};r(Ox,"DropDownList");let Mr=Ox;Object.assign(Mr.prototype,jR);st.register("dropDownList",function(e){var t=new Mr(this.scene,e);return this.scene.add.existing(t),t});it(window,"RexPlugins.UI.DropDownList",Mr);var qR=r(function(e,t,s){t=t?ce(t):{},s===void 0&&(s={});var h=t.label||t.button,S=t.button||t.label;delete t.label,delete t.button;var E=s.label||s.button||s,n=s.button||s.label||s,T=Hd(e,h,E);return T.list=t.list||{},T.list.createButtonCallback=function(i,f){var y=De(i,S,n).resetDisplayContent(f);return f.hasOwnProperty("value")&&(y.value=f.value),y},T.list.onButtonOver=function(i,f,y,c){i.setHoverState&&i.setHoverState(!0)},T.list.onButtonOut=function(i,f,y,c){i.setHoverState&&i.setHoverState(!1)},T},"BuildListConfig");const wx=class wx extends Mr{constructor(t,s,h){s=qR(t,s,h),super(t,s),this.type="rexSimpleDropDownList"}setOptions(t){t===void 0&&(t=[]);for(var s=0,h=t.length;s<h;s++){var S=t[s];typeof S=="string"&&(t[s]={text:S,value:S})}return super.setOptions(t),this}};r(wx,"SimpleDropDownList");let ju=wx;st.register("simpleDropDownList",function(e,t){var s=new ju(this.scene,e,t);return this.scene.add.existing(s),s});it(window,"RexPlugins.UI.SimpleDropDownList",ju);var wY=r(function(e){var t=Ws(e),s,h,S;switch(t){case xe:case ye:s=e.height-e.padding.top-e.padding.bottom,h=e.lineSpacing,S=e.style.metrics.fontSize+e.style.strokeThickness;break;case He:s=e.height,h=0;var E=e.fontSize/e.fontData.size;S=e.fontData.lineHeight*E;break}return(s-h)/(S+h)},"TextHeightToLinesCount"),MY=r(function(e,t){if(e===void 0&&(e=this.startLineIndex),t===void 0){var s=this.pageLinesCount;s>0?t=e+s:t=this.totalLinesCount}t>this.totalLinesCount&&(t=this.totalLinesCount);var h;switch(this.textObjectType){case xe:case He:h=this.lines.slice(e,t).join(`
`);break;case ye:var S=this.lines.getLineStartIndex(e),E=this.lines.getLineEndIndex(t-1);h=this.lines.getSliceTagText(S,E,!0);var n=(h.match(/\n/g)||[]).length;n>t-e-1&&(h=h.substring(0,h.length-1));break}return h},"GetLines"),Pc=r(function(e){return Array.isArray(e)?e=e.join(`
`):typeof e=="number"&&(e=e.toString()),e},"GetString");const bY={clearText(){return this.sections.length=0,this.pageStartIndexes.length=0,this.lines.length=0,this},appendPage(s){var t=this.totalLinesCount;this.sections.push(Pc(s));var s=this.sections.join(`
`);this.lines=Eg(this.parent,s,this.lines);var h=this.totalLinesCount-t,S=this.pageLinesCount,E;S>0?E=Math.ceil(h/this.pageLinesCount):E=1;for(var n=0;n<E;n++)this.pageStartIndexes.push(t+n*this.pageLinesCount);return this},setText(e,t){t===void 0&&(t=!0),t&&this.resetIndex(),this.clearText();for(var s=Pc(e).split(this.pageBreak),h=0,S=s.length;h<S;h++)this.appendPage(s[h]);return this},appendText(e){var t=this.content+Pc(e);return this.setText(t,!1),this}},t1=Phaser.Math.Clamp,IY={resetIndex(){return this.pageIndex=-1,this.startLineIndex=-1,this.endLineIndex=void 0,this},setPageIndex(e){return e=t1(e,0,this.lastPageIndex),this.pageIndex=e,this.startLineIndex=this.pageStartIndexes[e],this.endLineIndex=this.pageStartIndexes[e+1],this},getPage(e){return e===void 0&&(e=this.pageIndex),this.setPageIndex(e).getLines(this.startLineIndex,this.endLineIndex)},getNextPage(){return this.getPage(this.pageIndex+1)},getPreviousPage(){return this.getPage(this.pageIndex-1)},getFirstPage(){return this.getPage(0)},getLastPage(){return this.getPage(this.lastPageIndex)},setStartLineIndex(e){var t=Math.max(this.totalLinesCount-this.pageLinesCount,0);return e=t1(e,0,t),this.startLineIndex=e,this.endLineIndex=e+this.pageLinesCount,this},getPageByLineIndex(e){return this.setStartLineIndex(e).getLines(this.startLineIndex,this.endLineIndex)},getPageOfNextLine(){return this.getPageByLineIndex(this.startLineIndex+1)},getPageOfPreviousLine(){return this.getPageByLineIndex(this.startLineIndex-1)},getPageOfFirstLine(){return this.getPageByLineIndex(0)},getPageOfLastLine(){return this.getPageByLineIndex(this.totalLinesCount)}},FY={showPage(e){return this.displayText(this.getPage(e)),this},showNextPage(){return this.displayText(this.getNextPage()),this},showPreviousPage(){return this.displayText(this.getPreviousPage()),this},showFirstPage(){return this.displayText(this.getFirstPage()),this},showLastPage(){return this.displayText(this.getLastPage()),this},show(){return this.displayText(this.getLines()),this},showPageByLineIndex(e){return this.displayText(this.getPageByLineIndex(e)),this},showNextLine(){return this.displayText(this.getPageOfNextLine()),this},showPreviousLine(){return this.displayText(this.getPageOfPreviousLine()),this},showFirstLine(){return this.displayText(this.getPageOfFirstLine()),this},showLastLine(){return this.displayText(this.getPageOfLastLine()),this},displayText(e){Pg(this.parent,e)}};var _R={getLines:MY};Object.assign(_R,bY,IY,FY);const nn=Phaser.Utils.Objects.GetValue;Phaser.Math.Clamp;const Mx=class Mx extends Gt{constructor(t,s){super(t,{eventEmitter:!1}),this.textObjectType=Ws(this.parent),this.pageStartIndexes=[],this.lines=Eg(this.parent,""),this.sections=[],this.resetFromJSON(s)}resetFromJSON(t){this.setMaxLines(nn(t,"maxLines",void 0)),this.setPageBreak(nn(t,"pageBreak",`\f
`)),this.setText(nn(t,"text","")),this.startLineIndex=nn(t,"start",-1),this.endLineIndex=nn(t,"end",void 0);var s=nn(t,"page");return s===void 0?this.resetIndex():this.setPageIndex(s),this}toJSON(){return{maxLines:this.maxLines,text:this.content,start:this.startLineIndex,end:this.endLineIndex,page:this.pageIndex,pageBreak:this.pageBreak}}shutdown(t){if(!this.isShutdown){switch(this.textObjectType){case xe:this.lines.length=0;break;case ye:this.lines.destroy();break;case He:this.lines.length=0;break}this.pageStartIndexes.length=0,this.sections.length=0,this.lines=void 0,this.pageStartIndexes=void 0,this.sections=void 0,super.shutdown(t)}}setMaxLines(t){return this.maxLines=t,this}setPageBreak(t){return this.pageBreak=t,this}get pageCount(){return this.pageStartIndexes.length}get lastPageIndex(){return this.pageCount-1}get isFirstPage(){return this.pageIndex<=0}get isLastPage(){return this.pageIndex>=this.pageCount-1}get totalLinesCount(){return this.lines?this.lines.length:0}get pageLinesCount(){if(this.maxLines!==void 0)return this.maxLines;var t;switch(this.textObjectType){case xe:case ye:var s=this.parent.style.maxLines;s>0?t=s:t=Math.floor(wY(this.parent));break;case He:t=this.totalLinesCount;break}return t}get isFirstLine(){return this.startLineIndex<=0}get isLastLine(){return this.endLineIndex===this.totalLinesCount}get content(){return this.sections.join(this.pageBreak)}};r(Mx,"TextPage");let Fa=Mx;Object.assign(Fa.prototype,_R);var DY=r(function(e,t,s,h){return e!==void 0&&this.setTypingContent(e),t!==void 0&&(this.speed=t),s===void 0&&(s=0),this.typingIndex=s+1,this.speed===0?this.stop(!0):(this.setText(""),this.startTimer(h)),this},"StartTyping"),tA=r(function(e,t){return e.getPlainText&&(t=e.getPlainText(t)),t},"GetPlainText"),BY=r(function(e,t,s,h,S){var E;if(t>0){h===void 0&&(h=0);var n=tA(this.parent,e);E=GY(n,t)+h}return this.start(e,s,E,S)},"StartTypingFromLine"),GY=r(function(e,t){for(var s=void 0,h=0;h<t&&(s=e.indexOf(`
`,s+1),s!==-1);h++);return s},"GetNewLineIndex"),xh=r(function(e,t,s,h){var S;return e.getSubString?S=e.getSubString(t,s,h):S=t.slice(s,h),S},"GetSubString"),eA=r(function(e,t,s,h){var S=this.parent,E;if(h===0){var n=0,T=t;this.insertIndex=T,E=xh(S,e,n,T)}else if(h===1){var T=s,n=T-t;this.insertIndex=0,E=xh(S,e,n,T)}else if(h===2){var i=s/2,n=Math.floor(i-t/2),T=n+t;this.insertIndex=t%2?t:0,E=xh(S,e,n,T)}else if(h===3){var f=Math.floor(t/2),y;if(f>0){var T=s,n=T-f;y=xh(S,e,n,T)}else y="";var c=t-f,o;if(c>0){var n=0,T=n+c;this.insertIndex=T,o=xh(S,e,n,T)}else o="",this.insertIndex=0;E=o+y}return this.insertChar=E.charAt(this.insertIndex-1),E},"GetTypingString"),NY=r(function(e){var t=this.getTimer();if(t&&this.freeTimer(),e){for(;!this.isLastChar;)eA.call(this,this.text,this.typingIndex,this.textLength,this.typeMode),this.emit("typechar",this.insertChar),this.typingIndex++;this.setText(this.text),this.emit("type"),this.emit("complete",this,this.parent)}return this},"StopTyping"),UY=r(function(){var e=this.getTimer();return e&&(e.paused=!0),this},"PauseTyping"),VY=r(function(){var e=this.getTimer();return e&&(e.paused=!1),this},"ResumeTyping"),WY=r(function(e){var t=this.text.concat(TransferText(e));return this.isTyping?this.setTypingContent(t):this.start(t,void 0,this.textLength),this},"AppendText"),zY={start:DY,startFromLine:BY,stop:NY,pause:UY,resumeTyping:VY,appendText:WY},YY=r(function(e,t){var s=Ws(e);switch(s){case xe:e.style.syncFont(e.canvas,e.context),t=e.runWordWrap(t);break;case ye:t=e.getText(t,void 0,void 0,!0);break;case He:t=e.setText(t).getTextBounds().wrappedText;break}return t},"GetWrapText");const yh=Phaser.Utils.Objects.GetFastValue,Rc=Phaser.Utils.Objects.GetValue,bx=class bx extends Gt{constructor(t,s){super(t,s),this.timer=null,this.resetFromJSON(s)}resetFromJSON(t){this.setTextWrapEnable(Rc(t,"wrap",!1)),this.setTypeMode(Rc(t,"typeMode",0)),this.setTypingSpeed(Rc(t,"speed",333)),this.setTextCallback=yh(t,"setTextCallback",null),this.setTextCallbackScope=yh(t,"setTextCallbackScope",null),this.setTypingContent(yh(t,"text","")),this.typingIndex=yh(t,"typingIndex",0),this.insertIndex=null,this.insertChar=null;var s=yh(t,"elapsed",null);return s!==null&&this.start(void 0,void 0,this.typingIndex,s),this}shutdown(t){this.isShutdown||(this.freeTimer(),super.shutdown(t))}setTypeMode(t){return typeof t=="string"&&(t=HY[t]),this.typeMode=t,this}setTypeSpeed(t){return this.speed=t,this}setTypingSpeed(t){return this.speed=t,this}setTextWrapEnable(t){return t===void 0&&(t=!0),this.textWrapEnable=t,this}set text(t){var s=kY(t);this.textWrapEnable&&(s=YY(this.parent,s)),this._text=s}get text(){return this._text}get isTyping(){return this.getTimer()!==null}get isLastChar(){return this.typingIndex===this.textLength}setTypingContent(t){return this.text=t,this.textLength=tA(this.parent,this.text).length,this}onTyping(){var t=eA.call(this,this.text,this.typingIndex,this.textLength,this.typeMode);this.setText(t),this.emit("typechar",this.insertChar),this.emit("type"),this.isLastChar?(this.freeTimer(),this.scene.sys.events.once("preupdate",function(){this.emit("complete",this,this.parent)},this)):(this.timer.delay=this.speed,this.typingIndex++)}startTimer(t){this.timer&&this.freeTimer();var s;return t===void 0?s=0:(this.speed,s=t),this.timer=this.scene.time.addEvent({delay:1e-4,startAt:s,loop:!0,callback:this.onTyping,callbackScope:this}),this}getTimer(){return this.timer}freeTimer(){return this.timer&&(this.timer.remove(),this.timer=null),this}setText(t){this.setTextCallback&&(this.setTextCallbackScope?t=this.setTextCallback.call(this.setTextCallbackScope,t,this.isLastChar,this.insertIndex):t=this.setTextCallback(t,this.isLastChar,this.insertIndex)),this.textWrapEnable?Pg(this.parent,t):this.parent.setText(t)}};r(bx,"TextTyping");let Da=bx;var kY=r(function(e){return Array.isArray(e)?e=e.join(`
`):typeof e=="number"&&(e=e.toString()),e},"TransferText$1");const HY={"left-to-right":0,"right-to-left":1,"middle-to-sides":2,"sides-to-middle":3};Object.assign(Da.prototype,zY);const Sh=Phaser.Utils.Objects.GetValue;var XY=r(function(e,t){t===void 0&&(t="rexTextBox");const h=class h extends e{constructor(E,n){super(E,n),this.type=t,this.isRunning=!1;var T=this.childrenMap.text,i=Sh(n,"expandTextWidth",!1),f=Sh(n,"expandTextHeight",!1);if(i||f){var y=Ws(T);switch(y){case xe:case ye:if(T.resize=function(o,l){var a=i?o:0,u=f?l:0;T.setFixedSize(a,u),a>0&&T.setWordWrapWidth(a)},y===ye){var c=T.style;c.wrapMode===0&&(c.wrapMode=1)}break}i&&(T._minWidth=0),f&&(T._minHeight=0)}this.setTypingMode(Sh(n,"typingMode","page")),this.page=new Fa(T,Sh(n,"page",void 0)),this.typing=new Da(T,Sh(n,"typing",n.type)),this.typing.on("complete",this.onTypingComplete,this).on("type",this.onType,this).on("typechar",this.onTypeChar,this),this.textWidthSave=T.width,this.textHeightSave=T.height}setTypingMode(E){return typeof E=="string"&&(E=$Y[E]),this.typingMode=E,this}start(E,n){return n!==void 0&&this.setTypingSpeed(n),this.isRunning=!0,this.page.setText(E),this.emit("start"),this.typingMode===0?this.typeNextPage():this.typeNextLine(),this}more(E,n){if(n!==void 0&&this.setTypingSpeed(n),this.isRunning)this.page.appendText(E),this.typing.appendText(E);else{if(this.isRunning=!0,this.page.appendText(E),this.emit("start"),this.typingMode===0){var T=this.page.getPage(),i=this.typing.textLength;this.typing.start(T,void 0,i)}return this}}typeNextPage(){if(!this.isRunning)return this;if(this.isLastPage)this.emit("complete");else{var E=this.page.getNextPage();this.typing.start(E)}return this}typeNextLine(){if(!this.isRunning)return this;if(this.isLastLine)this.isRunning=!1,this.emit("pageend"),this.emit("complete");else{var E=this.page.getPageOfNextLine(),n;this.isFirstLine?n=0:n=this.page.pageLinesCount-1,this.typing.startFromLine(E,n)}}pause(){return this.isRunning?(this.isTyping&&(this.typing.pause(),this.emit("pause")),this):this}resume(){return this.isRunning?(this.isTyping||(this.emit("resume"),this.typing.resume()),this):this}stop(E){return this.isRunning?(this.typing.stop(E),this):this}showLastPage(){return this.isRunning?(this.typing.stop(),this.typingMode===0?this.page.showLastPage():this.page.showLastLine(),this.emit("type"),this.onTypingComplete(),this):this}setTypeSpeed(E){return this.typing.setTypingSpeed(E),this}setTypingSpeed(E){return this.typing.setTypingSpeed(E),this}get isTyping(){return this.typing.isTyping}get isLastPage(){return this.page.isLastPage}get isFirstPage(){return this.page.isFirstPage}get pageCount(){return this.page.pageCount}get pageIndex(){return this.page.pageIndex}get isLastLine(){return this.page.isLastLine}get isFirstLine(){return this.page.isFirstLine}get lineCound(){return this.page.totalLinesCount}get startLineIndex(){return this.page.startLineIndex}get endLineIndex(){return this.page.endLineIndex}get typingSpeed(){return this.typing.speed}onType(){var E=this.childrenMap.text;(this.textWidthSave!==E.width||this.textHeightSave!==E.height)&&(this.textWidthSave=E.width,this.textHeightSave=E.height,this.getTopmostSizer().layout()),this.emit("type")}onTypeChar(E){this.emit("typechar",E)}onTypingComplete(){if(this.typingMode===0){var E=this.isLastPage;this.isRunning=!E,this.emit("pageend"),E&&this.emit("complete")}else this.typeNextLine()}};r(h,"TextBox");let s=h;return s},"TextBoxBase");const $Y={page:0,line:1},Ix=class Ix extends XY(La){constructor(t,s){s===void 0&&(s={}),s.hasOwnProperty("layoutMode")||(s.layoutMode=1),super(t,s)}};r(Ix,"TextBox");let So=Ix;st.register("textBox",function(e){var t=new So(this.scene,e);return this.scene.add.existing(t),t});it(window,"RexPlugins.UI.TextBox",So);const Fx=class Fx extends So{constructor(t,s,h){s=VR(t,s,h),super(t,s)}};r(Fx,"SimpleTextBox");let qu=Fx;st.register("simpleTextBox",function(e){var t=new qu(this.scene,e);return this.scene.add.existing(t),t});it(window,"RexPlugins.UI.SimpleTextBox",qu);const ke=Phaser.Utils.Objects.GetValue,Dx=class Dx extends Tt{constructor(t,s){super(t,s),this.type="rexNumberBar";var h=ke(s,"background",void 0),S=ke(s,"icon",void 0),E=ke(s,"iconMask",void 0),n=ke(s,"slider",void 0),T=ke(s,"text",void 0),i=ke(s,"space.icon",0),f=ke(s,"space.slider",0);if(h&&this.addBackground(h),S){var y;this.orientation===0?(n||T)&&(y={right:i}):(n||T)&&(y={bottom:i}),this.add(S,{proportion:0,align:"center",padding:y}),E&&(E=mi.call(this,S,S,1))}var c;if(n){n.orientation=this.orientation,n.eventEmitter=this,n.value=null,n.hasOwnProperty("input")||(n.input=-1),c=new Us(t,n),t.add.existing(c);var y;this.orientation===0?T&&(y={right:f}):T&&(y={bottom:f});var o;if(this.orientation===0){var l=ke(n,"width",void 0);o=l===void 0?1:0}else{var a=ke(n,"height",void 0);o=a===void 0?1:0}this.add(c,{proportion:o,align:"center",padding:y})}T&&this.add(T),this.addChildrenMap("background",h),this.addChildrenMap("icon",S),this.addChildrenMap("iconMask",E),this.addChildrenMap("slider",c),this.addChildrenMap("text",T);var u=ke(s,"valuechangeCallback",null);if(u!==null){var v=ke(s,"valuechangeCallbackScope",void 0);this.on("valuechange",u,v)}this.setEnable(ke(s,"enable",void 0)),this.setValue(ke(s,"value",0))}get enable(){return this.childrenMap.slider?this.childrenMap.slider.enable:!1}set enable(t){this.childrenMap.slider&&this.childrenMap.slider.setEnable(t)}setEnable(t){return t===void 0&&(t=!0),this.enable=t,this}get value(){return this.childrenMap.slider?this.childrenMap.slider.value:0}set value(t){this.childrenMap.slider&&(this.childrenMap.slider.value=t)}setValue(t,s,h){return this.childrenMap.slider&&this.childrenMap.slider.setValue(t,s,h),this}addValue(t,s,h){return this.childrenMap.slider&&this.childrenMap.slider.addValue(t,s,h),this}getValue(t,s){return this.childrenMap.slider?this.childrenMap.slider.getValue(t,s):0}easeValueTo(t,s,h){return this.childrenMap.slider&&this.childrenMap.slider.easeValueTo(t,s,h),this}stopEaseValue(){return this.childrenMap.slider&&this.childrenMap.slider.stopEaseValue(),this}setEaseValueDuration(t){return this.childrenMap.slider&&this.childrenMap.slider.setEaseValueDuration(t),this}setEaseValueFunction(t){return this.childrenMap.slider&&this.childrenMap.slider.setEaseValueFunction(t),this}get text(){var t=this.childrenMap.text;if(t===void 0)return"";var s;return t.text?s=t.text:s=t.getData("text"),s}set text(t){var s=this.childrenMap.text;s!==void 0&&(s.setText?s.setText(t):s.setData("text",t))}setText(t){return this.text=t,this}};r(Dx,"NumberBar");let _u=Dx;st.register("numberBar",function(e){var t=new _u(this.scene,e);return this.scene.add.existing(t),t});it(window,"RexPlugins.UI.NumberBar",_u);st.register("scrollBar",function(e){var t=new co(this.scene,e);return this.scene.add.existing(t),t});it(window,"RexPlugins.UI.ScrollBar",co);const Ac=Phaser.Utils.Objects.GetValue,e1={leftTop:"left-top",centerTop:"center-top",rightTop:"right-top",leftCenter:"left-center",center:"center",rightCenter:"right-center",leftBottom:"left-bottom",centerBottom:"center-bottom",rightBottom:"right-bottom"},Bx=class Bx extends Ne{constructor(t,s){super(t,s),this.type="rexBadge";var h=Ac(s,"background",void 0);h&&this.addBackground(h),this.addChildrenMap("background",h);var S=Ac(s,"main",void 0);S&&this.add(S,{key:"main",align:"center",expand:!1}),this.addChildrenMap("main",S);for(var E in e1){var n=Ac(s,E,void 0);n&&(this.add(n,{key:E,align:e1[E],expand:!1}),this.addChildrenMap(E,n))}}};r(Bx,"Badge");let td=Bx;st.register("badgeLabel",function(e){var t=new td(this.scene,e);return this.scene.add.existing(t),t});it(window,"RexPlugins.UI.BadgeLabel",td);const KY=Ne.prototype.add;var i1=r(function(e,t,s,h,S,E,n,T,i){return e.setVisible(!1),KY.call(this,e,t,s,h,S,E,n,T,i),this},"Add");const ZY={add:i1,addPage:i1};var JY=r(function(e){return e===void 0?null:this.sizerChildren.hasOwnProperty(e)?this.sizerChildren[e]:null},"GetPage$1");const s1=Ae.prototype.setChildVisible;var QY=r(function(e,t){this._previousKey=this._currentKey;var s=this.previousPage;s&&(this.swapMode===0?(s1.call(this,s,!1),this.emit("pageinvisible",s,this._previousKey,this)):s.destroy()),e&&!this.sizerChildren.hasOwnProperty(e)&&this.emit("createpage",e,this),this._currentKey=e;var h=this.currentPage;return h&&(s1.call(this,h,!0),this.emit("pagevisible",h,this._currentKey,this),t===void 0&&(t=this.fadeInDuration),t>0&&h.setAlpha(0).fadeIn(t,1)),this},"SwapPage$1"),jY=r(function(e){return this.sizerChildren.hasOwnProperty(e)},"HasPage"),iA={getPage:JY,swapPage:QY,hasPage:jY};Object.assign(iA,ZY);const r1=Phaser.Utils.Objects.GetValue,Gx=class Gx extends Ne{constructor(t,s){super(t,s),this.type="rexPages",this.childrenMap=this.sizerChildren,this._previousKey=void 0,this._currentKey=void 0,this.setSwapMode(r1(s,"swapMode",0)),this.setFadeInDuration(r1(s,"fadeIn",0))}setSwapMode(t){return typeof t=="string"&&(t=qY[t]),this.swapMode=t,this}setFadeInDuration(t){return this.fadeInDuration=t,this}get previousKey(){return this._previousKey}get currentKey(){return this._currentKey}set currentKey(t){this.swapPage(t)}get currentPage(){return this.getPage(this.currentKey)}get previousPage(){return this.getPage(this.previousKey)}get keys(){return Object.keys(this.sizerChildren)}};r(Gx,"Pages");let Ba=Gx;Object.assign(Ba.prototype,iA);const qY={invisible:0,destroy:1};st.register("pages",function(e){var t=new Ba(this.scene,e);return this.scene.add.existing(t),t});it(window,"RexPlugins.UI.Pages",Ba);const _Y=Phaser.GameObjects.Mesh,Nx=class Nx extends _Y{get tint(){return this.vertices.length===0?16777215:this.vertices[0].color}forceUpdate(){return this.dirtyCache[10]=1,this}};r(Nx,"MeshBase");let ed=Nx;const sA=Phaser.Math.Vector3,tk=Phaser.Math.Matrix4;var n1=new sA,a1=new sA,h1=new tk,ek=r(function(e,t,s,h,S,E,n){t===void 0&&(t=0),s===void 0&&(s=0),h===void 0&&(h=0),S===void 0&&(S=0),E===void 0&&(E=0),n===void 0&&(n=0),n1.set(t,s,h),a1.set(S,E,n),h1.fromRotationXYTranslation(a1,n1,!0);for(var T=0,i=e.vertices.length;T<i;T++)e.vertices[T].transformMat4(h1)},"TransformVerts");const ik=Phaser.Utils.Objects.IsPlainObject,sr=Phaser.Utils.Objects.GetValue,sk=Phaser.Geom.Mesh.GenerateGridVerts,Lc=Phaser.Math.RadToDeg,vu=Phaser.Math.DegToRad,rA=45,rk=1+1/Math.sin(vu(rA));var sa;let nA=(sa=class extends ed{constructor(t,s,h,S,E,n){ik(s)&&(n=s,s=sr(n,"x",0),h=sr(n,"y",0),S=sr(n,"key",null),E=sr(n,"frame",null)),super(t,s,h,S,E),this.type="rexPerspectiveImage",this.setSizeToFrame(),this.resetPerspective(),this.panZ(rk),this.hideCCW=sr(n,"hideCCW",!0);var T=sr(n,"gridWidth",0),i=sr(n,"gridHeight",T);this.resetVerts(T,i),this.prevFrame=this.frame}preUpdate(t,s){this.prevFrame!==this.frame&&(this.prevFrame=this.frame,this.syncSize()),super.preUpdate(t,s)}get originX(){return .5}get originY(){return .5}resetPerspective(){return this.setPerspective(this.width,this.height,rA),this}resetVerts(E,n){if(E!==void 0&&(this.gridWidth=E),n!==void 0&&(this.gridHeight=n),this.clear(),this.dirtyCache[9]=-1,this.width===0||this.height===0)return this;var h=this.frame.cutWidth,S=this.frame.cutHeight,E,n;this.gridWidth===0?E=Math.max(h/8,32):n=this.gridWidth,this.gridHeight===0?n=Math.max(S/8,32):n=this.gridHeight,sk({mesh:this,width:h/this.height,height:S/this.height,widthSegments:Math.ceil(h/E),heightSegments:Math.ceil(S/n)});var T=this.transformInfo;return T&&this.transformVerts(T.x,T.y,T.z,T.rotateX,T.rotateY,T.rotateZ),this}syncSize(){return this.setSizeToFrame(),this.resetPerspective(),this.resetVerts(),this}get rotationX(){return this.modelRotation.x}set rotationX(t){this.modelRotation.x=t}get angleX(){return Lc(this.rotationX)}set angleX(t){this.rotationX=vu(t)}get rotationY(){return this.modelRotation.y}set rotationY(t){this.modelRotation.y=t}get angleY(){return Lc(this.rotationY)}set angleY(t){this.rotationY=vu(t)}get rotationZ(){return this.modelRotation.z}set rotationZ(t){this.modelRotation.z=t}get angleZ(){return Lc(this.rotationZ)}set angleZ(t){this.rotationZ=vu(t)}transformVerts(t,s,h,S,E,n){return t===void 0&&(t=0),s===void 0&&(s=0),h===void 0&&(h=0),S===void 0&&(S=0),E===void 0&&(E=0),n===void 0&&(n=0),this.transformInfo||(this.transformInfo={}),this.transformInfo.x=t,this.transformInfo.y=s,this.transformInfo.rotateX=S,this.transformInfo.rotateY=E,this.transformInfo.rotateZ=n,ek(this,t,s,h,S,E,n),this}},r(sa,"Image"),sa);const nk=Phaser.Textures.DynamicTexture;var aA=r(function(e,t,s){t===void 0&&(t=2),s===void 0&&(s=2);var h=new nk(e.sys.textures,null,t,s);return h},"CreateDynamicTexture");const ak=Phaser.Utils.Objects.IsPlainObject,Kl=Phaser.Utils.Objects.GetValue,Ux=class Ux extends nA{constructor(t,s,h,S,E,n){ak(s)&&(n=s,s=Kl(n,"x",0),h=Kl(n,"y",0),S=Kl(n,"width",32),E=Kl(n,"height",32));var T=aA(t,S,E);super(t,s,h,T,null,n),this.type="rexPerspectiveRenderTexture",this.rt=this.texture}destroy(t){!this.scene||this.ignoreDestroy||(super.destroy(t),this.rt.destroy(),this.rt=null)}snapshot(t,s){return s===void 0&&(s={}),s.gameObjects=t,s.renderTexture=this.rt,kp(s),(this.width!==this.frame.realWidth||this.height!==this.frame.realHeight)&&this.syncSize(),this}};r(Ux,"RenderTexture");let id=Ux;Phaser.Animations.AnimationState;Phaser.Utils.Objects.IsPlainObject;Phaser.Utils.Objects.GetValue;var ci=r(function(e,t,s,h){if(Array.isArray(e))for(var S=!1,E=0,n=e.length;E<n;E++){var T=e[E];if(!(h&&!T)&&(s?S=t.call(s,T,E,e):S=t(T,E,e),S))return}else{var S=!1;for(var i in e){var T=e[i];if(!(h&&!T)&&(s?S=t.call(s,T,i,e):S=t(T,i,e),S))return}}},"ForEachFace");const an=Phaser.Math.RadToDeg,hn=Phaser.Math.DegToRad,Vx=class Vx extends Ae{constructor(t,s,h,S,E,n){super(t,s,h,S,E),this.faces=n,ci(n,function(T){T.setPosition(s,h),this.add(T)},this,!0)}get rotationX(){return 0}set rotationX(t){}get angleX(){return an(this.rotationX)}set angleX(t){this.rotationX=hn(t)}get rotateX(){return an(this.rotationX)}set rotateX(t){this.rotationX=hn(t)}get rotationY(){return 0}set rotationY(t){}get angleY(){return an(this.rotationY)}set angleY(t){this.rotationY=hn(t)}get rotateY(){return an(this.rotationY)}set rotateY(t){this.rotationY=hn(t)}get rotationZ(){return 0}set rotationZ(t){}get angleZ(){return an(this.rotationZ)}set angleZ(t){this.rotationZ=hn(t)}get rotateZ(){return an(this.rotationZ)}set rotateZ(t){this.rotationZ=hn(t)}setDebug(t,s){return ci(this.faces,function(h){h.setDebug(t,s)},null,!0),this}panX(t){return ci(this.faces,function(s){s.panX(t)},null,!0),this}panY(t){return ci(this.faces,function(s){s.panY(t)},null,!0),this}panZ(t){return ci(this.faces,function(s){s.panZ(t)},null,!0),this}transformVerts(t,s,h,S,E,n){return ci(this.faces,function(T){T.transformVerts(t,s,h,S,E,n)},null,!0),this}forEachFace(t,s,h){return ci(this.faces,t,s,h),this}};r(Vx,"FaceContainer");let Yv=Vx;const hk=Phaser.Utils.Objects.IsPlainObject,ok={key:"__WHITE"},lk={image:nA,rendertexture:id};var o1=r(function(e,t){t===void 0&&(t=ok);var s;return hk(t)?(t.hasOwnProperty("type")||(t.hasOwnProperty("key")?t.type="image":t.hasOwnProperty("width")&&(t.type="rendertexture")),s=new lk[t.type](e,t),e.add.existing(s)):s=t,s},"CreatePerspectiveObject"),uk=r(function(e,t,s){var h;if(s===void 0){h=[];for(var S,E,n=0,T=t.length;n<T;n++)E=t[n],E?S=o1(e,E):S=null,h.push(S)}else{h={};for(var S,i,n=0,T=s.length;n<T;n++)i=s[n],t.hasOwnProperty(i)?S=o1(e,t[i]):S=null,h[i]=S}return h},"CreateFaces");const dk=Phaser.Math.DegToRad,l1=dk(180);var fk=r(function(e,t){var s=t.back;s&&(e.orientation===0?s.transformVerts(0,0,0,0,l1,0):s.transformVerts(0,0,0,l1,0,0))},"LayoutFaces");const Oc=Phaser.Utils.Objects.GetValue,ck=Phaser.Math.Linear;var ra;let vk=(ra=class extends ss{constructor(t,s){super(t,s),this.resetFromJSON(s),this.boot()}resetFromJSON(t){return super.resetFromJSON(t),this.setEase(Oc(t,"ease","Cubic")),this.setFrontToBackDirection(Oc(t,"frontToBack",0)),this.setBackToFrontDirection(Oc(t,"backToFront",1)),this}setFrontToBackDirection(t){return typeof t=="string"&&(t=u1[t]),this.endAngleFB=t===0?180:-180,this}setBackToFrontDirection(t){return typeof t=="string"&&(t=u1[t]),this.endAngleBF=t===0?-180:180,this}start(t,s){if(this.timer.isRunning)return this;this.timer.setDelay(this.delay).setDuration(t);var h=s+1,S=this.parent;return S.face===0?(this.startAngle=0,this.endAngle=this.endAngleFB*h):(this.startAngle=this.endAngleBF,this.endAngle=this.startAngle-this.endAngleBF*h),super.start(),this}flip(t,s){return this.isRunning?this:(t===void 0&&(t=this.duration),s===void 0&&(s=0),this.start(t,s),this.emit("start",this.parent,this),this.parent.currentFaceIndex=(this.parent.currentFaceIndex+s+1)%2,this)}flipRight(t,s){return this.parent.currentFaceIndex===0?this.setFrontToBackDirection(0):this.setBackToFrontDirection(0),this.flip(t,s),this}flipLeft(t,s){return this.parent.currentFaceIndex===0?this.setFrontToBackDirection(1):this.setBackToFrontDirection(1),this.flip(t,s),this}updateTarget(t,s){var h=this.easeFn(s.t),S=ck(this.startAngle,this.endAngle,h);t.orientation===0?t.angleY=S:t.angleX=S}},r(ra,"Flip"),ra);const u1={right:0,"left-to-right":0,left:1,"right-to-left":1},pk=Phaser.Utils.Objects.IsPlainObject,rr=Phaser.Utils.Objects.GetValue,gk=["back","front"],Wx=class Wx extends Yv{constructor(t,s,h,S){pk(s)&&(S=s,s=rr(S,"x",0),h=rr(S,"y",0));var E=uk(t,S,gk),n=E.back,T=E.front,i=rr(S,"width"),f=rr(S,"height");if(i===void 0||f===void 0){if(i===void 0){var y=T?T.width:0,c=n?n.width:0;i=Math.max(y,c)}if(f===void 0){var o=T?T.height:0,l=n?n.height:0;f=Math.max(o,l)}}super(t,s,h,i,f,E),this.type="rexPerspectiveCard",this.frontFaceRotationX=0,this.frontFaceRotationY=0,this.frontFaceRotationZ=0,ci(E,function(u,v){this[`${v}Face`]=u},this);var a=rr(S,"flip",void 0);a!==!1&&(this.flip=new vk(this,a)),this.setOrientation(rr(S,"orientation",0)),fk(this,E),this.setFace(rr(S,"face",0))}get rotationX(){return this.frontFaceRotationX}set rotationX(t){this.frontFaceRotationX!==t&&(this.frontFaceRotationX=t,ci(this.faces,function(s){s.rotationX=t},null,!0))}get rotationY(){return this.frontFaceRotationY}set rotationY(t){this.frontFaceRotationY!==t&&(this.frontFaceRotationY=t,ci(this.faces,function(s){s.rotationY=t},null,!0))}get rotationZ(){return this.frontFaceRotationZ}set rotationZ(t){this.frontFaceRotationZ!==t&&(this.frontFaceRotationZ=t,ci(this.faces,function(s){s.rotationZ=t},null,!0))}setOrientation(t){return typeof t=="string"&&(t=mk[t]),this.orientation=t,this}get face(){return this.currentFaceIndex}set face(t){typeof t=="string"&&(t=xk[t]),this.currentFaceIndex=t;var s=t===1,h=s?180:0;this.orientation===0?this.angleY=h:this.angleX=h}setFace(t){return this.face=t,this}toggleFace(){var t=this.face===0?1:0;return this.setFace(t),this}};r(Wx,"Card");let kv=Wx;const mk={x:0,horizontal:0,h:0,y:1,vertical:1,v:1},xk={front:0,back:1};Phaser.Utils.Objects.GetValue;Phaser.Math.RadToDeg;Phaser.Math.DegToRad;Phaser.Math.Angle.WrapDegrees;Phaser.Math.Angle.ShortestBetween;Phaser.Math.Wrap;Phaser.Math.Linear;Phaser.Utils.Objects.IsPlainObject;Phaser.Utils.Objects.GetValue;Phaser.Math.DegToRad;Phaser.Math.RadToDeg;Phaser.Math.Angle.WrapDegrees;Phaser.Math.Linear;Phaser.Math.Wrap;Phaser.Utils.Objects.IsPlainObject;Phaser.Utils.Objects.GetValue;Phaser.Math.Wrap;const yk=Phaser.Utils.Objects.GetValue;var Sk=r(function(e,t,s){t.visibleSibling=[],t.isRunning=!1,t.useParentBounds=yk(s,"useParentBounds",!1),t.setPosition(e.x,e.y).setVisible(!1),e.pin(t)},"Init"),hA=r(function(e,t){if(!e)return!1;for(var s=t.visibleSibling,h=0,S=s.length;h<S;h++)e.setChildVisible(s[h],!0);return s.length=0,e.setChildVisible(t,!1),t.isRunning=!1,!0},"Exit"),Tk=r(function(e,t){if(!e)return!1;hA(e,t);var s=t.useParentBounds;kp({gameObjects:e.getAllVisibleChildren(),renderTexture:t.rt,x:t.x,y:t.y,width:s?e.displayWidth:void 0,height:s?e.displayHeighth:void 0,originX:s?e.originX:void 0,originY:s?e.originY:void 0}),e.setChildVisible(t,!0);for(var h=t.visibleSibling,S=e.children,E=0,n=S.length;E<n;E++){var T=S[E];T.visible&&T!==t&&(e.setChildVisible(T,!1),h.push(T))}return t.isRunning=!0,!0},"Enter"),oA=r(function(e){var t;return t=class extends e{constructor(h,S){var E=h.scene;super(E,0,0,1,1,S),E.add.existing(this),Sk(h,this,S)}destroy(h){!this.scene||this.ignoreDestroy||(this.exit(),super.destroy(h))}enter(){var h=Tk(this.rexContainer.parent,this);return h&&this.syncSize(),this}exit(){return hA(this.rexContainer.parent,this),this}},r(t,"Base"),t},"MeshRenderTextureBase");const zx=class zx extends oA(id){get perspectiveState(){return this.isRunning}};r(zx,"ContainerPerspective");let sd=zx;const Ck=Phaser.Utils.Objects.GetValue;var Ek=r(function(e){var t=this.scene;this.setSnapshotPadding(Ck(e,"snapshotPadding",0)),e=Fi(e),delete e.width,delete e.height,e.front={width:1,height:1},e.back={width:1,height:1};var s=new kv(t,e);t.add.existing(s);var h=s.flip;if(h){var S=this;h.on("start",function(){S.enterPerspectiveMode()}).on("complete",function(){S.exitPerspectiveMode()})}return s},"CreatePerspectiveCardMesh");const Pk=["front","back"],Rk={enterPerspectiveMode(){return this.isInPerspectiveMode?this:(this.setChildVisible(this.perspectiveCard,!0),this.snapshotFace(0),this.snapshotFace(1),this.setChildVisible(this.childrenMap.front,!1),this.setChildVisible(this.childrenMap.back,!1),this.perspectiveCard.setSize(this.width,this.height),this)},exitPerspectiveMode(){if(!this.isInPerspectiveMode)return this;this.setChildVisible(this.perspectiveCard,!1);var e=this.perspectiveCard.face===0;return this.setChildVisible(this.childrenMap.front,e),this.setChildVisible(this.childrenMap.back,!e),this},setSnapshotPadding(e){return this.snapshotPadding=e,this},snapshotFace(e){typeof e=="number"&&(e=Pk[e]);var t=this.perspectiveCard.faces[e],s=this.childrenMap[e];t.rt.clear();var h=s.visible;s.visible=!0;var S=s.isRexContainerLite?s.getAllVisibleChildren():s;return t.snapshot(S,{padding:this.snapshotPadding}),s.visible=h,this}},d1=Phaser.Utils.Objects.GetValue,Yx=class Yx extends Ne{constructor(t,s){super(t,s),this.type="rexPerspectiveCard";var h=s.back,S=d1(s,"expand.back",!0);this.add(h,{key:"back",expand:S});var E=s.front,n=d1(s,"expand.front",!0);this.add(E,{key:"front",expand:n}),this.perspectiveCard=Ek.call(this,s),this.pin(this.perspectiveCard),this.exitPerspectiveMode(!1)}get flip(){return this.perspectiveCard.flip}get face(){return this.perspectiveCard.face}set face(t){if(!(this.flip&&this.flip.isRunning)){this.perspectiveCard.face=t;var s=t===0,h=this.childrenMap.front,S=this.childrenMap.back;this.setChildVisible(h,s),this.setChildVisible(S,!s)}}setFace(t){return this.face=t,this}toggleFace(){var t=this.face===0?1:0;return this.setFace(t),this}get isInPerspectiveMode(){return this.perspectiveCard.visible}get rotationX(){return this.perspectiveCard.rotationX}set rotationX(t){this.enterPerspectiveMode(),this.perspectiveCard.rotationX=t}get angleX(){return this.perspectiveCard.angleX}set angleX(t){this.enterPerspectiveMode(),this.perspectiveCard.angleX=t}get rotationY(){return this.perspectiveCard.rotationY}set rotationY(t){this.enterPerspectiveMode(),this.perspectiveCard.rotationY=t}get angleY(){return this.perspectiveCard.angleY}set angleY(t){this.enterPerspectiveMode(),this.perspectiveCard.angleY=t}get rotationZ(){return this.perspectiveCard.rotationZ}set rotationZ(t){this.enterPerspectiveMode(),this.perspectiveCard.rotationZ=t}get angleZ(){return this.perspectiveCard.angleZ}set angleZ(t){this.enterPerspectiveMode(),this.perspectiveCard.angleZ=t}panX(t){return this.enterPerspectiveMode(),this.perspectiveCard.panX(t),this}panY(t){return this.enterPerspectiveMode(),this.perspectiveCard.panY(t),this}panZ(t){return this.enterPerspectiveMode(),this.perspectiveCard.panZ(t),this}transformVerts(t,s,h,S,E,n){return this.enterPerspectiveMode(),this.perspectiveCard.transformVerts(t,s,h,S,E,n),this}forEachFace(t,s,h){return this.enterPerspectiveMode(),this.perspectiveCard.forEachFace(t,s,h),this}};r(Yx,"PerspectiveCard");let To=Yx;Object.assign(To.prototype,Rk);st.register("perspectiveCard",function(e){var t=new To(this.scene,e);return this.scene.add.existing(t),t});it(window,"RexPlugins.UI.PerspectiveCard",To);var Ak=r(function(e){var t=this.getElement("tabs.buttons");if(!(e>=t.length))return t[e].name},"GetPageKeyByIndex"),Lk=r(function(e){for(var t=this.getElement("tabs.buttons"),s=0,h=t.length;s<h;s++)if(t[s].name===e)return s},"GetPageIndexByKey");const Ok=Phaser.Utils.Objects.IsPlainObject,wc=Phaser.Utils.Objects.GetValue,wk=Phaser.Utils.String.UUID;var Mk=r(function(e,t,s){if(Ok(e)){var h=e;e=wc(h,"key"),t=wc(h,"tab"),s=wc(h,"page")}return e||(e=wk()),t.name=e,this.childrenMap.tabs.addButton(t),this.childrenMap.pages.addPage(s,{key:e}),this},"AddPage"),bk=r(function(e,t){var s;if(typeof e=="number"?s=e:s=this.getPageIndex(e),s!=null){var h;t!==void 0&&(h=this.childrenMap.pages.fadeInDuration,this.childrenMap.pages.fadeInDuration=t),this.childrenMap.tabs.emitButtonClick(s),h!==void 0&&(this.childrenMap.pages.fadeInDuration=h)}return this},"SwapPage"),Ik=r(function(e){return this.swapPage(0,e),this},"SwapFirstPage"),Fk=r(function(e){var t=this.getElement("tabs.buttons").length-1;return this.swapPage(t,e),this},"SwapLastPage");const Dk={swapPage:bk,swapFirstPage:Ik,swapLastPage:Fk},Bk={removePage(e,t){typeof e=="number"&&(e=this.getPageKey(e));var s=this.childrenMap.tabs,h=s.getByName(e),S=this.childrenMap.pages,E=S.getElement(e);return!h||!E?this:(S.removeChildrenMap(e),s.removeButton(h,t),S.remove(E,t),this)},removeAllPages(e){for(var t=this.getElement("tabs.buttons"),s=t.length-1;s>=0;s--)this.removePage(t[s].name,e);return this}};var Gk=r(function(e){return typeof e=="number"&&(e=this.getPageKey(e)),this.childrenMap.pages.getPage(e)},"GetPage"),Nk=r(function(e){var t;return typeof e=="number"?t=e:t=this.getPageIndex(e),this.getElement("tabs.buttons")[t]},"GetTab"),Uk={top:1,left:3,right:5,bottom:7},f1={top:"bottom",left:"right",right:"left",bottom:"top"},Vk=r(function(e){var t=Uk[e];if(t===void 0)return this;var s=this.childrenMap.tabs,h=this.sizerChildren.indexOf(s);if(h===t)return this;this.sizerChildren[h]=null,this.sizerChildren[t]=s;var S=this.getSizerConfig(s).padding,E=f1[this.tabsPosition],n=f1[e];return S[n]=S[E],S[E]=0,this.tabsPosition=e,this},"SetTabPosition"),lA={getPageKey:Ak,getPageIndex:Lk,addPage:Mk,getPage:Gk,getTab:Nk,setTabPosition:Vk};Object.assign(lA,Dk,Bk);const ui=Phaser.Utils.Objects.GetValue,c1=$e.prototype.add;var na;let jd=(na=class extends $e{constructor(t,s){s===void 0&&(s={}),s.column=3,s.row=3,s.columnProportions=[0,0,0],s.rowProportions=[0,0,0];var h=ui(s,"expand.pages",!0);h&&(s.columnProportions[1]=1,s.rowProportions[1]=1),super(t,s),this.type="rexTabPages";var S=ui(s,"background",void 0);S&&this.addBackground(S);var E=ui(s,"pages"),n=new Ba(t,E);t.add.existing(n);var T=ui(s,"tabsPosition",void 0);T===void 0&&(T=ui(s,"tabPosition","top"));var i=ui(s,"wrapTabs",!1),f=i?Ui:oe,y=ui(s,"tabs",void 0);y===void 0&&(y={}),y.orientation=T==="top"||T==="bottom"?"x":"y",y.buttonsType="radio",!i&&!y.hasOwnProperty("expand")&&(y.expand=ui(s,"expand.tabs",!1));var c=new f(t,y);t.add.existing(c),c1.call(this,n,{column:1,row:1,expand:h});var o,l,a=ui(s,"space.item",0);switch(T){case"top":o=1,l=0,a={bottom:a};break;case"bottom":o=1,l=2,a={top:a};break;case"left":o=0,l=1,a={right:a};break;case"right":o=2,l=1,a={left:a};break}c1.call(this,c,{column:o,row:l,padding:a,expand:i?!0:ui(s,"expand.tabs",!1),align:ui(s,"align.tabs","left")}),this.addChildrenMap("background",S),this.addChildrenMap("tabs",c),this.addChildrenMap("pages",n),this.tabsPosition=T,c.on("button.click",function(u){var v=u.name;n.hasPage(v)&&n.swapPage(v)}),c.on("button.statechange",function(u,v,d,p){var g=d?"tab.focus":"tab.blur";this.emit(g,u,u.name)},this),n.on("pagevisible",function(u,v,d){this.emit("page.focus",u,v)}),n.on("pageinvisible",function(u,v,d){this.emit("page.blur",u,v)})}get currentKey(){return this.getElement("pages").currentKey}set currentKey(t){this.showPage(t)}get keys(){return this.getElement("pages").keys}get currentPage(){return this.getElement("pages").currentPage}get previousPage(){return this.getElement("pages").previousPage}},r(na,"TabPages"),na);Object.assign(jd.prototype,lA);st.register("tabPages",function(e){var t=new jd(this.scene,e);return this.scene.add.existing(t),t});it(window,"RexPlugins.UI.TabPages",jd);const kx=class kx extends ma{constructor(t,s){s===void 0&&(s={}),s.destroy=!1,super(t,s)}onOpen(){this.emit("open",this.parent,this),super.onOpen()}onClose(){this.emit("close",this.parent,this),super.onClose()}};r(kx,"Transition");let Hv=kx;const Wk={expand(e){if(this.expanded===!0)return this;e===void 0&&(e=this.transitionDuration),this.expanded=!0;var t=this.childrenMap.title,s=this.childrenMap.child;if(this.show(s),this.reLayoutEnable){var h=this.reLayoutTarget?this.reLayoutTarget:this.getTopmostSizer();h.layout()}return t.emit("folder.expand",e,this),s.emit("folder.expand",e,this),this.emit("expand.start",this),this.childTransition.once("open",function(){this.emit("expand.complete",this)},this).requestOpen(null,e),this},collapse(e){if(this.expanded===!1)return this;e===void 0&&(e=this.transitionDuration),this.expanded=!1;var t=this.childrenMap.title,s=this.childrenMap.child;return t.emit("folder.collapse",e,this),s.emit("folder.collapse",e,this),this.emit("collapse.start",this),this.childTransition.once("close",function(){if(this.setChildScale(s,1,1).hide(s),this.reLayoutEnable){var h=this.reLayoutTarget?this.reLayoutTarget:this.getTopmostSizer();h.layout()}this.emit("collapse.complete",this)},this).requestClose(null,e),this},toggle(e){return this.expanded?this.collapse(e):this.expand(e),this},setExpandedState(e){return this.reLayoutEnable=!1,e===void 0?this.expanded=void 0:e?this.expand(0):this.collapse(0),this.reLayoutEnable=!0,this}};var zk=r(function(e,t){Ji.popUp.call(e,t,this.expandDirection)},"DefaultExpandCallback"),Yk=r(function(e,t){Ji.scaleDown.call(e,t,this.expandDirection)},"DefaultCollapseCallback");const kk={setTransitionDuration(e){return this.transitionDuration=e,this.childTransition.setTransitInTime(e).setTransitOutTime(e),this},setExpandCallback(e){return e===void 0&&(e=zk.bind(this)),this.childTransition.setTransitInCallback(e),this},setCollapseCallback(e){return e===void 0&&(e=Yk.bind(this)),this.childTransition.setTransitOutCallback(e),this}},Zt=Phaser.Utils.Objects.GetValue;var aa;let Jo=(aa=class extends Tt{constructor(t,s){s===void 0&&(s={}),s.hasOwnProperty("orientation")||(s.orientation=1),super(t,s),this.type="rexFolder",this.reLayoutEnable=!0,this.expanded=void 0,this.expandDirection=this.orientation===1?"y":"x";var h=s.background,S=s.title,E=s.child;h&&this.addBackground(h);var n=Zt(s,"space"),T=this.orientation===1?"left":"top",o=Zt(s,"align.title",T),l=Zt(s,"expand.title",!0);this.add(S,{proportion:0,align:o,expand:l,padding:{left:Zt(n,"titleLeft",0),right:Zt(n,"titleRight",0),top:Zt(n,"titleTop",0),bottom:Zt(n,"titleBottom",0)}});var i=Zt(s,"toggleByTarget",void 0),f=Zt(s,"toggleClickConfig");i===void 0&&(i=S),i&&fg.onClick.call(i,function(){this.toggle()},this,f),this.childTransition=new Hv(E);var y=Zt(s,"customChildOrigin",!1);if(!y){var c=this.rtl?1:0;E.setOrigin(c)}var o=Zt(s,"align.child","left"),l=Zt(s,"expand.child",!0),a=l?1:0;this.add(E,{proportion:a,align:o,expand:l,padding:{left:Zt(n,"childLeft",0),right:Zt(n,"childRight",0),top:Zt(n,"childTop",0),bottom:Zt(n,"childBottom",0)}}),this.addChildrenMap("title",S),this.addChildrenMap("child",E),this.addChildrenMap("background",h);var u=s.transition;this.setTransitionDuration(Zt(u,"duration",200)),this.setExpandCallback(Zt(u,"expandCallback",void 0)),this.setCollapseCallback(Zt(u,"collapseCallback",void 0)),this.reLayoutTarget=Zt(s,"reLayoutTarget",void 0);var v=s.onExpandStart;v&&this.on("expand.start",v);var d=s.onExpandComplete;d&&this.on("expand.complete",d);var p=s.onCollapseStart;p&&this.on("collapse.start",p);var g=s.onCollapseComplete;g&&this.on("collapse.complete",g);var m=Zt(s,"expanded",void 0);m!==void 0&&this.setExpandedState(m)}},r(aa,"Folder"),aa);Object.assign(Jo.prototype,Wk,kk);st.register("folder",function(e){var t=new Jo(this.scene,e);return this.scene.add.existing(t),t});it(window,"RexPlugins.UI.Folder",Jo);var uA=r(function(e){var t;return t=class extends e{setText(h){return this.text=h,this}get text(){var h=this.childrenMap.nodeBody;return h.text}set text(h){var S=this.childrenMap.nodeBody;S.setText&&S.setText(h)}setTexture(h,S){var E=this.childrenMap.nodeBody;return E.setTexture&&E.setTexture(h,S),this}get texture(){var h=this.childrenMap.nodeBody;if(h)return h.texture}get frame(){var h=this.childrenMap.nodeBody;if(h)return h.frame}},r(t,"Base"),t},"ExtendNodeClass");const Hk={getTreePatent(e){if(e===void 0&&(e=this),!!e.rexSizer)return e.rexSizer.treeParent},getTreeRoot(e){e===void 0&&(e=this);for(var t;;){if(!e.rexSizer)return;if(t=e.rexSizer.treeParent,t===null)return e;e=t}},isGrandsonNode(e){if(e===void 0||!e.rexSizer)return!1;for(var t;;){if(!e.rexSizer)return!1;if(t=e.rexSizer.treeParent,t===this)return!0;if(t===null)return!1;e=t}return!1}},Xk=Phaser.Utils.Objects.GetValue;var Co=r(function(e,t,s,h,S){var E=Xk(t,s),n;return Be(E)?(n=E,delete t[s]):ns(E)?(n=E(e,h),e.add.existing(n)):S&&(n=S(e,E,h),e.add.existing(n)),n},"GetGameObjectFromConfig");const Zl=Phaser.Utils.Objects.GetValue,Hx=class Hx extends uA(Tt){constructor(t,s,h){var S=s.space;super(t,{orientation:"x",space:{left:Zl(S,"nodeLeft",0),right:Zl(S,"nodeRight",0),top:Zl(S,"nodeTop",0),bottom:Zl(S,"nodeBottom",0)}}),this.type="rexTreeNode";var E=Co(t,s,"nodeBackground",h),n=Co(t,s,"nodeBody",h,$k);E&&this.addBackground(E),this.add(n,{proportion:1,key:"nodeBody"})}getTreePatent(){return this.rexSizer.treeParent}getTreeRoot(){var t=this.rexSizer.treeParent;return t?t.getTreeRoot():null}};r(Hx,"Node");let rd=Hx;var $k=r(function(e,t,s){var h=new wr(e,t);return h.resetDisplayContent(""),h},"DefaultCreateNodeBodyCallback"),dA=r(function(e,t){var s=e.parentContainer;if(s){t.isRexContainerLite?t.addToContainer(s):s.add(t);return}var h=e.displayList;if(Ah(h)){t.isRexContainerLite?t.addToLayer(h):h.add(t);return}e.scene.add.existing(t)},"SyncDisplayList");const v1=Phaser.Utils.String.UUID,Kk={addTree(e,t){if(Be(e)){var s=e;e={nodeBody:s,nodeKey:t}}return this.insertTree(void 0,e)},insertTree(e,t){var s;typeof t=="string"?(s=t,t=void 0):t&&(s=t.nodeKey,delete t.nodeKey),s===void 0&&(s=v1());var h=this.createTree(t);return dA(this,h),this.insertNode(e,h,{expand:!0}),h},addNode(e,t){return this.insertNode(void 0,e,t)},insertNode(e,t,s){var h;Be(t)||(s=t,t=new rd(this.scene,this.configSave,{isLeaf:!0})),typeof s=="string"?(h=s,s=void 0):s&&(h=s.nodeKey,delete s.nodeKey),h===void 0&&(h=v1()),s===void 0&&(s={}),s.hasOwnProperty("expand")||(s.expand=!0),this.removeNode(t,!1),t.rexSizer.treeParent=this,this.nodesMap.hasOwnProperty(h)&&(console.error(`[Trees] Duplicate nodeKey '${h}'`),this.removeNode(this.nodesMap[h],!0)),t.nodeKey=h,this.nodesMap[h]=t;var S=this.childrenMap.child;return S.insert(e,t,s),t}},Zk={removeNode(e,t){if(!e)return this;var s=this.getTreePatent(e);if(!s)return this;delete s.nodesMap[e.nodeKey],e.nodeKey=null,e.rexSizer.treeParent=null;var h=s.childrenMap.child;return h.remove(e,t),this},removeAllNodes(e){var t=this.nodesMap;for(var s in t)this.removeNode(t[s],e);return this}},Jk={getNode(e){if(typeof e=="string"&&(e=e.split(".")),e.length!==0){var t=e.shift(),s=this.nodesMap[t];return e.length===0?s:s&&this.isTree(s)?s.getNode(e):null}},getNodes(e){var t=this.nodesMap;if(!e)e=nodes;else for(var s in t)e.push(t[s]);return e},getAllNodes(e){}};var fA={};Object.assign(fA,Hk,Kk,Zk,Jk);const Qk=Phaser.Utils.Objects.GetValue;var jk=r(function(e,t){var s=new rd(e,t,{isLeaf:!1});e.add.existing(s);var h=Co(e,t,"toggleButton",{isLeaf:!1},qk);return s.insert(0,h,{padding:{right:Qk(t,"space.toggleButton",0)},fitRatio:1,key:"toggleButton"}),s},"CreateTitleSizer"),qk=r(function(e,t,s){var h=new mr(e,t);return h.on("expand.start",function(S){S.setDirection("down")}).on("collapse.complete",function(S){S.setDirection("right")}),h},"DefaultCreateToggleButtonCallback");const _k=Phaser.Utils.Objects.GetValue;var tH=r(function(e,t){var s=new Tt(e,{orientation:_k(t,"childrenOrientation","y")});e.add.existing(s);var h=Co(e,t,"childrenBackground",{isLeaf:!1});return h&&s.addBackground(h),s},"CreateChildrenSizer");const eH=Phaser.Utils.Objects.Clone;var iH=r(function(e,t){var s=e?eH(e):{};if(!t)return s;for(var h in t)s[h]=t[h];return s},"Merge$1");const nr=Phaser.Utils.Objects.GetValue,Ad=class Ad extends uA(Jo){constructor(t,s){s===void 0&&(s={});var h=Co(t,s,"background",{isLeaf:!1}),S=tH(t,s),E=S.childrenMap.items,n=jk(t,s),T=n.childrenMap.toggleButton,i=n.childrenMap.nodeBody,f=Ko(nr(s,"orientation","y")),y=s.space;if(y){var c=nr(y,"indent",0);y.childLeft=nr(y,"indentLeft",f===1?c:0),y.childRight=nr(y,"indentRight",0),y.childTop=nr(y,"indentTop",f===0?c:0),y.childBottom=nr(y,"indentBottom",0)}var o={background:h,title:n,child:S,toggleByTarget:T,transition:s.transition,orientation:f,space:y,align:s.align,expand:s.expand};super(t,o),this.type="rexTree",this.rexSizer.treeParent=null,this.nodesMap={},this.configSave=s,this.addChildrenMap("toggleButton",T),this.addChildrenMap("nodeBody",i),this.addChildrenMap("childrenNodes",E),this.on("expand.start",function(){T.emit("expand.start",T)}).on("expand.complete",function(){T.emit("expand.complete",T)}).on("collapse.start",function(){T.emit("collapse.start",T)}).on("collapse.complete",function(){T.emit("collapse.complete",T)});var l=nr(s,"expanded",!0);l!==void 0&&this.setExpandedState(l)}destroy(t){!this.scene||this.ignoreDestroy||(this.configSave=void 0,Clear(this.nodesMap),this.nodesMap=void 0,super.destroy(t))}createTree(t){return Ad.CreateTree(this.scene,this.configSave,t)}isTree(t){return!!t&&t instanceof TreeNode}};r(Ad,"Tree");let Ga=Ad;Ga.CreateTree=function(e,t,s){return new Ga(e,iH(t,s))};Object.assign(Ga.prototype,fA);const sH=Phaser.Utils.String.UUID,rH={addTree(e){if(Be(e)){var t=e;e={nodeBody:t,nodeKey}}return this.insertTree(void 0,e)},insertTree(e,t){var s;typeof t=="string"?(s=t,t=void 0):t&&(s=t.nodeKey,delete t.nodeKey),s===void 0&&(s=sH());var h=Ga.CreateTree(this.scene,this.treeConfig,t);return dA(this,h),h.nodeKey=s,this.treesMap[s]=h,this.insert(e,h,{expand:!0}),h}},nH={removeTree(e,t){return e?(delete this.treesMap[e.nodeKey],e.nodeKey=null,this.remove(e,t),this):this},removeAllNodes(e){var t=this.treesMap;for(var s in t)this.removeTree(t[s],e);return this}},aH={getTree(e){return this.treesMap[e]},getNode(e){var t=e.indexOf(".");if(t===-1)return this.getTree(e);var s=this.getTree(e.substring(0,t));if(s)return s.getNode(e.substring(t+1))}};var cA={};Object.assign(cA,rH,nH,aH);const hH=Phaser.Utils.Objects.GetValue,Xx=class Xx extends Tt{constructor(t,s){s===void 0&&(s={}),s.hasOwnProperty("orientation")||(s.orientation="y"),super(t,s),this.type="rexTrees",this.treesMap={},this.treeConfig=hH(s,"tree")}destroy(t){!this.scene||this.ignoreDestroy||(this.treeConfig=void 0,Clear(this.treesMap),this.treesMap=void 0,super.destroy(t))}};r(Xx,"Trees");let Eo=Xx;Object.assign(Eo.prototype,cA);st.register("trees",function(e){var t=new Eo(this.scene,e);return this.scene.add.existing(t),t});it(window,"RexPlugins.UI.Trees",Eo);st.register("textArea",function(e){var t=new Or(this.scene,e);return this.scene.add.existing(t),t});it(window,"RexPlugins.UI.TextArea",Or);var oH=r(function(e){Object.defineProperty(e,"childOY",{configurable:!0,get:r(function(){return e.textOY},"get"),set:r(function(t){e.textOY=t},"set")}),Object.defineProperty(e,"topChildOY",{get:r(function(){return e.topTextOY},"get")}),Object.defineProperty(e,"bottomChildOY",{get:r(function(){return e.bottomTextOY},"get")}),Object.defineProperty(e,"childVisibleHeight",{get:r(function(){return e.textVisibleHeight},"get")}),Object.defineProperty(e,"childHeight",{get:r(function(){return e.contentHeight},"get")})},"InjectProperties");const lH={setText(e){var t=this.childrenMap.child;return t.setText(e),this},appendText(e){return this.setText(this.text+e),this}},uH={scrollToLine(e){return this.setChildOY(-this.lineHeight*e),this},scrollToNextLine(e){e===void 0&&(e=1);var t=this.lineIndex+e;return this.scrollToLine(t),this}},Jl=Phaser.Utils.Objects.GetValue,$x=class $x extends Lr{constructor(t,s){s===void 0&&(s={});var h=Jl(s,"text"),S;Be(h)?S=h:(h===void 0&&(h={}),h.textArea=!0,S=new pr(t,h),t.add.existing(S)),oH(S);var E=h.width===void 0,n=h.height===void 0;E&&(S.minWidth=0),n&&(S.minHeight=0),s.scrollMode=0,s.type="rexTextAreaInput",s.child={gameObject:S,expandWidth:E,expandHeight:n};var T=Jl(s,"space",void 0);T&&(T.child=Jl(T,"text",0)),s.scroller=!1,super(t,s),this.addChildrenMap("text",S);var i,f;S.on("cursorin",function(){var c=S.textOY,o=S.contentHeight,l=i!==c,a=f!==o;i=c,f=o,a&&this.resizeController(),(l||a)&&(this.t=S.t)},this),S.on("textchange",function(c){this.emit("textchange",c,this)},this).on("close",function(){this.emit("close",this.text,this)},this);var y=Jl(s,"content",void 0);y&&this.setText(y)}get text(){return this.childrenMap.child.text}set text(t){t==null?t="":t=t.toString(),this.childrenMap.child.text!==t&&this.setText(t)}get lineHeight(){var t=this.childrenMap.child;return t.lineHeight}get lineIndex(){return Math.floor(-this.childOY/this.lineHeight)}get linesCount(){var t=this.childrenMap.child;return t.linesCount}get contentHeight(){var t=this.childrenMap.child;return t.contentHeight}get readOnly(){var t=this.childrenMap.child;return t.readOnly}set readOnly(t){var s=this.childrenMap.child;s.readOnly=t}setReadOnly(t){var s=this.childrenMap.child;return s.setReadOnly(t),this}get value(){return this.text}set value(t){this.text=t}};r($x,"TextAreaInput");let Na=$x;Object.assign(Na.prototype,lH,uH);st.register("textAreaInput",function(e){var t=new Na(this.scene,e);return this.scene.add.existing(t),t});it(window,"RexPlugins.UI.TextAreaInput",Na);var dH=r(function(){if(this.rexSizer.hidden)return 0;var e,t=this.child,s=t.rexSizer,h=!1;if(s.hidden)e=0;else switch(this.scrollMode){case 0:e=this.getChildWidth(t),e===void 0&&(h=!0);break;case 1:e=0;break;default:e=0;break}if(!h)return e},"GetChildrenWidth"),fH=r(function(){if(this.rexSizer.hidden)return 0;var e,t=this.child,s=t.rexSizer,h=!1;if(s.hidden)e=0;else switch(this.scrollMode){case 0:e=0;break;case 1:e=this.getChildHeight(t),e===void 0&&(h=!0);break;default:e=0;break}if(!h)return e},"GetChildrenHeight"),cH=r(function(e){return e===void 0&&(e=[]),this.child&&this.child.isRexSizer&&e.push(this.child),e},"GetChildrenSizers"),vH=r(function(){var e=this.left,t=this.top;switch(this.scrollMode){case 0:t+=this.childOY;break;case 1:e+=this.childOY;break;default:t+=this.childOY,e+=this.childOX;break}this.child.setPosition(e,t),this.resetChildPositionState(this.child),this.setMaskChildrenFlag()},"ResetChildPosition"),pH=r(function(){var e=this.child,t,s;if(!e.rexSizer.hidden){switch(this.scrollMode){case 0:t=this.width;break;case 1:s=this.height;break}e.isRexSizer?e.runLayout(this,t,s):Pe(e,t,s),this.resetChildPosition(),this.layoutChildrenMask(),this.maskChildren()}},"LayoutChildren"),gH=r(function(e,t){t||e.clearMask&&e.clearMask(!1)},"RemoveChildCallback"),vA={getChildrenWidth:dH,getChildrenHeight:fH,getChildrenSizers:cH,resetChildPosition:vH,layoutChildren:pH,removeChildCallback:gH};Object.assign(vA,HR);const p1=Phaser.Utils.Objects.IsPlainObject,qe=Phaser.Utils.Objects.GetValue,mH=Phaser.Display.Align.TOP_LEFT,Kx=class Kx extends Dr{constructor(t,s,h,S,E,n){p1(s)?(n=s,s=qe(n,"x",0),h=qe(n,"y",0),S=qe(n,"width",void 0),E=qe(n,"height",void 0)):p1(S)&&(n=S,S=qe(n,"width",void 0),E=qe(n,"height",void 0)),super(t,s,h,S,E,n),this.type="rexScrollableBlock",this.child=void 0,this.childrenMask=void 0,this._childOY=0,this._childOX=0,this.execeedTopState=!1,this.execeedBottomState=!1,this.execeedLeftState=!1,this.execeedRightState=!1,this.setScrollMode(qe(n,"scrollMode",0));var T=qe(n,"clamplChildOY",!0),i=qe(n,"clamplChildOX",T);this.setClampMode(T,i);var f=qe(n,"child",void 0),y=qe(n,"expand",!0);f.setOrigin&&f.setOrigin(0),this.add(f),this.sizerChildren=[f];var c=this.getSizerConfig(f);c.align=mH,c.expand=y,this.child=f,this.setupChildrenMask(qe(n,"mask",void 0)),this.childrenMask&&(this.maskGameObject=Lg(this.childrenMask))}destroy(t){!this.scene||this.ignoreDestroy||(this.destroyChildrenMask(),this.child=void 0,super.destroy(t))}setScrollMode(t){return typeof t=="string"&&(t=IR[t.toLowerCase()]),this.scrollMode=t,this}setClampMode(t,s){return this.clampChildOY=t,this.clampChildOX=s,this}get instHeight(){return this.scrollMode===0||this.scrollMode===2?this.height:this.width}get instWidth(){return this.scrollMode===0||this.scrollMode===2?this.width:this.height}get childHeight(){return this.scrollMode===0||this.scrollMode===2?Mt(this.child):wt(this.child)}get childWidth(){return this.scrollMode===0||this.scrollMode===2?wt(this.child):Mt(this.child)}get topChildOY(){return 0}get bottomChildOY(){return-this.visibleHeight}get leftChildOX(){return 0}get rightChildOX(){return-this.visibleWidth}get childVisibleHeight(){return this.instHeight}get childVisibleWidth(){return this.instWidth}get visibleHeight(){var t=this.childHeight-this.childVisibleHeight;return t<0&&(t=0),t}get visibleWidth(){var t=this.childWidth-this.childVisibleWidth;return t<0&&(t=0),t}childOYExceedTop(t){return t===void 0&&(t=this.childOY),t>this.topChildOY}childOYExeceedBottom(t){return t===void 0&&(t=this.childOY),t<this.bottomChildOY}childOXExceedLeft(t){return t===void 0&&(t=this.childOX),t>this.leftChildOX}childOXExeceedRight(t){return t===void 0&&(t=this.childOX),t<this.rightChildOX}get childOY(){return this._childOY}set childOY(t){var s=this.topChildOY,h=this.bottomChildOY,S=this.childOYExceedTop(t),E=this.childOYExeceedBottom(t);this.clampChildOY&&(this.childVisibleHeight>this.childHeight?t=0:S?t=s:E&&(t=h)),this._childOY!==t&&(this._childOY=t,this.resetChildPosition()),S&&(this.execeedTopState||this.emit("execeedtop",this,t,s)),this.execeedTopState=S,E&&(this.execeedBottomState||this.emit("execeedbottom",this,t,h)),this.execeedBottomState=E}get childOX(){return this._childOX}set childOX(t){var s=this.leftChildOX,h=this.rightChildOX,S=this.childOXExceedLeft(t),E=this.childOXExeceedRight(t);this.clampChildOX&&(this.childVisibleWidth>this.childWidth?t=0:S?t=s:E&&(t=h)),this._childOX!==t&&(this._childOX=t,this.resetChildPosition()),S&&(this.execeedLeftState||this.emit("execeedleft",this,t,s)),this.execeedLeftState=S,E&&(this.execeedRightState||this.emit("execeedright",this,t,h)),this.execeedRightState=E}setChildOY(t){return this.childOY=t,this}setChildOX(t){return this.childOX=t,this}set t(t){this.childOY=-this.visibleHeight*t}get t(){var t=this.visibleHeight;return t===0?0:this.childOY/-t}set s(t){this.childOX=-this.visibleWidth*t}get s(){var t=this.visibleWidth;return t===0?0:this.childOX/-t}setChildOYByPercentage(t){return this.t=t,this}setChildOXByPercentage(t){return this.s=t,this}};r(Kx,"ScrollableBlock");let nd=Kx;Object.assign(nd.prototype,vA);var xH=r(function(e,t){if(!this.hasChild(e))return this;switch(this.scrollMode){case 0:Ql.call(this,e,"y",t);break;case 1:Ql.call(this,e,"x",t);break;default:Ql.call(this,e,"y",t),Ql.call(this,e,"x",t);break}return this},"ScrollToChild");const g1=["top","bottom","centerY","center"],m1=["left","right","centerX","center"];var Ql=r(function(e,t,s){t=t.toUpperCase();var h=t==="Y",S=this.childrenMap.child,E;if(h){if(s)for(var n=0,T=g1.length;n<T;n++){var i=g1[n];if(s.indexOf(i)!==-1){s=i;break}}switch(s){case"top":E=S.top-dr(e).y;break;case"bottom":E=S.bottom-Yh(e).y;break;case"centerY":case"center":E=S.centerY-LS(e).y;break;default:var f=S.top-dr(e).y,y=S.bottom-Yh(e).y;f<=0&&y>=0?E=0:E=Math.abs(f)<=Math.abs(y)?f:y;break}}else{if(s)for(var n=0,T=m1.length;n<T;n++){var i=m1[n];if(s.indexOf(i)!==-1){s=i;break}}switch(s){case"left":E=S.left-dr(e).x;break;case"right":E=S.right-zh(e).x;break;case"centerX":case"center":E=S.centerX-LS(e).x;break;default:var c=S.left-dr(e).x,o=S.right-zh(e).x;c<=0&&o>=0?E=0:E=Math.abs(c)<=Math.abs(o)?c:o;break}}switch(this.scrollMode){case 0:case 1:this.childOY+=E;break;default:this[`childO${t}`]+=E;break}},"AlignChild");const Cs=Phaser.Utils.Objects.GetValue,Zx=class Zx extends Lr{constructor(t,s){s===void 0&&(s={});var h=Cg(s),S=Cs(s,"panel",void 0);S===void 0&&(S={}),S.scrollMode=h,S.clamplChildOY=Cs(s,"clamplChildOY",!1),S.clamplChildOX=Cs(s,"clamplChildOX",!1);var E=new nd(t,S);t.add.existing(E);var n,T;switch(h){case 0:n=Cs(s,"expand.panel",!0),T=!0;break;case 1:n=!0,T=Cs(s,"expand.panel",!0);break;default:n=!0,T=!0}s.type="rexScrollablePanel",s.child={gameObject:E,expandWidth:n,expandHeight:T,align:Cs(s,"align.panel","center")};var i=Cs(s,"space",void 0);i&&(i.child=Cs(i,"panel",0)),super(t,s),this.addChildrenMap("panel",E.child),this.addChildrenMap("panelLayer",E.maskLayer),this.addChildrenMap("mask",E.maskGameObject),this.addChildrenMap("scrollableBlock",E)}setChildrenInteractive(t){return t===void 0&&(t={}),t.hasOwnProperty("eventEmitter")||(t.eventEmitter=this),t.hasOwnProperty("targets")||(t.targets=[this.childrenMap.panel]),cg(this.childrenMap.child,t),this}};r(Zx,"ScrollablePanel");let Po=Zx;var yH={scrollToChild:xH};Object.assign(Po.prototype,yH);st.register("scrollablePanel",function(e){var t=new Po(this.scene,e);return this.scene.add.existing(t),t});it(window,"RexPlugins.UI.ScrollablePanel",Po);const jl={popUp:r(function(e,t){e.popUp(t)},"popUp"),scaleDown:r(function(e,t){e.scaleDown(t)},"scaleDown"),fadeIn:r(function(e,t){e.fadeIn(t)},"fadeIn"),fadeOut:r(function(e,t){e.fadeOut(t)},"fadeOut")},Rs={popUp:0,fadeIn:1,scaleDown:0,fadeOut:1},SH={setDisplayTime(e){return this.displayTime=e,this},setTransitOutTime(e){return this.transitOutTime=e,this},setTransitInTime(e){return this.transitInTime=e,this},setTransitInCallback(e){switch(typeof e=="string"&&(e=Rs[e]),e){case Rs.popUp:e=jl.popUp;break;case Rs.fadeIn:e=jl.fadeIn;break}return e||(e=ee),this.transitInCallback=e,this},setTransitOutCallback(e){switch(typeof e=="string"&&(e=Rs[e]),e){case Rs.scaleDown:e=jl.scaleDown;break;case Rs.fadeOut:e=jl.fadeOut;break}return e||(e=ee),this.transitOutCallback=e,this}},TH={showMessage(e){if(this.scaleX0===void 0&&(this.scaleX0=this.scaleX),this.scaleY0===void 0&&(this.scaleY0=this.scaleY),e===void 0){if(this.messages.length===0)return this;e=this.messages.shift()}if(this.player.isPlaying)return this.messages.push(e),this;this.setScale(this.scaleX0,this.scaleY0).setVisible(!0),typeof e=="string"?this.setText(e):e(this),this.layout();var t=[[0,[this.transitInCallback,this,this.transitInTime]],[0,[this.emit,"transitin",this,this.transitInTime]],[this.transitInTime,[ee]],[this.displayTime,[this.transitOutCallback,this,this.transitOutTime]],[0,[this.emit,"transitout",this,this.transitOutTime]],[this.transitOutTime,[this.setVisible,!1]],[30,[ee]]];return this.player.load(t,this).once("complete",function(){this.showMessage()},this).start(),this},removeAllMessages(){return this.messages.length=0,this}},Th=Phaser.Utils.Objects.GetValue,Jx=class Jx extends xi{constructor(t,s){s===void 0&&(s={text:createDefaultTextObject(t)}),super(t,s),this.type="rexToast",this.setTransitInTime(Th(s,"duration.in",200)),this.setDisplayTime(Th(s,"duration.hold",1200)),this.setTransitOutTime(Th(s,"duration.out",200)),this.setTransitInCallback(Th(s,"transitIn",Rs.popUp)),this.setTransitOutCallback(Th(s,"transitOut",Rs.scaleDown)),this.player=new Ku(this,{dtMode:1}),this.messages=[],this.scaleX0=void 0,this.scaleY0=void 0,this.setVisible(!1)}destroy(t){!this.scene||this.ignoreDestroy||(this.player.destroy(),this.player=void 0,this.messages=void 0,super.destroy(t))}setScale(t,s){return s===void 0&&(s=t),this.scaleX0=t,this.scaleY0=s,super.setScale(t,s),this}};r(Jx,"Toast");let Ro=Jx;Object.assign(Ro.prototype,SH,TH);st.register("toast",function(e){var t=new Ro(this.scene,e);return this.scene.add.existing(t),t});it(window,"RexPlugins.UI.Toast",Ro);var CH={"bottom-to-top":1,"top-to-bottom":0,"right-to-left":1,"left-to-right":0};const EH={setQueueDirection(e){return typeof e=="string"&&(e=CH[e]),this.rtl=e===0,this.orientation===1?e?this.queueDirection=0:this.queueDirection=1:e?this.queueDirection=2:this.queueDirection=3,this},setCreateMessageLabelCallback(e){return this.createMessageLabelCallback=e,this},setDisplayTime(e){return this.displayTime=e,this},setTransitOutTime(e){return this.transitOutTime=e,this},setTransitInTime(e){return this.transitInTime=e,this},setTransitInCallback(e){return e||(e=ee),this.transitInCallback=e,this},setTransitOutCallback(e){return e||(e=ee),this.transitOutCallback=e,this}},PH=fg.onClick,pA=ZP.delayCall,RH=zd.moveTo;var AH=r(function(e,t,s){var h=t(e.scene,s,e);if(PH.call(h,function(){e.removeMessage(h)}),e.displayTime){var S=e.transitInTime+e.displayTime+10;pA.call(h,S,function(){e.removeMessage(h)})}return h},"CreateChild"),gA=r(function(e){for(var t=e.childrenMap.items,s,h=[],S=0,E=t.length;S<E;S++)s=t[S],h.push({x:s.x,y:s.y});return h},"GetChildrenPosition"),LH=r(function(e){for(var t=e.childrenMap.items,s,h=[],S=0,E=t.length;S<E;S++)s=t[S],h.push({x:s.scaleX,y:s.scaleY}),s.setScale(1);e.layout();for(var n=gA(e),S=0,E=t.length;S<E;S++){var T=h[S];t[S].setScale(T.x,T.y)}return n},"RunLayout"),OH=r(function(e,t,s,h){for(var S=e.childrenMap.items,E=Math.min(t.length,s.length,S.length),n,T,i,f=e.queueDirection,y=0;y<E;y++){switch(n=S[y],T=t[y],i=s[y],n.setPosition(T.x,T.y),f){case 0:if(T.y<=i.y)continue;break;case 1:if(T.y>=i.y)continue;break;case 2:if(T.x<=i.x)continue;break;case 3:if(T.x>=i.x)continue;break}RH.call(n,h,i.x,i.y)}},"EaseChildren"),wH=r(function(e,t,s){var h=gA(e);e.add(t);var S=LH(e);OH(e,h,S,s),e.transitInCallback(t,s,e)},"PushChild");const MH={showMessage(e){var t=AH(this,this.createMessageLabelCallback,e);return wH(this,t,this.transitInTime),this},removeMessage(e){if(this.getParentSizer(e)!==this)return this;if(!e.__isDestroying){e.__isDestroying=!0;var t=this.transitOutTime;return this.transitOutCallback(e,t,this),pA.call(e,t+10,function(){delete e.__isDestroying,e.destroy()}),this}},removeAllMessages(){for(var e=this.childrenMap.items,t=0,s=e.length;t<s;t++)this.removeMessage(e[t]);return this}};var mA={};Object.assign(mA,EH,MH);const x1={transitIn(e,t,s){switch(s.queueDirection){case 0:e.setOrigin(.5,1),Ji.popUp.call(e,t,"y");break;case 1:e.setOrigin(.5,0),Ji.popUp.call(e,t,"y");break;case 2:e.setOrigin(1,.5),Ji.popUp.call(e,t,"x");break;case 3:e.setOrigin(0,.5),Ji.popUp.call(e,t,"x");break}qh.fadeIn.call(e,t)},transitOut(e,t,s){qh.fadeOut.call(e,t)}},ar=Phaser.Utils.Objects.GetValue,Qx=class Qx extends Tt{constructor(t,s){s===void 0&&(s={}),s.hasOwnProperty("orientation")||(s.orientation=1),super(t,s),this.type="rexToastQueue",this.setCreateMessageLabelCallback(ar(s,"createMessageLabelCallback")),this.setQueueDirection(ar(s,"queueDirection",1)),this.setTransitInTime(ar(s,"duration.in",200)),this.setDisplayTime(ar(s,"duration.hold",2e3)),this.setTransitOutTime(ar(s,"duration.out",200)),this.setTransitInCallback(ar(s,"transitIn",x1.transitIn)),this.setTransitOutCallback(ar(s,"transitOut",x1.transitOut))}};r(Qx,"ToastQueue");let Ao=Qx;Object.assign(Ao.prototype,mA);st.register("toastQueue",function(e){var t=new Ao(this.scene,e);return this.scene.add.existing(t),t});it(window,"RexPlugins.UI.ToastQueue",Ao);var bH=r(function(e,t){if(t===!1)return null;if(Be(t))return t;var s=new Ir(e,t);return e.add.existing(s),s},"CreateSwatch"),Za=r(function(e,t,s){s===void 0&&(s=!0),s?t=t?ce(t):{}:t||(t={});var h=new pr(e,t);return e.add.existing(h),h},"CreateInputText$1");const y1=["AliceBlue","AntiqueWhite","Aqua","Aquamarine","Azure","Beige","Bisque","Black","BlanchedAlmond","Blue","BlueViolet","Brown","BurlyWood","CadetBlue","Chartreuse","Chocolate","Coral","CornflowerBlue","Cornsilk","Crimson","Cyan","DarkBlue","DarkCyan","DarkGoldenRod","DarkGray","DarkGrey","DarkGreen","DarkKhaki","DarkMagenta","DarkOliveGreen","DarkOrange","DarkOrchid","DarkRed","DarkSalmon","DarkSeaGreen","DarkSlateBlue","DarkSlateGray","DarkSlateGrey","DarkTurquoise","DarkViolet","DeepPink","DeepSkyBlue","DimGray","DimGrey","DodgerBlue","FireBrick","FloralWhite","ForestGreen","Fuchsia","Gainsboro","GhostWhite","Gold","GoldenRod","Gray","Grey","Green","GreenYellow","HoneyDew","HotPink","IndianRed","Indigo","Ivory","Khaki","Lavender","LavenderBlush","LawnGreen","LemonChiffon","LightBlue","LightCoral","LightCyan","LightGoldenRodYellow","LightGray","LightGrey","LightGreen","LightPink","LightSalmon","LightSeaGreen","LightSkyBlue","LightSlateGray","LightSlateGrey","LightSteelBlue","LightYellow","Lime","LimeGreen","Linen","Magenta","Maroon","MediumAquaMarine","MediumBlue","MediumOrchid","MediumPurple","MediumSeaGreen","MediumSlateBlue","MediumSpringGreen","MediumTurquoise","MediumVioletRed","MidnightBlue","MintCream","MistyRose","Moccasin","NavajoWhite","Navy","OldLace","Olive","OliveDrab","Orange","OrangeRed","Orchid","PaleGoldenRod","PaleGreen","PaleTurquoise","PaleVioletRed","PapayaWhip","PeachPuff","Peru","Pink","Plum","PowderBlue","Purple","RebeccaPurple","Red","RosyBrown","RoyalBlue","SaddleBrown","Salmon","SandyBrown","SeaGreen","SeaShell","Sienna","Silver","SkyBlue","SlateBlue","SlateGray","SlateGrey","Snow","SpringGreen","SteelBlue","Tan","Teal","Thistle","Tomato","Turquoise","Violet","Wheat","White","WhiteSmoke","Yellow","YellowGreen"],IH=[15792383,16444375,65535,8388564,15794175,16119260,16770244,0,16772045,255,9055202,10824234,14596231,6266528,8388352,13789470,16744272,6591981,16775388,14423100,65535,139,35723,12092939,11119017,11119017,25600,12433259,9109643,5597999,16747520,10040012,9109504,15308410,9419919,4734347,3100495,3100495,52945,9699539,16716947,49151,6908265,6908265,2003199,11674146,16775920,2263842,16711935,14474460,16316671,16766720,14329120,8421504,8421504,32768,11403055,15794160,16738740,13458524,4915330,16777200,15787660,15132410,16773365,8190976,16775885,11393254,15761536,14745599,16448210,13882323,13882323,9498256,16758465,16752762,2142890,8900346,7833753,7833753,11584734,16777184,65280,3329330,16445670,16711935,8388608,6737322,205,12211667,9662683,3978097,8087790,64154,4772300,13047173,1644912,16121850,16770273,16770229,16768685,128,16643558,8421376,7048739,16753920,16729344,14315734,15657130,10025880,11529966,14381203,16773077,16767673,13468991,16761035,14524637,11591910,8388736,6697881,16711680,12357519,4286945,9127187,16416882,16032864,3050327,16774638,10506797,12632256,8900331,6970061,7372944,7372944,16775930,65407,4620980,13808780,32896,14204888,16737095,4251856,15631086,16113331,16777215,16119285,16776960,10145074];var Xv={},S1;for(var ql=0,FH=y1.length;ql<FH;ql++)S1=y1[ql].toLowerCase(),Xv[S1]=IH[ql];var DH=r(function(e){return e=e.toLowerCase(),Xv.hasOwnProperty(e)?Xv[e]:null},"ColorNameToInteger"),BH=r(function(e){return typeof e!="string"||(e.startsWith("#")?e=parseInt(e.substring(1),16):e.startsWith("0x")?e=parseInt(e.substring(2),16):e=DH(e)),e},"ColorStringToInteger");const GH=Phaser.Utils.String.Pad;var T1=r(function(e,t){t===void 0&&(t="0x");var s=e.toString(16).toUpperCase();return s=GH(s,6,0,1),s=t+s,s},"GetHexColorString"),NH=r(function(e,t){e&&(e.setTint?e.setTint(t):e.setFillStyle&&e.setFillStyle(t))},"SetSwatchColor");const _e=Phaser.Utils.Objects.GetValue,UH=Phaser.Utils.Objects.IsPlainObject,VH=Phaser.Math.Clamp;var ha;let wg=(ha=class extends Tt{constructor(t,s){s===void 0&&(s={}),s.orientation=0,super(t,s),this.type="rexColorInputLite";var h=_e(s,"background",void 0),S=_e(s,"swatch"),E;UH(S)&&(E=_e(S,"size"));var n=bH(t,_e(s,"swatch")),T=_e(s,"inputText",{}),i;if(T&&(i=Za(t,T)),h&&this.addBackground(h),n){E=_e(s,"swatchSize",E);var f;E!==void 0?(Pe(n,E,E),f=!1):f=_e(s,"squareExpandSwatch",!0);var y=f?1:0;this.add(n,{proportion:0,expand:!1,fitRatio:y})}if(i){var c=_e(T,"width")===void 0?1:0,o=_e(T,"height")===void 0;this.add(i,{proportion:c,expand:o})}this.addChildrenMap("background",h),this.addChildrenMap("swatch",n),this.addChildrenMap("inputText",i),i&&i.on("close",function(){this.setValue(i.value)},this);var l=_e(s,"valuechangeCallback",null);if(l!==null){var a=_e(s,"valuechangeCallbackScope",void 0);this.on("valuechange",l,a)}this.setValue(_e(s,"value",0))}get value(){return this._value}set value(t){if(typeof t=="string"){if(t=BH(t),t==null){var h=this.childrenMap.inputText;h&&h.setText(T1(this._value));return}}else t=VH(Math.floor(t),0,16777215);if(this._value!==t){this._value=t;var s=this.childrenMap.swatch;s&&NH(s,t);var h=this.childrenMap.inputText;h&&h.setText(T1(t)),this.emit("valuechange",this._value)}}setValue(t){return this.value=t,this}get color(){return this._value}set color(t){this.value=t}setColor(t){return this.color=t,this}},r(ha,"ColorInput"),ha);var WH={setCreateColorPickerBackgroundCallback(e){return this.colorPickerCreateBackgroundCallback=e,this},setColorPickerHPalettePosition(e){return this.colorPickerHPalettePosition=e,this},setColorPickerExpandDirection(e){return typeof e=="string"&&(e=zH[e]),this.colorPickerExpandDirection=e,this},setColorPickerEaseInDuration(e){return e===void 0&&(e=0),this.colorPickerEaseInDuration=e,this},setColorPickerEaseOutDuration(e){return e===void 0&&(e=0),this.colorPickerEaseOutDuration=e,this},setColorPickerTransitInCallback(e){return this.colorPickerTransitInCallback=e,this},setColorPickerTransitOutCallback(e){return this.colorPickerTransitOutCallback=e,this},setColorPickerBounds(e){return this.colorPickerBounds=e,this},setColorPickerWidth(e){return this.colorPickerWidth=e,this},setColorPickerHeight(e){return this.colorPickerHeight=e,this},setColorPickerSize(e,t){return this.setColorPickerWidth(e).setColorPickerHeight(t),this},setColorPickerSpace(e){return e===void 0&&(e={}),this.colorPickerSpace=e,this},setColorComponentsHeight(e){return this.colorComponentsHeight=e,this},setColorComponentsFormatLabelConfig(e){return this.colorComponentsFormatLabelConfig=e,this},setColorComponentsInputTextConfig(e){return this.colorComponentsInputTextConfig=e,this},setColorComponentsSpace(e){return e===void 0&&(e={}),this.colorComponentsSpace=e,this}};const zH={down:0,up:1},xA=Phaser.Display.Color,ad=Phaser.Math.Percent;var YH=r(function(e,t,s){s===void 0&&(s=!1);var h=e.width,S=e.height,E=new xA;if(s)for(var n=0;n<S;n++){var T=ad(n,0,S);E.setFromHSV(T,1,1),t.fillStyle=E.rgba,t.fillRect(0,n,h,1)}else for(var i=0;i<h;i++){var T=ad(i,0,h);E.setFromHSV(T,1,1),t.fillStyle=E.rgba,t.fillRect(i,0,1,S)}},"DrawHPalette"),kH=r(function(e,t,s){for(var h=e.width,S=e.height,E=t.getImageData(0,0,h,S),n=E.data,T=new xA,i=0;i<S;i++)for(var f=0;f<h;f++){var y=ad(f,0,h),c=1-ad(i,0,S);T.setFromHSV(s,y,c);var o=(i*h+f)*4;n[o]=T.red,n[o+1]=T.green,n[o+2]=T.blue,n[o+3]=255}t.putImageData(E,0,0)},"DrawSVPalette");const HH=Phaser.Display.Color,C1=Phaser.Math.Percent,XH=Phaser.Display.Color.ColorToRGBA,$H=Phaser.Display.Color.HSVToRGB,jx=class jx extends rs{constructor(t,s,h,S,E,n){s===void 0&&(s=0),h===void 0&&(h=0),S===void 0&&(S=2),E===void 0&&(E=2),super(t,s,h,S,E),this.type="rexColorPicker.HPaletteCanvas",this.colorObject=new HH,this.setOrientation(n),this.setSize(S,E)}setOrientation(t){return this.orientation=Ko(t),this}updateTexture(){return YH(this.canvas,this.context,this.orientation),super.updateTexture(),this}get color(){return this.colorObject.color}get hue(){return this._hue}set hue(t){this._hue=t}getHue(t,s){return t===void 0?this.hue:(this.orientation===0?this.hue=C1(t,0,this.width):this.hue=C1(s,0,this.height),this.hue)}getColor(t,s){if(t===void 0)return this.color;var h=this.getHue(t,s);return this.colorObject.setFromRGB($H(h,1,1)),this.colorObject.color}setColor(t){return this.color===t?this:this}colorToLocalPosition(t,s){return s===void 0?s={}:s===!0&&(Mc===void 0&&(Mc={}),s=Mc),this.colorObject.setFromRGB(XH(t)),this.orientation===0?(s.x=this.width*this.colorObject.h,s.y=this.height/2):(s.x=this.width/2,s.y=this.height*this.colorObject.h),s}};r(jx,"HPaletteCanvas");let $v=jx;var Mc=void 0,KH=Phaser.Math.RotateAround,yA=r(function(e,t,s,h){h===void 0?h={}:h===!0&&(bc===void 0&&(bc={}),h=bc),t-=e.width*e.originX,s-=e.height*e.originY;var S={x:t*e.scaleX,y:s*e.scaleY};return KH(S,0,0,-e.rotation),h.x=e.x+t,h.y=e.y+s,h},"LocalToWorld"),bc;const qx=class qx extends Ne{constructor(t,s){s===void 0&&(s={}),super(t,s);var h=s.width!=null?1:0,S=new $v(t).setOrientation(h);t.add.existing(S),this.type="rexColorPicker.HPalette",S.setInteractive().on("pointerdown",this.onPaletteCanvasPointerDown,this).on("pointermove",this.onPaletteCanvasPointerDown,this);var E=new Ir(t,{strokeColor:16777215,strokeWidth:2});t.add.existing(E),this.add(S,{key:"paletteCanvas",expand:!0}).add(E,{key:"marker",expand:!1})}resize(t,s){if(this.width===t&&this.height===s)return this;super.resize(t,s);var h=Math.min(t,s);return this.childrenMap.marker.setSize(h,h),this}onPaletteCanvasPointerDown(t,s,h,S){if(t.isDown){var E=this.childrenMap.paletteCanvas,n=E.getColor(s,h);this.setMarkerPosition(n),this.emit("input",n)}}get color(){return this.childrenMap.paletteCanvas.color}setColor(t){if(this.color===t)return this;var s=this.childrenMap.paletteCanvas;return s.setColor(t),this.setMarkerPosition(t),this}setMarkerPosition(t){var s=this.childrenMap.paletteCanvas,h=this.childrenMap.marker,S=s.colorToLocalPosition(t,!0);return yA(s,S.x,S.y,h),this.resetChildPositionState(h),this}getHue(t,s){var h=this.childrenMap.paletteCanvas;return h.getHue(t,s)}};r(qx,"HPalette");let Kv=qx;const ZH=Phaser.Display.Color,E1=Phaser.Math.Percent,P1=Phaser.Display.Color.ColorToRGBA,JH=Phaser.Display.Color.HSVToRGB,_x=class _x extends rs{constructor(t,s,h,S,E,n){s===void 0&&(s=0),h===void 0&&(h=0),S===void 0&&(S=2),E===void 0&&(E=2),super(t,s,h,S,E),this.type="rexColorPicker.SVPaletteCanvas",n===void 0&&(n=1),this.colorObject=new ZH,this.setHue(n),this.setSize(S,E)}get color(){return this.colorObject.color}get hue(){return this._hue}set hue(t){this._hue!==t&&(this._hue=t,this.colorObject.h=t,this.dirty=!0)}setHue(t){return this.hue=t,this}updateTexture(){return kH(this.canvas,this.context,this.hue),super.updateTexture(),this}getColor(t,s){if(t===void 0)return this.colorObject.color;var h=E1(t,0,this.width),S=1-E1(s,0,this.height);return this.colorObject.setFromRGB(JH(this.hue,h,S)),this.colorObject.color}setColor(t){return this.color===t?this:(this.colorObject.setFromRGB(P1(t)),this.setHue(this.colorObject.h),this)}colorToLocalPosition(t,s){return s===void 0?s={}:s===!0&&(Ic===void 0&&(Ic={}),s=Ic),this.colorObject.setFromRGB(P1(t)),s.x=this.width*this.colorObject.s,s.y=this.height*(1-this.colorObject.v),s}};r(_x,"SVPaletteCanvas");let Zv=_x;var Ic=void 0;const ty=class ty extends Ne{constructor(t,s){super(t,s);var h=new Zv(t);t.add.existing(h),this.type="rexColorPicker.SVPalette",h.setInteractive().on("pointerdown",this.onPaletteCanvasPointerDown,this).on("pointermove",this.onPaletteCanvasPointerDown,this);var S=new Ir(t,{radius:5,strokeColor:16777215,strokeWidth:2});t.add.existing(S),this.add(h,{key:"paletteCanvas",expand:!0}).add(S,{key:"marker",expand:!1})}onPaletteCanvasPointerDown(t,s,h,S){if(t.isDown){var E=this.childrenMap.paletteCanvas,n=E.getColor(s,h);this.setMarkerPosition(n),this.emit("input",n)}}get color(){return this.childrenMap.paletteCanvas.color}setHue(t){var s=this.childrenMap.paletteCanvas;return s.setHue(t),this}setColor(t){if(this.color===t)return this;var s=this.childrenMap.paletteCanvas;return s.setColor(t),this.setMarkerPosition(t),this}setMarkerPosition(t){var s=this.childrenMap.paletteCanvas,h=this.childrenMap.marker,S=s.colorToLocalPosition(t,!0);return yA(s,S.x,S.y,h),this.resetChildPositionState(h),this}};r(ty,"SVPalette");let Jv=ty;const di=Phaser.Utils.Objects.GetValue,ey=class ey extends Tt{constructor(t,s){super(t,s),this.type="rexColorPicker",this.freezePalettes=!1;var h=di(s,"hPalette.position",0);typeof h=="string"&&(h=QH[h]);var S=h===0||h===2?1:0;this.setOrientation(S);var E=di(s,"background",void 0),n,T;if(this.orientation===0){var n=di(s,"hPalette.width",void 0);n===void 0&&(n=di(s,"hPalette.size",10))}else T=di(s,"hPalette.height",void 0),T===void 0&&(T=di(s,"hPalette.size",10));var i=new Kv(t,{width:n,height:T});t.add.existing(i);var f=di(s,"svPalette.width",void 0),y=di(s,"svPalette.height",void 0),c=new Jv(t,{width:f,height:y});t.add.existing(c),E&&this.addBackground(E);var o={proportion:0,expand:!0},l,a;this.orientation===0?(l=f===void 0?1:0,a=y===void 0):(l=y===void 0?1:0,a=f===void 0);var u={proportion:l,expand:a};h===0||h===3?this.add(c,u).add(i,o):this.add(i,o).add(c,u),i.on("input",function(){c.setHue(i.getHue()),this.setValue(c.color,!0)},this),c.on("input",function(){this.setValue(c.color,!0)},this),this.addChildrenMap("background",E),this.addChildrenMap("hPalette",i),this.addChildrenMap("svPalette",c);var v=di(s,"valuechangeCallback",null);if(v!==null){var d=di(s,"valuechangeCallbackScope",void 0);this.on("valuechange",v,d)}this.setValue(di(s,"value",16777215))}get value(){return this._value}set value(t){if(this._value!==t){var s=this._value;this._value=t,this.freezePalettes||this.updatePalettes(),this.emit("valuechange",t,s,this)}}setValue(t,s){return this.freezePalettes=!!s,this.value=t,this.freezePalettes=!1,this}get color(){return this._value}set color(t){this.value=t}setColor(t){return this.color=t,this}updatePalettes(){return this.childrenMap.hPalette.setColor(this.color),this.childrenMap.svPalette.setColor(this.color),this}postLayout(t,s,h){return this.childrenMap.hPalette.setMarkerPosition(this.value),this.childrenMap.svPalette.setMarkerPosition(this.value),this}};r(ey,"ColorPicker");let Lo=ey;var QH={bottom:0,left:1,top:2,right:3};const wi=Phaser.Utils.Objects.GetValue,jH=Phaser.Display.Color,qH=Phaser.Display.Color.ColorToRGBA,_H=Phaser.Display.Color.HSVToRGB,hr=Phaser.Math.Clamp,iy=class iy extends Tt{constructor(t,s){s===void 0&&(s={}),s.orientation=0,super(t,s),this.type="rexColorComponents",this.colorObject=new jH;var h=wi(s,"background",void 0),S=wi(s,"formatLabel",void 0);Be(S)||(S=De(t,S).resetDisplayContent());var E=[];if(s.inputText0&&s.inputText1&&s.inputText2)E.push(s.inputText0),E.push(s.inputText1),E.push(s.inputText2);else for(var n=wi(s,"inputText"),T=0;T<3;T++){var i=Za(t,n).setMaxLength(3).setNumberInput();E.push(i)}h&&this.addBackground(h);var y=wi(s,"proportion.formatLabel",0),f=!!S.isRexContainerLite,c=wi(s,"expand.formatLabel",f);this.add(S,{proportion:y,expand:c});for(var y=wi(n,"width")===void 0?1:0,c=wi(n,"height")===void 0,T=0,o=E.length;T<o;T++)this.add(E[T],{proportion:y,expand:c});this.addChildrenMap("background",h),this.addChildrenMap("formatLabel",S),this.addChildrenMap("components",E),this.onClick(S,this.toggleColorFormat,this);for(var T=0,o=E.length;T<o;T++)E[T].on("close",function(){this.updateColorObject(),this.setValue(this.colorObject.color)},this);var l=wi(s,"valuechangeCallback",null);if(l!==null){var a=wi(s,"valuechangeCallbackScope",void 0);this.on("valuechange",l,a)}S.setText("RGB"),this.setValue(wi(s,"value",16777215))}get value(){return this._value}set value(t){t=hr(Math.floor(t),0,16777215),this._value!==t&&(this._value=t,this.colorObject.setFromRGB(qH(t)),this.updateComponents(),this.emit("valuechange",this._value))}setValue(t){return this.value=t,this}get color(){return this._value}set color(t){this.value=t}setColor(t){return this.color=t,this}get colorFormat(){return this.childrenMap.formatLabel.text}set colorFormat(t){this.colorFormat!==t&&(this.childrenMap.formatLabel.setText(t),this.updateComponents())}setColorFormat(t){return this.colorFormat=t,this}toggleColorFormat(){return this.colorFormat=this.colorFormat==="RGB"?"HSV":"RGB",this}updateComponents(){var t=this.childrenMap.components,s,h,S;return this.colorFormat==="RGB"?(s=this.colorObject.red,h=this.colorObject.green,S=this.colorObject.blue):(s=Math.floor(this.colorObject.h*360),h=Math.floor(this.colorObject.s*100),S=Math.floor(this.colorObject.v*100)),t[0].setValue(s),t[1].setValue(h),t[2].setValue(S),this}updateColorObject(){var t=this.childrenMap.components;if(this.colorFormat==="RGB"){var s=hr(t[0].value,0,255),h=hr(t[1].value,0,255),S=hr(t[2].value,0,255);this.colorObject.setTo(s,h,S)}else{var E=hr(t[0].value,0,359)/360,n=hr(t[1].value,0,100)/100,T=hr(t[2].value,0,100)/100;this.colorObject.setFromRGB(_H(E,n,T))}return this}};r(iy,"ColorComponents");let Oo=iy;const Fc=Phaser.Utils.Objects.GetValue,sy=class sy extends Tt{constructor(t,s){s===void 0&&(s={}),s.orientation=1,super(t,s),this.type="rexColorInput.ColorPickerPanel";var h=Fc(s,"background",void 0),S=new Lo(t,{hPalette:s.hPalette||{},svPalette:s.svPalette||{},space:{item:Fc(s,"space.hPalette",8)}});t.add.existing(S);var E;s.colorComponents&&(E=new Oo(t,s.colorComponents),t.add.existing(E)),h&&(this.addBackground(h),new xa(h,{stopAllLevels:!1})),this.add(S,{proportion:1,expand:!0}),E&&this.add(E,{proportion:0,expand:!0}),this.addChildrenMap("background",h),this.addChildrenMap("colorPicker",S),this.addChildrenMap("colorComponents",E),S.on("valuechange",function(n){this.setValue(n)},this),E&&E.on("valuechange",function(n){this.setValue(n)},this),this.setValue(Fc(s,"value",16777215))}get value(){return this._value}set value(t){if(this._value!==t){this._value=t;var s=this.childrenMap.colorPicker;s.setValue(t);var h=this.childrenMap.colorComponents;h&&h.setValue(t),this.emit("valuechange",t)}}setValue(t){return this.value=t,this}};r(sy,"ColorPickerPanel");let Qv=sy;Phaser.Utils.Objects.GetValue;var tX=r(function(t){var t=this.scene,s,h=this.colorPickerCreateBackgroundCallback;h&&(s=h.call(this,t),t.add.existing(s));var S=this.colorPickerWidth;S===void 0&&(S=this.width);var E=this.colorPickerHeight;E===void 0&&(E=S);var n;this.colorComponentsHeight>0?n={height:this.colorComponentsHeight,formatLabel:this.colorComponentsFormatLabelConfig,inputText:this.colorComponentsInputTextConfig,space:this.colorComponentsSpace}:n=!1;var T=new Qv(t,{width:S,height:E,background:s,space:this.colorPickerSpace,hPalette:{position:this.colorPickerHPalettePosition},colorComponents:n,value:this.value});return t.add.existing(T),T},"CreateColorPicker"),eX=r(function(){if(!this.colorPicker){var e=tX.call(this).layout(),t=new Qu(e,{duration:{in:this.colorPickerEaseInDuration,out:this.colorPickerEaseOutDuration},transitIn:this.colorPickerTransitInCallback,transitOut:this.colorPickerTransitOutCallback,expandDirection:this.colorPickerExpandDirection,alignTargetX:this,alignTargetY:this,bounds:this.colorPickerBounds,touchOutsideClose:!0}).on("open",function(){e.on("valuechange",function(s){this.setValue(s)},this)},this).on("close",function(){this.colorPicker=void 0,this.dropDownBehavior=void 0},this);return this.colorPicker=e,this.dropDownBehavior=t,this.pin(e),this}},"OpenColorPicker"),SA={openColorPicker:eX};Object.assign(SA,WH);const de=Phaser.Utils.Objects.GetValue,ry=class ry extends wg{constructor(t,s){s===void 0&&(s={}),super(t,s),this.type="rexColorInput",s.hasOwnProperty("colorPicker")||(s.colorPicker={background:{color:0}});var h=s.colorPicker,S=h!==!1&&h!==null;if(S){this.setColorPickerSize(de(h,"width",160),de(h,"height",170));var E,n=de(h,"background");n?E=r(function(l){return Fe(l,n)},"createBackgroundCallback"):E=de(h,"createBackgroundCallback"),this.setCreateColorPickerBackgroundCallback(E),this.setColorPickerHPalettePosition(de(h,"hPalettePosition",0)),this.setColorPickerExpandDirection(de(h,"expandDirection")),this.setColorPickerEaseInDuration(de(h,"easeIn",200)),this.setColorPickerEaseOutDuration(de(h,"easeOut",200)),this.setColorPickerTransitInCallback(de(h,"transitIn")),this.setColorPickerTransitOutCallback(de(h,"transitOut")),this.setColorPickerBounds(de(h,"bounds"));var T=de(h,"space");T===void 0&&(T={left:10,right:10,top:10,bottom:10,item:8}),this.setColorPickerSpace(T)}var i=s.colorComponents,f=i!==!1&&i!==null;if(S&&f){this.setColorComponentsHeight(de(i,"height",30)),this.setColorComponentsFormatLabelConfig(de(i,"formatLabel"));var y=de(i,"inputText");y||(y=de(s,"inputText")),this.setColorComponentsInputTextConfig(y);var c=de(i,"space");c===void 0&&(c={item:8}),this.setColorComponentsSpace(c)}var o=this.childrenMap.swatch;o&&S&&this.onClick(o,this.openColorPicker,this)}};r(ry,"ColorInput");let Ua=ry;Object.assign(Ua.prototype,SA);st.register("colorInput",function(e){var t=new Ua(this.scene,e);return this.scene.add.existing(t),t});it(window,"RexPlugins.UI.ColorInput",Ua);st.register("colorInputLite",function(e){var t=new wg(this.scene,e);return this.scene.add.existing(t),t});it(window,"RexPlugins.UI.ColorInputBase",wg);st.register("colorPicker",function(e){var t=new Lo(this.scene,e);return this.scene.add.existing(t),t});it(window,"RexPlugins.UI.ColorPicker",Lo);st.register("colorComponents",function(e){var t=new Oo(this.scene,e);return this.scene.add.existing(t),t});it(window,"RexPlugins.UI.ColorComponents",Oo);var TA=r(function(e){for(var t=e.scene.input,s=t.manager,h=s.pointersTotal,S=s.pointers,E,n=0;n<h;n++)if(E=S[n],!(!E.primaryDown||t.getDragState(E)!==0||!Up(e,E)))return t.setDragState(E,1),t._drag[E.id]=[e],t.dragDistanceThreshold===0||t.dragTimeThreshold===0?(t.setDragState(E,3),t.processDragStartList(E)):t.setDragState(E,2),!0;return!1},"RequestDrag");const _l=Phaser.Utils.Objects.GetValue,R1=Phaser.Math.Distance.Between,A1=Phaser.Math.RotateAroundDistance,ny=class ny extends Gt{constructor(t,s){super(t,{eventEmitter:!1}),this._enable=void 0,t.setInteractive(_l(s,"inputConfig",void 0)),this.resetFromJSON(s),this.boot()}resetFromJSON(t){return this.pointer=void 0,this.setEnable(_l(t,"enable",!0)),this.setAxisMode(_l(t,"axis",0)),this.setAxisRotation(_l(t,"rotation",0)),this}toJSON(){return{enable:this.enable,axis:this.axisMode,rotation:this.axisRotation}}boot(){var t=this.parent;t.on("dragstart",this.onDragStart,this),t.on("drag",this.onDrag,this),t.on("dragend",this.onDragEnd,this)}shutdown(t){this.isShutdown||(this.pointer=void 0,super.shutdown(t))}get enable(){return this._enable}set enable(t){if(this._enable!==t)return t||this.dragend(),this._enable=t,this.scene.input.setDraggable(this.parent,t),this}setEnable(t){return t===void 0&&(t=!0),this.enable=t,this}toggleEnable(){return this.setEnable(!this.enable),this}setAxisMode(t){return typeof t=="string"&&(t=iX[t]),this.axisMode=t,this}setAxisRotation(t){return this.axisRotation=t,this}drag(){return TA(this.parent),this}dragend(){if(this.isDragging)return this.scene.input.setDragState(this.pointer,5),this}onDragStart(t,s,h){this.isDragging||(this.pointer=t)}onDrag(t,s,h){if(this.pointer===t){var S=this.parent;if(this.axisMode===0)S.x=s,S.y=h;else if(this.axisRotation===0)this.axisMode===1?S.x=s:this.axisMode===2&&(S.y=h);else{var E,n={x:s,y:h};E=R1(n.x,n.y,S.x,S.y),n=A1(n,S.x,S.y,-this.axisRotation,E),this.axisMode===1?n.y=S.y:this.axisMode===2&&(n.x=S.x),E=R1(n.x,n.y,S.x,S.y),n=A1(n,S.x,S.y,this.axisRotation,E),S.x=n.x,S.y=n.y}}}onDragEnd(t,s,h,S){this.pointer===t&&(this.pointer=void 0)}get isDragging(){return this.pointer!==void 0}};r(ny,"Drag");let wo=ny;const iX={both:0,"h&v":0,"x&y":0,horizontal:1,h:1,x:1,vertical:2,v:2,y:2};var sX=r(function(){var e=this.sizerChildren[0],t=this.sizerChildren[1],s=this.sizerChildren[2],h=this.getSizerConfig(e).padding,S=this.getSizerConfig(t).padding,E=this.getSizerConfig(s).padding;if(this.orientation===0){var n=this.innerLeft+h.left,T=this.innerRight-E.right,i=wt(t),f=t.x+i*(0-t.originX),y=t.x+i*(1-t.originX),c=f-S.left-this.space.item-h.right,o=y+S.right+this.space.item+E.left,l=c-n,a=T-o,u=l+a;this.minFirstChildSize>0&&l<this.minFirstChildSize&&(l=this.minFirstChildSize,a=u-l),this.minSecondChildSize>0&&a<this.minSecondChildSize&&(a=this.minSecondChildSize,l=u-a),this.setSplitRatio(l/u)}else{var v=this.innerTop+h.top,d=this.innerBottom-E.bottom,p=Mt(t),g=t.y+p*(0-t.originY),m=t.y+p*(1-t.originY),x=g-S.top-this.space.item-h.bottom,C=m+S.bottom+this.space.item+E.top,P=x-v,A=d-C,R=P+A;this.minFirstChildSize>0&&P<this.minFirstChildSize&&(P=this.minFirstChildSize,A=R-P),this.minSecondChildSize>0&&A<this.minSecondChildSize&&(A=this.minSecondChildSize,P=R-A),this.setSplitRatio(P/R)}var L=this.minWidth,O=this.minHeight;this.setMinSize(this.width,this.height).layout().setMinSize(L,O)},"OnDragSplitter");const Qt=Phaser.Utils.Objects.GetValue,rX=Phaser.Math.Clamp,ay=class ay extends Tt{constructor(t,s){s.hasOwnProperty("orientation")||(s.orientation=s.hasOwnProperty("leftPanel")?0:1),super(t,s),this.type="rexSplit";var h=Qt(s,"background",void 0),S,E,n,T;this.orientation===0?(S="leftPanel",E="rightPanel",n="minLeftPanelWidth",T="minRightPanelWidth"):(S="topPanel",E="bottomPanel",n="minTopPanelHeight",T="minBottomPanelHeight");var i=Qt(s,S,void 0),f=Qt(s,"splitter",void 0),y=Qt(s,E,void 0);h&&this.addBackground(h);var c=Qt(s,"space",void 0);this.add(i,{proportion:1,expand:!0,padding:{left:Qt(c,`${S}Left`,0),right:Qt(c,`${S}Right`,0),top:Qt(c,`${S}Top`,0),bottom:Qt(c,`${S}Bottom`,0)}}),this.add(f,{proportion:0,expand:!0,padding:{left:Qt(c,"splitterLeft",0),right:Qt(c,"splitterRight",0),top:Qt(c,"splitterTop",0),bottom:Qt(c,"splitterBottom",0)}}),this.add(y,{proportion:1,expand:!0,padding:{left:Qt(c,`${E}Left`,0),right:Qt(c,`${E}Right`,0),top:Qt(c,`${E}Top`,0),bottom:Qt(c,`${E}Bottom`,0)}}),this.addChildrenMap("background",h),this.addChildrenMap(S,i),this.addChildrenMap("splitter",f),this.addChildrenMap(E,y),this.minFirstChildSize=Qt(s,n,0),this.minSecondChildSize=Qt(s,T,0),this.setSplitRatio(Qt(s,"splitRatio",.5)),this.splitterDragBehavior=new wo(f,{axis:this.orientation===0?1:2}),f.on("dragstart",function(){this.emit("splitter.dragstart",f,this.splitRatio)},this).on("dragend",function(){this.emit("splitter.dragend",f,this.splitRatio)},this).on("drag",function(){sX.call(this),this.emit("splitter.drag",f,this.splitRatio)},this).on("pointerover",function(){this.emit("splitter.over",f,this.splitRatio)},this).on("pointerout",function(){this.emit("splitter.out",f,this.splitRatio)},this)}get splitterEnable(){return this.splitterDragBehavior.enable}set splitterEnable(t){this.splitterDragBehavior.setEnable(t)}setSplitterEnable(t){return t===void 0&&(t=!0),this.splitterEnable=t,this}set minLeftPanelWidth(t){this.minFirstChildSize=t}get minLeftPanelWidth(){return this.minFirstChildSize}set minRightPanelWidth(t){this.minSecondChildSize=t}get minRightPanelWidth(){return this.minSecondChildSize}set minTopPanelHeight(t){this.minFirstChildSize=t}get minTopPanelHeight(){return this.minFirstChildSize}set minBottomPanelHeight(t){this.minSecondChildSize=t}get minBottomPanelHeight(){return this.minSecondChildSize}setMinLeftPanelWidth(t){return this.minLeftPanelWidth=t,this}setMinRightPanelWidth(t){return this.minRightPanelWidth=t,this}setMinTopPanelHeight(t){return this.minTopPanelHeight=t,this}setMinBottomPanelHeight(t){return this.minBottomPanelHeight=t,this}get splitRatio(){return this._splitRatio}set splitRatio(t){t=rX(t,0,1),this._splitRatio!==t&&(this._splitRatio=t,this.getSizerConfig(this.sizerChildren[0]).proportion=t,this.getSizerConfig(this.sizerChildren[2]).proportion=1-t)}setSplitRatio(t){return this.splitRatio=t,this}};r(ay,"SplitPanels");let hd=ay;st.register("splitPanels",function(e){var t=new hd(this.scene,e);return this.scene.add.existing(t),t});it(window,"RexPlugins.UI.SplitPanels",hd);var nX=r(function(){return function(e,t,s,h){t!=="panel"&&s.setChildVisible(e,!0)}},"GetShowCallback$1"),aX=r(function(){return function(e,t,s,h){t!=="panel"&&s.setChildVisible(e,!1)}},"GetHideCallback$1");const hX={show:nX,hide:aX};var oX=r(function(e,t){return t===void 0&&(t=1),function(s,h,S,E){h!=="panel"&&S.fadeChild(s,E?0:e,t)}},"GetShowCallback"),lX=r(function(e,t){return t===void 0&&(t=0),function(s,h,S,E){h!=="panel"&&S.fadeChild(s,E?0:e,t)}},"GetHideCallback");const uX={show:oX,hide:lX};var L1=r(function(e,t){return function(s,h,S,E){h!=="panel"&&S.moveChild(s,E?0:e,t)}},"GetCallback$1");const dX={show:L1,hide:L1};var O1=r(function(e,t){return function(s,h,S,E){h==="panel"&&S.moveChild(s,E?0:e,t)}},"GetCallback");const fX={show:O1,hide:O1},Dc={visible:hX,fade:uX,move:dX,"move-panel":fX};var cX=r(function(e){var t,s;[t,...s]=typeof e=="string"?[e]:e;var h,S;return Dc.hasOwnProperty(t)?(h=Dc[t].show.apply(null,s),S=Dc[t].hide.apply(null,s)):(h=ee,S=ee),{show:h,hide:S}},"GetDefaultCallbacks");const vX={showChild(e,t){var s=this.sizerChildren[e];return s&&(this.emit("showchild",s,e,this,t),this.resetChildState(s)),this},hideChild(e,t){var s=this.sizerChildren[e];return s&&(this.emit("hidechild",s,e,this,t),this.resetChildState(s)),this},swapChild(e,t){return this.currentChildKey===e||(this.currentChildKey==="panel"||e==="panel"?(this.previousChildKey=this.currentChildKey,this.currentChildKey=e,this.hideChild(this.previousChildKey,t),this.showChild(this.currentChildKey,t)):(this.swapChild("panel",t),this.swapChild(e,t))),this},showPanel(e){return this.swapChild("panel",e),this},showLeftSide(){return this.swapChild("leftSide"),this},showRightSide(){return this.swapChild("rightSide"),this},showTopSide(){return this.swapChild("topSide"),this},showBottomSide(){return this.swapChild("bottomSide"),this},hideLeftSide(){return this.currentChildKey=="leftSide"&&this.showPanel(),this},hideRightSide(){return this.currentChildKey=="rightSide"&&this.showPanel(),this},hideTopSide(){return this.currentChildKey=="topSide"&&this.showPanel(),this},hideBottomSide(){return this.currentChildKey=="bottomSide"&&this.showPanel(),this},toggleLeftSide(){var e=this.currentChildKey!=="panel"?"panel":"leftSide";return this.swapChild(e),this},toggleRightSide(){var e=this.currentChildKey!=="panel"?"panel":"rightSide";return this.swapChild(e),this},toggleTopSide(){var e=this.currentChildKey!=="panel"?"panel":"topSide";return this.swapChild(e),this},toggleBottomSide(){var e=this.currentChildKey!=="panel"?"panel":"bottomSide";return this.swapChild(e),this}},pX=Ae.prototype.setChildVisible,gX={setChildVisible(e,t){var s;if(typeof e=="string"){var s=e;e=this.sizerChildren[s]}else s=kd(this.sizerChildren,e);return t===void 0&&(t=this.currentChildKey===s),pX.call(this,e,t),this}},mX={fadeChild(e,t,s){var h;return typeof e=="string"?(h=e,e=this.sizerChildren[h]):h=kd(this.sizerChildren,e),t===void 0&&(t=500),s===void 0&&(s=this.currentChildKey===h?1:0),e.fadeIn(t,{start:e.alpha,end:s}),this},fadeChildPromise(e,t,s){return typeof e=="string"&&(e=this.sizerChildren[key]),this.fadeChild(e,t,s),e._fade?fe(e._fade):Promise.resolve()}},xX={moveChild(e,t,s,h){var S;typeof e=="string"?(S=e,e=this.sizerChildren[S]):S=kd(this.sizerChildren,e),t===void 0&&(t=500);var E=this.currentChildKey===S;if(h===void 0)switch(S){case"leftSide":case"rightSide":h=wt(e);break;case"topSide":case"bottomSide":h=Mt(e);break;default:if(E)switch(this.previousChildKey){case"leftSide":case"rightSide":h=wt(this.sizerChildren[this.previousChildKey]);break;case"topSide":case"bottomSide":h=Mt(this.sizerChildren[this.previousChildKey]);break;default:h=0;break}else switch(this.currentChildKey){case"leftSide":case"rightSide":h=wt(this.sizerChildren[this.currentChildKey]);break;case"topSide":case"bottomSide":h=Mt(this.sizerChildren[this.currentChildKey]);break;default:h=0;break}break}var n,T,i,f;if(E)switch(S){case"panel":switch(this.previousChildKey){case"leftSide":n=!0;break;case"rightSide":T=!0;break;case"topSide":i=!0;break;case"bottomSide":f=!0;break}break;case"leftSide":T=!0;break;case"rightSide":n=!0;break;case"topSide":f=!0;break;case"bottomSide":i=!0;break}else switch(S){case"panel":switch(this.currentChildKey){case"leftSide":T=!0;break;case"rightSide":n=!0;break;case"topSide":f=!0;break;case"bottomSide":i=!0;break}break;case"leftSide":n=!0;break;case"rightSide":T=!0;break;case"topSide":i=!0;break;case"bottomSide":f=!0;break}return n?e.moveTo(t,`-=${h}`,void 0,s):T?e.moveTo(t,`+=${h}`,void 0,s):i?e.moveTo(t,void 0,`-=${h}`,s):f?e.moveTo(t,void 0,`+=${h}`,s):e.moveTo(0),this},moveChildPromise(e,t,s,h){return typeof e=="string"&&(e=this.sizerChildren[key]),this.moveChild(e,t,s,h),e._easeMove?fe(e._easeMove):Promise.resolve()}};var CA={};Object.assign(CA,gX,mX,xX);const Ie=Phaser.Utils.Objects.GetValue,hy=class hy extends Ne{constructor(t,s){super(t,s),this.type="rexSides",this.childrenMap=this.sizerChildren,this.previousChildKey=void 0,this.currentChildKey=void 0;var h=Ie(s,"showChildCallback",void 0);if(h)if(ns(h)){var S=Ie(s,"showChildCallbackScope",void 0);this.on("showchild",h,S);var E=Ie(s,"hideChildCallback",void 0),n=Ie(s,"hideChildCallbackScope",void 0);this.on("hidechild",E,n)}else{var T=cX(h);this.on("showchild",T.show),this.on("hidechild",T.hide)}var i=Ie(s,"background",void 0),f=Ie(s,"panel",void 0),y=Ie(s,"leftSide",void 0),c=Ie(s,"rightSide",void 0),o=Ie(s,"topSide",void 0),l=Ie(s,"bottomSide",void 0);if(i&&this.addBackground(i),f&&this.add(f,"panel","center",0,!0),y){var a=Ie(s,"expand.left",!0);this.add(y,"leftSide","left-top",0,{height:a})}if(c){var a=Ie(s,"expand.right",!0);this.add(c,"rightSide","right-top",0,{height:a})}if(o){var a=Ie(s,"expand.top",!0);this.add(o,"topSide","left-top",0,{width:a})}if(l){var a=Ie(s,"expand.bottom",!0);this.add(l,"bottomSide","left-bottom",0,{width:a})}}reset(){return this.previousChildKey=void 0,this.currentChildKey="panel",this.showChild("panel",!0),this.hideChild("leftSide",!0),this.hideChild("rightSide",!0),this.hideChild("topSide",!0),this.hideChild("bottomSide",!0),this}};r(hy,"Sides");let Mo=hy;Object.assign(Mo.prototype,vX,CA);st.register("sides",function(e){var t=new Mo(this.scene,e);return this.scene.add.existing(t),t});it(window,"RexPlugins.UI.Sides",Mo);var yX=r(function(e){var t=!0;return e.hasOwnProperty("accept")||(t=!1,console.error(`[Tweaker] Can't register inputHandler '${e.name}', missing 'accept' callback.`)),e.hasOwnProperty("build")||(t=!1,console.error(`[Tweaker] Can't register inputHandler '${e.name}', missing 'build' callback.`)),t&&this.inputHandlers.unshift(e),this},"RegisterInputHandler");const SX=Phaser.Utils.Array.GetFirst,TX=Phaser.Utils.Array.Remove;var CX=r(function(e){var t=SX(this.inputHandlers,"name",e);return t&&TX(this.inputHandlers,t),this},"RemoveInputHandler");const oy=class oy extends xi{constructor(t,s){s=Hd(t,s),super(t,s),this.type="rexTweaker.Title"}setTitle(t){return t=t?ce(t):{},t.hasOwnProperty("text")||(t.hasOwnProperty("title")?t.text=t.title:t.text=""),this.resetDisplayContent(t),this}};r(oy,"Title");let od=oy;const ly=class ly extends od{constructor(t,s){s===void 0&&(s={}),super(t,s),this.type="rexTweaker.FolderTitle";var h=new mr(t,s.expandedIcon);t.add.existing(h),this.addSpace().add(h,{proportion:0,expand:!1,padding:1,fitRatio:1}),this.addChildrenMap("expandedIcon",h)}setExpandedState(t){t===void 0&&(t=!0);var s=t?"down":"right",h=this.childrenMap.expandedIcon;return h.setDirection(s),this}};r(ly,"FolderTitle");let jv=ly;var EA=r(function(e,t){var s=new Io(e,t);return e.add.existing(s),s},"CreateTweaker"),Mg=r(function(e,t,s){return Fe(e,s)},"CreateBackground");const EX={setBindingTarget(e){var t=this.childrenMap.child;return t.setBindingTarget(e),this}},PX={getMaxInputRowTitleWidth(){var e=this.childrenMap.child,t=e.getMaxInputRowTitleWidth();return t+this.getInnerPadding("left")},setInputRowTitleWidth(e){e-=this.getInnerPadding("left");var t=this.childrenMap.child;return t.setInputRowTitleWidth(e),this}},uy=class uy extends Jo{constructor(t,s){super(t,s),this.type="rexTweaker.Folder"}setTitle(t){var s=this.childrenMap.title;return s.setTitle(t),this}};r(uy,"Folder");let ld=uy;Object.assign(ld.prototype,EX,PX);const on=Phaser.Utils.Objects.GetValue;var RX=r(function(e,t,s){var h=on(s,"title")||{},S=new jv(e,h);e.add.existing(S),S.on("folder.expand",function(){S.setExpandedState(!0)}).on("folder.collapse",function(){S.setExpandedState(!1)});var E={root:on(s,"root"),styles:on(s,"tweaker"),space:on(s,"space")||{}},n=EA(e,E),T=on(s,"background"),i=Mg(e,t,T),f=new ld(e,{orientation:1,title:S,child:n,background:i,transition:{duration:on(s,"transition.duration",200)}});return e.add.existing(f),f},"CreateFolder");const w1=Phaser.Utils.Objects.GetValue;var AX=r(function(e){var t=this.scene,s=w1(this.styles,"folder")||{};s.tweaker=this.styles,s.root=this.root;var h=RX(t,e,s);delete s.tweaker,delete s.root,this.add(h,{expand:!0}),h.setTitle(e);var S=w1(e,"expanded",!0);S!==void 0&&h.setExpandedState(S);var E=h.childrenMap.child;return e.key&&this.root.addChildrenMap(e.key,E),E},"AddFolder");const LX={setBindingTarget(e){for(var t=this.childrenMap.pages.children,s=0,h=t.length;s<h;s++)t[s].setBindingTarget(e);return this}},OX={getMaxInputRowTitleWidth(){for(var e=0,t=this.childrenMap.pages.children,s=0,h=t.length;s<h;s++)e=Math.max(e,t[s].getMaxInputRowTitleWidth());return e+this.getInnerPadding("left")},setInputRowTitleWidth(e){e-=this.getInnerPadding("left");for(var t=this.childrenMap.pages.children,s=0,h=t.length;s<h;s++)t[s].setInputRowTitleWidth(e);return this}},dy=class dy extends jd{constructor(t,s){super(t,s),this.type="rexTweaker.TabPages"}};r(dy,"TabPages");let ud=dy;Object.assign(ud.prototype,LX,OX);const tu=Phaser.Utils.Objects.GetValue;var wX=r(function(e,t,s){var h=new ud(e,s);e.add.existing(h);for(var S=tu(s,"tab"),E={root:tu(s,"root"),styles:tu(s,"tweaker")},n=tu(t,"pages")||[],T=0,i=n.length;T<i;T++){var f=n[T];h.addPage({key:f.title,tab:De(e,S).setActiveState(!1).resetDisplayContent({text:f.title}),page:EA(e,E)})}return h.on("tab.focus",function(y,c){y.setActiveState(!0)}).on("tab.blur",function(y,c){y.setActiveState(!1)}),h},"CreateTab");const M1=Phaser.Utils.Objects.GetValue;var MX=r(function(e){var t=this.scene,s=M1(this.styles,"tab")||{};s.tweaker=this.styles,s.root=this.root;var h=wX(t,e,s);delete s.tweaker,delete s.root,this.add(h,{expand:!0});for(var S=M1(e,"pages")||[],E=[],n=0,T=0,i=S.length;T<i;T++){var f=h.getPage(T),y=S[T].show;y&&(n=T);var c=S[T].key;c&&this.root.addChildrenMap(c,f),E.push(f)}return h.swapPage(n,0),E},"AddTab");const b1=Phaser.Utils.Objects.GetValue,bX={setupBinding(){var e=this.childrenMap.inputField;return e.on("valuechange",function(t){this.autoUpdateEnable&&this.setTargetValue(t)},this),this},setAutoUpdateEnable(e){return e===void 0&&(e=!0),this.autoUpdateEnable=e,this},setBindingTarget(e,t){return this.bindingTarget=e,t!==void 0&&this.setBindingTargetKey(t),this.syncTargetValue(),this},setBindingTargetKey(e){return this.bindTargetKey=e,this},setValueCallbacks(e){return this.onGetValue=b1(e,"onGetValue"),this.onSetValue=b1(e,"onSetValue"),this},getTargetValue(){if(this.bindingTarget){if(this.bindTargetKey!=null)return this.bindingTarget[this.bindTargetKey];if(this.onGetValue)return this.onGetValue(this.bindingTarget)}},setTargetValue(e){return this.bindingTarget?this.bindTargetKey!=null?(this.bindingTarget[this.bindTargetKey]=e,this):(this.onSetValue&&this.onSetValue(this.bindingTarget,e),this):this},syncTargetValue(){if(!this.bindingTarget)return this;var e=this.childrenMap.inputField;return e.syncValue&&e.syncValue(this.getTargetValue()),this}},IX={startMonitorTarget(){return this.isMonitoring?this:(this.isMonitoring=!0,this.scene.events.on("postupdate",this.onMonitorTarget,this),this)},stopMonitorTarget(){return this.isMonitoring?(this.isMonitoring=!1,this.scene.events.off("postupdate",this.onMonitorTarget,this),this):this},onMonitorTarget(){if(this.bindingTarget){var e=this.getTargetValue(),t=this.childrenMap.inputField;t.value!==e&&t.syncValue(e)}}},FX={getMinTitleWidth(){var e=this.childrenMap.title;if(!e||e.orientation!==0)return 0;var t=e.rexSizer.padding,s=this.getChildWidth(this.childrenMap.title)+t.left+t.right;return s+this.getInnerPadding("left")},setMinTitleWidth(e){var t=this.childrenMap.title;if(!t||t.orientation!==0)return this;var s=t.rexSizer.padding;return e-=s.left+s.right,t.minWidth=e,this}},Bc=Phaser.Utils.Objects.GetValue,fy=class fy extends Tt{constructor(t,s){super(t,s),this.type="rexTweaker.InputRow",this.bindingTarget=void 0,this.bindTargetKey=void 0,this.autoUpdateEnable=!0;var h=s.inputTitle,S=s.inputField,E=s.background,f=Bc(s,"proportion.title",0),n=Bc(s,"space.title",0),T;this.orientation===0?T={right:n}:T={bottom:n},this.add(h,{proportion:f,expand:!0,padding:T});var i=S.defaultProportion;i===void 0&&(i=s.parentOrientation===1?1:0);var f=Bc(s,"proportion.inputField",i);this.add(S,{proportion:f,expand:!0}),E&&this.addBackground(E),this.addChildrenMap("title",h),this.addChildrenMap("inputField",S),this.addChildrenMap("background",E),this.setupBinding()}destroy(t){!this.scene||this.ignoreDestroy||(this.stopMonitorTarget(),super.destroy(t))}setTitle(t){var s=this.childrenMap.title;return s.setTitle(t),this}preLayout(){var t=this.childrenMap.title;t&&(t.minWidth=0),super.preLayout()}};r(fy,"InputRow");let bo=fy;Object.assign(bo.prototype,bX,IX,FX);var PA=r(function(e,t,s){var h=new od(e,s);return e.add.existing(h),h},"CreateTitleLabel"),DX=r(function(e){e===void 0&&(e=Tt);const s=class s extends e{get bindingTarget(){var S=this.getParentSizer();return S.bindingTarget}get bindingKey(){var S=this.getParentSizer();return S.bindTargetKey}get value(){return this._value}get root(){var S=this.getParentSizer(),E=S.getParentSizer();return E.root}validate(S){return this.syncValueFlag||!this.validateCallback?!0:this.validateCallback(S,this._value,this.bindingTarget,this.bindingKey)}getFotmatText(S){return this.textFormatCallback?S=this.textFormatCallback(S):S=S.toString(),S}set value(S){if(this._value!==S&&(this.validate(S)||(S=this._value),this.filterValueCallback&&(S=this.filterValueCallback(this,S)),this.displayValueCallback&&this.displayValueCallback(this,S),this._value!==S)){var E=this._value;if(this._value=S,!this.syncValueFlag){var n=this.bindingTarget,T=this.bindingKey;this.emit("valuechange",S,E,n,T),this.root.emit("valuechange",S,E,n,T)}}}getValue(){return this.value}setValue(S){return this.value=S,this}syncValue(S){return this.syncValueFlag=!0,this.value=S,this.syncValueFlag=!1,this}setup(S,E){return E===void 0&&(E=!1),(E||S.hasOwnProperty("format"))&&this.setTextFormatCallback(S.format),(E||S.hasOwnProperty("onValidate"))&&this.setValidateCallback(S.onValidate),this.setupCallback&&this.setupCallback(this,S,E),this}setSetupCallback(S){return this.setupCallback=S,this}setFilterValueCallback(S){return this.filterValueCallback=S,this}setDisplayValueCallback(S){return this.displayValueCallback=S,this}setTextFormatCallback(S){return this.textFormatCallback=S,this}setValidateCallback(S){return this.validateCallback=S,this}};r(s,"InputFiled");let t=s;return t},"GenerateInputFieldClass"),BX=r(function(e,t,s){for(var h,S=this.inputHandlers,E=0,n=S.length;E<n;E++){var T=S[E];if(T.accept(t)){var i=DX(T.baseClass);h=new i(e),e.add.existing(h),h.setSetupCallback(T.setup).setFilterValueCallback(T.filterValue).setDisplayValueCallback(T.displayValue),T.build(h,s);break}}return h&&h.setup(t,!0),h},"CreateInputField");const I1=Phaser.Utils.Objects.GetValue;var GX=r(function(e,t,s){var h=BX.call(this,e,t,s);if(!h)return null;var S=I1(s,"title")||{},E=PA(e,t,S),n=I1(s,"background")||{},T=Fe(e,n),i=new bo(e,{...s,...t,inputTitle:E,inputField:h,background:T});return e.add.existing(i),i.setTitle(t),i.setValueCallbacks(t),i},"CreateInputRow"),NX=r(function(e,t,s){arguments.length===1?(s=e,e=s.bindingTarget,t=s.bindingKey):(s===void 0&&(s={}),s.bindingTarget=e,s.bindingKey=t),s.title||(s.title=t),s.bindingTarget&&s.bindingKey?s.value=s.bindingTarget[s.bindingKey]:s.value=void 0;var h=this.styles.inputRow||{};h.parentOrientation=this.styles.orientation;var S=GX.call(this,this.scene,s,h);if(!S)return console.error(`[Tweaker] Can't add Input
    title: ${s.title}
    view: ${s.view}
`),this;var E=S.childrenMap.inputField,n;return this.orientation===1?n=0:(n=this.itemWidth>0?0:1,S.setMinWidth(this.itemWidth)),this.add(S,{proportion:n,expand:!0}),s.onValueChange&&E.on("valuechange",s.onValueChange),S.setAutoUpdateEnable(s.autoUpdate),S.setBindingTarget(e,t),s.monitor&&S.startMonitorTarget(),s.key&&this.root.addChildrenMap(s.key,S),this},"AddInput"),UX=r(function(e,t){var s=new Ir(e,t);return e.add.existing(s),s},"CreateRoundRectangle");const VX=Phaser.Utils.Objects.GetValue;var WX=r(function(e,t){var s=VX(t,"wrap",!1),h=s?Ui:oe,S=new h(e,t);return e.add.existing(S),S},"CreateButtons$2");const eu=Phaser.Utils.Objects.GetValue;var zX=r(function(e,t,s){for(var h=eu(s,"title")||{},S=PA(e,t,h),E=t.buttons,n=eu(s,"button")||{},T=[],i=0,f=E.length;i<f;i++){var y=De(e,n);T.push(y);var c=E[i];y.resetDisplayContent(c.label),y.callback=c.callback}var o=WX(e,{buttons:T,expand:!0,wrap:eu(t,"wrap",!1)});o.defaultProportion=1;var l=eu(s,"background")||{},a=UX(e,l),u=new bo(e,{...s,inputTitle:S,inputField:o,background:a});return e.add.existing(u),u.setTitle(t),o.on("button.click",function(v){v.callback(u.bindingTarget)}),u},"CreateButtons$1");const YX=Phaser.Utils.Objects.GetValue;var kX=r(function(e){var t=this.scene;e===void 0&&(e={});var s=e.bindingTarget;delete e.bindingTarget;var h=YX(this.styles,"inputRow")||{},S=zX(t,e,h);return this.add(S,{expand:!0}),s&&S.setBindingTarget(s),e.key&&this.root.addChildrenMap(e.key,S),this},"AddButtons"),HX=r(function(e){return e===void 0&&(e={}),e.buttons=[{label:e.label,callback:e.callback}],delete e.label,delete e.callback,this.addButtons(e),this},"AddButton");const XX=Phaser.Utils.Objects.GetValue;var $X=r(function(e){var t=this.scene,s=XX(this.styles,"separator"),h=Mg(t,e,s);return this.add(h,{expand:!0}),this},"AddSeparator"),KX=r(function(e,t,s){return typeof t=="boolean"&&(s=t,t=void 0),s===void 0&&(s=!0),qv(this,ce(e),t,s),this},"AddRows"),qv=r(function(e,t,s,h){if(t)for(var S=0,E=t.length;S<E;S++){var n=t[S];n.hasOwnProperty("$target")&&(s=n.$target,delete n.$target);var T=n.$type;switch(delete n.$type,T){case"folder":var i=e.addFolder(n);qv(i,n.$properties,s,h);break;case"tab":for(var f=e.addTab(n),y=0,c=f.length;y<c;y++)qv(f[y],n.pages[y].$properties,s,h);break;case"separator":e.addSeparator();break;case"button":n.bindingTarget=s,e.addButton(n);break;case"buttons":n.bindingTarget=s,e.addButtons(n);break;default:var o=n.$key;if(delete n.$key,o.indexOf(".")===-1)n.bindingTarget=s,n.bindingKey=o;else{var l=o.split(".");n.bindingKey=l.pop();for(var a=s,u=0,v=l.length;u<v;u++)if(a=a[l[u]],!s){console.warn(`[Monitor] Key path '${o}' is invalid`);continue}n.bindingTarget=a}n.hasOwnProperty("monitor")||(n.monitor=h),e.addInput(n);break}}},"AddProperties"),ZX=r(function(e){for(var t=this.sizerChildren,s=0,h=t.length;s<h;s++){var S=t[s];S.setBindingTarget&&S.setBindingTarget(e)}return this},"SetBindingTarget"),JX=r(function(){for(var e=0,t=this.sizerChildren,s=0,h=t.length;s<h;s++){var S=t[s];S.rexSizer.hidden||(S.getMinTitleWidth?e=Math.max(e,S.getMinTitleWidth()):S.getMaxInputRowTitleWidth&&(e=Math.max(e,S.getMaxInputRowTitleWidth())))}return e+this.getInnerPadding("left")},"GetMaxInputRowTitleWidth"),QX=r(function(e){e-=this.getInnerPadding("left");for(var t=this.sizerChildren,s=0,h=t.length;s<h;s++){var S=t[s];S.rexSizer.hidden||(S.setMinTitleWidth?S.setMinTitleWidth(e):S.setInputRowTitleWidth&&S.setInputRowTitleWidth(e))}return this},"SetInputRowTitleWidth"),jX={registerInputHandler:yX,removeInputHandler:CX,addFolder:AX,addTab:MX,addInput:NX,addButtons:kX,addButton:HX,addSeparator:$X,addRows:KX,setBindingTarget:ZX,getMaxInputRowTitleWidth:JX,setInputRowTitleWidth:QX};const iu=Phaser.Utils.Objects.GetValue,cy=class cy extends Tt{constructor(t,s){if(s===void 0&&(s={}),s.orientation===void 0&&(s.orientation=1),super(t,s),this.type="rexTweakerShell",this.root=s.root||this,this.styles=iu(s,"styles")||{},this.styles.orientation=this.orientation,this.itemWidth=iu(this.styles,"itemWidth",0),this.root===this&&this.orientation===1){var h=iu(s,"inputRow.alignTitle");if(h===void 0){var S=iu(this.styles,"inputRow.proportion.title");h=!S}else h&&it(this.styles,"inputRow.proportion.title",0);this.alignInputRowTitle=h}else this.alignInputRowTitle=!1,this.inputHandlers=this.root.inputHandlers;var E=Mg(t,void 0,s.background);E&&this.addBackground(E)}preLayout(){super.preLayout(),this.alignInputRowTitle&&this.setInputRowTitleWidth(this.getMaxInputRowTitleWidth())}};r(cy,"TweakerShell");let Io=cy;Object.assign(Io.prototype,jX);var qX=r(function(e,t){t===void 0&&(t=!0);var s=e.childrenMap.inputText;s.setReadOnly(t)},"SetInputTextReadOnly$4");const _X={name:"TextInput",accept(e){return e.hasOwnProperty("view")?e.view==="string":typeof e.value=="string"},build(e,t){var s=e.scene;e.type="rexTweaker.TextInput";var h=t.inputText,S=Za(s,h);e.add(S,{proportion:1,expand:!0,key:"inputText"}),S.on("close",function(){e.setValue(S.value)})},setup(e,t,s){(s||t.hasOwnProperty("inputTextReadOnly"))&&qX(e,!!t.inputTextReadOnly)},displayValue(e,t){var s=e.childrenMap.inputText;s.setText(e.getFotmatText(t))}};var t$=r(function(e,t,s){s===void 0&&(s=!0),s?t=t?ce(t):{}:t||(t={});var h=new Na(e,t);return e.add.existing(h),h},"CreateInputTextArea"),e$=r(function(e,t){t===void 0&&(t=!0);var s=e.childrenMap.inputText;s.setReadOnly(t)},"SetInputTextReadOnly$3");const i$={name:"TextAreaInput",accept(e){return e.hasOwnProperty("view")?e.view==="textarea":!1},build(e,t){var s=e.scene;this.type="rexTweaker.TextAreaInput";var h=t.inputTextArea;h===void 0&&(h={}),h.hasOwnProperty("text")||(h.text=t.inputText),h.hasOwnProperty("slider")||(h.slider=t.slider);var S=t$(s,h);e.add(S,{proportion:1,expand:!0,key:"inputText"}),S.on("close",function(){e.setValue(S.value)})},setup(e,t,s){(s||t.hasOwnProperty("inputTextReadOnly"))&&e$(e,!!t.inputTextReadOnly)},displayValue(e,t){var s=e.childrenMap.inputText;s.setText(e.getFotmatText(t))}};var s$=r(function(e,t){t===void 0&&(t=!0);var s=e.childrenMap.inputText;s.setReadOnly(t)},"SetInputTextReadOnly$2");const r$={name:"NumberInput",accept(e){return e.hasOwnProperty("view")?e.view==="number":typeof e.value=="number"},build(e,t){var s=e.scene;e.type="rexTweaker.NumberInput";var h=t.inputNumber||t.inputText,S=Za(s,h).setNumberInput();e.add(S,{proportion:1,expand:!0,key:"inputText"}),S.on("close",function(){e.setValue(S.value)})},setup(e,t,s){(s||t.hasOwnProperty("inputTextReadOnly"))&&s$(e,!!t.inputTextReadOnly),e.isFloatType=!t.int},filterValue(e,t){return e.isFloatType?t:Math.floor(t)},displayValue(e,t){var s=e.childrenMap.inputText;s.setText(e.getFotmatText(t))}};var n$=r(function(e,t){var s=new Us(e,t);return e.add.existing(s),s},"CreateSlider");const Gc=Phaser.Utils.Objects.GetValue,a$=Phaser.Math.Linear,h$=Phaser.Math.Snap.Floor;var o$=r(function(e,t,s,h){e.minValue=t,e.maxValue=s,e.step=h;var S=e.childrenMap.slider;S.setGap(h,t,s)},"SetRange"),l$=r(function(e,t){t===void 0&&(t=!0);var s=e.childrenMap.inputText;s.setReadOnly(t)},"SetInputTextReadOnly$1");const u$={name:"RangeInput",accept(e){return e.hasOwnProperty("view")?e.view==="range":typeof e.value=="number"&&e.hasOwnProperty("min")&&e.hasOwnProperty("max")},build(e,t){var s=e.scene;e.type="rexTweaker.RangeInput";var h=t.slider,S=e.orientation===0?"track.height":"track.width",E=Gc(h,S),n=n$(s,h),y=t.parentOrientation===1?2:0,c=Gc(t,"proportion.range.slider",y),T=E===void 0;e.add(n,{proportion:c,expand:T,key:"slider"});var i=t.inputNumber||t.inputText,f=Za(s,i).setNumberInput(),y=t.parentOrientation===1?1:0,c=Gc(t,"proportion.range.inputText",y);e.add(f,{proportion:c,expand:!0,key:"inputText"}),f.on("close",function(){e.setValue(f.value)}),n.on("valuechange",function(){var o=a$(e.minValue,e.maxValue,n.value);e.step&&(o=h$(o,e.step,e.minValue)),e.setValue(o)})},setup(e,t,s){(s||t.hasOwnProperty("max"))&&o$(e,t.min,t.max,t.step),(s||t.hasOwnProperty("inputTextReadOnly"))&&l$(e,!!t.inputTextReadOnly)},displayValue(e,t){var s=e.childrenMap.slider;s.setValue(t,e.minValue,e.maxValue);var h=e.childrenMap.inputText;h.setText("").setText(e.getFotmatText(t))}};var RA=r(function(e,t){var s=new oe(e,t);return e.add.existing(s),s},"CreateButtons");const d$=Phaser.Utils.Objects.GetValue;var f$=r(function(e,t){t===void 0&&(t=!0);var s=e.childrenMap.inputText;s.setReadOnly(t)},"SetInputTextReadOnly");const c$={name:"RangeInput",accept(e){return e.hasOwnProperty("view")?e.view==="incdec":!1},build(e,t){var s=e.scene;e.type="rexTweaker.IncDecInput";var h=d$(t,"incDec")||{},S={text:null,action:null},E=RA(s,{expand:!1}),n=t.parentOrientation===1?1:0;e.add(E,{proportion:n,expand:!0});var T=t.inputNumber||t.inputText,i=Za(s,T).setNumberInput();i.on("close",function(){e.setValue(i.value)});var f=Object.assign(ce(S),h.incButton||{}),y=De(s,f),c=Object.assign(ce(S),h.decButton||{}),o=De(s,c);E.addButton(y),E.addButton(o);var l=h.inputTextIndex||0;E.insert(l,i,{proportion:1,expand:!0}),e.step=1,e.minValue=void 0,e.maxValue=void 0,E.on("button.click",function(a,u,v,d){var p=e.value;u===0?p+=e.step:p-=e.step,e.maxValue!==void 0&&p>e.maxValue&&(p=e.maxValue),e.minValue!==void 0&&p<e.minValue&&(p=e.minValue),e.setValue(p)}),e.addChildrenMap("incButton",y),e.addChildrenMap("decButton",o),e.addChildrenMap("inputText",i)},setup(e,t,s){(s||t.hasOwnProperty("inputTextReadOnly"))&&f$(e,!!t.inputTextReadOnly),(s||t.hasOwnProperty("step"))&&(e.step=t.hasOwnProperty("step")?t.step:1),(s||t.hasOwnProperty("min"))&&(e.minValue=t.min),(s||t.hasOwnProperty("max"))&&(e.maxValue=t.max)},displayValue(e,t){var s=e.childrenMap.inputText;s.setText("").setText(e.getFotmatText(t))}};var v$=r(function(e,t,s){s===void 0&&(s=!0),s?t=t?ce(t):{}:t||(t={});var h=new Ua(e,t);return e.add.existing(h),h},"CreateColorInput");const p$={name:"ColorInput",accept(e){return e.hasOwnProperty("view")?e.view==="color":!1},build(e,t){var s=e.scene;e.type="rexTweaker.ColorInput";var h=t.colorInput;h===void 0&&(h={}),h.hasOwnProperty("inputText")||(h.inputText=t.inputText);var S=v$(s,h);e.add(S,{proportion:1,expand:!0,key:"colorInput"}),S.on("valuechange",function(E){e.setValue(E)})},displayValue(e,t){var s=e.childrenMap.colorInput;s.setValue(t)}};var g$=r(function(e,t){var s=new $h(e,t);return e.add.existing(s),s},"CreateCheckbox");const m$={name:"CheckboxInput",accept(e){return e.hasOwnProperty("view")?e.view==="boolean":typeof e.value=="boolean"},build(e,t){var s=e.scene;e.type="rexTweaker.CheckboxInput";var h=t.checkbox,S=g$(s,h),E=h.size;E!==void 0&&S.setSize(E,E);var n=E!==void 0?0:1;e.add(S,{proportion:0,expand:!1,fitRatio:n,key:"checkbox"}),S.on("valuechange",function(T){e.setValue(T)})},displayValue(e,t){var s=e.childrenMap.checkbox;s.setValue(t)}};var x$=r(function(e,t){var s=new Kh(e,t);return e.add.existing(s),s},"CreateToggleSwitch");const y$={name:"ToggleSwitchInput",accept(e){return e.hasOwnProperty("view")?e.view==="toggleSwitch":!1},build(e,t){var s=e.scene;e.type="rexTweaker.ToggleSwitchInput";var h=t.toggleSwitch,S=x$(s,h),E=h.size;E!==void 0&&S.setSize(E,E);var n=E!==void 0?0:1;e.addSpace().add(S,{proportion:0,expand:!1,fitRatio:n,key:"toggleSwitch"}),S.on("valuechange",function(T){e.setValue(T)})},displayValue(e,t){var s=e.childrenMap.toggleSwitch;s.setValue(t)}};var S$=r(function(e,t){t=qR(e,t);var s=new Mr(e,t);return e.add.existing(s),s},"CreateDropDownList"),AA=r(function(e,t){for(var s=0,h=e.length;s<h;s++){var S=e[s];if(S.value===t)return s}},"GetOptionIndex"),T$=r(function(e,t){var s=AA(e,t);if(s!=null)return e[s]},"GetOption"),C$=r(function(e,t){var s=e.childrenMap.list;s.setOptions(t)},"SetOptions$1");const E$={name:"ListInput",accept(e){return e.hasOwnProperty("view")?e.view==="list":e.hasOwnProperty("options")},build(e,t){var s=e.scene;e.type="rexTweaker.ListInput";var h=S$(s,t.list);e.add(h,{proportion:1,expand:!0,key:"list"}),h.on("button.click",function(S,E,n,T,i,f){e.setValue(n.value)})},setup(e,t,s){(s||t.hasOwnProperty("options"))&&C$(e,t.options)},displayValue(e,t){var s=e.childrenMap.list,h=T$(s.options,t);s.resetDisplayContent(h).setMinSize(s.width,s.height).layout().setMinSize(0,0)}};var P$=r(function(e,t){for(var s=0,h=e.length;s<h;s++){var S=e[s];S&&S.setActiveState(s===t)}},"SetButtonsActiveStateByIndex");const R$=Phaser.Utils.Objects.GetValue;var A$=r(function(e,t){var s=e.childrenMap.list;s.options=t;var h=e.scene,S=s.buttonConfig;s.clearButtons(!0);for(var E=0,n=t.length;E<n;E++){var T=t[E],i=De(h,S).setActiveState(!1).resetDisplayContent({text:T.text});s.addButton(i)}},"SetOptions");const L$={name:"ButtonsInput",accept(e){return e.hasOwnProperty("view")?e.view==="buttons":!1},build(e,t){var s=e.scene;e.type="rexTweaker.ButtonsInput";var h=t.button?ce(t.button):{},S=R$(h,"expand",!0);S&&(h.align="center"),delete h.expand;var E=RA(s,{expand:S});E.buttonConfig=h,e.add(E,{proportion:1,expand:!0,key:"list"}),E.on("button.click",function(n,T,i,f){var y=E.options[T];y&&(e._selectedIndex=T,e.setValue(y.value),e._selectedIndex=void 0)})},setup(e,t,s){(s||t.hasOwnProperty("options"))&&A$(e,t.options)},displayValue(e,t){var s=e.childrenMap.list,h=e._selectedIndex;h===void 0&&(h=AA(s.options,t)),P$(s.childrenMap.buttons,h)}};var O$=r(function(){this.registerInputHandler(_X).registerInputHandler(i$).registerInputHandler(r$).registerInputHandler(u$).registerInputHandler(c$).registerInputHandler(p$).registerInputHandler(m$).registerInputHandler(y$).registerInputHandler(E$).registerInputHandler(L$)},"RegisterDefaultInputHandlers");const vy=class vy extends Io{constructor(t,s){s===void 0&&(s={}),s.hasOwnProperty("style")&&(s.styles=s.style),s.styles===void 0&&(s.styles={}),s.background=s.styles.background||{},s.space=s.styles.space||{},super(t,s),this.type="rexTweaker",this.inputHandlers=[],O$.call(this)}destroy(t){!this.scene||this.ignoreDestroy||(super.destroy(t),this.inputHandlers=void 0)}};r(vy,"Tweaker");let dd=vy;st.register("tweaker",function(e){var t=new dd(this.scene,e);return this.scene.add.existing(t),t});it(window,"RexPlugins.UI.Tweaker",dd);st.register("click",function(e,t){return new us(e,t)});it(window,"RexPlugins.UI.Click",us);st.register("clickOutside",function(e,t){return new io(e,t)});it(window,"RexPlugins.UI.ClickOutside",io);st.register("inTouching",function(e,t){return new Ns(e,t)});it(window,"RexPlugins.UI.InTouching",Ns);st.register("tap",function(e,t){return Be(e)||(t=e,e=this.scene),new Sa(e,t)});it(window,"RexPlugins.UI.Tap",Sa);st.register("press",function(e,t){return Be(e)||(t=e,e=this.scene),new Ta(e,t)});it(window,"RexPlugins.UI.Press",Ta);st.register("swipe",function(e,t){return Be(e)||(t=e,e=this.scene),new Sr(e,t)});it(window,"RexPlugins.UI.Swipe",Sr);st.register("pan",function(e,t){return Be(e)||(t=e,e=this.scene),new Wu(e,t)});it(window,"RexPlugins.UI.Pan",Wu);st.register("drag",function(e,t){return new wo(e,t)});it(window,"RexPlugins.UI.Drag",wo);st.register("pinch",function(e){return new zu(this.scene,e)});it(window,"RexPlugins.UI.Pinch",zu);st.register("rotate",function(e){return new ro(this.scene,e)});it(window,"RexPlugins.UI.Rotate",ro);const w$=Phaser.Utils.Objects.IsPlainObject,F1=Phaser.Utils.Objects.GetValue;var D1=r(function(e,t,s){var h;if(e===void 0)e=s.texture.key,t=s.frame.name;else if(w$(e)){var S=e;e=F1(S,"key",s.texture.key),t=F1(S,"frame",s.frame.name)}else typeof e=="string"||(h=e);return h===void 0&&(h=r(function(E){E.setTexture(e,t)},"callback")),h},"GetFrameUpdatingCallback");const Ch=Phaser.Utils.Objects.GetValue,M$=Phaser.Utils.Objects.GetAdvancedValue,b$=Phaser.Math.Linear,py=class py extends ss{constructor(t,s){super(t,s),this.resetFromJSON(s),this.boot()}resetFromJSON(t){return super.resetFromJSON(t),this.setDuration(M$(t,"duration",500)),this.setEase(Ch(t,"ease","Sine")),this.setOrientation(Ch(t,"orientation",0)),this.setFrontFace(Ch(t,"front",void 0)),this.setBackFace(Ch(t,"back",void 0)),this.setFace(Ch(t,"face",0)),this}setOrientation(t){return typeof t=="string"&&(t=I$[t]),this.orientation=t,this}get face(){return this._face}set face(t){typeof t=="string"&&(t=F$[t]),this._face=t,t===0&&this.frontFaceCallback?this.frontFaceCallback(this.parent):t===1&&this.backFaceCallback&&this.backFaceCallback(this.parent)}setFace(t){return this.face=t,this}toggleFace(){var t=this.face===0?1:0;return this.setFace(t),this}setFrontFace(t,s){return this.frontFaceCallback=D1(t,s,this.parent),this}setBackFace(t,s){return this.backFaceCallback=D1(t,s,this.parent),this}start(){if(this.timer.isRunning)return this;var t=this.parent;return this.orientation===0?this.scale0=t.scaleX:this.scale0=t.scaleY,this.timer.setDelay(this.delay).setDuration(this.duration/2).setRepeat(1),super.start(),this}flip(t){return this.isRunning?this:(t!==void 0&&this.setDuration(t),this.start(),this)}updateTarget(t,s){s.justRestart&&this.toggleFace();var h=s.t;s.isOddIteration&&(h=1-h),h=this.easeFn(h);var S=b$(this.scale0,0,h);this.orientation===0?t.scaleX=S:t.scaleY=S}};r(py,"Flip");let fd=py;const I$={x:0,horizontal:0,y:1,vertical:1},F$={front:0,back:1};st.register("flip",function(e,t){return new fd(e,t)});it(window,"RexPlugins.UI.Flip",fd);st.register("shake",function(e,t){return new _h(e,t)});it(window,"RexPlugins.UI.Shake",_h);st.register("touchEventStop",function(e,t){return new xa(e,t)});it(window,"RexPlugins.UI.TouchEventStop",xa);st.register("perspective",function(e,t){return new sd(e,t)});it(window,"RexPlugins.UI.Perspective",sd);const LA=Phaser.Math.RotateAround;var Nc=r(function(e,t,s){var h=e.width/2,S=e.height/2;return ge.x=t-h,ge.y=s-S,LA(ge,0,0,e.rotation),ge.x*=e.scaleX,ge.y*=e.scaleY,ge.x+=e.x,ge.y+=e.y,ge},"LocalXYToWorldXY"),D$=r(function(e,t,s){var h=e.width/2,S=e.height/2;return ge.x=t-e.x,ge.y=s-e.y,ge.x/=e.scaleX,ge.y/=e.scaleY,LA(ge,0,0,-e.rotation),ge.x+=h,ge.y+=S,ge},"WorldXYToLocalXY"),ge={x:0,y:0};const gy=class gy{constructor(t,s){this.parent=t,this.vertex=s,this._localX=void 0,this._localY=void 0}destroy(){this.parent=void 0,this.vertex=void 0}updateVertexPosition(t,s){var h=this.parent,S=h.height,E=h.frame.cutWidth/S/2,n=h.frame.cutHeight/S/2,T=t/S-E,i=s/S-n,f=this.vertex;return f.x=T,f.y=-i,h.forceUpdate(),this}get localX(){return this._localX}set localX(t){this.setLocalXY(t,this._localY)}get localY(){return this._localY}set localY(t){this.setLocalXY(this._localX,t)}get localXOrigin(){return this._localXOrigin}get localYOrigin(){return this._localYOrigin}resetLocalXY(t,s){return this._localXOrigin=t,this._localYOrigin=s,this._localX=t,this._localY=s,this}setLocalXY(t,s,h){return this._localX===t&&this._localY===s?this:(this._localX=t,this._localY=s,h||this.updateVertexPosition(t,s),this)}setWorldXY(t,s){if(this._worldX===t&&this._worldY===s)return this;var h=D$(this.parent,t,s);return this.setLocalXY(h.x,h.y),this}setPosition(t,s){return this.setWorldXY(t,s),this}getWorldXY(){return Nc(this.parent,this._localX,this._localY)}get x(){var t=Nc(this.parent,this._localX,this._localY);return t.x}set x(t){this.setWorldXY(t,this.y)}get y(){var t=Nc(this.parent,this._localX,this._localY);return t.y}set y(t){this.setWorldXY(this.x,t)}};r(gy,"ControlPoint");let _v=gy;const B$=Phaser.Geom.Mesh.Vertex,G$=Phaser.Geom.Mesh.Face;var N$=r(function(e){for(var t=e.isNinePointMode,s=t?9:4,h=e.vertices,S=e.faces,E=e.controlPoints,n=0;n<s;n++){var T=new B$;h.push(T),E.push(new _v(e,T))}var i;t?i=W$:e.fourPointsModeRTL?i=V$:i=U$;for(var n=0,f=i.length;n<f;n+=3){var y=h[i[n+0]],c=h[i[n+1]],o=h[i[n+2]];S.push(new G$(y,c,o))}t?(e.topLeft=E[0],e.topCenter=E[1],e.topRight=E[2],e.centerLeft=E[3],e.center=E[4],e.centerRight=E[5],e.bottomLeft=E[6],e.bottomCenter=E[7],e.bottomRight=E[8]):(e.topLeft=E[0],e.topRight=E[1],e.bottomLeft=E[2],e.bottomRight=E[3])},"InitFaces");const U$=[0,2,3,0,3,1],V$=[1,3,2,1,2,0],W$=[0,3,4,0,4,1,1,4,2,4,5,2,3,6,4,6,7,4,4,7,8,4,8,5];var z$=r(function(e){var t,s=0,h=e.height,S=0,E=e.width;if(e.isNinePointMode){var n=(S+E)/2,T=(s+h)/2;t=[S,s,n,s,E,s,S,T,n,T,E,T,S,h,n,h,E,h]}else t=[S,s,E,s,S,h,E,h];return t},"GetPointPosition");const Y$=Phaser.Utils.Objects.IsPlainObject,ln=Phaser.Utils.Objects.GetValue;var oa;let k$=(oa=class extends ed{constructor(t,s,h,S,E,n){Y$(s)&&(n=s,s=ln(n,"x",0),h=ln(n,"y",0),S=ln(n,"key",null),E=ln(n,"frame",null)),super(t,s,h,S,E),this.type="rexQuadImage",this.isNinePointMode=ln(n,"ninePointMode",!1),this.fourPointsModeRTL=ln(n,"rtl",!1),this.controlPoints=[],N$(this),this.hideCCW=!1,this.syncSize()}destroy(t){if(!(!this.scene||this.ignoreDestroy)){super.destroy(t);for(var s=0,h=this.controlPoints.length;s<h;s++)this.controlPoints[s].destroy();this.controlPoints=void 0}}resetVerts(){this.dirtyCache[9]=-1;for(var t=z$(this),s=this.width,h=this.height,S=this.frame.cutWidth/h/2,E=this.frame.cutHeight/h/2,n=this.frame.u0,T=this.frame.u1,i=this.frame.v0,f=this.frame.v1,y=T-n,c=f-i,o=this.controlPoints,l=0,a=t.length;l<a;l+=2){var u=t[l+0],v=t[l+1],d=l/2,p=u/h-S,g=v/h-E,m=n+y*(u/s),x=i+c*(v/h);this.vertices[d].set(p,-g,0).setUVs(m,x),o[d].resetLocalXY(u,v)}return this}syncSize(){return this.setSizeToFrame(),this.setOrtho(this.width/this.height,1),this.resetVerts(),this}},r(oa,"Image"),oa);Phaser.Utils.Objects.IsPlainObject;Phaser.Utils.Objects.GetValue;var B1=r(function(e,t,s){t===void 0&&(t=0),s===void 0&&(s=0);for(var h=e.width,S=e.height,E=h*.5,n=S*.5,T=Math.tan(t)*n,i=Math.tan(s)*E,f=e.controlPoints,y=0,c=f.length;y<c;y++){var o=f[y],l=o.localXOrigin,a=o.localYOrigin;o.localX=l+(a>n?T:-T),o.localY=a+(l>E?i:-i)}},"Skew");const H$=Phaser.Utils.Objects.IsPlainObject,su=Phaser.Utils.Objects.GetValue,G1=Phaser.Math.DegToRad,N1=Phaser.Math.RadToDeg,my=class my extends k${constructor(t,s,h,S,E){if(H$(s)){var n=s;s=su(n,"x",0),h=su(n,"y",0),S=su(n,"key",null),E=su(n,"frame",null)}super(t,s,h,S,E),this.type="rexSkewmage",this._skewX=0,this._skewY=0}get skewX(){return this._skewX}set skewX(t){this._skewX=t,B1(this,this._skewX,this._skewY)}get skewXDeg(){return N1(this._skewX)}set skewXDeg(t){this.skewX=G1(t)}get skewY(){return this._skewY}set skewY(t){this._skewY=t,B1(this,this._skewX,this._skewY)}get skewYDeg(){return N1(this._skewY)}set skewYDeg(t){this.skewY=G1(t)}setSkewX(t){return this.skewX=t,this}setSkewY(t){return this.skewY=t,this}setSkew(t,s){return s===void 0&&(s=t),this.skewX=t,this.skewY=s,this}setSkewXDeg(t){return this.skewXDeg=t,this}setSkewYDeg(t){return this.skewYDeg=t,this}setSkewDeg(t,s){return s===void 0&&(s=t),this.skewXDeg=t,this.skewYDeg=s,this}};r(my,"SkewImage");let tp=my;const X$=Phaser.Utils.Objects.IsPlainObject,ru=Phaser.Utils.Objects.GetValue,xy=class xy extends tp{constructor(t,s,h,S,E){if(X$(s)){var n=s;s=ru(n,"x",0),h=ru(n,"y",0),S=ru(n,"width",32),E=ru(n,"height",32)}var T=aA(t,S,E);super(t,s,h,T,null),this.type="rexSkewRenderTexture",this.rt=this.texture}destroy(t){!this.scene||this.ignoreDestroy||(super.destroy(t),this.rt.destroy(),this.rt=null)}};r(xy,"SkewRenderTexture");let ep=xy;const yy=class yy extends oA(ep){get skewState(){return this.isRunning}};r(yy,"ContainerSkew");let cd=yy;st.register("skew",function(e,t){return new cd(e,t)});it(window,"RexPlugins.UI.Skew",cd);st.register("anchor",function(e,t){return new jh(e,t)});it(window,"RexPlugins.UI.Anchor",jh);st.register("textTyping",function(e,t){return new Da(e,t)});it(window,"RexPlugins.UI.TextTyping",Da);st.register("textPage",function(e,t){return new Fa(e,t)});it(window,"RexPlugins.UI.TextPage",Fa);var pn=void 0,$$=r(function(e){e!==pn&&(pn!==void 0&&pn.close(),pn=e)},"SetLastOpenedEditor"),K$=r(function(e){e===pn&&(pn=void 0)},"CloseLastOpenEditor");const Mi=Phaser.Utils.Objects.GetValue,Z$=Phaser.Utils.Objects.Clone;var J$=r(function(e,t){t===void 0&&(t={}),t=Z$(t);var s=e.scene,h=e.style,S=Mi(t,"backgroundColor",h.backgroundColor);S===null&&(S="transparent"),t.text=Mi(t,"text",e.text),t.fontFamily=Mi(t,"fontFamily",h.fontFamily),t.fontSize=Mi(t,"fontSize",h.fontSize),t.color=Mi(t,"color",h.color),t.backgroundColor=S,t.direction=Mi(t,"rtl",h.rtl)?"rtl":"ltr",t.align=Mi(t,"align",Q$(h)),t.direction==="rtl"&&yg(e)&&(t.align="right");var E=e.padding;E.left>0&&(t.paddingLeft=`${E.left}px`),E.right>0&&(t.paddingRight=`${E.right}px`),h.backgroundCornerRadius&&(t.borderRadius=Mi(t,"borderRadius",`${h.backgroundCornerRadius}px`));var n=new as(s,e.x,e.y,Mi(t,"width",e.width),Mi(t,"height",e.height),t);n.setScale(e.scaleX,e.scaleY).setOrigin(e.originX,e.originY).setScrollFactor(e.scrollFactorX,e.scrollFactorY);var T=e.parentContainer;return T?T.add(n):s.add.existing(n),n},"CreateInputText"),Q$=r(function(e){return e.hasOwnProperty("align")?e.align:e.hasOwnProperty("halign")?e.halign:"left"},"GetHAlign"),j$=r(function(e,t,s){return e.time.delayedCall(0,t,[],s)},"NextTick");const un=Phaser.Utils.Objects.GetValue,q$=Phaser.Utils.Objects.Merge;var _$=r(function(e,t){e===void 0&&(e={}),e=q$(e,this.openConfig),$$(this),ns(e)&&(t=e,e=void 0);var s=un(e,"inputType",void 0);s===void 0&&(s=un(e,"type","text")),t===void 0&&(t=un(e,"onClose",void 0));var h=un(e,"onOpen",void 0),S=un(e,"onTextChanged",void 0);return this.inputText=J$(this.parent,e).on("textchange",function(E){var n=E.text;S?S(this.parent,n):this.parent.text=n},this).setFocus(),this.parent.setVisible(!1),this.onClose=t,un(e,"enterClose",s!=="textarea")&&this.scene.input.keyboard.once("keydown-ENTER",this.close,this),this.delayCall=j$(this.scene,function(){this.scene.input.once("pointerdown",this.close,this),h&&h(this.parent),this.emit("open",this.parent)},this),this},"Open"),tK=r(function(){return K$(this),this.parent.setVisible(!0),this.inputText&&(this.inputText.destroy(),this.inputText=void 0),this.delayCall&&(this.delayCall.remove(),this.delayCall=void 0),this.scene.input.keyboard.off("keydown-ENTER",this.close,this),this.scene.input.off("pointerdown",this.close,this),this.onClose&&this.onClose(this.parent),this.emit("close",this.parent),this},"Close"),eK={open:_$,close:tK};const iK=Phaser.Utils.Objects.GetValue,Sy=class Sy extends Gt{constructor(t,s){super(t),this.inputText=void 0,this.onClose=void 0,this.delayCall=void 0,this.setOpenConfig(s);var h=iK(s,"clickEnable",!0);h&&t.on("pointerdown",function(){this.open()},this).setInteractive()}shutdown(t){this.isShutdown||(this.close(),super.shutdown(t))}setOpenConfig(t){return t===void 0&&(t={}),this.openConfig=t,this}get isOpened(){return this.inputText!==void 0}get text(){return this.isOpened?this.inputText.text:this.parent.text}};r(Sy,"TextEdit");let Va=Sy;Object.assign(Va.prototype,eK);var sK=r(function(e,t,s){return e._edit||(e._edit=new Va(e,{clickEnable:!1})),e._edit.open(t,s),e._edit},"Edit");st.register("textEdit",function(e,t){return new Va(e,t)});it(window,"RexPlugins.UI.TextEdit",Va);st.register("layerManager",function(e){return new da(this.scene,e)});it(window,"RexPlugins.UI.LayerManager",da);const Uc=65535;var vd=r(function(e,t,s){if(t==null)return e;if(t===0)return Vc(e,0,s),e;var h=e.text.length;if(h===0)return Vc(e,t,s),e;var S=Math.floor(t*1.5/h);s!==void 0&&S>s&&(S=Math.floor(s));for(var E={},n=V1(e,S,t,s,E),T=0;T<=Uc&&n!==0;T++){if(S+=n,S<0){S=0;break}n=V1(e,S,t,s,E)}return T===Uc&&console.warn(`FontSizeFit: Test count exceeds ${Uc}`),e.setFontSize(S),Vc(e,t,s),e},"FontSizeFit"),U1=r(function(e,t,s){return s[t]===void 0&&(e.setFontSize(t),s[t]={width:e.width,height:e.height}),s[t]},"GetTextSize"),V1=r(function(e,t,s,h,S){var E=U1(e,t,S),n=U1(e,t+1,S),T;if(h!==void 0)if(E.height<=h&&n.height>h)T=0;else{if(E.height>h)return-1;T=Math.floor(h-E.height)}var i;if(E.width<=s&&n.width>s)return 0;if(E.width>s)return-1;var i=Math.floor(s-E.width);return T===void 0?i:Math.min(i,T)},"TestFontSize"),Vc=r(function(e,t,s){var h=e.style;h&&(h.fixedWidth=t,h.parent.width=t,s!==void 0&&(h.fixedHeight=s,h.parent.height=s),h.update(!1))},"SetTextWidth");const Wc=Phaser.Utils.Objects.GetValue;var rK=r(function(e,t){typeof t=="number"&&(t={minWidth:t});var s=Wc(t,"minWidth",0),h=Wc(t,"minHeight",0),S=Wc(t,"fitHeight",!1);return e._minWidth=s,e._minHeight=h,S?(e.runWidthWrap=function(E){return e.setFixedSize&&e.setFixedSize(0,0),e.setFontSize(1),e},e.resize=function(E,n){return vd(e,E,n),e}):(e.runWidthWrap=function(E){return e.setFixedSize&&e.setFixedSize(0,0),vd(e,E,void 0),e},e.resize=function(E,n){return e.width===E&&e.height===n||e.setFixedSize(E,n),e}),e},"FontSizeExpandText");const Ty=class Ty extends Phaser.Plugins.ScenePlugin{constructor(t,s){super(t,s),this.add=new st(t)}boot(){var t=this.scene.events;t.on("destroy",this.destroy,this)}destroy(){this.add.destroy(),super.destroy()}isInTouching(t,s,h,S){return t.visible?yr(t,s,h,S):!1}get viewport(){return ka(this.scene,this.scene.cameras.main,!0)}};r(Ty,"UIPlugin");let pd=Ty;var nK={getParentSizer:Xe,getTopmostSizer:DP,removeFromParent:or,hide:Os,show:Ls,isShown:lg,confirmAction:kR,edit:sK,wrapExpandText:Hu,fontSizeExpandText:rK,fontSizeResize:vd,setFontSizeToFitWidth:vd,waitEvent:Bd,waitComplete:fe,delayPromise:dR,setChildrenInteractive:cg,fadeIn:Vd,fadeOutDestroy:Wd,easeMoveTo:XP,easeMoveFrom:$P,modal:ug,modalPromise:F9,modalClose:qP,requestDrag:TA,openFileChooser:cR};Object.assign(pd.prototype,nK);function aK(e,t,s,h){var S=new Is(this.scene,e,t,s,h);return this.scene.add.existing(S),S}r(aK,"Factory$2");const nu=Phaser.Utils.Objects.GetAdvancedValue,hK=Phaser.GameObjects.BuildGameObject;function oK(e,t){e===void 0&&(e={}),t!==void 0&&(e.add=t);var s=nu(e,"text",""),h=nu(e,"style",null),S=nu(e,"padding",null);S!==null&&(h.padding=S);var E=new Is(this.scene,0,0,s,h);return hK(this.scene,E,e),E.autoRound=nu(e,"autoRound",!0),E}r(oK,"Creator$2");const Cy=class Cy extends Phaser.Plugins.BasePlugin{constructor(t){super(t),t.registerGameObject("rexBBCodeText",aK,oK)}start(){var t=this.game.events;t.on("destroy",this.destroy,this)}};r(Cy,"BBCodeTextPlugin");let ip=Cy;it(window,"RexPlugins.GameObjects.BBCodeText",Is);function lK(e,t,s,h,S){var E=new as(this.scene,e,t,s,h,S);return this.scene.add.existing(E),E}r(lK,"Factory$1");const W1=Phaser.Utils.Objects.GetAdvancedValue,uK=Phaser.GameObjects.BuildGameObject;function dK(e,t){e===void 0&&(e={}),t!==void 0&&(e.add=t);var s=W1(e,"width",void 0),h=W1(e,"height",void 0),S=new as(this.scene,0,0,s,h,e);return uK(this.scene,S,e),S}r(dK,"Creator$1");const Ey=class Ey extends Phaser.Plugins.BasePlugin{constructor(t){super(t),t.registerGameObject("rexInputText",lK,dK)}start(){var t=this.game.events;t.on("destroy",this.destroy,this)}};r(Ey,"InputTextPlugin");let sp=Ey;it(window,"RexPlugins.GameObjects.InputText",as);function fK(e,t,s,h,S){var E=new Tr(this.scene,e,t,s,h,S);return this.scene.add.existing(E),E}r(fK,"Factory");const z1=Phaser.Utils.Objects.GetAdvancedValue,cK=Phaser.GameObjects.BuildGameObject;function vK(e,t){e===void 0&&(e={}),t!==void 0&&(e.add=t);var s=z1(e,"key",null),h=z1(e,"frame",null),S=new Tr(this.scene,0,0,s,h,e);return cK(this.scene,S,e),S}r(vK,"Creator");const Py=class Py extends Phaser.Plugins.BasePlugin{constructor(t){super(t),t.registerGameObject("rexTransitionImagePack",fK,vK)}boot(){var t=this.game.events;t.on("destroy",this.destroy,this)}};r(Py,"TransitionImagePackPlugin");let rp=Py;it(window,"RexPlugins.GameObjects.TransitionImagePack",Tr);var OA=(e=>(e[e.NORMAL=0]="NORMAL",e[e.ABBREVIATED=1]="ABBREVIATED",e))(OA||{}),wA=(e=>(e[e.NONE=0]="NONE",e[e.POUND=1]="POUND",e[e.KARATE_CHOP=2]="KARATE_CHOP",e[e.DOUBLE_SLAP=3]="DOUBLE_SLAP",e[e.COMET_PUNCH=4]="COMET_PUNCH",e[e.MEGA_PUNCH=5]="MEGA_PUNCH",e[e.PAY_DAY=6]="PAY_DAY",e[e.FIRE_PUNCH=7]="FIRE_PUNCH",e[e.ICE_PUNCH=8]="ICE_PUNCH",e[e.THUNDER_PUNCH=9]="THUNDER_PUNCH",e[e.SCRATCH=10]="SCRATCH",e[e.VISE_GRIP=11]="VISE_GRIP",e[e.GUILLOTINE=12]="GUILLOTINE",e[e.RAZOR_WIND=13]="RAZOR_WIND",e[e.SWORDS_DANCE=14]="SWORDS_DANCE",e[e.CUT=15]="CUT",e[e.GUST=16]="GUST",e[e.WING_ATTACK=17]="WING_ATTACK",e[e.WHIRLWIND=18]="WHIRLWIND",e[e.FLY=19]="FLY",e[e.BIND=20]="BIND",e[e.SLAM=21]="SLAM",e[e.VINE_WHIP=22]="VINE_WHIP",e[e.STOMP=23]="STOMP",e[e.DOUBLE_KICK=24]="DOUBLE_KICK",e[e.MEGA_KICK=25]="MEGA_KICK",e[e.JUMP_KICK=26]="JUMP_KICK",e[e.ROLLING_KICK=27]="ROLLING_KICK",e[e.SAND_ATTACK=28]="SAND_ATTACK",e[e.HEADBUTT=29]="HEADBUTT",e[e.HORN_ATTACK=30]="HORN_ATTACK",e[e.FURY_ATTACK=31]="FURY_ATTACK",e[e.HORN_DRILL=32]="HORN_DRILL",e[e.TACKLE=33]="TACKLE",e[e.BODY_SLAM=34]="BODY_SLAM",e[e.WRAP=35]="WRAP",e[e.TAKE_DOWN=36]="TAKE_DOWN",e[e.THRASH=37]="THRASH",e[e.DOUBLE_EDGE=38]="DOUBLE_EDGE",e[e.TAIL_WHIP=39]="TAIL_WHIP",e[e.POISON_STING=40]="POISON_STING",e[e.TWINEEDLE=41]="TWINEEDLE",e[e.PIN_MISSILE=42]="PIN_MISSILE",e[e.LEER=43]="LEER",e[e.BITE=44]="BITE",e[e.GROWL=45]="GROWL",e[e.ROAR=46]="ROAR",e[e.SING=47]="SING",e[e.SUPERSONIC=48]="SUPERSONIC",e[e.SONIC_BOOM=49]="SONIC_BOOM",e[e.DISABLE=50]="DISABLE",e[e.ACID=51]="ACID",e[e.EMBER=52]="EMBER",e[e.FLAMETHROWER=53]="FLAMETHROWER",e[e.MIST=54]="MIST",e[e.WATER_GUN=55]="WATER_GUN",e[e.HYDRO_PUMP=56]="HYDRO_PUMP",e[e.SURF=57]="SURF",e[e.ICE_BEAM=58]="ICE_BEAM",e[e.BLIZZARD=59]="BLIZZARD",e[e.PSYBEAM=60]="PSYBEAM",e[e.BUBBLE_BEAM=61]="BUBBLE_BEAM",e[e.AURORA_BEAM=62]="AURORA_BEAM",e[e.HYPER_BEAM=63]="HYPER_BEAM",e[e.PECK=64]="PECK",e[e.DRILL_PECK=65]="DRILL_PECK",e[e.SUBMISSION=66]="SUBMISSION",e[e.LOW_KICK=67]="LOW_KICK",e[e.COUNTER=68]="COUNTER",e[e.SEISMIC_TOSS=69]="SEISMIC_TOSS",e[e.STRENGTH=70]="STRENGTH",e[e.ABSORB=71]="ABSORB",e[e.MEGA_DRAIN=72]="MEGA_DRAIN",e[e.LEECH_SEED=73]="LEECH_SEED",e[e.GROWTH=74]="GROWTH",e[e.RAZOR_LEAF=75]="RAZOR_LEAF",e[e.SOLAR_BEAM=76]="SOLAR_BEAM",e[e.POISON_POWDER=77]="POISON_POWDER",e[e.STUN_SPORE=78]="STUN_SPORE",e[e.SLEEP_POWDER=79]="SLEEP_POWDER",e[e.PETAL_DANCE=80]="PETAL_DANCE",e[e.STRING_SHOT=81]="STRING_SHOT",e[e.DRAGON_RAGE=82]="DRAGON_RAGE",e[e.FIRE_SPIN=83]="FIRE_SPIN",e[e.THUNDER_SHOCK=84]="THUNDER_SHOCK",e[e.THUNDERBOLT=85]="THUNDERBOLT",e[e.THUNDER_WAVE=86]="THUNDER_WAVE",e[e.THUNDER=87]="THUNDER",e[e.ROCK_THROW=88]="ROCK_THROW",e[e.EARTHQUAKE=89]="EARTHQUAKE",e[e.FISSURE=90]="FISSURE",e[e.DIG=91]="DIG",e[e.TOXIC=92]="TOXIC",e[e.CONFUSION=93]="CONFUSION",e[e.PSYCHIC=94]="PSYCHIC",e[e.HYPNOSIS=95]="HYPNOSIS",e[e.MEDITATE=96]="MEDITATE",e[e.AGILITY=97]="AGILITY",e[e.QUICK_ATTACK=98]="QUICK_ATTACK",e[e.RAGE=99]="RAGE",e[e.TELEPORT=100]="TELEPORT",e[e.NIGHT_SHADE=101]="NIGHT_SHADE",e[e.MIMIC=102]="MIMIC",e[e.SCREECH=103]="SCREECH",e[e.DOUBLE_TEAM=104]="DOUBLE_TEAM",e[e.RECOVER=105]="RECOVER",e[e.HARDEN=106]="HARDEN",e[e.MINIMIZE=107]="MINIMIZE",e[e.SMOKESCREEN=108]="SMOKESCREEN",e[e.CONFUSE_RAY=109]="CONFUSE_RAY",e[e.WITHDRAW=110]="WITHDRAW",e[e.DEFENSE_CURL=111]="DEFENSE_CURL",e[e.BARRIER=112]="BARRIER",e[e.LIGHT_SCREEN=113]="LIGHT_SCREEN",e[e.HAZE=114]="HAZE",e[e.REFLECT=115]="REFLECT",e[e.FOCUS_ENERGY=116]="FOCUS_ENERGY",e[e.BIDE=117]="BIDE",e[e.METRONOME=118]="METRONOME",e[e.MIRROR_MOVE=119]="MIRROR_MOVE",e[e.SELF_DESTRUCT=120]="SELF_DESTRUCT",e[e.EGG_BOMB=121]="EGG_BOMB",e[e.LICK=122]="LICK",e[e.SMOG=123]="SMOG",e[e.SLUDGE=124]="SLUDGE",e[e.BONE_CLUB=125]="BONE_CLUB",e[e.FIRE_BLAST=126]="FIRE_BLAST",e[e.WATERFALL=127]="WATERFALL",e[e.CLAMP=128]="CLAMP",e[e.SWIFT=129]="SWIFT",e[e.SKULL_BASH=130]="SKULL_BASH",e[e.SPIKE_CANNON=131]="SPIKE_CANNON",e[e.CONSTRICT=132]="CONSTRICT",e[e.AMNESIA=133]="AMNESIA",e[e.KINESIS=134]="KINESIS",e[e.SOFT_BOILED=135]="SOFT_BOILED",e[e.HIGH_JUMP_KICK=136]="HIGH_JUMP_KICK",e[e.GLARE=137]="GLARE",e[e.DREAM_EATER=138]="DREAM_EATER",e[e.POISON_GAS=139]="POISON_GAS",e[e.BARRAGE=140]="BARRAGE",e[e.LEECH_LIFE=141]="LEECH_LIFE",e[e.LOVELY_KISS=142]="LOVELY_KISS",e[e.SKY_ATTACK=143]="SKY_ATTACK",e[e.TRANSFORM=144]="TRANSFORM",e[e.BUBBLE=145]="BUBBLE",e[e.DIZZY_PUNCH=146]="DIZZY_PUNCH",e[e.SPORE=147]="SPORE",e[e.FLASH=148]="FLASH",e[e.PSYWAVE=149]="PSYWAVE",e[e.SPLASH=150]="SPLASH",e[e.ACID_ARMOR=151]="ACID_ARMOR",e[e.CRABHAMMER=152]="CRABHAMMER",e[e.EXPLOSION=153]="EXPLOSION",e[e.FURY_SWIPES=154]="FURY_SWIPES",e[e.BONEMERANG=155]="BONEMERANG",e[e.REST=156]="REST",e[e.ROCK_SLIDE=157]="ROCK_SLIDE",e[e.HYPER_FANG=158]="HYPER_FANG",e[e.SHARPEN=159]="SHARPEN",e[e.CONVERSION=160]="CONVERSION",e[e.TRI_ATTACK=161]="TRI_ATTACK",e[e.SUPER_FANG=162]="SUPER_FANG",e[e.SLASH=163]="SLASH",e[e.SUBSTITUTE=164]="SUBSTITUTE",e[e.STRUGGLE=165]="STRUGGLE",e[e.SKETCH=166]="SKETCH",e[e.TRIPLE_KICK=167]="TRIPLE_KICK",e[e.THIEF=168]="THIEF",e[e.SPIDER_WEB=169]="SPIDER_WEB",e[e.MIND_READER=170]="MIND_READER",e[e.NIGHTMARE=171]="NIGHTMARE",e[e.FLAME_WHEEL=172]="FLAME_WHEEL",e[e.SNORE=173]="SNORE",e[e.CURSE=174]="CURSE",e[e.FLAIL=175]="FLAIL",e[e.CONVERSION_2=176]="CONVERSION_2",e[e.AEROBLAST=177]="AEROBLAST",e[e.COTTON_SPORE=178]="COTTON_SPORE",e[e.REVERSAL=179]="REVERSAL",e[e.SPITE=180]="SPITE",e[e.POWDER_SNOW=181]="POWDER_SNOW",e[e.PROTECT=182]="PROTECT",e[e.MACH_PUNCH=183]="MACH_PUNCH",e[e.SCARY_FACE=184]="SCARY_FACE",e[e.FEINT_ATTACK=185]="FEINT_ATTACK",e[e.SWEET_KISS=186]="SWEET_KISS",e[e.BELLY_DRUM=187]="BELLY_DRUM",e[e.SLUDGE_BOMB=188]="SLUDGE_BOMB",e[e.MUD_SLAP=189]="MUD_SLAP",e[e.OCTAZOOKA=190]="OCTAZOOKA",e[e.SPIKES=191]="SPIKES",e[e.ZAP_CANNON=192]="ZAP_CANNON",e[e.FORESIGHT=193]="FORESIGHT",e[e.DESTINY_BOND=194]="DESTINY_BOND",e[e.PERISH_SONG=195]="PERISH_SONG",e[e.ICY_WIND=196]="ICY_WIND",e[e.DETECT=197]="DETECT",e[e.BONE_RUSH=198]="BONE_RUSH",e[e.LOCK_ON=199]="LOCK_ON",e[e.OUTRAGE=200]="OUTRAGE",e[e.SANDSTORM=201]="SANDSTORM",e[e.GIGA_DRAIN=202]="GIGA_DRAIN",e[e.ENDURE=203]="ENDURE",e[e.CHARM=204]="CHARM",e[e.ROLLOUT=205]="ROLLOUT",e[e.FALSE_SWIPE=206]="FALSE_SWIPE",e[e.SWAGGER=207]="SWAGGER",e[e.MILK_DRINK=208]="MILK_DRINK",e[e.SPARK=209]="SPARK",e[e.FURY_CUTTER=210]="FURY_CUTTER",e[e.STEEL_WING=211]="STEEL_WING",e[e.MEAN_LOOK=212]="MEAN_LOOK",e[e.ATTRACT=213]="ATTRACT",e[e.SLEEP_TALK=214]="SLEEP_TALK",e[e.HEAL_BELL=215]="HEAL_BELL",e[e.RETURN=216]="RETURN",e[e.PRESENT=217]="PRESENT",e[e.FRUSTRATION=218]="FRUSTRATION",e[e.SAFEGUARD=219]="SAFEGUARD",e[e.PAIN_SPLIT=220]="PAIN_SPLIT",e[e.SACRED_FIRE=221]="SACRED_FIRE",e[e.MAGNITUDE=222]="MAGNITUDE",e[e.DYNAMIC_PUNCH=223]="DYNAMIC_PUNCH",e[e.MEGAHORN=224]="MEGAHORN",e[e.DRAGON_BREATH=225]="DRAGON_BREATH",e[e.BATON_PASS=226]="BATON_PASS",e[e.ENCORE=227]="ENCORE",e[e.PURSUIT=228]="PURSUIT",e[e.RAPID_SPIN=229]="RAPID_SPIN",e[e.SWEET_SCENT=230]="SWEET_SCENT",e[e.IRON_TAIL=231]="IRON_TAIL",e[e.METAL_CLAW=232]="METAL_CLAW",e[e.VITAL_THROW=233]="VITAL_THROW",e[e.MORNING_SUN=234]="MORNING_SUN",e[e.SYNTHESIS=235]="SYNTHESIS",e[e.MOONLIGHT=236]="MOONLIGHT",e[e.HIDDEN_POWER=237]="HIDDEN_POWER",e[e.CROSS_CHOP=238]="CROSS_CHOP",e[e.TWISTER=239]="TWISTER",e[e.RAIN_DANCE=240]="RAIN_DANCE",e[e.SUNNY_DAY=241]="SUNNY_DAY",e[e.CRUNCH=242]="CRUNCH",e[e.MIRROR_COAT=243]="MIRROR_COAT",e[e.PSYCH_UP=244]="PSYCH_UP",e[e.EXTREME_SPEED=245]="EXTREME_SPEED",e[e.ANCIENT_POWER=246]="ANCIENT_POWER",e[e.SHADOW_BALL=247]="SHADOW_BALL",e[e.FUTURE_SIGHT=248]="FUTURE_SIGHT",e[e.ROCK_SMASH=249]="ROCK_SMASH",e[e.WHIRLPOOL=250]="WHIRLPOOL",e[e.BEAT_UP=251]="BEAT_UP",e[e.FAKE_OUT=252]="FAKE_OUT",e[e.UPROAR=253]="UPROAR",e[e.STOCKPILE=254]="STOCKPILE",e[e.SPIT_UP=255]="SPIT_UP",e[e.SWALLOW=256]="SWALLOW",e[e.HEAT_WAVE=257]="HEAT_WAVE",e[e.HAIL=258]="HAIL",e[e.TORMENT=259]="TORMENT",e[e.FLATTER=260]="FLATTER",e[e.WILL_O_WISP=261]="WILL_O_WISP",e[e.MEMENTO=262]="MEMENTO",e[e.FACADE=263]="FACADE",e[e.FOCUS_PUNCH=264]="FOCUS_PUNCH",e[e.SMELLING_SALTS=265]="SMELLING_SALTS",e[e.FOLLOW_ME=266]="FOLLOW_ME",e[e.NATURE_POWER=267]="NATURE_POWER",e[e.CHARGE=268]="CHARGE",e[e.TAUNT=269]="TAUNT",e[e.HELPING_HAND=270]="HELPING_HAND",e[e.TRICK=271]="TRICK",e[e.ROLE_PLAY=272]="ROLE_PLAY",e[e.WISH=273]="WISH",e[e.ASSIST=274]="ASSIST",e[e.INGRAIN=275]="INGRAIN",e[e.SUPERPOWER=276]="SUPERPOWER",e[e.MAGIC_COAT=277]="MAGIC_COAT",e[e.RECYCLE=278]="RECYCLE",e[e.REVENGE=279]="REVENGE",e[e.BRICK_BREAK=280]="BRICK_BREAK",e[e.YAWN=281]="YAWN",e[e.KNOCK_OFF=282]="KNOCK_OFF",e[e.ENDEAVOR=283]="ENDEAVOR",e[e.ERUPTION=284]="ERUPTION",e[e.SKILL_SWAP=285]="SKILL_SWAP",e[e.IMPRISON=286]="IMPRISON",e[e.REFRESH=287]="REFRESH",e[e.GRUDGE=288]="GRUDGE",e[e.SNATCH=289]="SNATCH",e[e.SECRET_POWER=290]="SECRET_POWER",e[e.DIVE=291]="DIVE",e[e.ARM_THRUST=292]="ARM_THRUST",e[e.CAMOUFLAGE=293]="CAMOUFLAGE",e[e.TAIL_GLOW=294]="TAIL_GLOW",e[e.LUSTER_PURGE=295]="LUSTER_PURGE",e[e.MIST_BALL=296]="MIST_BALL",e[e.FEATHER_DANCE=297]="FEATHER_DANCE",e[e.TEETER_DANCE=298]="TEETER_DANCE",e[e.BLAZE_KICK=299]="BLAZE_KICK",e[e.MUD_SPORT=300]="MUD_SPORT",e[e.ICE_BALL=301]="ICE_BALL",e[e.NEEDLE_ARM=302]="NEEDLE_ARM",e[e.SLACK_OFF=303]="SLACK_OFF",e[e.HYPER_VOICE=304]="HYPER_VOICE",e[e.POISON_FANG=305]="POISON_FANG",e[e.CRUSH_CLAW=306]="CRUSH_CLAW",e[e.BLAST_BURN=307]="BLAST_BURN",e[e.HYDRO_CANNON=308]="HYDRO_CANNON",e[e.METEOR_MASH=309]="METEOR_MASH",e[e.ASTONISH=310]="ASTONISH",e[e.WEATHER_BALL=311]="WEATHER_BALL",e[e.AROMATHERAPY=312]="AROMATHERAPY",e[e.FAKE_TEARS=313]="FAKE_TEARS",e[e.AIR_CUTTER=314]="AIR_CUTTER",e[e.OVERHEAT=315]="OVERHEAT",e[e.ODOR_SLEUTH=316]="ODOR_SLEUTH",e[e.ROCK_TOMB=317]="ROCK_TOMB",e[e.SILVER_WIND=318]="SILVER_WIND",e[e.METAL_SOUND=319]="METAL_SOUND",e[e.GRASS_WHISTLE=320]="GRASS_WHISTLE",e[e.TICKLE=321]="TICKLE",e[e.COSMIC_POWER=322]="COSMIC_POWER",e[e.WATER_SPOUT=323]="WATER_SPOUT",e[e.SIGNAL_BEAM=324]="SIGNAL_BEAM",e[e.SHADOW_PUNCH=325]="SHADOW_PUNCH",e[e.EXTRASENSORY=326]="EXTRASENSORY",e[e.SKY_UPPERCUT=327]="SKY_UPPERCUT",e[e.SAND_TOMB=328]="SAND_TOMB",e[e.SHEER_COLD=329]="SHEER_COLD",e[e.MUDDY_WATER=330]="MUDDY_WATER",e[e.BULLET_SEED=331]="BULLET_SEED",e[e.AERIAL_ACE=332]="AERIAL_ACE",e[e.ICICLE_SPEAR=333]="ICICLE_SPEAR",e[e.IRON_DEFENSE=334]="IRON_DEFENSE",e[e.BLOCK=335]="BLOCK",e[e.HOWL=336]="HOWL",e[e.DRAGON_CLAW=337]="DRAGON_CLAW",e[e.FRENZY_PLANT=338]="FRENZY_PLANT",e[e.BULK_UP=339]="BULK_UP",e[e.BOUNCE=340]="BOUNCE",e[e.MUD_SHOT=341]="MUD_SHOT",e[e.POISON_TAIL=342]="POISON_TAIL",e[e.COVET=343]="COVET",e[e.VOLT_TACKLE=344]="VOLT_TACKLE",e[e.MAGICAL_LEAF=345]="MAGICAL_LEAF",e[e.WATER_SPORT=346]="WATER_SPORT",e[e.CALM_MIND=347]="CALM_MIND",e[e.LEAF_BLADE=348]="LEAF_BLADE",e[e.DRAGON_DANCE=349]="DRAGON_DANCE",e[e.ROCK_BLAST=350]="ROCK_BLAST",e[e.SHOCK_WAVE=351]="SHOCK_WAVE",e[e.WATER_PULSE=352]="WATER_PULSE",e[e.DOOM_DESIRE=353]="DOOM_DESIRE",e[e.PSYCHO_BOOST=354]="PSYCHO_BOOST",e[e.ROOST=355]="ROOST",e[e.GRAVITY=356]="GRAVITY",e[e.MIRACLE_EYE=357]="MIRACLE_EYE",e[e.WAKE_UP_SLAP=358]="WAKE_UP_SLAP",e[e.HAMMER_ARM=359]="HAMMER_ARM",e[e.GYRO_BALL=360]="GYRO_BALL",e[e.HEALING_WISH=361]="HEALING_WISH",e[e.BRINE=362]="BRINE",e[e.NATURAL_GIFT=363]="NATURAL_GIFT",e[e.FEINT=364]="FEINT",e[e.PLUCK=365]="PLUCK",e[e.TAILWIND=366]="TAILWIND",e[e.ACUPRESSURE=367]="ACUPRESSURE",e[e.METAL_BURST=368]="METAL_BURST",e[e.U_TURN=369]="U_TURN",e[e.CLOSE_COMBAT=370]="CLOSE_COMBAT",e[e.PAYBACK=371]="PAYBACK",e[e.ASSURANCE=372]="ASSURANCE",e[e.EMBARGO=373]="EMBARGO",e[e.FLING=374]="FLING",e[e.PSYCHO_SHIFT=375]="PSYCHO_SHIFT",e[e.TRUMP_CARD=376]="TRUMP_CARD",e[e.HEAL_BLOCK=377]="HEAL_BLOCK",e[e.WRING_OUT=378]="WRING_OUT",e[e.POWER_TRICK=379]="POWER_TRICK",e[e.GASTRO_ACID=380]="GASTRO_ACID",e[e.LUCKY_CHANT=381]="LUCKY_CHANT",e[e.ME_FIRST=382]="ME_FIRST",e[e.COPYCAT=383]="COPYCAT",e[e.POWER_SWAP=384]="POWER_SWAP",e[e.GUARD_SWAP=385]="GUARD_SWAP",e[e.PUNISHMENT=386]="PUNISHMENT",e[e.LAST_RESORT=387]="LAST_RESORT",e[e.WORRY_SEED=388]="WORRY_SEED",e[e.SUCKER_PUNCH=389]="SUCKER_PUNCH",e[e.TOXIC_SPIKES=390]="TOXIC_SPIKES",e[e.HEART_SWAP=391]="HEART_SWAP",e[e.AQUA_RING=392]="AQUA_RING",e[e.MAGNET_RISE=393]="MAGNET_RISE",e[e.FLARE_BLITZ=394]="FLARE_BLITZ",e[e.FORCE_PALM=395]="FORCE_PALM",e[e.AURA_SPHERE=396]="AURA_SPHERE",e[e.ROCK_POLISH=397]="ROCK_POLISH",e[e.POISON_JAB=398]="POISON_JAB",e[e.DARK_PULSE=399]="DARK_PULSE",e[e.NIGHT_SLASH=400]="NIGHT_SLASH",e[e.AQUA_TAIL=401]="AQUA_TAIL",e[e.SEED_BOMB=402]="SEED_BOMB",e[e.AIR_SLASH=403]="AIR_SLASH",e[e.X_SCISSOR=404]="X_SCISSOR",e[e.BUG_BUZZ=405]="BUG_BUZZ",e[e.DRAGON_PULSE=406]="DRAGON_PULSE",e[e.DRAGON_RUSH=407]="DRAGON_RUSH",e[e.POWER_GEM=408]="POWER_GEM",e[e.DRAIN_PUNCH=409]="DRAIN_PUNCH",e[e.VACUUM_WAVE=410]="VACUUM_WAVE",e[e.FOCUS_BLAST=411]="FOCUS_BLAST",e[e.ENERGY_BALL=412]="ENERGY_BALL",e[e.BRAVE_BIRD=413]="BRAVE_BIRD",e[e.EARTH_POWER=414]="EARTH_POWER",e[e.SWITCHEROO=415]="SWITCHEROO",e[e.GIGA_IMPACT=416]="GIGA_IMPACT",e[e.NASTY_PLOT=417]="NASTY_PLOT",e[e.BULLET_PUNCH=418]="BULLET_PUNCH",e[e.AVALANCHE=419]="AVALANCHE",e[e.ICE_SHARD=420]="ICE_SHARD",e[e.SHADOW_CLAW=421]="SHADOW_CLAW",e[e.THUNDER_FANG=422]="THUNDER_FANG",e[e.ICE_FANG=423]="ICE_FANG",e[e.FIRE_FANG=424]="FIRE_FANG",e[e.SHADOW_SNEAK=425]="SHADOW_SNEAK",e[e.MUD_BOMB=426]="MUD_BOMB",e[e.PSYCHO_CUT=427]="PSYCHO_CUT",e[e.ZEN_HEADBUTT=428]="ZEN_HEADBUTT",e[e.MIRROR_SHOT=429]="MIRROR_SHOT",e[e.FLASH_CANNON=430]="FLASH_CANNON",e[e.ROCK_CLIMB=431]="ROCK_CLIMB",e[e.DEFOG=432]="DEFOG",e[e.TRICK_ROOM=433]="TRICK_ROOM",e[e.DRACO_METEOR=434]="DRACO_METEOR",e[e.DISCHARGE=435]="DISCHARGE",e[e.LAVA_PLUME=436]="LAVA_PLUME",e[e.LEAF_STORM=437]="LEAF_STORM",e[e.POWER_WHIP=438]="POWER_WHIP",e[e.ROCK_WRECKER=439]="ROCK_WRECKER",e[e.CROSS_POISON=440]="CROSS_POISON",e[e.GUNK_SHOT=441]="GUNK_SHOT",e[e.IRON_HEAD=442]="IRON_HEAD",e[e.MAGNET_BOMB=443]="MAGNET_BOMB",e[e.STONE_EDGE=444]="STONE_EDGE",e[e.CAPTIVATE=445]="CAPTIVATE",e[e.STEALTH_ROCK=446]="STEALTH_ROCK",e[e.GRASS_KNOT=447]="GRASS_KNOT",e[e.CHATTER=448]="CHATTER",e[e.JUDGMENT=449]="JUDGMENT",e[e.BUG_BITE=450]="BUG_BITE",e[e.CHARGE_BEAM=451]="CHARGE_BEAM",e[e.WOOD_HAMMER=452]="WOOD_HAMMER",e[e.AQUA_JET=453]="AQUA_JET",e[e.ATTACK_ORDER=454]="ATTACK_ORDER",e[e.DEFEND_ORDER=455]="DEFEND_ORDER",e[e.HEAL_ORDER=456]="HEAL_ORDER",e[e.HEAD_SMASH=457]="HEAD_SMASH",e[e.DOUBLE_HIT=458]="DOUBLE_HIT",e[e.ROAR_OF_TIME=459]="ROAR_OF_TIME",e[e.SPACIAL_REND=460]="SPACIAL_REND",e[e.LUNAR_DANCE=461]="LUNAR_DANCE",e[e.CRUSH_GRIP=462]="CRUSH_GRIP",e[e.MAGMA_STORM=463]="MAGMA_STORM",e[e.DARK_VOID=464]="DARK_VOID",e[e.SEED_FLARE=465]="SEED_FLARE",e[e.OMINOUS_WIND=466]="OMINOUS_WIND",e[e.SHADOW_FORCE=467]="SHADOW_FORCE",e[e.HONE_CLAWS=468]="HONE_CLAWS",e[e.WIDE_GUARD=469]="WIDE_GUARD",e[e.GUARD_SPLIT=470]="GUARD_SPLIT",e[e.POWER_SPLIT=471]="POWER_SPLIT",e[e.WONDER_ROOM=472]="WONDER_ROOM",e[e.PSYSHOCK=473]="PSYSHOCK",e[e.VENOSHOCK=474]="VENOSHOCK",e[e.AUTOTOMIZE=475]="AUTOTOMIZE",e[e.RAGE_POWDER=476]="RAGE_POWDER",e[e.TELEKINESIS=477]="TELEKINESIS",e[e.MAGIC_ROOM=478]="MAGIC_ROOM",e[e.SMACK_DOWN=479]="SMACK_DOWN",e[e.STORM_THROW=480]="STORM_THROW",e[e.FLAME_BURST=481]="FLAME_BURST",e[e.SLUDGE_WAVE=482]="SLUDGE_WAVE",e[e.QUIVER_DANCE=483]="QUIVER_DANCE",e[e.HEAVY_SLAM=484]="HEAVY_SLAM",e[e.SYNCHRONOISE=485]="SYNCHRONOISE",e[e.ELECTRO_BALL=486]="ELECTRO_BALL",e[e.SOAK=487]="SOAK",e[e.FLAME_CHARGE=488]="FLAME_CHARGE",e[e.COIL=489]="COIL",e[e.LOW_SWEEP=490]="LOW_SWEEP",e[e.ACID_SPRAY=491]="ACID_SPRAY",e[e.FOUL_PLAY=492]="FOUL_PLAY",e[e.SIMPLE_BEAM=493]="SIMPLE_BEAM",e[e.ENTRAINMENT=494]="ENTRAINMENT",e[e.AFTER_YOU=495]="AFTER_YOU",e[e.ROUND=496]="ROUND",e[e.ECHOED_VOICE=497]="ECHOED_VOICE",e[e.CHIP_AWAY=498]="CHIP_AWAY",e[e.CLEAR_SMOG=499]="CLEAR_SMOG",e[e.STORED_POWER=500]="STORED_POWER",e[e.QUICK_GUARD=501]="QUICK_GUARD",e[e.ALLY_SWITCH=502]="ALLY_SWITCH",e[e.SCALD=503]="SCALD",e[e.SHELL_SMASH=504]="SHELL_SMASH",e[e.HEAL_PULSE=505]="HEAL_PULSE",e[e.HEX=506]="HEX",e[e.SKY_DROP=507]="SKY_DROP",e[e.SHIFT_GEAR=508]="SHIFT_GEAR",e[e.CIRCLE_THROW=509]="CIRCLE_THROW",e[e.INCINERATE=510]="INCINERATE",e[e.QUASH=511]="QUASH",e[e.ACROBATICS=512]="ACROBATICS",e[e.REFLECT_TYPE=513]="REFLECT_TYPE",e[e.RETALIATE=514]="RETALIATE",e[e.FINAL_GAMBIT=515]="FINAL_GAMBIT",e[e.BESTOW=516]="BESTOW",e[e.INFERNO=517]="INFERNO",e[e.WATER_PLEDGE=518]="WATER_PLEDGE",e[e.FIRE_PLEDGE=519]="FIRE_PLEDGE",e[e.GRASS_PLEDGE=520]="GRASS_PLEDGE",e[e.VOLT_SWITCH=521]="VOLT_SWITCH",e[e.STRUGGLE_BUG=522]="STRUGGLE_BUG",e[e.BULLDOZE=523]="BULLDOZE",e[e.FROST_BREATH=524]="FROST_BREATH",e[e.DRAGON_TAIL=525]="DRAGON_TAIL",e[e.WORK_UP=526]="WORK_UP",e[e.ELECTROWEB=527]="ELECTROWEB",e[e.WILD_CHARGE=528]="WILD_CHARGE",e[e.DRILL_RUN=529]="DRILL_RUN",e[e.DUAL_CHOP=530]="DUAL_CHOP",e[e.HEART_STAMP=531]="HEART_STAMP",e[e.HORN_LEECH=532]="HORN_LEECH",e[e.SACRED_SWORD=533]="SACRED_SWORD",e[e.RAZOR_SHELL=534]="RAZOR_SHELL",e[e.HEAT_CRASH=535]="HEAT_CRASH",e[e.LEAF_TORNADO=536]="LEAF_TORNADO",e[e.STEAMROLLER=537]="STEAMROLLER",e[e.COTTON_GUARD=538]="COTTON_GUARD",e[e.NIGHT_DAZE=539]="NIGHT_DAZE",e[e.PSYSTRIKE=540]="PSYSTRIKE",e[e.TAIL_SLAP=541]="TAIL_SLAP",e[e.HURRICANE=542]="HURRICANE",e[e.HEAD_CHARGE=543]="HEAD_CHARGE",e[e.GEAR_GRIND=544]="GEAR_GRIND",e[e.SEARING_SHOT=545]="SEARING_SHOT",e[e.TECHNO_BLAST=546]="TECHNO_BLAST",e[e.RELIC_SONG=547]="RELIC_SONG",e[e.SECRET_SWORD=548]="SECRET_SWORD",e[e.GLACIATE=549]="GLACIATE",e[e.BOLT_STRIKE=550]="BOLT_STRIKE",e[e.BLUE_FLARE=551]="BLUE_FLARE",e[e.FIERY_DANCE=552]="FIERY_DANCE",e[e.FREEZE_SHOCK=553]="FREEZE_SHOCK",e[e.ICE_BURN=554]="ICE_BURN",e[e.SNARL=555]="SNARL",e[e.ICICLE_CRASH=556]="ICICLE_CRASH",e[e.V_CREATE=557]="V_CREATE",e[e.FUSION_FLARE=558]="FUSION_FLARE",e[e.FUSION_BOLT=559]="FUSION_BOLT",e[e.FLYING_PRESS=560]="FLYING_PRESS",e[e.MAT_BLOCK=561]="MAT_BLOCK",e[e.BELCH=562]="BELCH",e[e.ROTOTILLER=563]="ROTOTILLER",e[e.STICKY_WEB=564]="STICKY_WEB",e[e.FELL_STINGER=565]="FELL_STINGER",e[e.PHANTOM_FORCE=566]="PHANTOM_FORCE",e[e.TRICK_OR_TREAT=567]="TRICK_OR_TREAT",e[e.NOBLE_ROAR=568]="NOBLE_ROAR",e[e.ION_DELUGE=569]="ION_DELUGE",e[e.PARABOLIC_CHARGE=570]="PARABOLIC_CHARGE",e[e.FORESTS_CURSE=571]="FORESTS_CURSE",e[e.PETAL_BLIZZARD=572]="PETAL_BLIZZARD",e[e.FREEZE_DRY=573]="FREEZE_DRY",e[e.DISARMING_VOICE=574]="DISARMING_VOICE",e[e.PARTING_SHOT=575]="PARTING_SHOT",e[e.TOPSY_TURVY=576]="TOPSY_TURVY",e[e.DRAINING_KISS=577]="DRAINING_KISS",e[e.CRAFTY_SHIELD=578]="CRAFTY_SHIELD",e[e.FLOWER_SHIELD=579]="FLOWER_SHIELD",e[e.GRASSY_TERRAIN=580]="GRASSY_TERRAIN",e[e.MISTY_TERRAIN=581]="MISTY_TERRAIN",e[e.ELECTRIFY=582]="ELECTRIFY",e[e.PLAY_ROUGH=583]="PLAY_ROUGH",e[e.FAIRY_WIND=584]="FAIRY_WIND",e[e.MOONBLAST=585]="MOONBLAST",e[e.BOOMBURST=586]="BOOMBURST",e[e.FAIRY_LOCK=587]="FAIRY_LOCK",e[e.KINGS_SHIELD=588]="KINGS_SHIELD",e[e.PLAY_NICE=589]="PLAY_NICE",e[e.CONFIDE=590]="CONFIDE",e[e.DIAMOND_STORM=591]="DIAMOND_STORM",e[e.STEAM_ERUPTION=592]="STEAM_ERUPTION",e[e.HYPERSPACE_HOLE=593]="HYPERSPACE_HOLE",e[e.WATER_SHURIKEN=594]="WATER_SHURIKEN",e[e.MYSTICAL_FIRE=595]="MYSTICAL_FIRE",e[e.SPIKY_SHIELD=596]="SPIKY_SHIELD",e[e.AROMATIC_MIST=597]="AROMATIC_MIST",e[e.EERIE_IMPULSE=598]="EERIE_IMPULSE",e[e.VENOM_DRENCH=599]="VENOM_DRENCH",e[e.POWDER=600]="POWDER",e[e.GEOMANCY=601]="GEOMANCY",e[e.MAGNETIC_FLUX=602]="MAGNETIC_FLUX",e[e.HAPPY_HOUR=603]="HAPPY_HOUR",e[e.ELECTRIC_TERRAIN=604]="ELECTRIC_TERRAIN",e[e.DAZZLING_GLEAM=605]="DAZZLING_GLEAM",e[e.CELEBRATE=606]="CELEBRATE",e[e.HOLD_HANDS=607]="HOLD_HANDS",e[e.BABY_DOLL_EYES=608]="BABY_DOLL_EYES",e[e.NUZZLE=609]="NUZZLE",e[e.HOLD_BACK=610]="HOLD_BACK",e[e.INFESTATION=611]="INFESTATION",e[e.POWER_UP_PUNCH=612]="POWER_UP_PUNCH",e[e.OBLIVION_WING=613]="OBLIVION_WING",e[e.THOUSAND_ARROWS=614]="THOUSAND_ARROWS",e[e.THOUSAND_WAVES=615]="THOUSAND_WAVES",e[e.LANDS_WRATH=616]="LANDS_WRATH",e[e.LIGHT_OF_RUIN=617]="LIGHT_OF_RUIN",e[e.ORIGIN_PULSE=618]="ORIGIN_PULSE",e[e.PRECIPICE_BLADES=619]="PRECIPICE_BLADES",e[e.DRAGON_ASCENT=620]="DRAGON_ASCENT",e[e.HYPERSPACE_FURY=621]="HYPERSPACE_FURY",e[e.BREAKNECK_BLITZ__PHYSICAL=622]="BREAKNECK_BLITZ__PHYSICAL",e[e.BREAKNECK_BLITZ__SPECIAL=623]="BREAKNECK_BLITZ__SPECIAL",e[e.ALL_OUT_PUMMELING__PHYSICAL=624]="ALL_OUT_PUMMELING__PHYSICAL",e[e.ALL_OUT_PUMMELING__SPECIAL=625]="ALL_OUT_PUMMELING__SPECIAL",e[e.SUPERSONIC_SKYSTRIKE__PHYSICAL=626]="SUPERSONIC_SKYSTRIKE__PHYSICAL",e[e.SUPERSONIC_SKYSTRIKE__SPECIAL=627]="SUPERSONIC_SKYSTRIKE__SPECIAL",e[e.ACID_DOWNPOUR__PHYSICAL=628]="ACID_DOWNPOUR__PHYSICAL",e[e.ACID_DOWNPOUR__SPECIAL=629]="ACID_DOWNPOUR__SPECIAL",e[e.TECTONIC_RAGE__PHYSICAL=630]="TECTONIC_RAGE__PHYSICAL",e[e.TECTONIC_RAGE__SPECIAL=631]="TECTONIC_RAGE__SPECIAL",e[e.CONTINENTAL_CRUSH__PHYSICAL=632]="CONTINENTAL_CRUSH__PHYSICAL",e[e.CONTINENTAL_CRUSH__SPECIAL=633]="CONTINENTAL_CRUSH__SPECIAL",e[e.SAVAGE_SPIN_OUT__PHYSICAL=634]="SAVAGE_SPIN_OUT__PHYSICAL",e[e.SAVAGE_SPIN_OUT__SPECIAL=635]="SAVAGE_SPIN_OUT__SPECIAL",e[e.NEVER_ENDING_NIGHTMARE__PHYSICAL=636]="NEVER_ENDING_NIGHTMARE__PHYSICAL",e[e.NEVER_ENDING_NIGHTMARE__SPECIAL=637]="NEVER_ENDING_NIGHTMARE__SPECIAL",e[e.CORKSCREW_CRASH__PHYSICAL=638]="CORKSCREW_CRASH__PHYSICAL",e[e.CORKSCREW_CRASH__SPECIAL=639]="CORKSCREW_CRASH__SPECIAL",e[e.INFERNO_OVERDRIVE__PHYSICAL=640]="INFERNO_OVERDRIVE__PHYSICAL",e[e.INFERNO_OVERDRIVE__SPECIAL=641]="INFERNO_OVERDRIVE__SPECIAL",e[e.HYDRO_VORTEX__PHYSICAL=642]="HYDRO_VORTEX__PHYSICAL",e[e.HYDRO_VORTEX__SPECIAL=643]="HYDRO_VORTEX__SPECIAL",e[e.BLOOM_DOOM__PHYSICAL=644]="BLOOM_DOOM__PHYSICAL",e[e.BLOOM_DOOM__SPECIAL=645]="BLOOM_DOOM__SPECIAL",e[e.GIGAVOLT_HAVOC__PHYSICAL=646]="GIGAVOLT_HAVOC__PHYSICAL",e[e.GIGAVOLT_HAVOC__SPECIAL=647]="GIGAVOLT_HAVOC__SPECIAL",e[e.SHATTERED_PSYCHE__PHYSICAL=648]="SHATTERED_PSYCHE__PHYSICAL",e[e.SHATTERED_PSYCHE__SPECIAL=649]="SHATTERED_PSYCHE__SPECIAL",e[e.SUBZERO_SLAMMER__PHYSICAL=650]="SUBZERO_SLAMMER__PHYSICAL",e[e.SUBZERO_SLAMMER__SPECIAL=651]="SUBZERO_SLAMMER__SPECIAL",e[e.DEVASTATING_DRAKE__PHYSICAL=652]="DEVASTATING_DRAKE__PHYSICAL",e[e.DEVASTATING_DRAKE__SPECIAL=653]="DEVASTATING_DRAKE__SPECIAL",e[e.BLACK_HOLE_ECLIPSE__PHYSICAL=654]="BLACK_HOLE_ECLIPSE__PHYSICAL",e[e.BLACK_HOLE_ECLIPSE__SPECIAL=655]="BLACK_HOLE_ECLIPSE__SPECIAL",e[e.TWINKLE_TACKLE__PHYSICAL=656]="TWINKLE_TACKLE__PHYSICAL",e[e.TWINKLE_TACKLE__SPECIAL=657]="TWINKLE_TACKLE__SPECIAL",e[e.CATASTROPIKA=658]="CATASTROPIKA",e[e.SHORE_UP=659]="SHORE_UP",e[e.FIRST_IMPRESSION=660]="FIRST_IMPRESSION",e[e.BANEFUL_BUNKER=661]="BANEFUL_BUNKER",e[e.SPIRIT_SHACKLE=662]="SPIRIT_SHACKLE",e[e.DARKEST_LARIAT=663]="DARKEST_LARIAT",e[e.SPARKLING_ARIA=664]="SPARKLING_ARIA",e[e.ICE_HAMMER=665]="ICE_HAMMER",e[e.FLORAL_HEALING=666]="FLORAL_HEALING",e[e.HIGH_HORSEPOWER=667]="HIGH_HORSEPOWER",e[e.STRENGTH_SAP=668]="STRENGTH_SAP",e[e.SOLAR_BLADE=669]="SOLAR_BLADE",e[e.LEAFAGE=670]="LEAFAGE",e[e.SPOTLIGHT=671]="SPOTLIGHT",e[e.TOXIC_THREAD=672]="TOXIC_THREAD",e[e.LASER_FOCUS=673]="LASER_FOCUS",e[e.GEAR_UP=674]="GEAR_UP",e[e.THROAT_CHOP=675]="THROAT_CHOP",e[e.POLLEN_PUFF=676]="POLLEN_PUFF",e[e.ANCHOR_SHOT=677]="ANCHOR_SHOT",e[e.PSYCHIC_TERRAIN=678]="PSYCHIC_TERRAIN",e[e.LUNGE=679]="LUNGE",e[e.FIRE_LASH=680]="FIRE_LASH",e[e.POWER_TRIP=681]="POWER_TRIP",e[e.BURN_UP=682]="BURN_UP",e[e.SPEED_SWAP=683]="SPEED_SWAP",e[e.SMART_STRIKE=684]="SMART_STRIKE",e[e.PURIFY=685]="PURIFY",e[e.REVELATION_DANCE=686]="REVELATION_DANCE",e[e.CORE_ENFORCER=687]="CORE_ENFORCER",e[e.TROP_KICK=688]="TROP_KICK",e[e.INSTRUCT=689]="INSTRUCT",e[e.BEAK_BLAST=690]="BEAK_BLAST",e[e.CLANGING_SCALES=691]="CLANGING_SCALES",e[e.DRAGON_HAMMER=692]="DRAGON_HAMMER",e[e.BRUTAL_SWING=693]="BRUTAL_SWING",e[e.AURORA_VEIL=694]="AURORA_VEIL",e[e.SINISTER_ARROW_RAID=695]="SINISTER_ARROW_RAID",e[e.MALICIOUS_MOONSAULT=696]="MALICIOUS_MOONSAULT",e[e.OCEANIC_OPERETTA=697]="OCEANIC_OPERETTA",e[e.GUARDIAN_OF_ALOLA=698]="GUARDIAN_OF_ALOLA",e[e.SOUL_STEALING_7_STAR_STRIKE=699]="SOUL_STEALING_7_STAR_STRIKE",e[e.STOKED_SPARKSURFER=700]="STOKED_SPARKSURFER",e[e.PULVERIZING_PANCAKE=701]="PULVERIZING_PANCAKE",e[e.EXTREME_EVOBOOST=702]="EXTREME_EVOBOOST",e[e.GENESIS_SUPERNOVA=703]="GENESIS_SUPERNOVA",e[e.SHELL_TRAP=704]="SHELL_TRAP",e[e.FLEUR_CANNON=705]="FLEUR_CANNON",e[e.PSYCHIC_FANGS=706]="PSYCHIC_FANGS",e[e.STOMPING_TANTRUM=707]="STOMPING_TANTRUM",e[e.SHADOW_BONE=708]="SHADOW_BONE",e[e.ACCELEROCK=709]="ACCELEROCK",e[e.LIQUIDATION=710]="LIQUIDATION",e[e.PRISMATIC_LASER=711]="PRISMATIC_LASER",e[e.SPECTRAL_THIEF=712]="SPECTRAL_THIEF",e[e.SUNSTEEL_STRIKE=713]="SUNSTEEL_STRIKE",e[e.MOONGEIST_BEAM=714]="MOONGEIST_BEAM",e[e.TEARFUL_LOOK=715]="TEARFUL_LOOK",e[e.ZING_ZAP=716]="ZING_ZAP",e[e.NATURES_MADNESS=717]="NATURES_MADNESS",e[e.MULTI_ATTACK=718]="MULTI_ATTACK",e[e.TEN_MILLION_VOLT_THUNDERBOLT=719]="TEN_MILLION_VOLT_THUNDERBOLT",e[e.MIND_BLOWN=720]="MIND_BLOWN",e[e.PLASMA_FISTS=721]="PLASMA_FISTS",e[e.PHOTON_GEYSER=722]="PHOTON_GEYSER",e[e.LIGHT_THAT_BURNS_THE_SKY=723]="LIGHT_THAT_BURNS_THE_SKY",e[e.SEARING_SUNRAZE_SMASH=724]="SEARING_SUNRAZE_SMASH",e[e.MENACING_MOONRAZE_MAELSTROM=725]="MENACING_MOONRAZE_MAELSTROM",e[e.LETS_SNUGGLE_FOREVER=726]="LETS_SNUGGLE_FOREVER",e[e.SPLINTERED_STORMSHARDS=727]="SPLINTERED_STORMSHARDS",e[e.CLANGOROUS_SOULBLAZE=728]="CLANGOROUS_SOULBLAZE",e[e.ZIPPY_ZAP=729]="ZIPPY_ZAP",e[e.SPLISHY_SPLASH=730]="SPLISHY_SPLASH",e[e.FLOATY_FALL=731]="FLOATY_FALL",e[e.PIKA_PAPOW=732]="PIKA_PAPOW",e[e.BOUNCY_BUBBLE=733]="BOUNCY_BUBBLE",e[e.BUZZY_BUZZ=734]="BUZZY_BUZZ",e[e.SIZZLY_SLIDE=735]="SIZZLY_SLIDE",e[e.GLITZY_GLOW=736]="GLITZY_GLOW",e[e.BADDY_BAD=737]="BADDY_BAD",e[e.SAPPY_SEED=738]="SAPPY_SEED",e[e.FREEZY_FROST=739]="FREEZY_FROST",e[e.SPARKLY_SWIRL=740]="SPARKLY_SWIRL",e[e.VEEVEE_VOLLEY=741]="VEEVEE_VOLLEY",e[e.DOUBLE_IRON_BASH=742]="DOUBLE_IRON_BASH",e[e.MAX_GUARD=743]="MAX_GUARD",e[e.DYNAMAX_CANNON=744]="DYNAMAX_CANNON",e[e.SNIPE_SHOT=745]="SNIPE_SHOT",e[e.JAW_LOCK=746]="JAW_LOCK",e[e.STUFF_CHEEKS=747]="STUFF_CHEEKS",e[e.NO_RETREAT=748]="NO_RETREAT",e[e.TAR_SHOT=749]="TAR_SHOT",e[e.MAGIC_POWDER=750]="MAGIC_POWDER",e[e.DRAGON_DARTS=751]="DRAGON_DARTS",e[e.TEATIME=752]="TEATIME",e[e.OCTOLOCK=753]="OCTOLOCK",e[e.BOLT_BEAK=754]="BOLT_BEAK",e[e.FISHIOUS_REND=755]="FISHIOUS_REND",e[e.COURT_CHANGE=756]="COURT_CHANGE",e[e.MAX_FLARE=757]="MAX_FLARE",e[e.MAX_FLUTTERBY=758]="MAX_FLUTTERBY",e[e.MAX_LIGHTNING=759]="MAX_LIGHTNING",e[e.MAX_STRIKE=760]="MAX_STRIKE",e[e.MAX_KNUCKLE=761]="MAX_KNUCKLE",e[e.MAX_PHANTASM=762]="MAX_PHANTASM",e[e.MAX_HAILSTORM=763]="MAX_HAILSTORM",e[e.MAX_OOZE=764]="MAX_OOZE",e[e.MAX_GEYSER=765]="MAX_GEYSER",e[e.MAX_AIRSTREAM=766]="MAX_AIRSTREAM",e[e.MAX_STARFALL=767]="MAX_STARFALL",e[e.MAX_WYRMWIND=768]="MAX_WYRMWIND",e[e.MAX_MINDSTORM=769]="MAX_MINDSTORM",e[e.MAX_ROCKFALL=770]="MAX_ROCKFALL",e[e.MAX_QUAKE=771]="MAX_QUAKE",e[e.MAX_DARKNESS=772]="MAX_DARKNESS",e[e.MAX_OVERGROWTH=773]="MAX_OVERGROWTH",e[e.MAX_STEELSPIKE=774]="MAX_STEELSPIKE",e[e.CLANGOROUS_SOUL=775]="CLANGOROUS_SOUL",e[e.BODY_PRESS=776]="BODY_PRESS",e[e.DECORATE=777]="DECORATE",e[e.DRUM_BEATING=778]="DRUM_BEATING",e[e.SNAP_TRAP=779]="SNAP_TRAP",e[e.PYRO_BALL=780]="PYRO_BALL",e[e.BEHEMOTH_BLADE=781]="BEHEMOTH_BLADE",e[e.BEHEMOTH_BASH=782]="BEHEMOTH_BASH",e[e.AURA_WHEEL=783]="AURA_WHEEL",e[e.BREAKING_SWIPE=784]="BREAKING_SWIPE",e[e.BRANCH_POKE=785]="BRANCH_POKE",e[e.OVERDRIVE=786]="OVERDRIVE",e[e.APPLE_ACID=787]="APPLE_ACID",e[e.GRAV_APPLE=788]="GRAV_APPLE",e[e.SPIRIT_BREAK=789]="SPIRIT_BREAK",e[e.STRANGE_STEAM=790]="STRANGE_STEAM",e[e.LIFE_DEW=791]="LIFE_DEW",e[e.OBSTRUCT=792]="OBSTRUCT",e[e.FALSE_SURRENDER=793]="FALSE_SURRENDER",e[e.METEOR_ASSAULT=794]="METEOR_ASSAULT",e[e.ETERNABEAM=795]="ETERNABEAM",e[e.STEEL_BEAM=796]="STEEL_BEAM",e[e.EXPANDING_FORCE=797]="EXPANDING_FORCE",e[e.STEEL_ROLLER=798]="STEEL_ROLLER",e[e.SCALE_SHOT=799]="SCALE_SHOT",e[e.METEOR_BEAM=800]="METEOR_BEAM",e[e.SHELL_SIDE_ARM=801]="SHELL_SIDE_ARM",e[e.MISTY_EXPLOSION=802]="MISTY_EXPLOSION",e[e.GRASSY_GLIDE=803]="GRASSY_GLIDE",e[e.RISING_VOLTAGE=804]="RISING_VOLTAGE",e[e.TERRAIN_PULSE=805]="TERRAIN_PULSE",e[e.SKITTER_SMACK=806]="SKITTER_SMACK",e[e.BURNING_JEALOUSY=807]="BURNING_JEALOUSY",e[e.LASH_OUT=808]="LASH_OUT",e[e.POLTERGEIST=809]="POLTERGEIST",e[e.CORROSIVE_GAS=810]="CORROSIVE_GAS",e[e.COACHING=811]="COACHING",e[e.FLIP_TURN=812]="FLIP_TURN",e[e.TRIPLE_AXEL=813]="TRIPLE_AXEL",e[e.DUAL_WINGBEAT=814]="DUAL_WINGBEAT",e[e.SCORCHING_SANDS=815]="SCORCHING_SANDS",e[e.JUNGLE_HEALING=816]="JUNGLE_HEALING",e[e.WICKED_BLOW=817]="WICKED_BLOW",e[e.SURGING_STRIKES=818]="SURGING_STRIKES",e[e.THUNDER_CAGE=819]="THUNDER_CAGE",e[e.DRAGON_ENERGY=820]="DRAGON_ENERGY",e[e.FREEZING_GLARE=821]="FREEZING_GLARE",e[e.FIERY_WRATH=822]="FIERY_WRATH",e[e.THUNDEROUS_KICK=823]="THUNDEROUS_KICK",e[e.GLACIAL_LANCE=824]="GLACIAL_LANCE",e[e.ASTRAL_BARRAGE=825]="ASTRAL_BARRAGE",e[e.EERIE_SPELL=826]="EERIE_SPELL",e[e.DIRE_CLAW=827]="DIRE_CLAW",e[e.PSYSHIELD_BASH=828]="PSYSHIELD_BASH",e[e.POWER_SHIFT=829]="POWER_SHIFT",e[e.STONE_AXE=830]="STONE_AXE",e[e.SPRINGTIDE_STORM=831]="SPRINGTIDE_STORM",e[e.MYSTICAL_POWER=832]="MYSTICAL_POWER",e[e.RAGING_FURY=833]="RAGING_FURY",e[e.WAVE_CRASH=834]="WAVE_CRASH",e[e.CHLOROBLAST=835]="CHLOROBLAST",e[e.MOUNTAIN_GALE=836]="MOUNTAIN_GALE",e[e.VICTORY_DANCE=837]="VICTORY_DANCE",e[e.HEADLONG_RUSH=838]="HEADLONG_RUSH",e[e.BARB_BARRAGE=839]="BARB_BARRAGE",e[e.ESPER_WING=840]="ESPER_WING",e[e.BITTER_MALICE=841]="BITTER_MALICE",e[e.SHELTER=842]="SHELTER",e[e.TRIPLE_ARROWS=843]="TRIPLE_ARROWS",e[e.INFERNAL_PARADE=844]="INFERNAL_PARADE",e[e.CEASELESS_EDGE=845]="CEASELESS_EDGE",e[e.BLEAKWIND_STORM=846]="BLEAKWIND_STORM",e[e.WILDBOLT_STORM=847]="WILDBOLT_STORM",e[e.SANDSEAR_STORM=848]="SANDSEAR_STORM",e[e.LUNAR_BLESSING=849]="LUNAR_BLESSING",e[e.TAKE_HEART=850]="TAKE_HEART",e[e.TERA_BLAST=851]="TERA_BLAST",e[e.SILK_TRAP=852]="SILK_TRAP",e[e.AXE_KICK=853]="AXE_KICK",e[e.LAST_RESPECTS=854]="LAST_RESPECTS",e[e.LUMINA_CRASH=855]="LUMINA_CRASH",e[e.ORDER_UP=856]="ORDER_UP",e[e.JET_PUNCH=857]="JET_PUNCH",e[e.SPICY_EXTRACT=858]="SPICY_EXTRACT",e[e.SPIN_OUT=859]="SPIN_OUT",e[e.POPULATION_BOMB=860]="POPULATION_BOMB",e[e.ICE_SPINNER=861]="ICE_SPINNER",e[e.GLAIVE_RUSH=862]="GLAIVE_RUSH",e[e.REVIVAL_BLESSING=863]="REVIVAL_BLESSING",e[e.SALT_CURE=864]="SALT_CURE",e[e.TRIPLE_DIVE=865]="TRIPLE_DIVE",e[e.MORTAL_SPIN=866]="MORTAL_SPIN",e[e.DOODLE=867]="DOODLE",e[e.FILLET_AWAY=868]="FILLET_AWAY",e[e.KOWTOW_CLEAVE=869]="KOWTOW_CLEAVE",e[e.FLOWER_TRICK=870]="FLOWER_TRICK",e[e.TORCH_SONG=871]="TORCH_SONG",e[e.AQUA_STEP=872]="AQUA_STEP",e[e.RAGING_BULL=873]="RAGING_BULL",e[e.MAKE_IT_RAIN=874]="MAKE_IT_RAIN",e[e.PSYBLADE=875]="PSYBLADE",e[e.HYDRO_STEAM=876]="HYDRO_STEAM",e[e.RUINATION=877]="RUINATION",e[e.COLLISION_COURSE=878]="COLLISION_COURSE",e[e.ELECTRO_DRIFT=879]="ELECTRO_DRIFT",e[e.SHED_TAIL=880]="SHED_TAIL",e[e.CHILLY_RECEPTION=881]="CHILLY_RECEPTION",e[e.TIDY_UP=882]="TIDY_UP",e[e.SNOWSCAPE=883]="SNOWSCAPE",e[e.POUNCE=884]="POUNCE",e[e.TRAILBLAZE=885]="TRAILBLAZE",e[e.CHILLING_WATER=886]="CHILLING_WATER",e[e.HYPER_DRILL=887]="HYPER_DRILL",e[e.TWIN_BEAM=888]="TWIN_BEAM",e[e.RAGE_FIST=889]="RAGE_FIST",e[e.ARMOR_CANNON=890]="ARMOR_CANNON",e[e.BITTER_BLADE=891]="BITTER_BLADE",e[e.DOUBLE_SHOCK=892]="DOUBLE_SHOCK",e[e.GIGATON_HAMMER=893]="GIGATON_HAMMER",e[e.COMEUPPANCE=894]="COMEUPPANCE",e[e.AQUA_CUTTER=895]="AQUA_CUTTER",e[e.BLAZING_TORQUE=896]="BLAZING_TORQUE",e[e.WICKED_TORQUE=897]="WICKED_TORQUE",e[e.NOXIOUS_TORQUE=898]="NOXIOUS_TORQUE",e[e.COMBAT_TORQUE=899]="COMBAT_TORQUE",e[e.MAGICAL_TORQUE=900]="MAGICAL_TORQUE",e[e.BLOOD_MOON=901]="BLOOD_MOON",e[e.MATCHA_GOTCHA=902]="MATCHA_GOTCHA",e[e.SYRUP_BOMB=903]="SYRUP_BOMB",e[e.IVY_CUDGEL=904]="IVY_CUDGEL",e[e.ELECTRO_SHOT=905]="ELECTRO_SHOT",e[e.TERA_STARSTORM=906]="TERA_STARSTORM",e[e.FICKLE_BEAM=907]="FICKLE_BEAM",e[e.BURNING_BULWARK=908]="BURNING_BULWARK",e[e.THUNDERCLAP=909]="THUNDERCLAP",e[e.MIGHTY_CLEAVE=910]="MIGHTY_CLEAVE",e[e.TACHYON_CUTTER=911]="TACHYON_CUTTER",e[e.HARD_PRESS=912]="HARD_PRESS",e[e.DRAGON_CHEER=913]="DRAGON_CHEER",e[e.ALLURING_VOICE=914]="ALLURING_VOICE",e[e.TEMPER_FLARE=915]="TEMPER_FLARE",e[e.SUPERCELL_SLAM=916]="SUPERCELL_SLAM",e[e.PSYCHIC_NOISE=917]="PSYCHIC_NOISE",e[e.UPPER_HAND=918]="UPPER_HAND",e[e.MALIGNANT_CHAIN=919]="MALIGNANT_CHAIN",e))(wA||{});const pK={type:"logger",log(e){this.output("log",e)},warn(e){this.output("warn",e)},error(e){this.output("error",e)},output(e,t){console&&console[e]&&console[e].apply(console,t)}},wh=class wh{constructor(t){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.init(t,s)}init(t){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.prefix=s.prefix||"i18next:",this.logger=t||pK,this.options=s,this.debug=s.debug}log(){for(var t=arguments.length,s=new Array(t),h=0;h<t;h++)s[h]=arguments[h];return this.forward(s,"log","",!0)}warn(){for(var t=arguments.length,s=new Array(t),h=0;h<t;h++)s[h]=arguments[h];return this.forward(s,"warn","",!0)}error(){for(var t=arguments.length,s=new Array(t),h=0;h<t;h++)s[h]=arguments[h];return this.forward(s,"error","")}deprecate(){for(var t=arguments.length,s=new Array(t),h=0;h<t;h++)s[h]=arguments[h];return this.forward(s,"warn","WARNING DEPRECATED: ",!0)}forward(t,s,h,S){return S&&!this.debug?null:(typeof t[0]=="string"&&(t[0]=`${h}${this.prefix} ${t[0]}`),this.logger[s](t))}create(t){return new wh(this.logger,{prefix:`${this.prefix}:${t}:`,...this.options})}clone(t){return t=t||this.options,t.prefix=t.prefix||this.prefix,new wh(this.logger,t)}};r(wh,"Logger");let np=wh;var Ii=new np;const Ry=class Ry{constructor(){this.observers={}}on(t,s){return t.split(" ").forEach(h=>{this.observers[h]||(this.observers[h]=new Map);const S=this.observers[h].get(s)||0;this.observers[h].set(s,S+1)}),this}off(t,s){if(this.observers[t]){if(!s){delete this.observers[t];return}this.observers[t].delete(s)}}emit(t){for(var s=arguments.length,h=new Array(s>1?s-1:0),S=1;S<s;S++)h[S-1]=arguments[S];this.observers[t]&&Array.from(this.observers[t].entries()).forEach(n=>{let[T,i]=n;for(let f=0;f<i;f++)T(...h)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(n=>{let[T,i]=n;for(let f=0;f<i;f++)T.apply(T,[t,...h])})}};r(Ry,"EventEmitter");let Wa=Ry;function Eh(){let e,t;const s=new Promise((h,S)=>{e=h,t=S});return s.resolve=e,s.reject=t,s}r(Eh,"defer");function Y1(e){return e==null?"":""+e}r(Y1,"makeString");function gK(e,t,s){e.forEach(h=>{t[h]&&(s[h]=t[h])})}r(gK,"copy");const mK=/###/g;function Oh(e,t,s){function h(T){return T&&T.indexOf("###")>-1?T.replace(mK,"."):T}r(h,"cleanKey");function S(){return!e||typeof e=="string"}r(S,"canNotTraverseDeeper");const E=typeof t!="string"?t:t.split(".");let n=0;for(;n<E.length-1;){if(S())return{};const T=h(E[n]);!e[T]&&s&&(e[T]=new s),Object.prototype.hasOwnProperty.call(e,T)?e=e[T]:e={},++n}return S()?{}:{obj:e,k:h(E[n])}}r(Oh,"getLastOfPath");function k1(e,t,s){const{obj:h,k:S}=Oh(e,t,Object);if(h!==void 0||t.length===1){h[S]=s;return}let E=t[t.length-1],n=t.slice(0,t.length-1),T=Oh(e,n,Object);for(;T.obj===void 0&&n.length;)E=`${n[n.length-1]}.${E}`,n=n.slice(0,n.length-1),T=Oh(e,n,Object),T&&T.obj&&typeof T.obj[`${T.k}.${E}`]<"u"&&(T.obj=void 0);T.obj[`${T.k}.${E}`]=s}r(k1,"setPath");function xK(e,t,s,h){const{obj:S,k:E}=Oh(e,t,Object);S[E]=S[E]||[],S[E].push(s)}r(xK,"pushPath");function gd(e,t){const{obj:s,k:h}=Oh(e,t);if(s)return s[h]}r(gd,"getPath");function yK(e,t,s){const h=gd(e,s);return h!==void 0?h:gd(t,s)}r(yK,"getPathWithDefaults");function MA(e,t,s){for(const h in t)h!=="__proto__"&&h!=="constructor"&&(h in e?typeof e[h]=="string"||e[h]instanceof String||typeof t[h]=="string"||t[h]instanceof String?s&&(e[h]=t[h]):MA(e[h],t[h],s):e[h]=t[h]);return e}r(MA,"deepExtend");function dn(e){return e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}r(dn,"regexEscape");var SK={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};function TK(e){return typeof e=="string"?e.replace(/[&<>"'\/]/g,t=>SK[t]):e}r(TK,"escape");const Ay=class Ay{constructor(t){this.capacity=t,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(t){const s=this.regExpMap.get(t);if(s!==void 0)return s;const h=new RegExp(t);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(t,h),this.regExpQueue.push(t),h}};r(Ay,"RegExpCache");let ap=Ay;const CK=[" ",",","?","!",";"],EK=new ap(20);function PK(e,t,s){t=t||"",s=s||"";const h=CK.filter(n=>t.indexOf(n)<0&&s.indexOf(n)<0);if(h.length===0)return!0;const S=EK.getRegExp(`(${h.map(n=>n==="?"?"\\?":n).join("|")})`);let E=!S.test(e);if(!E){const n=e.indexOf(s);n>0&&!S.test(e.substring(0,n))&&(E=!0)}return E}r(PK,"looksLikeObjectPath");function hp(e,t){let s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:".";if(!e)return;if(e[t])return e[t];const h=t.split(s);let S=e;for(let E=0;E<h.length;){if(!S||typeof S!="object")return;let n,T="";for(let i=E;i<h.length;++i)if(i!==E&&(T+=s),T+=h[i],n=S[T],n!==void 0){if(["string","number","boolean"].indexOf(typeof n)>-1&&i<h.length-1)continue;E+=i-E+1;break}S=n}return S}r(hp,"deepFind");function md(e){return e&&e.indexOf("_")>0?e.replace("_","-"):e}r(md,"getCleanedCode");const Ly=class Ly extends Wa{constructor(t){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{ns:["translation"],defaultNS:"translation"};super(),this.data=t||{},this.options=s,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(t){this.options.ns.indexOf(t)<0&&this.options.ns.push(t)}removeNamespaces(t){const s=this.options.ns.indexOf(t);s>-1&&this.options.ns.splice(s,1)}getResource(t,s,h){let S=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const E=S.keySeparator!==void 0?S.keySeparator:this.options.keySeparator,n=S.ignoreJSONStructure!==void 0?S.ignoreJSONStructure:this.options.ignoreJSONStructure;let T;t.indexOf(".")>-1?T=t.split("."):(T=[t,s],h&&(Array.isArray(h)?T.push(...h):typeof h=="string"&&E?T.push(...h.split(E)):T.push(h)));const i=gd(this.data,T);return!i&&!s&&!h&&t.indexOf(".")>-1&&(t=T[0],s=T[1],h=T.slice(2).join(".")),i||!n||typeof h!="string"?i:hp(this.data&&this.data[t]&&this.data[t][s],h,E)}addResource(t,s,h,S){let E=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{silent:!1};const n=E.keySeparator!==void 0?E.keySeparator:this.options.keySeparator;let T=[t,s];h&&(T=T.concat(n?h.split(n):h)),t.indexOf(".")>-1&&(T=t.split("."),S=s,s=T[1]),this.addNamespaces(s),k1(this.data,T,S),E.silent||this.emit("added",t,s,h,S)}addResources(t,s,h){let S=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{silent:!1};for(const E in h)(typeof h[E]=="string"||Array.isArray(h[E]))&&this.addResource(t,s,E,h[E],{silent:!0});S.silent||this.emit("added",t,s,h)}addResourceBundle(t,s,h,S,E){let n=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{silent:!1,skipCopy:!1},T=[t,s];t.indexOf(".")>-1&&(T=t.split("."),S=h,h=s,s=T[1]),this.addNamespaces(s);let i=gd(this.data,T)||{};n.skipCopy||(h=JSON.parse(JSON.stringify(h))),S?MA(i,h,E):i={...i,...h},k1(this.data,T,i),n.silent||this.emit("added",t,s,h)}removeResourceBundle(t,s){this.hasResourceBundle(t,s)&&delete this.data[t][s],this.removeNamespaces(s),this.emit("removed",t,s)}hasResourceBundle(t,s){return this.getResource(t,s)!==void 0}getResourceBundle(t,s){return s||(s=this.options.defaultNS),this.options.compatibilityAPI==="v1"?{...this.getResource(t,s)}:this.getResource(t,s)}getDataByLanguage(t){return this.data[t]}hasLanguageSomeTranslations(t){const s=this.getDataByLanguage(t);return!!(s&&Object.keys(s)||[]).find(S=>s[S]&&Object.keys(s[S]).length>0)}toJSON(){return this.data}};r(Ly,"ResourceStore");let xd=Ly;var bA={processors:{},addPostProcessor(e){this.processors[e.name]=e},handle(e,t,s,h,S){return e.forEach(E=>{this.processors[E]&&(t=this.processors[E].process(t,s,h,S))}),t}};const H1={},Ld=class Ld extends Wa{constructor(t){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(),gK(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],t,this),this.options=s,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=Ii.create("translator")}changeLanguage(t){t&&(this.language=t)}exists(t){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}};if(t==null)return!1;const h=this.resolve(t,s);return h&&h.res!==void 0}extractFromKey(t,s){let h=s.nsSeparator!==void 0?s.nsSeparator:this.options.nsSeparator;h===void 0&&(h=":");const S=s.keySeparator!==void 0?s.keySeparator:this.options.keySeparator;let E=s.ns||this.options.defaultNS||[];const n=h&&t.indexOf(h)>-1,T=!this.options.userDefinedKeySeparator&&!s.keySeparator&&!this.options.userDefinedNsSeparator&&!s.nsSeparator&&!PK(t,h,S);if(n&&!T){const i=t.match(this.interpolator.nestingRegexp);if(i&&i.length>0)return{key:t,namespaces:E};const f=t.split(h);(h!==S||h===S&&this.options.ns.indexOf(f[0])>-1)&&(E=f.shift()),t=f.join(S)}return typeof E=="string"&&(E=[E]),{key:t,namespaces:E}}translate(t,s,h){if(typeof s!="object"&&this.options.overloadTranslationOptionHandler&&(s=this.options.overloadTranslationOptionHandler(arguments)),typeof s=="object"&&(s={...s}),s||(s={}),t==null)return"";Array.isArray(t)||(t=[String(t)]);const S=s.returnDetails!==void 0?s.returnDetails:this.options.returnDetails,E=s.keySeparator!==void 0?s.keySeparator:this.options.keySeparator,{key:n,namespaces:T}=this.extractFromKey(t[t.length-1],s),i=T[T.length-1],f=s.lng||this.language,y=s.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(f&&f.toLowerCase()==="cimode"){if(y){const m=s.nsSeparator||this.options.nsSeparator;return S?{res:`${i}${m}${n}`,usedKey:n,exactUsedKey:n,usedLng:f,usedNS:i,usedParams:this.getUsedParamsDetails(s)}:`${i}${m}${n}`}return S?{res:n,usedKey:n,exactUsedKey:n,usedLng:f,usedNS:i,usedParams:this.getUsedParamsDetails(s)}:n}const c=this.resolve(t,s);let o=c&&c.res;const l=c&&c.usedKey||n,a=c&&c.exactUsedKey||n,u=Object.prototype.toString.apply(o),v=["[object Number]","[object Function]","[object RegExp]"],d=s.joinArrays!==void 0?s.joinArrays:this.options.joinArrays,p=!this.i18nFormat||this.i18nFormat.handleAsObject;if(p&&o&&(typeof o!="string"&&typeof o!="boolean"&&typeof o!="number")&&v.indexOf(u)<0&&!(typeof d=="string"&&Array.isArray(o))){if(!s.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const m=this.options.returnedObjectHandler?this.options.returnedObjectHandler(l,o,{...s,ns:T}):`key '${n} (${this.language})' returned an object instead of string.`;return S?(c.res=m,c.usedParams=this.getUsedParamsDetails(s),c):m}if(E){const m=Array.isArray(o),x=m?[]:{},C=m?a:l;for(const P in o)if(Object.prototype.hasOwnProperty.call(o,P)){const A=`${C}${E}${P}`;x[P]=this.translate(A,{...s,joinArrays:!1,ns:T}),x[P]===A&&(x[P]=o[P])}o=x}}else if(p&&typeof d=="string"&&Array.isArray(o))o=o.join(d),o&&(o=this.extendTranslation(o,t,s,h));else{let m=!1,x=!1;const C=s.count!==void 0&&typeof s.count!="string",P=Ld.hasDefaultValue(s),A=C?this.pluralResolver.getSuffix(f,s.count,s):"",R=s.ordinal&&C?this.pluralResolver.getSuffix(f,s.count,{ordinal:!1}):"",L=C&&!s.ordinal&&s.count===0&&this.pluralResolver.shouldUseIntlApi(),O=L&&s[`defaultValue${this.options.pluralSeparator}zero`]||s[`defaultValue${A}`]||s[`defaultValue${R}`]||s.defaultValue;!this.isValidLookup(o)&&P&&(m=!0,o=O),this.isValidLookup(o)||(x=!0,o=n);const b=(s.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&x?void 0:o,F=P&&O!==o&&this.options.updateMissing;if(x||m||F){if(this.logger.log(F?"updateKey":"missingKey",f,i,n,F?O:o),E){const G=this.resolve(n,{...s,keySeparator:!1});G&&G.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let M=[];const I=this.languageUtils.getFallbackCodes(this.options.fallbackLng,s.lng||this.language);if(this.options.saveMissingTo==="fallback"&&I&&I[0])for(let G=0;G<I.length;G++)M.push(I[G]);else this.options.saveMissingTo==="all"?M=this.languageUtils.toResolveHierarchy(s.lng||this.language):M.push(s.lng||this.language);const B=r((G,N,z)=>{const H=P&&z!==o?z:b;this.options.missingKeyHandler?this.options.missingKeyHandler(G,i,N,H,F,s):this.backendConnector&&this.backendConnector.saveMissing&&this.backendConnector.saveMissing(G,i,N,H,F,s),this.emit("missingKey",G,i,N,o)},"send");this.options.saveMissing&&(this.options.saveMissingPlurals&&C?M.forEach(G=>{const N=this.pluralResolver.getSuffixes(G,s);L&&s[`defaultValue${this.options.pluralSeparator}zero`]&&N.indexOf(`${this.options.pluralSeparator}zero`)<0&&N.push(`${this.options.pluralSeparator}zero`),N.forEach(z=>{B([G],n+z,s[`defaultValue${z}`]||O)})}):B(M,n,O))}o=this.extendTranslation(o,t,s,c,h),x&&o===n&&this.options.appendNamespaceToMissingKey&&(o=`${i}:${n}`),(x||m)&&this.options.parseMissingKeyHandler&&(this.options.compatibilityAPI!=="v1"?o=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${i}:${n}`:n,m?o:void 0):o=this.options.parseMissingKeyHandler(o))}return S?(c.res=o,c.usedParams=this.getUsedParamsDetails(s),c):o}extendTranslation(t,s,h,S,E){var n=this;if(this.i18nFormat&&this.i18nFormat.parse)t=this.i18nFormat.parse(t,{...this.options.interpolation.defaultVariables,...h},h.lng||this.language||S.usedLng,S.usedNS,S.usedKey,{resolved:S});else if(!h.skipInterpolation){h.interpolation&&this.interpolator.init({...h,interpolation:{...this.options.interpolation,...h.interpolation}});const f=typeof t=="string"&&(h&&h.interpolation&&h.interpolation.skipOnVariables!==void 0?h.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let y;if(f){const o=t.match(this.interpolator.nestingRegexp);y=o&&o.length}let c=h.replace&&typeof h.replace!="string"?h.replace:h;if(this.options.interpolation.defaultVariables&&(c={...this.options.interpolation.defaultVariables,...c}),t=this.interpolator.interpolate(t,c,h.lng||this.language||S.usedLng,h),f){const o=t.match(this.interpolator.nestingRegexp),l=o&&o.length;y<l&&(h.nest=!1)}!h.lng&&this.options.compatibilityAPI!=="v1"&&S&&S.res&&(h.lng=this.language||S.usedLng),h.nest!==!1&&(t=this.interpolator.nest(t,function(){for(var o=arguments.length,l=new Array(o),a=0;a<o;a++)l[a]=arguments[a];return E&&E[0]===l[0]&&!h.context?(n.logger.warn(`It seems you are nesting recursively key: ${l[0]} in key: ${s[0]}`),null):n.translate(...l,s)},h)),h.interpolation&&this.interpolator.reset()}const T=h.postProcess||this.options.postProcess,i=typeof T=="string"?[T]:T;return t!=null&&i&&i.length&&h.applyPostProcessor!==!1&&(t=bA.handle(i,t,s,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...S,usedParams:this.getUsedParamsDetails(h)},...h}:h,this)),t}resolve(t){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},h,S,E,n,T;return typeof t=="string"&&(t=[t]),t.forEach(i=>{if(this.isValidLookup(h))return;const f=this.extractFromKey(i,s),y=f.key;S=y;let c=f.namespaces;this.options.fallbackNS&&(c=c.concat(this.options.fallbackNS));const o=s.count!==void 0&&typeof s.count!="string",l=o&&!s.ordinal&&s.count===0&&this.pluralResolver.shouldUseIntlApi(),a=s.context!==void 0&&(typeof s.context=="string"||typeof s.context=="number")&&s.context!=="",u=s.lngs?s.lngs:this.languageUtils.toResolveHierarchy(s.lng||this.language,s.fallbackLng);c.forEach(v=>{this.isValidLookup(h)||(T=v,!H1[`${u[0]}-${v}`]&&this.utils&&this.utils.hasLoadedNamespace&&!this.utils.hasLoadedNamespace(T)&&(H1[`${u[0]}-${v}`]=!0,this.logger.warn(`key "${S}" for languages "${u.join(", ")}" won't get resolved as namespace "${T}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),u.forEach(d=>{if(this.isValidLookup(h))return;n=d;const p=[y];if(this.i18nFormat&&this.i18nFormat.addLookupKeys)this.i18nFormat.addLookupKeys(p,y,d,v,s);else{let m;o&&(m=this.pluralResolver.getSuffix(d,s.count,s));const x=`${this.options.pluralSeparator}zero`,C=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(o&&(p.push(y+m),s.ordinal&&m.indexOf(C)===0&&p.push(y+m.replace(C,this.options.pluralSeparator)),l&&p.push(y+x)),a){const P=`${y}${this.options.contextSeparator}${s.context}`;p.push(P),o&&(p.push(P+m),s.ordinal&&m.indexOf(C)===0&&p.push(P+m.replace(C,this.options.pluralSeparator)),l&&p.push(P+x))}}let g;for(;g=p.pop();)this.isValidLookup(h)||(E=g,h=this.getResource(d,v,g,s))}))})}),{res:h,usedKey:S,exactUsedKey:E,usedLng:n,usedNS:T}}isValidLookup(t){return t!==void 0&&!(!this.options.returnNull&&t===null)&&!(!this.options.returnEmptyString&&t==="")}getResource(t,s,h){let S=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return this.i18nFormat&&this.i18nFormat.getResource?this.i18nFormat.getResource(t,s,h,S):this.resourceStore.getResource(t,s,h,S)}getUsedParamsDetails(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const s=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],h=t.replace&&typeof t.replace!="string";let S=h?t.replace:t;if(h&&typeof t.count<"u"&&(S.count=t.count),this.options.interpolation.defaultVariables&&(S={...this.options.interpolation.defaultVariables,...S}),!h){S={...S};for(const E of s)delete S[E]}return S}static hasDefaultValue(t){const s="defaultValue";for(const h in t)if(Object.prototype.hasOwnProperty.call(t,h)&&s===h.substring(0,s.length)&&t[h]!==void 0)return!0;return!1}};r(Ld,"Translator");let yd=Ld;function zc(e){return e.charAt(0).toUpperCase()+e.slice(1)}r(zc,"capitalize");const Oy=class Oy{constructor(t){this.options=t,this.supportedLngs=this.options.supportedLngs||!1,this.logger=Ii.create("languageUtils")}getScriptPartFromCode(t){if(t=md(t),!t||t.indexOf("-")<0)return null;const s=t.split("-");return s.length===2||(s.pop(),s[s.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(s.join("-"))}getLanguagePartFromCode(t){if(t=md(t),!t||t.indexOf("-")<0)return t;const s=t.split("-");return this.formatLanguageCode(s[0])}formatLanguageCode(t){if(typeof t=="string"&&t.indexOf("-")>-1){const s=["hans","hant","latn","cyrl","cans","mong","arab"];let h=t.split("-");return this.options.lowerCaseLng?h=h.map(S=>S.toLowerCase()):h.length===2?(h[0]=h[0].toLowerCase(),h[1]=h[1].toUpperCase(),s.indexOf(h[1].toLowerCase())>-1&&(h[1]=zc(h[1].toLowerCase()))):h.length===3&&(h[0]=h[0].toLowerCase(),h[1].length===2&&(h[1]=h[1].toUpperCase()),h[0]!=="sgn"&&h[2].length===2&&(h[2]=h[2].toUpperCase()),s.indexOf(h[1].toLowerCase())>-1&&(h[1]=zc(h[1].toLowerCase())),s.indexOf(h[2].toLowerCase())>-1&&(h[2]=zc(h[2].toLowerCase()))),h.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?t.toLowerCase():t}isSupportedCode(t){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(t=this.getLanguagePartFromCode(t)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(t)>-1}getBestMatchFromCodes(t){if(!t)return null;let s;return t.forEach(h=>{if(s)return;const S=this.formatLanguageCode(h);(!this.options.supportedLngs||this.isSupportedCode(S))&&(s=S)}),!s&&this.options.supportedLngs&&t.forEach(h=>{if(s)return;const S=this.getLanguagePartFromCode(h);if(this.isSupportedCode(S))return s=S;s=this.options.supportedLngs.find(E=>{if(E===S)return E;if(!(E.indexOf("-")<0&&S.indexOf("-")<0)&&(E.indexOf("-")>0&&S.indexOf("-")<0&&E.substring(0,E.indexOf("-"))===S||E.indexOf(S)===0&&S.length>1))return E})}),s||(s=this.getFallbackCodes(this.options.fallbackLng)[0]),s}getFallbackCodes(t,s){if(!t)return[];if(typeof t=="function"&&(t=t(s)),typeof t=="string"&&(t=[t]),Array.isArray(t))return t;if(!s)return t.default||[];let h=t[s];return h||(h=t[this.getScriptPartFromCode(s)]),h||(h=t[this.formatLanguageCode(s)]),h||(h=t[this.getLanguagePartFromCode(s)]),h||(h=t.default),h||[]}toResolveHierarchy(t,s){const h=this.getFallbackCodes(s||this.options.fallbackLng||[],t),S=[],E=r(n=>{n&&(this.isSupportedCode(n)?S.push(n):this.logger.warn(`rejecting language code not found in supportedLngs: ${n}`))},"addCode");return typeof t=="string"&&(t.indexOf("-")>-1||t.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&E(this.formatLanguageCode(t)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&E(this.getScriptPartFromCode(t)),this.options.load!=="currentOnly"&&E(this.getLanguagePartFromCode(t))):typeof t=="string"&&E(this.formatLanguageCode(t)),h.forEach(n=>{S.indexOf(n)<0&&E(this.formatLanguageCode(n))}),S}};r(Oy,"LanguageUtil");let Sd=Oy,RK=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","tl","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","hi","hu","hy","ia","it","kk","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","ht","id","ja","jbo","ka","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","cnr","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21},{lngs:["he","iw"],nr:[1,2,20,21],fc:22}],AK={1:function(e){return+(e>1)},2:function(e){return+(e!=1)},3:function(e){return 0},4:function(e){return e%10==1&&e%100!=11?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2},5:function(e){return e==0?0:e==1?1:e==2?2:e%100>=3&&e%100<=10?3:e%100>=11?4:5},6:function(e){return e==1?0:e>=2&&e<=4?1:2},7:function(e){return e==1?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2},8:function(e){return e==1?0:e==2?1:e!=8&&e!=11?2:3},9:function(e){return+(e>=2)},10:function(e){return e==1?0:e==2?1:e<7?2:e<11?3:4},11:function(e){return e==1||e==11?0:e==2||e==12?1:e>2&&e<20?2:3},12:function(e){return+(e%10!=1||e%100==11)},13:function(e){return+(e!==0)},14:function(e){return e==1?0:e==2?1:e==3?2:3},15:function(e){return e%10==1&&e%100!=11?0:e%10>=2&&(e%100<10||e%100>=20)?1:2},16:function(e){return e%10==1&&e%100!=11?0:e!==0?1:2},17:function(e){return e==1||e%10==1&&e%100!=11?0:1},18:function(e){return e==0?0:e==1?1:2},19:function(e){return e==1?0:e==0||e%100>1&&e%100<11?1:e%100>10&&e%100<20?2:3},20:function(e){return e==1?0:e==0||e%100>0&&e%100<20?1:2},21:function(e){return e%100==1?1:e%100==2?2:e%100==3||e%100==4?3:0},22:function(e){return e==1?0:e==2?1:(e<0||e>10)&&e%10==0?2:3}};const LK=["v1","v2","v3"],OK=["v4"],X1={zero:0,one:1,two:2,few:3,many:4,other:5};function wK(){const e={};return RK.forEach(t=>{t.lngs.forEach(s=>{e[s]={numbers:t.nr,plurals:AK[t.fc]}})}),e}r(wK,"createRules");const wy=class wy{constructor(t){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.languageUtils=t,this.options=s,this.logger=Ii.create("pluralResolver"),(!this.options.compatibilityJSON||OK.includes(this.options.compatibilityJSON))&&(typeof Intl>"u"||!Intl.PluralRules)&&(this.options.compatibilityJSON="v3",this.logger.error("Your environment seems not to be Intl API compatible, use an Intl.PluralRules polyfill. Will fallback to the compatibilityJSON v3 format handling.")),this.rules=wK()}addRule(t,s){this.rules[t]=s}getRule(t){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.shouldUseIntlApi())try{return new Intl.PluralRules(md(t==="dev"?"en":t),{type:s.ordinal?"ordinal":"cardinal"})}catch{return}return this.rules[t]||this.rules[this.languageUtils.getLanguagePartFromCode(t)]}needsPlural(t){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const h=this.getRule(t,s);return this.shouldUseIntlApi()?h&&h.resolvedOptions().pluralCategories.length>1:h&&h.numbers.length>1}getPluralFormsOfKey(t,s){let h=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.getSuffixes(t,h).map(S=>`${s}${S}`)}getSuffixes(t){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const h=this.getRule(t,s);return h?this.shouldUseIntlApi()?h.resolvedOptions().pluralCategories.sort((S,E)=>X1[S]-X1[E]).map(S=>`${this.options.prepend}${s.ordinal?`ordinal${this.options.prepend}`:""}${S}`):h.numbers.map(S=>this.getSuffix(t,S,s)):[]}getSuffix(t,s){let h=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const S=this.getRule(t,h);return S?this.shouldUseIntlApi()?`${this.options.prepend}${h.ordinal?`ordinal${this.options.prepend}`:""}${S.select(s)}`:this.getSuffixRetroCompatible(S,s):(this.logger.warn(`no plural rule found for: ${t}`),"")}getSuffixRetroCompatible(t,s){const h=t.noAbs?t.plurals(s):t.plurals(Math.abs(s));let S=t.numbers[h];this.options.simplifyPluralSuffix&&t.numbers.length===2&&t.numbers[0]===1&&(S===2?S="plural":S===1&&(S=""));const E=r(()=>this.options.prepend&&S.toString()?this.options.prepend+S.toString():S.toString(),"returnSuffix");return this.options.compatibilityJSON==="v1"?S===1?"":typeof S=="number"?`_plural_${S.toString()}`:E():this.options.compatibilityJSON==="v2"||this.options.simplifyPluralSuffix&&t.numbers.length===2&&t.numbers[0]===1?E():this.options.prepend&&h.toString()?this.options.prepend+h.toString():h.toString()}shouldUseIntlApi(){return!LK.includes(this.options.compatibilityJSON)}};r(wy,"PluralResolver");let op=wy;function $1(e,t,s){let h=arguments.length>3&&arguments[3]!==void 0?arguments[3]:".",S=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,E=yK(e,t,s);return!E&&S&&typeof s=="string"&&(E=hp(e,s,h),E===void 0&&(E=hp(t,s,h))),E}r($1,"deepFindWithDefaults");const My=class My{constructor(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=Ii.create("interpolator"),this.options=t,this.format=t.interpolation&&t.interpolation.format||(s=>s),this.init(t)}init(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};t.interpolation||(t.interpolation={escapeValue:!0});const{escape:s,escapeValue:h,useRawValueToEscape:S,prefix:E,prefixEscaped:n,suffix:T,suffixEscaped:i,formatSeparator:f,unescapeSuffix:y,unescapePrefix:c,nestingPrefix:o,nestingPrefixEscaped:l,nestingSuffix:a,nestingSuffixEscaped:u,nestingOptionsSeparator:v,maxReplaces:d,alwaysFormat:p}=t.interpolation;this.escape=s!==void 0?s:TK,this.escapeValue=h!==void 0?h:!0,this.useRawValueToEscape=S!==void 0?S:!1,this.prefix=E?dn(E):n||"{{",this.suffix=T?dn(T):i||"}}",this.formatSeparator=f||",",this.unescapePrefix=y?"":c||"-",this.unescapeSuffix=this.unescapePrefix?"":y||"",this.nestingPrefix=o?dn(o):l||dn("$t("),this.nestingSuffix=a?dn(a):u||dn(")"),this.nestingOptionsSeparator=v||",",this.maxReplaces=d||1e3,this.alwaysFormat=p!==void 0?p:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const t=r((s,h)=>s&&s.source===h?(s.lastIndex=0,s):new RegExp(h,"g"),"getOrResetRegExp");this.regexp=t(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=t(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=t(this.nestingRegexp,`${this.nestingPrefix}(.+?)${this.nestingSuffix}`)}interpolate(t,s,h,S){let E,n,T;const i=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{};function f(a){return a.replace(/\$/g,"$$$$")}r(f,"regexSafe");const y=r(a=>{if(a.indexOf(this.formatSeparator)<0){const p=$1(s,i,a,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(p,void 0,h,{...S,...s,interpolationkey:a}):p}const u=a.split(this.formatSeparator),v=u.shift().trim(),d=u.join(this.formatSeparator).trim();return this.format($1(s,i,v,this.options.keySeparator,this.options.ignoreJSONStructure),d,h,{...S,...s,interpolationkey:v})},"handleFormat");this.resetRegExp();const c=S&&S.missingInterpolationHandler||this.options.missingInterpolationHandler,o=S&&S.interpolation&&S.interpolation.skipOnVariables!==void 0?S.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:r(a=>f(a),"safeValue")},{regex:this.regexp,safeValue:r(a=>this.escapeValue?f(this.escape(a)):f(a),"safeValue")}].forEach(a=>{for(T=0;E=a.regex.exec(t);){const u=E[1].trim();if(n=y(u),n===void 0)if(typeof c=="function"){const d=c(t,E,S);n=typeof d=="string"?d:""}else if(S&&Object.prototype.hasOwnProperty.call(S,u))n="";else if(o){n=E[0];continue}else this.logger.warn(`missed to pass in variable ${u} for interpolating ${t}`),n="";else typeof n!="string"&&!this.useRawValueToEscape&&(n=Y1(n));const v=a.safeValue(n);if(t=t.replace(E[0],v),o?(a.regex.lastIndex+=n.length,a.regex.lastIndex-=E[0].length):a.regex.lastIndex=0,T++,T>=this.maxReplaces)break}}),t}nest(t,s){let h=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},S,E,n;function T(i,f){const y=this.nestingOptionsSeparator;if(i.indexOf(y)<0)return i;const c=i.split(new RegExp(`${y}[ ]*{`));let o=`{${c[1]}`;i=c[0],o=this.interpolate(o,n);const l=o.match(/'/g),a=o.match(/"/g);(l&&l.length%2===0&&!a||a.length%2!==0)&&(o=o.replace(/'/g,'"'));try{n=JSON.parse(o),f&&(n={...f,...n})}catch(u){return this.logger.warn(`failed parsing options string in nesting for key ${i}`,u),`${i}${y}${o}`}return n.defaultValue&&n.defaultValue.indexOf(this.prefix)>-1&&delete n.defaultValue,i}for(r(T,"handleHasOptions");S=this.nestingRegexp.exec(t);){let i=[];n={...h},n=n.replace&&typeof n.replace!="string"?n.replace:n,n.applyPostProcessor=!1,delete n.defaultValue;let f=!1;if(S[0].indexOf(this.formatSeparator)!==-1&&!/{.*}/.test(S[1])){const y=S[1].split(this.formatSeparator).map(c=>c.trim());S[1]=y.shift(),i=y,f=!0}if(E=s(T.call(this,S[1].trim(),n),n),E&&S[0]===t&&typeof E!="string")return E;typeof E!="string"&&(E=Y1(E)),E||(this.logger.warn(`missed to resolve ${S[1]} for nesting ${t}`),E=""),f&&(E=i.reduce((y,c)=>this.format(y,c,h.lng,{...h,interpolationkey:S[1].trim()}),E.trim())),t=t.replace(S[0],E),this.regexp.lastIndex=0}return t}};r(My,"Interpolator");let lp=My;function MK(e){let t=e.toLowerCase().trim();const s={};if(e.indexOf("(")>-1){const h=e.split("(");t=h[0].toLowerCase().trim();const S=h[1].substring(0,h[1].length-1);t==="currency"&&S.indexOf(":")<0?s.currency||(s.currency=S.trim()):t==="relativetime"&&S.indexOf(":")<0?s.range||(s.range=S.trim()):S.split(";").forEach(n=>{if(n){const[T,...i]=n.split(":"),f=i.join(":").trim().replace(/^'+|'+$/g,""),y=T.trim();s[y]||(s[y]=f),f==="false"&&(s[y]=!1),f==="true"&&(s[y]=!0),isNaN(f)||(s[y]=parseInt(f,10))}})}return{formatName:t,formatOptions:s}}r(MK,"parseFormatStr");function fn(e){const t={};return r(function(h,S,E){const n=S+JSON.stringify(E);let T=t[n];return T||(T=e(md(S),E),t[n]=T),T(h)},"invokeFormatter")}r(fn,"createCachedFormatter");const by=class by{constructor(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=Ii.create("formatter"),this.options=t,this.formats={number:fn((s,h)=>{const S=new Intl.NumberFormat(s,{...h});return E=>S.format(E)}),currency:fn((s,h)=>{const S=new Intl.NumberFormat(s,{...h,style:"currency"});return E=>S.format(E)}),datetime:fn((s,h)=>{const S=new Intl.DateTimeFormat(s,{...h});return E=>S.format(E)}),relativetime:fn((s,h)=>{const S=new Intl.RelativeTimeFormat(s,{...h});return E=>S.format(E,h.range||"day")}),list:fn((s,h)=>{const S=new Intl.ListFormat(s,{...h});return E=>S.format(E)})},this.init(t)}init(t){const h=(arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}}).interpolation;this.formatSeparator=h.formatSeparator?h.formatSeparator:h.formatSeparator||","}add(t,s){this.formats[t.toLowerCase().trim()]=s}addCached(t,s){this.formats[t.toLowerCase().trim()]=fn(s)}format(t,s,h){let S=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return s.split(this.formatSeparator).reduce((T,i)=>{const{formatName:f,formatOptions:y}=MK(i);if(this.formats[f]){let c=T;try{const o=S&&S.formatParams&&S.formatParams[S.interpolationkey]||{},l=o.locale||o.lng||S.locale||S.lng||h;c=this.formats[f](T,l,{...y,...S,...o})}catch(o){this.logger.warn(o)}return c}else this.logger.warn(`there was no format function for ${f}`);return T},t)}};r(by,"Formatter");let up=by;function bK(e,t){e.pending[t]!==void 0&&(delete e.pending[t],e.pendingCount--)}r(bK,"removePending");const Iy=class Iy extends Wa{constructor(t,s,h){let S=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};super(),this.backend=t,this.store=s,this.services=h,this.languageUtils=h.languageUtils,this.options=S,this.logger=Ii.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=S.maxParallelReads||10,this.readingCalls=0,this.maxRetries=S.maxRetries>=0?S.maxRetries:5,this.retryTimeout=S.retryTimeout>=1?S.retryTimeout:350,this.state={},this.queue=[],this.backend&&this.backend.init&&this.backend.init(h,S.backend,S)}queueLoad(t,s,h,S){const E={},n={},T={},i={};return t.forEach(f=>{let y=!0;s.forEach(c=>{const o=`${f}|${c}`;!h.reload&&this.store.hasResourceBundle(f,c)?this.state[o]=2:this.state[o]<0||(this.state[o]===1?n[o]===void 0&&(n[o]=!0):(this.state[o]=1,y=!1,n[o]===void 0&&(n[o]=!0),E[o]===void 0&&(E[o]=!0),i[c]===void 0&&(i[c]=!0)))}),y||(T[f]=!0)}),(Object.keys(E).length||Object.keys(n).length)&&this.queue.push({pending:n,pendingCount:Object.keys(n).length,loaded:{},errors:[],callback:S}),{toLoad:Object.keys(E),pending:Object.keys(n),toLoadLanguages:Object.keys(T),toLoadNamespaces:Object.keys(i)}}loaded(t,s,h){const S=t.split("|"),E=S[0],n=S[1];s&&this.emit("failedLoading",E,n,s),h&&this.store.addResourceBundle(E,n,h,void 0,void 0,{skipCopy:!0}),this.state[t]=s?-1:2;const T={};this.queue.forEach(i=>{xK(i.loaded,[E],n),bK(i,t),s&&i.errors.push(s),i.pendingCount===0&&!i.done&&(Object.keys(i.loaded).forEach(f=>{T[f]||(T[f]={});const y=i.loaded[f];y.length&&y.forEach(c=>{T[f][c]===void 0&&(T[f][c]=!0)})}),i.done=!0,i.errors.length?i.callback(i.errors):i.callback())}),this.emit("loaded",T),this.queue=this.queue.filter(i=>!i.done)}read(t,s,h){let S=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,E=arguments.length>4&&arguments[4]!==void 0?arguments[4]:this.retryTimeout,n=arguments.length>5?arguments[5]:void 0;if(!t.length)return n(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:t,ns:s,fcName:h,tried:S,wait:E,callback:n});return}this.readingCalls++;const T=r((f,y)=>{if(this.readingCalls--,this.waitingReads.length>0){const c=this.waitingReads.shift();this.read(c.lng,c.ns,c.fcName,c.tried,c.wait,c.callback)}if(f&&y&&S<this.maxRetries){setTimeout(()=>{this.read.call(this,t,s,h,S+1,E*2,n)},E);return}n(f,y)},"resolver"),i=this.backend[h].bind(this.backend);if(i.length===2){try{const f=i(t,s);f&&typeof f.then=="function"?f.then(y=>T(null,y)).catch(T):T(null,f)}catch(f){T(f)}return}return i(t,s,T)}prepareLoading(t,s){let h=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},S=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),S&&S();typeof t=="string"&&(t=this.languageUtils.toResolveHierarchy(t)),typeof s=="string"&&(s=[s]);const E=this.queueLoad(t,s,h,S);if(!E.toLoad.length)return E.pending.length||S(),null;E.toLoad.forEach(n=>{this.loadOne(n)})}load(t,s,h){this.prepareLoading(t,s,{},h)}reload(t,s,h){this.prepareLoading(t,s,{reload:!0},h)}loadOne(t){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";const h=t.split("|"),S=h[0],E=h[1];this.read(S,E,"read",void 0,void 0,(n,T)=>{n&&this.logger.warn(`${s}loading namespace ${E} for language ${S} failed`,n),!n&&T&&this.logger.log(`${s}loaded namespace ${E} for language ${S}`,T),this.loaded(t,n,T)})}saveMissing(t,s,h,S,E){let n=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{},T=arguments.length>6&&arguments[6]!==void 0?arguments[6]:()=>{};if(this.services.utils&&this.services.utils.hasLoadedNamespace&&!this.services.utils.hasLoadedNamespace(s)){this.logger.warn(`did not save key "${h}" as the namespace "${s}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(h==null||h==="")){if(this.backend&&this.backend.create){const i={...n,isUpdate:E},f=this.backend.create.bind(this.backend);if(f.length<6)try{let y;f.length===5?y=f(t,s,h,S,i):y=f(t,s,h,S),y&&typeof y.then=="function"?y.then(c=>T(null,c)).catch(T):T(null,y)}catch(y){T(y)}else f(t,s,h,S,T,i)}!t||!t[0]||this.store.addResource(t[0],s,h,S)}}};r(Iy,"Connector");let dp=Iy;function K1(){return{debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:r(function(t){let s={};if(typeof t[1]=="object"&&(s=t[1]),typeof t[1]=="string"&&(s.defaultValue=t[1]),typeof t[2]=="string"&&(s.tDescription=t[2]),typeof t[2]=="object"||typeof t[3]=="object"){const h=t[3]||t[2];Object.keys(h).forEach(S=>{s[S]=h[S]})}return s},"handle"),interpolation:{escapeValue:!0,format:r(e=>e,"format"),prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0}}}r(K1,"get");function Z1(e){return typeof e.ns=="string"&&(e.ns=[e.ns]),typeof e.fallbackLng=="string"&&(e.fallbackLng=[e.fallbackLng]),typeof e.fallbackNS=="string"&&(e.fallbackNS=[e.fallbackNS]),e.supportedLngs&&e.supportedLngs.indexOf("cimode")<0&&(e.supportedLngs=e.supportedLngs.concat(["cimode"])),e}r(Z1,"transformOptions");function au(){}r(au,"noop");function IK(e){Object.getOwnPropertyNames(Object.getPrototypeOf(e)).forEach(s=>{typeof e[s]=="function"&&(e[s]=e[s].bind(e))})}r(IK,"bindMemberFunctions");const Mh=class Mh extends Wa{constructor(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},s=arguments.length>1?arguments[1]:void 0;if(super(),this.options=Z1(t),this.services={},this.logger=Ii,this.modules={external:[]},IK(this),s&&!this.isInitialized&&!t.isClone){if(!this.options.initImmediate)return this.init(t,s),this;setTimeout(()=>{this.init(t,s)},0)}}init(){var t=this;let s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},h=arguments.length>1?arguments[1]:void 0;this.isInitializing=!0,typeof s=="function"&&(h=s,s={}),!s.defaultNS&&s.defaultNS!==!1&&s.ns&&(typeof s.ns=="string"?s.defaultNS=s.ns:s.ns.indexOf("translation")<0&&(s.defaultNS=s.ns[0]));const S=K1();this.options={...S,...this.options,...Z1(s)},this.options.compatibilityAPI!=="v1"&&(this.options.interpolation={...S.interpolation,...this.options.interpolation}),s.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=s.keySeparator),s.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=s.nsSeparator);function E(y){return y?typeof y=="function"?new y:y:null}if(r(E,"createClassOnDemand"),!this.options.isClone){this.modules.logger?Ii.init(E(this.modules.logger),this.options):Ii.init(null,this.options);let y;this.modules.formatter?y=this.modules.formatter:typeof Intl<"u"&&(y=up);const c=new Sd(this.options);this.store=new xd(this.options.resources,this.options);const o=this.services;o.logger=Ii,o.resourceStore=this.store,o.languageUtils=c,o.pluralResolver=new op(c,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),y&&(!this.options.interpolation.format||this.options.interpolation.format===S.interpolation.format)&&(o.formatter=E(y),o.formatter.init(o,this.options),this.options.interpolation.format=o.formatter.format.bind(o.formatter)),o.interpolator=new lp(this.options),o.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},o.backendConnector=new dp(E(this.modules.backend),o.resourceStore,o,this.options),o.backendConnector.on("*",function(l){for(var a=arguments.length,u=new Array(a>1?a-1:0),v=1;v<a;v++)u[v-1]=arguments[v];t.emit(l,...u)}),this.modules.languageDetector&&(o.languageDetector=E(this.modules.languageDetector),o.languageDetector.init&&o.languageDetector.init(o,this.options.detection,this.options)),this.modules.i18nFormat&&(o.i18nFormat=E(this.modules.i18nFormat),o.i18nFormat.init&&o.i18nFormat.init(this)),this.translator=new yd(this.services,this.options),this.translator.on("*",function(l){for(var a=arguments.length,u=new Array(a>1?a-1:0),v=1;v<a;v++)u[v-1]=arguments[v];t.emit(l,...u)}),this.modules.external.forEach(l=>{l.init&&l.init(this)})}if(this.format=this.options.interpolation.format,h||(h=au),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const y=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);y.length>0&&y[0]!=="dev"&&(this.options.lng=y[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(y=>{this[y]=function(){return t.store[y](...arguments)}}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(y=>{this[y]=function(){return t.store[y](...arguments),t}});const i=Eh(),f=r(()=>{const y=r((c,o)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),i.resolve(o),h(c,o)},"finish");if(this.languages&&this.options.compatibilityAPI!=="v1"&&!this.isInitialized)return y(null,this.t.bind(this));this.changeLanguage(this.options.lng,y)},"load");return this.options.resources||!this.options.initImmediate?f():setTimeout(f,0),i}loadResources(t){let h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:au;const S=typeof t=="string"?t:this.language;if(typeof t=="function"&&(h=t),!this.options.resources||this.options.partialBundledLanguages){if(S&&S.toLowerCase()==="cimode"&&(!this.options.preload||this.options.preload.length===0))return h();const E=[],n=r(T=>{if(!T||T==="cimode")return;this.services.languageUtils.toResolveHierarchy(T).forEach(f=>{f!=="cimode"&&E.indexOf(f)<0&&E.push(f)})},"append");S?n(S):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(i=>n(i)),this.options.preload&&this.options.preload.forEach(T=>n(T)),this.services.backendConnector.load(E,this.options.ns,T=>{!T&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),h(T)})}else h(null)}reloadResources(t,s,h){const S=Eh();return t||(t=this.languages),s||(s=this.options.ns),h||(h=au),this.services.backendConnector.reload(t,s,E=>{S.resolve(),h(E)}),S}use(t){if(!t)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!t.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return t.type==="backend"&&(this.modules.backend=t),(t.type==="logger"||t.log&&t.warn&&t.error)&&(this.modules.logger=t),t.type==="languageDetector"&&(this.modules.languageDetector=t),t.type==="i18nFormat"&&(this.modules.i18nFormat=t),t.type==="postProcessor"&&bA.addPostProcessor(t),t.type==="formatter"&&(this.modules.formatter=t),t.type==="3rdParty"&&this.modules.external.push(t),this}setResolvedLanguage(t){if(!(!t||!this.languages)&&!(["cimode","dev"].indexOf(t)>-1))for(let s=0;s<this.languages.length;s++){const h=this.languages[s];if(!(["cimode","dev"].indexOf(h)>-1)&&this.store.hasLanguageSomeTranslations(h)){this.resolvedLanguage=h;break}}}changeLanguage(t,s){var h=this;this.isLanguageChangingTo=t;const S=Eh();this.emit("languageChanging",t);const E=r(i=>{this.language=i,this.languages=this.services.languageUtils.toResolveHierarchy(i),this.resolvedLanguage=void 0,this.setResolvedLanguage(i)},"setLngProps"),n=r((i,f)=>{f?(E(f),this.translator.changeLanguage(f),this.isLanguageChangingTo=void 0,this.emit("languageChanged",f),this.logger.log("languageChanged",f)):this.isLanguageChangingTo=void 0,S.resolve(function(){return h.t(...arguments)}),s&&s(i,function(){return h.t(...arguments)})},"done"),T=r(i=>{!t&&!i&&this.services.languageDetector&&(i=[]);const f=typeof i=="string"?i:this.services.languageUtils.getBestMatchFromCodes(i);f&&(this.language||E(f),this.translator.language||this.translator.changeLanguage(f),this.services.languageDetector&&this.services.languageDetector.cacheUserLanguage&&this.services.languageDetector.cacheUserLanguage(f)),this.loadResources(f,y=>{n(y,f)})},"setLng");return!t&&this.services.languageDetector&&!this.services.languageDetector.async?T(this.services.languageDetector.detect()):!t&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(T):this.services.languageDetector.detect(T):T(t),S}getFixedT(t,s,h){var S=this;const E=r(function(n,T){let i;if(typeof T!="object"){for(var f=arguments.length,y=new Array(f>2?f-2:0),c=2;c<f;c++)y[c-2]=arguments[c];i=S.options.overloadTranslationOptionHandler([n,T].concat(y))}else i={...T};i.lng=i.lng||E.lng,i.lngs=i.lngs||E.lngs,i.ns=i.ns||E.ns,i.keyPrefix!==""&&(i.keyPrefix=i.keyPrefix||h||E.keyPrefix);const o=S.options.keySeparator||".";let l;return i.keyPrefix&&Array.isArray(n)?l=n.map(a=>`${i.keyPrefix}${o}${a}`):l=i.keyPrefix?`${i.keyPrefix}${o}${n}`:n,S.t(l,i)},"fixedT");return typeof t=="string"?E.lng=t:E.lngs=t,E.ns=s,E.keyPrefix=h,E}t(){return this.translator&&this.translator.translate(...arguments)}exists(){return this.translator&&this.translator.exists(...arguments)}setDefaultNamespace(t){this.options.defaultNS=t}hasLoadedNamespace(t){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const h=s.lng||this.resolvedLanguage||this.languages[0],S=this.options?this.options.fallbackLng:!1,E=this.languages[this.languages.length-1];if(h.toLowerCase()==="cimode")return!0;const n=r((T,i)=>{const f=this.services.backendConnector.state[`${T}|${i}`];return f===-1||f===2},"loadNotPending");if(s.precheck){const T=s.precheck(this,n);if(T!==void 0)return T}return!!(this.hasResourceBundle(h,t)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||n(h,t)&&(!S||n(E,t)))}loadNamespaces(t,s){const h=Eh();return this.options.ns?(typeof t=="string"&&(t=[t]),t.forEach(S=>{this.options.ns.indexOf(S)<0&&this.options.ns.push(S)}),this.loadResources(S=>{h.resolve(),s&&s(S)}),h):(s&&s(),Promise.resolve())}loadLanguages(t,s){const h=Eh();typeof t=="string"&&(t=[t]);const S=this.options.preload||[],E=t.filter(n=>S.indexOf(n)<0&&this.services.languageUtils.isSupportedCode(n));return E.length?(this.options.preload=S.concat(E),this.loadResources(n=>{h.resolve(),s&&s(n)}),h):(s&&s(),Promise.resolve())}dir(t){if(t||(t=this.resolvedLanguage||(this.languages&&this.languages.length>0?this.languages[0]:this.language)),!t)return"rtl";const s=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],h=this.services&&this.services.languageUtils||new Sd(K1());return s.indexOf(h.getLanguagePartFromCode(t))>-1||t.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},s=arguments.length>1?arguments[1]:void 0;return new Mh(t,s)}cloneInstance(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:au;const h=t.forkResourceStore;h&&delete t.forkResourceStore;const S={...this.options,...t,isClone:!0},E=new Mh(S);return(t.debug!==void 0||t.prefix!==void 0)&&(E.logger=E.logger.clone(t)),["store","services","language"].forEach(T=>{E[T]=this[T]}),E.services={...this.services},E.services.utils={hasLoadedNamespace:E.hasLoadedNamespace.bind(E)},h&&(E.store=new xd(this.store.data,S),E.services.resourceStore=E.store),E.translator=new yd(E.services,S),E.translator.on("*",function(T){for(var i=arguments.length,f=new Array(i>1?i-1:0),y=1;y<i;y++)f[y-1]=arguments[y];E.emit(T,...f)}),E.init(S,s),E.translator.options=S,E.translator.backendConnector.services.utils={hasLoadedNamespace:E.hasLoadedNamespace.bind(E)},E}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}};r(Mh,"I18n");let Td=Mh;const Bt=Td.createInstance();Bt.createInstance=Td.createInstance;Bt.createInstance;Bt.dir;Bt.init;Bt.loadResources;Bt.reloadResources;Bt.use;Bt.changeLanguage;Bt.getFixedT;const UZ=Bt.t;Bt.exists;Bt.setDefaultNamespace;Bt.hasLoadedNamespace;Bt.loadNamespaces;Bt.loadLanguages;const VZ=6,WZ=!1,fp="pokerogue_sessionId",FK=2147483648,Fy=class Fy{constructor(t){this.ERR_GENERIC="There was an error",this.base=t}async doGet(t){return this.doFetch(t,{method:"GET"})}async doPost(t,s,h="json"){let S;const E={};return s&&(h==="json"?(S=typeof s=="string"?s:JSON.stringify(s),E["Content-Type"]="application/json"):h==="form-urlencoded"?(s instanceof Object?S=this.toUrlSearchParams(s).toString():console.warn("Could not add body data to form-urlencoded!",s),E["Content-Type"]="application/x-www-form-urlencoded"):(console.warn(`Unsupported data type: ${h}`),S=String(s),E["Content-Type"]="text/plain")),await this.doFetch(t,{method:"POST",body:S,headers:E})}async doFetch(t,s){var h;return s.headers={...s.headers,Authorization:WK(fp),"Content-Type":((h=s.headers)==null?void 0:h["Content-Type"])??"application/json"},console.log(`Sending ${s.method??"GET"} request to: `,this.base+t,s),await fetch(this.base+t,s)}toUrlSearchParams(t){const s=Object.entries(t).map(([h,S])=>S!==void 0?[h,String(S)]:[h,""]).filter(([,h])=>h!=="");return new URLSearchParams(s)}};r(Fy,"ApiBase");let os=Fy;const Dy=class Dy extends os{async getInfo(){try{const t=await this.doGet("/account/info");return t.ok?[await t.json(),t.status]:(console.warn("Could not get account info!",t.status,t.statusText),[null,t.status])}catch(t){return console.warn("Could not get account info!",t),[null,500]}}async register(t){try{const s=await this.doPost("/account/register",t,"form-urlencoded");return s.ok?null:s.text()}catch(s){console.warn("Register failed!",s)}return"Unknown error!"}async login(t){try{const s=await this.doPost("/account/login",t,"form-urlencoded");if(s.ok){const h=await s.json();return VK(fp,h.token),null}else return console.warn("Login failed!",s.status,s.statusText),s.text()}catch(s){console.warn("Login failed!",s)}return"Unknown error!"}async logout(){try{const t=await this.doGet("/account/logout");if(!t.ok)throw new Error(`${t.status}: ${t.statusText}`)}catch(t){console.warn("Log out failed!",t)}FA(fp)}};r(Dy,"PokerogueAccountApi");let cp=Dy;const By=class By extends os{constructor(){super(...arguments),this.ERR_USERNAME_NOT_FOUND="Username not found!"}async linkAccountToDiscord(t){try{const s=await this.doPost("/admin/account/discordLink",t,"form-urlencoded");if(s.ok)return null;if(console.warn("Could not link account with discord!",s.status,s.statusText),s.status===404)return this.ERR_USERNAME_NOT_FOUND}catch(s){console.warn("Could not link account with discord!",s)}return this.ERR_GENERIC}async unlinkAccountFromDiscord(t){try{const s=await this.doPost("/admin/account/discordUnlink",t,"form-urlencoded");if(s.ok)return null;if(console.warn("Could not unlink account from discord!",s.status,s.statusText),s.status===404)return this.ERR_USERNAME_NOT_FOUND}catch(s){console.warn("Could not unlink account from discord!",s)}return this.ERR_GENERIC}async linkAccountToGoogleId(t){try{const s=await this.doPost("/admin/account/googleLink",t,"form-urlencoded");if(s.ok)return null;if(console.warn("Could not link account with google!",s.status,s.statusText),s.status===404)return this.ERR_USERNAME_NOT_FOUND}catch(s){console.warn("Could not link account with google!",s)}return this.ERR_GENERIC}async unlinkAccountFromGoogleId(t){try{const s=await this.doPost("/admin/account/googleUnlink",t,"form-urlencoded");if(s.ok)return null;if(console.warn("Could not unlink account from google!",s.status,s.statusText),s.status===404)return this.ERR_USERNAME_NOT_FOUND}catch(s){console.warn("Could not unlink account from google!",s)}return this.ERR_GENERIC}async searchAccount(t){try{const s=this.toUrlSearchParams(t),h=await this.doGet(`/admin/account/adminSearch?${s}`);if(h.ok)return[await h.json(),void 0];if(console.warn("Could not find account!",h.status,h.statusText),h.status===404)return[void 0,this.ERR_USERNAME_NOT_FOUND]}catch(s){console.warn("Could not find account!",s)}return[void 0,this.ERR_GENERIC]}};r(By,"PokerogueAdminApi");let vp=By;const Gy=class Gy extends os{async getSeed(){try{return(await this.doGet("/daily/seed")).text()}catch(t){return console.warn("Could not get daily-run seed!",t),null}}async getRankings(t){try{const s=this.toUrlSearchParams(t);return await(await this.doGet(`/daily/rankings?${s}`)).json()}catch(s){return console.warn("Could not get daily rankings!",s),null}}async getRankingsPageCount(t){try{const s=this.toUrlSearchParams(t),S=await(await this.doGet(`/daily/rankingpagecount?${s}`)).json();return Number(S)}catch(s){return console.warn("Could not get daily rankings page count!",s),1}}};r(Gy,"PokerogueDailyApi");let pp=Gy;const Ny=class Ny extends os{async newclear(t){try{const s=this.toUrlSearchParams(t);return!!await(await this.doGet(`/savedata/session/newclear?${s}`)).json()}catch(s){return console.warn("Could not newclear session!",s),!1}}async get(t){try{const s=this.toUrlSearchParams(t);return await(await this.doGet(`/savedata/session/get?${s}`)).text()}catch(s){return console.warn("Could not get session savedata!",s),null}}async update(t,s){try{const h=this.toUrlSearchParams(t);return await(await this.doPost(`/savedata/session/update?${h}`,s)).text()}catch(h){console.warn("Could not update session savedata!",h)}return"Unknown Error!"}async delete(t){try{const s=this.toUrlSearchParams(t),h=await this.doGet(`/savedata/session/delete?${s}`);return h.ok?null:await h.text()}catch(s){return console.warn("Could not delete session savedata!",s),"Unknown error"}}async clear(t,s){try{const h=this.toUrlSearchParams(t);return await(await this.doPost(`/savedata/session/clear?${h}`,s)).json()}catch(h){console.warn("Could not clear session savedata!",h)}return{error:"Unknown error",success:!1}}};r(Ny,"PokerogueSessionSavedataApi");let gp=Ny;const Uy=class Uy extends os{async get(t){try{const s=this.toUrlSearchParams(t);return await(await this.doGet(`/savedata/system/get?${s}`)).text()}catch(s){return console.warn("Could not get system savedata!",s),null}}async verify(t){const s=this.toUrlSearchParams(t),h=await this.doGet(`/savedata/system/verify?${s}`);if(h.ok){const S=await h.json();if(!S.valid)return console.warn("Invalid system savedata!"),S.systemData}else console.warn("System savedata verification failed!",h.status,h.statusText);return null}async update(t,s){try{const h=this.toUrlSearchParams(t);return await(await this.doPost(`/savedata/system/update?${h}`,s)).text()}catch(h){console.warn("Could not update system savedata!",h)}return"Unknown Error"}};r(Uy,"PokerogueSystemSavedataApi");let mp=Uy;const Vy=class Vy extends os{constructor(t){super(t),this.system=new mp(t),this.session=new gp(t)}async updateAll(t){try{const s=JSON.stringify(t,(S,E)=>typeof E=="bigint"?E<=FK?Number(E):E.toString():E);return await(await this.doPost("/savedata/updateall",s)).text()}catch(s){return console.warn("Could not update all savedata!",s),"Unknown error"}}};r(Vy,"PokerogueSavedataApi");let xp=Vy;const Wy=class Wy extends os{constructor(t){super(t),this.account=new cp(t),this.daily=new pp(t),this.admin=new vp(t),this.savedata=new xp(t)}async getGameTitleStats(){try{return await(await this.doGet("/game/titlestats")).json()}catch(t){return console.warn("Could not get game title stats!",t),null}}async unlinkDiscord(){try{const t=await this.doPost("/auth/discord/logout");if(t.ok)return!0;console.warn(`Discord unlink failed (${t.status}: ${t.statusText})`)}catch(t){console.warn("Could not unlink Discord!",t)}return!1}async unlinkGoogle(){try{const t=await this.doPost("/auth/google/logout");if(t.ok)return!0;console.warn(`Google unlink failed (${t.status}: ${t.statusText})`)}catch(t){console.warn("Could not unlink Google!",t)}return!1}};r(Wy,"PokerogueApi");let yp=Wy;const DK=new yp("http://localhost:8001"),zZ="__MISSING";function YZ(e){return e.replace(/\_/g," ").split(" ").map(t=>`${t.slice(0,1)}${t.slice(1).toLowerCase()}`).join(" ")}r(YZ,"toReadableString");function kZ(e,t=!1){const s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";let h="";for(let S=0;S<e;S++){const E=t?BK(s.length):Math.floor(Math.random()*s.length);h+=s[E]}return h}r(kZ,"randomString");function HZ(e,t){t||(t=0);let s="";for(let h=0;h<e.length;h++){const E=e.charCodeAt(h)+t;s+=String.fromCharCode(E)}return s}r(HZ,"shiftCharCodes");function XZ(e,t=0){const s=1-Math.random(),h=Math.random();return Math.sqrt(-2*Math.log(s))*Math.cos(2*Math.PI*h)*e+t}r(XZ,"randGauss");function $Z(e,t=0){if(!e)return 0;const s=1-Phaser.Math.RND.realInRange(0,1),h=Phaser.Math.RND.realInRange(0,1);return Math.sqrt(-2*Math.log(s))*Math.cos(2*Math.PI*h)*e+t}r($Z,"randSeedGauss");function KZ(e,t,s){s||(s="0");let h=e.toString();for(;h.length<t;)h=`${s}${h}`;return h}r(KZ,"padInt");function IA(e,t=0){return e===1?t:Math.floor(Math.random()*e)+t}r(IA,"randInt");function BK(e,t=0){return e<=1?t:Phaser.Math.RND.integerInRange(t,e-1+t)}r(BK,"randSeedInt");function ZZ(e,t){return IA(t-e,e)}r(ZZ,"randIntRange");function JZ(e){return e.length===1?e[0]:e[IA(e.length)]}r(JZ,"randItem");function QZ(e){return e.length===1?e[0]:Phaser.Math.RND.pick(e)}r(QZ,"randSeedItem");function jZ(e){return e.length===1?e[0]:Phaser.Math.RND.weightedPick(e)}r(jZ,"randSeedWeightedItem");function qZ(e){if(e.length<=1)return e;const t=e.slice(0);for(let s=e.length-1;s>0;s--){const h=Phaser.Math.RND.integerInRange(0,s);[t[s],t[h]]=[t[h],t[s]]}return t}r(qZ,"randSeedShuffle");function _Z(e){return Math.floor(1/60*1e3*e)}r(_Z,"getFrameMs");function tJ(){const e=new Date;return((e.getHours()*60+e.getMinutes())/1440+.675)%1}r(tJ,"getCurrentTime");const hu=3600;function eJ(e){const t=`${Math.floor(e/(hu*24))}`,s=`${Math.floor(e%(hu*24)/hu)}`,h=`${Math.floor(e%hu/60)}`,S=`${Math.floor(e%60)}`;return`${t.padStart(2,"0")}:${s.padStart(2,"0")}:${h.padStart(2,"0")}:${S.padStart(2,"0")}`}r(eJ,"getPlayTimeString");function iJ(e){return[(e&1040187392)>>>25,(e&32505856)>>>20,(e&1015808)>>>15,(e&31744)>>>10,(e&992)>>>5,e&31]}r(iJ,"getIvsFromId");function GK(e,t){if(e<t)return e.toString();const s=e.toString();let h="";switch(Math.ceil(s.length/3)-1){case 1:h="K";break;case 2:h="M";break;case 3:h="B";break;case 4:h="T";break;case 5:h="q";break;default:return"?"}const S=(s.length+2)%3+1;let E=s.slice(S,S+2);for(;E.endsWith("0");)E=E.slice(0,-1);return`${s.slice(0,S)}${E?`.${E}`:""}${h}`}r(GK,"formatLargeNumber");const J1=["","K","M","B","t","q","Q","s","S","o","n","d"];function NK(e,t=3){let s;if(e<1e3)s=0;else{const h=J1.length-1;s=Math.floor(Math.log(e)/Math.log(1e3)),s=Math.min(s,h),e/=Math.pow(1e3,s)}return`${s===0||e%1===0?e:e.toFixed(t)}${J1[s]}`}r(NK,"formatFancyLargeNumber");function sJ(e,t){return e===OA.ABBREVIATED?NK(t):t.toLocaleString()}r(sJ,"formatMoney");function rJ(e,t=!1){return GK(e,t?1e5:1e6)}r(rJ,"formatStat");function nJ(e){return Object.values(e).filter(t=>isNaN(parseInt(t.toString()))).map(t=>t.toString())}r(nJ,"getEnumKeys");function aJ(e){return Object.values(e).filter(t=>!isNaN(parseInt(t.toString()))).map(t=>parseInt(t.toString()))}r(aJ,"getEnumValues");function hJ(e,t){return e?t():new Promise(s=>s(null))}r(hJ,"executeIf");const oJ="pokerogue_sessionId",UK=(window.location.hostname==="localhost"||/^[0-9]+\.[0-9]+\.[0-9]+\.[0-9]+$/.test(window.location.hostname))&&window.location.port!==""||window.location.hostname==="";let Q1=!0;const lJ=!1;function VK(e,t){const s=new Date;s.setTime(new Date().getTime()+36e5*24*30*3),document.cookie=`${e}=${t};Secure;SameSite=Strict;Domain=${window.location.hostname};Path=/;Expires=${s.toUTCString()}`}r(VK,"setCookie");function FA(e){document.cookie=`${e}=;Secure;SameSite=Strict;Domain=${window.location.hostname};Path=/;Max-Age=-1`,document.cookie=`${e}=;Secure;SameSite=Strict;Path=/;Max-Age=-1`}r(FA,"removeCookie");function WK(e){if(document.cookie.split(";").filter(h=>h.includes(e)).length>1)return FA(e),"";const t=`${e}=`,s=document.cookie.split(";");for(let h=0;h<s.length;h++){let S=s[h];for(;S.charAt(0)===" ";)S=S.substring(1);if(S.indexOf(t)===0)return S.substring(t.length,S.length)}return""}r(WK,"getCookie");async function uJ(){UK&&(Q1=!!await DK.getGameTitleStats(),console.log("isLocalServerConnected:",Q1))}r(uJ,"localPing");const zy=class zy{constructor(t){this.value=t}};r(zy,"BooleanHolder");let j1=zy;const Yy=class Yy{constructor(t){this.value=t}};r(Yy,"NumberHolder");let Sp=Yy;const ky=class ky extends Sp{constructor(t){super(t)}};r(ky,"IntegerHolder");let Tp=ky;const Hy=class Hy extends Tp{constructor(t){super(t)}};r(Hy,"FixedInt");let Cp=Hy;function dJ(e){return new Cp(e)}r(dJ,"fixedInt");function fJ(e){const t=e.split("_");for(let s=0;s<t.length;s++)t[s]=t[s].charAt(0).toUpperCase()+t[s].substring(1).toLowerCase();return t.join(" ")}r(fJ,"formatText");function cJ(e){return e?e.split(/[_ ]/).filter(t=>t).map((t,s)=>s?`${t[0].toUpperCase()}${t.slice(1).toLowerCase()}`:t.toLowerCase()).join(""):""}r(cJ,"toCamelCaseString");function vJ(e,t,s){const h=Math.max(e,t,s),S=h-Math.min(e,t,s),E=S&&(h===e?(t-s)/S:h===t?2+(s-e)/S:4+(e-t)/S);return[60*(E<0?E+6:E),h&&S/h,h]}r(vJ,"rgbToHsv");function pJ(e,t){const[s,h,S]=e,[E,n,T]=t,i=Math.pow(s-E,2),f=Math.pow(h-n,2),y=Math.pow(S-T,2),c=(s+E)/2;return Math.ceil(Math.sqrt(2*i+4*f+3*y+c*(i-y)/256))}r(pJ,"deltaRgb");function gJ(e){const t=e.match(/^([\da-f]{2})([\da-f]{2})([\da-f]{2})$/i)??["000000","00","00","00"];return{r:parseInt(t[1],16),g:parseInt(t[2],16),b:parseInt(t[3],16),a:255}}r(gJ,"rgbHexToRgba");function mJ(e){return(e[0]<<24)+(e[1]<<16)+(e[2]<<8)+e[3]}r(mJ,"rgbaToInt");function xJ(e,t,s){const h=t*Math.min(s,1-s),S=r(E=>{const n=(E+e/30)%12,T=s-h*Math.max(-1,Math.min(n-3,9-n,1));return Math.round(T*255).toString(16).padStart(2,"0")},"f");return`#${S(0)}${S(8)}${S(4)}`}r(xJ,"hslToHex");function zK(e){switch(e||(e=Bt.resolvedLanguage),e){case"es-ES":case"fr":case"de":case"it":case"zh-CN":case"zh-TW":case"pt-BR":case"ko":case"ja":return!0;default:return!1}}r(zK,"hasAllLocalizedSprites");function yJ(e,t=10){return e.length>t?e.slice(0,t-3)+"...":e}r(yJ,"truncateString");function SJ(e){return JSON.parse(JSON.stringify(e))}r(SJ,"deepCopy");function TJ(e){return e.split(" ").map(h=>h.charAt(0).toUpperCase()+h.slice(1).toLowerCase()).join("_")}r(TJ,"reverseValueToKeySetting");function CJ(e,t,s=!0,h=!1){if(e){const S=e.toLowerCase().split(t);for(let E=+s;E<(S==null?void 0:S.length);E++)S[E]=S[E].charAt(0).toUpperCase()+S[E].substring(1);return h?S.join(" "):S.join("")}return null}r(CJ,"capitalizeString");function EJ(e){return e==null}r(EJ,"isNullOrUndefined");function PJ(e){return e.charAt(0).toUpperCase()+e.slice(1)}r(PJ,"capitalizeFirstLetter");function RJ(e,t=1){return Math.max(Math.floor(e),t)}r(RJ,"toDmgValue");function AJ(e){return`${e}${zK(Bt.resolvedLanguage)?`_${Bt.resolvedLanguage}`:""}`}r(AJ,"getLocalizedSpriteKey");function LJ(e,t,s){return e>=t&&e<=s}r(LJ,"isBetween");function OJ(e){return wA[e].toLowerCase().replace(/\_/g,"-")}r(OJ,"animationFileName");function q1(e){return e.replace(/[A-Z]+(?![a-z])|[A-Z]/g,(t,s)=>(s?"-":"")+t.toLowerCase())}r(q1,"camelCaseToKebabCase");function YK(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}r(YK,"_classCallCheck$1");function Fo(e){"@babel/helpers - typeof";return Fo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fo(e)}r(Fo,"_typeof$3");function kK(e,t){if(Fo(e)!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var h=s.call(e,t);if(Fo(h)!="object")return h;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}r(kK,"toPrimitive");function HK(e){var t=kK(e,"string");return Fo(t)=="symbol"?t:t+""}r(HK,"toPropertyKey");function XK(e,t){for(var s=0;s<t.length;s++){var h=t[s];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(e,HK(h.key),h)}}r(XK,"_defineProperties$1");function $K(e,t,s){return t&&XK(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}r($K,"_createClass$1");var DA=[],KK=DA.forEach,ZK=DA.slice;function JK(e){return KK.call(ZK.call(arguments,1),function(t){if(t)for(var s in t)e[s]===void 0&&(e[s]=t[s])}),e}r(JK,"defaults");var _1=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/,QK=r(function(t,s,h){var S=h||{};S.path=S.path||"/";var E=encodeURIComponent(s),n="".concat(t,"=").concat(E);if(S.maxAge>0){var T=S.maxAge-0;if(Number.isNaN(T))throw new Error("maxAge should be a Number");n+="; Max-Age=".concat(Math.floor(T))}if(S.domain){if(!_1.test(S.domain))throw new TypeError("option domain is invalid");n+="; Domain=".concat(S.domain)}if(S.path){if(!_1.test(S.path))throw new TypeError("option path is invalid");n+="; Path=".concat(S.path)}if(S.expires){if(typeof S.expires.toUTCString!="function")throw new TypeError("option expires is invalid");n+="; Expires=".concat(S.expires.toUTCString())}if(S.httpOnly&&(n+="; HttpOnly"),S.secure&&(n+="; Secure"),S.sameSite){var i=typeof S.sameSite=="string"?S.sameSite.toLowerCase():S.sameSite;switch(i){case!0:n+="; SameSite=Strict";break;case"lax":n+="; SameSite=Lax";break;case"strict":n+="; SameSite=Strict";break;case"none":n+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}}return n},"serializeCookie"),tE={create:r(function(t,s,h,S){var E=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{path:"/",sameSite:"strict"};h&&(E.expires=new Date,E.expires.setTime(E.expires.getTime()+h*60*1e3)),S&&(E.domain=S),document.cookie=QK(t,encodeURIComponent(s),E)},"create"),read:r(function(t){for(var s="".concat(t,"="),h=document.cookie.split(";"),S=0;S<h.length;S++){for(var E=h[S];E.charAt(0)===" ";)E=E.substring(1,E.length);if(E.indexOf(s)===0)return E.substring(s.length,E.length)}return null},"read"),remove:r(function(t){this.create(t,"",-1)},"remove")},jK={name:"cookie",lookup:r(function(t){var s;if(t.lookupCookie&&typeof document<"u"){var h=tE.read(t.lookupCookie);h&&(s=h)}return s},"lookup"),cacheUserLanguage:r(function(t,s){s.lookupCookie&&typeof document<"u"&&tE.create(s.lookupCookie,t,s.cookieMinutes,s.cookieDomain,s.cookieOptions)},"cacheUserLanguage")},qK={name:"querystring",lookup:r(function(t){var s;if(typeof window<"u"){var h=window.location.search;!window.location.search&&window.location.hash&&window.location.hash.indexOf("?")>-1&&(h=window.location.hash.substring(window.location.hash.indexOf("?")));for(var S=h.substring(1),E=S.split("&"),n=0;n<E.length;n++){var T=E[n].indexOf("=");if(T>0){var i=E[n].substring(0,T);i===t.lookupQuerystring&&(s=E[n].substring(T+1))}}}return s},"lookup")},Ph=null,eE=r(function(){if(Ph!==null)return Ph;try{Ph=window!=="undefined"&&window.localStorage!==null;var t="i18next.translate.boo";window.localStorage.setItem(t,"foo"),window.localStorage.removeItem(t)}catch{Ph=!1}return Ph},"localStorageAvailable"),_K={name:"localStorage",lookup:r(function(t){var s;if(t.lookupLocalStorage&&eE()){var h=window.localStorage.getItem(t.lookupLocalStorage);h&&(s=h)}return s},"lookup"),cacheUserLanguage:r(function(t,s){s.lookupLocalStorage&&eE()&&window.localStorage.setItem(s.lookupLocalStorage,t)},"cacheUserLanguage")},Rh=null,iE=r(function(){if(Rh!==null)return Rh;try{Rh=window!=="undefined"&&window.sessionStorage!==null;var t="i18next.translate.boo";window.sessionStorage.setItem(t,"foo"),window.sessionStorage.removeItem(t)}catch{Rh=!1}return Rh},"sessionStorageAvailable"),tZ={name:"sessionStorage",lookup:r(function(t){var s;if(t.lookupSessionStorage&&iE()){var h=window.sessionStorage.getItem(t.lookupSessionStorage);h&&(s=h)}return s},"lookup"),cacheUserLanguage:r(function(t,s){s.lookupSessionStorage&&iE()&&window.sessionStorage.setItem(s.lookupSessionStorage,t)},"cacheUserLanguage")},eZ={name:"navigator",lookup:r(function(t){var s=[];if(typeof navigator<"u"){if(navigator.languages)for(var h=0;h<navigator.languages.length;h++)s.push(navigator.languages[h]);navigator.userLanguage&&s.push(navigator.userLanguage),navigator.language&&s.push(navigator.language)}return s.length>0?s:void 0},"lookup")},iZ={name:"htmlTag",lookup:r(function(t){var s,h=t.htmlTag||(typeof document<"u"?document.documentElement:null);return h&&typeof h.getAttribute=="function"&&(s=h.getAttribute("lang")),s},"lookup")},sZ={name:"path",lookup:r(function(t){var s;if(typeof window<"u"){var h=window.location.pathname.match(/\/([a-zA-Z-]*)/g);if(h instanceof Array)if(typeof t.lookupFromPathIndex=="number"){if(typeof h[t.lookupFromPathIndex]!="string")return;s=h[t.lookupFromPathIndex].replace("/","")}else s=h[0].replace("/","")}return s},"lookup")},rZ={name:"subdomain",lookup:r(function(t){var s=typeof t.lookupFromSubdomainIndex=="number"?t.lookupFromSubdomainIndex+1:1,h=typeof window<"u"&&window.location&&window.location.hostname&&window.location.hostname.match(/^(\w{2,5})\.(([a-z0-9-]{1,63}\.[a-z]{2,6})|localhost)/i);if(h)return h[s]},"lookup")};function nZ(){return{order:["querystring","cookie","localStorage","sessionStorage","navigator","htmlTag"],lookupQuerystring:"lng",lookupCookie:"i18next",lookupLocalStorage:"i18nextLng",lookupSessionStorage:"i18nextLng",caches:["localStorage"],excludeCacheFor:["cimode"],convertDetectedLanguage:r(function(t){return t},"convertDetectedLanguage")}}r(nZ,"getDefaults$1");var BA=function(){function e(t){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};YK(this,e),this.type="languageDetector",this.detectors={},this.init(t,s)}return r(e,"Browser"),$K(e,[{key:"init",value:r(function(s){var h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},S=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.services=s||{languageUtils:{}},this.options=JK(h,this.options||{},nZ()),typeof this.options.convertDetectedLanguage=="string"&&this.options.convertDetectedLanguage.indexOf("15897")>-1&&(this.options.convertDetectedLanguage=function(E){return E.replace("-","_")}),this.options.lookupFromUrlIndex&&(this.options.lookupFromPathIndex=this.options.lookupFromUrlIndex),this.i18nOptions=S,this.addDetector(jK),this.addDetector(qK),this.addDetector(_K),this.addDetector(tZ),this.addDetector(eZ),this.addDetector(iZ),this.addDetector(sZ),this.addDetector(rZ)},"init")},{key:"addDetector",value:r(function(s){return this.detectors[s.name]=s,this},"addDetector")},{key:"detect",value:r(function(s){var h=this;s||(s=this.options.order);var S=[];return s.forEach(function(E){if(h.detectors[E]){var n=h.detectors[E].lookup(h.options);n&&typeof n=="string"&&(n=[n]),n&&(S=S.concat(n))}}),S=S.map(function(E){return h.options.convertDetectedLanguage(E)}),this.services.languageUtils.getBestMatchFromCodes?S:S.length>0?S[0]:null},"detect")},{key:"cacheUserLanguage",value:r(function(s,h){var S=this;h||(h=this.options.caches),h&&(this.options.excludeCacheFor&&this.options.excludeCacheFor.indexOf(s)>-1||h.forEach(function(E){S.detectors[E]&&S.detectors[E].cacheUserLanguage(s,S.options)}))},"cacheUserLanguage")}]),e}();BA.type="languageDetector";function Ep(e){"@babel/helpers - typeof";return Ep=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ep(e)}r(Ep,"_typeof$2");function GA(){return typeof XMLHttpRequest=="function"||(typeof XMLHttpRequest>"u"?"undefined":Ep(XMLHttpRequest))==="object"}r(GA,"hasXMLHttpRequest");function aZ(e){return!!e&&typeof e.then=="function"}r(aZ,"isPromise");function hZ(e){return aZ(e)?e:Promise.resolve(e)}r(hZ,"makePromise");function oZ(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}r(oZ,"commonjsRequire");var Pp={exports:{}},ou={exports:{}},sE;function lZ(){return sE||(sE=1,function(e,t){var s=typeof globalThis<"u"&&globalThis||typeof self<"u"&&self||typeof bi<"u"&&bi,h=function(){function E(){this.fetch=!1,this.DOMException=s.DOMException}return r(E,"F"),E.prototype=s,new E}();(function(E){(function(n){var T=typeof E<"u"&&E||typeof self<"u"&&self||typeof T<"u"&&T,i={searchParams:"URLSearchParams"in T,iterable:"Symbol"in T&&"iterator"in Symbol,blob:"FileReader"in T&&"Blob"in T&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in T,arrayBuffer:"ArrayBuffer"in T};function f(M){return M&&DataView.prototype.isPrototypeOf(M)}if(r(f,"isDataView"),i.arrayBuffer)var y=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],c=ArrayBuffer.isView||function(M){return M&&y.indexOf(Object.prototype.toString.call(M))>-1};function o(M){if(typeof M!="string"&&(M=String(M)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(M)||M==="")throw new TypeError('Invalid character in header field name: "'+M+'"');return M.toLowerCase()}r(o,"normalizeName");function l(M){return typeof M!="string"&&(M=String(M)),M}r(l,"normalizeValue");function a(M){var I={next:r(function(){var B=M.shift();return{done:B===void 0,value:B}},"next")};return i.iterable&&(I[Symbol.iterator]=function(){return I}),I}r(a,"iteratorFor");function u(M){this.map={},M instanceof u?M.forEach(function(I,B){this.append(B,I)},this):Array.isArray(M)?M.forEach(function(I){this.append(I[0],I[1])},this):M&&Object.getOwnPropertyNames(M).forEach(function(I){this.append(I,M[I])},this)}r(u,"Headers"),u.prototype.append=function(M,I){M=o(M),I=l(I);var B=this.map[M];this.map[M]=B?B+", "+I:I},u.prototype.delete=function(M){delete this.map[o(M)]},u.prototype.get=function(M){return M=o(M),this.has(M)?this.map[M]:null},u.prototype.has=function(M){return this.map.hasOwnProperty(o(M))},u.prototype.set=function(M,I){this.map[o(M)]=l(I)},u.prototype.forEach=function(M,I){for(var B in this.map)this.map.hasOwnProperty(B)&&M.call(I,this.map[B],B,this)},u.prototype.keys=function(){var M=[];return this.forEach(function(I,B){M.push(B)}),a(M)},u.prototype.values=function(){var M=[];return this.forEach(function(I){M.push(I)}),a(M)},u.prototype.entries=function(){var M=[];return this.forEach(function(I,B){M.push([B,I])}),a(M)},i.iterable&&(u.prototype[Symbol.iterator]=u.prototype.entries);function v(M){if(M.bodyUsed)return Promise.reject(new TypeError("Already read"));M.bodyUsed=!0}r(v,"consumed");function d(M){return new Promise(function(I,B){M.onload=function(){I(M.result)},M.onerror=function(){B(M.error)}})}r(d,"fileReaderReady");function p(M){var I=new FileReader,B=d(I);return I.readAsArrayBuffer(M),B}r(p,"readBlobAsArrayBuffer");function g(M){var I=new FileReader,B=d(I);return I.readAsText(M),B}r(g,"readBlobAsText");function m(M){for(var I=new Uint8Array(M),B=new Array(I.length),G=0;G<I.length;G++)B[G]=String.fromCharCode(I[G]);return B.join("")}r(m,"readArrayBufferAsText");function x(M){if(M.slice)return M.slice(0);var I=new Uint8Array(M.byteLength);return I.set(new Uint8Array(M)),I.buffer}r(x,"bufferClone");function C(){return this.bodyUsed=!1,this._initBody=function(M){this.bodyUsed=this.bodyUsed,this._bodyInit=M,M?typeof M=="string"?this._bodyText=M:i.blob&&Blob.prototype.isPrototypeOf(M)?this._bodyBlob=M:i.formData&&FormData.prototype.isPrototypeOf(M)?this._bodyFormData=M:i.searchParams&&URLSearchParams.prototype.isPrototypeOf(M)?this._bodyText=M.toString():i.arrayBuffer&&i.blob&&f(M)?(this._bodyArrayBuffer=x(M.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):i.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(M)||c(M))?this._bodyArrayBuffer=x(M):this._bodyText=M=Object.prototype.toString.call(M):this._bodyText="",this.headers.get("content-type")||(typeof M=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):i.searchParams&&URLSearchParams.prototype.isPrototypeOf(M)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},i.blob&&(this.blob=function(){var M=v(this);if(M)return M;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){if(this._bodyArrayBuffer){var M=v(this);return M||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}else return this.blob().then(p)}),this.text=function(){var M=v(this);if(M)return M;if(this._bodyBlob)return g(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(m(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},i.formData&&(this.formData=function(){return this.text().then(L)}),this.json=function(){return this.text().then(JSON.parse)},this}r(C,"Body");var P=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function A(M){var I=M.toUpperCase();return P.indexOf(I)>-1?I:M}r(A,"normalizeMethod");function R(M,I){if(!(this instanceof R))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');I=I||{};var B=I.body;if(M instanceof R){if(M.bodyUsed)throw new TypeError("Already read");this.url=M.url,this.credentials=M.credentials,I.headers||(this.headers=new u(M.headers)),this.method=M.method,this.mode=M.mode,this.signal=M.signal,!B&&M._bodyInit!=null&&(B=M._bodyInit,M.bodyUsed=!0)}else this.url=String(M);if(this.credentials=I.credentials||this.credentials||"same-origin",(I.headers||!this.headers)&&(this.headers=new u(I.headers)),this.method=A(I.method||this.method||"GET"),this.mode=I.mode||this.mode||null,this.signal=I.signal||this.signal,this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&B)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(B),(this.method==="GET"||this.method==="HEAD")&&(I.cache==="no-store"||I.cache==="no-cache")){var G=/([?&])_=[^&]*/;if(G.test(this.url))this.url=this.url.replace(G,"$1_="+new Date().getTime());else{var N=/\?/;this.url+=(N.test(this.url)?"&":"?")+"_="+new Date().getTime()}}}r(R,"Request"),R.prototype.clone=function(){return new R(this,{body:this._bodyInit})};function L(M){var I=new FormData;return M.trim().split("&").forEach(function(B){if(B){var G=B.split("="),N=G.shift().replace(/\+/g," "),z=G.join("=").replace(/\+/g," ");I.append(decodeURIComponent(N),decodeURIComponent(z))}}),I}r(L,"decode");function O(M){var I=new u,B=M.replace(/\r?\n[\t ]+/g," ");return B.split("\r").map(function(G){return G.indexOf(`
`)===0?G.substr(1,G.length):G}).forEach(function(G){var N=G.split(":"),z=N.shift().trim();if(z){var H=N.join(":").trim();I.append(z,H)}}),I}r(O,"parseHeaders"),C.call(R.prototype);function w(M,I){if(!(this instanceof w))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');I||(I={}),this.type="default",this.status=I.status===void 0?200:I.status,this.ok=this.status>=200&&this.status<300,this.statusText=I.statusText===void 0?"":""+I.statusText,this.headers=new u(I.headers),this.url=I.url||"",this._initBody(M)}r(w,"Response"),C.call(w.prototype),w.prototype.clone=function(){return new w(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new u(this.headers),url:this.url})},w.error=function(){var M=new w(null,{status:0,statusText:""});return M.type="error",M};var b=[301,302,303,307,308];w.redirect=function(M,I){if(b.indexOf(I)===-1)throw new RangeError("Invalid status code");return new w(null,{status:I,headers:{location:M}})},n.DOMException=T.DOMException;try{new n.DOMException}catch{n.DOMException=function(I,B){this.message=I,this.name=B;var G=Error(I);this.stack=G.stack},n.DOMException.prototype=Object.create(Error.prototype),n.DOMException.prototype.constructor=n.DOMException}function F(M,I){return new Promise(function(B,G){var N=new R(M,I);if(N.signal&&N.signal.aborted)return G(new n.DOMException("Aborted","AbortError"));var z=new XMLHttpRequest;function H(){z.abort()}r(H,"abortXhr"),z.onload=function(){var V={status:z.status,statusText:z.statusText,headers:O(z.getAllResponseHeaders()||"")};V.url="responseURL"in z?z.responseURL:V.headers.get("X-Request-URL");var Y="response"in z?z.response:z.responseText;setTimeout(function(){B(new w(Y,V))},0)},z.onerror=function(){setTimeout(function(){G(new TypeError("Network request failed"))},0)},z.ontimeout=function(){setTimeout(function(){G(new TypeError("Network request failed"))},0)},z.onabort=function(){setTimeout(function(){G(new n.DOMException("Aborted","AbortError"))},0)};function $(V){try{return V===""&&T.location.href?T.location.href:V}catch{return V}}r($,"fixUrl"),z.open(N.method,$(N.url),!0),N.credentials==="include"?z.withCredentials=!0:N.credentials==="omit"&&(z.withCredentials=!1),"responseType"in z&&(i.blob?z.responseType="blob":i.arrayBuffer&&N.headers.get("Content-Type")&&N.headers.get("Content-Type").indexOf("application/octet-stream")!==-1&&(z.responseType="arraybuffer")),I&&typeof I.headers=="object"&&!(I.headers instanceof u)?Object.getOwnPropertyNames(I.headers).forEach(function(V){z.setRequestHeader(V,l(I.headers[V]))}):N.headers.forEach(function(V,Y){z.setRequestHeader(Y,V)}),N.signal&&(N.signal.addEventListener("abort",H),z.onreadystatechange=function(){z.readyState===4&&N.signal.removeEventListener("abort",H)}),z.send(typeof N._bodyInit>"u"?null:N._bodyInit)})}return r(F,"fetch"),F.polyfill=!0,T.fetch||(T.fetch=F,T.Headers=u,T.Request=R,T.Response=w),n.Headers=u,n.Request=R,n.Response=w,n.fetch=F,n})({})})(h),h.fetch.ponyfill=!0,delete h.fetch.polyfill;var S=s.fetch?s:h;t=S.fetch,t.default=S.fetch,t.fetch=S.fetch,t.Headers=S.Headers,t.Request=S.Request,t.Response=S.Response,e.exports=t}(ou,ou.exports)),ou.exports}r(lZ,"requireBrowserPonyfill");(function(e,t){var s;if(typeof fetch=="function"&&(typeof bi<"u"&&bi.fetch?s=bi.fetch:typeof window<"u"&&window.fetch?s=window.fetch:s=fetch),typeof oZ<"u"&&typeof window>"u"){var h=s||lZ();h.default&&(h=h.default),t.default=h,e.exports=t.default}})(Pp,Pp.exports);var NA=Pp.exports;const UA=Od(NA),rE=kA({__proto__:null,default:UA},[NA]);function nE(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var h=Object.getOwnPropertySymbols(e);t&&(h=h.filter(function(S){return Object.getOwnPropertyDescriptor(e,S).enumerable})),s.push.apply(s,h)}return s}r(nE,"ownKeys$1");function aE(e){for(var t=1;t<arguments.length;t++){var s=arguments[t]!=null?arguments[t]:{};t%2?nE(Object(s),!0).forEach(function(h){uZ(e,h,s[h])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):nE(Object(s)).forEach(function(h){Object.defineProperty(e,h,Object.getOwnPropertyDescriptor(s,h))})}return e}r(aE,"_objectSpread$1");function uZ(e,t,s){return t=dZ(t),t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}r(uZ,"_defineProperty$1");function dZ(e){var t=fZ(e,"string");return br(t)=="symbol"?t:t+""}r(dZ,"_toPropertyKey$1");function fZ(e,t){if(br(e)!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var h=s.call(e,t||"default");if(br(h)!="object")return h;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}r(fZ,"_toPrimitive$1");function br(e){"@babel/helpers - typeof";return br=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},br(e)}r(br,"_typeof$1");var ts;typeof fetch=="function"&&(typeof global<"u"&&global.fetch?ts=global.fetch:typeof window<"u"&&window.fetch?ts=window.fetch:ts=fetch);var Do;GA()&&(typeof global<"u"&&global.XMLHttpRequest?Do=global.XMLHttpRequest:typeof window<"u"&&window.XMLHttpRequest&&(Do=window.XMLHttpRequest));var Cd;typeof ActiveXObject=="function"&&(typeof global<"u"&&global.ActiveXObject?Cd=global.ActiveXObject:typeof window<"u"&&window.ActiveXObject&&(Cd=window.ActiveXObject));!ts&&rE&&!Do&&!Cd&&(ts=UA||rE);typeof ts!="function"&&(ts=void 0);var Rp=r(function(t,s){if(s&&br(s)==="object"){var h="";for(var S in s)h+="&"+encodeURIComponent(S)+"="+encodeURIComponent(s[S]);if(!h)return t;t=t+(t.indexOf("?")!==-1?"&":"?")+h.slice(1)}return t},"addQueryString"),hE=r(function(t,s,h,S){var E=r(function(i){if(!i.ok)return h(i.statusText||"Error",{status:i.status});i.text().then(function(f){h(null,{status:i.status,data:f})}).catch(h)},"resolver");if(S){var n=S(t,s);if(n instanceof Promise){n.then(E).catch(h);return}}typeof fetch=="function"?fetch(t,s).then(E).catch(h):ts(t,s).then(E).catch(h)},"fetchIt"),oE=!1,cZ=r(function(t,s,h,S){t.queryStringParams&&(s=Rp(s,t.queryStringParams));var E=aE({},typeof t.customHeaders=="function"?t.customHeaders():t.customHeaders);typeof window>"u"&&typeof global<"u"&&typeof global.process<"u"&&global.process.versions&&global.process.versions.node&&(E["User-Agent"]="i18next-http-backend (node/".concat(global.process.version,"; ").concat(global.process.platform," ").concat(global.process.arch,")")),h&&(E["Content-Type"]="application/json");var n=typeof t.requestOptions=="function"?t.requestOptions(h):t.requestOptions,T=aE({method:h?"POST":"GET",body:h?t.stringify(h):void 0,headers:E},oE?{}:n),i=typeof t.alternateFetch=="function"&&t.alternateFetch.length>=1?t.alternateFetch:void 0;try{hE(s,T,S,i)}catch(f){if(!n||Object.keys(n).length===0||!f.message||f.message.indexOf("not implemented")<0)return S(f);try{Object.keys(n).forEach(function(y){delete T[y]}),hE(s,T,S,i),oE=!0}catch(y){S(y)}}},"requestWithFetch"),vZ=r(function(t,s,h,S){h&&br(h)==="object"&&(h=Rp("",h).slice(1)),t.queryStringParams&&(s=Rp(s,t.queryStringParams));try{var E;Do?E=new Do:E=new Cd("MSXML2.XMLHTTP.3.0"),E.open(h?"POST":"GET",s,1),t.crossDomain||E.setRequestHeader("X-Requested-With","XMLHttpRequest"),E.withCredentials=!!t.withCredentials,h&&E.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),E.overrideMimeType&&E.overrideMimeType("application/json");var n=t.customHeaders;if(n=typeof n=="function"?n():n,n)for(var T in n)E.setRequestHeader(T,n[T]);E.onreadystatechange=function(){E.readyState>3&&S(E.status>=400?E.statusText:null,{status:E.status,data:E.responseText})},E.send(h)}catch(i){console&&console.log(i)}},"requestWithXmlHttpRequest"),pZ=r(function(t,s,h,S){if(typeof h=="function"&&(S=h,h=void 0),S=S||function(){},ts&&s.indexOf("file:")!==0)return cZ(t,s,h,S);if(GA()||typeof ActiveXObject=="function")return vZ(t,s,h,S);S(new Error("No fetch and no xhr implementation found!"))},"request");function za(e){"@babel/helpers - typeof";return za=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},za(e)}r(za,"_typeof");function lE(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var h=Object.getOwnPropertySymbols(e);t&&(h=h.filter(function(S){return Object.getOwnPropertyDescriptor(e,S).enumerable})),s.push.apply(s,h)}return s}r(lE,"ownKeys");function Yc(e){for(var t=1;t<arguments.length;t++){var s=arguments[t]!=null?arguments[t]:{};t%2?lE(Object(s),!0).forEach(function(h){VA(e,h,s[h])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):lE(Object(s)).forEach(function(h){Object.defineProperty(e,h,Object.getOwnPropertyDescriptor(s,h))})}return e}r(Yc,"_objectSpread");function gZ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}r(gZ,"_classCallCheck");function mZ(e,t){for(var s=0;s<t.length;s++){var h=t[s];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(e,WA(h.key),h)}}r(mZ,"_defineProperties");function xZ(e,t,s){return t&&mZ(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}r(xZ,"_createClass");function VA(e,t,s){return t=WA(t),t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}r(VA,"_defineProperty");function WA(e){var t=yZ(e,"string");return za(t)=="symbol"?t:t+""}r(WA,"_toPropertyKey");function yZ(e,t){if(za(e)!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var h=s.call(e,t||"default");if(za(h)!="object")return h;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}r(yZ,"_toPrimitive");var SZ=r(function(){return{loadPath:"/locales/{{lng}}/{{ns}}.json",addPath:"/locales/add/{{lng}}/{{ns}}",parse:r(function(s){return JSON.parse(s)},"parse"),stringify:JSON.stringify,parsePayload:r(function(s,h,S){return VA({},h,S||"")},"parsePayload"),parseLoadPayload:r(function(s,h){},"parseLoadPayload"),request:pZ,reloadInterval:typeof window<"u"?!1:60*60*1e3,customHeaders:{},queryStringParams:{},crossDomain:!1,withCredentials:!1,overrideMimeType:!1,requestOptions:{mode:"cors",credentials:"same-origin",cache:"default"}}},"getDefaults"),zA=function(){function e(t){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},h=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};gZ(this,e),this.services=t,this.options=s,this.allOptions=h,this.type="backend",this.init(t,s,h)}return r(e,"Backend"),xZ(e,[{key:"init",value:r(function(s){var h=this,S=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},E=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(this.services=s,this.options=Yc(Yc(Yc({},SZ()),this.options||{}),S),this.allOptions=E,this.services&&this.options.reloadInterval){var n=setInterval(function(){return h.reload()},this.options.reloadInterval);za(n)==="object"&&typeof n.unref=="function"&&n.unref()}},"init")},{key:"readMulti",value:r(function(s,h,S){this._readAny(s,s,h,h,S)},"readMulti")},{key:"read",value:r(function(s,h,S){this._readAny([s],s,[h],h,S)},"read")},{key:"_readAny",value:r(function(s,h,S,E,n){var T=this,i=this.options.loadPath;typeof this.options.loadPath=="function"&&(i=this.options.loadPath(s,S)),i=hZ(i),i.then(function(f){if(!f)return n(null,{});var y=T.services.interpolator.interpolate(f,{lng:s.join("+"),ns:S.join("+")});T.loadUrl(y,n,h,E)})},"_readAny")},{key:"loadUrl",value:r(function(s,h,S,E){var n=this,T=typeof S=="string"?[S]:S,i=typeof E=="string"?[E]:E,f=this.options.parseLoadPayload(T,i);this.options.request(this.options,s,f,function(y,c){if(c&&(c.status>=500&&c.status<600||!c.status))return h("failed loading "+s+"; status code: "+c.status,!0);if(c&&c.status>=400&&c.status<500)return h("failed loading "+s+"; status code: "+c.status,!1);if(!c&&y&&y.message&&y.message.indexOf("Failed to fetch")>-1)return h("failed loading "+s+": "+y.message,!0);if(y)return h(y,!1);var o,l;try{typeof c.data=="string"?o=n.options.parse(c.data,S,E):o=c.data}catch{l="failed parsing "+s+" to json"}if(l)return h(l,!1);h(null,o)})},"loadUrl")},{key:"create",value:r(function(s,h,S,E,n){var T=this;if(this.options.addPath){typeof s=="string"&&(s=[s]);var i=this.options.parsePayload(h,S,E),f=0,y=[],c=[];s.forEach(function(o){var l=T.options.addPath;typeof T.options.addPath=="function"&&(l=T.options.addPath(o,h));var a=T.services.interpolator.interpolate(l,{lng:o,ns:h});T.options.request(T.options,a,i,function(u,v){f+=1,y.push(u),c.push(v),f===s.length&&typeof n=="function"&&n(y,c)})})}},"create")},{key:"reload",value:r(function(){var s=this,h=this.services,S=h.backendConnector,E=h.languageUtils,n=h.logger,T=S.language;if(!(T&&T.toLowerCase()==="cimode")){var i=[],f=r(function(c){var o=E.toResolveHierarchy(c);o.forEach(function(l){i.indexOf(l)<0&&i.push(l)})},"append");f(T),this.allOptions.preload&&this.allOptions.preload.forEach(function(y){return f(y)}),i.forEach(function(y){s.allOptions.ns.forEach(function(c){S.read(y,c,"read",null,null,function(o,l){o&&n.warn("loading namespace ".concat(c," for language ").concat(y," failed"),o),!o&&l&&n.log("loaded namespace ".concat(c," for language ").concat(y),l),S.loaded("".concat(y,"|").concat(c),o,l)})})})}},"reload")}])}();zA.type="backend";var bg={},qd={};Object.defineProperty(qd,"__esModule",{value:!0});qd.PostPositionMap=void 0;var TZ=[["",""],["",""],["",""],["",""],["",""],["",""]],Ap={};qd.PostPositionMap=Ap;for(var kc=0,uE=TZ;kc<uE.length;kc++){var lu=uE[kc];Ap[lu[0]]=lu,Ap[lu[1]]=lu}var Ig={};Object.defineProperty(Ig,"__esModule",{value:!0});function CZ(e){var t=e.charCodeAt(e.length-1);if(t>=44032&&t<=55203){var s=(t-44032)%28;return s!==0}}r(CZ,"TestHangul");Ig.default=CZ;var Fg={};Object.defineProperty(Fg,"__esModule",{value:!0});function EZ(e){switch(e[e.length-1]){case"1":case"3":case"6":case"7":case"8":return!0;case"2":case"4":case"5":case"9":return!1;case"0":break;default:return}return PZ(e)}r(EZ,"TestNumber");Fg.default=EZ;function PZ(e){for(var t=e.length-1,s=!0,h=0;t>0;t--){var S=e[t];if(S===".")return!0;if(s)if(S==="0")h++;else{if(S===",")continue;s=!1}}return RZ(h)}r(PZ,"TestNumberEndsWithZero");function RZ(e){var t=[12,20,24,32,44];return!(t.indexOf(e)!==-1||e>=52)}r(RZ,"TestLargeNumberPostfix");var Dg={};Object.defineProperty(Dg,"__esModule",{value:!0});var AZ=[12387,12435,12483,12531,110877,110878,65437],LZ=[[12353,12438],[12448,12538],[110592,110876],[12784,12799],[65382,65436],[12441,12447]];function OZ(e){var t=e.charCodeAt(e.length-1);if(t===65438||t===65439)return null;if(AZ.indexOf(t)!==-1)return!0;for(var s=0,h=LZ;s<h.length;s++){var S=h[s];if(t>=S[0]&&t<=S[1])return!1}}r(OZ,"TestKana");Dg.default=OZ;var Bg={};Object.defineProperty(Bg,"__esModule",{value:!0});function wZ(e){for(var t=[],s=e.length-1;s>0;s--){var h=e[s];if(h===")")t.push(s);else if(h==="(")t.pop();else if(t.length===0)return e.substring(0,s+1)}return e.substr(0,t[t.length-1])}r(wZ,"ParenthesisModifier");Bg.default=wZ;(function(e){var t=bi&&bi.__spreadArrays||function(){for(var y=0,c=0,o=arguments.length;c<o;c++)y+=arguments[c].length;for(var l=Array(y),a=0,c=0;c<o;c++)for(var u=arguments[c],v=0,d=u.length;v<d;v++,a++)l[a]=u[v];return l},s=bi&&bi.__importDefault||function(y){return y&&y.__esModule?y:{default:y}};Object.defineProperty(e,"__esModule",{value:!0}),e.KoreanPostpositionProcessor=e.default_modifiers=e.default_testers=void 0;var h=qd,S=s(Ig),E=s(Fg),n=s(Dg),T=s(Bg);e.default_testers=[S.default,E.default,n.default],e.default_modifiers=[T.default];var i=function(){function y(c){var o=e.default_modifiers,l=e.default_testers;c!==void 0&&(c.modifiers&&(o=c.modifiers),c.testers&&(l=c.testers)),this.modifiers=t(o),this.testers=t(l)}return r(y,"KoreanPostpositionProcessor"),Object.defineProperty(y.prototype,"name",{get:r(function(){return"korean-postposition"},"get"),enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"type",{get:r(function(){return"postProcessor"},"get"),enumerable:!1,configurable:!0}),y.prototype.process=function(c){var o=/\[\[(?:||||||(?:)||||(?:)|)\]\]/g,l=0,a=[];do{var u=o.exec(c);if(u===null)break;var v=c.substring(l,u.index);a.push(v);var d=u[0].replace("[[","").replace("]]",""),p=this.runTests(v,d);a.push(h.PostPositionMap[d][p?0:1]),l=u.index+u[0].length}while(!0);return l!==c.length&&a.push(c.substring(l)),a.join("")},y.prototype.runTests=function(c,o){c=this.applyModifiers(c);for(var l=h.PostPositionMap[o].indexOf(o)===0,a=0,u=this.testers;a<u.length;a++){var v=u[a],d=v(c);if(d!==void 0){d!==null&&(l=d);break}}return l},y.prototype.applyModifiers=function(c){for(var o=0,l=this.modifiers;o<l.length;o++){var a=l[o];c=a(c)}return c},y}();e.KoreanPostpositionProcessor=i;var f=new i;e.default=f})(bg);const MZ=Od(bg);let Lp=!1;const fi={fullwidth:"U+FF00-FFEF",hangul:"U+1100-11FF,U+3130-318F,U+A960-A97F,U+AC00-D7AF,U+D7B0-D7FF",kana:"U+3040-30FF",CJKCommon:"U+2E80-2EFF,U+3000-303F,U+31C0-31EF,U+3200-32FF,U+3400-4DBF,U+F900-FAFF,U+FE30-FE4F",CJKIdeograph:"U+4E00-9FFF",specialCharacters:"U+266A,U+2605,U+2665,U+2663"},cn={korean:[fi.CJKCommon,fi.hangul].join(","),chinese:[fi.CJKCommon,fi.fullwidth,fi.CJKIdeograph].join(","),japanese:[fi.CJKCommon,fi.fullwidth,fi.kana,fi.CJKIdeograph].join(",")},bZ=[{face:new FontFace("emerald","url(./fonts/PokePT_Wansung.woff2)",{unicodeRange:fi.specialCharacters})},{face:new FontFace("pkmnems","url(./fonts/PokePT_Wansung.woff2)",{unicodeRange:fi.specialCharacters}),extraOptions:{sizeAdjust:"133%"}},{face:new FontFace("emerald","url(./fonts/PokePT_Wansung.woff2)",{unicodeRange:cn.korean})},{face:new FontFace("pkmnems","url(./fonts/PokePT_Wansung.woff2)",{unicodeRange:cn.korean}),extraOptions:{sizeAdjust:"133%"}},{face:new FontFace("emerald","url(./fonts/unifont-15.1.05.subset.woff2)",{unicodeRange:cn.chinese}),extraOptions:{sizeAdjust:"70%",format:"woff2"},only:["en","es","fr","it","de","zh","pt","ko","ca"]},{face:new FontFace("pkmnems","url(./fonts/unifont-15.1.05.subset.woff2)",{unicodeRange:cn.chinese}),extraOptions:{format:"woff2"},only:["en","es","fr","it","de","zh","pt","ko","ca"]},{face:new FontFace("emerald","url(./fonts/Galmuri11.subset.woff2)",{unicodeRange:cn.japanese}),extraOptions:{sizeAdjust:"66%"},only:["ja"]},{face:new FontFace("pkmnems","url(./fonts/Galmuri9.subset.woff2)",{unicodeRange:cn.japanese}),only:["ja"]}],dE={titles:"trainer-titles",moveTriggers:"move-trigger",abilityTriggers:"ability-trigger",battlePokemonForm:"pokemon-form-battle",miscDialogue:"dialogue-misc",battleSpecDialogue:"dialogue-final-boss",doubleBattleDialogue:"dialogue-double-battle",splashMessages:"splash-texts",mysteryEncounterMessages:"mystery-encounter-texts"};async function IZ(e){var s;const t=await Promise.allSettled(bZ.filter(h=>!h.only||h.only.some(S=>(e==null?void 0:e.indexOf(S))===0)).map(h=>Object.assign(h.face,h.extraOptions??{}).load()));for(const h of t)h.status==="fulfilled"?(s=document.fonts)==null||s.add(h.value):console.error(h.reason)}r(IZ,"initFonts");function FZ(e){return isNaN(Number(e))&&console.warn(`i18nMoneyFormatter: value "${e}" is not a number!`),`@[MONEY]{${Bt.t("common:money",{amount:e})}}`}r(FZ,"i18nMoneyFormatter");async function DZ(){Lp||(Lp=!0,Bt.use(zA),Bt.use(BA),Bt.use(MZ),Bt.use(new bg.KoreanPostpositionProcessor),await Bt.init({fallbackLng:"en",supportedLngs:["en","es-ES","fr","it","de","zh-CN","zh-TW","pt-BR","ko","ja","ca-ES"],backend:{loadPath(e,[t]){let s;return dE[t]?s=dE[t]:t.startsWith("mysteryEncounters/")?s=q1(t+"Dialogue"):s=q1(t),`./locales/${e}/${s}.json?v=${eL.version}`}},defaultNS:"menu",ns:["ability","abilityTriggers","arenaFlyout","arenaTag","battle","battleScene","battleInfo","battleMessageUiHandler","battlePokemonForm","battlerTags","berry","bgmName","biome","challenges","commandUiHandler","common","achv","dialogue","battleSpecDialogue","miscDialogue","doubleBattleDialogue","egg","fightUiHandler","filterBar","gameMode","gameStatsUiHandler","growth","menu","menuUiHandler","modifier","modifierType","move","nature","pokeball","pokemon","pokemonForm","pokemonInfo","pokemonInfoContainer","pokemonSummary","saveSlotSelectUiHandler","settings","splashMessages","starterSelectUiHandler","statusEffect","terrain","titles","trainerClasses","trainerNames","tutorial","voucher","weather","partyUiHandler","modifierSelectUiHandler","moveTriggers","runHistory","mysteryEncounters/mysteriousChallengers","mysteryEncounters/mysteriousChest","mysteryEncounters/darkDeal","mysteryEncounters/fightOrFlight","mysteryEncounters/slumberingSnorlax","mysteryEncounters/trainingSession","mysteryEncounters/departmentStoreSale","mysteryEncounters/shadyVitaminDealer","mysteryEncounters/fieldTrip","mysteryEncounters/safariZone","mysteryEncounters/lostAtSea","mysteryEncounters/fieryFallout","mysteryEncounters/theStrongStuff","mysteryEncounters/thePokemonSalesman","mysteryEncounters/anOfferYouCantRefuse","mysteryEncounters/delibirdy","mysteryEncounters/absoluteAvarice","mysteryEncounters/aTrainersTest","mysteryEncounters/trashToTreasure","mysteryEncounters/berriesAbound","mysteryEncounters/clowningAround","mysteryEncounters/partTimer","mysteryEncounters/dancingLessons","mysteryEncounters/weirdDream","mysteryEncounters/theWinstrateChallenge","mysteryEncounters/teleportingHijinks","mysteryEncounters/bugTypeSuperfan","mysteryEncounters/funAndGames","mysteryEncounters/uncommonBreed","mysteryEncounters/globalTradeSystem","mysteryEncounters/theExpertPokemonBreeder","mysteryEncounterMessages"],detection:{lookupLocalStorage:"prLang"},debug:!1,interpolation:{escapeValue:!1},postProcess:["korean-postposition"]}),Bt.services.formatter&&Bt.services.formatter.add("money",FZ),await IZ(localStorage.getItem("prLang")??void 0))}r(DZ,"initI18n");function wJ(){return Lp}r(wJ,"getIsInitialized");window.onerror=function(e,t,s,h,S){return console.error(S),!0};window.addEventListener("unhandledrejection",e=>{console.error(e.reason)});const Ja=r(function(e,t,s){const h=e.width*(-.5+(.5-e.originX)),S=e.height*(-.5+(.5-e.originY));this.setPosition(e.x+h+t,e.y+S+s)},"setPositionRelative");Qi.GameObjects.Container.prototype.setPositionRelative=Ja;Qi.GameObjects.Sprite.prototype.setPositionRelative=Ja;Qi.GameObjects.Image.prototype.setPositionRelative=Ja;Qi.GameObjects.NineSlice.prototype.setPositionRelative=Ja;Qi.GameObjects.Text.prototype.setPositionRelative=Ja;Qi.GameObjects.Rectangle.prototype.setPositionRelative=Ja;document.fonts.load("16px emerald").then(()=>document.fonts.load("10px pkmnems"));let Hc;const fE=r(async e=>{await DZ();const t=(await Ky(async()=>{const{LoadingScene:h}=await import("./loading-scene-C7evu5pv.js").then(S=>S.l);return{LoadingScene:h}},[])).LoadingScene,s=(await Ky(async()=>{const{default:h}=await import("./loading-scene-C7evu5pv.js").then(S=>S.b);return{default:h}},[])).default;Hc=new Qi.Game({type:Qi.WEBGL,parent:"app",scale:{width:1920,height:1080,mode:Qi.Scale.FIT},plugins:{global:[{key:"rexInputTextPlugin",plugin:sp,start:!0},{key:"rexBBCodeTextPlugin",plugin:ip,start:!0},{key:"rexTransitionImagePackPlugin",plugin:rp,start:!0}],scene:[{key:"rexUI",plugin:pd,mapping:"rexUI"}]},input:{mouse:{target:"app"},touch:{target:"app"},gamepad:!0},dom:{createContainer:!0},pixelArt:!0,pipeline:[Xc],scene:[t,s],version:pE}),Hc.sound.pauseOnBlur=!1,e&&(Hc.manifest=e)},"startGame");fetch("/manifest.json").then(e=>e.json()).then(e=>{fE(e.manifest)}).catch(()=>{fE()});var Op=(e=>(e[e.UP=0]="UP",e[e.DOWN=1]="DOWN",e[e.LEFT=2]="LEFT",e[e.RIGHT=3]="RIGHT",e[e.SUBMIT=4]="SUBMIT",e[e.ACTION=5]="ACTION",e[e.CANCEL=6]="CANCEL",e[e.MENU=7]="MENU",e[e.STATS=8]="STATS",e[e.CYCLE_SHINY=9]="CYCLE_SHINY",e[e.CYCLE_FORM=10]="CYCLE_FORM",e[e.CYCLE_GENDER=11]="CYCLE_GENDER",e[e.CYCLE_ABILITY=12]="CYCLE_ABILITY",e[e.CYCLE_NATURE=13]="CYCLE_NATURE",e[e.V=14]="V",e[e.SPEED_UP=15]="SPEED_UP",e[e.SLOW_DOWN=16]="SLOW_DOWN",e))(Op||{});const BZ=250,Xy=class Xy{constructor(t){this.buttonLock=new Array,this.inputInterval=new Array,this.disabled=!1,this.finishedLastTouch=!1,this.events=t.game.events,this.init()}disable(){this.disabled=!0,this.finishedLastTouch=!1}enable(){this.disabled=!1,this.finishedLastTouch=!1}init(){this.preventElementZoom(document.querySelector("#dpad")),document.querySelectorAll(".apad-button").forEach(t=>this.preventElementZoom(t));for(const t of document.querySelectorAll("[data-key]"))this.bindKey(t,t.dataset.key)}bindKey(t,s){t.addEventListener("touchstart",h=>{h.preventDefault(),this.touchButtonDown(t,s)}),t.addEventListener("touchend",h=>{var S;h.preventDefault(),this.touchButtonUp(t,s,(S=h.target)==null?void 0:S.id)})}touchButtonDown(t,s){this.buttonLock.includes(s)||this.simulateKeyboardEvent("keydown",s)&&(clearInterval(this.inputInterval[s]),this.inputInterval[s]=setInterval(()=>{this.simulateKeyboardEvent("keydown",s)||clearInterval(this.inputInterval[s])},BZ),this.buttonLock.push(s),t.classList.add("active"))}touchButtonUp(t,s,h){var E;if(!this.buttonLock.includes(s)||this.disabled&&this.finishedLastTouch)return;this.finishedLastTouch=!0,this.simulateKeyboardEvent("keyup",s),t.classList.remove("active"),(E=document.getElementById(h))==null||E.classList.remove("active");const S=this.buttonLock.indexOf(s);this.buttonLock.splice(S,1),clearInterval(this.inputInterval[s])}simulateKeyboardEvent(t,s){if(console.log("simulateKeyboardEvent",t,s),!Op.hasOwnProperty(s)||this.disabled)return!1;const h=Op[s];switch(t){case"keydown":this.events.emit("input_down",{controller_type:"keyboard",button:h,isTouch:!0});break;case"keyup":this.events.emit("input_up",{controller_type:"keyboard",button:h,isTouch:!0});break}return!0}preventElementZoom(t){t&&t.addEventListener("touchstart",s=>{if(!(s.currentTarget instanceof HTMLElement))return;const h=s.timeStamp,S=Number(s.currentTarget.dataset.lastTouchTimeStamp)||h,E=h-S,n=s.touches.length;s.currentTarget.dataset.lastTouchTimeStamp=String(h),!(!E||E>500||n>1)&&(s.preventDefault(),s.target instanceof HTMLElement&&s.target.click())})}deactivatePressedKey(){for(const t of Object.keys(this.inputInterval))clearInterval(this.inputInterval[t]);for(const t of document.querySelectorAll("[data-key]"))t.classList.remove("active");this.buttonLock=[]}};r(Xy,"TouchControl");let cE=Xy;function MJ(){return window.matchMedia("(hover: none), (pointer: coarse)").matches}r(MJ,"hasTouchscreen");function bJ(){let e=!1;return function(t){(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(t)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(t.substr(0,4)))&&(e=!0)}(navigator.userAgent||navigator.vendor||window.opera),e}r(bJ,"isMobile");export{WZ as $,sJ as A,Is as B,gJ as C,rJ as D,iJ as E,XZ as F,DK as G,GK as H,as as I,eJ as J,NK as K,Dd as L,wA as M,Sp as N,ca as O,Qi as P,UK as Q,Ir as R,Q1 as S,CJ as T,PJ as U,qZ as V,VZ as W,bJ as X,yJ as Y,fJ as Z,lJ as _,BK as a,JZ as a0,pE as a1,FA as a2,oJ as a3,TJ as a4,Cp as a5,tJ as a6,zZ as a7,cE as a8,SJ as a9,cJ as aa,WK as ab,UZ as ac,Xc as ad,NZ as ae,bi as af,oZ as ag,xJ as ah,mJ as ai,vJ as aj,pJ as ak,LJ as al,OJ as am,uJ as an,zK as ao,$Z as b,QZ as c,Op as d,_Z as e,dJ as f,AJ as g,wJ as h,Bt as i,DZ as j,hJ as k,j1 as l,RJ as m,jZ as n,MJ as o,OA as p,kZ as q,ZZ as r,aJ as s,YZ as t,Tp as u,HZ as v,IA as w,KZ as x,EJ as y,nJ as z};
